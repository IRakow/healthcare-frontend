import{r as p,s as r,j as a,C as d}from"./index-rNJXb22Z.js";function u(){const[o,i]=p.useState([]);return p.useEffect(()=>{(async()=>{const e=r.auth.user(),{data:s}=await r.from("appointments").select("*").eq("provider_id",e.id).eq("status","pending"),{data:l}=await r.from("patient_timeline_events").select("*").eq("type","lab").order("created_at",{descending:!0}),c=l.filter(t=>{var n;return(n=t.data)==null?void 0:n.abnormal});i([...s.map(t=>({type:"appointment",...t})),...c.map(t=>({type:"lab",...t}))])})()},[]),a.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"🔔 Provider Alerts"}),o.map((e,s)=>a.jsx(d,{title:e.type==="appointment"?`📅 New Appt: ${e.date}`:"⚠️ Flagged Lab",children:a.jsx("p",{className:"text-sm",children:e.reason||e.label})},s))]})}export{u as default};
