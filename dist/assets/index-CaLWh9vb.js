var P5=Object.defineProperty;var UT=er=>{throw TypeError(er)};var N5=(er,St,tr)=>St in er?P5(er,St,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[St]=tr;var ps=(er,St,tr)=>N5(er,typeof St!="symbol"?St+"":St,tr),PC=(er,St,tr)=>St.has(er)||UT("Cannot "+tr);var br=(er,St,tr)=>(PC(er,St,"read from private field"),tr?tr.call(er):St.get(er)),sn=(er,St,tr)=>St.has(er)?UT("Cannot add the same private member more than once"):St instanceof WeakSet?St.add(er):St.set(er,tr),Jr=(er,St,tr,rr)=>(PC(er,St,"write to private field"),rr?rr.call(er,tr):St.set(er,tr),tr),an=(er,St,tr)=>(PC(er,St,"access private method"),tr);var _f=(er,St,tr,rr)=>({set _(nr){Jr(er,St,nr,tr)},get _(){return br(er,St,rr)}});function _mergeNamespaces(er,St){for(var tr=0;tr<St.length;tr++){const rr=St[tr];if(typeof rr!="string"&&!Array.isArray(rr)){for(const nr in rr)if(nr!=="default"&&!(nr in er)){const sr=Object.getOwnPropertyDescriptor(rr,nr);sr&&Object.defineProperty(er,nr,sr.get?sr:{enumerable:!0,get:()=>rr[nr]})}}}return Object.freeze(Object.defineProperty(er,Symbol.toStringTag,{value:"Module"}))}(function(){const St=document.createElement("link").relList;if(St&&St.supports&&St.supports("modulepreload"))return;for(const nr of document.querySelectorAll('link[rel="modulepreload"]'))rr(nr);new MutationObserver(nr=>{for(const sr of nr)if(sr.type==="childList")for(const ir of sr.addedNodes)ir.tagName==="LINK"&&ir.rel==="modulepreload"&&rr(ir)}).observe(document,{childList:!0,subtree:!0});function tr(nr){const sr={};return nr.integrity&&(sr.integrity=nr.integrity),nr.referrerPolicy&&(sr.referrerPolicy=nr.referrerPolicy),nr.crossOrigin==="use-credentials"?sr.credentials="include":nr.crossOrigin==="anonymous"?sr.credentials="omit":sr.credentials="same-origin",sr}function rr(nr){if(nr.ep)return;nr.ep=!0;const sr=tr(nr);fetch(nr.href,sr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(er){return er&&er.__esModule&&Object.prototype.hasOwnProperty.call(er,"default")?er.default:er}function getAugmentedNamespace(er){if(er.__esModule)return er;var St=er.default;if(typeof St=="function"){var tr=function rr(){return this instanceof rr?Reflect.construct(St,arguments,this.constructor):St.apply(this,arguments)};tr.prototype=St.prototype}else tr={};return Object.defineProperty(tr,"__esModule",{value:!0}),Object.keys(er).forEach(function(rr){var nr=Object.getOwnPropertyDescriptor(er,rr);Object.defineProperty(tr,rr,nr.get?nr:{enumerable:!0,get:function(){return er[rr]}})}),tr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$9=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$7=Symbol.for("react.suspense"),x$7=Symbol.for("react.memo"),y$8=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$5(er){return er===null||typeof er!="object"?null:(er=z$4&&er[z$4]||er["@@iterator"],typeof er=="function"?er:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$7=Object.assign,D$4={};function E$4(er,St,tr){this.props=er,this.context=St,this.refs=D$4,this.updater=tr||B$3}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(er,St){if(typeof er!="object"&&typeof er!="function"&&er!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,er,St,"setState")};E$4.prototype.forceUpdate=function(er){this.updater.enqueueForceUpdate(this,er,"forceUpdate")};function F$4(){}F$4.prototype=E$4.prototype;function G$3(er,St,tr){this.props=er,this.context=St,this.refs=D$4,this.updater=tr||B$3}var H$7=G$3.prototype=new F$4;H$7.constructor=G$3;C$7(H$7,E$4.prototype);H$7.isPureReactComponent=!0;var I$6=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$5(er,St,tr){var rr,nr={},sr=null,ir=null;if(St!=null)for(rr in St.ref!==void 0&&(ir=St.ref),St.key!==void 0&&(sr=""+St.key),St)J$2.call(St,rr)&&!L$5.hasOwnProperty(rr)&&(nr[rr]=St[rr]);var ar=arguments.length-2;if(ar===1)nr.children=tr;else if(1<ar){for(var or=Array(ar),lr=0;lr<ar;lr++)or[lr]=arguments[lr+2];nr.children=or}if(er&&er.defaultProps)for(rr in ar=er.defaultProps,ar)nr[rr]===void 0&&(nr[rr]=ar[rr]);return{$$typeof:l$6,type:er,key:sr,ref:ir,props:nr,_owner:K$3.current}}function N$2(er,St){return{$$typeof:l$6,type:er.type,key:St,ref:er.ref,props:er.props,_owner:er._owner}}function O$5(er){return typeof er=="object"&&er!==null&&er.$$typeof===l$6}function escape$1(er){var St={"=":"=0",":":"=2"};return"$"+er.replace(/[=:]/g,function(tr){return St[tr]})}var P$6=/\/+/g;function Q$2(er,St){return typeof er=="object"&&er!==null&&er.key!=null?escape$1(""+er.key):St.toString(36)}function R$3(er,St,tr,rr,nr){var sr=typeof er;(sr==="undefined"||sr==="boolean")&&(er=null);var ir=!1;if(er===null)ir=!0;else switch(sr){case"string":case"number":ir=!0;break;case"object":switch(er.$$typeof){case l$6:case n$9:ir=!0}}if(ir)return ir=er,nr=nr(ir),er=rr===""?"."+Q$2(ir,0):rr,I$6(nr)?(tr="",er!=null&&(tr=er.replace(P$6,"$&/")+"/"),R$3(nr,St,tr,"",function(lr){return lr})):nr!=null&&(O$5(nr)&&(nr=N$2(nr,tr+(!nr.key||ir&&ir.key===nr.key?"":(""+nr.key).replace(P$6,"$&/")+"/")+er)),St.push(nr)),1;if(ir=0,rr=rr===""?".":rr+":",I$6(er))for(var ar=0;ar<er.length;ar++){sr=er[ar];var or=rr+Q$2(sr,ar);ir+=R$3(sr,St,tr,or,nr)}else if(or=A$5(er),typeof or=="function")for(er=or.call(er),ar=0;!(sr=er.next()).done;)sr=sr.value,or=rr+Q$2(sr,ar++),ir+=R$3(sr,St,tr,or,nr);else if(sr==="object")throw St=String(er),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.");return ir}function S$6(er,St,tr){if(er==null)return er;var rr=[],nr=0;return R$3(er,rr,"","",function(sr){return St.call(tr,sr,nr++)}),rr}function T$6(er){if(er._status===-1){var St=er._result;St=St(),St.then(function(tr){(er._status===0||er._status===-1)&&(er._status=1,er._result=tr)},function(tr){(er._status===0||er._status===-1)&&(er._status=2,er._result=tr)}),er._status===-1&&(er._status=0,er._result=St)}if(er._status===1)return er._result.default;throw er._result}var U$5={current:null},V$3={transition:null},W$2={ReactCurrentDispatcher:U$5,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$5(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$6,forEach:function(er,St,tr){S$6(er,function(){St.apply(this,arguments)},tr)},count:function(er){var St=0;return S$6(er,function(){St++}),St},toArray:function(er){return S$6(er,function(St){return St})||[]},only:function(er){if(!O$5(er))throw Error("React.Children.only expected to receive a single React element child.");return er}};react_production_min.Component=E$4;react_production_min.Fragment=p$6;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$7;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$5;react_production_min.cloneElement=function(er,St,tr){if(er==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+er+".");var rr=C$7({},er.props),nr=er.key,sr=er.ref,ir=er._owner;if(St!=null){if(St.ref!==void 0&&(sr=St.ref,ir=K$3.current),St.key!==void 0&&(nr=""+St.key),er.type&&er.type.defaultProps)var ar=er.type.defaultProps;for(or in St)J$2.call(St,or)&&!L$5.hasOwnProperty(or)&&(rr[or]=St[or]===void 0&&ar!==void 0?ar[or]:St[or])}var or=arguments.length-2;if(or===1)rr.children=tr;else if(1<or){ar=Array(or);for(var lr=0;lr<or;lr++)ar[lr]=arguments[lr+2];rr.children=ar}return{$$typeof:l$6,type:er.type,key:nr,ref:sr,props:rr,_owner:ir}};react_production_min.createContext=function(er){return er={$$typeof:u$9,_currentValue:er,_currentValue2:er,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},er.Provider={$$typeof:t$5,_context:er},er.Consumer=er};react_production_min.createElement=M$5;react_production_min.createFactory=function(er){var St=M$5.bind(null,er);return St.type=er,St};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(er){return{$$typeof:v$3,render:er}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(er){return{$$typeof:y$8,_payload:{_status:-1,_result:er},_init:T$6}};react_production_min.memo=function(er,St){return{$$typeof:x$7,type:er,compare:St===void 0?null:St}};react_production_min.startTransition=function(er){var St=V$3.transition;V$3.transition={};try{er()}finally{V$3.transition=St}};react_production_min.unstable_act=X$5;react_production_min.useCallback=function(er,St){return U$5.current.useCallback(er,St)};react_production_min.useContext=function(er){return U$5.current.useContext(er)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(er){return U$5.current.useDeferredValue(er)};react_production_min.useEffect=function(er,St){return U$5.current.useEffect(er,St)};react_production_min.useId=function(){return U$5.current.useId()};react_production_min.useImperativeHandle=function(er,St,tr){return U$5.current.useImperativeHandle(er,St,tr)};react_production_min.useInsertionEffect=function(er,St){return U$5.current.useInsertionEffect(er,St)};react_production_min.useLayoutEffect=function(er,St){return U$5.current.useLayoutEffect(er,St)};react_production_min.useMemo=function(er,St){return U$5.current.useMemo(er,St)};react_production_min.useReducer=function(er,St,tr){return U$5.current.useReducer(er,St,tr)};react_production_min.useRef=function(er){return U$5.current.useRef(er)};react_production_min.useState=function(er){return U$5.current.useState(er)};react_production_min.useSyncExternalStore=function(er,St,tr){return U$5.current.useSyncExternalStore(er,St,tr)};react_production_min.useTransition=function(){return U$5.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$3=getDefaultExportFromCjs(reactExports),React$4=_mergeNamespaces({__proto__:null,default:React$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$5=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$8=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$2(er,St,tr){var rr,nr={},sr=null,ir=null;tr!==void 0&&(sr=""+tr),St.key!==void 0&&(sr=""+St.key),St.ref!==void 0&&(ir=St.ref);for(rr in St)m$6.call(St,rr)&&!p$5.hasOwnProperty(rr)&&(nr[rr]=St[rr]);if(er&&er.defaultProps)for(rr in St=er.defaultProps,St)nr[rr]===void 0&&(nr[rr]=St[rr]);return{$$typeof:k$5,type:er,key:sr,ref:ir,props:nr,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(er){function St(Tr,Fr){var Wr=Tr.length;Tr.push(Fr);e:for(;0<Wr;){var qr=Wr-1>>>1,Rr=Tr[qr];if(0<nr(Rr,Fr))Tr[qr]=Fr,Tr[Wr]=Rr,Wr=qr;else break e}}function tr(Tr){return Tr.length===0?null:Tr[0]}function rr(Tr){if(Tr.length===0)return null;var Fr=Tr[0],Wr=Tr.pop();if(Wr!==Fr){Tr[0]=Wr;e:for(var qr=0,Rr=Tr.length,Or=Rr>>>1;qr<Or;){var Hr=2*(qr+1)-1,zr=Tr[Hr],Zr=Hr+1,nn=Tr[Zr];if(0>nr(zr,Wr))Zr<Rr&&0>nr(nn,zr)?(Tr[qr]=nn,Tr[Zr]=Wr,qr=Zr):(Tr[qr]=zr,Tr[Hr]=Wr,qr=Hr);else if(Zr<Rr&&0>nr(nn,Wr))Tr[qr]=nn,Tr[Zr]=Wr,qr=Zr;else break e}}return Fr}function nr(Tr,Fr){var Wr=Tr.sortIndex-Fr.sortIndex;return Wr!==0?Wr:Tr.id-Fr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var sr=performance;er.unstable_now=function(){return sr.now()}}else{var ir=Date,ar=ir.now();er.unstable_now=function(){return ir.now()-ar}}var or=[],lr=[],cr=1,ur=null,dr=3,hr=!1,Ar=!1,fr=!1,mr=typeof setTimeout=="function"?setTimeout:null,pr=typeof clearTimeout=="function"?clearTimeout:null,gr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xr(Tr){for(var Fr=tr(lr);Fr!==null;){if(Fr.callback===null)rr(lr);else if(Fr.startTime<=Tr)rr(lr),Fr.sortIndex=Fr.expirationTime,St(or,Fr);else break;Fr=tr(lr)}}function yr(Tr){if(fr=!1,xr(Tr),!Ar)if(tr(or)!==null)Ar=!0,$r(Er);else{var Fr=tr(lr);Fr!==null&&Vr(yr,Fr.startTime-Tr)}}function Er(Tr,Fr){Ar=!1,fr&&(fr=!1,pr(jr),jr=-1),hr=!0;var Wr=dr;try{for(xr(Fr),ur=tr(or);ur!==null&&(!(ur.expirationTime>Fr)||Tr&&!Ir());){var qr=ur.callback;if(typeof qr=="function"){ur.callback=null,dr=ur.priorityLevel;var Rr=qr(ur.expirationTime<=Fr);Fr=er.unstable_now(),typeof Rr=="function"?ur.callback=Rr:ur===tr(or)&&rr(or),xr(Fr)}else rr(or);ur=tr(or)}if(ur!==null)var Or=!0;else{var Hr=tr(lr);Hr!==null&&Vr(yr,Hr.startTime-Fr),Or=!1}return Or}finally{ur=null,dr=Wr,hr=!1}}var _r=!1,Sr=null,jr=-1,Pr=5,Mr=-1;function Ir(){return!(er.unstable_now()-Mr<Pr)}function Lr(){if(Sr!==null){var Tr=er.unstable_now();Mr=Tr;var Fr=!0;try{Fr=Sr(!0,Tr)}finally{Fr?Qr():(_r=!1,Sr=null)}}else _r=!1}var Qr;if(typeof gr=="function")Qr=function(){gr(Lr)};else if(typeof MessageChannel<"u"){var Yr=new MessageChannel,Gr=Yr.port2;Yr.port1.onmessage=Lr,Qr=function(){Gr.postMessage(null)}}else Qr=function(){mr(Lr,0)};function $r(Tr){Sr=Tr,_r||(_r=!0,Qr())}function Vr(Tr,Fr){jr=mr(function(){Tr(er.unstable_now())},Fr)}er.unstable_IdlePriority=5,er.unstable_ImmediatePriority=1,er.unstable_LowPriority=4,er.unstable_NormalPriority=3,er.unstable_Profiling=null,er.unstable_UserBlockingPriority=2,er.unstable_cancelCallback=function(Tr){Tr.callback=null},er.unstable_continueExecution=function(){Ar||hr||(Ar=!0,$r(Er))},er.unstable_forceFrameRate=function(Tr){0>Tr||125<Tr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pr=0<Tr?Math.floor(1e3/Tr):5},er.unstable_getCurrentPriorityLevel=function(){return dr},er.unstable_getFirstCallbackNode=function(){return tr(or)},er.unstable_next=function(Tr){switch(dr){case 1:case 2:case 3:var Fr=3;break;default:Fr=dr}var Wr=dr;dr=Fr;try{return Tr()}finally{dr=Wr}},er.unstable_pauseExecution=function(){},er.unstable_requestPaint=function(){},er.unstable_runWithPriority=function(Tr,Fr){switch(Tr){case 1:case 2:case 3:case 4:case 5:break;default:Tr=3}var Wr=dr;dr=Tr;try{return Fr()}finally{dr=Wr}},er.unstable_scheduleCallback=function(Tr,Fr,Wr){var qr=er.unstable_now();switch(typeof Wr=="object"&&Wr!==null?(Wr=Wr.delay,Wr=typeof Wr=="number"&&0<Wr?qr+Wr:qr):Wr=qr,Tr){case 1:var Rr=-1;break;case 2:Rr=250;break;case 5:Rr=1073741823;break;case 4:Rr=1e4;break;default:Rr=5e3}return Rr=Wr+Rr,Tr={id:cr++,callback:Fr,priorityLevel:Tr,startTime:Wr,expirationTime:Rr,sortIndex:-1},Wr>qr?(Tr.sortIndex=Wr,St(lr,Tr),tr(or)===null&&Tr===tr(lr)&&(fr?(pr(jr),jr=-1):fr=!0,Vr(yr,Wr-qr))):(Tr.sortIndex=Rr,St(or,Tr),Ar||hr||(Ar=!0,$r(Er))),Tr},er.unstable_shouldYield=Ir,er.unstable_wrapCallback=function(Tr){var Fr=dr;return function(){var Wr=dr;dr=Fr;try{return Tr.apply(this,arguments)}finally{dr=Wr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(er){for(var St="https://reactjs.org/docs/error-decoder.html?invariant="+er,tr=1;tr<arguments.length;tr++)St+="&args[]="+encodeURIComponent(arguments[tr]);return"Minified React error #"+er+"; visit "+St+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(er,St){ha(er,St),ha(er+"Capture",St)}function ha(er,St){for(ea[er]=St,er=0;er<St.length;er++)da.add(St[er])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(er){return ja.call(ma,er)?!0:ja.call(la,er)?!1:ka$1.test(er)?ma[er]=!0:(la[er]=!0,!1)}function pa(er,St,tr,rr){if(tr!==null&&tr.type===0)return!1;switch(typeof St){case"function":case"symbol":return!0;case"boolean":return rr?!1:tr!==null?!tr.acceptsBooleans:(er=er.toLowerCase().slice(0,5),er!=="data-"&&er!=="aria-");default:return!1}}function qa(er,St,tr,rr){if(St===null||typeof St>"u"||pa(er,St,tr,rr))return!0;if(rr)return!1;if(tr!==null)switch(tr.type){case 3:return!St;case 4:return St===!1;case 5:return isNaN(St);case 6:return isNaN(St)||1>St}return!1}function v$2(er,St,tr,rr,nr,sr,ir){this.acceptsBooleans=St===2||St===3||St===4,this.attributeName=rr,this.attributeNamespace=nr,this.mustUseProperty=tr,this.propertyName=er,this.type=St,this.sanitizeURL=sr,this.removeEmptyString=ir}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(er){z$3[er]=new v$2(er,0,!1,er,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(er){var St=er[0];z$3[St]=new v$2(St,1,!1,er[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(er){z$3[er]=new v$2(er,2,!1,er.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(er){z$3[er]=new v$2(er,2,!1,er,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(er){z$3[er]=new v$2(er,3,!1,er.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(er){z$3[er]=new v$2(er,3,!0,er,null,!1,!1)});["capture","download"].forEach(function(er){z$3[er]=new v$2(er,4,!1,er,null,!1,!1)});["cols","rows","size","span"].forEach(function(er){z$3[er]=new v$2(er,6,!1,er,null,!1,!1)});["rowSpan","start"].forEach(function(er){z$3[er]=new v$2(er,5,!1,er.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(er){return er[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(er){var St=er.replace(ra,sa);z$3[St]=new v$2(St,1,!1,er,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(er){var St=er.replace(ra,sa);z$3[St]=new v$2(St,1,!1,er,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(er){var St=er.replace(ra,sa);z$3[St]=new v$2(St,1,!1,er,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(er){z$3[er]=new v$2(er,1,!1,er.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(er){z$3[er]=new v$2(er,1,!1,er.toLowerCase(),null,!0,!0)});function ta(er,St,tr,rr){var nr=z$3.hasOwnProperty(St)?z$3[St]:null;(nr!==null?nr.type!==0:rr||!(2<St.length)||St[0]!=="o"&&St[0]!=="O"||St[1]!=="n"&&St[1]!=="N")&&(qa(St,tr,nr,rr)&&(tr=null),rr||nr===null?oa(St)&&(tr===null?er.removeAttribute(St):er.setAttribute(St,""+tr)):nr.mustUseProperty?er[nr.propertyName]=tr===null?nr.type===3?!1:"":tr:(St=nr.attributeName,rr=nr.attributeNamespace,tr===null?er.removeAttribute(St):(nr=nr.type,tr=nr===3||nr===4&&tr===!0?"":""+tr,rr?er.setAttributeNS(rr,St,tr):er.setAttribute(St,tr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(er){return er===null||typeof er!="object"?null:(er=Ja&&er[Ja]||er["@@iterator"],typeof er=="function"?er:null)}var A$4=Object.assign,La;function Ma(er){if(La===void 0)try{throw Error()}catch(tr){var St=tr.stack.trim().match(/\n( *(at )?)/);La=St&&St[1]||""}return`
`+La+er}var Na=!1;function Oa(er,St){if(!er||Na)return"";Na=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(St)if(St=function(){throw Error()},Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(lr){var rr=lr}Reflect.construct(er,[],St)}else{try{St.call()}catch(lr){rr=lr}er.call(St.prototype)}else{try{throw Error()}catch(lr){rr=lr}er()}}catch(lr){if(lr&&rr&&typeof lr.stack=="string"){for(var nr=lr.stack.split(`
`),sr=rr.stack.split(`
`),ir=nr.length-1,ar=sr.length-1;1<=ir&&0<=ar&&nr[ir]!==sr[ar];)ar--;for(;1<=ir&&0<=ar;ir--,ar--)if(nr[ir]!==sr[ar]){if(ir!==1||ar!==1)do if(ir--,ar--,0>ar||nr[ir]!==sr[ar]){var or=`
`+nr[ir].replace(" at new "," at ");return er.displayName&&or.includes("<anonymous>")&&(or=or.replace("<anonymous>",er.displayName)),or}while(1<=ir&&0<=ar);break}}}finally{Na=!1,Error.prepareStackTrace=tr}return(er=er?er.displayName||er.name:"")?Ma(er):""}function Pa(er){switch(er.tag){case 5:return Ma(er.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return er=Oa(er.type,!1),er;case 11:return er=Oa(er.type.render,!1),er;case 1:return er=Oa(er.type,!0),er;default:return""}}function Qa(er){if(er==null)return null;if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er;switch(er){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof er=="object")switch(er.$$typeof){case Ca:return(er.displayName||"Context")+".Consumer";case Ba:return(er._context.displayName||"Context")+".Provider";case Da:var St=er.render;return er=er.displayName,er||(er=St.displayName||St.name||"",er=er!==""?"ForwardRef("+er+")":"ForwardRef"),er;case Ga:return St=er.displayName||null,St!==null?St:Qa(er.type)||"Memo";case Ha:St=er._payload,er=er._init;try{return Qa(er(St))}catch{}}return null}function Ra(er){var St=er.type;switch(er.tag){case 24:return"Cache";case 9:return(St.displayName||"Context")+".Consumer";case 10:return(St._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return er=St.render,er=er.displayName||er.name||"",St.displayName||(er!==""?"ForwardRef("+er+")":"ForwardRef");case 7:return"Fragment";case 5:return St;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(St);case 8:return St===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St}return null}function Sa(er){switch(typeof er){case"boolean":case"number":case"string":case"undefined":return er;case"object":return er;default:return""}}function Ta(er){var St=er.type;return(er=er.nodeName)&&er.toLowerCase()==="input"&&(St==="checkbox"||St==="radio")}function Ua(er){var St=Ta(er)?"checked":"value",tr=Object.getOwnPropertyDescriptor(er.constructor.prototype,St),rr=""+er[St];if(!er.hasOwnProperty(St)&&typeof tr<"u"&&typeof tr.get=="function"&&typeof tr.set=="function"){var nr=tr.get,sr=tr.set;return Object.defineProperty(er,St,{configurable:!0,get:function(){return nr.call(this)},set:function(ir){rr=""+ir,sr.call(this,ir)}}),Object.defineProperty(er,St,{enumerable:tr.enumerable}),{getValue:function(){return rr},setValue:function(ir){rr=""+ir},stopTracking:function(){er._valueTracker=null,delete er[St]}}}}function Va(er){er._valueTracker||(er._valueTracker=Ua(er))}function Wa(er){if(!er)return!1;var St=er._valueTracker;if(!St)return!0;var tr=St.getValue(),rr="";return er&&(rr=Ta(er)?er.checked?"true":"false":er.value),er=rr,er!==tr?(St.setValue(er),!0):!1}function Xa(er){if(er=er||(typeof document<"u"?document:void 0),typeof er>"u")return null;try{return er.activeElement||er.body}catch{return er.body}}function Ya(er,St){var tr=St.checked;return A$4({},St,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tr??er._wrapperState.initialChecked})}function Za(er,St){var tr=St.defaultValue==null?"":St.defaultValue,rr=St.checked!=null?St.checked:St.defaultChecked;tr=Sa(St.value!=null?St.value:tr),er._wrapperState={initialChecked:rr,initialValue:tr,controlled:St.type==="checkbox"||St.type==="radio"?St.checked!=null:St.value!=null}}function ab(er,St){St=St.checked,St!=null&&ta(er,"checked",St,!1)}function bb(er,St){ab(er,St);var tr=Sa(St.value),rr=St.type;if(tr!=null)rr==="number"?(tr===0&&er.value===""||er.value!=tr)&&(er.value=""+tr):er.value!==""+tr&&(er.value=""+tr);else if(rr==="submit"||rr==="reset"){er.removeAttribute("value");return}St.hasOwnProperty("value")?cb(er,St.type,tr):St.hasOwnProperty("defaultValue")&&cb(er,St.type,Sa(St.defaultValue)),St.checked==null&&St.defaultChecked!=null&&(er.defaultChecked=!!St.defaultChecked)}function db(er,St,tr){if(St.hasOwnProperty("value")||St.hasOwnProperty("defaultValue")){var rr=St.type;if(!(rr!=="submit"&&rr!=="reset"||St.value!==void 0&&St.value!==null))return;St=""+er._wrapperState.initialValue,tr||St===er.value||(er.value=St),er.defaultValue=St}tr=er.name,tr!==""&&(er.name=""),er.defaultChecked=!!er._wrapperState.initialChecked,tr!==""&&(er.name=tr)}function cb(er,St,tr){(St!=="number"||Xa(er.ownerDocument)!==er)&&(tr==null?er.defaultValue=""+er._wrapperState.initialValue:er.defaultValue!==""+tr&&(er.defaultValue=""+tr))}var eb=Array.isArray;function fb(er,St,tr,rr){if(er=er.options,St){St={};for(var nr=0;nr<tr.length;nr++)St["$"+tr[nr]]=!0;for(tr=0;tr<er.length;tr++)nr=St.hasOwnProperty("$"+er[tr].value),er[tr].selected!==nr&&(er[tr].selected=nr),nr&&rr&&(er[tr].defaultSelected=!0)}else{for(tr=""+Sa(tr),St=null,nr=0;nr<er.length;nr++){if(er[nr].value===tr){er[nr].selected=!0,rr&&(er[nr].defaultSelected=!0);return}St!==null||er[nr].disabled||(St=er[nr])}St!==null&&(St.selected=!0)}}function gb(er,St){if(St.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$4({},St,{value:void 0,defaultValue:void 0,children:""+er._wrapperState.initialValue})}function hb(er,St){var tr=St.value;if(tr==null){if(tr=St.children,St=St.defaultValue,tr!=null){if(St!=null)throw Error(p$4(92));if(eb(tr)){if(1<tr.length)throw Error(p$4(93));tr=tr[0]}St=tr}St==null&&(St=""),tr=St}er._wrapperState={initialValue:Sa(tr)}}function ib(er,St){var tr=Sa(St.value),rr=Sa(St.defaultValue);tr!=null&&(tr=""+tr,tr!==er.value&&(er.value=tr),St.defaultValue==null&&er.defaultValue!==tr&&(er.defaultValue=tr)),rr!=null&&(er.defaultValue=""+rr)}function jb(er){var St=er.textContent;St===er._wrapperState.initialValue&&St!==""&&St!==null&&(er.value=St)}function kb(er){switch(er){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(er,St){return er==null||er==="http://www.w3.org/1999/xhtml"?kb(St):er==="http://www.w3.org/2000/svg"&&St==="foreignObject"?"http://www.w3.org/1999/xhtml":er}var mb,nb=function(er){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(St,tr,rr,nr){MSApp.execUnsafeLocalFunction(function(){return er(St,tr,rr,nr)})}:er}(function(er,St){if(er.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in er)er.innerHTML=St;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+St.valueOf().toString()+"</svg>",St=mb.firstChild;er.firstChild;)er.removeChild(er.firstChild);for(;St.firstChild;)er.appendChild(St.firstChild)}});function ob(er,St){if(St){var tr=er.firstChild;if(tr&&tr===er.lastChild&&tr.nodeType===3){tr.nodeValue=St;return}}er.textContent=St}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(er){qb.forEach(function(St){St=St+er.charAt(0).toUpperCase()+er.substring(1),pb[St]=pb[er]})});function rb(er,St,tr){return St==null||typeof St=="boolean"||St===""?"":tr||typeof St!="number"||St===0||pb.hasOwnProperty(er)&&pb[er]?(""+St).trim():St+"px"}function sb(er,St){er=er.style;for(var tr in St)if(St.hasOwnProperty(tr)){var rr=tr.indexOf("--")===0,nr=rb(tr,St[tr],rr);tr==="float"&&(tr="cssFloat"),rr?er.setProperty(tr,nr):er[tr]=nr}}var tb=A$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(er,St){if(St){if(tb[er]&&(St.children!=null||St.dangerouslySetInnerHTML!=null))throw Error(p$4(137,er));if(St.dangerouslySetInnerHTML!=null){if(St.children!=null)throw Error(p$4(60));if(typeof St.dangerouslySetInnerHTML!="object"||!("__html"in St.dangerouslySetInnerHTML))throw Error(p$4(61))}if(St.style!=null&&typeof St.style!="object")throw Error(p$4(62))}}function vb(er,St){if(er.indexOf("-")===-1)return typeof St.is=="string";switch(er){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(er){return er=er.target||er.srcElement||window,er.correspondingUseElement&&(er=er.correspondingUseElement),er.nodeType===3?er.parentNode:er}var yb=null,zb=null,Ab=null;function Bb(er){if(er=Cb(er)){if(typeof yb!="function")throw Error(p$4(280));var St=er.stateNode;St&&(St=Db(St),yb(er.stateNode,er.type,St))}}function Eb(er){zb?Ab?Ab.push(er):Ab=[er]:zb=er}function Fb(){if(zb){var er=zb,St=Ab;if(Ab=zb=null,Bb(er),St)for(er=0;er<St.length;er++)Bb(St[er])}}function Gb(er,St){return er(St)}function Hb(){}var Ib=!1;function Jb(er,St,tr){if(Ib)return er(St,tr);Ib=!0;try{return Gb(er,St,tr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(er,St){var tr=er.stateNode;if(tr===null)return null;var rr=Db(tr);if(rr===null)return null;tr=rr[St];e:switch(St){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rr=!rr.disabled)||(er=er.type,rr=!(er==="button"||er==="input"||er==="select"||er==="textarea")),er=!rr;break e;default:er=!1}if(er)return null;if(tr&&typeof tr!="function")throw Error(p$4(231,St,typeof tr));return tr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(er,St,tr,rr,nr,sr,ir,ar,or){var lr=Array.prototype.slice.call(arguments,3);try{St.apply(tr,lr)}catch(cr){this.onError(cr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(er){Ob=!0,Pb=er}};function Tb(er,St,tr,rr,nr,sr,ir,ar,or){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(er,St,tr,rr,nr,sr,ir,ar,or){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=lr)}}function Vb(er){var St=er,tr=er;if(er.alternate)for(;St.return;)St=St.return;else{er=St;do St=er,St.flags&4098&&(tr=St.return),er=St.return;while(er)}return St.tag===3?tr:null}function Wb(er){if(er.tag===13){var St=er.memoizedState;if(St===null&&(er=er.alternate,er!==null&&(St=er.memoizedState)),St!==null)return St.dehydrated}return null}function Xb(er){if(Vb(er)!==er)throw Error(p$4(188))}function Yb(er){var St=er.alternate;if(!St){if(St=Vb(er),St===null)throw Error(p$4(188));return St!==er?null:er}for(var tr=er,rr=St;;){var nr=tr.return;if(nr===null)break;var sr=nr.alternate;if(sr===null){if(rr=nr.return,rr!==null){tr=rr;continue}break}if(nr.child===sr.child){for(sr=nr.child;sr;){if(sr===tr)return Xb(nr),er;if(sr===rr)return Xb(nr),St;sr=sr.sibling}throw Error(p$4(188))}if(tr.return!==rr.return)tr=nr,rr=sr;else{for(var ir=!1,ar=nr.child;ar;){if(ar===tr){ir=!0,tr=nr,rr=sr;break}if(ar===rr){ir=!0,rr=nr,tr=sr;break}ar=ar.sibling}if(!ir){for(ar=sr.child;ar;){if(ar===tr){ir=!0,tr=sr,rr=nr;break}if(ar===rr){ir=!0,rr=sr,tr=nr;break}ar=ar.sibling}if(!ir)throw Error(p$4(189))}}if(tr.alternate!==rr)throw Error(p$4(190))}if(tr.tag!==3)throw Error(p$4(188));return tr.stateNode.current===tr?er:St}function Zb(er){return er=Yb(er),er!==null?$b(er):null}function $b(er){if(er.tag===5||er.tag===6)return er;for(er=er.child;er!==null;){var St=$b(er);if(St!==null)return St;er=er.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(er){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,er,void 0,(er.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(er){return er>>>=0,er===0?32:31-(pc(er)/qc|0)|0}var rc=64,sc=4194304;function tc(er){switch(er&-er){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return er&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return er}}function uc(er,St){var tr=er.pendingLanes;if(tr===0)return 0;var rr=0,nr=er.suspendedLanes,sr=er.pingedLanes,ir=tr&268435455;if(ir!==0){var ar=ir&~nr;ar!==0?rr=tc(ar):(sr&=ir,sr!==0&&(rr=tc(sr)))}else ir=tr&~nr,ir!==0?rr=tc(ir):sr!==0&&(rr=tc(sr));if(rr===0)return 0;if(St!==0&&St!==rr&&!(St&nr)&&(nr=rr&-rr,sr=St&-St,nr>=sr||nr===16&&(sr&4194240)!==0))return St;if(rr&4&&(rr|=tr&16),St=er.entangledLanes,St!==0)for(er=er.entanglements,St&=rr;0<St;)tr=31-oc(St),nr=1<<tr,rr|=er[tr],St&=~nr;return rr}function vc(er,St){switch(er){case 1:case 2:case 4:return St+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(er,St){for(var tr=er.suspendedLanes,rr=er.pingedLanes,nr=er.expirationTimes,sr=er.pendingLanes;0<sr;){var ir=31-oc(sr),ar=1<<ir,or=nr[ir];or===-1?(!(ar&tr)||ar&rr)&&(nr[ir]=vc(ar,St)):or<=St&&(er.expiredLanes|=ar),sr&=~ar}}function xc(er){return er=er.pendingLanes&-1073741825,er!==0?er:er&1073741824?1073741824:0}function yc(){var er=rc;return rc<<=1,!(rc&4194240)&&(rc=64),er}function zc(er){for(var St=[],tr=0;31>tr;tr++)St.push(er);return St}function Ac(er,St,tr){er.pendingLanes|=St,St!==536870912&&(er.suspendedLanes=0,er.pingedLanes=0),er=er.eventTimes,St=31-oc(St),er[St]=tr}function Bc(er,St){var tr=er.pendingLanes&~St;er.pendingLanes=St,er.suspendedLanes=0,er.pingedLanes=0,er.expiredLanes&=St,er.mutableReadLanes&=St,er.entangledLanes&=St,St=er.entanglements;var rr=er.eventTimes;for(er=er.expirationTimes;0<tr;){var nr=31-oc(tr),sr=1<<nr;St[nr]=0,rr[nr]=-1,er[nr]=-1,tr&=~sr}}function Cc(er,St){var tr=er.entangledLanes|=St;for(er=er.entanglements;tr;){var rr=31-oc(tr),nr=1<<rr;nr&St|er[rr]&St&&(er[rr]|=St),tr&=~nr}}var C$6=0;function Dc(er){return er&=-er,1<er?4<er?er&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(er,St){switch(er){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(St.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(St.pointerId)}}function Tc(er,St,tr,rr,nr,sr){return er===null||er.nativeEvent!==sr?(er={blockedOn:St,domEventName:tr,eventSystemFlags:rr,nativeEvent:sr,targetContainers:[nr]},St!==null&&(St=Cb(St),St!==null&&Fc(St)),er):(er.eventSystemFlags|=rr,St=er.targetContainers,nr!==null&&St.indexOf(nr)===-1&&St.push(nr),er)}function Uc(er,St,tr,rr,nr){switch(St){case"focusin":return Lc=Tc(Lc,er,St,tr,rr,nr),!0;case"dragenter":return Mc=Tc(Mc,er,St,tr,rr,nr),!0;case"mouseover":return Nc=Tc(Nc,er,St,tr,rr,nr),!0;case"pointerover":var sr=nr.pointerId;return Oc.set(sr,Tc(Oc.get(sr)||null,er,St,tr,rr,nr)),!0;case"gotpointercapture":return sr=nr.pointerId,Pc.set(sr,Tc(Pc.get(sr)||null,er,St,tr,rr,nr)),!0}return!1}function Vc(er){var St=Wc(er.target);if(St!==null){var tr=Vb(St);if(tr!==null){if(St=tr.tag,St===13){if(St=Wb(tr),St!==null){er.blockedOn=St,Ic(er.priority,function(){Gc(tr)});return}}else if(St===3&&tr.stateNode.current.memoizedState.isDehydrated){er.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}er.blockedOn=null}function Xc(er){if(er.blockedOn!==null)return!1;for(var St=er.targetContainers;0<St.length;){var tr=Yc(er.domEventName,er.eventSystemFlags,St[0],er.nativeEvent);if(tr===null){tr=er.nativeEvent;var rr=new tr.constructor(tr.type,tr);wb=rr,tr.target.dispatchEvent(rr),wb=null}else return St=Cb(tr),St!==null&&Fc(St),er.blockedOn=tr,!1;St.shift()}return!0}function Zc(er,St,tr){Xc(er)&&tr.delete(St)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(er,St){er.blockedOn===St&&(er.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(er){function St(nr){return ad(nr,er)}if(0<Kc.length){ad(Kc[0],er);for(var tr=1;tr<Kc.length;tr++){var rr=Kc[tr];rr.blockedOn===er&&(rr.blockedOn=null)}}for(Lc!==null&&ad(Lc,er),Mc!==null&&ad(Mc,er),Nc!==null&&ad(Nc,er),Oc.forEach(St),Pc.forEach(St),tr=0;tr<Qc.length;tr++)rr=Qc[tr],rr.blockedOn===er&&(rr.blockedOn=null);for(;0<Qc.length&&(tr=Qc[0],tr.blockedOn===null);)Vc(tr),tr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(er,St,tr,rr){var nr=C$6,sr=cd.transition;cd.transition=null;try{C$6=1,fd$1(er,St,tr,rr)}finally{C$6=nr,cd.transition=sr}}function gd(er,St,tr,rr){var nr=C$6,sr=cd.transition;cd.transition=null;try{C$6=4,fd$1(er,St,tr,rr)}finally{C$6=nr,cd.transition=sr}}function fd$1(er,St,tr,rr){if(dd){var nr=Yc(er,St,tr,rr);if(nr===null)hd(er,St,rr,id$2,tr),Sc(er,rr);else if(Uc(nr,er,St,tr,rr))rr.stopPropagation();else if(Sc(er,rr),St&4&&-1<Rc.indexOf(er)){for(;nr!==null;){var sr=Cb(nr);if(sr!==null&&Ec(sr),sr=Yc(er,St,tr,rr),sr===null&&hd(er,St,rr,id$2,tr),sr===nr)break;nr=sr}nr!==null&&rr.stopPropagation()}else hd(er,St,rr,null,tr)}}var id$2=null;function Yc(er,St,tr,rr){if(id$2=null,er=xb(rr),er=Wc(er),er!==null)if(St=Vb(er),St===null)er=null;else if(tr=St.tag,tr===13){if(er=Wb(St),er!==null)return er;er=null}else if(tr===3){if(St.stateNode.current.memoizedState.isDehydrated)return St.tag===3?St.stateNode.containerInfo:null;er=null}else St!==er&&(er=null);return id$2=er,null}function jd(er){switch(er){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var er,St=ld,tr=St.length,rr,nr="value"in kd?kd.value:kd.textContent,sr=nr.length;for(er=0;er<tr&&St[er]===nr[er];er++);var ir=tr-er;for(rr=1;rr<=ir&&St[tr-rr]===nr[sr-rr];rr++);return md=nr.slice(er,1<rr?1-rr:void 0)}function od(er){var St=er.keyCode;return"charCode"in er?(er=er.charCode,er===0&&St===13&&(er=13)):er=St,er===10&&(er=13),32<=er||er===13?er:0}function pd(){return!0}function qd(){return!1}function rd(er){function St(tr,rr,nr,sr,ir){this._reactName=tr,this._targetInst=nr,this.type=rr,this.nativeEvent=sr,this.target=ir,this.currentTarget=null;for(var ar in er)er.hasOwnProperty(ar)&&(tr=er[ar],this[ar]=tr?tr(sr):sr[ar]);return this.isDefaultPrevented=(sr.defaultPrevented!=null?sr.defaultPrevented:sr.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$4(St.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),St}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(er){return er.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$4({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$4({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(er){return er.relatedTarget===void 0?er.fromElement===er.srcElement?er.toElement:er.fromElement:er.relatedTarget},movementX:function(er){return"movementX"in er?er.movementX:(er!==yd&&(yd&&er.type==="mousemove"?(wd=er.screenX-yd.screenX,xd=er.screenY-yd.screenY):xd=wd=0,yd=er),wd)},movementY:function(er){return"movementY"in er?er.movementY:xd}}),Bd=rd(Ad),Cd=A$4({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$4({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$4({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$4({},sd,{clipboardData:function(er){return"clipboardData"in er?er.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$4({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(er){var St=this.nativeEvent;return St.getModifierState?St.getModifierState(er):(er=Od[er])?!!St[er]:!1}function zd(){return Pd}var Qd=A$4({},ud,{key:function(er){if(er.key){var St=Md[er.key]||er.key;if(St!=="Unidentified")return St}return er.type==="keypress"?(er=od(er),er===13?"Enter":String.fromCharCode(er)):er.type==="keydown"||er.type==="keyup"?Nd[er.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(er){return er.type==="keypress"?od(er):0},keyCode:function(er){return er.type==="keydown"||er.type==="keyup"?er.keyCode:0},which:function(er){return er.type==="keypress"?od(er):er.type==="keydown"||er.type==="keyup"?er.keyCode:0}}),Rd=rd(Qd),Sd=A$4({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$4({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$4({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$4({},Ad,{deltaX:function(er){return"deltaX"in er?er.deltaX:"wheelDeltaX"in er?-er.wheelDeltaX:0},deltaY:function(er){return"deltaY"in er?er.deltaY:"wheelDeltaY"in er?-er.wheelDeltaY:"wheelDelta"in er?-er.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$2=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$2=!1;function ge$1(er,St){switch(er){case"keyup":return $d.indexOf(St.keyCode)!==-1;case"keydown":return St.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(er){return er=er.detail,typeof er=="object"&&"data"in er?er.data:null}var ie$1=!1;function je$1(er,St){switch(er){case"compositionend":return he$1(St);case"keypress":return St.which!==32?null:(fe$2=!0,ee$2);case"textInput":return er=St.data,er===ee$2&&fe$2?null:er;default:return null}}function ke(er,St){if(ie$1)return er==="compositionend"||!ae$1&&ge$1(er,St)?(er=nd(),md=ld=kd=null,ie$1=!1,er):null;switch(er){case"paste":return null;case"keypress":if(!(St.ctrlKey||St.altKey||St.metaKey)||St.ctrlKey&&St.altKey){if(St.char&&1<St.char.length)return St.char;if(St.which)return String.fromCharCode(St.which)}return null;case"compositionend":return de$2&&St.locale!=="ko"?null:St.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(er){var St=er&&er.nodeName&&er.nodeName.toLowerCase();return St==="input"?!!le$1[er.type]:St==="textarea"}function ne$3(er,St,tr,rr){Eb(rr),St=oe$2(St,"onChange"),0<St.length&&(tr=new td$1("onChange","change",null,tr,rr),er.push({event:tr,listeners:St}))}var pe$1=null,qe$1=null;function re$4(er){se$1(er,0)}function te$2(er){var St=ue$2(er);if(Wa(St))return er}function ve$1(er,St){if(er==="change")return St}var we$2=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe=ye$1}else xe=!1;we$2=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(er){if(er.propertyName==="value"&&te$2(qe$1)){var St=[];ne$3(St,qe$1,er,xb(er)),Jb(re$4,St)}}function Ce(er,St,tr){er==="focusin"?(Ae$1(),pe$1=St,qe$1=tr,pe$1.attachEvent("onpropertychange",Be$1)):er==="focusout"&&Ae$1()}function De$1(er){if(er==="selectionchange"||er==="keyup"||er==="keydown")return te$2(qe$1)}function Ee(er,St){if(er==="click")return te$2(St)}function Fe$1(er,St){if(er==="input"||er==="change")return te$2(St)}function Ge$1(er,St){return er===St&&(er!==0||1/er===1/St)||er!==er&&St!==St}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(er,St){if(He$2(er,St))return!0;if(typeof er!="object"||er===null||typeof St!="object"||St===null)return!1;var tr=Object.keys(er),rr=Object.keys(St);if(tr.length!==rr.length)return!1;for(rr=0;rr<tr.length;rr++){var nr=tr[rr];if(!ja.call(St,nr)||!He$2(er[nr],St[nr]))return!1}return!0}function Je$1(er){for(;er&&er.firstChild;)er=er.firstChild;return er}function Ke$1(er,St){var tr=Je$1(er);er=0;for(var rr;tr;){if(tr.nodeType===3){if(rr=er+tr.textContent.length,er<=St&&rr>=St)return{node:tr,offset:St-er};er=rr}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=Je$1(tr)}}function Le$2(er,St){return er&&St?er===St?!0:er&&er.nodeType===3?!1:St&&St.nodeType===3?Le$2(er,St.parentNode):"contains"in er?er.contains(St):er.compareDocumentPosition?!!(er.compareDocumentPosition(St)&16):!1:!1}function Me(){for(var er=window,St=Xa();St instanceof er.HTMLIFrameElement;){try{var tr=typeof St.contentWindow.location.href=="string"}catch{tr=!1}if(tr)er=St.contentWindow;else break;St=Xa(er.document)}return St}function Ne$2(er){var St=er&&er.nodeName&&er.nodeName.toLowerCase();return St&&(St==="input"&&(er.type==="text"||er.type==="search"||er.type==="tel"||er.type==="url"||er.type==="password")||St==="textarea"||er.contentEditable==="true")}function Oe(er){var St=Me(),tr=er.focusedElem,rr=er.selectionRange;if(St!==tr&&tr&&tr.ownerDocument&&Le$2(tr.ownerDocument.documentElement,tr)){if(rr!==null&&Ne$2(tr)){if(St=rr.start,er=rr.end,er===void 0&&(er=St),"selectionStart"in tr)tr.selectionStart=St,tr.selectionEnd=Math.min(er,tr.value.length);else if(er=(St=tr.ownerDocument||document)&&St.defaultView||window,er.getSelection){er=er.getSelection();var nr=tr.textContent.length,sr=Math.min(rr.start,nr);rr=rr.end===void 0?sr:Math.min(rr.end,nr),!er.extend&&sr>rr&&(nr=rr,rr=sr,sr=nr),nr=Ke$1(tr,sr);var ir=Ke$1(tr,rr);nr&&ir&&(er.rangeCount!==1||er.anchorNode!==nr.node||er.anchorOffset!==nr.offset||er.focusNode!==ir.node||er.focusOffset!==ir.offset)&&(St=St.createRange(),St.setStart(nr.node,nr.offset),er.removeAllRanges(),sr>rr?(er.addRange(St),er.extend(ir.node,ir.offset)):(St.setEnd(ir.node,ir.offset),er.addRange(St)))}}for(St=[],er=tr;er=er.parentNode;)er.nodeType===1&&St.push({element:er,left:er.scrollLeft,top:er.scrollTop});for(typeof tr.focus=="function"&&tr.focus(),tr=0;tr<St.length;tr++)er=St[tr],er.element.scrollLeft=er.left,er.element.scrollTop=er.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$1(er,St,tr){var rr=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Te$1||Qe==null||Qe!==Xa(rr)||(rr=Qe,"selectionStart"in rr&&Ne$2(rr)?rr={start:rr.selectionStart,end:rr.selectionEnd}:(rr=(rr.ownerDocument&&rr.ownerDocument.defaultView||window).getSelection(),rr={anchorNode:rr.anchorNode,anchorOffset:rr.anchorOffset,focusNode:rr.focusNode,focusOffset:rr.focusOffset}),Se&&Ie$1(Se,rr)||(Se=rr,rr=oe$2(Re$1,"onSelect"),0<rr.length&&(St=new td$1("onSelect","select",null,St,tr),er.push({event:St,listeners:rr}),St.target=Qe)))}function Ve$1(er,St){var tr={};return tr[er.toLowerCase()]=St.toLowerCase(),tr["Webkit"+er]="webkit"+St,tr["Moz"+er]="moz"+St,tr}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(er){if(Xe$1[er])return Xe$1[er];if(!We$1[er])return er;var St=We$1[er],tr;for(tr in St)if(St.hasOwnProperty(tr)&&tr in Ye$1)return Xe$1[er]=St[tr];return er}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(er,St){df.set(er,St),fa(St,[er])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(er,St,tr){var rr=er.type||"unknown-event";er.currentTarget=tr,Ub(rr,St,void 0,er),er.currentTarget=null}function se$1(er,St){St=(St&4)!==0;for(var tr=0;tr<er.length;tr++){var rr=er[tr],nr=rr.event;rr=rr.listeners;e:{var sr=void 0;if(St)for(var ir=rr.length-1;0<=ir;ir--){var ar=rr[ir],or=ar.instance,lr=ar.currentTarget;if(ar=ar.listener,or!==sr&&nr.isPropagationStopped())break e;nf(nr,ar,lr),sr=or}else for(ir=0;ir<rr.length;ir++){if(ar=rr[ir],or=ar.instance,lr=ar.currentTarget,ar=ar.listener,or!==sr&&nr.isPropagationStopped())break e;nf(nr,ar,lr),sr=or}}}if(Qb)throw er=Rb,Qb=!1,Rb=null,er}function D$3(er,St){var tr=St[of];tr===void 0&&(tr=St[of]=new Set);var rr=er+"__bubble";tr.has(rr)||(pf(St,er,2,!1),tr.add(rr))}function qf(er,St,tr){var rr=0;St&&(rr|=4),pf(tr,er,rr,St)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(er){if(!er[rf]){er[rf]=!0,da.forEach(function(tr){tr!=="selectionchange"&&(mf.has(tr)||qf(tr,!1,er),qf(tr,!0,er))});var St=er.nodeType===9?er:er.ownerDocument;St===null||St[rf]||(St[rf]=!0,qf("selectionchange",!1,St))}}function pf(er,St,tr,rr){switch(jd(St)){case 1:var nr=ed;break;case 4:nr=gd;break;default:nr=fd$1}tr=nr.bind(null,St,tr,er),nr=void 0,!Lb||St!=="touchstart"&&St!=="touchmove"&&St!=="wheel"||(nr=!0),rr?nr!==void 0?er.addEventListener(St,tr,{capture:!0,passive:nr}):er.addEventListener(St,tr,!0):nr!==void 0?er.addEventListener(St,tr,{passive:nr}):er.addEventListener(St,tr,!1)}function hd(er,St,tr,rr,nr){var sr=rr;if(!(St&1)&&!(St&2)&&rr!==null)e:for(;;){if(rr===null)return;var ir=rr.tag;if(ir===3||ir===4){var ar=rr.stateNode.containerInfo;if(ar===nr||ar.nodeType===8&&ar.parentNode===nr)break;if(ir===4)for(ir=rr.return;ir!==null;){var or=ir.tag;if((or===3||or===4)&&(or=ir.stateNode.containerInfo,or===nr||or.nodeType===8&&or.parentNode===nr))return;ir=ir.return}for(;ar!==null;){if(ir=Wc(ar),ir===null)return;if(or=ir.tag,or===5||or===6){rr=sr=ir;continue e}ar=ar.parentNode}}rr=rr.return}Jb(function(){var lr=sr,cr=xb(tr),ur=[];e:{var dr=df.get(er);if(dr!==void 0){var hr=td$1,Ar=er;switch(er){case"keypress":if(od(tr)===0)break e;case"keydown":case"keyup":hr=Rd;break;case"focusin":Ar="focus",hr=Fd;break;case"focusout":Ar="blur",hr=Fd;break;case"beforeblur":case"afterblur":hr=Fd;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":hr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":hr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":hr=Vd;break;case $e$1:case af:case bf:hr=Hd;break;case cf:hr=Xd;break;case"scroll":hr=vd;break;case"wheel":hr=Zd;break;case"copy":case"cut":case"paste":hr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":hr=Td}var fr=(St&4)!==0,mr=!fr&&er==="scroll",pr=fr?dr!==null?dr+"Capture":null:dr;fr=[];for(var gr=lr,xr;gr!==null;){xr=gr;var yr=xr.stateNode;if(xr.tag===5&&yr!==null&&(xr=yr,pr!==null&&(yr=Kb(gr,pr),yr!=null&&fr.push(tf(gr,yr,xr)))),mr)break;gr=gr.return}0<fr.length&&(dr=new hr(dr,Ar,null,tr,cr),ur.push({event:dr,listeners:fr}))}}if(!(St&7)){e:{if(dr=er==="mouseover"||er==="pointerover",hr=er==="mouseout"||er==="pointerout",dr&&tr!==wb&&(Ar=tr.relatedTarget||tr.fromElement)&&(Wc(Ar)||Ar[uf]))break e;if((hr||dr)&&(dr=cr.window===cr?cr:(dr=cr.ownerDocument)?dr.defaultView||dr.parentWindow:window,hr?(Ar=tr.relatedTarget||tr.toElement,hr=lr,Ar=Ar?Wc(Ar):null,Ar!==null&&(mr=Vb(Ar),Ar!==mr||Ar.tag!==5&&Ar.tag!==6)&&(Ar=null)):(hr=null,Ar=lr),hr!==Ar)){if(fr=Bd,yr="onMouseLeave",pr="onMouseEnter",gr="mouse",(er==="pointerout"||er==="pointerover")&&(fr=Td,yr="onPointerLeave",pr="onPointerEnter",gr="pointer"),mr=hr==null?dr:ue$2(hr),xr=Ar==null?dr:ue$2(Ar),dr=new fr(yr,gr+"leave",hr,tr,cr),dr.target=mr,dr.relatedTarget=xr,yr=null,Wc(cr)===lr&&(fr=new fr(pr,gr+"enter",Ar,tr,cr),fr.target=xr,fr.relatedTarget=mr,yr=fr),mr=yr,hr&&Ar)t:{for(fr=hr,pr=Ar,gr=0,xr=fr;xr;xr=vf(xr))gr++;for(xr=0,yr=pr;yr;yr=vf(yr))xr++;for(;0<gr-xr;)fr=vf(fr),gr--;for(;0<xr-gr;)pr=vf(pr),xr--;for(;gr--;){if(fr===pr||pr!==null&&fr===pr.alternate)break t;fr=vf(fr),pr=vf(pr)}fr=null}else fr=null;hr!==null&&wf(ur,dr,hr,fr,!1),Ar!==null&&mr!==null&&wf(ur,mr,Ar,fr,!0)}}e:{if(dr=lr?ue$2(lr):window,hr=dr.nodeName&&dr.nodeName.toLowerCase(),hr==="select"||hr==="input"&&dr.type==="file")var Er=ve$1;else if(me$2(dr))if(we$2)Er=Fe$1;else{Er=De$1;var _r=Ce}else(hr=dr.nodeName)&&hr.toLowerCase()==="input"&&(dr.type==="checkbox"||dr.type==="radio")&&(Er=Ee);if(Er&&(Er=Er(er,lr))){ne$3(ur,Er,tr,cr);break e}_r&&_r(er,dr,lr),er==="focusout"&&(_r=dr._wrapperState)&&_r.controlled&&dr.type==="number"&&cb(dr,"number",dr.value)}switch(_r=lr?ue$2(lr):window,er){case"focusin":(me$2(_r)||_r.contentEditable==="true")&&(Qe=_r,Re$1=lr,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(ur,tr,cr);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(ur,tr,cr)}var Sr;if(ae$1)e:{switch(er){case"compositionstart":var jr="onCompositionStart";break e;case"compositionend":jr="onCompositionEnd";break e;case"compositionupdate":jr="onCompositionUpdate";break e}jr=void 0}else ie$1?ge$1(er,tr)&&(jr="onCompositionEnd"):er==="keydown"&&tr.keyCode===229&&(jr="onCompositionStart");jr&&(de$2&&tr.locale!=="ko"&&(ie$1||jr!=="onCompositionStart"?jr==="onCompositionEnd"&&ie$1&&(Sr=nd()):(kd=cr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),_r=oe$2(lr,jr),0<_r.length&&(jr=new Ld(jr,er,null,tr,cr),ur.push({event:jr,listeners:_r}),Sr?jr.data=Sr:(Sr=he$1(tr),Sr!==null&&(jr.data=Sr)))),(Sr=ce$1?je$1(er,tr):ke(er,tr))&&(lr=oe$2(lr,"onBeforeInput"),0<lr.length&&(cr=new Ld("onBeforeInput","beforeinput",null,tr,cr),ur.push({event:cr,listeners:lr}),cr.data=Sr))}se$1(ur,St)})}function tf(er,St,tr){return{instance:er,listener:St,currentTarget:tr}}function oe$2(er,St){for(var tr=St+"Capture",rr=[];er!==null;){var nr=er,sr=nr.stateNode;nr.tag===5&&sr!==null&&(nr=sr,sr=Kb(er,tr),sr!=null&&rr.unshift(tf(er,sr,nr)),sr=Kb(er,St),sr!=null&&rr.push(tf(er,sr,nr))),er=er.return}return rr}function vf(er){if(er===null)return null;do er=er.return;while(er&&er.tag!==5);return er||null}function wf(er,St,tr,rr,nr){for(var sr=St._reactName,ir=[];tr!==null&&tr!==rr;){var ar=tr,or=ar.alternate,lr=ar.stateNode;if(or!==null&&or===rr)break;ar.tag===5&&lr!==null&&(ar=lr,nr?(or=Kb(tr,sr),or!=null&&ir.unshift(tf(tr,or,ar))):nr||(or=Kb(tr,sr),or!=null&&ir.push(tf(tr,or,ar)))),tr=tr.return}ir.length!==0&&er.push({event:St,listeners:ir})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(er){return(typeof er=="string"?er:""+er).replace(xf,`
`).replace(yf,"")}function Af(er,St,tr){if(St=zf(St),zf(er)!==St&&tr)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(er,St){return er==="textarea"||er==="noscript"||typeof St.children=="string"||typeof St.children=="number"||typeof St.dangerouslySetInnerHTML=="object"&&St.dangerouslySetInnerHTML!==null&&St.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(er){return Hf.resolve(null).then(er).catch(If)}:Ff;function If(er){setTimeout(function(){throw er})}function Kf(er,St){var tr=St,rr=0;do{var nr=tr.nextSibling;if(er.removeChild(tr),nr&&nr.nodeType===8)if(tr=nr.data,tr==="/$"){if(rr===0){er.removeChild(nr),bd(St);return}rr--}else tr!=="$"&&tr!=="$?"&&tr!=="$!"||rr++;tr=nr}while(tr);bd(St)}function Lf(er){for(;er!=null;er=er.nextSibling){var St=er.nodeType;if(St===1||St===3)break;if(St===8){if(St=er.data,St==="$"||St==="$!"||St==="$?")break;if(St==="/$")return null}}return er}function Mf(er){er=er.previousSibling;for(var St=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="$"||tr==="$!"||tr==="$?"){if(St===0)return er;St--}else tr==="/$"&&St++}er=er.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(er){var St=er[Of];if(St)return St;for(var tr=er.parentNode;tr;){if(St=tr[uf]||tr[Of]){if(tr=St.alternate,St.child!==null||tr!==null&&tr.child!==null)for(er=Mf(er);er!==null;){if(tr=er[Of])return tr;er=Mf(er)}return St}er=tr,tr=er.parentNode}return null}function Cb(er){return er=er[Of]||er[uf],!er||er.tag!==5&&er.tag!==6&&er.tag!==13&&er.tag!==3?null:er}function ue$2(er){if(er.tag===5||er.tag===6)return er.stateNode;throw Error(p$4(33))}function Db(er){return er[Pf]||null}var Sf=[],Tf=-1;function Uf(er){return{current:er}}function E$3(er){0>Tf||(er.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(er,St){Tf++,Sf[Tf]=er.current,er.current=St}var Vf={},H$6=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(er,St){var tr=er.type.contextTypes;if(!tr)return Vf;var rr=er.stateNode;if(rr&&rr.__reactInternalMemoizedUnmaskedChildContext===St)return rr.__reactInternalMemoizedMaskedChildContext;var nr={},sr;for(sr in tr)nr[sr]=St[sr];return rr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=St,er.__reactInternalMemoizedMaskedChildContext=nr),nr}function Zf(er){return er=er.childContextTypes,er!=null}function $f(){E$3(Wf),E$3(H$6)}function ag(er,St,tr){if(H$6.current!==Vf)throw Error(p$4(168));G$2(H$6,St),G$2(Wf,tr)}function bg(er,St,tr){var rr=er.stateNode;if(St=St.childContextTypes,typeof rr.getChildContext!="function")return tr;rr=rr.getChildContext();for(var nr in rr)if(!(nr in St))throw Error(p$4(108,Ra(er)||"Unknown",nr));return A$4({},tr,rr)}function cg(er){return er=(er=er.stateNode)&&er.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$6.current,G$2(H$6,er),G$2(Wf,Wf.current),!0}function dg(er,St,tr){var rr=er.stateNode;if(!rr)throw Error(p$4(169));tr?(er=bg(er,St,Xf),rr.__reactInternalMemoizedMergedChildContext=er,E$3(Wf),E$3(H$6),G$2(H$6,er)):E$3(Wf),G$2(Wf,tr)}var eg=null,fg=!1,gg=!1;function hg(er){eg===null?eg=[er]:eg.push(er)}function ig(er){fg=!0,hg(er)}function jg(){if(!gg&&eg!==null){gg=!0;var er=0,St=C$6;try{var tr=eg;for(C$6=1;er<tr.length;er++){var rr=tr[er];do rr=rr(!0);while(rr!==null)}eg=null,fg=!1}catch(nr){throw eg!==null&&(eg=eg.slice(er+1)),ac(fc,jg),nr}finally{C$6=St,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(er,St){kg[lg++]=ng,kg[lg++]=mg,mg=er,ng=St}function ug(er,St,tr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=er;var rr=rg;er=sg;var nr=32-oc(rr)-1;rr&=~(1<<nr),tr+=1;var sr=32-oc(St)+nr;if(30<sr){var ir=nr-nr%5;sr=(rr&(1<<ir)-1).toString(32),rr>>=ir,nr-=ir,rg=1<<32-oc(St)+nr|tr<<nr|rr,sg=sr+er}else rg=1<<sr|tr<<nr|rr,sg=er}function vg(er){er.return!==null&&(tg(er,1),ug(er,1,0))}function wg(er){for(;er===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;er===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$5=!1,zg=null;function Ag(er,St){var tr=Bg(5,null,null,0);tr.elementType="DELETED",tr.stateNode=St,tr.return=er,St=er.deletions,St===null?(er.deletions=[tr],er.flags|=16):St.push(tr)}function Cg(er,St){switch(er.tag){case 5:var tr=er.type;return St=St.nodeType!==1||tr.toLowerCase()!==St.nodeName.toLowerCase()?null:St,St!==null?(er.stateNode=St,xg=er,yg=Lf(St.firstChild),!0):!1;case 6:return St=er.pendingProps===""||St.nodeType!==3?null:St,St!==null?(er.stateNode=St,xg=er,yg=null,!0):!1;case 13:return St=St.nodeType!==8?null:St,St!==null?(tr=qg!==null?{id:rg,overflow:sg}:null,er.memoizedState={dehydrated:St,treeContext:tr,retryLane:1073741824},tr=Bg(18,null,null,0),tr.stateNode=St,tr.return=er,er.child=tr,xg=er,yg=null,!0):!1;default:return!1}}function Dg(er){return(er.mode&1)!==0&&(er.flags&128)===0}function Eg(er){if(I$5){var St=yg;if(St){var tr=St;if(!Cg(er,St)){if(Dg(er))throw Error(p$4(418));St=Lf(tr.nextSibling);var rr=xg;St&&Cg(er,St)?Ag(rr,tr):(er.flags=er.flags&-4097|2,I$5=!1,xg=er)}}else{if(Dg(er))throw Error(p$4(418));er.flags=er.flags&-4097|2,I$5=!1,xg=er}}}function Fg(er){for(er=er.return;er!==null&&er.tag!==5&&er.tag!==3&&er.tag!==13;)er=er.return;xg=er}function Gg(er){if(er!==xg)return!1;if(!I$5)return Fg(er),I$5=!0,!1;var St;if((St=er.tag!==3)&&!(St=er.tag!==5)&&(St=er.type,St=St!=="head"&&St!=="body"&&!Ef(er.type,er.memoizedProps)),St&&(St=yg)){if(Dg(er))throw Hg(),Error(p$4(418));for(;St;)Ag(er,St),St=Lf(St.nextSibling)}if(Fg(er),er.tag===13){if(er=er.memoizedState,er=er!==null?er.dehydrated:null,!er)throw Error(p$4(317));e:{for(er=er.nextSibling,St=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="/$"){if(St===0){yg=Lf(er.nextSibling);break e}St--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"||St++}er=er.nextSibling}yg=null}}else yg=xg?Lf(er.stateNode.nextSibling):null;return!0}function Hg(){for(var er=yg;er;)er=Lf(er.nextSibling)}function Ig(){yg=xg=null,I$5=!1}function Jg(er){zg===null?zg=[er]:zg.push(er)}var Kg=ua.ReactCurrentBatchConfig;function Lg(er,St,tr){if(er=tr.ref,er!==null&&typeof er!="function"&&typeof er!="object"){if(tr._owner){if(tr=tr._owner,tr){if(tr.tag!==1)throw Error(p$4(309));var rr=tr.stateNode}if(!rr)throw Error(p$4(147,er));var nr=rr,sr=""+er;return St!==null&&St.ref!==null&&typeof St.ref=="function"&&St.ref._stringRef===sr?St.ref:(St=function(ir){var ar=nr.refs;ir===null?delete ar[sr]:ar[sr]=ir},St._stringRef=sr,St)}if(typeof er!="string")throw Error(p$4(284));if(!tr._owner)throw Error(p$4(290,er))}return er}function Mg(er,St){throw er=Object.prototype.toString.call(St),Error(p$4(31,er==="[object Object]"?"object with keys {"+Object.keys(St).join(", ")+"}":er))}function Ng(er){var St=er._init;return St(er._payload)}function Og(er){function St(pr,gr){if(er){var xr=pr.deletions;xr===null?(pr.deletions=[gr],pr.flags|=16):xr.push(gr)}}function tr(pr,gr){if(!er)return null;for(;gr!==null;)St(pr,gr),gr=gr.sibling;return null}function rr(pr,gr){for(pr=new Map;gr!==null;)gr.key!==null?pr.set(gr.key,gr):pr.set(gr.index,gr),gr=gr.sibling;return pr}function nr(pr,gr){return pr=Pg(pr,gr),pr.index=0,pr.sibling=null,pr}function sr(pr,gr,xr){return pr.index=xr,er?(xr=pr.alternate,xr!==null?(xr=xr.index,xr<gr?(pr.flags|=2,gr):xr):(pr.flags|=2,gr)):(pr.flags|=1048576,gr)}function ir(pr){return er&&pr.alternate===null&&(pr.flags|=2),pr}function ar(pr,gr,xr,yr){return gr===null||gr.tag!==6?(gr=Qg(xr,pr.mode,yr),gr.return=pr,gr):(gr=nr(gr,xr),gr.return=pr,gr)}function or(pr,gr,xr,yr){var Er=xr.type;return Er===ya?cr(pr,gr,xr.props.children,yr,xr.key):gr!==null&&(gr.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===Ha&&Ng(Er)===gr.type)?(yr=nr(gr,xr.props),yr.ref=Lg(pr,gr,xr),yr.return=pr,yr):(yr=Rg(xr.type,xr.key,xr.props,null,pr.mode,yr),yr.ref=Lg(pr,gr,xr),yr.return=pr,yr)}function lr(pr,gr,xr,yr){return gr===null||gr.tag!==4||gr.stateNode.containerInfo!==xr.containerInfo||gr.stateNode.implementation!==xr.implementation?(gr=Sg(xr,pr.mode,yr),gr.return=pr,gr):(gr=nr(gr,xr.children||[]),gr.return=pr,gr)}function cr(pr,gr,xr,yr,Er){return gr===null||gr.tag!==7?(gr=Tg(xr,pr.mode,yr,Er),gr.return=pr,gr):(gr=nr(gr,xr),gr.return=pr,gr)}function ur(pr,gr,xr){if(typeof gr=="string"&&gr!==""||typeof gr=="number")return gr=Qg(""+gr,pr.mode,xr),gr.return=pr,gr;if(typeof gr=="object"&&gr!==null){switch(gr.$$typeof){case va:return xr=Rg(gr.type,gr.key,gr.props,null,pr.mode,xr),xr.ref=Lg(pr,null,gr),xr.return=pr,xr;case wa:return gr=Sg(gr,pr.mode,xr),gr.return=pr,gr;case Ha:var yr=gr._init;return ur(pr,yr(gr._payload),xr)}if(eb(gr)||Ka(gr))return gr=Tg(gr,pr.mode,xr,null),gr.return=pr,gr;Mg(pr,gr)}return null}function dr(pr,gr,xr,yr){var Er=gr!==null?gr.key:null;if(typeof xr=="string"&&xr!==""||typeof xr=="number")return Er!==null?null:ar(pr,gr,""+xr,yr);if(typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case va:return xr.key===Er?or(pr,gr,xr,yr):null;case wa:return xr.key===Er?lr(pr,gr,xr,yr):null;case Ha:return Er=xr._init,dr(pr,gr,Er(xr._payload),yr)}if(eb(xr)||Ka(xr))return Er!==null?null:cr(pr,gr,xr,yr,null);Mg(pr,xr)}return null}function hr(pr,gr,xr,yr,Er){if(typeof yr=="string"&&yr!==""||typeof yr=="number")return pr=pr.get(xr)||null,ar(gr,pr,""+yr,Er);if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:return pr=pr.get(yr.key===null?xr:yr.key)||null,or(gr,pr,yr,Er);case wa:return pr=pr.get(yr.key===null?xr:yr.key)||null,lr(gr,pr,yr,Er);case Ha:var _r=yr._init;return hr(pr,gr,xr,_r(yr._payload),Er)}if(eb(yr)||Ka(yr))return pr=pr.get(xr)||null,cr(gr,pr,yr,Er,null);Mg(gr,yr)}return null}function Ar(pr,gr,xr,yr){for(var Er=null,_r=null,Sr=gr,jr=gr=0,Pr=null;Sr!==null&&jr<xr.length;jr++){Sr.index>jr?(Pr=Sr,Sr=null):Pr=Sr.sibling;var Mr=dr(pr,Sr,xr[jr],yr);if(Mr===null){Sr===null&&(Sr=Pr);break}er&&Sr&&Mr.alternate===null&&St(pr,Sr),gr=sr(Mr,gr,jr),_r===null?Er=Mr:_r.sibling=Mr,_r=Mr,Sr=Pr}if(jr===xr.length)return tr(pr,Sr),I$5&&tg(pr,jr),Er;if(Sr===null){for(;jr<xr.length;jr++)Sr=ur(pr,xr[jr],yr),Sr!==null&&(gr=sr(Sr,gr,jr),_r===null?Er=Sr:_r.sibling=Sr,_r=Sr);return I$5&&tg(pr,jr),Er}for(Sr=rr(pr,Sr);jr<xr.length;jr++)Pr=hr(Sr,pr,jr,xr[jr],yr),Pr!==null&&(er&&Pr.alternate!==null&&Sr.delete(Pr.key===null?jr:Pr.key),gr=sr(Pr,gr,jr),_r===null?Er=Pr:_r.sibling=Pr,_r=Pr);return er&&Sr.forEach(function(Ir){return St(pr,Ir)}),I$5&&tg(pr,jr),Er}function fr(pr,gr,xr,yr){var Er=Ka(xr);if(typeof Er!="function")throw Error(p$4(150));if(xr=Er.call(xr),xr==null)throw Error(p$4(151));for(var _r=Er=null,Sr=gr,jr=gr=0,Pr=null,Mr=xr.next();Sr!==null&&!Mr.done;jr++,Mr=xr.next()){Sr.index>jr?(Pr=Sr,Sr=null):Pr=Sr.sibling;var Ir=dr(pr,Sr,Mr.value,yr);if(Ir===null){Sr===null&&(Sr=Pr);break}er&&Sr&&Ir.alternate===null&&St(pr,Sr),gr=sr(Ir,gr,jr),_r===null?Er=Ir:_r.sibling=Ir,_r=Ir,Sr=Pr}if(Mr.done)return tr(pr,Sr),I$5&&tg(pr,jr),Er;if(Sr===null){for(;!Mr.done;jr++,Mr=xr.next())Mr=ur(pr,Mr.value,yr),Mr!==null&&(gr=sr(Mr,gr,jr),_r===null?Er=Mr:_r.sibling=Mr,_r=Mr);return I$5&&tg(pr,jr),Er}for(Sr=rr(pr,Sr);!Mr.done;jr++,Mr=xr.next())Mr=hr(Sr,pr,jr,Mr.value,yr),Mr!==null&&(er&&Mr.alternate!==null&&Sr.delete(Mr.key===null?jr:Mr.key),gr=sr(Mr,gr,jr),_r===null?Er=Mr:_r.sibling=Mr,_r=Mr);return er&&Sr.forEach(function(Lr){return St(pr,Lr)}),I$5&&tg(pr,jr),Er}function mr(pr,gr,xr,yr){if(typeof xr=="object"&&xr!==null&&xr.type===ya&&xr.key===null&&(xr=xr.props.children),typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case va:e:{for(var Er=xr.key,_r=gr;_r!==null;){if(_r.key===Er){if(Er=xr.type,Er===ya){if(_r.tag===7){tr(pr,_r.sibling),gr=nr(_r,xr.props.children),gr.return=pr,pr=gr;break e}}else if(_r.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===Ha&&Ng(Er)===_r.type){tr(pr,_r.sibling),gr=nr(_r,xr.props),gr.ref=Lg(pr,_r,xr),gr.return=pr,pr=gr;break e}tr(pr,_r);break}else St(pr,_r);_r=_r.sibling}xr.type===ya?(gr=Tg(xr.props.children,pr.mode,yr,xr.key),gr.return=pr,pr=gr):(yr=Rg(xr.type,xr.key,xr.props,null,pr.mode,yr),yr.ref=Lg(pr,gr,xr),yr.return=pr,pr=yr)}return ir(pr);case wa:e:{for(_r=xr.key;gr!==null;){if(gr.key===_r)if(gr.tag===4&&gr.stateNode.containerInfo===xr.containerInfo&&gr.stateNode.implementation===xr.implementation){tr(pr,gr.sibling),gr=nr(gr,xr.children||[]),gr.return=pr,pr=gr;break e}else{tr(pr,gr);break}else St(pr,gr);gr=gr.sibling}gr=Sg(xr,pr.mode,yr),gr.return=pr,pr=gr}return ir(pr);case Ha:return _r=xr._init,mr(pr,gr,_r(xr._payload),yr)}if(eb(xr))return Ar(pr,gr,xr,yr);if(Ka(xr))return fr(pr,gr,xr,yr);Mg(pr,xr)}return typeof xr=="string"&&xr!==""||typeof xr=="number"?(xr=""+xr,gr!==null&&gr.tag===6?(tr(pr,gr.sibling),gr=nr(gr,xr),gr.return=pr,pr=gr):(tr(pr,gr),gr=Qg(xr,pr.mode,yr),gr.return=pr,pr=gr),ir(pr)):tr(pr,gr)}return mr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(er){var St=Wg.current;E$3(Wg),er._currentValue=St}function bh(er,St,tr){for(;er!==null;){var rr=er.alternate;if((er.childLanes&St)!==St?(er.childLanes|=St,rr!==null&&(rr.childLanes|=St)):rr!==null&&(rr.childLanes&St)!==St&&(rr.childLanes|=St),er===tr)break;er=er.return}}function ch(er,St){Xg=er,Zg=Yg=null,er=er.dependencies,er!==null&&er.firstContext!==null&&(er.lanes&St&&(dh=!0),er.firstContext=null)}function eh(er){var St=er._currentValue;if(Zg!==er)if(er={context:er,memoizedValue:St,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=er,Xg.dependencies={lanes:0,firstContext:er}}else Yg=Yg.next=er;return St}var fh=null;function gh(er){fh===null?fh=[er]:fh.push(er)}function hh(er,St,tr,rr){var nr=St.interleaved;return nr===null?(tr.next=tr,gh(St)):(tr.next=nr.next,nr.next=tr),St.interleaved=tr,ih(er,rr)}function ih(er,St){er.lanes|=St;var tr=er.alternate;for(tr!==null&&(tr.lanes|=St),tr=er,er=er.return;er!==null;)er.childLanes|=St,tr=er.alternate,tr!==null&&(tr.childLanes|=St),tr=er,er=er.return;return tr.tag===3?tr.stateNode:null}var jh=!1;function kh(er){er.updateQueue={baseState:er.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(er,St){er=er.updateQueue,St.updateQueue===er&&(St.updateQueue={baseState:er.baseState,firstBaseUpdate:er.firstBaseUpdate,lastBaseUpdate:er.lastBaseUpdate,shared:er.shared,effects:er.effects})}function mh(er,St){return{eventTime:er,lane:St,tag:0,payload:null,callback:null,next:null}}function nh(er,St,tr){var rr=er.updateQueue;if(rr===null)return null;if(rr=rr.shared,K$2&2){var nr=rr.pending;return nr===null?St.next=St:(St.next=nr.next,nr.next=St),rr.pending=St,ih(er,tr)}return nr=rr.interleaved,nr===null?(St.next=St,gh(rr)):(St.next=nr.next,nr.next=St),rr.interleaved=St,ih(er,tr)}function oh(er,St,tr){if(St=St.updateQueue,St!==null&&(St=St.shared,(tr&4194240)!==0)){var rr=St.lanes;rr&=er.pendingLanes,tr|=rr,St.lanes=tr,Cc(er,tr)}}function ph(er,St){var tr=er.updateQueue,rr=er.alternate;if(rr!==null&&(rr=rr.updateQueue,tr===rr)){var nr=null,sr=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var ir={eventTime:tr.eventTime,lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:tr.callback,next:null};sr===null?nr=sr=ir:sr=sr.next=ir,tr=tr.next}while(tr!==null);sr===null?nr=sr=St:sr=sr.next=St}else nr=sr=St;tr={baseState:rr.baseState,firstBaseUpdate:nr,lastBaseUpdate:sr,shared:rr.shared,effects:rr.effects},er.updateQueue=tr;return}er=tr.lastBaseUpdate,er===null?tr.firstBaseUpdate=St:er.next=St,tr.lastBaseUpdate=St}function qh(er,St,tr,rr){var nr=er.updateQueue;jh=!1;var sr=nr.firstBaseUpdate,ir=nr.lastBaseUpdate,ar=nr.shared.pending;if(ar!==null){nr.shared.pending=null;var or=ar,lr=or.next;or.next=null,ir===null?sr=lr:ir.next=lr,ir=or;var cr=er.alternate;cr!==null&&(cr=cr.updateQueue,ar=cr.lastBaseUpdate,ar!==ir&&(ar===null?cr.firstBaseUpdate=lr:ar.next=lr,cr.lastBaseUpdate=or))}if(sr!==null){var ur=nr.baseState;ir=0,cr=lr=or=null,ar=sr;do{var dr=ar.lane,hr=ar.eventTime;if((rr&dr)===dr){cr!==null&&(cr=cr.next={eventTime:hr,lane:0,tag:ar.tag,payload:ar.payload,callback:ar.callback,next:null});e:{var Ar=er,fr=ar;switch(dr=St,hr=tr,fr.tag){case 1:if(Ar=fr.payload,typeof Ar=="function"){ur=Ar.call(hr,ur,dr);break e}ur=Ar;break e;case 3:Ar.flags=Ar.flags&-65537|128;case 0:if(Ar=fr.payload,dr=typeof Ar=="function"?Ar.call(hr,ur,dr):Ar,dr==null)break e;ur=A$4({},ur,dr);break e;case 2:jh=!0}}ar.callback!==null&&ar.lane!==0&&(er.flags|=64,dr=nr.effects,dr===null?nr.effects=[ar]:dr.push(ar))}else hr={eventTime:hr,lane:dr,tag:ar.tag,payload:ar.payload,callback:ar.callback,next:null},cr===null?(lr=cr=hr,or=ur):cr=cr.next=hr,ir|=dr;if(ar=ar.next,ar===null){if(ar=nr.shared.pending,ar===null)break;dr=ar,ar=dr.next,dr.next=null,nr.lastBaseUpdate=dr,nr.shared.pending=null}}while(!0);if(cr===null&&(or=ur),nr.baseState=or,nr.firstBaseUpdate=lr,nr.lastBaseUpdate=cr,St=nr.shared.interleaved,St!==null){nr=St;do ir|=nr.lane,nr=nr.next;while(nr!==St)}else sr===null&&(nr.shared.lanes=0);rh|=ir,er.lanes=ir,er.memoizedState=ur}}function sh(er,St,tr){if(er=St.effects,St.effects=null,er!==null)for(St=0;St<er.length;St++){var rr=er[St],nr=rr.callback;if(nr!==null){if(rr.callback=null,rr=tr,typeof nr!="function")throw Error(p$4(191,nr));nr.call(rr)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(er){if(er===th)throw Error(p$4(174));return er}function yh(er,St){switch(G$2(wh,St),G$2(vh$1,er),G$2(uh,th),er=St.nodeType,er){case 9:case 11:St=(St=St.documentElement)?St.namespaceURI:lb(null,"");break;default:er=er===8?St.parentNode:St,St=er.namespaceURI||null,er=er.tagName,St=lb(St,er)}E$3(uh),G$2(uh,St)}function zh(){E$3(uh),E$3(vh$1),E$3(wh)}function Ah(er){xh(wh.current);var St=xh(uh.current),tr=lb(St,er.type);St!==tr&&(G$2(vh$1,er),G$2(uh,tr))}function Bh(er){vh$1.current===er&&(E$3(uh),E$3(vh$1))}var L$4=Uf(0);function Ch(er){for(var St=er;St!==null;){if(St.tag===13){var tr=St.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||tr.data==="$?"||tr.data==="$!"))return St}else if(St.tag===19&&St.memoizedProps.revealOrder!==void 0){if(St.flags&128)return St}else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===er)break;for(;St.sibling===null;){if(St.return===null||St.return===er)return null;St=St.return}St.sibling.return=St.return,St=St.sibling}return null}var Dh=[];function Eh(){for(var er=0;er<Dh.length;er++)Dh[er]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$4=null,N$1=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$5(){throw Error(p$4(321))}function Mh(er,St){if(St===null)return!1;for(var tr=0;tr<St.length&&tr<er.length;tr++)if(!He$2(er[tr],St[tr]))return!1;return!0}function Nh(er,St,tr,rr,nr,sr){if(Hh=sr,M$4=St,St.memoizedState=null,St.updateQueue=null,St.lanes=0,Fh.current=er===null||er.memoizedState===null?Oh:Ph,er=tr(rr,nr),Jh){sr=0;do{if(Jh=!1,Kh=0,25<=sr)throw Error(p$4(301));sr+=1,O$4=N$1=null,St.updateQueue=null,Fh.current=Qh,er=tr(rr,nr)}while(Jh)}if(Fh.current=Rh,St=N$1!==null&&N$1.next!==null,Hh=0,O$4=N$1=M$4=null,Ih=!1,St)throw Error(p$4(300));return er}function Sh(){var er=Kh!==0;return Kh=0,er}function Th(){var er={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$4.memoizedState=O$4=er:O$4=O$4.next=er,O$4}function Uh(){if(N$1===null){var er=M$4.alternate;er=er!==null?er.memoizedState:null}else er=N$1.next;var St=O$4===null?M$4.memoizedState:O$4.next;if(St!==null)O$4=St,N$1=er;else{if(er===null)throw Error(p$4(310));N$1=er,er={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$4===null?M$4.memoizedState=O$4=er:O$4=O$4.next=er}return O$4}function Vh(er,St){return typeof St=="function"?St(er):St}function Wh(er){var St=Uh(),tr=St.queue;if(tr===null)throw Error(p$4(311));tr.lastRenderedReducer=er;var rr=N$1,nr=rr.baseQueue,sr=tr.pending;if(sr!==null){if(nr!==null){var ir=nr.next;nr.next=sr.next,sr.next=ir}rr.baseQueue=nr=sr,tr.pending=null}if(nr!==null){sr=nr.next,rr=rr.baseState;var ar=ir=null,or=null,lr=sr;do{var cr=lr.lane;if((Hh&cr)===cr)or!==null&&(or=or.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),rr=lr.hasEagerState?lr.eagerState:er(rr,lr.action);else{var ur={lane:cr,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};or===null?(ar=or=ur,ir=rr):or=or.next=ur,M$4.lanes|=cr,rh|=cr}lr=lr.next}while(lr!==null&&lr!==sr);or===null?ir=rr:or.next=ar,He$2(rr,St.memoizedState)||(dh=!0),St.memoizedState=rr,St.baseState=ir,St.baseQueue=or,tr.lastRenderedState=rr}if(er=tr.interleaved,er!==null){nr=er;do sr=nr.lane,M$4.lanes|=sr,rh|=sr,nr=nr.next;while(nr!==er)}else nr===null&&(tr.lanes=0);return[St.memoizedState,tr.dispatch]}function Xh(er){var St=Uh(),tr=St.queue;if(tr===null)throw Error(p$4(311));tr.lastRenderedReducer=er;var rr=tr.dispatch,nr=tr.pending,sr=St.memoizedState;if(nr!==null){tr.pending=null;var ir=nr=nr.next;do sr=er(sr,ir.action),ir=ir.next;while(ir!==nr);He$2(sr,St.memoizedState)||(dh=!0),St.memoizedState=sr,St.baseQueue===null&&(St.baseState=sr),tr.lastRenderedState=sr}return[sr,rr]}function Yh(){}function Zh(er,St){var tr=M$4,rr=Uh(),nr=St(),sr=!He$2(rr.memoizedState,nr);if(sr&&(rr.memoizedState=nr,dh=!0),rr=rr.queue,$h(ai.bind(null,tr,rr,er),[er]),rr.getSnapshot!==St||sr||O$4!==null&&O$4.memoizedState.tag&1){if(tr.flags|=2048,bi(9,ci.bind(null,tr,rr,nr,St),void 0,null),Q$1===null)throw Error(p$4(349));Hh&30||di(tr,St,nr)}return nr}function di(er,St,tr){er.flags|=16384,er={getSnapshot:St,value:tr},St=M$4.updateQueue,St===null?(St={lastEffect:null,stores:null},M$4.updateQueue=St,St.stores=[er]):(tr=St.stores,tr===null?St.stores=[er]:tr.push(er))}function ci(er,St,tr,rr){St.value=tr,St.getSnapshot=rr,ei(St)&&fi(er)}function ai(er,St,tr){return tr(function(){ei(St)&&fi(er)})}function ei(er){var St=er.getSnapshot;er=er.value;try{var tr=St();return!He$2(er,tr)}catch{return!0}}function fi(er){var St=ih(er,1);St!==null&&gi(St,er,1,-1)}function hi(er){var St=Th();return typeof er=="function"&&(er=er()),St.memoizedState=St.baseState=er,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:er},St.queue=er,er=er.dispatch=ii.bind(null,M$4,er),[St.memoizedState,er]}function bi(er,St,tr,rr){return er={tag:er,create:St,destroy:tr,deps:rr,next:null},St=M$4.updateQueue,St===null?(St={lastEffect:null,stores:null},M$4.updateQueue=St,St.lastEffect=er.next=er):(tr=St.lastEffect,tr===null?St.lastEffect=er.next=er:(rr=tr.next,tr.next=er,er.next=rr,St.lastEffect=er)),er}function ji(){return Uh().memoizedState}function ki(er,St,tr,rr){var nr=Th();M$4.flags|=er,nr.memoizedState=bi(1|St,tr,void 0,rr===void 0?null:rr)}function li(er,St,tr,rr){var nr=Uh();rr=rr===void 0?null:rr;var sr=void 0;if(N$1!==null){var ir=N$1.memoizedState;if(sr=ir.destroy,rr!==null&&Mh(rr,ir.deps)){nr.memoizedState=bi(St,tr,sr,rr);return}}M$4.flags|=er,nr.memoizedState=bi(1|St,tr,sr,rr)}function mi(er,St){return ki(8390656,8,er,St)}function $h(er,St){return li(2048,8,er,St)}function ni(er,St){return li(4,2,er,St)}function oi(er,St){return li(4,4,er,St)}function pi$2(er,St){if(typeof St=="function")return er=er(),St(er),function(){St(null)};if(St!=null)return er=er(),St.current=er,function(){St.current=null}}function qi(er,St,tr){return tr=tr!=null?tr.concat([er]):null,li(4,4,pi$2.bind(null,St,er),tr)}function ri(){}function si(er,St){var tr=Uh();St=St===void 0?null:St;var rr=tr.memoizedState;return rr!==null&&St!==null&&Mh(St,rr[1])?rr[0]:(tr.memoizedState=[er,St],er)}function ti(er,St){var tr=Uh();St=St===void 0?null:St;var rr=tr.memoizedState;return rr!==null&&St!==null&&Mh(St,rr[1])?rr[0]:(er=er(),tr.memoizedState=[er,St],er)}function ui(er,St,tr){return Hh&21?(He$2(tr,St)||(tr=yc(),M$4.lanes|=tr,rh|=tr,er.baseState=!0),St):(er.baseState&&(er.baseState=!1,dh=!0),er.memoizedState=tr)}function vi(er,St){var tr=C$6;C$6=tr!==0&&4>tr?tr:4,er(!0);var rr=Gh.transition;Gh.transition={};try{er(!1),St()}finally{C$6=tr,Gh.transition=rr}}function wi(){return Uh().memoizedState}function xi(er,St,tr){var rr=yi(er);if(tr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null},zi(er))Ai(St,tr);else if(tr=hh(er,St,tr,rr),tr!==null){var nr=R$2();gi(tr,er,rr,nr),Bi(tr,St,rr)}}function ii(er,St,tr){var rr=yi(er),nr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null};if(zi(er))Ai(St,nr);else{var sr=er.alternate;if(er.lanes===0&&(sr===null||sr.lanes===0)&&(sr=St.lastRenderedReducer,sr!==null))try{var ir=St.lastRenderedState,ar=sr(ir,tr);if(nr.hasEagerState=!0,nr.eagerState=ar,He$2(ar,ir)){var or=St.interleaved;or===null?(nr.next=nr,gh(St)):(nr.next=or.next,or.next=nr),St.interleaved=nr;return}}catch{}finally{}tr=hh(er,St,nr,rr),tr!==null&&(nr=R$2(),gi(tr,er,rr,nr),Bi(tr,St,rr))}}function zi(er){var St=er.alternate;return er===M$4||St!==null&&St===M$4}function Ai(er,St){Jh=Ih=!0;var tr=er.pending;tr===null?St.next=St:(St.next=tr.next,tr.next=St),er.pending=St}function Bi(er,St,tr){if(tr&4194240){var rr=St.lanes;rr&=er.pendingLanes,tr|=rr,St.lanes=tr,Cc(er,tr)}}var Rh={readContext:eh,useCallback:P$5,useContext:P$5,useEffect:P$5,useImperativeHandle:P$5,useInsertionEffect:P$5,useLayoutEffect:P$5,useMemo:P$5,useReducer:P$5,useRef:P$5,useState:P$5,useDebugValue:P$5,useDeferredValue:P$5,useTransition:P$5,useMutableSource:P$5,useSyncExternalStore:P$5,useId:P$5,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(er,St){return Th().memoizedState=[er,St===void 0?null:St],er},useContext:eh,useEffect:mi,useImperativeHandle:function(er,St,tr){return tr=tr!=null?tr.concat([er]):null,ki(4194308,4,pi$2.bind(null,St,er),tr)},useLayoutEffect:function(er,St){return ki(4194308,4,er,St)},useInsertionEffect:function(er,St){return ki(4,2,er,St)},useMemo:function(er,St){var tr=Th();return St=St===void 0?null:St,er=er(),tr.memoizedState=[er,St],er},useReducer:function(er,St,tr){var rr=Th();return St=tr!==void 0?tr(St):St,rr.memoizedState=rr.baseState=St,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:St},rr.queue=er,er=er.dispatch=xi.bind(null,M$4,er),[rr.memoizedState,er]},useRef:function(er){var St=Th();return er={current:er},St.memoizedState=er},useState:hi,useDebugValue:ri,useDeferredValue:function(er){return Th().memoizedState=er},useTransition:function(){var er=hi(!1),St=er[0];return er=vi.bind(null,er[1]),Th().memoizedState=er,[St,er]},useMutableSource:function(){},useSyncExternalStore:function(er,St,tr){var rr=M$4,nr=Th();if(I$5){if(tr===void 0)throw Error(p$4(407));tr=tr()}else{if(tr=St(),Q$1===null)throw Error(p$4(349));Hh&30||di(rr,St,tr)}nr.memoizedState=tr;var sr={value:tr,getSnapshot:St};return nr.queue=sr,mi(ai.bind(null,rr,sr,er),[er]),rr.flags|=2048,bi(9,ci.bind(null,rr,sr,tr,St),void 0,null),tr},useId:function(){var er=Th(),St=Q$1.identifierPrefix;if(I$5){var tr=sg,rr=rg;tr=(rr&~(1<<32-oc(rr)-1)).toString(32)+tr,St=":"+St+"R"+tr,tr=Kh++,0<tr&&(St+="H"+tr.toString(32)),St+=":"}else tr=Lh++,St=":"+St+"r"+tr.toString(32)+":";return er.memoizedState=St},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(er){var St=Uh();return ui(St,N$1.memoizedState,er)},useTransition:function(){var er=Wh(Vh)[0],St=Uh().memoizedState;return[er,St]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(er){var St=Uh();return N$1===null?St.memoizedState=er:ui(St,N$1.memoizedState,er)},useTransition:function(){var er=Xh(Vh)[0],St=Uh().memoizedState;return[er,St]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(er,St){if(er&&er.defaultProps){St=A$4({},St),er=er.defaultProps;for(var tr in er)St[tr]===void 0&&(St[tr]=er[tr]);return St}return St}function Di(er,St,tr,rr){St=er.memoizedState,tr=tr(rr,St),tr=tr==null?St:A$4({},St,tr),er.memoizedState=tr,er.lanes===0&&(er.updateQueue.baseState=tr)}var Ei={isMounted:function(er){return(er=er._reactInternals)?Vb(er)===er:!1},enqueueSetState:function(er,St,tr){er=er._reactInternals;var rr=R$2(),nr=yi(er),sr=mh(rr,nr);sr.payload=St,tr!=null&&(sr.callback=tr),St=nh(er,sr,nr),St!==null&&(gi(St,er,nr,rr),oh(St,er,nr))},enqueueReplaceState:function(er,St,tr){er=er._reactInternals;var rr=R$2(),nr=yi(er),sr=mh(rr,nr);sr.tag=1,sr.payload=St,tr!=null&&(sr.callback=tr),St=nh(er,sr,nr),St!==null&&(gi(St,er,nr,rr),oh(St,er,nr))},enqueueForceUpdate:function(er,St){er=er._reactInternals;var tr=R$2(),rr=yi(er),nr=mh(tr,rr);nr.tag=2,St!=null&&(nr.callback=St),St=nh(er,nr,rr),St!==null&&(gi(St,er,rr,tr),oh(St,er,rr))}};function Fi(er,St,tr,rr,nr,sr,ir){return er=er.stateNode,typeof er.shouldComponentUpdate=="function"?er.shouldComponentUpdate(rr,sr,ir):St.prototype&&St.prototype.isPureReactComponent?!Ie$1(tr,rr)||!Ie$1(nr,sr):!0}function Gi(er,St,tr){var rr=!1,nr=Vf,sr=St.contextType;return typeof sr=="object"&&sr!==null?sr=eh(sr):(nr=Zf(St)?Xf:H$6.current,rr=St.contextTypes,sr=(rr=rr!=null)?Yf(er,nr):Vf),St=new St(tr,sr),er.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,St.updater=Ei,er.stateNode=St,St._reactInternals=er,rr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=nr,er.__reactInternalMemoizedMaskedChildContext=sr),St}function Hi(er,St,tr,rr){er=St.state,typeof St.componentWillReceiveProps=="function"&&St.componentWillReceiveProps(tr,rr),typeof St.UNSAFE_componentWillReceiveProps=="function"&&St.UNSAFE_componentWillReceiveProps(tr,rr),St.state!==er&&Ei.enqueueReplaceState(St,St.state,null)}function Ii(er,St,tr,rr){var nr=er.stateNode;nr.props=tr,nr.state=er.memoizedState,nr.refs={},kh(er);var sr=St.contextType;typeof sr=="object"&&sr!==null?nr.context=eh(sr):(sr=Zf(St)?Xf:H$6.current,nr.context=Yf(er,sr)),nr.state=er.memoizedState,sr=St.getDerivedStateFromProps,typeof sr=="function"&&(Di(er,St,sr,tr),nr.state=er.memoizedState),typeof St.getDerivedStateFromProps=="function"||typeof nr.getSnapshotBeforeUpdate=="function"||typeof nr.UNSAFE_componentWillMount!="function"&&typeof nr.componentWillMount!="function"||(St=nr.state,typeof nr.componentWillMount=="function"&&nr.componentWillMount(),typeof nr.UNSAFE_componentWillMount=="function"&&nr.UNSAFE_componentWillMount(),St!==nr.state&&Ei.enqueueReplaceState(nr,nr.state,null),qh(er,tr,nr,rr),nr.state=er.memoizedState),typeof nr.componentDidMount=="function"&&(er.flags|=4194308)}function Ji(er,St){try{var tr="",rr=St;do tr+=Pa(rr),rr=rr.return;while(rr);var nr=tr}catch(sr){nr=`
Error generating stack: `+sr.message+`
`+sr.stack}return{value:er,source:St,stack:nr,digest:null}}function Ki(er,St,tr){return{value:er,source:null,stack:tr??null,digest:St??null}}function Li(er,St){try{console.error(St.value)}catch(tr){setTimeout(function(){throw tr})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(er,St,tr){tr=mh(-1,tr),tr.tag=3,tr.payload={element:null};var rr=St.value;return tr.callback=function(){Oi||(Oi=!0,Pi=rr),Li(er,St)},tr}function Qi(er,St,tr){tr=mh(-1,tr),tr.tag=3;var rr=er.type.getDerivedStateFromError;if(typeof rr=="function"){var nr=St.value;tr.payload=function(){return rr(nr)},tr.callback=function(){Li(er,St)}}var sr=er.stateNode;return sr!==null&&typeof sr.componentDidCatch=="function"&&(tr.callback=function(){Li(er,St),typeof rr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ir=St.stack;this.componentDidCatch(St.value,{componentStack:ir!==null?ir:""})}),tr}function Si(er,St,tr){var rr=er.pingCache;if(rr===null){rr=er.pingCache=new Mi;var nr=new Set;rr.set(St,nr)}else nr=rr.get(St),nr===void 0&&(nr=new Set,rr.set(St,nr));nr.has(tr)||(nr.add(tr),er=Ti.bind(null,er,St,tr),St.then(er,er))}function Ui(er){do{var St;if((St=er.tag===13)&&(St=er.memoizedState,St=St!==null?St.dehydrated!==null:!0),St)return er;er=er.return}while(er!==null);return null}function Vi(er,St,tr,rr,nr){return er.mode&1?(er.flags|=65536,er.lanes=nr,er):(er===St?er.flags|=65536:(er.flags|=128,tr.flags|=131072,tr.flags&=-52805,tr.tag===1&&(tr.alternate===null?tr.tag=17:(St=mh(-1,1),St.tag=2,nh(tr,St,1))),tr.lanes|=1),er)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(er,St,tr,rr){St.child=er===null?Vg(St,null,tr,rr):Ug(St,er.child,tr,rr)}function Yi(er,St,tr,rr,nr){tr=tr.render;var sr=St.ref;return ch(St,nr),rr=Nh(er,St,tr,rr,sr,nr),tr=Sh(),er!==null&&!dh?(St.updateQueue=er.updateQueue,St.flags&=-2053,er.lanes&=~nr,Zi(er,St,nr)):(I$5&&tr&&vg(St),St.flags|=1,Xi(er,St,rr,nr),St.child)}function $i(er,St,tr,rr,nr){if(er===null){var sr=tr.type;return typeof sr=="function"&&!aj(sr)&&sr.defaultProps===void 0&&tr.compare===null&&tr.defaultProps===void 0?(St.tag=15,St.type=sr,bj(er,St,sr,rr,nr)):(er=Rg(tr.type,null,rr,St,St.mode,nr),er.ref=St.ref,er.return=St,St.child=er)}if(sr=er.child,!(er.lanes&nr)){var ir=sr.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:Ie$1,tr(ir,rr)&&er.ref===St.ref)return Zi(er,St,nr)}return St.flags|=1,er=Pg(sr,rr),er.ref=St.ref,er.return=St,St.child=er}function bj(er,St,tr,rr,nr){if(er!==null){var sr=er.memoizedProps;if(Ie$1(sr,rr)&&er.ref===St.ref)if(dh=!1,St.pendingProps=rr=sr,(er.lanes&nr)!==0)er.flags&131072&&(dh=!0);else return St.lanes=er.lanes,Zi(er,St,nr)}return cj(er,St,tr,rr,nr)}function dj(er,St,tr){var rr=St.pendingProps,nr=rr.children,sr=er!==null?er.memoizedState:null;if(rr.mode==="hidden")if(!(St.mode&1))St.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=tr;else{if(!(tr&1073741824))return er=sr!==null?sr.baseLanes|tr:tr,St.lanes=St.childLanes=1073741824,St.memoizedState={baseLanes:er,cachePool:null,transitions:null},St.updateQueue=null,G$2(ej,fj),fj|=er,null;St.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr=sr!==null?sr.baseLanes:tr,G$2(ej,fj),fj|=rr}else sr!==null?(rr=sr.baseLanes|tr,St.memoizedState=null):rr=tr,G$2(ej,fj),fj|=rr;return Xi(er,St,nr,tr),St.child}function gj(er,St){var tr=St.ref;(er===null&&tr!==null||er!==null&&er.ref!==tr)&&(St.flags|=512,St.flags|=2097152)}function cj(er,St,tr,rr,nr){var sr=Zf(tr)?Xf:H$6.current;return sr=Yf(St,sr),ch(St,nr),tr=Nh(er,St,tr,rr,sr,nr),rr=Sh(),er!==null&&!dh?(St.updateQueue=er.updateQueue,St.flags&=-2053,er.lanes&=~nr,Zi(er,St,nr)):(I$5&&rr&&vg(St),St.flags|=1,Xi(er,St,tr,nr),St.child)}function hj(er,St,tr,rr,nr){if(Zf(tr)){var sr=!0;cg(St)}else sr=!1;if(ch(St,nr),St.stateNode===null)ij(er,St),Gi(St,tr,rr),Ii(St,tr,rr,nr),rr=!0;else if(er===null){var ir=St.stateNode,ar=St.memoizedProps;ir.props=ar;var or=ir.context,lr=tr.contextType;typeof lr=="object"&&lr!==null?lr=eh(lr):(lr=Zf(tr)?Xf:H$6.current,lr=Yf(St,lr));var cr=tr.getDerivedStateFromProps,ur=typeof cr=="function"||typeof ir.getSnapshotBeforeUpdate=="function";ur||typeof ir.UNSAFE_componentWillReceiveProps!="function"&&typeof ir.componentWillReceiveProps!="function"||(ar!==rr||or!==lr)&&Hi(St,ir,rr,lr),jh=!1;var dr=St.memoizedState;ir.state=dr,qh(St,rr,ir,nr),or=St.memoizedState,ar!==rr||dr!==or||Wf.current||jh?(typeof cr=="function"&&(Di(St,tr,cr,rr),or=St.memoizedState),(ar=jh||Fi(St,tr,ar,rr,dr,or,lr))?(ur||typeof ir.UNSAFE_componentWillMount!="function"&&typeof ir.componentWillMount!="function"||(typeof ir.componentWillMount=="function"&&ir.componentWillMount(),typeof ir.UNSAFE_componentWillMount=="function"&&ir.UNSAFE_componentWillMount()),typeof ir.componentDidMount=="function"&&(St.flags|=4194308)):(typeof ir.componentDidMount=="function"&&(St.flags|=4194308),St.memoizedProps=rr,St.memoizedState=or),ir.props=rr,ir.state=or,ir.context=lr,rr=ar):(typeof ir.componentDidMount=="function"&&(St.flags|=4194308),rr=!1)}else{ir=St.stateNode,lh(er,St),ar=St.memoizedProps,lr=St.type===St.elementType?ar:Ci(St.type,ar),ir.props=lr,ur=St.pendingProps,dr=ir.context,or=tr.contextType,typeof or=="object"&&or!==null?or=eh(or):(or=Zf(tr)?Xf:H$6.current,or=Yf(St,or));var hr=tr.getDerivedStateFromProps;(cr=typeof hr=="function"||typeof ir.getSnapshotBeforeUpdate=="function")||typeof ir.UNSAFE_componentWillReceiveProps!="function"&&typeof ir.componentWillReceiveProps!="function"||(ar!==ur||dr!==or)&&Hi(St,ir,rr,or),jh=!1,dr=St.memoizedState,ir.state=dr,qh(St,rr,ir,nr);var Ar=St.memoizedState;ar!==ur||dr!==Ar||Wf.current||jh?(typeof hr=="function"&&(Di(St,tr,hr,rr),Ar=St.memoizedState),(lr=jh||Fi(St,tr,lr,rr,dr,Ar,or)||!1)?(cr||typeof ir.UNSAFE_componentWillUpdate!="function"&&typeof ir.componentWillUpdate!="function"||(typeof ir.componentWillUpdate=="function"&&ir.componentWillUpdate(rr,Ar,or),typeof ir.UNSAFE_componentWillUpdate=="function"&&ir.UNSAFE_componentWillUpdate(rr,Ar,or)),typeof ir.componentDidUpdate=="function"&&(St.flags|=4),typeof ir.getSnapshotBeforeUpdate=="function"&&(St.flags|=1024)):(typeof ir.componentDidUpdate!="function"||ar===er.memoizedProps&&dr===er.memoizedState||(St.flags|=4),typeof ir.getSnapshotBeforeUpdate!="function"||ar===er.memoizedProps&&dr===er.memoizedState||(St.flags|=1024),St.memoizedProps=rr,St.memoizedState=Ar),ir.props=rr,ir.state=Ar,ir.context=or,rr=lr):(typeof ir.componentDidUpdate!="function"||ar===er.memoizedProps&&dr===er.memoizedState||(St.flags|=4),typeof ir.getSnapshotBeforeUpdate!="function"||ar===er.memoizedProps&&dr===er.memoizedState||(St.flags|=1024),rr=!1)}return jj(er,St,tr,rr,sr,nr)}function jj(er,St,tr,rr,nr,sr){gj(er,St);var ir=(St.flags&128)!==0;if(!rr&&!ir)return nr&&dg(St,tr,!1),Zi(er,St,sr);rr=St.stateNode,Wi.current=St;var ar=ir&&typeof tr.getDerivedStateFromError!="function"?null:rr.render();return St.flags|=1,er!==null&&ir?(St.child=Ug(St,er.child,null,sr),St.child=Ug(St,null,ar,sr)):Xi(er,St,ar,sr),St.memoizedState=rr.state,nr&&dg(St,tr,!0),St.child}function kj(er){var St=er.stateNode;St.pendingContext?ag(er,St.pendingContext,St.pendingContext!==St.context):St.context&&ag(er,St.context,!1),yh(er,St.containerInfo)}function lj(er,St,tr,rr,nr){return Ig(),Jg(nr),St.flags|=256,Xi(er,St,tr,rr),St.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(er){return{baseLanes:er,cachePool:null,transitions:null}}function oj(er,St,tr){var rr=St.pendingProps,nr=L$4.current,sr=!1,ir=(St.flags&128)!==0,ar;if((ar=ir)||(ar=er!==null&&er.memoizedState===null?!1:(nr&2)!==0),ar?(sr=!0,St.flags&=-129):(er===null||er.memoizedState!==null)&&(nr|=1),G$2(L$4,nr&1),er===null)return Eg(St),er=St.memoizedState,er!==null&&(er=er.dehydrated,er!==null)?(St.mode&1?er.data==="$!"?St.lanes=8:St.lanes=1073741824:St.lanes=1,null):(ir=rr.children,er=rr.fallback,sr?(rr=St.mode,sr=St.child,ir={mode:"hidden",children:ir},!(rr&1)&&sr!==null?(sr.childLanes=0,sr.pendingProps=ir):sr=pj(ir,rr,0,null),er=Tg(er,rr,tr,null),sr.return=St,er.return=St,sr.sibling=er,St.child=sr,St.child.memoizedState=nj(tr),St.memoizedState=mj,er):qj(St,ir));if(nr=er.memoizedState,nr!==null&&(ar=nr.dehydrated,ar!==null))return rj(er,St,ir,rr,ar,nr,tr);if(sr){sr=rr.fallback,ir=St.mode,nr=er.child,ar=nr.sibling;var or={mode:"hidden",children:rr.children};return!(ir&1)&&St.child!==nr?(rr=St.child,rr.childLanes=0,rr.pendingProps=or,St.deletions=null):(rr=Pg(nr,or),rr.subtreeFlags=nr.subtreeFlags&14680064),ar!==null?sr=Pg(ar,sr):(sr=Tg(sr,ir,tr,null),sr.flags|=2),sr.return=St,rr.return=St,rr.sibling=sr,St.child=rr,rr=sr,sr=St.child,ir=er.child.memoizedState,ir=ir===null?nj(tr):{baseLanes:ir.baseLanes|tr,cachePool:null,transitions:ir.transitions},sr.memoizedState=ir,sr.childLanes=er.childLanes&~tr,St.memoizedState=mj,rr}return sr=er.child,er=sr.sibling,rr=Pg(sr,{mode:"visible",children:rr.children}),!(St.mode&1)&&(rr.lanes=tr),rr.return=St,rr.sibling=null,er!==null&&(tr=St.deletions,tr===null?(St.deletions=[er],St.flags|=16):tr.push(er)),St.child=rr,St.memoizedState=null,rr}function qj(er,St){return St=pj({mode:"visible",children:St},er.mode,0,null),St.return=er,er.child=St}function sj(er,St,tr,rr){return rr!==null&&Jg(rr),Ug(St,er.child,null,tr),er=qj(St,St.pendingProps.children),er.flags|=2,St.memoizedState=null,er}function rj(er,St,tr,rr,nr,sr,ir){if(tr)return St.flags&256?(St.flags&=-257,rr=Ki(Error(p$4(422))),sj(er,St,ir,rr)):St.memoizedState!==null?(St.child=er.child,St.flags|=128,null):(sr=rr.fallback,nr=St.mode,rr=pj({mode:"visible",children:rr.children},nr,0,null),sr=Tg(sr,nr,ir,null),sr.flags|=2,rr.return=St,sr.return=St,rr.sibling=sr,St.child=rr,St.mode&1&&Ug(St,er.child,null,ir),St.child.memoizedState=nj(ir),St.memoizedState=mj,sr);if(!(St.mode&1))return sj(er,St,ir,null);if(nr.data==="$!"){if(rr=nr.nextSibling&&nr.nextSibling.dataset,rr)var ar=rr.dgst;return rr=ar,sr=Error(p$4(419)),rr=Ki(sr,rr,void 0),sj(er,St,ir,rr)}if(ar=(ir&er.childLanes)!==0,dh||ar){if(rr=Q$1,rr!==null){switch(ir&-ir){case 4:nr=2;break;case 16:nr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nr=32;break;case 536870912:nr=268435456;break;default:nr=0}nr=nr&(rr.suspendedLanes|ir)?0:nr,nr!==0&&nr!==sr.retryLane&&(sr.retryLane=nr,ih(er,nr),gi(rr,er,nr,-1))}return tj(),rr=Ki(Error(p$4(421))),sj(er,St,ir,rr)}return nr.data==="$?"?(St.flags|=128,St.child=er.child,St=uj.bind(null,er),nr._reactRetry=St,null):(er=sr.treeContext,yg=Lf(nr.nextSibling),xg=St,I$5=!0,zg=null,er!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=er.id,sg=er.overflow,qg=St),St=qj(St,rr.children),St.flags|=4096,St)}function vj(er,St,tr){er.lanes|=St;var rr=er.alternate;rr!==null&&(rr.lanes|=St),bh(er.return,St,tr)}function wj(er,St,tr,rr,nr){var sr=er.memoizedState;sr===null?er.memoizedState={isBackwards:St,rendering:null,renderingStartTime:0,last:rr,tail:tr,tailMode:nr}:(sr.isBackwards=St,sr.rendering=null,sr.renderingStartTime=0,sr.last=rr,sr.tail=tr,sr.tailMode=nr)}function xj(er,St,tr){var rr=St.pendingProps,nr=rr.revealOrder,sr=rr.tail;if(Xi(er,St,rr.children,tr),rr=L$4.current,rr&2)rr=rr&1|2,St.flags|=128;else{if(er!==null&&er.flags&128)e:for(er=St.child;er!==null;){if(er.tag===13)er.memoizedState!==null&&vj(er,tr,St);else if(er.tag===19)vj(er,tr,St);else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===St)break e;for(;er.sibling===null;){if(er.return===null||er.return===St)break e;er=er.return}er.sibling.return=er.return,er=er.sibling}rr&=1}if(G$2(L$4,rr),!(St.mode&1))St.memoizedState=null;else switch(nr){case"forwards":for(tr=St.child,nr=null;tr!==null;)er=tr.alternate,er!==null&&Ch(er)===null&&(nr=tr),tr=tr.sibling;tr=nr,tr===null?(nr=St.child,St.child=null):(nr=tr.sibling,tr.sibling=null),wj(St,!1,nr,tr,sr);break;case"backwards":for(tr=null,nr=St.child,St.child=null;nr!==null;){if(er=nr.alternate,er!==null&&Ch(er)===null){St.child=nr;break}er=nr.sibling,nr.sibling=tr,tr=nr,nr=er}wj(St,!0,tr,null,sr);break;case"together":wj(St,!1,null,null,void 0);break;default:St.memoizedState=null}return St.child}function ij(er,St){!(St.mode&1)&&er!==null&&(er.alternate=null,St.alternate=null,St.flags|=2)}function Zi(er,St,tr){if(er!==null&&(St.dependencies=er.dependencies),rh|=St.lanes,!(tr&St.childLanes))return null;if(er!==null&&St.child!==er.child)throw Error(p$4(153));if(St.child!==null){for(er=St.child,tr=Pg(er,er.pendingProps),St.child=tr,tr.return=St;er.sibling!==null;)er=er.sibling,tr=tr.sibling=Pg(er,er.pendingProps),tr.return=St;tr.sibling=null}return St.child}function yj(er,St,tr){switch(St.tag){case 3:kj(St),Ig();break;case 5:Ah(St);break;case 1:Zf(St.type)&&cg(St);break;case 4:yh(St,St.stateNode.containerInfo);break;case 10:var rr=St.type._context,nr=St.memoizedProps.value;G$2(Wg,rr._currentValue),rr._currentValue=nr;break;case 13:if(rr=St.memoizedState,rr!==null)return rr.dehydrated!==null?(G$2(L$4,L$4.current&1),St.flags|=128,null):tr&St.child.childLanes?oj(er,St,tr):(G$2(L$4,L$4.current&1),er=Zi(er,St,tr),er!==null?er.sibling:null);G$2(L$4,L$4.current&1);break;case 19:if(rr=(tr&St.childLanes)!==0,er.flags&128){if(rr)return xj(er,St,tr);St.flags|=128}if(nr=St.memoizedState,nr!==null&&(nr.rendering=null,nr.tail=null,nr.lastEffect=null),G$2(L$4,L$4.current),rr)break;return null;case 22:case 23:return St.lanes=0,dj(er,St,tr)}return Zi(er,St,tr)}var zj,Aj,Bj,Cj;zj=function(er,St){for(var tr=St.child;tr!==null;){if(tr.tag===5||tr.tag===6)er.appendChild(tr.stateNode);else if(tr.tag!==4&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===St)break;for(;tr.sibling===null;){if(tr.return===null||tr.return===St)return;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}};Aj=function(){};Bj=function(er,St,tr,rr){var nr=er.memoizedProps;if(nr!==rr){er=St.stateNode,xh(uh.current);var sr=null;switch(tr){case"input":nr=Ya(er,nr),rr=Ya(er,rr),sr=[];break;case"select":nr=A$4({},nr,{value:void 0}),rr=A$4({},rr,{value:void 0}),sr=[];break;case"textarea":nr=gb(er,nr),rr=gb(er,rr),sr=[];break;default:typeof nr.onClick!="function"&&typeof rr.onClick=="function"&&(er.onclick=Bf)}ub(tr,rr);var ir;tr=null;for(lr in nr)if(!rr.hasOwnProperty(lr)&&nr.hasOwnProperty(lr)&&nr[lr]!=null)if(lr==="style"){var ar=nr[lr];for(ir in ar)ar.hasOwnProperty(ir)&&(tr||(tr={}),tr[ir]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?sr||(sr=[]):(sr=sr||[]).push(lr,null));for(lr in rr){var or=rr[lr];if(ar=nr!=null?nr[lr]:void 0,rr.hasOwnProperty(lr)&&or!==ar&&(or!=null||ar!=null))if(lr==="style")if(ar){for(ir in ar)!ar.hasOwnProperty(ir)||or&&or.hasOwnProperty(ir)||(tr||(tr={}),tr[ir]="");for(ir in or)or.hasOwnProperty(ir)&&ar[ir]!==or[ir]&&(tr||(tr={}),tr[ir]=or[ir])}else tr||(sr||(sr=[]),sr.push(lr,tr)),tr=or;else lr==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,ar=ar?ar.__html:void 0,or!=null&&ar!==or&&(sr=sr||[]).push(lr,or)):lr==="children"?typeof or!="string"&&typeof or!="number"||(sr=sr||[]).push(lr,""+or):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(or!=null&&lr==="onScroll"&&D$3("scroll",er),sr||ar===or||(sr=[])):(sr=sr||[]).push(lr,or))}tr&&(sr=sr||[]).push("style",tr);var lr=sr;(St.updateQueue=lr)&&(St.flags|=4)}};Cj=function(er,St,tr,rr){tr!==rr&&(St.flags|=4)};function Dj(er,St){if(!I$5)switch(er.tailMode){case"hidden":St=er.tail;for(var tr=null;St!==null;)St.alternate!==null&&(tr=St),St=St.sibling;tr===null?er.tail=null:tr.sibling=null;break;case"collapsed":tr=er.tail;for(var rr=null;tr!==null;)tr.alternate!==null&&(rr=tr),tr=tr.sibling;rr===null?St||er.tail===null?er.tail=null:er.tail.sibling=null:rr.sibling=null}}function S$5(er){var St=er.alternate!==null&&er.alternate.child===er.child,tr=0,rr=0;if(St)for(var nr=er.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags&14680064,rr|=nr.flags&14680064,nr.return=er,nr=nr.sibling;else for(nr=er.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags,rr|=nr.flags,nr.return=er,nr=nr.sibling;return er.subtreeFlags|=rr,er.childLanes=tr,St}function Ej(er,St,tr){var rr=St.pendingProps;switch(wg(St),St.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5(St),null;case 1:return Zf(St.type)&&$f(),S$5(St),null;case 3:return rr=St.stateNode,zh(),E$3(Wf),E$3(H$6),Eh(),rr.pendingContext&&(rr.context=rr.pendingContext,rr.pendingContext=null),(er===null||er.child===null)&&(Gg(St)?St.flags|=4:er===null||er.memoizedState.isDehydrated&&!(St.flags&256)||(St.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(er,St),S$5(St),null;case 5:Bh(St);var nr=xh(wh.current);if(tr=St.type,er!==null&&St.stateNode!=null)Bj(er,St,tr,rr,nr),er.ref!==St.ref&&(St.flags|=512,St.flags|=2097152);else{if(!rr){if(St.stateNode===null)throw Error(p$4(166));return S$5(St),null}if(er=xh(uh.current),Gg(St)){rr=St.stateNode,tr=St.type;var sr=St.memoizedProps;switch(rr[Of]=St,rr[Pf]=sr,er=(St.mode&1)!==0,tr){case"dialog":D$3("cancel",rr),D$3("close",rr);break;case"iframe":case"object":case"embed":D$3("load",rr);break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$3(lf[nr],rr);break;case"source":D$3("error",rr);break;case"img":case"image":case"link":D$3("error",rr),D$3("load",rr);break;case"details":D$3("toggle",rr);break;case"input":Za(rr,sr),D$3("invalid",rr);break;case"select":rr._wrapperState={wasMultiple:!!sr.multiple},D$3("invalid",rr);break;case"textarea":hb(rr,sr),D$3("invalid",rr)}ub(tr,sr),nr=null;for(var ir in sr)if(sr.hasOwnProperty(ir)){var ar=sr[ir];ir==="children"?typeof ar=="string"?rr.textContent!==ar&&(sr.suppressHydrationWarning!==!0&&Af(rr.textContent,ar,er),nr=["children",ar]):typeof ar=="number"&&rr.textContent!==""+ar&&(sr.suppressHydrationWarning!==!0&&Af(rr.textContent,ar,er),nr=["children",""+ar]):ea.hasOwnProperty(ir)&&ar!=null&&ir==="onScroll"&&D$3("scroll",rr)}switch(tr){case"input":Va(rr),db(rr,sr,!0);break;case"textarea":Va(rr),jb(rr);break;case"select":case"option":break;default:typeof sr.onClick=="function"&&(rr.onclick=Bf)}rr=nr,St.updateQueue=rr,rr!==null&&(St.flags|=4)}else{ir=nr.nodeType===9?nr:nr.ownerDocument,er==="http://www.w3.org/1999/xhtml"&&(er=kb(tr)),er==="http://www.w3.org/1999/xhtml"?tr==="script"?(er=ir.createElement("div"),er.innerHTML="<script><\/script>",er=er.removeChild(er.firstChild)):typeof rr.is=="string"?er=ir.createElement(tr,{is:rr.is}):(er=ir.createElement(tr),tr==="select"&&(ir=er,rr.multiple?ir.multiple=!0:rr.size&&(ir.size=rr.size))):er=ir.createElementNS(er,tr),er[Of]=St,er[Pf]=rr,zj(er,St,!1,!1),St.stateNode=er;e:{switch(ir=vb(tr,rr),tr){case"dialog":D$3("cancel",er),D$3("close",er),nr=rr;break;case"iframe":case"object":case"embed":D$3("load",er),nr=rr;break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$3(lf[nr],er);nr=rr;break;case"source":D$3("error",er),nr=rr;break;case"img":case"image":case"link":D$3("error",er),D$3("load",er),nr=rr;break;case"details":D$3("toggle",er),nr=rr;break;case"input":Za(er,rr),nr=Ya(er,rr),D$3("invalid",er);break;case"option":nr=rr;break;case"select":er._wrapperState={wasMultiple:!!rr.multiple},nr=A$4({},rr,{value:void 0}),D$3("invalid",er);break;case"textarea":hb(er,rr),nr=gb(er,rr),D$3("invalid",er);break;default:nr=rr}ub(tr,nr),ar=nr;for(sr in ar)if(ar.hasOwnProperty(sr)){var or=ar[sr];sr==="style"?sb(er,or):sr==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,or!=null&&nb(er,or)):sr==="children"?typeof or=="string"?(tr!=="textarea"||or!=="")&&ob(er,or):typeof or=="number"&&ob(er,""+or):sr!=="suppressContentEditableWarning"&&sr!=="suppressHydrationWarning"&&sr!=="autoFocus"&&(ea.hasOwnProperty(sr)?or!=null&&sr==="onScroll"&&D$3("scroll",er):or!=null&&ta(er,sr,or,ir))}switch(tr){case"input":Va(er),db(er,rr,!1);break;case"textarea":Va(er),jb(er);break;case"option":rr.value!=null&&er.setAttribute("value",""+Sa(rr.value));break;case"select":er.multiple=!!rr.multiple,sr=rr.value,sr!=null?fb(er,!!rr.multiple,sr,!1):rr.defaultValue!=null&&fb(er,!!rr.multiple,rr.defaultValue,!0);break;default:typeof nr.onClick=="function"&&(er.onclick=Bf)}switch(tr){case"button":case"input":case"select":case"textarea":rr=!!rr.autoFocus;break e;case"img":rr=!0;break e;default:rr=!1}}rr&&(St.flags|=4)}St.ref!==null&&(St.flags|=512,St.flags|=2097152)}return S$5(St),null;case 6:if(er&&St.stateNode!=null)Cj(er,St,er.memoizedProps,rr);else{if(typeof rr!="string"&&St.stateNode===null)throw Error(p$4(166));if(tr=xh(wh.current),xh(uh.current),Gg(St)){if(rr=St.stateNode,tr=St.memoizedProps,rr[Of]=St,(sr=rr.nodeValue!==tr)&&(er=xg,er!==null))switch(er.tag){case 3:Af(rr.nodeValue,tr,(er.mode&1)!==0);break;case 5:er.memoizedProps.suppressHydrationWarning!==!0&&Af(rr.nodeValue,tr,(er.mode&1)!==0)}sr&&(St.flags|=4)}else rr=(tr.nodeType===9?tr:tr.ownerDocument).createTextNode(rr),rr[Of]=St,St.stateNode=rr}return S$5(St),null;case 13:if(E$3(L$4),rr=St.memoizedState,er===null||er.memoizedState!==null&&er.memoizedState.dehydrated!==null){if(I$5&&yg!==null&&St.mode&1&&!(St.flags&128))Hg(),Ig(),St.flags|=98560,sr=!1;else if(sr=Gg(St),rr!==null&&rr.dehydrated!==null){if(er===null){if(!sr)throw Error(p$4(318));if(sr=St.memoizedState,sr=sr!==null?sr.dehydrated:null,!sr)throw Error(p$4(317));sr[Of]=St}else Ig(),!(St.flags&128)&&(St.memoizedState=null),St.flags|=4;S$5(St),sr=!1}else zg!==null&&(Fj(zg),zg=null),sr=!0;if(!sr)return St.flags&65536?St:null}return St.flags&128?(St.lanes=tr,St):(rr=rr!==null,rr!==(er!==null&&er.memoizedState!==null)&&rr&&(St.child.flags|=8192,St.mode&1&&(er===null||L$4.current&1?T$5===0&&(T$5=3):tj())),St.updateQueue!==null&&(St.flags|=4),S$5(St),null);case 4:return zh(),Aj(er,St),er===null&&sf(St.stateNode.containerInfo),S$5(St),null;case 10:return ah(St.type._context),S$5(St),null;case 17:return Zf(St.type)&&$f(),S$5(St),null;case 19:if(E$3(L$4),sr=St.memoizedState,sr===null)return S$5(St),null;if(rr=(St.flags&128)!==0,ir=sr.rendering,ir===null)if(rr)Dj(sr,!1);else{if(T$5!==0||er!==null&&er.flags&128)for(er=St.child;er!==null;){if(ir=Ch(er),ir!==null){for(St.flags|=128,Dj(sr,!1),rr=ir.updateQueue,rr!==null&&(St.updateQueue=rr,St.flags|=4),St.subtreeFlags=0,rr=tr,tr=St.child;tr!==null;)sr=tr,er=rr,sr.flags&=14680066,ir=sr.alternate,ir===null?(sr.childLanes=0,sr.lanes=er,sr.child=null,sr.subtreeFlags=0,sr.memoizedProps=null,sr.memoizedState=null,sr.updateQueue=null,sr.dependencies=null,sr.stateNode=null):(sr.childLanes=ir.childLanes,sr.lanes=ir.lanes,sr.child=ir.child,sr.subtreeFlags=0,sr.deletions=null,sr.memoizedProps=ir.memoizedProps,sr.memoizedState=ir.memoizedState,sr.updateQueue=ir.updateQueue,sr.type=ir.type,er=ir.dependencies,sr.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext}),tr=tr.sibling;return G$2(L$4,L$4.current&1|2),St.child}er=er.sibling}sr.tail!==null&&B$2()>Gj&&(St.flags|=128,rr=!0,Dj(sr,!1),St.lanes=4194304)}else{if(!rr)if(er=Ch(ir),er!==null){if(St.flags|=128,rr=!0,tr=er.updateQueue,tr!==null&&(St.updateQueue=tr,St.flags|=4),Dj(sr,!0),sr.tail===null&&sr.tailMode==="hidden"&&!ir.alternate&&!I$5)return S$5(St),null}else 2*B$2()-sr.renderingStartTime>Gj&&tr!==1073741824&&(St.flags|=128,rr=!0,Dj(sr,!1),St.lanes=4194304);sr.isBackwards?(ir.sibling=St.child,St.child=ir):(tr=sr.last,tr!==null?tr.sibling=ir:St.child=ir,sr.last=ir)}return sr.tail!==null?(St=sr.tail,sr.rendering=St,sr.tail=St.sibling,sr.renderingStartTime=B$2(),St.sibling=null,tr=L$4.current,G$2(L$4,rr?tr&1|2:tr&1),St):(S$5(St),null);case 22:case 23:return Hj(),rr=St.memoizedState!==null,er!==null&&er.memoizedState!==null!==rr&&(St.flags|=8192),rr&&St.mode&1?fj&1073741824&&(S$5(St),St.subtreeFlags&6&&(St.flags|=8192)):S$5(St),null;case 24:return null;case 25:return null}throw Error(p$4(156,St.tag))}function Ij(er,St){switch(wg(St),St.tag){case 1:return Zf(St.type)&&$f(),er=St.flags,er&65536?(St.flags=er&-65537|128,St):null;case 3:return zh(),E$3(Wf),E$3(H$6),Eh(),er=St.flags,er&65536&&!(er&128)?(St.flags=er&-65537|128,St):null;case 5:return Bh(St),null;case 13:if(E$3(L$4),er=St.memoizedState,er!==null&&er.dehydrated!==null){if(St.alternate===null)throw Error(p$4(340));Ig()}return er=St.flags,er&65536?(St.flags=er&-65537|128,St):null;case 19:return E$3(L$4),null;case 4:return zh(),null;case 10:return ah(St.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$4=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(er,St){var tr=er.ref;if(tr!==null)if(typeof tr=="function")try{tr(null)}catch(rr){W$1(er,St,rr)}else tr.current=null}function Mj(er,St,tr){try{tr()}catch(rr){W$1(er,St,rr)}}var Nj=!1;function Oj(er,St){if(Cf=dd,er=Me(),Ne$2(er)){if("selectionStart"in er)var tr={start:er.selectionStart,end:er.selectionEnd};else e:{tr=(tr=er.ownerDocument)&&tr.defaultView||window;var rr=tr.getSelection&&tr.getSelection();if(rr&&rr.rangeCount!==0){tr=rr.anchorNode;var nr=rr.anchorOffset,sr=rr.focusNode;rr=rr.focusOffset;try{tr.nodeType,sr.nodeType}catch{tr=null;break e}var ir=0,ar=-1,or=-1,lr=0,cr=0,ur=er,dr=null;t:for(;;){for(var hr;ur!==tr||nr!==0&&ur.nodeType!==3||(ar=ir+nr),ur!==sr||rr!==0&&ur.nodeType!==3||(or=ir+rr),ur.nodeType===3&&(ir+=ur.nodeValue.length),(hr=ur.firstChild)!==null;)dr=ur,ur=hr;for(;;){if(ur===er)break t;if(dr===tr&&++lr===nr&&(ar=ir),dr===sr&&++cr===rr&&(or=ir),(hr=ur.nextSibling)!==null)break;ur=dr,dr=ur.parentNode}ur=hr}tr=ar===-1||or===-1?null:{start:ar,end:or}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Df={focusedElem:er,selectionRange:tr},dd=!1,V$2=St;V$2!==null;)if(St=V$2,er=St.child,(St.subtreeFlags&1028)!==0&&er!==null)er.return=St,V$2=er;else for(;V$2!==null;){St=V$2;try{var Ar=St.alternate;if(St.flags&1024)switch(St.tag){case 0:case 11:case 15:break;case 1:if(Ar!==null){var fr=Ar.memoizedProps,mr=Ar.memoizedState,pr=St.stateNode,gr=pr.getSnapshotBeforeUpdate(St.elementType===St.type?fr:Ci(St.type,fr),mr);pr.__reactInternalSnapshotBeforeUpdate=gr}break;case 3:var xr=St.stateNode.containerInfo;xr.nodeType===1?xr.textContent="":xr.nodeType===9&&xr.documentElement&&xr.removeChild(xr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(yr){W$1(St,St.return,yr)}if(er=St.sibling,er!==null){er.return=St.return,V$2=er;break}V$2=St.return}return Ar=Nj,Nj=!1,Ar}function Pj(er,St,tr){var rr=St.updateQueue;if(rr=rr!==null?rr.lastEffect:null,rr!==null){var nr=rr=rr.next;do{if((nr.tag&er)===er){var sr=nr.destroy;nr.destroy=void 0,sr!==void 0&&Mj(St,tr,sr)}nr=nr.next}while(nr!==rr)}}function Qj(er,St){if(St=St.updateQueue,St=St!==null?St.lastEffect:null,St!==null){var tr=St=St.next;do{if((tr.tag&er)===er){var rr=tr.create;tr.destroy=rr()}tr=tr.next}while(tr!==St)}}function Rj(er){var St=er.ref;if(St!==null){var tr=er.stateNode;switch(er.tag){case 5:er=tr;break;default:er=tr}typeof St=="function"?St(er):St.current=er}}function Sj(er){var St=er.alternate;St!==null&&(er.alternate=null,Sj(St)),er.child=null,er.deletions=null,er.sibling=null,er.tag===5&&(St=er.stateNode,St!==null&&(delete St[Of],delete St[Pf],delete St[of],delete St[Qf],delete St[Rf])),er.stateNode=null,er.return=null,er.dependencies=null,er.memoizedProps=null,er.memoizedState=null,er.pendingProps=null,er.stateNode=null,er.updateQueue=null}function Tj(er){return er.tag===5||er.tag===3||er.tag===4}function Uj(er){e:for(;;){for(;er.sibling===null;){if(er.return===null||Tj(er.return))return null;er=er.return}for(er.sibling.return=er.return,er=er.sibling;er.tag!==5&&er.tag!==6&&er.tag!==18;){if(er.flags&2||er.child===null||er.tag===4)continue e;er.child.return=er,er=er.child}if(!(er.flags&2))return er.stateNode}}function Vj(er,St,tr){var rr=er.tag;if(rr===5||rr===6)er=er.stateNode,St?tr.nodeType===8?tr.parentNode.insertBefore(er,St):tr.insertBefore(er,St):(tr.nodeType===8?(St=tr.parentNode,St.insertBefore(er,tr)):(St=tr,St.appendChild(er)),tr=tr._reactRootContainer,tr!=null||St.onclick!==null||(St.onclick=Bf));else if(rr!==4&&(er=er.child,er!==null))for(Vj(er,St,tr),er=er.sibling;er!==null;)Vj(er,St,tr),er=er.sibling}function Wj(er,St,tr){var rr=er.tag;if(rr===5||rr===6)er=er.stateNode,St?tr.insertBefore(er,St):tr.appendChild(er);else if(rr!==4&&(er=er.child,er!==null))for(Wj(er,St,tr),er=er.sibling;er!==null;)Wj(er,St,tr),er=er.sibling}var X$4=null,Xj=!1;function Yj(er,St,tr){for(tr=tr.child;tr!==null;)Zj(er,St,tr),tr=tr.sibling}function Zj(er,St,tr){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,tr)}catch{}switch(tr.tag){case 5:U$4||Lj(tr,St);case 6:var rr=X$4,nr=Xj;X$4=null,Yj(er,St,tr),X$4=rr,Xj=nr,X$4!==null&&(Xj?(er=X$4,tr=tr.stateNode,er.nodeType===8?er.parentNode.removeChild(tr):er.removeChild(tr)):X$4.removeChild(tr.stateNode));break;case 18:X$4!==null&&(Xj?(er=X$4,tr=tr.stateNode,er.nodeType===8?Kf(er.parentNode,tr):er.nodeType===1&&Kf(er,tr),bd(er)):Kf(X$4,tr.stateNode));break;case 4:rr=X$4,nr=Xj,X$4=tr.stateNode.containerInfo,Xj=!0,Yj(er,St,tr),X$4=rr,Xj=nr;break;case 0:case 11:case 14:case 15:if(!U$4&&(rr=tr.updateQueue,rr!==null&&(rr=rr.lastEffect,rr!==null))){nr=rr=rr.next;do{var sr=nr,ir=sr.destroy;sr=sr.tag,ir!==void 0&&(sr&2||sr&4)&&Mj(tr,St,ir),nr=nr.next}while(nr!==rr)}Yj(er,St,tr);break;case 1:if(!U$4&&(Lj(tr,St),rr=tr.stateNode,typeof rr.componentWillUnmount=="function"))try{rr.props=tr.memoizedProps,rr.state=tr.memoizedState,rr.componentWillUnmount()}catch(ar){W$1(tr,St,ar)}Yj(er,St,tr);break;case 21:Yj(er,St,tr);break;case 22:tr.mode&1?(U$4=(rr=U$4)||tr.memoizedState!==null,Yj(er,St,tr),U$4=rr):Yj(er,St,tr);break;default:Yj(er,St,tr)}}function ak(er){var St=er.updateQueue;if(St!==null){er.updateQueue=null;var tr=er.stateNode;tr===null&&(tr=er.stateNode=new Kj),St.forEach(function(rr){var nr=bk.bind(null,er,rr);tr.has(rr)||(tr.add(rr),rr.then(nr,nr))})}}function ck(er,St){var tr=St.deletions;if(tr!==null)for(var rr=0;rr<tr.length;rr++){var nr=tr[rr];try{var sr=er,ir=St,ar=ir;e:for(;ar!==null;){switch(ar.tag){case 5:X$4=ar.stateNode,Xj=!1;break e;case 3:X$4=ar.stateNode.containerInfo,Xj=!0;break e;case 4:X$4=ar.stateNode.containerInfo,Xj=!0;break e}ar=ar.return}if(X$4===null)throw Error(p$4(160));Zj(sr,ir,nr),X$4=null,Xj=!1;var or=nr.alternate;or!==null&&(or.return=null),nr.return=null}catch(lr){W$1(nr,St,lr)}}if(St.subtreeFlags&12854)for(St=St.child;St!==null;)dk(St,er),St=St.sibling}function dk(er,St){var tr=er.alternate,rr=er.flags;switch(er.tag){case 0:case 11:case 14:case 15:if(ck(St,er),ek(er),rr&4){try{Pj(3,er,er.return),Qj(3,er)}catch(fr){W$1(er,er.return,fr)}try{Pj(5,er,er.return)}catch(fr){W$1(er,er.return,fr)}}break;case 1:ck(St,er),ek(er),rr&512&&tr!==null&&Lj(tr,tr.return);break;case 5:if(ck(St,er),ek(er),rr&512&&tr!==null&&Lj(tr,tr.return),er.flags&32){var nr=er.stateNode;try{ob(nr,"")}catch(fr){W$1(er,er.return,fr)}}if(rr&4&&(nr=er.stateNode,nr!=null)){var sr=er.memoizedProps,ir=tr!==null?tr.memoizedProps:sr,ar=er.type,or=er.updateQueue;if(er.updateQueue=null,or!==null)try{ar==="input"&&sr.type==="radio"&&sr.name!=null&&ab(nr,sr),vb(ar,ir);var lr=vb(ar,sr);for(ir=0;ir<or.length;ir+=2){var cr=or[ir],ur=or[ir+1];cr==="style"?sb(nr,ur):cr==="dangerouslySetInnerHTML"?nb(nr,ur):cr==="children"?ob(nr,ur):ta(nr,cr,ur,lr)}switch(ar){case"input":bb(nr,sr);break;case"textarea":ib(nr,sr);break;case"select":var dr=nr._wrapperState.wasMultiple;nr._wrapperState.wasMultiple=!!sr.multiple;var hr=sr.value;hr!=null?fb(nr,!!sr.multiple,hr,!1):dr!==!!sr.multiple&&(sr.defaultValue!=null?fb(nr,!!sr.multiple,sr.defaultValue,!0):fb(nr,!!sr.multiple,sr.multiple?[]:"",!1))}nr[Pf]=sr}catch(fr){W$1(er,er.return,fr)}}break;case 6:if(ck(St,er),ek(er),rr&4){if(er.stateNode===null)throw Error(p$4(162));nr=er.stateNode,sr=er.memoizedProps;try{nr.nodeValue=sr}catch(fr){W$1(er,er.return,fr)}}break;case 3:if(ck(St,er),ek(er),rr&4&&tr!==null&&tr.memoizedState.isDehydrated)try{bd(St.containerInfo)}catch(fr){W$1(er,er.return,fr)}break;case 4:ck(St,er),ek(er);break;case 13:ck(St,er),ek(er),nr=er.child,nr.flags&8192&&(sr=nr.memoizedState!==null,nr.stateNode.isHidden=sr,!sr||nr.alternate!==null&&nr.alternate.memoizedState!==null||(fk=B$2())),rr&4&&ak(er);break;case 22:if(cr=tr!==null&&tr.memoizedState!==null,er.mode&1?(U$4=(lr=U$4)||cr,ck(St,er),U$4=lr):ck(St,er),ek(er),rr&8192){if(lr=er.memoizedState!==null,(er.stateNode.isHidden=lr)&&!cr&&er.mode&1)for(V$2=er,cr=er.child;cr!==null;){for(ur=V$2=cr;V$2!==null;){switch(dr=V$2,hr=dr.child,dr.tag){case 0:case 11:case 14:case 15:Pj(4,dr,dr.return);break;case 1:Lj(dr,dr.return);var Ar=dr.stateNode;if(typeof Ar.componentWillUnmount=="function"){rr=dr,tr=dr.return;try{St=rr,Ar.props=St.memoizedProps,Ar.state=St.memoizedState,Ar.componentWillUnmount()}catch(fr){W$1(rr,tr,fr)}}break;case 5:Lj(dr,dr.return);break;case 22:if(dr.memoizedState!==null){gk(ur);continue}}hr!==null?(hr.return=dr,V$2=hr):gk(ur)}cr=cr.sibling}e:for(cr=null,ur=er;;){if(ur.tag===5){if(cr===null){cr=ur;try{nr=ur.stateNode,lr?(sr=nr.style,typeof sr.setProperty=="function"?sr.setProperty("display","none","important"):sr.display="none"):(ar=ur.stateNode,or=ur.memoizedProps.style,ir=or!=null&&or.hasOwnProperty("display")?or.display:null,ar.style.display=rb("display",ir))}catch(fr){W$1(er,er.return,fr)}}}else if(ur.tag===6){if(cr===null)try{ur.stateNode.nodeValue=lr?"":ur.memoizedProps}catch(fr){W$1(er,er.return,fr)}}else if((ur.tag!==22&&ur.tag!==23||ur.memoizedState===null||ur===er)&&ur.child!==null){ur.child.return=ur,ur=ur.child;continue}if(ur===er)break e;for(;ur.sibling===null;){if(ur.return===null||ur.return===er)break e;cr===ur&&(cr=null),ur=ur.return}cr===ur&&(cr=null),ur.sibling.return=ur.return,ur=ur.sibling}}break;case 19:ck(St,er),ek(er),rr&4&&ak(er);break;case 21:break;default:ck(St,er),ek(er)}}function ek(er){var St=er.flags;if(St&2){try{e:{for(var tr=er.return;tr!==null;){if(Tj(tr)){var rr=tr;break e}tr=tr.return}throw Error(p$4(160))}switch(rr.tag){case 5:var nr=rr.stateNode;rr.flags&32&&(ob(nr,""),rr.flags&=-33);var sr=Uj(er);Wj(er,sr,nr);break;case 3:case 4:var ir=rr.stateNode.containerInfo,ar=Uj(er);Vj(er,ar,ir);break;default:throw Error(p$4(161))}}catch(or){W$1(er,er.return,or)}er.flags&=-3}St&4096&&(er.flags&=-4097)}function hk(er,St,tr){V$2=er,ik(er)}function ik(er,St,tr){for(var rr=(er.mode&1)!==0;V$2!==null;){var nr=V$2,sr=nr.child;if(nr.tag===22&&rr){var ir=nr.memoizedState!==null||Jj;if(!ir){var ar=nr.alternate,or=ar!==null&&ar.memoizedState!==null||U$4;ar=Jj;var lr=U$4;if(Jj=ir,(U$4=or)&&!lr)for(V$2=nr;V$2!==null;)ir=V$2,or=ir.child,ir.tag===22&&ir.memoizedState!==null?jk(nr):or!==null?(or.return=ir,V$2=or):jk(nr);for(;sr!==null;)V$2=sr,ik(sr),sr=sr.sibling;V$2=nr,Jj=ar,U$4=lr}kk(er)}else nr.subtreeFlags&8772&&sr!==null?(sr.return=nr,V$2=sr):kk(er)}}function kk(er){for(;V$2!==null;){var St=V$2;if(St.flags&8772){var tr=St.alternate;try{if(St.flags&8772)switch(St.tag){case 0:case 11:case 15:U$4||Qj(5,St);break;case 1:var rr=St.stateNode;if(St.flags&4&&!U$4)if(tr===null)rr.componentDidMount();else{var nr=St.elementType===St.type?tr.memoizedProps:Ci(St.type,tr.memoizedProps);rr.componentDidUpdate(nr,tr.memoizedState,rr.__reactInternalSnapshotBeforeUpdate)}var sr=St.updateQueue;sr!==null&&sh(St,sr,rr);break;case 3:var ir=St.updateQueue;if(ir!==null){if(tr=null,St.child!==null)switch(St.child.tag){case 5:tr=St.child.stateNode;break;case 1:tr=St.child.stateNode}sh(St,ir,tr)}break;case 5:var ar=St.stateNode;if(tr===null&&St.flags&4){tr=ar;var or=St.memoizedProps;switch(St.type){case"button":case"input":case"select":case"textarea":or.autoFocus&&tr.focus();break;case"img":or.src&&(tr.src=or.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(St.memoizedState===null){var lr=St.alternate;if(lr!==null){var cr=lr.memoizedState;if(cr!==null){var ur=cr.dehydrated;ur!==null&&bd(ur)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$4||St.flags&512&&Rj(St)}catch(dr){W$1(St,St.return,dr)}}if(St===er){V$2=null;break}if(tr=St.sibling,tr!==null){tr.return=St.return,V$2=tr;break}V$2=St.return}}function gk(er){for(;V$2!==null;){var St=V$2;if(St===er){V$2=null;break}var tr=St.sibling;if(tr!==null){tr.return=St.return,V$2=tr;break}V$2=St.return}}function jk(er){for(;V$2!==null;){var St=V$2;try{switch(St.tag){case 0:case 11:case 15:var tr=St.return;try{Qj(4,St)}catch(or){W$1(St,tr,or)}break;case 1:var rr=St.stateNode;if(typeof rr.componentDidMount=="function"){var nr=St.return;try{rr.componentDidMount()}catch(or){W$1(St,nr,or)}}var sr=St.return;try{Rj(St)}catch(or){W$1(St,sr,or)}break;case 5:var ir=St.return;try{Rj(St)}catch(or){W$1(St,ir,or)}}}catch(or){W$1(St,St.return,or)}if(St===er){V$2=null;break}var ar=St.sibling;if(ar!==null){ar.return=St.return,V$2=ar;break}V$2=St.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$1=null,Y$1=null,Z$2=0,fj=0,ej=Uf(0),T$5=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(er){return er.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(er=C$6,er!==0||(er=window.event,er=er===void 0?16:jd(er.type)),er):1}function gi(er,St,tr,rr){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(er,tr,rr),(!(K$2&2)||er!==Q$1)&&(er===Q$1&&(!(K$2&2)&&(qk|=tr),T$5===4&&Ck(er,Z$2)),Dk(er,rr),tr===1&&K$2===0&&!(St.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(er,St){var tr=er.callbackNode;wc(er,St);var rr=uc(er,er===Q$1?Z$2:0);if(rr===0)tr!==null&&bc(tr),er.callbackNode=null,er.callbackPriority=0;else if(St=rr&-rr,er.callbackPriority!==St){if(tr!=null&&bc(tr),St===1)er.tag===0?ig(Ek.bind(null,er)):hg(Ek.bind(null,er)),Jf(function(){!(K$2&6)&&jg()}),tr=null;else{switch(Dc(rr)){case 1:tr=fc;break;case 4:tr=gc;break;case 16:tr=hc;break;case 536870912:tr=jc;break;default:tr=hc}tr=Fk(tr,Gk.bind(null,er))}er.callbackPriority=St,er.callbackNode=tr}}function Gk(er,St){if(Ak=-1,Bk=0,K$2&6)throw Error(p$4(327));var tr=er.callbackNode;if(Hk()&&er.callbackNode!==tr)return null;var rr=uc(er,er===Q$1?Z$2:0);if(rr===0)return null;if(rr&30||rr&er.expiredLanes||St)St=Ik(er,rr);else{St=rr;var nr=K$2;K$2|=2;var sr=Jk();(Q$1!==er||Z$2!==St)&&(uk=null,Gj=B$2()+500,Kk(er,St));do try{Lk();break}catch(ar){Mk(er,ar)}while(!0);$g(),mk.current=sr,K$2=nr,Y$1!==null?St=0:(Q$1=null,Z$2=0,St=T$5)}if(St!==0){if(St===2&&(nr=xc(er),nr!==0&&(rr=nr,St=Nk(er,nr))),St===1)throw tr=pk,Kk(er,0),Ck(er,rr),Dk(er,B$2()),tr;if(St===6)Ck(er,rr);else{if(nr=er.current.alternate,!(rr&30)&&!Ok(nr)&&(St=Ik(er,rr),St===2&&(sr=xc(er),sr!==0&&(rr=sr,St=Nk(er,sr))),St===1))throw tr=pk,Kk(er,0),Ck(er,rr),Dk(er,B$2()),tr;switch(er.finishedWork=nr,er.finishedLanes=rr,St){case 0:case 1:throw Error(p$4(345));case 2:Pk(er,tk,uk);break;case 3:if(Ck(er,rr),(rr&130023424)===rr&&(St=fk+500-B$2(),10<St)){if(uc(er,0)!==0)break;if(nr=er.suspendedLanes,(nr&rr)!==rr){R$2(),er.pingedLanes|=er.suspendedLanes&nr;break}er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),St);break}Pk(er,tk,uk);break;case 4:if(Ck(er,rr),(rr&4194240)===rr)break;for(St=er.eventTimes,nr=-1;0<rr;){var ir=31-oc(rr);sr=1<<ir,ir=St[ir],ir>nr&&(nr=ir),rr&=~sr}if(rr=nr,rr=B$2()-rr,rr=(120>rr?120:480>rr?480:1080>rr?1080:1920>rr?1920:3e3>rr?3e3:4320>rr?4320:1960*lk(rr/1960))-rr,10<rr){er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),rr);break}Pk(er,tk,uk);break;case 5:Pk(er,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(er,B$2()),er.callbackNode===tr?Gk.bind(null,er):null}function Nk(er,St){var tr=sk;return er.current.memoizedState.isDehydrated&&(Kk(er,St).flags|=256),er=Ik(er,St),er!==2&&(St=tk,tk=tr,St!==null&&Fj(St)),er}function Fj(er){tk===null?tk=er:tk.push.apply(tk,er)}function Ok(er){for(var St=er;;){if(St.flags&16384){var tr=St.updateQueue;if(tr!==null&&(tr=tr.stores,tr!==null))for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],sr=nr.getSnapshot;nr=nr.value;try{if(!He$2(sr(),nr))return!1}catch{return!1}}}if(tr=St.child,St.subtreeFlags&16384&&tr!==null)tr.return=St,St=tr;else{if(St===er)break;for(;St.sibling===null;){if(St.return===null||St.return===er)return!0;St=St.return}St.sibling.return=St.return,St=St.sibling}}return!0}function Ck(er,St){for(St&=~rk,St&=~qk,er.suspendedLanes|=St,er.pingedLanes&=~St,er=er.expirationTimes;0<St;){var tr=31-oc(St),rr=1<<tr;er[tr]=-1,St&=~rr}}function Ek(er){if(K$2&6)throw Error(p$4(327));Hk();var St=uc(er,0);if(!(St&1))return Dk(er,B$2()),null;var tr=Ik(er,St);if(er.tag!==0&&tr===2){var rr=xc(er);rr!==0&&(St=rr,tr=Nk(er,rr))}if(tr===1)throw tr=pk,Kk(er,0),Ck(er,St),Dk(er,B$2()),tr;if(tr===6)throw Error(p$4(345));return er.finishedWork=er.current.alternate,er.finishedLanes=St,Pk(er,tk,uk),Dk(er,B$2()),null}function Qk(er,St){var tr=K$2;K$2|=1;try{return er(St)}finally{K$2=tr,K$2===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(er){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var St=K$2;K$2|=1;var tr=ok.transition,rr=C$6;try{if(ok.transition=null,C$6=1,er)return er()}finally{C$6=rr,ok.transition=tr,K$2=St,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(er,St){er.finishedWork=null,er.finishedLanes=0;var tr=er.timeoutHandle;if(tr!==-1&&(er.timeoutHandle=-1,Gf(tr)),Y$1!==null)for(tr=Y$1.return;tr!==null;){var rr=tr;switch(wg(rr),rr.tag){case 1:rr=rr.type.childContextTypes,rr!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$6),Eh();break;case 5:Bh(rr);break;case 4:zh();break;case 13:E$3(L$4);break;case 19:E$3(L$4);break;case 10:ah(rr.type._context);break;case 22:case 23:Hj()}tr=tr.return}if(Q$1=er,Y$1=er=Pg(er.current,null),Z$2=fj=St,T$5=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(St=0;St<fh.length;St++)if(tr=fh[St],rr=tr.interleaved,rr!==null){tr.interleaved=null;var nr=rr.next,sr=tr.pending;if(sr!==null){var ir=sr.next;sr.next=nr,rr.next=ir}tr.pending=rr}fh=null}return er}function Mk(er,St){do{var tr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var rr=M$4.memoizedState;rr!==null;){var nr=rr.queue;nr!==null&&(nr.pending=null),rr=rr.next}Ih=!1}if(Hh=0,O$4=N$1=M$4=null,Jh=!1,Kh=0,nk.current=null,tr===null||tr.return===null){T$5=1,pk=St,Y$1=null;break}e:{var sr=er,ir=tr.return,ar=tr,or=St;if(St=Z$2,ar.flags|=32768,or!==null&&typeof or=="object"&&typeof or.then=="function"){var lr=or,cr=ar,ur=cr.tag;if(!(cr.mode&1)&&(ur===0||ur===11||ur===15)){var dr=cr.alternate;dr?(cr.updateQueue=dr.updateQueue,cr.memoizedState=dr.memoizedState,cr.lanes=dr.lanes):(cr.updateQueue=null,cr.memoizedState=null)}var hr=Ui(ir);if(hr!==null){hr.flags&=-257,Vi(hr,ir,ar,sr,St),hr.mode&1&&Si(sr,lr,St),St=hr,or=lr;var Ar=St.updateQueue;if(Ar===null){var fr=new Set;fr.add(or),St.updateQueue=fr}else Ar.add(or);break e}else{if(!(St&1)){Si(sr,lr,St),tj();break e}or=Error(p$4(426))}}else if(I$5&&ar.mode&1){var mr=Ui(ir);if(mr!==null){!(mr.flags&65536)&&(mr.flags|=256),Vi(mr,ir,ar,sr,St),Jg(Ji(or,ar));break e}}sr=or=Ji(or,ar),T$5!==4&&(T$5=2),sk===null?sk=[sr]:sk.push(sr),sr=ir;do{switch(sr.tag){case 3:sr.flags|=65536,St&=-St,sr.lanes|=St;var pr=Ni(sr,or,St);ph(sr,pr);break e;case 1:ar=or;var gr=sr.type,xr=sr.stateNode;if(!(sr.flags&128)&&(typeof gr.getDerivedStateFromError=="function"||xr!==null&&typeof xr.componentDidCatch=="function"&&(Ri===null||!Ri.has(xr)))){sr.flags|=65536,St&=-St,sr.lanes|=St;var yr=Qi(sr,ar,St);ph(sr,yr);break e}}sr=sr.return}while(sr!==null)}Sk(tr)}catch(Er){St=Er,Y$1===tr&&tr!==null&&(Y$1=tr=tr.return);continue}break}while(!0)}function Jk(){var er=mk.current;return mk.current=Rh,er===null?Rh:er}function tj(){(T$5===0||T$5===3||T$5===2)&&(T$5=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$2)}function Ik(er,St){var tr=K$2;K$2|=2;var rr=Jk();(Q$1!==er||Z$2!==St)&&(uk=null,Kk(er,St));do try{Tk();break}catch(nr){Mk(er,nr)}while(!0);if($g(),K$2=tr,mk.current=rr,Y$1!==null)throw Error(p$4(261));return Q$1=null,Z$2=0,T$5}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(er){var St=Vk(er.alternate,er,fj);er.memoizedProps=er.pendingProps,St===null?Sk(er):Y$1=St,nk.current=null}function Sk(er){var St=er;do{var tr=St.alternate;if(er=St.return,St.flags&32768){if(tr=Ij(tr,St),tr!==null){tr.flags&=32767,Y$1=tr;return}if(er!==null)er.flags|=32768,er.subtreeFlags=0,er.deletions=null;else{T$5=6,Y$1=null;return}}else if(tr=Ej(tr,St,fj),tr!==null){Y$1=tr;return}if(St=St.sibling,St!==null){Y$1=St;return}Y$1=St=er}while(St!==null);T$5===0&&(T$5=5)}function Pk(er,St,tr){var rr=C$6,nr=ok.transition;try{ok.transition=null,C$6=1,Wk(er,St,tr,rr)}finally{ok.transition=nr,C$6=rr}return null}function Wk(er,St,tr,rr){do Hk();while(wk!==null);if(K$2&6)throw Error(p$4(327));tr=er.finishedWork;var nr=er.finishedLanes;if(tr===null)return null;if(er.finishedWork=null,er.finishedLanes=0,tr===er.current)throw Error(p$4(177));er.callbackNode=null,er.callbackPriority=0;var sr=tr.lanes|tr.childLanes;if(Bc(er,sr),er===Q$1&&(Y$1=Q$1=null,Z$2=0),!(tr.subtreeFlags&2064)&&!(tr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),sr=(tr.flags&15990)!==0,tr.subtreeFlags&15990||sr){sr=ok.transition,ok.transition=null;var ir=C$6;C$6=1;var ar=K$2;K$2|=4,nk.current=null,Oj(er,tr),dk(tr,er),Oe(Df),dd=!!Cf,Df=Cf=null,er.current=tr,hk(tr),dc(),K$2=ar,C$6=ir,ok.transition=sr}else er.current=tr;if(vk&&(vk=!1,wk=er,xk=nr),sr=er.pendingLanes,sr===0&&(Ri=null),mc(tr.stateNode),Dk(er,B$2()),St!==null)for(rr=er.onRecoverableError,tr=0;tr<St.length;tr++)nr=St[tr],rr(nr.value,{componentStack:nr.stack,digest:nr.digest});if(Oi)throw Oi=!1,er=Pi,Pi=null,er;return xk&1&&er.tag!==0&&Hk(),sr=er.pendingLanes,sr&1?er===zk?yk++:(yk=0,zk=er):yk=0,jg(),null}function Hk(){if(wk!==null){var er=Dc(xk),St=ok.transition,tr=C$6;try{if(ok.transition=null,C$6=16>er?16:er,wk===null)var rr=!1;else{if(er=wk,wk=null,xk=0,K$2&6)throw Error(p$4(331));var nr=K$2;for(K$2|=4,V$2=er.current;V$2!==null;){var sr=V$2,ir=sr.child;if(V$2.flags&16){var ar=sr.deletions;if(ar!==null){for(var or=0;or<ar.length;or++){var lr=ar[or];for(V$2=lr;V$2!==null;){var cr=V$2;switch(cr.tag){case 0:case 11:case 15:Pj(8,cr,sr)}var ur=cr.child;if(ur!==null)ur.return=cr,V$2=ur;else for(;V$2!==null;){cr=V$2;var dr=cr.sibling,hr=cr.return;if(Sj(cr),cr===lr){V$2=null;break}if(dr!==null){dr.return=hr,V$2=dr;break}V$2=hr}}}var Ar=sr.alternate;if(Ar!==null){var fr=Ar.child;if(fr!==null){Ar.child=null;do{var mr=fr.sibling;fr.sibling=null,fr=mr}while(fr!==null)}}V$2=sr}}if(sr.subtreeFlags&2064&&ir!==null)ir.return=sr,V$2=ir;else e:for(;V$2!==null;){if(sr=V$2,sr.flags&2048)switch(sr.tag){case 0:case 11:case 15:Pj(9,sr,sr.return)}var pr=sr.sibling;if(pr!==null){pr.return=sr.return,V$2=pr;break e}V$2=sr.return}}var gr=er.current;for(V$2=gr;V$2!==null;){ir=V$2;var xr=ir.child;if(ir.subtreeFlags&2064&&xr!==null)xr.return=ir,V$2=xr;else e:for(ir=gr;V$2!==null;){if(ar=V$2,ar.flags&2048)try{switch(ar.tag){case 0:case 11:case 15:Qj(9,ar)}}catch(Er){W$1(ar,ar.return,Er)}if(ar===ir){V$2=null;break e}var yr=ar.sibling;if(yr!==null){yr.return=ar.return,V$2=yr;break e}V$2=ar.return}}if(K$2=nr,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,er)}catch{}rr=!0}return rr}finally{C$6=tr,ok.transition=St}}return!1}function Xk(er,St,tr){St=Ji(tr,St),St=Ni(er,St,1),er=nh(er,St,1),St=R$2(),er!==null&&(Ac(er,1,St),Dk(er,St))}function W$1(er,St,tr){if(er.tag===3)Xk(er,er,tr);else for(;St!==null;){if(St.tag===3){Xk(St,er,tr);break}else if(St.tag===1){var rr=St.stateNode;if(typeof St.type.getDerivedStateFromError=="function"||typeof rr.componentDidCatch=="function"&&(Ri===null||!Ri.has(rr))){er=Ji(tr,er),er=Qi(St,er,1),St=nh(St,er,1),er=R$2(),St!==null&&(Ac(St,1,er),Dk(St,er));break}}St=St.return}}function Ti(er,St,tr){var rr=er.pingCache;rr!==null&&rr.delete(St),St=R$2(),er.pingedLanes|=er.suspendedLanes&tr,Q$1===er&&(Z$2&tr)===tr&&(T$5===4||T$5===3&&(Z$2&130023424)===Z$2&&500>B$2()-fk?Kk(er,0):rk|=tr),Dk(er,St)}function Yk(er,St){St===0&&(er.mode&1?(St=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):St=1);var tr=R$2();er=ih(er,St),er!==null&&(Ac(er,St,tr),Dk(er,tr))}function uj(er){var St=er.memoizedState,tr=0;St!==null&&(tr=St.retryLane),Yk(er,tr)}function bk(er,St){var tr=0;switch(er.tag){case 13:var rr=er.stateNode,nr=er.memoizedState;nr!==null&&(tr=nr.retryLane);break;case 19:rr=er.stateNode;break;default:throw Error(p$4(314))}rr!==null&&rr.delete(St),Yk(er,tr)}var Vk;Vk=function(er,St,tr){if(er!==null)if(er.memoizedProps!==St.pendingProps||Wf.current)dh=!0;else{if(!(er.lanes&tr)&&!(St.flags&128))return dh=!1,yj(er,St,tr);dh=!!(er.flags&131072)}else dh=!1,I$5&&St.flags&1048576&&ug(St,ng,St.index);switch(St.lanes=0,St.tag){case 2:var rr=St.type;ij(er,St),er=St.pendingProps;var nr=Yf(St,H$6.current);ch(St,tr),nr=Nh(null,St,rr,er,nr,tr);var sr=Sh();return St.flags|=1,typeof nr=="object"&&nr!==null&&typeof nr.render=="function"&&nr.$$typeof===void 0?(St.tag=1,St.memoizedState=null,St.updateQueue=null,Zf(rr)?(sr=!0,cg(St)):sr=!1,St.memoizedState=nr.state!==null&&nr.state!==void 0?nr.state:null,kh(St),nr.updater=Ei,St.stateNode=nr,nr._reactInternals=St,Ii(St,rr,er,tr),St=jj(null,St,rr,!0,sr,tr)):(St.tag=0,I$5&&sr&&vg(St),Xi(null,St,nr,tr),St=St.child),St;case 16:rr=St.elementType;e:{switch(ij(er,St),er=St.pendingProps,nr=rr._init,rr=nr(rr._payload),St.type=rr,nr=St.tag=Zk(rr),er=Ci(rr,er),nr){case 0:St=cj(null,St,rr,er,tr);break e;case 1:St=hj(null,St,rr,er,tr);break e;case 11:St=Yi(null,St,rr,er,tr);break e;case 14:St=$i(null,St,rr,Ci(rr.type,er),tr);break e}throw Error(p$4(306,rr,""))}return St;case 0:return rr=St.type,nr=St.pendingProps,nr=St.elementType===rr?nr:Ci(rr,nr),cj(er,St,rr,nr,tr);case 1:return rr=St.type,nr=St.pendingProps,nr=St.elementType===rr?nr:Ci(rr,nr),hj(er,St,rr,nr,tr);case 3:e:{if(kj(St),er===null)throw Error(p$4(387));rr=St.pendingProps,sr=St.memoizedState,nr=sr.element,lh(er,St),qh(St,rr,null,tr);var ir=St.memoizedState;if(rr=ir.element,sr.isDehydrated)if(sr={element:rr,isDehydrated:!1,cache:ir.cache,pendingSuspenseBoundaries:ir.pendingSuspenseBoundaries,transitions:ir.transitions},St.updateQueue.baseState=sr,St.memoizedState=sr,St.flags&256){nr=Ji(Error(p$4(423)),St),St=lj(er,St,rr,tr,nr);break e}else if(rr!==nr){nr=Ji(Error(p$4(424)),St),St=lj(er,St,rr,tr,nr);break e}else for(yg=Lf(St.stateNode.containerInfo.firstChild),xg=St,I$5=!0,zg=null,tr=Vg(St,null,rr,tr),St.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling;else{if(Ig(),rr===nr){St=Zi(er,St,tr);break e}Xi(er,St,rr,tr)}St=St.child}return St;case 5:return Ah(St),er===null&&Eg(St),rr=St.type,nr=St.pendingProps,sr=er!==null?er.memoizedProps:null,ir=nr.children,Ef(rr,nr)?ir=null:sr!==null&&Ef(rr,sr)&&(St.flags|=32),gj(er,St),Xi(er,St,ir,tr),St.child;case 6:return er===null&&Eg(St),null;case 13:return oj(er,St,tr);case 4:return yh(St,St.stateNode.containerInfo),rr=St.pendingProps,er===null?St.child=Ug(St,null,rr,tr):Xi(er,St,rr,tr),St.child;case 11:return rr=St.type,nr=St.pendingProps,nr=St.elementType===rr?nr:Ci(rr,nr),Yi(er,St,rr,nr,tr);case 7:return Xi(er,St,St.pendingProps,tr),St.child;case 8:return Xi(er,St,St.pendingProps.children,tr),St.child;case 12:return Xi(er,St,St.pendingProps.children,tr),St.child;case 10:e:{if(rr=St.type._context,nr=St.pendingProps,sr=St.memoizedProps,ir=nr.value,G$2(Wg,rr._currentValue),rr._currentValue=ir,sr!==null)if(He$2(sr.value,ir)){if(sr.children===nr.children&&!Wf.current){St=Zi(er,St,tr);break e}}else for(sr=St.child,sr!==null&&(sr.return=St);sr!==null;){var ar=sr.dependencies;if(ar!==null){ir=sr.child;for(var or=ar.firstContext;or!==null;){if(or.context===rr){if(sr.tag===1){or=mh(-1,tr&-tr),or.tag=2;var lr=sr.updateQueue;if(lr!==null){lr=lr.shared;var cr=lr.pending;cr===null?or.next=or:(or.next=cr.next,cr.next=or),lr.pending=or}}sr.lanes|=tr,or=sr.alternate,or!==null&&(or.lanes|=tr),bh(sr.return,tr,St),ar.lanes|=tr;break}or=or.next}}else if(sr.tag===10)ir=sr.type===St.type?null:sr.child;else if(sr.tag===18){if(ir=sr.return,ir===null)throw Error(p$4(341));ir.lanes|=tr,ar=ir.alternate,ar!==null&&(ar.lanes|=tr),bh(ir,tr,St),ir=sr.sibling}else ir=sr.child;if(ir!==null)ir.return=sr;else for(ir=sr;ir!==null;){if(ir===St){ir=null;break}if(sr=ir.sibling,sr!==null){sr.return=ir.return,ir=sr;break}ir=ir.return}sr=ir}Xi(er,St,nr.children,tr),St=St.child}return St;case 9:return nr=St.type,rr=St.pendingProps.children,ch(St,tr),nr=eh(nr),rr=rr(nr),St.flags|=1,Xi(er,St,rr,tr),St.child;case 14:return rr=St.type,nr=Ci(rr,St.pendingProps),nr=Ci(rr.type,nr),$i(er,St,rr,nr,tr);case 15:return bj(er,St,St.type,St.pendingProps,tr);case 17:return rr=St.type,nr=St.pendingProps,nr=St.elementType===rr?nr:Ci(rr,nr),ij(er,St),St.tag=1,Zf(rr)?(er=!0,cg(St)):er=!1,ch(St,tr),Gi(St,rr,nr),Ii(St,rr,nr,tr),jj(null,St,rr,!0,er,tr);case 19:return xj(er,St,tr);case 22:return dj(er,St,tr)}throw Error(p$4(156,St.tag))};function Fk(er,St){return ac(er,St)}function $k(er,St,tr,rr){this.tag=er,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=St,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(er,St,tr,rr){return new $k(er,St,tr,rr)}function aj(er){return er=er.prototype,!(!er||!er.isReactComponent)}function Zk(er){if(typeof er=="function")return aj(er)?1:0;if(er!=null){if(er=er.$$typeof,er===Da)return 11;if(er===Ga)return 14}return 2}function Pg(er,St){var tr=er.alternate;return tr===null?(tr=Bg(er.tag,St,er.key,er.mode),tr.elementType=er.elementType,tr.type=er.type,tr.stateNode=er.stateNode,tr.alternate=er,er.alternate=tr):(tr.pendingProps=St,tr.type=er.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=er.flags&14680064,tr.childLanes=er.childLanes,tr.lanes=er.lanes,tr.child=er.child,tr.memoizedProps=er.memoizedProps,tr.memoizedState=er.memoizedState,tr.updateQueue=er.updateQueue,St=er.dependencies,tr.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext},tr.sibling=er.sibling,tr.index=er.index,tr.ref=er.ref,tr}function Rg(er,St,tr,rr,nr,sr){var ir=2;if(rr=er,typeof er=="function")aj(er)&&(ir=1);else if(typeof er=="string")ir=5;else e:switch(er){case ya:return Tg(tr.children,nr,sr,St);case za:ir=8,nr|=8;break;case Aa:return er=Bg(12,tr,St,nr|2),er.elementType=Aa,er.lanes=sr,er;case Ea:return er=Bg(13,tr,St,nr),er.elementType=Ea,er.lanes=sr,er;case Fa:return er=Bg(19,tr,St,nr),er.elementType=Fa,er.lanes=sr,er;case Ia:return pj(tr,nr,sr,St);default:if(typeof er=="object"&&er!==null)switch(er.$$typeof){case Ba:ir=10;break e;case Ca:ir=9;break e;case Da:ir=11;break e;case Ga:ir=14;break e;case Ha:ir=16,rr=null;break e}throw Error(p$4(130,er==null?er:typeof er,""))}return St=Bg(ir,tr,St,nr),St.elementType=er,St.type=rr,St.lanes=sr,St}function Tg(er,St,tr,rr){return er=Bg(7,er,rr,St),er.lanes=tr,er}function pj(er,St,tr,rr){return er=Bg(22,er,rr,St),er.elementType=Ia,er.lanes=tr,er.stateNode={isHidden:!1},er}function Qg(er,St,tr){return er=Bg(6,er,null,St),er.lanes=tr,er}function Sg(er,St,tr){return St=Bg(4,er.children!==null?er.children:[],er.key,St),St.lanes=tr,St.stateNode={containerInfo:er.containerInfo,pendingChildren:null,implementation:er.implementation},St}function al(er,St,tr,rr,nr){this.tag=St,this.containerInfo=er,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rr,this.onRecoverableError=nr,this.mutableSourceEagerHydrationData=null}function bl(er,St,tr,rr,nr,sr,ir,ar,or){return er=new al(er,St,tr,ar,or),St===1?(St=1,sr===!0&&(St|=8)):St=0,sr=Bg(3,null,null,St),er.current=sr,sr.stateNode=er,sr.memoizedState={element:rr,isDehydrated:tr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(sr),er}function cl(er,St,tr){var rr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rr==null?null:""+rr,children:er,containerInfo:St,implementation:tr}}function dl(er){if(!er)return Vf;er=er._reactInternals;e:{if(Vb(er)!==er||er.tag!==1)throw Error(p$4(170));var St=er;do{switch(St.tag){case 3:St=St.stateNode.context;break e;case 1:if(Zf(St.type)){St=St.stateNode.__reactInternalMemoizedMergedChildContext;break e}}St=St.return}while(St!==null);throw Error(p$4(171))}if(er.tag===1){var tr=er.type;if(Zf(tr))return bg(er,tr,St)}return St}function el(er,St,tr,rr,nr,sr,ir,ar,or){return er=bl(tr,rr,!0,er,nr,sr,ir,ar,or),er.context=dl(null),tr=er.current,rr=R$2(),nr=yi(tr),sr=mh(rr,nr),sr.callback=St??null,nh(tr,sr,nr),er.current.lanes=nr,Ac(er,nr,rr),Dk(er,rr),er}function fl$1(er,St,tr,rr){var nr=St.current,sr=R$2(),ir=yi(nr);return tr=dl(tr),St.context===null?St.context=tr:St.pendingContext=tr,St=mh(sr,ir),St.payload={element:er},rr=rr===void 0?null:rr,rr!==null&&(St.callback=rr),er=nh(nr,St,ir),er!==null&&(gi(er,nr,ir,sr),oh(er,nr,ir)),ir}function gl(er){if(er=er.current,!er.child)return null;switch(er.child.tag){case 5:return er.child.stateNode;default:return er.child.stateNode}}function hl(er,St){if(er=er.memoizedState,er!==null&&er.dehydrated!==null){var tr=er.retryLane;er.retryLane=tr!==0&&tr<St?tr:St}}function il(er,St){hl(er,St),(er=er.alternate)&&hl(er,St)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(er){console.error(er)};function ll(er){this._internalRoot=er}ml.prototype.render=ll.prototype.render=function(er){var St=this._internalRoot;if(St===null)throw Error(p$4(409));fl$1(er,St,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var er=this._internalRoot;if(er!==null){this._internalRoot=null;var St=er.containerInfo;Rk(function(){fl$1(null,er,null,null)}),St[uf]=null}};function ml(er){this._internalRoot=er}ml.prototype.unstable_scheduleHydration=function(er){if(er){var St=Hc();er={blockedOn:null,target:er,priority:St};for(var tr=0;tr<Qc.length&&St!==0&&St<Qc[tr].priority;tr++);Qc.splice(tr,0,er),tr===0&&Vc(er)}};function nl(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11)}function ol(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11&&(er.nodeType!==8||er.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(er,St,tr,rr,nr){if(nr){if(typeof rr=="function"){var sr=rr;rr=function(){var lr=gl(ir);sr.call(lr)}}var ir=el(St,rr,er,0,null,!1,!1,"",pl);return er._reactRootContainer=ir,er[uf]=ir.current,sf(er.nodeType===8?er.parentNode:er),Rk(),ir}for(;nr=er.lastChild;)er.removeChild(nr);if(typeof rr=="function"){var ar=rr;rr=function(){var lr=gl(or);ar.call(lr)}}var or=bl(er,0,!1,null,null,!1,!1,"",pl);return er._reactRootContainer=or,er[uf]=or.current,sf(er.nodeType===8?er.parentNode:er),Rk(function(){fl$1(St,or,tr,rr)}),or}function rl(er,St,tr,rr,nr){var sr=tr._reactRootContainer;if(sr){var ir=sr;if(typeof nr=="function"){var ar=nr;nr=function(){var or=gl(ir);ar.call(or)}}fl$1(St,ir,er,nr)}else ir=ql(tr,St,er,nr,rr);return gl(ir)}Ec=function(er){switch(er.tag){case 3:var St=er.stateNode;if(St.current.memoizedState.isDehydrated){var tr=tc(St.pendingLanes);tr!==0&&(Cc(St,tr|1),Dk(St,B$2()),!(K$2&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var rr=ih(er,1);if(rr!==null){var nr=R$2();gi(rr,er,1,nr)}}),il(er,1)}};Fc=function(er){if(er.tag===13){var St=ih(er,134217728);if(St!==null){var tr=R$2();gi(St,er,134217728,tr)}il(er,134217728)}};Gc=function(er){if(er.tag===13){var St=yi(er),tr=ih(er,St);if(tr!==null){var rr=R$2();gi(tr,er,St,rr)}il(er,St)}};Hc=function(){return C$6};Ic=function(er,St){var tr=C$6;try{return C$6=er,St()}finally{C$6=tr}};yb=function(er,St,tr){switch(St){case"input":if(bb(er,tr),St=tr.name,tr.type==="radio"&&St!=null){for(tr=er;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll("input[name="+JSON.stringify(""+St)+'][type="radio"]'),St=0;St<tr.length;St++){var rr=tr[St];if(rr!==er&&rr.form===er.form){var nr=Db(rr);if(!nr)throw Error(p$4(90));Wa(rr),bb(rr,nr)}}}break;case"textarea":ib(er,tr);break;case"select":St=tr.value,St!=null&&fb(er,!!tr.multiple,St,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(er){return er=Zb(er),er===null?null:er.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(er,St){var tr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(St))throw Error(p$4(200));return cl(er,St,null,tr)};reactDom_production_min.createRoot=function(er,St){if(!nl(er))throw Error(p$4(299));var tr=!1,rr="",nr=kl;return St!=null&&(St.unstable_strictMode===!0&&(tr=!0),St.identifierPrefix!==void 0&&(rr=St.identifierPrefix),St.onRecoverableError!==void 0&&(nr=St.onRecoverableError)),St=bl(er,1,!1,null,null,tr,!1,rr,nr),er[uf]=St.current,sf(er.nodeType===8?er.parentNode:er),new ll(St)};reactDom_production_min.findDOMNode=function(er){if(er==null)return null;if(er.nodeType===1)return er;var St=er._reactInternals;if(St===void 0)throw typeof er.render=="function"?Error(p$4(188)):(er=Object.keys(er).join(","),Error(p$4(268,er)));return er=Zb(St),er=er===null?null:er.stateNode,er};reactDom_production_min.flushSync=function(er){return Rk(er)};reactDom_production_min.hydrate=function(er,St,tr){if(!ol(St))throw Error(p$4(200));return rl(null,er,St,!0,tr)};reactDom_production_min.hydrateRoot=function(er,St,tr){if(!nl(er))throw Error(p$4(405));var rr=tr!=null&&tr.hydratedSources||null,nr=!1,sr="",ir=kl;if(tr!=null&&(tr.unstable_strictMode===!0&&(nr=!0),tr.identifierPrefix!==void 0&&(sr=tr.identifierPrefix),tr.onRecoverableError!==void 0&&(ir=tr.onRecoverableError)),St=el(St,null,er,1,tr??null,nr,!1,sr,ir),er[uf]=St.current,sf(er),rr)for(er=0;er<rr.length;er++)tr=rr[er],nr=tr._getVersion,nr=nr(tr._source),St.mutableSourceEagerHydrationData==null?St.mutableSourceEagerHydrationData=[tr,nr]:St.mutableSourceEagerHydrationData.push(tr,nr);return new ml(St)};reactDom_production_min.render=function(er,St,tr){if(!ol(St))throw Error(p$4(200));return rl(null,er,St,!1,tr)};reactDom_production_min.unmountComponentAtNode=function(er){if(!ol(er))throw Error(p$4(40));return er._reactRootContainer?(Rk(function(){rl(null,null,er,!1,function(){er._reactRootContainer=null,er[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(er,St,tr,rr){if(!ol(tr))throw Error(p$4(200));if(er==null||er._reactInternals===void 0)throw Error(p$4(38));return rl(er,St,tr,!1,rr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(er){console.error(er)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$w.apply(this,arguments)}var Action;(function(er){er.Pop="POP",er.Push="PUSH",er.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(er){er===void 0&&(er={});function St(rr,nr){let{pathname:sr,search:ir,hash:ar}=rr.location;return createLocation("",{pathname:sr,search:ir,hash:ar},nr.state&&nr.state.usr||null,nr.state&&nr.state.key||"default")}function tr(rr,nr){return typeof nr=="string"?nr:createPath(nr)}return getUrlBasedHistory(St,tr,null,er)}function invariant$4(er,St){if(er===!1||er===null||typeof er>"u")throw new Error(St)}function warning$2(er,St){if(!er){typeof console<"u"&&console.warn(St);try{throw new Error(St)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(er,St){return{usr:er.state,key:er.key,idx:St}}function createLocation(er,St,tr,rr){return tr===void 0&&(tr=null),_extends$w({pathname:typeof er=="string"?er:er.pathname,search:"",hash:""},typeof St=="string"?parsePath(St):St,{state:tr,key:St&&St.key||rr||createKey()})}function createPath(er){let{pathname:St="/",search:tr="",hash:rr=""}=er;return tr&&tr!=="?"&&(St+=tr.charAt(0)==="?"?tr:"?"+tr),rr&&rr!=="#"&&(St+=rr.charAt(0)==="#"?rr:"#"+rr),St}function parsePath(er){let St={};if(er){let tr=er.indexOf("#");tr>=0&&(St.hash=er.substr(tr),er=er.substr(0,tr));let rr=er.indexOf("?");rr>=0&&(St.search=er.substr(rr),er=er.substr(0,rr)),er&&(St.pathname=er)}return St}function getUrlBasedHistory(er,St,tr,rr){rr===void 0&&(rr={});let{window:nr=document.defaultView,v5Compat:sr=!1}=rr,ir=nr.history,ar=Action.Pop,or=null,lr=cr();lr==null&&(lr=0,ir.replaceState(_extends$w({},ir.state,{idx:lr}),""));function cr(){return(ir.state||{idx:null}).idx}function ur(){ar=Action.Pop;let mr=cr(),pr=mr==null?null:mr-lr;lr=mr,or&&or({action:ar,location:fr.location,delta:pr})}function dr(mr,pr){ar=Action.Push;let gr=createLocation(fr.location,mr,pr);lr=cr()+1;let xr=getHistoryState(gr,lr),yr=fr.createHref(gr);try{ir.pushState(xr,"",yr)}catch(Er){if(Er instanceof DOMException&&Er.name==="DataCloneError")throw Er;nr.location.assign(yr)}sr&&or&&or({action:ar,location:fr.location,delta:1})}function hr(mr,pr){ar=Action.Replace;let gr=createLocation(fr.location,mr,pr);lr=cr();let xr=getHistoryState(gr,lr),yr=fr.createHref(gr);ir.replaceState(xr,"",yr),sr&&or&&or({action:ar,location:fr.location,delta:0})}function Ar(mr){let pr=nr.location.origin!=="null"?nr.location.origin:nr.location.href,gr=typeof mr=="string"?mr:createPath(mr);return gr=gr.replace(/ $/,"%20"),invariant$4(pr,"No window.location.(origin|href) available to create URL for href: "+gr),new URL(gr,pr)}let fr={get action(){return ar},get location(){return er(nr,ir)},listen(mr){if(or)throw new Error("A history only accepts one active listener");return nr.addEventListener(PopStateEventType,ur),or=mr,()=>{nr.removeEventListener(PopStateEventType,ur),or=null}},createHref(mr){return St(nr,mr)},createURL:Ar,encodeLocation(mr){let pr=Ar(mr);return{pathname:pr.pathname,search:pr.search,hash:pr.hash}},push:dr,replace:hr,go(mr){return ir.go(mr)}};return fr}var ResultType;(function(er){er.data="data",er.deferred="deferred",er.redirect="redirect",er.error="error"})(ResultType||(ResultType={}));function matchRoutes(er,St,tr){return tr===void 0&&(tr="/"),matchRoutesImpl(er,St,tr)}function matchRoutesImpl(er,St,tr,rr){let nr=typeof St=="string"?parsePath(St):St,sr=stripBasename(nr.pathname||"/",tr);if(sr==null)return null;let ir=flattenRoutes(er);rankRouteBranches(ir);let ar=null;for(let or=0;ar==null&&or<ir.length;++or){let lr=decodePath(sr);ar=matchRouteBranch(ir[or],lr)}return ar}function flattenRoutes(er,St,tr,rr){St===void 0&&(St=[]),tr===void 0&&(tr=[]),rr===void 0&&(rr="");let nr=(sr,ir,ar)=>{let or={relativePath:ar===void 0?sr.path||"":ar,caseSensitive:sr.caseSensitive===!0,childrenIndex:ir,route:sr};or.relativePath.startsWith("/")&&(invariant$4(or.relativePath.startsWith(rr),'Absolute route path "'+or.relativePath+'" nested under path '+('"'+rr+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),or.relativePath=or.relativePath.slice(rr.length));let lr=joinPaths([rr,or.relativePath]),cr=tr.concat(or);sr.children&&sr.children.length>0&&(invariant$4(sr.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lr+'".')),flattenRoutes(sr.children,St,cr,lr)),!(sr.path==null&&!sr.index)&&St.push({path:lr,score:computeScore(lr,sr.index),routesMeta:cr})};return er.forEach((sr,ir)=>{var ar;if(sr.path===""||!((ar=sr.path)!=null&&ar.includes("?")))nr(sr,ir);else for(let or of explodeOptionalSegments(sr.path))nr(sr,ir,or)}),St}function explodeOptionalSegments(er){let St=er.split("/");if(St.length===0)return[];let[tr,...rr]=St,nr=tr.endsWith("?"),sr=tr.replace(/\?$/,"");if(rr.length===0)return nr?[sr,""]:[sr];let ir=explodeOptionalSegments(rr.join("/")),ar=[];return ar.push(...ir.map(or=>or===""?sr:[sr,or].join("/"))),nr&&ar.push(...ir),ar.map(or=>er.startsWith("/")&&or===""?"/":or)}function rankRouteBranches(er){er.sort((St,tr)=>St.score!==tr.score?tr.score-St.score:compareIndexes(St.routesMeta.map(rr=>rr.childrenIndex),tr.routesMeta.map(rr=>rr.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=er=>er==="*";function computeScore(er,St){let tr=er.split("/"),rr=tr.length;return tr.some(isSplat)&&(rr+=splatPenalty),St&&(rr+=indexRouteValue),tr.filter(nr=>!isSplat(nr)).reduce((nr,sr)=>nr+(paramRe.test(sr)?dynamicSegmentValue:sr===""?emptySegmentValue:staticSegmentValue),rr)}function compareIndexes(er,St){return er.length===St.length&&er.slice(0,-1).every((rr,nr)=>rr===St[nr])?er[er.length-1]-St[St.length-1]:0}function matchRouteBranch(er,St,tr){let{routesMeta:rr}=er,nr={},sr="/",ir=[];for(let ar=0;ar<rr.length;++ar){let or=rr[ar],lr=ar===rr.length-1,cr=sr==="/"?St:St.slice(sr.length)||"/",ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:lr},cr),dr=or.route;if(!ur)return null;Object.assign(nr,ur.params),ir.push({params:nr,pathname:joinPaths([sr,ur.pathname]),pathnameBase:normalizePathname(joinPaths([sr,ur.pathnameBase])),route:dr}),ur.pathnameBase!=="/"&&(sr=joinPaths([sr,ur.pathnameBase]))}return ir}function matchPath(er,St){typeof er=="string"&&(er={path:er,caseSensitive:!1,end:!0});let[tr,rr]=compilePath(er.path,er.caseSensitive,er.end),nr=St.match(tr);if(!nr)return null;let sr=nr[0],ir=sr.replace(/(.)\/+$/,"$1"),ar=nr.slice(1);return{params:rr.reduce((lr,cr,ur)=>{let{paramName:dr,isOptional:hr}=cr;if(dr==="*"){let fr=ar[ur]||"";ir=sr.slice(0,sr.length-fr.length).replace(/(.)\/+$/,"$1")}const Ar=ar[ur];return hr&&!Ar?lr[dr]=void 0:lr[dr]=(Ar||"").replace(/%2F/g,"/"),lr},{}),pathname:sr,pathnameBase:ir,pattern:er}}function compilePath(er,St,tr){St===void 0&&(St=!1),tr===void 0&&(tr=!0),warning$2(er==="*"||!er.endsWith("*")||er.endsWith("/*"),'Route path "'+er+'" will be treated as if it were '+('"'+er.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+er.replace(/\*$/,"/*")+'".'));let rr=[],nr="^"+er.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ir,ar,or)=>(rr.push({paramName:ar,isOptional:or!=null}),or?"/?([^\\/]+)?":"/([^\\/]+)"));return er.endsWith("*")?(rr.push({paramName:"*"}),nr+=er==="*"||er==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tr?nr+="\\/*$":er!==""&&er!=="/"&&(nr+="(?:(?=\\/|$))"),[new RegExp(nr,St?void 0:"i"),rr]}function decodePath(er){try{return er.split("/").map(St=>decodeURIComponent(St).replace(/\//g,"%2F")).join("/")}catch(St){return warning$2(!1,'The URL path "'+er+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+St+").")),er}}function stripBasename(er,St){if(St==="/")return er;if(!er.toLowerCase().startsWith(St.toLowerCase()))return null;let tr=St.endsWith("/")?St.length-1:St.length,rr=er.charAt(tr);return rr&&rr!=="/"?null:er.slice(tr)||"/"}function resolvePath(er,St){St===void 0&&(St="/");let{pathname:tr,search:rr="",hash:nr=""}=typeof er=="string"?parsePath(er):er;return{pathname:tr?tr.startsWith("/")?tr:resolvePathname(tr,St):St,search:normalizeSearch(rr),hash:normalizeHash(nr)}}function resolvePathname(er,St){let tr=St.replace(/\/+$/,"").split("/");return er.split("/").forEach(nr=>{nr===".."?tr.length>1&&tr.pop():nr!=="."&&tr.push(nr)}),tr.length>1?tr.join("/"):"/"}function getInvalidPathError(er,St,tr,rr){return"Cannot include a '"+er+"' character in a manually specified "+("`to."+St+"` field ["+JSON.stringify(rr)+"].  Please separate it out to the ")+("`to."+tr+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(er){return er.filter((St,tr)=>tr===0||St.route.path&&St.route.path.length>0)}function getResolveToMatches(er,St){let tr=getPathContributingMatches(er);return St?tr.map((rr,nr)=>nr===tr.length-1?rr.pathname:rr.pathnameBase):tr.map(rr=>rr.pathnameBase)}function resolveTo(er,St,tr,rr){rr===void 0&&(rr=!1);let nr;typeof er=="string"?nr=parsePath(er):(nr=_extends$w({},er),invariant$4(!nr.pathname||!nr.pathname.includes("?"),getInvalidPathError("?","pathname","search",nr)),invariant$4(!nr.pathname||!nr.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nr)),invariant$4(!nr.search||!nr.search.includes("#"),getInvalidPathError("#","search","hash",nr)));let sr=er===""||nr.pathname==="",ir=sr?"/":nr.pathname,ar;if(ir==null)ar=tr;else{let ur=St.length-1;if(!rr&&ir.startsWith("..")){let dr=ir.split("/");for(;dr[0]==="..";)dr.shift(),ur-=1;nr.pathname=dr.join("/")}ar=ur>=0?St[ur]:"/"}let or=resolvePath(nr,ar),lr=ir&&ir!=="/"&&ir.endsWith("/"),cr=(sr||ir===".")&&tr.endsWith("/");return!or.pathname.endsWith("/")&&(lr||cr)&&(or.pathname+="/"),or}const joinPaths=er=>er.join("/").replace(/\/\/+/g,"/"),normalizePathname=er=>er.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=er=>!er||er==="?"?"":er.startsWith("?")?er:"?"+er,normalizeHash=er=>!er||er==="#"?"":er.startsWith("#")?er:"#"+er;function isRouteErrorResponse(er){return er!=null&&typeof er.status=="number"&&typeof er.statusText=="string"&&typeof er.internal=="boolean"&&"data"in er}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$v.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(er,St){let{relative:tr}=St===void 0?{}:St;useInRouterContext()||invariant$4(!1);let{basename:rr,navigator:nr}=reactExports.useContext(NavigationContext),{hash:sr,pathname:ir,search:ar}=useResolvedPath(er,{relative:tr}),or=ir;return rr!=="/"&&(or=ir==="/"?rr:joinPaths([rr,ir])),nr.createHref({pathname:or,search:ar,hash:sr})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$4(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$3(er){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(er)}function useNavigate(){let{isDataRoute:er}=reactExports.useContext(RouteContext);return er?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$4(!1);let er=reactExports.useContext(DataRouterContext),{basename:St,future:tr,navigator:rr}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:sr}=useLocation(),ir=JSON.stringify(getResolveToMatches(nr,tr.v7_relativeSplatPath)),ar=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{ar.current=!0}),reactExports.useCallback(function(lr,cr){if(cr===void 0&&(cr={}),!ar.current)return;if(typeof lr=="number"){rr.go(lr);return}let ur=resolveTo(lr,JSON.parse(ir),sr,cr.relative==="path");er==null&&St!=="/"&&(ur.pathname=ur.pathname==="/"?St:joinPaths([St,ur.pathname])),(cr.replace?rr.replace:rr.push)(ur,cr.state,cr)},[St,rr,ir,sr,er])}function useParams(){let{matches:er}=reactExports.useContext(RouteContext),St=er[er.length-1];return St?St.params:{}}function useResolvedPath(er,St){let{relative:tr}=St===void 0?{}:St,{future:rr}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:sr}=useLocation(),ir=JSON.stringify(getResolveToMatches(nr,rr.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(er,JSON.parse(ir),sr,tr==="path"),[er,ir,sr,tr])}function useRoutes(er,St){return useRoutesImpl(er,St)}function useRoutesImpl(er,St,tr,rr){useInRouterContext()||invariant$4(!1);let{navigator:nr}=reactExports.useContext(NavigationContext),{matches:sr}=reactExports.useContext(RouteContext),ir=sr[sr.length-1],ar=ir?ir.params:{};ir&&ir.pathname;let or=ir?ir.pathnameBase:"/";ir&&ir.route;let lr=useLocation(),cr;if(St){var ur;let mr=typeof St=="string"?parsePath(St):St;or==="/"||(ur=mr.pathname)!=null&&ur.startsWith(or)||invariant$4(!1),cr=mr}else cr=lr;let dr=cr.pathname||"/",hr=dr;if(or!=="/"){let mr=or.replace(/^\//,"").split("/");hr="/"+dr.replace(/^\//,"").split("/").slice(mr.length).join("/")}let Ar=matchRoutes(er,{pathname:hr}),fr=_renderMatches(Ar&&Ar.map(mr=>Object.assign({},mr,{params:Object.assign({},ar,mr.params),pathname:joinPaths([or,nr.encodeLocation?nr.encodeLocation(mr.pathname).pathname:mr.pathname]),pathnameBase:mr.pathnameBase==="/"?or:joinPaths([or,nr.encodeLocation?nr.encodeLocation(mr.pathnameBase).pathname:mr.pathnameBase])})),sr,tr,rr);return St&&fr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$v({pathname:"/",search:"",hash:"",state:null,key:"default"},cr),navigationType:Action.Pop}},fr):fr}function DefaultErrorComponent(){let er=useRouteError(),St=isRouteErrorResponse(er)?er.status+" "+er.statusText:er instanceof Error?er.message:JSON.stringify(er),tr=er instanceof Error?er.stack:null,nr={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},St),tr?reactExports.createElement("pre",{style:nr},tr):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(St){super(St),this.state={location:St.location,revalidation:St.revalidation,error:St.error}}static getDerivedStateFromError(St){return{error:St}}static getDerivedStateFromProps(St,tr){return tr.location!==St.location||tr.revalidation!=="idle"&&St.revalidation==="idle"?{error:St.error,location:St.location,revalidation:St.revalidation}:{error:St.error!==void 0?St.error:tr.error,location:tr.location,revalidation:St.revalidation||tr.revalidation}}componentDidCatch(St,tr){console.error("React Router caught the following error during render",St,tr)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(er){let{routeContext:St,match:tr,children:rr}=er,nr=reactExports.useContext(DataRouterContext);return nr&&nr.static&&nr.staticContext&&(tr.route.errorElement||tr.route.ErrorBoundary)&&(nr.staticContext._deepestRenderedBoundaryId=tr.route.id),reactExports.createElement(RouteContext.Provider,{value:St},rr)}function _renderMatches(er,St,tr,rr){var nr;if(St===void 0&&(St=[]),tr===void 0&&(tr=null),rr===void 0&&(rr=null),er==null){var sr;if(!tr)return null;if(tr.errors)er=tr.matches;else if((sr=rr)!=null&&sr.v7_partialHydration&&St.length===0&&!tr.initialized&&tr.matches.length>0)er=tr.matches;else return null}let ir=er,ar=(nr=tr)==null?void 0:nr.errors;if(ar!=null){let cr=ir.findIndex(ur=>ur.route.id&&(ar==null?void 0:ar[ur.route.id])!==void 0);cr>=0||invariant$4(!1),ir=ir.slice(0,Math.min(ir.length,cr+1))}let or=!1,lr=-1;if(tr&&rr&&rr.v7_partialHydration)for(let cr=0;cr<ir.length;cr++){let ur=ir[cr];if((ur.route.HydrateFallback||ur.route.hydrateFallbackElement)&&(lr=cr),ur.route.id){let{loaderData:dr,errors:hr}=tr,Ar=ur.route.loader&&dr[ur.route.id]===void 0&&(!hr||hr[ur.route.id]===void 0);if(ur.route.lazy||Ar){or=!0,lr>=0?ir=ir.slice(0,lr+1):ir=[ir[0]];break}}}return ir.reduceRight((cr,ur,dr)=>{let hr,Ar=!1,fr=null,mr=null;tr&&(hr=ar&&ur.route.id?ar[ur.route.id]:void 0,fr=ur.route.errorElement||defaultErrorElement,or&&(lr<0&&dr===0?(warningOnce("route-fallback"),Ar=!0,mr=null):lr===dr&&(Ar=!0,mr=ur.route.hydrateFallbackElement||null)));let pr=St.concat(ir.slice(0,dr+1)),gr=()=>{let xr;return hr?xr=fr:Ar?xr=mr:ur.route.Component?xr=reactExports.createElement(ur.route.Component,null):ur.route.element?xr=ur.route.element:xr=cr,reactExports.createElement(RenderedRoute,{match:ur,routeContext:{outlet:cr,matches:pr,isDataRoute:tr!=null},children:xr})};return tr&&(ur.route.ErrorBoundary||ur.route.errorElement||dr===0)?reactExports.createElement(RenderErrorBoundary,{location:tr.location,revalidation:tr.revalidation,component:fr,error:hr,children:gr(),routeContext:{outlet:null,matches:pr,isDataRoute:!0}}):gr()},null)}var DataRouterHook$1=function(er){return er.UseBlocker="useBlocker",er.UseRevalidator="useRevalidator",er.UseNavigateStable="useNavigate",er}(DataRouterHook$1||{}),DataRouterStateHook$1=function(er){return er.UseBlocker="useBlocker",er.UseLoaderData="useLoaderData",er.UseActionData="useActionData",er.UseRouteError="useRouteError",er.UseNavigation="useNavigation",er.UseRouteLoaderData="useRouteLoaderData",er.UseMatches="useMatches",er.UseRevalidator="useRevalidator",er.UseNavigateStable="useNavigate",er.UseRouteId="useRouteId",er}(DataRouterStateHook$1||{});function useDataRouterContext(er){let St=reactExports.useContext(DataRouterContext);return St||invariant$4(!1),St}function useDataRouterState(er){let St=reactExports.useContext(DataRouterStateContext);return St||invariant$4(!1),St}function useRouteContext(er){let St=reactExports.useContext(RouteContext);return St||invariant$4(!1),St}function useCurrentRouteId(er){let St=useRouteContext(),tr=St.matches[St.matches.length-1];return tr.route.id||invariant$4(!1),tr.route.id}function useRouteError(){var er;let St=reactExports.useContext(RouteErrorContext),tr=useDataRouterState(),rr=useCurrentRouteId();return St!==void 0?St:(er=tr.errors)==null?void 0:er[rr]}function useNavigateStable(){let{router:er}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),St=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tr=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{tr.current=!0}),reactExports.useCallback(function(nr,sr){sr===void 0&&(sr={}),tr.current&&(typeof nr=="number"?er.navigate(nr):er.navigate(nr,_extends$v({fromRouteId:St},sr)))},[er,St])}const alreadyWarned$1={};function warningOnce(er,St,tr){alreadyWarned$1[er]||(alreadyWarned$1[er]=!0)}function logV6DeprecationWarnings(er,St){er==null||er.v7_startTransition,er==null||er.v7_relativeSplatPath}function Navigate(er){let{to:St,replace:tr,state:rr,relative:nr}=er;useInRouterContext()||invariant$4(!1);let{future:sr,static:ir}=reactExports.useContext(NavigationContext),{matches:ar}=reactExports.useContext(RouteContext),{pathname:or}=useLocation(),lr=useNavigate(),cr=resolveTo(St,getResolveToMatches(ar,sr.v7_relativeSplatPath),or,nr==="path"),ur=JSON.stringify(cr);return reactExports.useEffect(()=>lr(JSON.parse(ur),{replace:tr,state:rr,relative:nr}),[lr,ur,nr,tr,rr]),null}function Route(er){invariant$4(!1)}function Router(er){let{basename:St="/",children:tr=null,location:rr,navigationType:nr=Action.Pop,navigator:sr,static:ir=!1,future:ar}=er;useInRouterContext()&&invariant$4(!1);let or=St.replace(/^\/*/,"/"),lr=reactExports.useMemo(()=>({basename:or,navigator:sr,static:ir,future:_extends$v({v7_relativeSplatPath:!1},ar)}),[or,ar,sr,ir]);typeof rr=="string"&&(rr=parsePath(rr));let{pathname:cr="/",search:ur="",hash:dr="",state:hr=null,key:Ar="default"}=rr,fr=reactExports.useMemo(()=>{let mr=stripBasename(cr,or);return mr==null?null:{location:{pathname:mr,search:ur,hash:dr,state:hr,key:Ar},navigationType:nr}},[or,cr,ur,dr,hr,Ar,nr]);return fr==null?null:reactExports.createElement(NavigationContext.Provider,{value:lr},reactExports.createElement(LocationContext.Provider,{children:tr,value:fr}))}function Routes(er){let{children:St,location:tr}=er;return useRoutes(createRoutesFromChildren(St),tr)}new Promise(()=>{});function createRoutesFromChildren(er,St){St===void 0&&(St=[]);let tr=[];return reactExports.Children.forEach(er,(rr,nr)=>{if(!reactExports.isValidElement(rr))return;let sr=[...St,nr];if(rr.type===reactExports.Fragment){tr.push.apply(tr,createRoutesFromChildren(rr.props.children,sr));return}rr.type!==Route&&invariant$4(!1),!rr.props.index||!rr.props.children||invariant$4(!1);let ir={id:rr.props.id||sr.join("-"),caseSensitive:rr.props.caseSensitive,element:rr.props.element,Component:rr.props.Component,index:rr.props.index,path:rr.props.path,loader:rr.props.loader,action:rr.props.action,errorElement:rr.props.errorElement,ErrorBoundary:rr.props.ErrorBoundary,hasErrorBoundary:rr.props.ErrorBoundary!=null||rr.props.errorElement!=null,shouldRevalidate:rr.props.shouldRevalidate,handle:rr.props.handle,lazy:rr.props.lazy};rr.props.children&&(ir.children=createRoutesFromChildren(rr.props.children,sr)),tr.push(ir)}),tr}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$u.apply(this,arguments)}function _objectWithoutPropertiesLoose$q(er,St){if(er==null)return{};var tr={},rr=Object.keys(er),nr,sr;for(sr=0;sr<rr.length;sr++)nr=rr[sr],!(St.indexOf(nr)>=0)&&(tr[nr]=er[nr]);return tr}function isModifiedEvent(er){return!!(er.metaKey||er.altKey||er.ctrlKey||er.shiftKey)}function shouldProcessLinkClick(er,St){return er.button===0&&(!St||St==="_self")&&!isModifiedEvent(er)}const _excluded$q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$4[START_TRANSITION];function BrowserRouter(er){let{basename:St,children:tr,future:rr,window:nr}=er,sr=reactExports.useRef();sr.current==null&&(sr.current=createBrowserHistory({window:nr,v5Compat:!0}));let ir=sr.current,[ar,or]=reactExports.useState({action:ir.action,location:ir.location}),{v7_startTransition:lr}=rr||{},cr=reactExports.useCallback(ur=>{lr&&startTransitionImpl?startTransitionImpl(()=>or(ur)):or(ur)},[or,lr]);return reactExports.useLayoutEffect(()=>ir.listen(cr),[ir,cr]),reactExports.useEffect(()=>logV6DeprecationWarnings(rr),[rr]),reactExports.createElement(Router,{basename:St,children:tr,location:ar.location,navigationType:ar.action,navigator:ir,future:rr})}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(St,tr){let{onClick:rr,relative:nr,reloadDocument:sr,replace:ir,state:ar,target:or,to:lr,preventScrollReset:cr,viewTransition:ur}=St,dr=_objectWithoutPropertiesLoose$q(St,_excluded$q),{basename:hr}=reactExports.useContext(NavigationContext),Ar,fr=!1;if(typeof lr=="string"&&ABSOLUTE_URL_REGEX.test(lr)&&(Ar=lr,isBrowser$3))try{let xr=new URL(window.location.href),yr=lr.startsWith("//")?new URL(xr.protocol+lr):new URL(lr),Er=stripBasename(yr.pathname,hr);yr.origin===xr.origin&&Er!=null?lr=Er+yr.search+yr.hash:fr=!0}catch{}let mr=useHref(lr,{relative:nr}),pr=useLinkClickHandler(lr,{replace:ir,state:ar,target:or,preventScrollReset:cr,relative:nr,viewTransition:ur});function gr(xr){rr&&rr(xr),xr.defaultPrevented||pr(xr)}return reactExports.createElement("a",_extends$u({},dr,{href:Ar||mr,onClick:fr||sr?rr:gr,ref:tr,target:or}))});var DataRouterHook;(function(er){er.UseScrollRestoration="useScrollRestoration",er.UseSubmit="useSubmit",er.UseSubmitFetcher="useSubmitFetcher",er.UseFetcher="useFetcher",er.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(er){er.UseFetcher="useFetcher",er.UseFetchers="useFetchers",er.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(er,St){let{target:tr,replace:rr,state:nr,preventScrollReset:sr,relative:ir,viewTransition:ar}=St===void 0?{}:St,or=useNavigate(),lr=useLocation(),cr=useResolvedPath(er,{relative:ir});return reactExports.useCallback(ur=>{if(shouldProcessLinkClick(ur,tr)){ur.preventDefault();let dr=rr!==void 0?rr:createPath(lr)===createPath(cr);or(er,{replace:dr,state:nr,preventScrollReset:sr,relative:ir,viewTransition:ar})}},[lr,or,cr,rr,nr,tr,er,sr,ir,ar])}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(er,St){if(er===St)return!0;if(er&&St&&typeof er=="object"&&typeof St=="object"){if(er.constructor!==St.constructor)return!1;var tr,rr,nr;if(Array.isArray(er)){if(tr=er.length,tr!=St.length)return!1;for(rr=tr;rr--!==0;)if(!equal(er[rr],St[rr]))return!1;return!0}var sr;if(hasMap&&er instanceof Map&&St instanceof Map){if(er.size!==St.size)return!1;for(sr=er.entries();!(rr=sr.next()).done;)if(!St.has(rr.value[0]))return!1;for(sr=er.entries();!(rr=sr.next()).done;)if(!equal(rr.value[1],St.get(rr.value[0])))return!1;return!0}if(hasSet&&er instanceof Set&&St instanceof Set){if(er.size!==St.size)return!1;for(sr=er.entries();!(rr=sr.next()).done;)if(!St.has(rr.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(er)&&ArrayBuffer.isView(St)){if(tr=er.length,tr!=St.length)return!1;for(rr=tr;rr--!==0;)if(er[rr]!==St[rr])return!1;return!0}if(er.constructor===RegExp)return er.source===St.source&&er.flags===St.flags;if(er.valueOf!==Object.prototype.valueOf&&typeof er.valueOf=="function"&&typeof St.valueOf=="function")return er.valueOf()===St.valueOf();if(er.toString!==Object.prototype.toString&&typeof er.toString=="function"&&typeof St.toString=="function")return er.toString()===St.toString();if(nr=Object.keys(er),tr=nr.length,tr!==Object.keys(St).length)return!1;for(rr=tr;rr--!==0;)if(!Object.prototype.hasOwnProperty.call(St,nr[rr]))return!1;if(hasElementType&&er instanceof Element)return!1;for(rr=tr;rr--!==0;)if(!((nr[rr]==="_owner"||nr[rr]==="__v"||nr[rr]==="__o")&&er.$$typeof)&&!equal(er[nr[rr]],St[nr[rr]]))return!1;return!0}return er!==er&&St!==St}var reactFastCompare=function(St,tr){try{return equal(St,tr)}catch(rr){if((rr.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw rr}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var invariant$2=function(er,St,tr,rr,nr,sr,ir,ar){if(!er){var or;if(St===void 0)or=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var lr=[tr,rr,nr,sr,ir,ar],cr=0;or=new Error(St.replace(/%s/g,function(){return lr[cr++]})),or.name="Invariant Violation"}throw or.framesToPop=1,or}},browser$1=invariant$2;const invariant$3=getDefaultExportFromCjs(browser$1);var shallowequal=function(St,tr,rr,nr){var sr=rr?rr.call(nr,St,tr):void 0;if(sr!==void 0)return!!sr;if(St===tr)return!0;if(typeof St!="object"||!St||typeof tr!="object"||!tr)return!1;var ir=Object.keys(St),ar=Object.keys(tr);if(ir.length!==ar.length)return!1;for(var or=Object.prototype.hasOwnProperty.bind(tr),lr=0;lr<ir.length;lr++){var cr=ir[lr];if(!or(cr))return!1;var ur=St[cr],dr=tr[cr];if(sr=rr?rr.call(nr,ur,dr,cr):void 0,sr===!1||sr===void 0&&ur!==dr)return!1}return!0};const shallowEqual$1=getDefaultExportFromCjs(shallowequal);var TAG_NAMES=(er=>(er.BASE="base",er.BODY="body",er.HEAD="head",er.HTML="html",er.LINK="link",er.META="meta",er.NOSCRIPT="noscript",er.SCRIPT="script",er.STYLE="style",er.TITLE="title",er.FRAGMENT="Symbol(react.fragment)",er))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((er,[St,tr])=>(er[tr]=St,er),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(er,St)=>{for(let tr=er.length-1;tr>=0;tr-=1){const rr=er[tr];if(Object.prototype.hasOwnProperty.call(rr,St))return rr[St]}return null},getTitleFromPropsList=er=>{let St=getInnermostProperty(er,"title");const tr=getInnermostProperty(er,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(St)&&(St=St.join("")),tr&&St)return tr.replace(/%s/g,()=>St);const rr=getInnermostProperty(er,HELMET_PROPS.DEFAULT_TITLE);return St||rr||void 0},getOnChangeClientState=er=>getInnermostProperty(er,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(er,St)=>St.filter(tr=>typeof tr[er]<"u").map(tr=>tr[er]).reduce((tr,rr)=>({...tr,...rr}),{}),getBaseTagFromPropsList=(er,St)=>St.filter(tr=>typeof tr.base<"u").map(tr=>tr.base).reverse().reduce((tr,rr)=>{if(!tr.length){const nr=Object.keys(rr);for(let sr=0;sr<nr.length;sr+=1){const ar=nr[sr].toLowerCase();if(er.indexOf(ar)!==-1&&rr[ar])return tr.concat(rr)}}return tr},[]),warn$2=er=>console&&typeof console.warn=="function"&&console.warn(er),getTagsFromPropsList=(er,St,tr)=>{const rr={};return tr.filter(nr=>Array.isArray(nr[er])?!0:(typeof nr[er]<"u"&&warn$2(`Helmet: ${er} should be of type "Array". Instead found type "${typeof nr[er]}"`),!1)).map(nr=>nr[er]).reverse().reduce((nr,sr)=>{const ir={};sr.filter(or=>{let lr;const cr=Object.keys(or);for(let dr=0;dr<cr.length;dr+=1){const hr=cr[dr],Ar=hr.toLowerCase();St.indexOf(Ar)!==-1&&!(lr==="rel"&&or[lr].toLowerCase()==="canonical")&&!(Ar==="rel"&&or[Ar].toLowerCase()==="stylesheet")&&(lr=Ar),St.indexOf(hr)!==-1&&(hr==="innerHTML"||hr==="cssText"||hr==="itemprop")&&(lr=hr)}if(!lr||!or[lr])return!1;const ur=or[lr].toLowerCase();return rr[lr]||(rr[lr]={}),ir[lr]||(ir[lr]={}),rr[lr][ur]?!1:(ir[lr][ur]=!0,!0)}).reverse().forEach(or=>nr.push(or));const ar=Object.keys(ir);for(let or=0;or<ar.length;or+=1){const lr=ar[or],cr={...rr[lr],...ir[lr]};rr[lr]=cr}return nr},[]).reverse()},getAnyTrueFromPropsList=(er,St)=>{if(Array.isArray(er)&&er.length){for(let tr=0;tr<er.length;tr+=1)if(er[tr][St])return!0}return!1},reducePropsToState=er=>({baseTag:getBaseTagFromPropsList(["href"],er),bodyAttributes:getAttributesFromPropsList("bodyAttributes",er),defer:getInnermostProperty(er,HELMET_PROPS.DEFER),encode:getInnermostProperty(er,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",er),linkTags:getTagsFromPropsList("link",["rel","href"],er),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],er),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],er),onChangeClientState:getOnChangeClientState(er),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],er),styleTags:getTagsFromPropsList("style",["cssText"],er),title:getTitleFromPropsList(er),titleAttributes:getAttributesFromPropsList("titleAttributes",er),prioritizeSeoTags:getAnyTrueFromPropsList(er,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=er=>Array.isArray(er)?er.join(""):er,checkIfPropsMatch=(er,St)=>{const tr=Object.keys(er);for(let rr=0;rr<tr.length;rr+=1)if(St[tr[rr]]&&St[tr[rr]].includes(er[tr[rr]]))return!0;return!1},prioritizer=(er,St)=>Array.isArray(er)?er.reduce((tr,rr)=>(checkIfPropsMatch(rr,St)?tr.priority.push(rr):tr.default.push(rr),tr),{priority:[],default:[]}):{default:er,priority:[]},without=(er,St)=>({...er,[St]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(er,St=!0)=>St===!1?String(er):String(er).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=er=>Object.keys(er).reduce((St,tr)=>{const rr=typeof er[tr]<"u"?`${tr}="${er[tr]}"`:`${tr}`;return St?`${St} ${rr}`:rr},""),generateTitleAsString=(er,St,tr,rr)=>{const nr=generateElementAttributesAsString(tr),sr=flattenArray(St);return nr?`<${er} ${HELMET_ATTRIBUTE}="true" ${nr}>${encodeSpecialCharacters(sr,rr)}</${er}>`:`<${er} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(sr,rr)}</${er}>`},generateTagsAsString=(er,St,tr=!0)=>St.reduce((rr,nr)=>{const sr=nr,ir=Object.keys(sr).filter(lr=>!(lr==="innerHTML"||lr==="cssText")).reduce((lr,cr)=>{const ur=typeof sr[cr]>"u"?cr:`${cr}="${encodeSpecialCharacters(sr[cr],tr)}"`;return lr?`${lr} ${ur}`:ur},""),ar=sr.innerHTML||sr.cssText||"",or=SELF_CLOSING_TAGS.indexOf(er)===-1;return`${rr}<${er} ${HELMET_ATTRIBUTE}="true" ${ir}${or?"/>":`>${ar}</${er}>`}`},""),convertElementAttributesToReactProps=(er,St={})=>Object.keys(er).reduce((tr,rr)=>{const nr=REACT_TAG_MAP[rr];return tr[nr||rr]=er[rr],tr},St),generateTitleAsReactComponent=(er,St,tr)=>{const rr={key:St,[HELMET_ATTRIBUTE]:!0},nr=convertElementAttributesToReactProps(tr,rr);return[React$3.createElement("title",nr,St)]},generateTagsAsReactComponent=(er,St)=>St.map((tr,rr)=>{const nr={key:rr,[HELMET_ATTRIBUTE]:!0};return Object.keys(tr).forEach(sr=>{const ar=REACT_TAG_MAP[sr]||sr;if(ar==="innerHTML"||ar==="cssText"){const or=tr.innerHTML||tr.cssText;nr.dangerouslySetInnerHTML={__html:or}}else nr[ar]=tr[sr]}),React$3.createElement(er,nr)}),getMethodsForTag=(er,St,tr=!0)=>{switch(er){case"title":return{toComponent:()=>generateTitleAsReactComponent(er,St.title,St.titleAttributes),toString:()=>generateTitleAsString(er,St.title,St.titleAttributes,tr)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(St),toString:()=>generateElementAttributesAsString(St)};default:return{toComponent:()=>generateTagsAsReactComponent(er,St),toString:()=>generateTagsAsString(er,St,tr)}}},getPriorityMethods=({metaTags:er,linkTags:St,scriptTags:tr,encode:rr})=>{const nr=prioritizer(er,SEO_PRIORITY_TAGS.meta),sr=prioritizer(St,SEO_PRIORITY_TAGS.link),ir=prioritizer(tr,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",nr.priority),...generateTagsAsReactComponent("link",sr.priority),...generateTagsAsReactComponent("script",ir.priority)],toString:()=>`${getMethodsForTag("meta",nr.priority,rr)} ${getMethodsForTag("link",sr.priority,rr)} ${getMethodsForTag("script",ir.priority,rr)}`},metaTags:nr.default,linkTags:sr.default,scriptTags:ir.default}},mapStateOnServer=er=>{const{baseTag:St,bodyAttributes:tr,encode:rr=!0,htmlAttributes:nr,noscriptTags:sr,styleTags:ir,title:ar="",titleAttributes:or,prioritizeSeoTags:lr}=er;let{linkTags:cr,metaTags:ur,scriptTags:dr}=er,hr={toComponent:()=>{},toString:()=>""};return lr&&({priorityMethods:hr,linkTags:cr,metaTags:ur,scriptTags:dr}=getPriorityMethods(er)),{priority:hr,base:getMethodsForTag("base",St,rr),bodyAttributes:getMethodsForTag("bodyAttributes",tr,rr),htmlAttributes:getMethodsForTag("htmlAttributes",nr,rr),link:getMethodsForTag("link",cr,rr),meta:getMethodsForTag("meta",ur,rr),noscript:getMethodsForTag("noscript",sr,rr),script:getMethodsForTag("script",dr,rr),style:getMethodsForTag("style",ir,rr),title:getMethodsForTag("title",{title:ar,titleAttributes:or},rr)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(er,St){ps(this,"instances",[]);ps(this,"canUseDOM",isDocument);ps(this,"context");ps(this,"value",{setHelmet:er=>{this.context.helmet=er},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:er=>{(this.canUseDOM?instances:this.instances).push(er)},remove:er=>{const St=(this.canUseDOM?instances:this.instances).indexOf(er);(this.canUseDOM?instances:this.instances).splice(St,1)}}});this.context=er,this.canUseDOM=St||!1,St||(er.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context$1=React$3.createContext(defaultValue),Qv,HelmetProvider=(Qv=class extends reactExports.Component{constructor(tr){super(tr);ps(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Qv.canUseDOM)}render(){return React$3.createElement(Context$1.Provider,{value:this.helmetData.value},this.props.children)}},ps(Qv,"canUseDOM",isDocument),Qv),updateTags=(er,St)=>{const tr=document.head||document.querySelector("head"),rr=tr.querySelectorAll(`${er}[${HELMET_ATTRIBUTE}]`),nr=[].slice.call(rr),sr=[];let ir;return St&&St.length&&St.forEach(ar=>{const or=document.createElement(er);for(const lr in ar)if(Object.prototype.hasOwnProperty.call(ar,lr))if(lr==="innerHTML")or.innerHTML=ar.innerHTML;else if(lr==="cssText")or.styleSheet?or.styleSheet.cssText=ar.cssText:or.appendChild(document.createTextNode(ar.cssText));else{const cr=lr,ur=typeof ar[cr]>"u"?"":ar[cr];or.setAttribute(lr,ur)}or.setAttribute(HELMET_ATTRIBUTE,"true"),nr.some((lr,cr)=>(ir=cr,or.isEqualNode(lr)))?nr.splice(ir,1):sr.push(or)}),nr.forEach(ar=>{var or;return(or=ar.parentNode)==null?void 0:or.removeChild(ar)}),sr.forEach(ar=>tr.appendChild(ar)),{oldTags:nr,newTags:sr}},updateAttributes=(er,St)=>{const tr=document.getElementsByTagName(er)[0];if(!tr)return;const rr=tr.getAttribute(HELMET_ATTRIBUTE),nr=rr?rr.split(","):[],sr=[...nr],ir=Object.keys(St);for(const ar of ir){const or=St[ar]||"";tr.getAttribute(ar)!==or&&tr.setAttribute(ar,or),nr.indexOf(ar)===-1&&nr.push(ar);const lr=sr.indexOf(ar);lr!==-1&&sr.splice(lr,1)}for(let ar=sr.length-1;ar>=0;ar-=1)tr.removeAttribute(sr[ar]);nr.length===sr.length?tr.removeAttribute(HELMET_ATTRIBUTE):tr.getAttribute(HELMET_ATTRIBUTE)!==ir.join(",")&&tr.setAttribute(HELMET_ATTRIBUTE,ir.join(","))},updateTitle=(er,St)=>{typeof er<"u"&&document.title!==er&&(document.title=flattenArray(er)),updateAttributes("title",St)},commitTagChanges=(er,St)=>{const{baseTag:tr,bodyAttributes:rr,htmlAttributes:nr,linkTags:sr,metaTags:ir,noscriptTags:ar,onChangeClientState:or,scriptTags:lr,styleTags:cr,title:ur,titleAttributes:dr}=er;updateAttributes("body",rr),updateAttributes("html",nr),updateTitle(ur,dr);const hr={baseTag:updateTags("base",tr),linkTags:updateTags("link",sr),metaTags:updateTags("meta",ir),noscriptTags:updateTags("noscript",ar),scriptTags:updateTags("script",lr),styleTags:updateTags("style",cr)},Ar={},fr={};Object.keys(hr).forEach(mr=>{const{newTags:pr,oldTags:gr}=hr[mr];pr.length&&(Ar[mr]=pr),gr.length&&(fr[mr]=hr[mr].oldTags)}),St&&St(),or(er,Ar,fr)},_helmetCallback=null,handleStateChangeOnClient=er=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),er.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(er,()=>{_helmetCallback=null})}):(commitTagChanges(er),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);ps(this,"rendered",!1)}shouldComponentUpdate(St){return!shallowEqual$1(St,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:St}=this.props.context;St.remove(this),this.emitChange()}emitChange(){const{helmetInstances:St,setHelmet:tr}=this.props.context;let rr=null;const nr=reducePropsToState(St.get().map(sr=>{const ir={...sr.props};return delete ir.context,ir}));HelmetProvider.canUseDOM?client_default(nr):server_default&&(rr=server_default(nr)),tr(rr)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:St}=this.props.context;St.add(this),this.emitChange()}render(){return this.init(),null}},NC,Helmet=(NC=class extends reactExports.Component{shouldComponentUpdate(er){return!fastCompare(without(this.props,"helmetData"),without(er,"helmetData"))}mapNestedChildrenToProps(er,St){if(!St)return null;switch(er.type){case"script":case"noscript":return{innerHTML:St};case"style":return{cssText:St};default:throw new Error(`<${er.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(er,St,tr,rr){return{...St,[er.type]:[...St[er.type]||[],{...tr,...this.mapNestedChildrenToProps(er,rr)}]}}mapObjectTypeChildren(er,St,tr,rr){switch(er.type){case"title":return{...St,[er.type]:rr,titleAttributes:{...tr}};case"body":return{...St,bodyAttributes:{...tr}};case"html":return{...St,htmlAttributes:{...tr}};default:return{...St,[er.type]:{...tr}}}}mapArrayTypeChildrenToProps(er,St){let tr={...St};return Object.keys(er).forEach(rr=>{tr={...tr,[rr]:er[rr]}}),tr}warnOnInvalidChildren(er,St){return invariant$3(VALID_TAG_NAMES.some(tr=>er.type===tr),typeof er.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${er.type}> elements. Refer to our API for more information.`),invariant$3(!St||typeof St=="string"||Array.isArray(St)&&!St.some(tr=>typeof tr!="string"),`Helmet expects a string as a child of <${er.type}>. Did you forget to wrap your children in braces? ( <${er.type}>{\`\`}</${er.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(er,St){let tr={};return React$3.Children.forEach(er,rr=>{if(!rr||!rr.props)return;const{children:nr,...sr}=rr.props,ir=Object.keys(sr).reduce((or,lr)=>(or[HTML_TAG_MAP[lr]||lr]=sr[lr],or),{});let{type:ar}=rr;switch(typeof ar=="symbol"?ar=ar.toString():this.warnOnInvalidChildren(rr,nr),ar){case"Symbol(react.fragment)":St=this.mapChildrenToProps(nr,St);break;case"link":case"meta":case"noscript":case"script":case"style":tr=this.flattenArrayTypeChildren(rr,tr,ir,nr);break;default:St=this.mapObjectTypeChildren(rr,St,ir,nr);break}}),this.mapArrayTypeChildrenToProps(tr,St)}render(){const{children:er,...St}=this.props;let tr={...St},{helmetData:rr}=St;if(er&&(tr=this.mapChildrenToProps(er,tr)),rr&&!(rr instanceof HelmetData)){const nr=rr;rr=new HelmetData(nr.context,!0),delete tr.helmetData}return rr?React$3.createElement(HelmetDispatcher,{...tr,context:rr.value}):React$3.createElement(Context$1.Consumer,null,nr=>React$3.createElement(HelmetDispatcher,{...tr,context:nr}))}},ps(NC,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),NC);class ErrorBoundary extends reactExports.Component{constructor(St){super(St),this.state={hasError:!1}}static getDerivedStateFromError(St){return console.error("ErrorBoundary caught an error:",St),{hasError:!0}}componentDidCatch(St,tr){console.error("Error details:",St,tr)}render(){return this.state.hasError?jsxRuntimeExports.jsxs("div",{className:"p-10 text-center text-red-600",children:[jsxRuntimeExports.jsx("div",{className:"text-5xl mb-4",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"System Error"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:"Something went wrong. Please reload or contact admin."})]}):this.props.children}}const scriptRel="modulepreload",assetsURL=function(er){return"/"+er},seen={},__vitePreload=function(St,tr,rr){let nr=Promise.resolve();if(tr&&tr.length>0){document.getElementsByTagName("link");const ir=document.querySelector("meta[property=csp-nonce]"),ar=(ir==null?void 0:ir.nonce)||(ir==null?void 0:ir.getAttribute("nonce"));nr=Promise.allSettled(tr.map(or=>{if(or=assetsURL(or),or in seen)return;seen[or]=!0;const lr=or.endsWith(".css"),cr=lr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${or}"]${cr}`))return;const ur=document.createElement("link");if(ur.rel=lr?"stylesheet":scriptRel,lr||(ur.as="script"),ur.crossOrigin="",ur.href=or,ar&&ur.setAttribute("nonce",ar),document.head.appendChild(ur),lr)return new Promise((dr,hr)=>{ur.addEventListener("load",dr),ur.addEventListener("error",()=>hr(new Error(`Unable to preload CSS for ${or}`)))})}))}function sr(ir){const ar=new Event("vite:preloadError",{cancelable:!0});if(ar.payload=ir,window.dispatchEvent(ar),!ar.defaultPrevented)throw ir}return nr.then(ir=>{for(const ar of ir||[])ar.status==="rejected"&&sr(ar.reason);return St().catch(sr)})},resolveFetch$3=er=>{let St;return er?St=er:typeof fetch>"u"?St=(...tr)=>__vitePreload(async()=>{const{default:rr}=await Promise.resolve().then(()=>browser);return{default:rr}},void 0).then(({default:rr})=>rr(...tr)):St=fetch,(...tr)=>St(...tr)};class FunctionsError extends Error{constructor(St,tr="FunctionsError",rr){super(St),this.name=tr,this.context=rr}}class FunctionsFetchError extends FunctionsError{constructor(St){super("Failed to send a request to the Edge Function","FunctionsFetchError",St)}}class FunctionsRelayError extends FunctionsError{constructor(St){super("Relay Error invoking the Edge Function","FunctionsRelayError",St)}}class FunctionsHttpError extends FunctionsError{constructor(St){super("Edge Function returned a non-2xx status code","FunctionsHttpError",St)}}var FunctionRegion;(function(er){er.Any="any",er.ApNortheast1="ap-northeast-1",er.ApNortheast2="ap-northeast-2",er.ApSouth1="ap-south-1",er.ApSoutheast1="ap-southeast-1",er.ApSoutheast2="ap-southeast-2",er.CaCentral1="ca-central-1",er.EuCentral1="eu-central-1",er.EuWest1="eu-west-1",er.EuWest2="eu-west-2",er.EuWest3="eu-west-3",er.SaEast1="sa-east-1",er.UsEast1="us-east-1",er.UsWest1="us-west-1",er.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$8=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};class FunctionsClient{constructor(St,{headers:tr={},customFetch:rr,region:nr=FunctionRegion.Any}={}){this.url=St,this.headers=tr,this.region=nr,this.fetch=resolveFetch$3(rr)}setAuth(St){this.headers.Authorization=`Bearer ${St}`}invoke(St,tr={}){var rr;return __awaiter$8(this,void 0,void 0,function*(){try{const{headers:nr,method:sr,body:ir}=tr;let ar={},{region:or}=tr;or||(or=this.region);const lr=new URL(`${this.url}/${St}`);or&&or!=="any"&&(ar["x-region"]=or,lr.searchParams.set("forceFunctionRegion",or));let cr;ir&&(nr&&!Object.prototype.hasOwnProperty.call(nr,"Content-Type")||!nr)&&(typeof Blob<"u"&&ir instanceof Blob||ir instanceof ArrayBuffer?(ar["Content-Type"]="application/octet-stream",cr=ir):typeof ir=="string"?(ar["Content-Type"]="text/plain",cr=ir):typeof FormData<"u"&&ir instanceof FormData?cr=ir:(ar["Content-Type"]="application/json",cr=JSON.stringify(ir)));const ur=yield this.fetch(lr.toString(),{method:sr||"POST",headers:Object.assign(Object.assign(Object.assign({},ar),this.headers),nr),body:cr}).catch(fr=>{throw new FunctionsFetchError(fr)}),dr=ur.headers.get("x-relay-error");if(dr&&dr==="true")throw new FunctionsRelayError(ur);if(!ur.ok)throw new FunctionsHttpError(ur);let hr=((rr=ur.headers.get("Content-Type"))!==null&&rr!==void 0?rr:"text/plain").split(";")[0].trim(),Ar;return hr==="application/json"?Ar=yield ur.json():hr==="application/octet-stream"?Ar=yield ur.blob():hr==="text/event-stream"?Ar=ur:hr==="multipart/form-data"?Ar=yield ur.formData():Ar=yield ur.text(),{data:Ar,error:null,response:ur}}catch(nr){return{data:null,error:nr,response:nr instanceof FunctionsHttpError||nr instanceof FunctionsRelayError?nr.context:void 0}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(St){super(St.message),this.name="PostgrestError",this.details=St.details,this.hint=St.hint,this.code=St.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(St){this.shouldThrowOnError=!1,this.method=St.method,this.url=St.url,this.headers=St.headers,this.schema=St.schema,this.body=St.body,this.shouldThrowOnError=St.shouldThrowOnError,this.signal=St.signal,this.isMaybeSingle=St.isMaybeSingle,St.fetch?this.fetch=St.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(St,tr){return this.headers=Object.assign({},this.headers),this.headers[St]=tr,this}then(St,tr){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const rr=this.fetch;let nr=rr(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async sr=>{var ir,ar,or;let lr=null,cr=null,ur=null,dr=sr.status,hr=sr.statusText;if(sr.ok){if(this.method!=="HEAD"){const pr=await sr.text();pr===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?cr=pr:cr=JSON.parse(pr))}const fr=(ir=this.headers.Prefer)===null||ir===void 0?void 0:ir.match(/count=(exact|planned|estimated)/),mr=(ar=sr.headers.get("content-range"))===null||ar===void 0?void 0:ar.split("/");fr&&mr&&mr.length>1&&(ur=parseInt(mr[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(cr)&&(cr.length>1?(lr={code:"PGRST116",details:`Results contain ${cr.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},cr=null,ur=null,dr=406,hr="Not Acceptable"):cr.length===1?cr=cr[0]:cr=null)}else{const fr=await sr.text();try{lr=JSON.parse(fr),Array.isArray(lr)&&sr.status===404&&(cr=[],lr=null,dr=200,hr="OK")}catch{sr.status===404&&fr===""?(dr=204,hr="No Content"):lr={message:fr}}if(lr&&this.isMaybeSingle&&(!((or=lr==null?void 0:lr.details)===null||or===void 0)&&or.includes("0 rows"))&&(lr=null,dr=200,hr="OK"),lr&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(lr)}return{error:lr,data:cr,count:ur,status:dr,statusText:hr}});return this.shouldThrowOnError||(nr=nr.catch(sr=>{var ir,ar,or;return{error:{message:`${(ir=sr==null?void 0:sr.name)!==null&&ir!==void 0?ir:"FetchError"}: ${sr==null?void 0:sr.message}`,details:`${(ar=sr==null?void 0:sr.stack)!==null&&ar!==void 0?ar:""}`,hint:"",code:`${(or=sr==null?void 0:sr.code)!==null&&or!==void 0?or:""}`},data:null,count:null,status:0,statusText:""}})),nr.then(St,tr)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(St){let tr=!1;const rr=(St??"*").split("").map(nr=>/\s/.test(nr)&&!tr?"":(nr==='"'&&(tr=!tr),nr)).join("");return this.url.searchParams.set("select",rr),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(St,{ascending:tr=!0,nullsFirst:rr,foreignTable:nr,referencedTable:sr=nr}={}){const ir=sr?`${sr}.order`:"order",ar=this.url.searchParams.get(ir);return this.url.searchParams.set(ir,`${ar?`${ar},`:""}${St}.${tr?"asc":"desc"}${rr===void 0?"":rr?".nullsfirst":".nullslast"}`),this}limit(St,{foreignTable:tr,referencedTable:rr=tr}={}){const nr=typeof rr>"u"?"limit":`${rr}.limit`;return this.url.searchParams.set(nr,`${St}`),this}range(St,tr,{foreignTable:rr,referencedTable:nr=rr}={}){const sr=typeof nr>"u"?"offset":`${nr}.offset`,ir=typeof nr>"u"?"limit":`${nr}.limit`;return this.url.searchParams.set(sr,`${St}`),this.url.searchParams.set(ir,`${tr-St+1}`),this}abortSignal(St){return this.signal=St,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:St=!1,verbose:tr=!1,settings:rr=!1,buffers:nr=!1,wal:sr=!1,format:ir="text"}={}){var ar;const or=[St?"analyze":null,tr?"verbose":null,rr?"settings":null,nr?"buffers":null,sr?"wal":null].filter(Boolean).join("|"),lr=(ar=this.headers.Accept)!==null&&ar!==void 0?ar:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${ir}; for="${lr}"; options=${or};`,ir==="json"?this:this}rollback(){var St;return((St=this.headers.Prefer)!==null&&St!==void 0?St:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(St,tr){return this.url.searchParams.append(St,`eq.${tr}`),this}neq(St,tr){return this.url.searchParams.append(St,`neq.${tr}`),this}gt(St,tr){return this.url.searchParams.append(St,`gt.${tr}`),this}gte(St,tr){return this.url.searchParams.append(St,`gte.${tr}`),this}lt(St,tr){return this.url.searchParams.append(St,`lt.${tr}`),this}lte(St,tr){return this.url.searchParams.append(St,`lte.${tr}`),this}like(St,tr){return this.url.searchParams.append(St,`like.${tr}`),this}likeAllOf(St,tr){return this.url.searchParams.append(St,`like(all).{${tr.join(",")}}`),this}likeAnyOf(St,tr){return this.url.searchParams.append(St,`like(any).{${tr.join(",")}}`),this}ilike(St,tr){return this.url.searchParams.append(St,`ilike.${tr}`),this}ilikeAllOf(St,tr){return this.url.searchParams.append(St,`ilike(all).{${tr.join(",")}}`),this}ilikeAnyOf(St,tr){return this.url.searchParams.append(St,`ilike(any).{${tr.join(",")}}`),this}is(St,tr){return this.url.searchParams.append(St,`is.${tr}`),this}in(St,tr){const rr=Array.from(new Set(tr)).map(nr=>typeof nr=="string"&&new RegExp("[,()]").test(nr)?`"${nr}"`:`${nr}`).join(",");return this.url.searchParams.append(St,`in.(${rr})`),this}contains(St,tr){return typeof tr=="string"?this.url.searchParams.append(St,`cs.${tr}`):Array.isArray(tr)?this.url.searchParams.append(St,`cs.{${tr.join(",")}}`):this.url.searchParams.append(St,`cs.${JSON.stringify(tr)}`),this}containedBy(St,tr){return typeof tr=="string"?this.url.searchParams.append(St,`cd.${tr}`):Array.isArray(tr)?this.url.searchParams.append(St,`cd.{${tr.join(",")}}`):this.url.searchParams.append(St,`cd.${JSON.stringify(tr)}`),this}rangeGt(St,tr){return this.url.searchParams.append(St,`sr.${tr}`),this}rangeGte(St,tr){return this.url.searchParams.append(St,`nxl.${tr}`),this}rangeLt(St,tr){return this.url.searchParams.append(St,`sl.${tr}`),this}rangeLte(St,tr){return this.url.searchParams.append(St,`nxr.${tr}`),this}rangeAdjacent(St,tr){return this.url.searchParams.append(St,`adj.${tr}`),this}overlaps(St,tr){return typeof tr=="string"?this.url.searchParams.append(St,`ov.${tr}`):this.url.searchParams.append(St,`ov.{${tr.join(",")}}`),this}textSearch(St,tr,{config:rr,type:nr}={}){let sr="";nr==="plain"?sr="pl":nr==="phrase"?sr="ph":nr==="websearch"&&(sr="w");const ir=rr===void 0?"":`(${rr})`;return this.url.searchParams.append(St,`${sr}fts${ir}.${tr}`),this}match(St){return Object.entries(St).forEach(([tr,rr])=>{this.url.searchParams.append(tr,`eq.${rr}`)}),this}not(St,tr,rr){return this.url.searchParams.append(St,`not.${tr}.${rr}`),this}or(St,{foreignTable:tr,referencedTable:rr=tr}={}){const nr=rr?`${rr}.or`:"or";return this.url.searchParams.append(nr,`(${St})`),this}filter(St,tr,rr){return this.url.searchParams.append(St,`${tr}.${rr}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(St,{headers:tr={},schema:rr,fetch:nr}){this.url=St,this.headers=tr,this.schema=rr,this.fetch=nr}select(St,{head:tr=!1,count:rr}={}){const nr=tr?"HEAD":"GET";let sr=!1;const ir=(St??"*").split("").map(ar=>/\s/.test(ar)&&!sr?"":(ar==='"'&&(sr=!sr),ar)).join("");return this.url.searchParams.set("select",ir),rr&&(this.headers.Prefer=`count=${rr}`),new PostgrestFilterBuilder_1$2.default({method:nr,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(St,{count:tr,defaultToNull:rr=!0}={}){const nr="POST",sr=[];if(this.headers.Prefer&&sr.push(this.headers.Prefer),tr&&sr.push(`count=${tr}`),rr||sr.push("missing=default"),this.headers.Prefer=sr.join(","),Array.isArray(St)){const ir=St.reduce((ar,or)=>ar.concat(Object.keys(or)),[]);if(ir.length>0){const ar=[...new Set(ir)].map(or=>`"${or}"`);this.url.searchParams.set("columns",ar.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:nr,url:this.url,headers:this.headers,schema:this.schema,body:St,fetch:this.fetch,allowEmpty:!1})}upsert(St,{onConflict:tr,ignoreDuplicates:rr=!1,count:nr,defaultToNull:sr=!0}={}){const ir="POST",ar=[`resolution=${rr?"ignore":"merge"}-duplicates`];if(tr!==void 0&&this.url.searchParams.set("on_conflict",tr),this.headers.Prefer&&ar.push(this.headers.Prefer),nr&&ar.push(`count=${nr}`),sr||ar.push("missing=default"),this.headers.Prefer=ar.join(","),Array.isArray(St)){const or=St.reduce((lr,cr)=>lr.concat(Object.keys(cr)),[]);if(or.length>0){const lr=[...new Set(or)].map(cr=>`"${cr}"`);this.url.searchParams.set("columns",lr.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:ir,url:this.url,headers:this.headers,schema:this.schema,body:St,fetch:this.fetch,allowEmpty:!1})}update(St,{count:tr}={}){const rr="PATCH",nr=[];return this.headers.Prefer&&nr.push(this.headers.Prefer),tr&&nr.push(`count=${tr}`),this.headers.Prefer=nr.join(","),new PostgrestFilterBuilder_1$2.default({method:rr,url:this.url,headers:this.headers,schema:this.schema,body:St,fetch:this.fetch,allowEmpty:!1})}delete({count:St}={}){const tr="DELETE",rr=[];return St&&rr.push(`count=${St}`),this.headers.Prefer&&rr.unshift(this.headers.Prefer),this.headers.Prefer=rr.join(","),new PostgrestFilterBuilder_1$2.default({method:tr,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants$1={},version$5={};Object.defineProperty(version$5,"__esModule",{value:!0});version$5.version=void 0;version$5.version="0.0.0-automated";Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.DEFAULT_HEADERS=void 0;const version_1=version$5;constants$1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2),constants_1=constants$1;let PostgrestClient$1=class QT{constructor(St,{headers:tr={},schema:rr,fetch:nr}={}){this.url=St,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),tr),this.schemaName=rr,this.fetch=nr}from(St){const tr=new URL(`${this.url}/${St}`);return new PostgrestQueryBuilder_1$1.default(tr,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(St){return new QT(this.url,{headers:this.headers,schema:St,fetch:this.fetch})}rpc(St,tr={},{head:rr=!1,get:nr=!1,count:sr}={}){let ir;const ar=new URL(`${this.url}/rpc/${St}`);let or;rr||nr?(ir=rr?"HEAD":"GET",Object.entries(tr).filter(([cr,ur])=>ur!==void 0).map(([cr,ur])=>[cr,Array.isArray(ur)?`{${ur.join(",")}}`:`${ur}`]).forEach(([cr,ur])=>{ar.searchParams.append(cr,ur)})):(ir="POST",or=tr);const lr=Object.assign({},this.headers);return sr&&(lr.Prefer=`count=${sr}`),new PostgrestFilterBuilder_1$1.default({method:ir,url:ar,headers:lr,schema:this.schemaName,body:or,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default;function getNativeWebSocket(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const WebSocket$1=getNativeWebSocket(),version$4="2.11.15",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(er){er[er.connecting=0]="connecting",er[er.open=1]="open",er[er.closing=2]="closing",er[er.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(er){er.closed="closed",er.errored="errored",er.joined="joined",er.joining="joining",er.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(er){er.close="phx_close",er.error="phx_error",er.join="phx_join",er.reply="phx_reply",er.leave="phx_leave",er.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(er){er.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(er){er.Connecting="connecting",er.Open="open",er.Closing="closing",er.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(St,tr){return St.constructor===ArrayBuffer?tr(this._binaryDecode(St)):tr(typeof St=="string"?JSON.parse(St):{})}_binaryDecode(St){const tr=new DataView(St),rr=new TextDecoder;return this._decodeBroadcast(St,tr,rr)}_decodeBroadcast(St,tr,rr){const nr=tr.getUint8(1),sr=tr.getUint8(2);let ir=this.HEADER_LENGTH+2;const ar=rr.decode(St.slice(ir,ir+nr));ir=ir+nr;const or=rr.decode(St.slice(ir,ir+sr));ir=ir+sr;const lr=JSON.parse(rr.decode(St.slice(ir,St.byteLength)));return{ref:null,topic:ar,event:or,payload:lr}}}class Timer{constructor(St,tr){this.callback=St,this.timerCalc=tr,this.timer=void 0,this.tries=0,this.callback=St,this.timerCalc=tr}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(er){er.abstime="abstime",er.bool="bool",er.date="date",er.daterange="daterange",er.float4="float4",er.float8="float8",er.int2="int2",er.int4="int4",er.int4range="int4range",er.int8="int8",er.int8range="int8range",er.json="json",er.jsonb="jsonb",er.money="money",er.numeric="numeric",er.oid="oid",er.reltime="reltime",er.text="text",er.time="time",er.timestamp="timestamp",er.timestamptz="timestamptz",er.timetz="timetz",er.tsrange="tsrange",er.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(er,St,tr={})=>{var rr;const nr=(rr=tr.skipTypes)!==null&&rr!==void 0?rr:[];return Object.keys(St).reduce((sr,ir)=>(sr[ir]=convertColumn(ir,er,St,nr),sr),{})},convertColumn=(er,St,tr,rr)=>{const nr=St.find(ar=>ar.name===er),sr=nr==null?void 0:nr.type,ir=tr[er];return sr&&!rr.includes(sr)?convertCell(sr,ir):noop$a(ir)},convertCell=(er,St)=>{if(er.charAt(0)==="_"){const tr=er.slice(1,er.length);return toArray$2(St,tr)}switch(er){case PostgresTypes.bool:return toBoolean(St);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$1(St);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(St);case PostgresTypes.timestamp:return toTimestampString(St);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$a(St);default:return noop$a(St)}},noop$a=er=>er,toBoolean=er=>{switch(er){case"t":return!0;case"f":return!1;default:return er}},toNumber$1=er=>{if(typeof er=="string"){const St=parseFloat(er);if(!Number.isNaN(St))return St}return er},toJson=er=>{if(typeof er=="string")try{return JSON.parse(er)}catch(St){return console.log(`JSON parse error: ${St}`),er}return er},toArray$2=(er,St)=>{if(typeof er!="string")return er;const tr=er.length-1,rr=er[tr];if(er[0]==="{"&&rr==="}"){let sr;const ir=er.slice(1,tr);try{sr=JSON.parse("["+ir+"]")}catch{sr=ir?ir.split(","):[]}return sr.map(ar=>convertCell(St,ar))}return er},toTimestampString=er=>typeof er=="string"?er.replace(" ","T"):er,httpEndpointURL=er=>{let St=er;return St=St.replace(/^ws/i,"http"),St=St.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),St.replace(/\/+$/,"")};class Push{constructor(St,tr,rr={},nr=DEFAULT_TIMEOUT){this.channel=St,this.event=tr,this.payload=rr,this.timeout=nr,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(St){this.timeout=St,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(St){this.payload=Object.assign(Object.assign({},this.payload),St)}receive(St,tr){var rr;return this._hasReceived(St)&&tr((rr=this.receivedResp)===null||rr===void 0?void 0:rr.response),this.recHooks.push({status:St,callback:tr}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const St=tr=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=tr,this._matchReceive(tr)};this.channel._on(this.refEvent,{},St),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(St,tr){this.refEvent&&this.channel._trigger(this.refEvent,{status:St,response:tr})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:St,response:tr}){this.recHooks.filter(rr=>rr.status===St).forEach(rr=>rr.callback(tr))}_hasReceived(St){return this.receivedResp&&this.receivedResp.status===St}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(er){er.SYNC="sync",er.JOIN="join",er.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(St,tr){this.channel=St,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const rr=(tr==null?void 0:tr.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(rr.state,{},nr=>{const{onJoin:sr,onLeave:ir,onSync:ar}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,nr,sr,ir),this.pendingDiffs.forEach(or=>{this.state=RealtimePresence.syncDiff(this.state,or,sr,ir)}),this.pendingDiffs=[],ar()}),this.channel._on(rr.diff,{},nr=>{const{onJoin:sr,onLeave:ir,onSync:ar}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(nr):(this.state=RealtimePresence.syncDiff(this.state,nr,sr,ir),ar())}),this.onJoin((nr,sr,ir)=>{this.channel._trigger("presence",{event:"join",key:nr,currentPresences:sr,newPresences:ir})}),this.onLeave((nr,sr,ir)=>{this.channel._trigger("presence",{event:"leave",key:nr,currentPresences:sr,leftPresences:ir})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(St,tr,rr,nr){const sr=this.cloneDeep(St),ir=this.transformState(tr),ar={},or={};return this.map(sr,(lr,cr)=>{ir[lr]||(or[lr]=cr)}),this.map(ir,(lr,cr)=>{const ur=sr[lr];if(ur){const dr=cr.map(mr=>mr.presence_ref),hr=ur.map(mr=>mr.presence_ref),Ar=cr.filter(mr=>hr.indexOf(mr.presence_ref)<0),fr=ur.filter(mr=>dr.indexOf(mr.presence_ref)<0);Ar.length>0&&(ar[lr]=Ar),fr.length>0&&(or[lr]=fr)}else ar[lr]=cr}),this.syncDiff(sr,{joins:ar,leaves:or},rr,nr)}static syncDiff(St,tr,rr,nr){const{joins:sr,leaves:ir}={joins:this.transformState(tr.joins),leaves:this.transformState(tr.leaves)};return rr||(rr=()=>{}),nr||(nr=()=>{}),this.map(sr,(ar,or)=>{var lr;const cr=(lr=St[ar])!==null&&lr!==void 0?lr:[];if(St[ar]=this.cloneDeep(or),cr.length>0){const ur=St[ar].map(hr=>hr.presence_ref),dr=cr.filter(hr=>ur.indexOf(hr.presence_ref)<0);St[ar].unshift(...dr)}rr(ar,cr,or)}),this.map(ir,(ar,or)=>{let lr=St[ar];if(!lr)return;const cr=or.map(ur=>ur.presence_ref);lr=lr.filter(ur=>cr.indexOf(ur.presence_ref)<0),St[ar]=lr,nr(ar,lr,or),lr.length===0&&delete St[ar]}),St}static map(St,tr){return Object.getOwnPropertyNames(St).map(rr=>tr(rr,St[rr]))}static transformState(St){return St=this.cloneDeep(St),Object.getOwnPropertyNames(St).reduce((tr,rr)=>{const nr=St[rr];return"metas"in nr?tr[rr]=nr.metas.map(sr=>(sr.presence_ref=sr.phx_ref,delete sr.phx_ref,delete sr.phx_ref_prev,sr)):tr[rr]=nr,tr},{})}static cloneDeep(St){return JSON.parse(JSON.stringify(St))}onJoin(St){this.caller.onJoin=St}onLeave(St){this.caller.onLeave=St}onSync(St){this.caller.onSync=St}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(er){er.ALL="*",er.INSERT="INSERT",er.UPDATE="UPDATE",er.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(er){er.BROADCAST="broadcast",er.PRESENCE="presence",er.POSTGRES_CHANGES="postgres_changes",er.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(er){er.SUBSCRIBED="SUBSCRIBED",er.TIMED_OUT="TIMED_OUT",er.CLOSED="CLOSED",er.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(St,tr={config:{}},rr){this.topic=St,this.params=tr,this.socket=rr,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=St.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},tr.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(nr=>nr.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(nr=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,nr),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(nr,sr)=>{this._trigger(this._replyEventName(sr),nr)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(St,tr=this.timeout){var rr,nr;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:sr,presence:ir,private:ar}}=this.params;this._onError(cr=>St==null?void 0:St(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,cr)),this._onClose(()=>St==null?void 0:St(REALTIME_SUBSCRIBE_STATES.CLOSED));const or={},lr={broadcast:sr,presence:ir,postgres_changes:(nr=(rr=this.bindings.postgres_changes)===null||rr===void 0?void 0:rr.map(cr=>cr.filter))!==null&&nr!==void 0?nr:[],private:ar};this.socket.accessTokenValue&&(or.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:lr},or)),this.joinedOnce=!0,this._rejoin(tr),this.joinPush.receive("ok",async({postgres_changes:cr})=>{var ur;if(this.socket.setAuth(),cr===void 0){St==null||St(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const dr=this.bindings.postgres_changes,hr=(ur=dr==null?void 0:dr.length)!==null&&ur!==void 0?ur:0,Ar=[];for(let fr=0;fr<hr;fr++){const mr=dr[fr],{filter:{event:pr,schema:gr,table:xr,filter:yr}}=mr,Er=cr&&cr[fr];if(Er&&Er.event===pr&&Er.schema===gr&&Er.table===xr&&Er.filter===yr)Ar.push(Object.assign(Object.assign({},mr),{id:Er.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,St==null||St(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Ar,St&&St(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",cr=>{this.state=CHANNEL_STATES.errored,St==null||St(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(cr).join(", ")||"error")))}).receive("timeout",()=>{St==null||St(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(St,tr={}){return await this.send({type:"presence",event:"track",payload:St},tr.timeout||this.timeout)}async untrack(St={}){return await this.send({type:"presence",event:"untrack"},St)}on(St,tr,rr){return this._on(St,tr,rr)}async send(St,tr={}){var rr,nr;if(!this._canPush()&&St.type==="broadcast"){const{event:sr,payload:ir}=St,or={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:sr,payload:ir,private:this.private}]})};try{const lr=await this._fetchWithTimeout(this.broadcastEndpointURL,or,(rr=tr.timeout)!==null&&rr!==void 0?rr:this.timeout);return await((nr=lr.body)===null||nr===void 0?void 0:nr.cancel()),lr.ok?"ok":"error"}catch(lr){return lr.name==="AbortError"?"timed out":"error"}}else return new Promise(sr=>{var ir,ar,or;const lr=this._push(St.type,St,tr.timeout||this.timeout);St.type==="broadcast"&&!(!((or=(ar=(ir=this.params)===null||ir===void 0?void 0:ir.config)===null||ar===void 0?void 0:ar.broadcast)===null||or===void 0)&&or.ack)&&sr("ok"),lr.receive("ok",()=>sr("ok")),lr.receive("error",()=>sr("error")),lr.receive("timeout",()=>sr("timed out"))})}updateJoinPayload(St){this.joinPush.updatePayload(St)}unsubscribe(St=this.timeout){this.state=CHANNEL_STATES.leaving;const tr=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let rr=null;return new Promise(nr=>{rr=new Push(this,CHANNEL_EVENTS.leave,{},St),rr.receive("ok",()=>{tr(),nr("ok")}).receive("timeout",()=>{tr(),nr("timed out")}).receive("error",()=>{nr("error")}),rr.send(),this._canPush()||rr.trigger("ok",{})}).finally(()=>{rr==null||rr.destroy()})}teardown(){this.pushBuffer.forEach(St=>St.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(St,tr,rr){const nr=new AbortController,sr=setTimeout(()=>nr.abort(),rr),ir=await this.socket.fetch(St,Object.assign(Object.assign({},tr),{signal:nr.signal}));return clearTimeout(sr),ir}_push(St,tr,rr=this.timeout){if(!this.joinedOnce)throw`tried to push '${St}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let nr=new Push(this,St,tr,rr);return this._canPush()?nr.send():(nr.startTimeout(),this.pushBuffer.push(nr)),nr}_onMessage(St,tr,rr){return tr}_isMember(St){return this.topic===St}_joinRef(){return this.joinPush.ref}_trigger(St,tr,rr){var nr,sr;const ir=St.toLocaleLowerCase(),{close:ar,error:or,leave:lr,join:cr}=CHANNEL_EVENTS;if(rr&&[ar,or,lr,cr].indexOf(ir)>=0&&rr!==this._joinRef())return;let dr=this._onMessage(ir,tr,rr);if(tr&&!dr)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(ir)?(nr=this.bindings.postgres_changes)===null||nr===void 0||nr.filter(hr=>{var Ar,fr,mr;return((Ar=hr.filter)===null||Ar===void 0?void 0:Ar.event)==="*"||((mr=(fr=hr.filter)===null||fr===void 0?void 0:fr.event)===null||mr===void 0?void 0:mr.toLocaleLowerCase())===ir}).map(hr=>hr.callback(dr,rr)):(sr=this.bindings[ir])===null||sr===void 0||sr.filter(hr=>{var Ar,fr,mr,pr,gr,xr;if(["broadcast","presence","postgres_changes"].includes(ir))if("id"in hr){const yr=hr.id,Er=(Ar=hr.filter)===null||Ar===void 0?void 0:Ar.event;return yr&&((fr=tr.ids)===null||fr===void 0?void 0:fr.includes(yr))&&(Er==="*"||(Er==null?void 0:Er.toLocaleLowerCase())===((mr=tr.data)===null||mr===void 0?void 0:mr.type.toLocaleLowerCase()))}else{const yr=(gr=(pr=hr==null?void 0:hr.filter)===null||pr===void 0?void 0:pr.event)===null||gr===void 0?void 0:gr.toLocaleLowerCase();return yr==="*"||yr===((xr=tr==null?void 0:tr.event)===null||xr===void 0?void 0:xr.toLocaleLowerCase())}else return hr.type.toLocaleLowerCase()===ir}).map(hr=>{if(typeof dr=="object"&&"ids"in dr){const Ar=dr.data,{schema:fr,table:mr,commit_timestamp:pr,type:gr,errors:xr}=Ar;dr=Object.assign(Object.assign({},{schema:fr,table:mr,commit_timestamp:pr,eventType:gr,new:{},old:{},errors:xr}),this._getPayloadRecords(Ar))}hr.callback(dr,rr)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(St){return`chan_reply_${St}`}_on(St,tr,rr){const nr=St.toLocaleLowerCase(),sr={type:nr,filter:tr,callback:rr};return this.bindings[nr]?this.bindings[nr].push(sr):this.bindings[nr]=[sr],this}_off(St,tr){const rr=St.toLocaleLowerCase();return this.bindings[rr]=this.bindings[rr].filter(nr=>{var sr;return!(((sr=nr.type)===null||sr===void 0?void 0:sr.toLocaleLowerCase())===rr&&RealtimeChannel.isEqual(nr.filter,tr))}),this}static isEqual(St,tr){if(Object.keys(St).length!==Object.keys(tr).length)return!1;for(const rr in St)if(St[rr]!==tr[rr])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(St){this._on(CHANNEL_EVENTS.close,{},St)}_onError(St){this._on(CHANNEL_EVENTS.error,{},tr=>St(tr))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(St=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(St))}_getPayloadRecords(St){const tr={new:{},old:{}};return(St.type==="INSERT"||St.type==="UPDATE")&&(tr.new=convertChangeData(St.columns,St.record)),(St.type==="UPDATE"||St.type==="DELETE")&&(tr.old=convertChangeData(St.columns,St.old_record)),tr}}const noop$9=()=>{},WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(St,tr){var rr;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$9,this.ref=0,this.logger=noop$9,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=sr=>{let ir;return sr?ir=sr:typeof fetch>"u"?ir=(...ar)=>__vitePreload(async()=>{const{default:or}=await Promise.resolve().then(()=>browser);return{default:or}},void 0).then(({default:or})=>or(...ar)):ir=fetch,(...ar)=>ir(...ar)},this.endPoint=`${St}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(St),tr!=null&&tr.transport?this.transport=tr.transport:this.transport=null,tr!=null&&tr.params&&(this.params=tr.params),tr!=null&&tr.timeout&&(this.timeout=tr.timeout),tr!=null&&tr.logger&&(this.logger=tr.logger),(tr!=null&&tr.logLevel||tr!=null&&tr.log_level)&&(this.logLevel=tr.logLevel||tr.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),tr!=null&&tr.heartbeatIntervalMs&&(this.heartbeatIntervalMs=tr.heartbeatIntervalMs);const nr=(rr=tr==null?void 0:tr.params)===null||rr===void 0?void 0:rr.apikey;if(nr&&(this.accessTokenValue=nr,this.apiKey=nr),this.reconnectAfterMs=tr!=null&&tr.reconnectAfterMs?tr.reconnectAfterMs:sr=>[1e3,2e3,5e3,1e4][sr-1]||1e4,this.encode=tr!=null&&tr.encode?tr.encode:(sr,ir)=>ir(JSON.stringify(sr)),this.decode=tr!=null&&tr.decode?tr.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(tr==null?void 0:tr.fetch),tr!=null&&tr.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(tr==null?void 0:tr.worker)||!1,this.workerUrl=tr==null?void 0:tr.workerUrl}this.accessToken=(tr==null?void 0:tr.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=WebSocket$1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(St,tr){this.conn&&(this.conn.onclose=function(){},St?this.conn.close(St,tr??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(rr=>rr.teardown()))}getChannels(){return this.channels}async removeChannel(St){const tr=await St.unsubscribe();return this.channels.length===0&&this.disconnect(),tr}async removeAllChannels(){const St=await Promise.all(this.channels.map(tr=>tr.unsubscribe()));return this.channels=[],this.disconnect(),St}log(St,tr,rr){this.logger(St,tr,rr)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(St,tr={config:{}}){const rr=`realtime:${St}`,nr=this.getChannels().find(sr=>sr.topic===rr);if(nr)return nr;{const sr=new RealtimeChannel(`realtime:${St}`,tr,this);return this.channels.push(sr),sr}}push(St){const{topic:tr,event:rr,payload:nr,ref:sr}=St,ir=()=>{this.encode(St,ar=>{var or;(or=this.conn)===null||or===void 0||or.send(ar)})};this.log("push",`${tr} ${rr} (${sr})`,nr),this.isConnected()?ir():this.sendBuffer.push(ir)}async setAuth(St=null){let tr=St||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=tr&&(this.accessTokenValue=tr,this.channels.forEach(rr=>{const nr={access_token:tr,version:DEFAULT_VERSION};tr&&rr.updateJoinPayload(nr),rr.joinedOnce&&rr._isJoined()&&rr._push(CHANNEL_EVENTS.access_token,{access_token:tr})}))}async sendHeartbeat(){var St;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(St=this.conn)===null||St===void 0||St.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(St){this.heartbeatCallback=St}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(St=>St()),this.sendBuffer=[])}_makeRef(){let St=this.ref+1;return St===this.ref?this.ref=0:this.ref=St,this.ref.toString()}_leaveOpenTopic(St){let tr=this.channels.find(rr=>rr.topic===St&&(rr._isJoined()||rr._isJoining()));tr&&(this.log("transport",`leaving duplicate topic "${St}"`),tr.unsubscribe())}_remove(St){this.channels=this.channels.filter(tr=>tr.topic!==St.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=St=>this._onConnError(St),this.conn.onmessage=St=>this._onConnMessage(St),this.conn.onclose=St=>this._onConnClose(St))}_onConnMessage(St){this.decode(St.data,tr=>{let{topic:rr,event:nr,payload:sr,ref:ir}=tr;rr==="phoenix"&&nr==="phx_reply"&&this.heartbeatCallback(tr.payload.status=="ok"?"ok":"error"),ir&&ir===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${sr.status||""} ${rr} ${nr} ${ir&&"("+ir+")"||""}`,sr),Array.from(this.channels).filter(ar=>ar._isMember(rr)).forEach(ar=>ar._trigger(nr,sr,ir)),this.stateChangeCallbacks.message.forEach(ar=>ar(tr))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(St=>St())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const St=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(St),this.workerRef.onerror=tr=>{this.log("worker","worker error",tr.message),this.workerRef.terminate()},this.workerRef.onmessage=tr=>{tr.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(St){this.log("transport","close",St),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(tr=>tr(St))}_onConnError(St){this.log("transport",`${St}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(tr=>tr(St))}_triggerChanError(){this.channels.forEach(St=>St._trigger(CHANNEL_EVENTS.error))}_appendParams(St,tr){if(Object.keys(tr).length===0)return St;const rr=St.match(/\?/)?"&":"?",nr=new URLSearchParams(tr);return`${St}${rr}${nr}`}_workerObjectUrl(St){let tr;if(St)tr=St;else{const rr=new Blob([WORKER_SCRIPT],{type:"application/javascript"});tr=URL.createObjectURL(rr)}return tr}}class StorageError extends Error{constructor(St){super(St),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(er){return typeof er=="object"&&er!==null&&"__isStorageError"in er}class StorageApiError extends StorageError{constructor(St,tr,rr){super(St),this.name="StorageApiError",this.status=tr,this.statusCode=rr}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(St,tr){super(St),this.name="StorageUnknownError",this.originalError=tr}}var __awaiter$7=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};const resolveFetch$2=er=>{let St;return er?St=er:typeof fetch>"u"?St=(...tr)=>__vitePreload(async()=>{const{default:rr}=await Promise.resolve().then(()=>browser);return{default:rr}},void 0).then(({default:rr})=>rr(...tr)):St=fetch,(...tr)=>St(...tr)},resolveResponse=()=>__awaiter$7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=er=>{if(Array.isArray(er))return er.map(tr=>recursiveToCamel(tr));if(typeof er=="function"||er!==Object(er))return er;const St={};return Object.entries(er).forEach(([tr,rr])=>{const nr=tr.replace(/([-_][a-z])/gi,sr=>sr.toUpperCase().replace(/[-_]/g,""));St[nr]=recursiveToCamel(rr)}),St},isPlainObject$6=er=>{if(typeof er!="object"||er===null)return!1;const St=Object.getPrototypeOf(er);return(St===null||St===Object.prototype||Object.getPrototypeOf(St)===null)&&!(Symbol.toStringTag in er)&&!(Symbol.iterator in er)};var __awaiter$6=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};const _getErrorMessage$1=er=>er.msg||er.message||er.error_description||er.error||JSON.stringify(er),handleError$1=(er,St,tr)=>__awaiter$6(void 0,void 0,void 0,function*(){const rr=yield resolveResponse();er instanceof rr&&!(tr!=null&&tr.noResolveJson)?er.json().then(nr=>{const sr=er.status||500,ir=(nr==null?void 0:nr.statusCode)||sr+"";St(new StorageApiError(_getErrorMessage$1(nr),sr,ir))}).catch(nr=>{St(new StorageUnknownError(_getErrorMessage$1(nr),nr))}):St(new StorageUnknownError(_getErrorMessage$1(er),er))}),_getRequestParams$1=(er,St,tr,rr)=>{const nr={method:er,headers:(St==null?void 0:St.headers)||{}};return er==="GET"||!rr?nr:(isPlainObject$6(rr)?(nr.headers=Object.assign({"Content-Type":"application/json"},St==null?void 0:St.headers),nr.body=JSON.stringify(rr)):nr.body=rr,Object.assign(Object.assign({},nr),tr))};function _handleRequest$1(er,St,tr,rr,nr,sr){return __awaiter$6(this,void 0,void 0,function*(){return new Promise((ir,ar)=>{er(tr,_getRequestParams$1(St,rr,nr,sr)).then(or=>{if(!or.ok)throw or;return rr!=null&&rr.noResolveJson?or:or.json()}).then(or=>ir(or)).catch(or=>handleError$1(or,ar,rr))})})}function get$3(er,St,tr,rr){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(er,"GET",St,tr,rr)})}function post(er,St,tr,rr,nr){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(er,"POST",St,rr,nr,tr)})}function put(er,St,tr,rr,nr){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(er,"PUT",St,rr,nr,tr)})}function head(er,St,tr,rr){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(er,"HEAD",St,Object.assign(Object.assign({},tr),{noResolveJson:!0}),rr)})}function remove(er,St,tr,rr,nr){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(er,"DELETE",St,rr,nr,tr)})}var __awaiter$5=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(St,tr={},rr,nr){this.url=St,this.headers=tr,this.bucketId=rr,this.fetch=resolveFetch$2(nr)}uploadOrUpdate(St,tr,rr,nr){return __awaiter$5(this,void 0,void 0,function*(){try{let sr;const ir=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),nr);let ar=Object.assign(Object.assign({},this.headers),St==="POST"&&{"x-upsert":String(ir.upsert)});const or=ir.metadata;typeof Blob<"u"&&rr instanceof Blob?(sr=new FormData,sr.append("cacheControl",ir.cacheControl),or&&sr.append("metadata",this.encodeMetadata(or)),sr.append("",rr)):typeof FormData<"u"&&rr instanceof FormData?(sr=rr,sr.append("cacheControl",ir.cacheControl),or&&sr.append("metadata",this.encodeMetadata(or))):(sr=rr,ar["cache-control"]=`max-age=${ir.cacheControl}`,ar["content-type"]=ir.contentType,or&&(ar["x-metadata"]=this.toBase64(this.encodeMetadata(or)))),nr!=null&&nr.headers&&(ar=Object.assign(Object.assign({},ar),nr.headers));const lr=this._removeEmptyFolders(tr),cr=this._getFinalPath(lr),ur=yield(St=="PUT"?put:post)(this.fetch,`${this.url}/object/${cr}`,sr,Object.assign({headers:ar},ir!=null&&ir.duplex?{duplex:ir.duplex}:{}));return{data:{path:lr,id:ur.Id,fullPath:ur.Key},error:null}}catch(sr){if(isStorageError(sr))return{data:null,error:sr};throw sr}})}upload(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",St,tr,rr)})}uploadToSignedUrl(St,tr,rr,nr){return __awaiter$5(this,void 0,void 0,function*(){const sr=this._removeEmptyFolders(St),ir=this._getFinalPath(sr),ar=new URL(this.url+`/object/upload/sign/${ir}`);ar.searchParams.set("token",tr);try{let or;const lr=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},nr),cr=Object.assign(Object.assign({},this.headers),{"x-upsert":String(lr.upsert)});typeof Blob<"u"&&rr instanceof Blob?(or=new FormData,or.append("cacheControl",lr.cacheControl),or.append("",rr)):typeof FormData<"u"&&rr instanceof FormData?(or=rr,or.append("cacheControl",lr.cacheControl)):(or=rr,cr["cache-control"]=`max-age=${lr.cacheControl}`,cr["content-type"]=lr.contentType);const ur=yield put(this.fetch,ar.toString(),or,{headers:cr});return{data:{path:sr,fullPath:ur.Key},error:null}}catch(or){if(isStorageError(or))return{data:null,error:or};throw or}})}createSignedUploadUrl(St,tr){return __awaiter$5(this,void 0,void 0,function*(){try{let rr=this._getFinalPath(St);const nr=Object.assign({},this.headers);tr!=null&&tr.upsert&&(nr["x-upsert"]="true");const sr=yield post(this.fetch,`${this.url}/object/upload/sign/${rr}`,{},{headers:nr}),ir=new URL(this.url+sr.url),ar=ir.searchParams.get("token");if(!ar)throw new StorageError("No token returned by API");return{data:{signedUrl:ir.toString(),path:St,token:ar},error:null}}catch(rr){if(isStorageError(rr))return{data:null,error:rr};throw rr}})}update(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",St,tr,rr)})}move(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:St,destinationKey:tr,destinationBucket:rr==null?void 0:rr.destinationBucket},{headers:this.headers}),error:null}}catch(nr){if(isStorageError(nr))return{data:null,error:nr};throw nr}})}copy(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:St,destinationKey:tr,destinationBucket:rr==null?void 0:rr.destinationBucket},{headers:this.headers})).Key},error:null}}catch(nr){if(isStorageError(nr))return{data:null,error:nr};throw nr}})}createSignedUrl(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){try{let nr=this._getFinalPath(St),sr=yield post(this.fetch,`${this.url}/object/sign/${nr}`,Object.assign({expiresIn:tr},rr!=null&&rr.transform?{transform:rr.transform}:{}),{headers:this.headers});const ir=rr!=null&&rr.download?`&download=${rr.download===!0?"":rr.download}`:"";return sr={signedUrl:encodeURI(`${this.url}${sr.signedURL}${ir}`)},{data:sr,error:null}}catch(nr){if(isStorageError(nr))return{data:null,error:nr};throw nr}})}createSignedUrls(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){try{const nr=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:tr,paths:St},{headers:this.headers}),sr=rr!=null&&rr.download?`&download=${rr.download===!0?"":rr.download}`:"";return{data:nr.map(ir=>Object.assign(Object.assign({},ir),{signedUrl:ir.signedURL?encodeURI(`${this.url}${ir.signedURL}${sr}`):null})),error:null}}catch(nr){if(isStorageError(nr))return{data:null,error:nr};throw nr}})}download(St,tr){return __awaiter$5(this,void 0,void 0,function*(){const nr=typeof(tr==null?void 0:tr.transform)<"u"?"render/image/authenticated":"object",sr=this.transformOptsToQueryString((tr==null?void 0:tr.transform)||{}),ir=sr?`?${sr}`:"";try{const ar=this._getFinalPath(St);return{data:yield(yield get$3(this.fetch,`${this.url}/${nr}/${ar}${ir}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(ar){if(isStorageError(ar))return{data:null,error:ar};throw ar}})}info(St){return __awaiter$5(this,void 0,void 0,function*(){const tr=this._getFinalPath(St);try{const rr=yield get$3(this.fetch,`${this.url}/object/info/${tr}`,{headers:this.headers});return{data:recursiveToCamel(rr),error:null}}catch(rr){if(isStorageError(rr))return{data:null,error:rr};throw rr}})}exists(St){return __awaiter$5(this,void 0,void 0,function*(){const tr=this._getFinalPath(St);try{return yield head(this.fetch,`${this.url}/object/${tr}`,{headers:this.headers}),{data:!0,error:null}}catch(rr){if(isStorageError(rr)&&rr instanceof StorageUnknownError){const nr=rr.originalError;if([400,404].includes(nr==null?void 0:nr.status))return{data:!1,error:rr}}throw rr}})}getPublicUrl(St,tr){const rr=this._getFinalPath(St),nr=[],sr=tr!=null&&tr.download?`download=${tr.download===!0?"":tr.download}`:"";sr!==""&&nr.push(sr);const ar=typeof(tr==null?void 0:tr.transform)<"u"?"render/image":"object",or=this.transformOptsToQueryString((tr==null?void 0:tr.transform)||{});or!==""&&nr.push(or);let lr=nr.join("&");return lr!==""&&(lr=`?${lr}`),{data:{publicUrl:encodeURI(`${this.url}/${ar}/public/${rr}${lr}`)}}}remove(St){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:St},{headers:this.headers}),error:null}}catch(tr){if(isStorageError(tr))return{data:null,error:tr};throw tr}})}list(St,tr,rr){return __awaiter$5(this,void 0,void 0,function*(){try{const nr=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),tr),{prefix:St||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,nr,{headers:this.headers},rr),error:null}}catch(nr){if(isStorageError(nr))return{data:null,error:nr};throw nr}})}encodeMetadata(St){return JSON.stringify(St)}toBase64(St){return typeof Buffer<"u"?Buffer.from(St).toString("base64"):btoa(St)}_getFinalPath(St){return`${this.bucketId}/${St.replace(/^\/+/,"")}`}_removeEmptyFolders(St){return St.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(St){const tr=[];return St.width&&tr.push(`width=${St.width}`),St.height&&tr.push(`height=${St.height}`),St.resize&&tr.push(`resize=${St.resize}`),St.format&&tr.push(`format=${St.format}`),St.quality&&tr.push(`quality=${St.quality}`),tr.join("&")}}const version$3="2.10.4",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`};var __awaiter$4=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};class StorageBucketApi{constructor(St,tr={},rr,nr){const sr=new URL(St);nr!=null&&nr.useNewHostname&&/supabase\.(co|in|red)$/.test(sr.hostname)&&!sr.hostname.includes("storage.supabase.")&&(sr.hostname=sr.hostname.replace("supabase.","storage.supabase.")),this.url=sr.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),tr),this.fetch=resolveFetch$2(rr)}listBuckets(){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(St){if(isStorageError(St))return{data:null,error:St};throw St}})}getBucket(St){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket/${St}`,{headers:this.headers}),error:null}}catch(tr){if(isStorageError(tr))return{data:null,error:tr};throw tr}})}createBucket(St,tr={public:!1}){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:St,name:St,type:tr.type,public:tr.public,file_size_limit:tr.fileSizeLimit,allowed_mime_types:tr.allowedMimeTypes},{headers:this.headers}),error:null}}catch(rr){if(isStorageError(rr))return{data:null,error:rr};throw rr}})}updateBucket(St,tr){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${St}`,{id:St,name:St,public:tr.public,file_size_limit:tr.fileSizeLimit,allowed_mime_types:tr.allowedMimeTypes},{headers:this.headers}),error:null}}catch(rr){if(isStorageError(rr))return{data:null,error:rr};throw rr}})}emptyBucket(St){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${St}/empty`,{},{headers:this.headers}),error:null}}catch(tr){if(isStorageError(tr))return{data:null,error:tr};throw tr}})}deleteBucket(St){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${St}`,{},{headers:this.headers}),error:null}}catch(tr){if(isStorageError(tr))return{data:null,error:tr};throw tr}})}}class StorageClient extends StorageBucketApi{constructor(St,tr={},rr,nr){super(St,tr,rr,nr)}from(St){return new StorageFileApi(this.url,this.headers,St,this.fetch)}}const version$2="2.53.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$2}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$3=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};const resolveFetch$1=er=>{let St;return er?St=er:typeof fetch>"u"?St=nodeFetch:St=fetch,(...tr)=>St(...tr)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(er,St,tr)=>{const rr=resolveFetch$1(tr),nr=resolveHeadersConstructor();return(sr,ir)=>__awaiter$3(void 0,void 0,void 0,function*(){var ar;const or=(ar=yield St())!==null&&ar!==void 0?ar:er;let lr=new nr(ir==null?void 0:ir.headers);return lr.has("apikey")||lr.set("apikey",er),lr.has("Authorization")||lr.set("Authorization",`Bearer ${or}`),rr(sr,Object.assign(Object.assign({},ir),{headers:lr}))})};var __awaiter$2=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};function ensureTrailingSlash(er){return er.endsWith("/")?er:er+"/"}function applySettingDefaults(er,St){var tr,rr;const{db:nr,auth:sr,realtime:ir,global:ar}=er,{db:or,auth:lr,realtime:cr,global:ur}=St,dr={db:Object.assign(Object.assign({},or),nr),auth:Object.assign(Object.assign({},lr),sr),realtime:Object.assign(Object.assign({},cr),ir),storage:{},global:Object.assign(Object.assign(Object.assign({},ur),ar),{headers:Object.assign(Object.assign({},(tr=ur==null?void 0:ur.headers)!==null&&tr!==void 0?tr:{}),(rr=ar==null?void 0:ar.headers)!==null&&rr!==void 0?rr:{})}),accessToken:()=>__awaiter$2(this,void 0,void 0,function*(){return""})};return er.accessToken?dr.accessToken=er.accessToken:delete dr.accessToken,dr}const version$1="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(St,tr,rr){super(St),this.__isAuthError=!0,this.name="AuthError",this.status=tr,this.code=rr}}function isAuthError(er){return typeof er=="object"&&er!==null&&"__isAuthError"in er}class AuthApiError extends AuthError{constructor(St,tr,rr){super(St,tr,rr),this.name="AuthApiError",this.status=tr,this.code=rr}}function isAuthApiError(er){return isAuthError(er)&&er.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(St,tr){super(St),this.name="AuthUnknownError",this.originalError=tr}}class CustomAuthError extends AuthError{constructor(St,tr,rr,nr){super(St,rr,nr),this.name=tr,this.status=rr}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(er){return isAuthError(er)&&er.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(St){super(St,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(St,tr=null){super(St,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=tr}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(er){return isAuthError(er)&&er.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(St,tr=null){super(St,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=tr}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(St,tr){super(St,"AuthRetryableFetchError",tr,void 0)}}function isAuthRetryableFetchError(er){return isAuthError(er)&&er.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(St,tr,rr){super(St,"AuthWeakPasswordError",tr,"weak_password"),this.reasons=rr}}class AuthInvalidJwtError extends CustomAuthError{constructor(St){super(St,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const er=new Array(128);for(let St=0;St<er.length;St+=1)er[St]=-1;for(let St=0;St<IGNORE_BASE64URL.length;St+=1)er[IGNORE_BASE64URL[St].charCodeAt(0)]=-2;for(let St=0;St<TO_BASE64URL.length;St+=1)er[TO_BASE64URL[St].charCodeAt(0)]=St;return er})();function byteToBase64URL(er,St,tr){if(er!==null)for(St.queue=St.queue<<8|er,St.queuedBits+=8;St.queuedBits>=6;){const rr=St.queue>>St.queuedBits-6&63;tr(TO_BASE64URL[rr]),St.queuedBits-=6}else if(St.queuedBits>0)for(St.queue=St.queue<<6-St.queuedBits,St.queuedBits=6;St.queuedBits>=6;){const rr=St.queue>>St.queuedBits-6&63;tr(TO_BASE64URL[rr]),St.queuedBits-=6}}function byteFromBase64URL(er,St,tr){const rr=FROM_BASE64URL[er];if(rr>-1)for(St.queue=St.queue<<6|rr,St.queuedBits+=6;St.queuedBits>=8;)tr(St.queue>>St.queuedBits-8&255),St.queuedBits-=8;else{if(rr===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(er)}"`)}}function stringFromBase64URL(er){const St=[],tr=ir=>{St.push(String.fromCodePoint(ir))},rr={utf8seq:0,codepoint:0},nr={queue:0,queuedBits:0},sr=ir=>{stringFromUTF8(ir,rr,tr)};for(let ir=0;ir<er.length;ir+=1)byteFromBase64URL(er.charCodeAt(ir),nr,sr);return St.join("")}function codepointToUTF8(er,St){if(er<=127){St(er);return}else if(er<=2047){St(192|er>>6),St(128|er&63);return}else if(er<=65535){St(224|er>>12),St(128|er>>6&63),St(128|er&63);return}else if(er<=1114111){St(240|er>>18),St(128|er>>12&63),St(128|er>>6&63),St(128|er&63);return}throw new Error(`Unrecognized Unicode codepoint: ${er.toString(16)}`)}function stringToUTF8(er,St){for(let tr=0;tr<er.length;tr+=1){let rr=er.charCodeAt(tr);if(rr>55295&&rr<=56319){const nr=(rr-55296)*1024&65535;rr=(er.charCodeAt(tr+1)-56320&65535|nr)+65536,tr+=1}codepointToUTF8(rr,St)}}function stringFromUTF8(er,St,tr){if(St.utf8seq===0){if(er<=127){tr(er);return}for(let rr=1;rr<6;rr+=1)if(!(er>>7-rr&1)){St.utf8seq=rr;break}if(St.utf8seq===2)St.codepoint=er&31;else if(St.utf8seq===3)St.codepoint=er&15;else if(St.utf8seq===4)St.codepoint=er&7;else throw new Error("Invalid UTF-8 sequence");St.utf8seq-=1}else if(St.utf8seq>0){if(er<=127)throw new Error("Invalid UTF-8 sequence");St.codepoint=St.codepoint<<6|er&63,St.utf8seq-=1,St.utf8seq===0&&tr(St.codepoint)}}function base64UrlToUint8Array(er){const St=[],tr={queue:0,queuedBits:0},rr=nr=>{St.push(nr)};for(let nr=0;nr<er.length;nr+=1)byteFromBase64URL(er.charCodeAt(nr),tr,rr);return new Uint8Array(St)}function stringToUint8Array(er){const St=[];return stringToUTF8(er,tr=>St.push(tr)),new Uint8Array(St)}function bytesToBase64URL(er){const St=[],tr={queue:0,queuedBits:0},rr=nr=>{St.push(nr)};return er.forEach(nr=>byteToBase64URL(nr,tr,rr)),byteToBase64URL(null,tr,rr),St.join("")}function expiresAt(er){return Math.round(Date.now()/1e3)+er}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(er){const St=Math.random()*16|0;return(er=="x"?St:St&3|8).toString(16)})}const isBrowser$2=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$2())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const er=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(er,er),globalThis.localStorage.removeItem(er),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(er){const St={},tr=new URL(er);if(tr.hash&&tr.hash[0]==="#")try{new URLSearchParams(tr.hash.substring(1)).forEach((nr,sr)=>{St[sr]=nr})}catch{}return tr.searchParams.forEach((rr,nr)=>{St[nr]=rr}),St}const resolveFetch=er=>{let St;return er?St=er:typeof fetch>"u"?St=(...tr)=>__vitePreload(async()=>{const{default:rr}=await Promise.resolve().then(()=>browser);return{default:rr}},void 0).then(({default:rr})=>rr(...tr)):St=fetch,(...tr)=>St(...tr)},looksLikeFetchResponse=er=>typeof er=="object"&&er!==null&&"status"in er&&"ok"in er&&"json"in er&&typeof er.json=="function",setItemAsync=async(er,St,tr)=>{await er.setItem(St,JSON.stringify(tr))},getItemAsync=async(er,St)=>{const tr=await er.getItem(St);if(!tr)return null;try{return JSON.parse(tr)}catch{return tr}},removeItemAsync=async(er,St)=>{await er.removeItem(St)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((St,tr)=>{this.resolve=St,this.reject=tr})}}Deferred.promiseConstructor=Promise;function decodeJWT(er){const St=er.split(".");if(St.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let rr=0;rr<St.length;rr++)if(!BASE64URL_REGEX.test(St[rr]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(St[0])),payload:JSON.parse(stringFromBase64URL(St[1])),signature:base64UrlToUint8Array(St[2]),raw:{header:St[0],payload:St[1]}}}async function sleep(er){return await new Promise(St=>{setTimeout(()=>St(null),er)})}function retryable(er,St){return new Promise((rr,nr)=>{(async()=>{for(let sr=0;sr<1/0;sr++)try{const ir=await er(sr);if(!St(sr,null,ir)){rr(ir);return}}catch(ir){if(!St(sr,ir)){nr(ir);return}}})()})}function dec2hex(er){return("0"+er.toString(16)).substr(-2)}function generatePKCEVerifier(){const St=new Uint32Array(56);if(typeof crypto>"u"){const tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",rr=tr.length;let nr="";for(let sr=0;sr<56;sr++)nr+=tr.charAt(Math.floor(Math.random()*rr));return nr}return crypto.getRandomValues(St),Array.from(St,dec2hex).join("")}async function sha256(er){const tr=new TextEncoder().encode(er),rr=await crypto.subtle.digest("SHA-256",tr),nr=new Uint8Array(rr);return Array.from(nr).map(sr=>String.fromCharCode(sr)).join("")}async function generatePKCEChallenge(er){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),er;const tr=await sha256(er);return btoa(tr).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(er,St,tr=!1){const rr=generatePKCEVerifier();let nr=rr;tr&&(nr+="/PASSWORD_RECOVERY"),await setItemAsync(er,`${St}-code-verifier`,nr);const sr=await generatePKCEChallenge(rr);return[sr,rr===sr?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(er){const St=er.headers.get(API_VERSION_HEADER_NAME);if(!St||!St.match(API_VERSION_REGEX))return null;try{return new Date(`${St}T00:00:00.0Z`)}catch{return null}}function validateExp(er){if(!er)throw new Error("Missing exp claim");const St=Math.floor(Date.now()/1e3);if(er<=St)throw new Error("JWT has expired")}function getAlgorithm(er){switch(er){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(er){if(!UUID_REGEX.test(er))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const er={};return new Proxy(er,{get:(St,tr)=>{if(tr==="__isUserNotAvailableProxy")return!0;if(typeof tr=="symbol"){const rr=tr.toString();if(rr==="Symbol(Symbol.toPrimitive)"||rr==="Symbol(Symbol.toStringTag)"||rr==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${tr}" property of the session object is not supported. Please use getUser() instead.`)},set:(St,tr)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${tr}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(St,tr)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${tr}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(er){return JSON.parse(JSON.stringify(er))}var __rest$f=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};const _getErrorMessage=er=>er.msg||er.message||er.error_description||er.error||JSON.stringify(er),NETWORK_ERROR_CODES=[502,503,504];async function handleError(er){var St;if(!looksLikeFetchResponse(er))throw new AuthRetryableFetchError(_getErrorMessage(er),0);if(NETWORK_ERROR_CODES.includes(er.status))throw new AuthRetryableFetchError(_getErrorMessage(er),er.status);let tr;try{tr=await er.json()}catch(sr){throw new AuthUnknownError(_getErrorMessage(sr),sr)}let rr;const nr=parseResponseAPIVersion(er);if(nr&&nr.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof tr=="object"&&tr&&typeof tr.code=="string"?rr=tr.code:typeof tr=="object"&&tr&&typeof tr.error_code=="string"&&(rr=tr.error_code),rr){if(rr==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(tr),er.status,((St=tr.weak_password)===null||St===void 0?void 0:St.reasons)||[]);if(rr==="session_not_found")throw new AuthSessionMissingError}else if(typeof tr=="object"&&tr&&typeof tr.weak_password=="object"&&tr.weak_password&&Array.isArray(tr.weak_password.reasons)&&tr.weak_password.reasons.length&&tr.weak_password.reasons.reduce((sr,ir)=>sr&&typeof ir=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(tr),er.status,tr.weak_password.reasons);throw new AuthApiError(_getErrorMessage(tr),er.status||500,rr)}const _getRequestParams=(er,St,tr,rr)=>{const nr={method:er,headers:(St==null?void 0:St.headers)||{}};return er==="GET"?nr:(nr.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},St==null?void 0:St.headers),nr.body=JSON.stringify(rr),Object.assign(Object.assign({},nr),tr))};async function _request(er,St,tr,rr){var nr;const sr=Object.assign({},rr==null?void 0:rr.headers);sr[API_VERSION_HEADER_NAME]||(sr[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),rr!=null&&rr.jwt&&(sr.Authorization=`Bearer ${rr.jwt}`);const ir=(nr=rr==null?void 0:rr.query)!==null&&nr!==void 0?nr:{};rr!=null&&rr.redirectTo&&(ir.redirect_to=rr.redirectTo);const ar=Object.keys(ir).length?"?"+new URLSearchParams(ir).toString():"",or=await _handleRequest(er,St,tr+ar,{headers:sr,noResolveJson:rr==null?void 0:rr.noResolveJson},{},rr==null?void 0:rr.body);return rr!=null&&rr.xform?rr==null?void 0:rr.xform(or):{data:Object.assign({},or),error:null}}async function _handleRequest(er,St,tr,rr,nr,sr){const ir=_getRequestParams(St,rr,nr,sr);let ar;try{ar=await er(tr,Object.assign({},ir))}catch(or){throw console.error(or),new AuthRetryableFetchError(_getErrorMessage(or),0)}if(ar.ok||await handleError(ar),rr!=null&&rr.noResolveJson)return ar;try{return await ar.json()}catch(or){await handleError(or)}}function _sessionResponse(er){var St;let tr=null;hasSession(er)&&(tr=Object.assign({},er),er.expires_at||(tr.expires_at=expiresAt(er.expires_in)));const rr=(St=er.user)!==null&&St!==void 0?St:er;return{data:{session:tr,user:rr},error:null}}function _sessionResponsePassword(er){const St=_sessionResponse(er);return!St.error&&er.weak_password&&typeof er.weak_password=="object"&&Array.isArray(er.weak_password.reasons)&&er.weak_password.reasons.length&&er.weak_password.message&&typeof er.weak_password.message=="string"&&er.weak_password.reasons.reduce((tr,rr)=>tr&&typeof rr=="string",!0)&&(St.data.weak_password=er.weak_password),St}function _userResponse(er){var St;return{data:{user:(St=er.user)!==null&&St!==void 0?St:er},error:null}}function _ssoResponse(er){return{data:er,error:null}}function _generateLinkResponse(er){const{action_link:St,email_otp:tr,hashed_token:rr,redirect_to:nr,verification_type:sr}=er,ir=__rest$f(er,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),ar={action_link:St,email_otp:tr,hashed_token:rr,redirect_to:nr,verification_type:sr},or=Object.assign({},ir);return{data:{properties:ar,user:or},error:null}}function _noResolveJsonResponse(er){return er}function hasSession(er){return er.access_token&&er.refresh_token&&er.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest$e=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};class GoTrueAdminApi{constructor({url:St="",headers:tr={},fetch:rr}){this.url=St,this.headers=tr,this.fetch=resolveFetch(rr),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(St,tr=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(tr)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${tr}`,{headers:this.headers,jwt:St,noResolveJson:!0}),{data:null,error:null}}catch(rr){if(isAuthError(rr))return{data:null,error:rr};throw rr}}async inviteUserByEmail(St,tr={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:St,data:tr.data},headers:this.headers,redirectTo:tr.redirectTo,xform:_userResponse})}catch(rr){if(isAuthError(rr))return{data:{user:null},error:rr};throw rr}}async generateLink(St){try{const{options:tr}=St,rr=__rest$e(St,["options"]),nr=Object.assign(Object.assign({},rr),tr);return"newEmail"in rr&&(nr.new_email=rr==null?void 0:rr.newEmail,delete nr.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:nr,headers:this.headers,xform:_generateLinkResponse,redirectTo:tr==null?void 0:tr.redirectTo})}catch(tr){if(isAuthError(tr))return{data:{properties:null,user:null},error:tr};throw tr}}async createUser(St){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:St,headers:this.headers,xform:_userResponse})}catch(tr){if(isAuthError(tr))return{data:{user:null},error:tr};throw tr}}async listUsers(St){var tr,rr,nr,sr,ir,ar,or;try{const lr={nextPage:null,lastPage:0,total:0},cr=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(rr=(tr=St==null?void 0:St.page)===null||tr===void 0?void 0:tr.toString())!==null&&rr!==void 0?rr:"",per_page:(sr=(nr=St==null?void 0:St.perPage)===null||nr===void 0?void 0:nr.toString())!==null&&sr!==void 0?sr:""},xform:_noResolveJsonResponse});if(cr.error)throw cr.error;const ur=await cr.json(),dr=(ir=cr.headers.get("x-total-count"))!==null&&ir!==void 0?ir:0,hr=(or=(ar=cr.headers.get("link"))===null||ar===void 0?void 0:ar.split(","))!==null&&or!==void 0?or:[];return hr.length>0&&(hr.forEach(Ar=>{const fr=parseInt(Ar.split(";")[0].split("=")[1].substring(0,1)),mr=JSON.parse(Ar.split(";")[1].split("=")[1]);lr[`${mr}Page`]=fr}),lr.total=parseInt(dr)),{data:Object.assign(Object.assign({},ur),lr),error:null}}catch(lr){if(isAuthError(lr))return{data:{users:[]},error:lr};throw lr}}async getUserById(St){validateUUID(St);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${St}`,{headers:this.headers,xform:_userResponse})}catch(tr){if(isAuthError(tr))return{data:{user:null},error:tr};throw tr}}async updateUserById(St,tr){validateUUID(St);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${St}`,{body:tr,headers:this.headers,xform:_userResponse})}catch(rr){if(isAuthError(rr))return{data:{user:null},error:rr};throw rr}}async deleteUser(St,tr=!1){validateUUID(St);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${St}`,{headers:this.headers,body:{should_soft_delete:tr},xform:_userResponse})}catch(rr){if(isAuthError(rr))return{data:{user:null},error:rr};throw rr}}async _listFactors(St){validateUUID(St.userId);try{const{data:tr,error:rr}=await _request(this.fetch,"GET",`${this.url}/admin/users/${St.userId}/factors`,{headers:this.headers,xform:nr=>({data:{factors:nr},error:null})});return{data:tr,error:rr}}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}async _deleteFactor(St){validateUUID(St.userId),validateUUID(St.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${St.userId}/factors/${St.id}`,{headers:this.headers}),error:null}}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}}function memoryLocalStorageAdapter(er={}){return{getItem:St=>er[St]||null,setItem:(St,tr)=>{er[St]=tr},removeItem:St=>{delete er[St]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(St){super(St),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(er,St,tr){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",er,St);const rr=new globalThis.AbortController;return St>0&&setTimeout(()=>{rr.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",er)},St),await Promise.resolve().then(()=>globalThis.navigator.locks.request(er,St===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:rr.signal},async nr=>{if(nr){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",er,nr.name);try{return await tr()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",er,nr.name)}}else{if(St===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",er),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${er}" immediately failed`);if(internals.debug)try{const sr=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(sr,null,"  "))}catch(sr){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",sr)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await tr()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(er,St,tr){return await tr()}const GLOBAL_JWKS={};class GoTrueClient{constructor(St){var tr,rr;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$2()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const nr=Object.assign(Object.assign({},DEFAULT_OPTIONS),St);if(this.logDebugMessages=!!nr.debug,typeof nr.debug=="function"&&(this.logger=nr.debug),this.persistSession=nr.persistSession,this.storageKey=nr.storageKey,this.autoRefreshToken=nr.autoRefreshToken,this.admin=new GoTrueAdminApi({url:nr.url,headers:nr.headers,fetch:nr.fetch}),this.url=nr.url,this.headers=nr.headers,this.fetch=resolveFetch(nr.fetch),this.lock=nr.lock||lockNoOp,this.detectSessionInUrl=nr.detectSessionInUrl,this.flowType=nr.flowType,this.hasCustomAuthorizationHeader=nr.hasCustomAuthorizationHeader,nr.lock?this.lock=nr.lock:isBrowser$2()&&(!((tr=globalThis==null?void 0:globalThis.navigator)===null||tr===void 0)&&tr.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(nr.storage?this.storage=nr.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),nr.userStorage&&(this.userStorage=nr.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$2()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(sr){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",sr)}(rr=this.broadcastChannel)===null||rr===void 0||rr.addEventListener("message",async sr=>{this._debug("received broadcast notification from other tab or client",sr),await this._notifyAllSubscribers(sr.data.event,sr.data.session,!1)})}this.initialize()}get jwks(){var St,tr;return(tr=(St=GLOBAL_JWKS[this.storageKey])===null||St===void 0?void 0:St.jwks)!==null&&tr!==void 0?tr:{keys:[]}}set jwks(St){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:St})}get jwks_cached_at(){var St,tr;return(tr=(St=GLOBAL_JWKS[this.storageKey])===null||St===void 0?void 0:St.cachedAt)!==null&&tr!==void 0?tr:Number.MIN_SAFE_INTEGER}set jwks_cached_at(St){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:St})}_debug(...St){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version$1}) ${new Date().toISOString()}`,...St),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var St;try{const tr=parseParametersFromURL(window.location.href);let rr="none";if(this._isImplicitGrantCallback(tr)?rr="implicit":await this._isPKCECallback(tr)&&(rr="pkce"),isBrowser$2()&&this.detectSessionInUrl&&rr!=="none"){const{data:nr,error:sr}=await this._getSessionFromURL(tr,rr);if(sr){if(this._debug("#_initialize()","error detecting session from URL",sr),isAuthImplicitGrantRedirectError(sr)){const or=(St=sr.details)===null||St===void 0?void 0:St.code;if(or==="identity_already_exists"||or==="identity_not_found"||or==="single_identity_not_deletable")return{error:sr}}return await this._removeSession(),{error:sr}}const{session:ir,redirectType:ar}=nr;return this._debug("#_initialize()","detected session in URL",ir,"redirect type",ar),await this._saveSession(ir),setTimeout(async()=>{ar==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",ir):await this._notifyAllSubscribers("SIGNED_IN",ir)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(tr){return isAuthError(tr)?{error:tr}:{error:new AuthUnknownError("Unexpected error during initialization",tr)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(St){var tr,rr,nr;try{const sr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(rr=(tr=St==null?void 0:St.options)===null||tr===void 0?void 0:tr.data)!==null&&rr!==void 0?rr:{},gotrue_meta_security:{captcha_token:(nr=St==null?void 0:St.options)===null||nr===void 0?void 0:nr.captchaToken}},xform:_sessionResponse}),{data:ir,error:ar}=sr;if(ar||!ir)return{data:{user:null,session:null},error:ar};const or=ir.session,lr=ir.user;return ir.session&&(await this._saveSession(ir.session),await this._notifyAllSubscribers("SIGNED_IN",or)),{data:{user:lr,session:or},error:null}}catch(sr){if(isAuthError(sr))return{data:{user:null,session:null},error:sr};throw sr}}async signUp(St){var tr,rr,nr;try{let sr;if("email"in St){const{email:cr,password:ur,options:dr}=St;let hr=null,Ar=null;this.flowType==="pkce"&&([hr,Ar]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),sr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:dr==null?void 0:dr.emailRedirectTo,body:{email:cr,password:ur,data:(tr=dr==null?void 0:dr.data)!==null&&tr!==void 0?tr:{},gotrue_meta_security:{captcha_token:dr==null?void 0:dr.captchaToken},code_challenge:hr,code_challenge_method:Ar},xform:_sessionResponse})}else if("phone"in St){const{phone:cr,password:ur,options:dr}=St;sr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:cr,password:ur,data:(rr=dr==null?void 0:dr.data)!==null&&rr!==void 0?rr:{},channel:(nr=dr==null?void 0:dr.channel)!==null&&nr!==void 0?nr:"sms",gotrue_meta_security:{captcha_token:dr==null?void 0:dr.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:ir,error:ar}=sr;if(ar||!ir)return{data:{user:null,session:null},error:ar};const or=ir.session,lr=ir.user;return ir.session&&(await this._saveSession(ir.session),await this._notifyAllSubscribers("SIGNED_IN",or)),{data:{user:lr,session:or},error:null}}catch(sr){if(isAuthError(sr))return{data:{user:null,session:null},error:sr};throw sr}}async signInWithPassword(St){try{let tr;if("email"in St){const{email:sr,password:ir,options:ar}=St;tr=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:sr,password:ir,gotrue_meta_security:{captcha_token:ar==null?void 0:ar.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in St){const{phone:sr,password:ir,options:ar}=St;tr=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:sr,password:ir,gotrue_meta_security:{captcha_token:ar==null?void 0:ar.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:rr,error:nr}=tr;return nr?{data:{user:null,session:null},error:nr}:!rr||!rr.session||!rr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(rr.session&&(await this._saveSession(rr.session),await this._notifyAllSubscribers("SIGNED_IN",rr.session)),{data:Object.assign({user:rr.user,session:rr.session},rr.weak_password?{weakPassword:rr.weak_password}:null),error:nr})}catch(tr){if(isAuthError(tr))return{data:{user:null,session:null},error:tr};throw tr}}async signInWithOAuth(St){var tr,rr,nr,sr;return await this._handleProviderSignIn(St.provider,{redirectTo:(tr=St.options)===null||tr===void 0?void 0:tr.redirectTo,scopes:(rr=St.options)===null||rr===void 0?void 0:rr.scopes,queryParams:(nr=St.options)===null||nr===void 0?void 0:nr.queryParams,skipBrowserRedirect:(sr=St.options)===null||sr===void 0?void 0:sr.skipBrowserRedirect})}async exchangeCodeForSession(St){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(St))}async signInWithWeb3(St){const{chain:tr}=St;if(tr==="solana")return await this.signInWithSolana(St);throw new Error(`@supabase/auth-js: Unsupported chain "${tr}"`)}async signInWithSolana(St){var tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr;let Ar,fr;if("message"in St)Ar=St.message,fr=St.signature;else{const{chain:mr,wallet:pr,statement:gr,options:xr}=St;let yr;if(isBrowser$2())if(typeof pr=="object")yr=pr;else{const _r=window;if("solana"in _r&&typeof _r.solana=="object"&&("signIn"in _r.solana&&typeof _r.solana.signIn=="function"||"signMessage"in _r.solana&&typeof _r.solana.signMessage=="function"))yr=_r.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof pr!="object"||!(xr!=null&&xr.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");yr=pr}const Er=new URL((tr=xr==null?void 0:xr.url)!==null&&tr!==void 0?tr:window.location.href);if("signIn"in yr&&yr.signIn){const _r=await yr.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},xr==null?void 0:xr.signInWithSolana),{version:"1",domain:Er.host,uri:Er.href}),gr?{statement:gr}:null));let Sr;if(Array.isArray(_r)&&_r[0]&&typeof _r[0]=="object")Sr=_r[0];else if(_r&&typeof _r=="object"&&"signedMessage"in _r&&"signature"in _r)Sr=_r;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Sr&&"signature"in Sr&&(typeof Sr.signedMessage=="string"||Sr.signedMessage instanceof Uint8Array)&&Sr.signature instanceof Uint8Array)Ar=typeof Sr.signedMessage=="string"?Sr.signedMessage:new TextDecoder().decode(Sr.signedMessage),fr=Sr.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in yr)||typeof yr.signMessage!="function"||!("publicKey"in yr)||typeof yr!="object"||!yr.publicKey||!("toBase58"in yr.publicKey)||typeof yr.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Ar=[`${Er.host} wants you to sign in with your Solana account:`,yr.publicKey.toBase58(),...gr?["",gr,""]:[""],"Version: 1",`URI: ${Er.href}`,`Issued At: ${(nr=(rr=xr==null?void 0:xr.signInWithSolana)===null||rr===void 0?void 0:rr.issuedAt)!==null&&nr!==void 0?nr:new Date().toISOString()}`,...!((sr=xr==null?void 0:xr.signInWithSolana)===null||sr===void 0)&&sr.notBefore?[`Not Before: ${xr.signInWithSolana.notBefore}`]:[],...!((ir=xr==null?void 0:xr.signInWithSolana)===null||ir===void 0)&&ir.expirationTime?[`Expiration Time: ${xr.signInWithSolana.expirationTime}`]:[],...!((ar=xr==null?void 0:xr.signInWithSolana)===null||ar===void 0)&&ar.chainId?[`Chain ID: ${xr.signInWithSolana.chainId}`]:[],...!((or=xr==null?void 0:xr.signInWithSolana)===null||or===void 0)&&or.nonce?[`Nonce: ${xr.signInWithSolana.nonce}`]:[],...!((lr=xr==null?void 0:xr.signInWithSolana)===null||lr===void 0)&&lr.requestId?[`Request ID: ${xr.signInWithSolana.requestId}`]:[],...!((ur=(cr=xr==null?void 0:xr.signInWithSolana)===null||cr===void 0?void 0:cr.resources)===null||ur===void 0)&&ur.length?["Resources",...xr.signInWithSolana.resources.map(Sr=>`- ${Sr}`)]:[]].join(`
`);const _r=await yr.signMessage(new TextEncoder().encode(Ar),"utf8");if(!_r||!(_r instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");fr=_r}}try{const{data:mr,error:pr}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:Ar,signature:bytesToBase64URL(fr)},!((dr=St.options)===null||dr===void 0)&&dr.captchaToken?{gotrue_meta_security:{captcha_token:(hr=St.options)===null||hr===void 0?void 0:hr.captchaToken}}:null),xform:_sessionResponse});if(pr)throw pr;return!mr||!mr.session||!mr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(mr.session&&(await this._saveSession(mr.session),await this._notifyAllSubscribers("SIGNED_IN",mr.session)),{data:Object.assign({},mr),error:pr})}catch(mr){if(isAuthError(mr))return{data:{user:null,session:null},error:mr};throw mr}}async _exchangeCodeForSession(St){const tr=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[rr,nr]=(tr??"").split("/");try{const{data:sr,error:ir}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:St,code_verifier:rr},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),ir)throw ir;return!sr||!sr.session||!sr.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(sr.session&&(await this._saveSession(sr.session),await this._notifyAllSubscribers("SIGNED_IN",sr.session)),{data:Object.assign(Object.assign({},sr),{redirectType:nr??null}),error:ir})}catch(sr){if(isAuthError(sr))return{data:{user:null,session:null,redirectType:null},error:sr};throw sr}}async signInWithIdToken(St){try{const{options:tr,provider:rr,token:nr,access_token:sr,nonce:ir}=St,ar=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:rr,id_token:nr,access_token:sr,nonce:ir,gotrue_meta_security:{captcha_token:tr==null?void 0:tr.captchaToken}},xform:_sessionResponse}),{data:or,error:lr}=ar;return lr?{data:{user:null,session:null},error:lr}:!or||!or.session||!or.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(or.session&&(await this._saveSession(or.session),await this._notifyAllSubscribers("SIGNED_IN",or.session)),{data:or,error:lr})}catch(tr){if(isAuthError(tr))return{data:{user:null,session:null},error:tr};throw tr}}async signInWithOtp(St){var tr,rr,nr,sr,ir;try{if("email"in St){const{email:ar,options:or}=St;let lr=null,cr=null;this.flowType==="pkce"&&([lr,cr]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:ur}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:ar,data:(tr=or==null?void 0:or.data)!==null&&tr!==void 0?tr:{},create_user:(rr=or==null?void 0:or.shouldCreateUser)!==null&&rr!==void 0?rr:!0,gotrue_meta_security:{captcha_token:or==null?void 0:or.captchaToken},code_challenge:lr,code_challenge_method:cr},redirectTo:or==null?void 0:or.emailRedirectTo});return{data:{user:null,session:null},error:ur}}if("phone"in St){const{phone:ar,options:or}=St,{data:lr,error:cr}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:ar,data:(nr=or==null?void 0:or.data)!==null&&nr!==void 0?nr:{},create_user:(sr=or==null?void 0:or.shouldCreateUser)!==null&&sr!==void 0?sr:!0,gotrue_meta_security:{captcha_token:or==null?void 0:or.captchaToken},channel:(ir=or==null?void 0:or.channel)!==null&&ir!==void 0?ir:"sms"}});return{data:{user:null,session:null,messageId:lr==null?void 0:lr.message_id},error:cr}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(ar){if(isAuthError(ar))return{data:{user:null,session:null},error:ar};throw ar}}async verifyOtp(St){var tr,rr;try{let nr,sr;"options"in St&&(nr=(tr=St.options)===null||tr===void 0?void 0:tr.redirectTo,sr=(rr=St.options)===null||rr===void 0?void 0:rr.captchaToken);const{data:ir,error:ar}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},St),{gotrue_meta_security:{captcha_token:sr}}),redirectTo:nr,xform:_sessionResponse});if(ar)throw ar;if(!ir)throw new Error("An error occurred on token verification.");const or=ir.session,lr=ir.user;return or!=null&&or.access_token&&(await this._saveSession(or),await this._notifyAllSubscribers(St.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",or)),{data:{user:lr,session:or},error:null}}catch(nr){if(isAuthError(nr))return{data:{user:null,session:null},error:nr};throw nr}}async signInWithSSO(St){var tr,rr,nr;try{let sr=null,ir=null;return this.flowType==="pkce"&&([sr,ir]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in St?{provider_id:St.providerId}:null),"domain"in St?{domain:St.domain}:null),{redirect_to:(rr=(tr=St.options)===null||tr===void 0?void 0:tr.redirectTo)!==null&&rr!==void 0?rr:void 0}),!((nr=St==null?void 0:St.options)===null||nr===void 0)&&nr.captchaToken?{gotrue_meta_security:{captcha_token:St.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:sr,code_challenge_method:ir}),headers:this.headers,xform:_ssoResponse})}catch(sr){if(isAuthError(sr))return{data:null,error:sr};throw sr}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async St=>{const{data:{session:tr},error:rr}=St;if(rr)throw rr;if(!tr)throw new AuthSessionMissingError;const{error:nr}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:tr.access_token});return{data:{user:null,session:null},error:nr}})}catch(St){if(isAuthError(St))return{data:{user:null,session:null},error:St};throw St}}async resend(St){try{const tr=`${this.url}/resend`;if("email"in St){const{email:rr,type:nr,options:sr}=St,{error:ir}=await _request(this.fetch,"POST",tr,{headers:this.headers,body:{email:rr,type:nr,gotrue_meta_security:{captcha_token:sr==null?void 0:sr.captchaToken}},redirectTo:sr==null?void 0:sr.emailRedirectTo});return{data:{user:null,session:null},error:ir}}else if("phone"in St){const{phone:rr,type:nr,options:sr}=St,{data:ir,error:ar}=await _request(this.fetch,"POST",tr,{headers:this.headers,body:{phone:rr,type:nr,gotrue_meta_security:{captcha_token:sr==null?void 0:sr.captchaToken}}});return{data:{user:null,session:null,messageId:ir==null?void 0:ir.message_id},error:ar}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(tr){if(isAuthError(tr))return{data:{user:null,session:null},error:tr};throw tr}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async tr=>tr))}async _acquireLock(St,tr){this._debug("#_acquireLock","begin",St);try{if(this.lockAcquired){const rr=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),nr=(async()=>(await rr,await tr()))();return this.pendingInLock.push((async()=>{try{await nr}catch{}})()),nr}return await this.lock(`lock:${this.storageKey}`,St,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const rr=tr();for(this.pendingInLock.push((async()=>{try{await rr}catch{}})()),await rr;this.pendingInLock.length;){const nr=[...this.pendingInLock];await Promise.all(nr),this.pendingInLock.splice(0,nr.length)}return await rr}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(St){this._debug("#_useSession","begin");try{const tr=await this.__loadSession();return await St(tr)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let St=null;const tr=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",tr),tr!==null&&(this._isValidSession(tr)?St=tr:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!St)return{data:{session:null},error:null};const rr=St.expires_at?St.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${rr?"":" not"} expired`,"expires_at",St.expires_at),!rr){if(this.userStorage){const ir=await getItemAsync(this.userStorage,this.storageKey+"-user");ir!=null&&ir.user?St.user=ir.user:St.user=userNotAvailableProxy()}if(this.storage.isServer&&St.user){let ir=this.suppressGetSessionWarning;St=new Proxy(St,{get:(or,lr,cr)=>(!ir&&lr==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),ir=!0,this.suppressGetSessionWarning=!0),Reflect.get(or,lr,cr))})}return{data:{session:St},error:null}}const{session:nr,error:sr}=await this._callRefreshToken(St.refresh_token);return sr?{data:{session:null},error:sr}:{data:{session:nr},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(St){return St?await this._getUser(St):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(St){try{return St?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:St,xform:_userResponse}):await this._useSession(async tr=>{var rr,nr,sr;const{data:ir,error:ar}=tr;if(ar)throw ar;return!(!((rr=ir.session)===null||rr===void 0)&&rr.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(sr=(nr=ir.session)===null||nr===void 0?void 0:nr.access_token)!==null&&sr!==void 0?sr:void 0,xform:_userResponse})})}catch(tr){if(isAuthError(tr))return isAuthSessionMissingError(tr)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:tr};throw tr}}async updateUser(St,tr={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(St,tr))}async _updateUser(St,tr={}){try{return await this._useSession(async rr=>{const{data:nr,error:sr}=rr;if(sr)throw sr;if(!nr.session)throw new AuthSessionMissingError;const ir=nr.session;let ar=null,or=null;this.flowType==="pkce"&&St.email!=null&&([ar,or]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:lr,error:cr}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:tr==null?void 0:tr.emailRedirectTo,body:Object.assign(Object.assign({},St),{code_challenge:ar,code_challenge_method:or}),jwt:ir.access_token,xform:_userResponse});if(cr)throw cr;return ir.user=lr.user,await this._saveSession(ir),await this._notifyAllSubscribers("USER_UPDATED",ir),{data:{user:ir.user},error:null}})}catch(rr){if(isAuthError(rr))return{data:{user:null},error:rr};throw rr}}async setSession(St){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(St))}async _setSession(St){try{if(!St.access_token||!St.refresh_token)throw new AuthSessionMissingError;const tr=Date.now()/1e3;let rr=tr,nr=!0,sr=null;const{payload:ir}=decodeJWT(St.access_token);if(ir.exp&&(rr=ir.exp,nr=rr<=tr),nr){const{session:ar,error:or}=await this._callRefreshToken(St.refresh_token);if(or)return{data:{user:null,session:null},error:or};if(!ar)return{data:{user:null,session:null},error:null};sr=ar}else{const{data:ar,error:or}=await this._getUser(St.access_token);if(or)throw or;sr={access_token:St.access_token,refresh_token:St.refresh_token,user:ar.user,token_type:"bearer",expires_in:rr-tr,expires_at:rr},await this._saveSession(sr),await this._notifyAllSubscribers("SIGNED_IN",sr)}return{data:{user:sr.user,session:sr},error:null}}catch(tr){if(isAuthError(tr))return{data:{session:null,user:null},error:tr};throw tr}}async refreshSession(St){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(St))}async _refreshSession(St){try{return await this._useSession(async tr=>{var rr;if(!St){const{data:ir,error:ar}=tr;if(ar)throw ar;St=(rr=ir.session)!==null&&rr!==void 0?rr:void 0}if(!(St!=null&&St.refresh_token))throw new AuthSessionMissingError;const{session:nr,error:sr}=await this._callRefreshToken(St.refresh_token);return sr?{data:{user:null,session:null},error:sr}:nr?{data:{user:nr.user,session:nr},error:null}:{data:{user:null,session:null},error:null}})}catch(tr){if(isAuthError(tr))return{data:{user:null,session:null},error:tr};throw tr}}async _getSessionFromURL(St,tr){try{if(!isBrowser$2())throw new AuthImplicitGrantRedirectError("No browser detected.");if(St.error||St.error_description||St.error_code)throw new AuthImplicitGrantRedirectError(St.error_description||"Error in URL with unspecified error_description",{error:St.error||"unspecified_error",code:St.error_code||"unspecified_code"});switch(tr){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(tr==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!St.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:gr,error:xr}=await this._exchangeCodeForSession(St.code);if(xr)throw xr;const yr=new URL(window.location.href);return yr.searchParams.delete("code"),window.history.replaceState(window.history.state,"",yr.toString()),{data:{session:gr.session,redirectType:null},error:null}}const{provider_token:rr,provider_refresh_token:nr,access_token:sr,refresh_token:ir,expires_in:ar,expires_at:or,token_type:lr}=St;if(!sr||!ar||!ir||!lr)throw new AuthImplicitGrantRedirectError("No session defined in URL");const cr=Math.round(Date.now()/1e3),ur=parseInt(ar);let dr=cr+ur;or&&(dr=parseInt(or));const hr=dr-cr;hr*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${hr}s, should have been closer to ${ur}s`);const Ar=dr-ur;cr-Ar>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Ar,dr,cr):cr-Ar<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Ar,dr,cr);const{data:fr,error:mr}=await this._getUser(sr);if(mr)throw mr;const pr={provider_token:rr,provider_refresh_token:nr,access_token:sr,expires_in:ur,expires_at:dr,refresh_token:ir,token_type:lr,user:fr.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:pr,redirectType:St.type},error:null}}catch(rr){if(isAuthError(rr))return{data:{session:null,redirectType:null},error:rr};throw rr}}_isImplicitGrantCallback(St){return!!(St.access_token||St.error_description)}async _isPKCECallback(St){const tr=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(St.code&&tr)}async signOut(St={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(St))}async _signOut({scope:St}={scope:"global"}){return await this._useSession(async tr=>{var rr;const{data:nr,error:sr}=tr;if(sr)return{error:sr};const ir=(rr=nr.session)===null||rr===void 0?void 0:rr.access_token;if(ir){const{error:ar}=await this.admin.signOut(ir,St);if(ar&&!(isAuthApiError(ar)&&(ar.status===404||ar.status===401||ar.status===403)))return{error:ar}}return St!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(St){const tr=uuid(),rr={id:tr,callback:St,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",tr),this.stateChangeEmitters.delete(tr)}};return this._debug("#onAuthStateChange()","registered callback with id",tr),this.stateChangeEmitters.set(tr,rr),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(tr)})))(),{data:{subscription:rr}}}async _emitInitialSession(St){return await this._useSession(async tr=>{var rr,nr;try{const{data:{session:sr},error:ir}=tr;if(ir)throw ir;await((rr=this.stateChangeEmitters.get(St))===null||rr===void 0?void 0:rr.callback("INITIAL_SESSION",sr)),this._debug("INITIAL_SESSION","callback id",St,"session",sr)}catch(sr){await((nr=this.stateChangeEmitters.get(St))===null||nr===void 0?void 0:nr.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",St,"error",sr),console.error(sr)}})}async resetPasswordForEmail(St,tr={}){let rr=null,nr=null;this.flowType==="pkce"&&([rr,nr]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:St,code_challenge:rr,code_challenge_method:nr,gotrue_meta_security:{captcha_token:tr.captchaToken}},headers:this.headers,redirectTo:tr.redirectTo})}catch(sr){if(isAuthError(sr))return{data:null,error:sr};throw sr}}async getUserIdentities(){var St;try{const{data:tr,error:rr}=await this.getUser();if(rr)throw rr;return{data:{identities:(St=tr.user.identities)!==null&&St!==void 0?St:[]},error:null}}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}async linkIdentity(St){var tr;try{const{data:rr,error:nr}=await this._useSession(async sr=>{var ir,ar,or,lr,cr;const{data:ur,error:dr}=sr;if(dr)throw dr;const hr=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,St.provider,{redirectTo:(ir=St.options)===null||ir===void 0?void 0:ir.redirectTo,scopes:(ar=St.options)===null||ar===void 0?void 0:ar.scopes,queryParams:(or=St.options)===null||or===void 0?void 0:or.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",hr,{headers:this.headers,jwt:(cr=(lr=ur.session)===null||lr===void 0?void 0:lr.access_token)!==null&&cr!==void 0?cr:void 0})});if(nr)throw nr;return isBrowser$2()&&!(!((tr=St.options)===null||tr===void 0)&&tr.skipBrowserRedirect)&&window.location.assign(rr==null?void 0:rr.url),{data:{provider:St.provider,url:rr==null?void 0:rr.url},error:null}}catch(rr){if(isAuthError(rr))return{data:{provider:St.provider,url:null},error:rr};throw rr}}async unlinkIdentity(St){try{return await this._useSession(async tr=>{var rr,nr;const{data:sr,error:ir}=tr;if(ir)throw ir;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${St.identity_id}`,{headers:this.headers,jwt:(nr=(rr=sr.session)===null||rr===void 0?void 0:rr.access_token)!==null&&nr!==void 0?nr:void 0})})}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}async _refreshAccessToken(St){const tr=`#_refreshAccessToken(${St.substring(0,5)}...)`;this._debug(tr,"begin");try{const rr=Date.now();return await retryable(async nr=>(nr>0&&await sleep(200*Math.pow(2,nr-1)),this._debug(tr,"refreshing attempt",nr),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:St},headers:this.headers,xform:_sessionResponse})),(nr,sr)=>{const ir=200*Math.pow(2,nr);return sr&&isAuthRetryableFetchError(sr)&&Date.now()+ir-rr<AUTO_REFRESH_TICK_DURATION_MS})}catch(rr){if(this._debug(tr,"error",rr),isAuthError(rr))return{data:{session:null,user:null},error:rr};throw rr}finally{this._debug(tr,"end")}}_isValidSession(St){return typeof St=="object"&&St!==null&&"access_token"in St&&"refresh_token"in St&&"expires_at"in St}async _handleProviderSignIn(St,tr){const rr=await this._getUrlForProvider(`${this.url}/authorize`,St,{redirectTo:tr.redirectTo,scopes:tr.scopes,queryParams:tr.queryParams});return this._debug("#_handleProviderSignIn()","provider",St,"options",tr,"url",rr),isBrowser$2()&&!tr.skipBrowserRedirect&&window.location.assign(rr),{data:{provider:St,url:rr},error:null}}async _recoverAndRefresh(){var St,tr;const rr="#_recoverAndRefresh()";this._debug(rr,"begin");try{const nr=await getItemAsync(this.storage,this.storageKey);if(nr&&this.userStorage){let ir=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!ir&&(ir={user:nr.user},await setItemAsync(this.userStorage,this.storageKey+"-user",ir)),nr.user=(St=ir==null?void 0:ir.user)!==null&&St!==void 0?St:userNotAvailableProxy()}else if(nr&&!nr.user&&!nr.user){const ir=await getItemAsync(this.storage,this.storageKey+"-user");ir&&(ir!=null&&ir.user)?(nr.user=ir.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,nr)):nr.user=userNotAvailableProxy()}if(this._debug(rr,"session from storage",nr),!this._isValidSession(nr)){this._debug(rr,"session is not valid"),nr!==null&&await this._removeSession();return}const sr=((tr=nr.expires_at)!==null&&tr!==void 0?tr:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(rr,`session has${sr?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),sr){if(this.autoRefreshToken&&nr.refresh_token){const{error:ir}=await this._callRefreshToken(nr.refresh_token);ir&&(console.error(ir),isAuthRetryableFetchError(ir)||(this._debug(rr,"refresh failed with a non-retryable error, removing the session",ir),await this._removeSession()))}}else if(nr.user&&nr.user.__isUserNotAvailableProxy===!0)try{const{data:ir,error:ar}=await this._getUser(nr.access_token);!ar&&(ir!=null&&ir.user)?(nr.user=ir.user,await this._saveSession(nr),await this._notifyAllSubscribers("SIGNED_IN",nr)):this._debug(rr,"could not get user data, skipping SIGNED_IN notification")}catch(ir){console.error("Error getting user data:",ir),this._debug(rr,"error getting user data, skipping SIGNED_IN notification",ir)}else await this._notifyAllSubscribers("SIGNED_IN",nr)}catch(nr){this._debug(rr,"error",nr),console.error(nr);return}finally{this._debug(rr,"end")}}async _callRefreshToken(St){var tr,rr;if(!St)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const nr=`#_callRefreshToken(${St.substring(0,5)}...)`;this._debug(nr,"begin");try{this.refreshingDeferred=new Deferred;const{data:sr,error:ir}=await this._refreshAccessToken(St);if(ir)throw ir;if(!sr.session)throw new AuthSessionMissingError;await this._saveSession(sr.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",sr.session);const ar={session:sr.session,error:null};return this.refreshingDeferred.resolve(ar),ar}catch(sr){if(this._debug(nr,"error",sr),isAuthError(sr)){const ir={session:null,error:sr};return isAuthRetryableFetchError(sr)||await this._removeSession(),(tr=this.refreshingDeferred)===null||tr===void 0||tr.resolve(ir),ir}throw(rr=this.refreshingDeferred)===null||rr===void 0||rr.reject(sr),sr}finally{this.refreshingDeferred=null,this._debug(nr,"end")}}async _notifyAllSubscribers(St,tr,rr=!0){const nr=`#_notifyAllSubscribers(${St})`;this._debug(nr,"begin",tr,`broadcast = ${rr}`);try{this.broadcastChannel&&rr&&this.broadcastChannel.postMessage({event:St,session:tr});const sr=[],ir=Array.from(this.stateChangeEmitters.values()).map(async ar=>{try{await ar.callback(St,tr)}catch(or){sr.push(or)}});if(await Promise.all(ir),sr.length>0){for(let ar=0;ar<sr.length;ar+=1)console.error(sr[ar]);throw sr[0]}}finally{this._debug(nr,"end")}}async _saveSession(St){this._debug("#_saveSession()",St),this.suppressGetSessionWarning=!0;const tr=Object.assign({},St),rr=tr.user&&tr.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!rr&&tr.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:tr.user});const nr=Object.assign({},tr);delete nr.user;const sr=deepClone(nr);await setItemAsync(this.storage,this.storageKey,sr)}else{const nr=deepClone(tr);await setItemAsync(this.storage,this.storageKey,nr)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const St=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{St&&isBrowser$2()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",St)}catch(tr){console.error("removing visibilitychange callback failed",tr)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const St=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=St,St&&typeof St=="object"&&typeof St.unref=="function"?St.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(St),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const St=this.autoRefreshTicker;this.autoRefreshTicker=null,St&&clearInterval(St)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const St=Date.now();try{return await this._useSession(async tr=>{const{data:{session:rr}}=tr;if(!rr||!rr.refresh_token||!rr.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const nr=Math.floor((rr.expires_at*1e3-St)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${nr} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),nr<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(rr.refresh_token)})}catch(tr){console.error("Auto refresh tick failed with error. This is likely a transient error.",tr)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(St){if(St.isAcquireTimeout||St instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw St}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$2()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(St){console.error("_handleVisibilityChange",St)}}async _onVisibilityChanged(St){const tr=`#_onVisibilityChanged(${St})`;this._debug(tr,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),St||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(tr,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(St,tr,rr){const nr=[`provider=${encodeURIComponent(tr)}`];if(rr!=null&&rr.redirectTo&&nr.push(`redirect_to=${encodeURIComponent(rr.redirectTo)}`),rr!=null&&rr.scopes&&nr.push(`scopes=${encodeURIComponent(rr.scopes)}`),this.flowType==="pkce"){const[sr,ir]=await getCodeChallengeAndMethod(this.storage,this.storageKey),ar=new URLSearchParams({code_challenge:`${encodeURIComponent(sr)}`,code_challenge_method:`${encodeURIComponent(ir)}`});nr.push(ar.toString())}if(rr!=null&&rr.queryParams){const sr=new URLSearchParams(rr.queryParams);nr.push(sr.toString())}return rr!=null&&rr.skipBrowserRedirect&&nr.push(`skip_http_redirect=${rr.skipBrowserRedirect}`),`${St}?${nr.join("&")}`}async _unenroll(St){try{return await this._useSession(async tr=>{var rr;const{data:nr,error:sr}=tr;return sr?{data:null,error:sr}:await _request(this.fetch,"DELETE",`${this.url}/factors/${St.factorId}`,{headers:this.headers,jwt:(rr=nr==null?void 0:nr.session)===null||rr===void 0?void 0:rr.access_token})})}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}async _enroll(St){try{return await this._useSession(async tr=>{var rr,nr;const{data:sr,error:ir}=tr;if(ir)return{data:null,error:ir};const ar=Object.assign({friendly_name:St.friendlyName,factor_type:St.factorType},St.factorType==="phone"?{phone:St.phone}:{issuer:St.issuer}),{data:or,error:lr}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:ar,headers:this.headers,jwt:(rr=sr==null?void 0:sr.session)===null||rr===void 0?void 0:rr.access_token});return lr?{data:null,error:lr}:(St.factorType==="totp"&&(!((nr=or==null?void 0:or.totp)===null||nr===void 0)&&nr.qr_code)&&(or.totp.qr_code=`data:image/svg+xml;utf-8,${or.totp.qr_code}`),{data:or,error:null})})}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}}async _verify(St){return this._acquireLock(-1,async()=>{try{return await this._useSession(async tr=>{var rr;const{data:nr,error:sr}=tr;if(sr)return{data:null,error:sr};const{data:ir,error:ar}=await _request(this.fetch,"POST",`${this.url}/factors/${St.factorId}/verify`,{body:{code:St.code,challenge_id:St.challengeId},headers:this.headers,jwt:(rr=nr==null?void 0:nr.session)===null||rr===void 0?void 0:rr.access_token});return ar?{data:null,error:ar}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+ir.expires_in},ir)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",ir),{data:ir,error:ar})})}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}})}async _challenge(St){return this._acquireLock(-1,async()=>{try{return await this._useSession(async tr=>{var rr;const{data:nr,error:sr}=tr;return sr?{data:null,error:sr}:await _request(this.fetch,"POST",`${this.url}/factors/${St.factorId}/challenge`,{body:{channel:St.channel},headers:this.headers,jwt:(rr=nr==null?void 0:nr.session)===null||rr===void 0?void 0:rr.access_token})})}catch(tr){if(isAuthError(tr))return{data:null,error:tr};throw tr}})}async _challengeAndVerify(St){const{data:tr,error:rr}=await this._challenge({factorId:St.factorId});return rr?{data:null,error:rr}:await this._verify({factorId:St.factorId,challengeId:tr.id,code:St.code})}async _listFactors(){const{data:{user:St},error:tr}=await this.getUser();if(tr)return{data:null,error:tr};const rr=(St==null?void 0:St.factors)||[],nr=rr.filter(ir=>ir.factor_type==="totp"&&ir.status==="verified"),sr=rr.filter(ir=>ir.factor_type==="phone"&&ir.status==="verified");return{data:{all:rr,totp:nr,phone:sr},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async St=>{var tr,rr;const{data:{session:nr},error:sr}=St;if(sr)return{data:null,error:sr};if(!nr)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:ir}=decodeJWT(nr.access_token);let ar=null;ir.aal&&(ar=ir.aal);let or=ar;((rr=(tr=nr.user.factors)===null||tr===void 0?void 0:tr.filter(ur=>ur.status==="verified"))!==null&&rr!==void 0?rr:[]).length>0&&(or="aal2");const cr=ir.amr||[];return{data:{currentLevel:ar,nextLevel:or,currentAuthenticationMethods:cr},error:null}}))}async fetchJwk(St,tr={keys:[]}){let rr=tr.keys.find(ar=>ar.kid===St);if(rr)return rr;const nr=Date.now();if(rr=this.jwks.keys.find(ar=>ar.kid===St),rr&&this.jwks_cached_at+JWKS_TTL>nr)return rr;const{data:sr,error:ir}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(ir)throw ir;return!sr.keys||sr.keys.length===0||(this.jwks=sr,this.jwks_cached_at=nr,rr=sr.keys.find(ar=>ar.kid===St),!rr)?null:rr}async getClaims(St,tr={}){try{let rr=St;if(!rr){const{data:hr,error:Ar}=await this.getSession();if(Ar||!hr.session)return{data:null,error:Ar};rr=hr.session.access_token}const{header:nr,payload:sr,signature:ir,raw:{header:ar,payload:or}}=decodeJWT(rr);tr!=null&&tr.allowExpired||validateExp(sr.exp);const lr=!nr.alg||nr.alg.startsWith("HS")||!nr.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(nr.kid,tr!=null&&tr.keys?{keys:tr.keys}:tr==null?void 0:tr.jwks);if(!lr){const{error:hr}=await this.getUser(rr);if(hr)throw hr;return{data:{claims:sr,header:nr,signature:ir},error:null}}const cr=getAlgorithm(nr.alg),ur=await crypto.subtle.importKey("jwk",lr,cr,!0,["verify"]);if(!await crypto.subtle.verify(cr,ur,ir,stringToUint8Array(`${ar}.${or}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:sr,header:nr,signature:ir},error:null}}catch(rr){if(isAuthError(rr))return{data:null,error:rr};throw rr}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(St){super(St)}}var __awaiter$1=function(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,St||[])).next())})};class SupabaseClient{constructor(St,tr,rr){var nr,sr,ir;if(this.supabaseUrl=St,this.supabaseKey=tr,!St)throw new Error("supabaseUrl is required.");if(!tr)throw new Error("supabaseKey is required.");const ar=ensureTrailingSlash(St),or=new URL(ar);this.realtimeUrl=new URL("realtime/v1",or),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",or),this.storageUrl=new URL("storage/v1",or),this.functionsUrl=new URL("functions/v1",or);const lr=`sb-${or.hostname.split(".")[0]}-auth-token`,cr={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:lr}),global:DEFAULT_GLOBAL_OPTIONS},ur=applySettingDefaults(rr??{},cr);this.storageKey=(nr=ur.auth.storageKey)!==null&&nr!==void 0?nr:"",this.headers=(sr=ur.global.headers)!==null&&sr!==void 0?sr:{},ur.accessToken?(this.accessToken=ur.accessToken,this.auth=new Proxy({},{get:(dr,hr)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(hr)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((ir=ur.auth)!==null&&ir!==void 0?ir:{},this.headers,ur.global.fetch),this.fetch=fetchWithAuth(tr,this._getAccessToken.bind(this),ur.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},ur.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",or).href,{headers:this.headers,schema:ur.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,rr==null?void 0:rr.storage),ur.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(St){return this.rest.from(St)}schema(St){return this.rest.schema(St)}rpc(St,tr={},rr={}){return this.rest.rpc(St,tr,rr)}channel(St,tr={config:{}}){return this.realtime.channel(St,tr)}getChannels(){return this.realtime.getChannels()}removeChannel(St){return this.realtime.removeChannel(St)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var St,tr;return __awaiter$1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:rr}=yield this.auth.getSession();return(tr=(St=rr.session)===null||St===void 0?void 0:St.access_token)!==null&&tr!==void 0?tr:null})}_initSupabaseAuthClient({autoRefreshToken:St,persistSession:tr,detectSessionInUrl:rr,storage:nr,storageKey:sr,flowType:ir,lock:ar,debug:or},lr,cr){const ur={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},ur),lr),storageKey:sr,autoRefreshToken:St,persistSession:tr,detectSessionInUrl:rr,storage:nr,flowType:ir,lock:ar,debug:or,fetch:cr,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(St){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},St),{params:Object.assign({apikey:this.supabaseKey},St==null?void 0:St.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((tr,rr)=>{this._handleTokenChanged(tr,"CLIENT",rr==null?void 0:rr.access_token)})}_handleTokenChanged(St,tr,rr){(St==="TOKEN_REFRESHED"||St==="SIGNED_IN")&&this.changedAccessToken!==rr?this.changedAccessToken=rr:St==="SIGNED_OUT"&&(this.realtime.setAuth(),tr=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(er,St,tr)=>new SupabaseClient(er,St,tr);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const er=process.version.match(/^v(\d+)\./);return er?parseInt(er[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://dhycdcugbjchktvqlroz.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoeWNkY3VnYmpjaGt0dnFscm96Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMTk1MzQsImV4cCI6MjA2ODc5NTUzNH0.DknqvlCCYOSLe3olTMtRA8jAoNMRg17aAesYLuo6TUI",supabase=createClient(supabaseUrl,supabaseAnonKey),BrandingContext=reactExports.createContext(void 0),useBrandingContext=()=>{const er=reactExports.useContext(BrandingContext);if(!er)throw new Error("useBrandingContext must be used within BrandingProvider");return er};function BrandingProvider({children:er}){const[St,tr]=reactExports.useState(),[rr,nr]=reactExports.useState({favicon_url:"/favicon.ico",primary_color:"#3B82F6",employer_name:"Insperity Health"});reactExports.useEffect(()=>{sr()},[]),reactExports.useEffect(()=>{const lr=window==null?void 0:window.location.hostname,cr=(lr==null?void 0:lr.includes("vercel.app"))||lr==="localhost"||lr==="127.0.0.1";if(St)ir(St);else if(!cr&&(lr!=null&&lr.includes("."))){const ur=lr.split(".")[0];ur&&ur!=="www"&&ar(ur)}else console.log("[Branding] Skipping subdomain check on preview/dev environment:",lr)},[St]);async function sr(){try{const{data:{user:lr}}=await supabase.auth.getUser();if(lr){const{data:cr}=await supabase.from("users").select("employer_id").eq("id",lr.id).single();cr!=null&&cr.employer_id&&tr(cr.employer_id)}}catch(lr){console.error("Error checking user employer:",lr)}}async function ir(lr){try{const{data:cr,error:ur}=await supabase.from("employers").select("name, logo_url, favicon_url, primary_color, tagline, subdomain, voice_profile_id").eq("id",lr).single();if(ur)throw ur;cr&&or(cr)}catch(cr){console.error("Error loading branding by employer ID:",cr)}}async function ar(lr){try{const{data:cr,error:ur}=await supabase.from("employers").select("name, logo_url, favicon_url, primary_color, tagline, subdomain, voice_profile_id").eq("subdomain",lr).single();if(ur)throw ur;cr&&or(cr)}catch(cr){console.error("Error loading branding by subdomain:",cr)}}function or(lr){if(lr.favicon_url){const cr=document.querySelector("link[rel='icon']");if(cr)cr.href=lr.favicon_url;else{const ur=document.createElement("link");ur.rel="icon",ur.href=lr.favicon_url,document.head.appendChild(ur)}}lr.primary_color&&document.documentElement.style.setProperty("--brand-primary",lr.primary_color),nr({favicon_url:lr.favicon_url||"/favicon.ico",logo_url:lr.logo_url||"",primary_color:lr.primary_color||"#3B82F6",tagline:lr.tagline||"",subdomain:lr.subdomain||"",employer_name:lr.name||"Insperity Health",voice_profile_id:lr.voice_profile_id||void 0})}return jsxRuntimeExports.jsx(BrandingContext.Provider,{value:{employerId:St,branding:rr,setEmployerId:tr},children:er})}function useTenantSubdomain(){if(typeof window>"u")return null;const er=window.location.hostname;if(er.includes("vercel.app")||er.includes("vercel.sh")||er==="localhost"||er==="127.0.0.1")return null;const tr=er.split(".");return tr.length>2?tr[0]:null}function useTenantBranding(){const er=useTenantSubdomain(),[St,tr]=reactExports.useState(null),[rr,nr]=reactExports.useState(!0);return reactExports.useEffect(()=>{async function sr(){if(!er){tr({id:"default",name:"Insperity Health",primary_color:"#3B82F6",voice_profile:"Rachel"}),nr(!1);return}try{const{data:ir}=await supabase.from("employers").select("*").eq("subdomain",er).single();tr(ir?{id:ir.id,name:ir.name,logo_url:ir.logo_url,favicon_url:ir.favicon_url,primary_color:ir.primary_color||"#3B82F6",voice_profile:ir.voice_profile||"Rachel",tagline:ir.tagline}:null)}catch(ir){console.error("Error loading tenant branding:",ir),tr(null)}finally{nr(!1)}}sr()},[er]),reactExports.useEffect(()=>{if(St!=null&&St.favicon_url&&typeof document<"u"){const sr=document.querySelector("link[rel~='icon']")||document.createElement("link");sr.type="image/x-icon",sr.rel="shortcut icon",sr.href=St.favicon_url,document.getElementsByTagName("head")[0].appendChild(sr)}},[St==null?void 0:St.favicon_url]),{branding:St,loading:rr,subdomain:er}}var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=er=>er.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(er,St)=>{const tr=reactExports.forwardRef(({color:rr="currentColor",size:nr=24,strokeWidth:sr=2,absoluteStrokeWidth:ir,children:ar,...or},lr)=>reactExports.createElement("svg",{ref:lr,...defaultAttributes,width:nr,height:nr,stroke:rr,strokeWidth:ir?Number(sr)*24/Number(nr):sr,className:`lucide lucide-${toKebabCase(er)}`,...or},[...St.map(([cr,ur])=>reactExports.createElement(cr,ur)),...(Array.isArray(ar)?ar:[ar])||[]]));return tr.displayName=`${er}`,tr},ActivitySquare=createLucideIcon("ActivitySquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]),Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Apple=createLucideIcon("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]),Archive=createLucideIcon("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Brain=createLucideIcon("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Briefcase=createLucideIcon("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),CalendarCheck=createLucideIcon("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),CalendarDays=createLucideIcon("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Calendar$2=createLucideIcon("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),CheckCircle2=createLucideIcon("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Check=createLucideIcon("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Cloud=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Droplet=createLucideIcon("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),Droplets=createLucideIcon("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),FileDown=createLucideIcon("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),FilePlus=createLucideIcon("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),FileSearch=createLucideIcon("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),FileText=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),File$1=createLucideIcon("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),FlaskConical=createLucideIcon("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Footprints=createLucideIcon("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]),Gauge=createLucideIcon("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),HardDrive=createLucideIcon("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),HeartPulse=createLucideIcon("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),MicOff=createLucideIcon("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Mic=createLucideIcon("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),PenSquare=createLucideIcon("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Pencil=createLucideIcon("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Pill=createLucideIcon("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Radio$1=createLucideIcon("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Salad=createLucideIcon("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]),Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ScrollText=createLucideIcon("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Server=createLucideIcon("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ShieldOff=createLucideIcon("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),ShieldPlus=createLucideIcon("ShieldPlus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M12 15V7",key:"1ycneb"}]]),Shield=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Stethoscope=createLucideIcon("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),TestTube=createLucideIcon("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Trash=createLucideIcon("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),X$3=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function r$4(er){var St,tr,rr="";if(typeof er=="string"||typeof er=="number")rr+=er;else if(typeof er=="object")if(Array.isArray(er)){var nr=er.length;for(St=0;St<nr;St++)er[St]&&(tr=r$4(er[St]))&&(rr&&(rr+=" "),rr+=tr)}else for(tr in er)er[tr]&&(rr&&(rr+=" "),rr+=tr);return rr}function clsx(){for(var er,St,tr=0,rr="",nr=arguments.length;tr<nr;tr++)(er=arguments[tr])&&(St=r$4(er))&&(rr&&(rr+=" "),rr+=St);return rr}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=er=>{const St=createClassMap(er),{conflictingClassGroups:tr,conflictingClassGroupModifiers:rr}=er;return{getClassGroupId:ir=>{const ar=ir.split(CLASS_PART_SEPARATOR);return ar[0]===""&&ar.length!==1&&ar.shift(),getGroupRecursive(ar,St)||getGroupIdForArbitraryProperty(ir)},getConflictingClassGroupIds:(ir,ar)=>{const or=tr[ir]||[];return ar&&rr[ir]?[...or,...rr[ir]]:or}}},getGroupRecursive=(er,St)=>{var ir;if(er.length===0)return St.classGroupId;const tr=er[0],rr=St.nextPart.get(tr),nr=rr?getGroupRecursive(er.slice(1),rr):void 0;if(nr)return nr;if(St.validators.length===0)return;const sr=er.join(CLASS_PART_SEPARATOR);return(ir=St.validators.find(({validator:ar})=>ar(sr)))==null?void 0:ir.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=er=>{if(arbitraryPropertyRegex.test(er)){const St=arbitraryPropertyRegex.exec(er)[1],tr=St==null?void 0:St.substring(0,St.indexOf(":"));if(tr)return"arbitrary.."+tr}},createClassMap=er=>{const{theme:St,classGroups:tr}=er,rr={nextPart:new Map,validators:[]};for(const nr in tr)processClassesRecursively(tr[nr],rr,nr,St);return rr},processClassesRecursively=(er,St,tr,rr)=>{er.forEach(nr=>{if(typeof nr=="string"){const sr=nr===""?St:getPart(St,nr);sr.classGroupId=tr;return}if(typeof nr=="function"){if(isThemeGetter(nr)){processClassesRecursively(nr(rr),St,tr,rr);return}St.validators.push({validator:nr,classGroupId:tr});return}Object.entries(nr).forEach(([sr,ir])=>{processClassesRecursively(ir,getPart(St,sr),tr,rr)})})},getPart=(er,St)=>{let tr=er;return St.split(CLASS_PART_SEPARATOR).forEach(rr=>{tr.nextPart.has(rr)||tr.nextPart.set(rr,{nextPart:new Map,validators:[]}),tr=tr.nextPart.get(rr)}),tr},isThemeGetter=er=>er.isThemeGetter,createLruCache=er=>{if(er<1)return{get:()=>{},set:()=>{}};let St=0,tr=new Map,rr=new Map;const nr=(sr,ir)=>{tr.set(sr,ir),St++,St>er&&(St=0,rr=tr,tr=new Map)};return{get(sr){let ir=tr.get(sr);if(ir!==void 0)return ir;if((ir=rr.get(sr))!==void 0)return nr(sr,ir),ir},set(sr,ir){tr.has(sr)?tr.set(sr,ir):nr(sr,ir)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=er=>{const{prefix:St,experimentalParseClassName:tr}=er;let rr=nr=>{const sr=[];let ir=0,ar=0,or=0,lr;for(let Ar=0;Ar<nr.length;Ar++){let fr=nr[Ar];if(ir===0&&ar===0){if(fr===MODIFIER_SEPARATOR){sr.push(nr.slice(or,Ar)),or=Ar+MODIFIER_SEPARATOR_LENGTH;continue}if(fr==="/"){lr=Ar;continue}}fr==="["?ir++:fr==="]"?ir--:fr==="("?ar++:fr===")"&&ar--}const cr=sr.length===0?nr:nr.substring(or),ur=stripImportantModifier(cr),dr=ur!==cr,hr=lr&&lr>or?lr-or:void 0;return{modifiers:sr,hasImportantModifier:dr,baseClassName:ur,maybePostfixModifierPosition:hr}};if(St){const nr=St+MODIFIER_SEPARATOR,sr=rr;rr=ir=>ir.startsWith(nr)?sr(ir.substring(nr.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:ir,maybePostfixModifierPosition:void 0}}if(tr){const nr=rr;rr=sr=>tr({className:sr,parseClassName:nr})}return rr},stripImportantModifier=er=>er.endsWith(IMPORTANT_MODIFIER)?er.substring(0,er.length-1):er.startsWith(IMPORTANT_MODIFIER)?er.substring(1):er,createSortModifiers=er=>{const St=Object.fromEntries(er.orderSensitiveModifiers.map(rr=>[rr,!0]));return rr=>{if(rr.length<=1)return rr;const nr=[];let sr=[];return rr.forEach(ir=>{ir[0]==="["||St[ir]?(nr.push(...sr.sort(),ir),sr=[]):sr.push(ir)}),nr.push(...sr.sort()),nr}},createConfigUtils=er=>({cache:createLruCache(er.cacheSize),parseClassName:createParseClassName(er),sortModifiers:createSortModifiers(er),...createClassGroupUtils(er)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(er,St)=>{const{parseClassName:tr,getClassGroupId:rr,getConflictingClassGroupIds:nr,sortModifiers:sr}=St,ir=[],ar=er.trim().split(SPLIT_CLASSES_REGEX);let or="";for(let lr=ar.length-1;lr>=0;lr-=1){const cr=ar[lr],{isExternal:ur,modifiers:dr,hasImportantModifier:hr,baseClassName:Ar,maybePostfixModifierPosition:fr}=tr(cr);if(ur){or=cr+(or.length>0?" "+or:or);continue}let mr=!!fr,pr=rr(mr?Ar.substring(0,fr):Ar);if(!pr){if(!mr){or=cr+(or.length>0?" "+or:or);continue}if(pr=rr(Ar),!pr){or=cr+(or.length>0?" "+or:or);continue}mr=!1}const gr=sr(dr).join(":"),xr=hr?gr+IMPORTANT_MODIFIER:gr,yr=xr+pr;if(ir.includes(yr))continue;ir.push(yr);const Er=nr(pr,mr);for(let _r=0;_r<Er.length;++_r){const Sr=Er[_r];ir.push(xr+Sr)}or=cr+(or.length>0?" "+or:or)}return or};function twJoin(){let er=0,St,tr,rr="";for(;er<arguments.length;)(St=arguments[er++])&&(tr=toValue(St))&&(rr&&(rr+=" "),rr+=tr);return rr}const toValue=er=>{if(typeof er=="string")return er;let St,tr="";for(let rr=0;rr<er.length;rr++)er[rr]&&(St=toValue(er[rr]))&&(tr&&(tr+=" "),tr+=St);return tr};function createTailwindMerge(er,...St){let tr,rr,nr,sr=ir;function ir(or){const lr=St.reduce((cr,ur)=>ur(cr),er());return tr=createConfigUtils(lr),rr=tr.cache.get,nr=tr.cache.set,sr=ar,ar(or)}function ar(or){const lr=rr(or);if(lr)return lr;const cr=mergeClassList(or,tr);return nr(or,cr),cr}return function(){return sr(twJoin.apply(null,arguments))}}const fromTheme=er=>{const St=tr=>tr[er]||[];return St.isThemeGetter=!0,St},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=er=>fractionRegex.test(er),isNumber$1=er=>!!er&&!Number.isNaN(Number(er)),isInteger=er=>!!er&&Number.isInteger(Number(er)),isPercent$1=er=>er.endsWith("%")&&isNumber$1(er.slice(0,-1)),isTshirtSize=er=>tshirtUnitRegex.test(er),isAny=()=>!0,isLengthOnly=er=>lengthUnitRegex.test(er)&&!colorFunctionRegex.test(er),isNever=()=>!1,isShadow=er=>shadowRegex.test(er),isImage=er=>imageRegex.test(er),isAnyNonArbitrary=er=>!isArbitraryValue(er)&&!isArbitraryVariable(er),isArbitrarySize=er=>getIsArbitraryValue(er,isLabelSize,isNever),isArbitraryValue=er=>arbitraryValueRegex.test(er),isArbitraryLength=er=>getIsArbitraryValue(er,isLabelLength,isLengthOnly),isArbitraryNumber=er=>getIsArbitraryValue(er,isLabelNumber,isNumber$1),isArbitraryPosition=er=>getIsArbitraryValue(er,isLabelPosition,isNever),isArbitraryImage=er=>getIsArbitraryValue(er,isLabelImage,isImage),isArbitraryShadow=er=>getIsArbitraryValue(er,isLabelShadow,isShadow),isArbitraryVariable=er=>arbitraryVariableRegex.test(er),isArbitraryVariableLength=er=>getIsArbitraryVariable(er,isLabelLength),isArbitraryVariableFamilyName=er=>getIsArbitraryVariable(er,isLabelFamilyName),isArbitraryVariablePosition=er=>getIsArbitraryVariable(er,isLabelPosition),isArbitraryVariableSize=er=>getIsArbitraryVariable(er,isLabelSize),isArbitraryVariableImage=er=>getIsArbitraryVariable(er,isLabelImage),isArbitraryVariableShadow=er=>getIsArbitraryVariable(er,isLabelShadow,!0),getIsArbitraryValue=(er,St,tr)=>{const rr=arbitraryValueRegex.exec(er);return rr?rr[1]?St(rr[1]):tr(rr[2]):!1},getIsArbitraryVariable=(er,St,tr=!1)=>{const rr=arbitraryVariableRegex.exec(er);return rr?rr[1]?St(rr[1]):tr:!1},isLabelPosition=er=>er==="position"||er==="percentage",isLabelImage=er=>er==="image"||er==="url",isLabelSize=er=>er==="length"||er==="size"||er==="bg-size",isLabelLength=er=>er==="length",isLabelNumber=er=>er==="number",isLabelFamilyName=er=>er==="family-name",isLabelShadow=er=>er==="shadow",getDefaultConfig=()=>{const er=fromTheme("color"),St=fromTheme("font"),tr=fromTheme("text"),rr=fromTheme("font-weight"),nr=fromTheme("tracking"),sr=fromTheme("leading"),ir=fromTheme("breakpoint"),ar=fromTheme("container"),or=fromTheme("spacing"),lr=fromTheme("radius"),cr=fromTheme("shadow"),ur=fromTheme("inset-shadow"),dr=fromTheme("text-shadow"),hr=fromTheme("drop-shadow"),Ar=fromTheme("blur"),fr=fromTheme("perspective"),mr=fromTheme("aspect"),pr=fromTheme("ease"),gr=fromTheme("animate"),xr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],yr=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Er=()=>[...yr(),isArbitraryVariable,isArbitraryValue],_r=()=>["auto","hidden","clip","visible","scroll"],Sr=()=>["auto","contain","none"],jr=()=>[isArbitraryVariable,isArbitraryValue,or],Pr=()=>[isFraction,"full","auto",...jr()],Mr=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],Ir=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],Lr=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],Qr=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Yr=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Gr=()=>["start","end","center","stretch","center-safe","end-safe"],$r=()=>["auto",...jr()],Vr=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...jr()],Tr=()=>[er,isArbitraryVariable,isArbitraryValue],Fr=()=>[...yr(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Wr=()=>["no-repeat",{repeat:["","x","y","space","round"]}],qr=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Rr=()=>[isPercent$1,isArbitraryVariableLength,isArbitraryLength],Or=()=>["","none","full",lr,isArbitraryVariable,isArbitraryValue],Hr=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],zr=()=>["solid","dashed","dotted","double"],Zr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],nn=()=>[isNumber$1,isPercent$1,isArbitraryVariablePosition,isArbitraryPosition],vn=()=>["","none",Ar,isArbitraryVariable,isArbitraryValue],hn=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],En=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Tn=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],bn=()=>[isFraction,"full",...jr()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,mr]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,ar]}],"break-after":[{"break-after":xr()}],"break-before":[{"break-before":xr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Er()}],overflow:[{overflow:_r()}],"overflow-x":[{"overflow-x":_r()}],"overflow-y":[{"overflow-y":_r()}],overscroll:[{overscroll:Sr()}],"overscroll-x":[{"overscroll-x":Sr()}],"overscroll-y":[{"overscroll-y":Sr()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Pr()}],"inset-x":[{"inset-x":Pr()}],"inset-y":[{"inset-y":Pr()}],start:[{start:Pr()}],end:[{end:Pr()}],top:[{top:Pr()}],right:[{right:Pr()}],bottom:[{bottom:Pr()}],left:[{left:Pr()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",ar,...jr()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":Mr()}],"col-start-end":[{col:Ir()}],"col-start":[{"col-start":Lr()}],"col-end":[{"col-end":Lr()}],"grid-rows":[{"grid-rows":Mr()}],"row-start-end":[{row:Ir()}],"row-start":[{"row-start":Lr()}],"row-end":[{"row-end":Lr()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Qr()}],"auto-rows":[{"auto-rows":Qr()}],gap:[{gap:jr()}],"gap-x":[{"gap-x":jr()}],"gap-y":[{"gap-y":jr()}],"justify-content":[{justify:[...Yr(),"normal"]}],"justify-items":[{"justify-items":[...Gr(),"normal"]}],"justify-self":[{"justify-self":["auto",...Gr()]}],"align-content":[{content:["normal",...Yr()]}],"align-items":[{items:[...Gr(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Gr(),{baseline:["","last"]}]}],"place-content":[{"place-content":Yr()}],"place-items":[{"place-items":[...Gr(),"baseline"]}],"place-self":[{"place-self":["auto",...Gr()]}],p:[{p:jr()}],px:[{px:jr()}],py:[{py:jr()}],ps:[{ps:jr()}],pe:[{pe:jr()}],pt:[{pt:jr()}],pr:[{pr:jr()}],pb:[{pb:jr()}],pl:[{pl:jr()}],m:[{m:$r()}],mx:[{mx:$r()}],my:[{my:$r()}],ms:[{ms:$r()}],me:[{me:$r()}],mt:[{mt:$r()}],mr:[{mr:$r()}],mb:[{mb:$r()}],ml:[{ml:$r()}],"space-x":[{"space-x":jr()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":jr()}],"space-y-reverse":["space-y-reverse"],size:[{size:Vr()}],w:[{w:[ar,"screen",...Vr()]}],"min-w":[{"min-w":[ar,"screen","none",...Vr()]}],"max-w":[{"max-w":[ar,"screen","none","prose",{screen:[ir]},...Vr()]}],h:[{h:["screen","lh",...Vr()]}],"min-h":[{"min-h":["screen","lh","none",...Vr()]}],"max-h":[{"max-h":["screen","lh",...Vr()]}],"font-size":[{text:["base",tr,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[rr,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent$1,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,St]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[nr,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[sr,...jr()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Tr()}],"text-color":[{text:Tr()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...zr(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Tr()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:jr()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Fr()}],"bg-repeat":[{bg:Wr()}],"bg-size":[{bg:qr()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Tr()}],"gradient-from-pos":[{from:Rr()}],"gradient-via-pos":[{via:Rr()}],"gradient-to-pos":[{to:Rr()}],"gradient-from":[{from:Tr()}],"gradient-via":[{via:Tr()}],"gradient-to":[{to:Tr()}],rounded:[{rounded:Or()}],"rounded-s":[{"rounded-s":Or()}],"rounded-e":[{"rounded-e":Or()}],"rounded-t":[{"rounded-t":Or()}],"rounded-r":[{"rounded-r":Or()}],"rounded-b":[{"rounded-b":Or()}],"rounded-l":[{"rounded-l":Or()}],"rounded-ss":[{"rounded-ss":Or()}],"rounded-se":[{"rounded-se":Or()}],"rounded-ee":[{"rounded-ee":Or()}],"rounded-es":[{"rounded-es":Or()}],"rounded-tl":[{"rounded-tl":Or()}],"rounded-tr":[{"rounded-tr":Or()}],"rounded-br":[{"rounded-br":Or()}],"rounded-bl":[{"rounded-bl":Or()}],"border-w":[{border:Hr()}],"border-w-x":[{"border-x":Hr()}],"border-w-y":[{"border-y":Hr()}],"border-w-s":[{"border-s":Hr()}],"border-w-e":[{"border-e":Hr()}],"border-w-t":[{"border-t":Hr()}],"border-w-r":[{"border-r":Hr()}],"border-w-b":[{"border-b":Hr()}],"border-w-l":[{"border-l":Hr()}],"divide-x":[{"divide-x":Hr()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Hr()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...zr(),"hidden","none"]}],"divide-style":[{divide:[...zr(),"hidden","none"]}],"border-color":[{border:Tr()}],"border-color-x":[{"border-x":Tr()}],"border-color-y":[{"border-y":Tr()}],"border-color-s":[{"border-s":Tr()}],"border-color-e":[{"border-e":Tr()}],"border-color-t":[{"border-t":Tr()}],"border-color-r":[{"border-r":Tr()}],"border-color-b":[{"border-b":Tr()}],"border-color-l":[{"border-l":Tr()}],"divide-color":[{divide:Tr()}],"outline-style":[{outline:[...zr(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Tr()}],shadow:[{shadow:["","none",cr,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Tr()}],"inset-shadow":[{"inset-shadow":["none",ur,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Tr()}],"ring-w":[{ring:Hr()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Tr()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Tr()}],"inset-ring-w":[{"inset-ring":Hr()}],"inset-ring-color":[{"inset-ring":Tr()}],"text-shadow":[{"text-shadow":["none",dr,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Tr()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Zr(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Zr()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":nn()}],"mask-image-linear-to-pos":[{"mask-linear-to":nn()}],"mask-image-linear-from-color":[{"mask-linear-from":Tr()}],"mask-image-linear-to-color":[{"mask-linear-to":Tr()}],"mask-image-t-from-pos":[{"mask-t-from":nn()}],"mask-image-t-to-pos":[{"mask-t-to":nn()}],"mask-image-t-from-color":[{"mask-t-from":Tr()}],"mask-image-t-to-color":[{"mask-t-to":Tr()}],"mask-image-r-from-pos":[{"mask-r-from":nn()}],"mask-image-r-to-pos":[{"mask-r-to":nn()}],"mask-image-r-from-color":[{"mask-r-from":Tr()}],"mask-image-r-to-color":[{"mask-r-to":Tr()}],"mask-image-b-from-pos":[{"mask-b-from":nn()}],"mask-image-b-to-pos":[{"mask-b-to":nn()}],"mask-image-b-from-color":[{"mask-b-from":Tr()}],"mask-image-b-to-color":[{"mask-b-to":Tr()}],"mask-image-l-from-pos":[{"mask-l-from":nn()}],"mask-image-l-to-pos":[{"mask-l-to":nn()}],"mask-image-l-from-color":[{"mask-l-from":Tr()}],"mask-image-l-to-color":[{"mask-l-to":Tr()}],"mask-image-x-from-pos":[{"mask-x-from":nn()}],"mask-image-x-to-pos":[{"mask-x-to":nn()}],"mask-image-x-from-color":[{"mask-x-from":Tr()}],"mask-image-x-to-color":[{"mask-x-to":Tr()}],"mask-image-y-from-pos":[{"mask-y-from":nn()}],"mask-image-y-to-pos":[{"mask-y-to":nn()}],"mask-image-y-from-color":[{"mask-y-from":Tr()}],"mask-image-y-to-color":[{"mask-y-to":Tr()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":nn()}],"mask-image-radial-to-pos":[{"mask-radial-to":nn()}],"mask-image-radial-from-color":[{"mask-radial-from":Tr()}],"mask-image-radial-to-color":[{"mask-radial-to":Tr()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":yr()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":nn()}],"mask-image-conic-to-pos":[{"mask-conic-to":nn()}],"mask-image-conic-from-color":[{"mask-conic-from":Tr()}],"mask-image-conic-to-color":[{"mask-conic-to":Tr()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Fr()}],"mask-repeat":[{mask:Wr()}],"mask-size":[{mask:qr()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:vn()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",hr,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Tr()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":vn()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":jr()}],"border-spacing-x":[{"border-spacing-x":jr()}],"border-spacing-y":[{"border-spacing-y":jr()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",pr,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",gr,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[fr,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":Er()}],rotate:[{rotate:hn()}],"rotate-x":[{"rotate-x":hn()}],"rotate-y":[{"rotate-y":hn()}],"rotate-z":[{"rotate-z":hn()}],scale:[{scale:En()}],"scale-x":[{"scale-x":En()}],"scale-y":[{"scale-y":En()}],"scale-z":[{"scale-z":En()}],"scale-3d":["scale-3d"],skew:[{skew:Tn()}],"skew-x":[{"skew-x":Tn()}],"skew-y":[{"skew-y":Tn()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:Er()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:bn()}],"translate-x":[{"translate-x":bn()}],"translate-y":[{"translate-y":bn()}],"translate-z":[{"translate-z":bn()}],"translate-none":["translate-none"],accent:[{accent:Tr()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Tr()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":jr()}],"scroll-mx":[{"scroll-mx":jr()}],"scroll-my":[{"scroll-my":jr()}],"scroll-ms":[{"scroll-ms":jr()}],"scroll-me":[{"scroll-me":jr()}],"scroll-mt":[{"scroll-mt":jr()}],"scroll-mr":[{"scroll-mr":jr()}],"scroll-mb":[{"scroll-mb":jr()}],"scroll-ml":[{"scroll-ml":jr()}],"scroll-p":[{"scroll-p":jr()}],"scroll-px":[{"scroll-px":jr()}],"scroll-py":[{"scroll-py":jr()}],"scroll-ps":[{"scroll-ps":jr()}],"scroll-pe":[{"scroll-pe":jr()}],"scroll-pt":[{"scroll-pt":jr()}],"scroll-pr":[{"scroll-pr":jr()}],"scroll-pb":[{"scroll-pb":jr()}],"scroll-pl":[{"scroll-pl":jr()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Tr()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Tr()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...er){return twMerge(clsx(er))}function buttonVariants({variant:er="default",size:St="default",className:tr=""}={}){const rr="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",nr={default:"bg-gray-900 text-gray-50 hover:bg-gray-900/90",destructive:"bg-red-500 text-gray-50 hover:bg-red-500/90",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-100/80",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-gray-900 underline-offset-4 hover:underline"},sr={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return cn(rr,nr[er],sr[St],tr)}function Button$1({children:er,onClick:St,type:tr="button",variant:rr="primary",className:nr="",...sr}){const ir="px-5 py-2 rounded-xl text-sm shadow-md transition-all font-medium",ar={primary:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:brightness-110",secondary:"bg-white border text-gray-800 hover:bg-gray-100",danger:"bg-red-500 text-white hover:bg-red-600"};return jsxRuntimeExports.jsx("button",{type:tr,onClick:St,className:`${ir} ${ar[rr]||ar.primary} ${nr}`,...sr,children:er})}function ErrorPage({message:er="Something went wrong",description:St="We couldn't find what you're looking for.",showHomeButton:tr=!0}){return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full text-center",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:jsxRuntimeExports.jsx(AlertCircle,{className:"h-8 w-8 text-red-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:er}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:St}),tr&&jsxRuntimeExports.jsx(Button$1,{onClick:()=>window.location.href="https://insperityhealth.com",className:"w-full",children:"Go to Homepage"})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If you believe this is an error, please contact support."})]})})}function TenantRouter({children:er}){const St=useTenantSubdomain(),{branding:tr,loading:rr}=useTenantBranding(),[nr,sr]=reactExports.useState(!0),ir=typeof window<"u"?window.location.hostname:"",ar=ir.includes("vercel.app")||ir.includes("vercel.sh")||ir==="localhost"||ir==="127.0.0.1";return reactExports.useEffect(()=>{if(tr){if(tr.favicon_url){const or=document.querySelector("link[rel='icon']");if(or)or.href=tr.favicon_url;else{const lr=document.createElement("link");lr.rel="icon",lr.href=tr.favicon_url,document.head.appendChild(lr)}}tr.primary_color&&document.documentElement.style.setProperty("--brand-primary",tr.primary_color)}},[tr]),reactExports.useEffect(()=>{if(ar){sr(!0);return}!rr&&St&&!tr&&sr(!1),(!St||tr)&&sr(!0)},[St,tr,rr]),rr?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:jsxRuntimeExports.jsxs("div",{className:"text-center animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-t-2 border-blue-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your branded experience..."})]})}):!St&&!ar&&typeof window<"u"&&window.location.pathname==="/"?(window.location.href="https://insperityhealth.com/marketing",null):nr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:er}):jsxRuntimeExports.jsx(ErrorPage,{message:"Unknown Organization",description:`The organization "${St}" was not found. Please check the URL or contact your provider.`,showHomeButton:!0})}function AdminLogin(){const[er,St]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(""),[ir,ar]=reactExports.useState(!0),or=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const{data:{session:ur}}=await supabase.auth.getSession();ur&&(console.log("User already logged in, redirecting to dashboard"),or("/admin/dashboard"))}catch(ur){console.error("Error checking session:",ur)}finally{ar(!1)}})()},[or]);const lr=async()=>{try{const{data:cr,error:ur}=await supabase.auth.signInWithPassword({email:er,password:tr});ur?(sr(ur.message),console.error("Login error:",ur)):cr.session&&(console.log("Login successful, navigating to dashboard"),or("/admin/dashboard"))}catch(cr){console.error("Unexpected error:",cr),sr("An unexpected error occurred")}};return ir?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Loading..."})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold mb-4 text-center",children:"Admin Login"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 border rounded mb-3",value:er,onChange:cr=>St(cr.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded mb-4",value:tr,onChange:cr=>rr(cr.target.value)}),nr&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mb-2",children:nr}),jsxRuntimeExports.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",onClick:lr,children:"Login"})]})})}var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(er,St){module.exports=St()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(St){_useWebWorker=!!St},getWebWorker=function(){return _useWebWorker},setLocationHref=function(St){locationHref=St},getLocationHref=function(){return locationHref};function createTag(er){return document.createElement(er)}function extendPrototype(er,St){var tr,rr=er.length,nr;for(tr=0;tr<rr;tr+=1){nr=er[tr].prototype;for(var sr in nr)Object.prototype.hasOwnProperty.call(nr,sr)&&(St.prototype[sr]=nr[sr])}}function getDescriptor(er,St){return Object.getOwnPropertyDescriptor(er,St)}function createProxyFunction(er){function St(){}return St.prototype=er,St}var audioControllerFactory=function(){function er(St){this.audios=[],this.audioFactory=St,this._volume=1,this._isMuted=!1}return er.prototype={addAudio:function(tr){this.audios.push(tr)},pause:function(){var tr,rr=this.audios.length;for(tr=0;tr<rr;tr+=1)this.audios[tr].pause()},resume:function(){var tr,rr=this.audios.length;for(tr=0;tr<rr;tr+=1)this.audios[tr].resume()},setRate:function(tr){var rr,nr=this.audios.length;for(rr=0;rr<nr;rr+=1)this.audios[rr].setRate(tr)},createAudio:function(tr){return this.audioFactory?this.audioFactory(tr):window.Howl?new window.Howl({src:[tr]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(tr){this.audioFactory=tr},setVolume:function(tr){this._volume=tr,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var tr,rr=this.audios.length;for(tr=0;tr<rr;tr+=1)this.audios[tr].volume(this._volume*(this._isMuted?0:1))}},function(){return new er}}(),createTypedArray=function(){function er(tr,rr){var nr=0,sr=[],ir;switch(tr){case"int16":case"uint8c":ir=1;break;default:ir=1.1;break}for(nr=0;nr<rr;nr+=1)sr.push(ir);return sr}function St(tr,rr){return tr==="float32"?new Float32Array(rr):tr==="int16"?new Int16Array(rr):tr==="uint8c"?new Uint8ClampedArray(rr):er(tr,rr)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?St:er}();function createSizedArray(er){return Array.apply(null,{length:er})}function _typeof$6(er){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$6(er)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var er=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],St,tr=er.length;for(St=0;St<tr;St+=1)BMMath[er[St]]=Math[er[St]]})(),BMMath.random=Math.random,BMMath.abs=function(er){var St=_typeof$6(er);if(St==="object"&&er.length){var tr=createSizedArray(er.length),rr,nr=er.length;for(rr=0;rr<nr;rr+=1)tr[rr]=Math.abs(er[rr]);return tr}return Math.abs(er)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(er){er.style.position="absolute",er.style.top=0,er.style.left=0,er.style.display="block",er.style.transformOrigin="0 0",er.style.webkitTransformOrigin="0 0",er.style.backfaceVisibility="visible",er.style.webkitBackfaceVisibility="visible",er.style.transformStyle="preserve-3d",er.style.webkitTransformStyle="preserve-3d",er.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(er,St,tr,rr){this.type=er,this.currentTime=St,this.totalTime=tr,this.direction=rr<0?-1:1}function BMCompleteEvent(er,St){this.type=er,this.direction=St<0?-1:1}function BMCompleteLoopEvent(er,St,tr,rr){this.type=er,this.currentLoop=tr,this.totalLoops=St,this.direction=rr<0?-1:1}function BMSegmentStartEvent(er,St,tr){this.type=er,this.firstFrame=St,this.totalFrames=tr}function BMDestroyEvent(er,St){this.type=er,this.target=St}function BMRenderFrameErrorEvent(er,St){this.type="renderFrameError",this.nativeError=er,this.currentTime=St}function BMConfigErrorEvent(er){this.type="configError",this.nativeError=er}var createElementID=function(){var er=0;return function(){return er+=1,idPrefix$1+"__lottie_element_"+er}}();function HSVtoRGB(er,St,tr){var rr,nr,sr,ir,ar,or,lr,cr;switch(ir=Math.floor(er*6),ar=er*6-ir,or=tr*(1-St),lr=tr*(1-ar*St),cr=tr*(1-(1-ar)*St),ir%6){case 0:rr=tr,nr=cr,sr=or;break;case 1:rr=lr,nr=tr,sr=or;break;case 2:rr=or,nr=tr,sr=cr;break;case 3:rr=or,nr=lr,sr=tr;break;case 4:rr=cr,nr=or,sr=tr;break;case 5:rr=tr,nr=or,sr=lr;break}return[rr,nr,sr]}function RGBtoHSV(er,St,tr){var rr=Math.max(er,St,tr),nr=Math.min(er,St,tr),sr=rr-nr,ir,ar=rr===0?0:sr/rr,or=rr/255;switch(rr){case nr:ir=0;break;case er:ir=St-tr+sr*(St<tr?6:0),ir/=6*sr;break;case St:ir=tr-er+sr*2,ir/=6*sr;break;case tr:ir=er-St+sr*4,ir/=6*sr;break}return[ir,ar,or]}function addSaturationToRGB(er,St){var tr=RGBtoHSV(er[0]*255,er[1]*255,er[2]*255);return tr[1]+=St,tr[1]>1?tr[1]=1:tr[1]<=0&&(tr[1]=0),HSVtoRGB(tr[0],tr[1],tr[2])}function addBrightnessToRGB(er,St){var tr=RGBtoHSV(er[0]*255,er[1]*255,er[2]*255);return tr[2]+=St,tr[2]>1?tr[2]=1:tr[2]<0&&(tr[2]=0),HSVtoRGB(tr[0],tr[1],tr[2])}function addHueToRGB(er,St){var tr=RGBtoHSV(er[0]*255,er[1]*255,er[2]*255);return tr[0]+=St/360,tr[0]>1?tr[0]-=1:tr[0]<0&&(tr[0]+=1),HSVtoRGB(tr[0],tr[1],tr[2])}var rgbToHex=function(){var er=[],St,tr;for(St=0;St<256;St+=1)tr=St.toString(16),er[St]=tr.length===1?"0"+tr:tr;return function(rr,nr,sr){return rr<0&&(rr=0),nr<0&&(nr=0),sr<0&&(sr=0),"#"+er[rr]+er[nr]+er[sr]}}(),setSubframeEnabled=function(St){subframeEnabled=!!St},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(St){expressionsPlugin=St},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(St){expressionsInterfaces=St},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(St){defaultCurveSegments=St},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(St){idPrefix$1=St};function createNS(er){return document.createElementNS(svgNS,er)}function _typeof$5(er){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$5(er)}var dataManager=function(){var er=1,St=[],tr,rr,nr={onmessage:function(){},postMessage:function(hr){tr({data:hr})}},sr={postMessage:function(hr){nr.onmessage({data:hr})}};function ir(dr){if(window.Worker&&window.Blob&&getWebWorker()){var hr=new Blob(["var _workerSelf = self; self.onmessage = ",dr.toString()],{type:"text/javascript"}),Ar=URL.createObjectURL(hr);return new Worker(Ar)}return tr=dr,nr}function ar(){rr||(rr=ir(function(hr){function Ar(){function mr(Gr,$r){var Vr,Tr,Fr=Gr.length,Wr,qr,Rr,Or;for(Tr=0;Tr<Fr;Tr+=1)if(Vr=Gr[Tr],"ks"in Vr&&!Vr.completed){if(Vr.completed=!0,Vr.hasMask){var Hr=Vr.masksProperties;for(qr=Hr.length,Wr=0;Wr<qr;Wr+=1)if(Hr[Wr].pt.k.i)Er(Hr[Wr].pt.k);else for(Or=Hr[Wr].pt.k.length,Rr=0;Rr<Or;Rr+=1)Hr[Wr].pt.k[Rr].s&&Er(Hr[Wr].pt.k[Rr].s[0]),Hr[Wr].pt.k[Rr].e&&Er(Hr[Wr].pt.k[Rr].e[0])}Vr.ty===0?(Vr.layers=xr(Vr.refId,$r),mr(Vr.layers,$r)):Vr.ty===4?yr(Vr.shapes):Vr.ty===5&&Qr(Vr)}}function pr(Gr,$r){if(Gr){var Vr=0,Tr=Gr.length;for(Vr=0;Vr<Tr;Vr+=1)Gr[Vr].t===1&&(Gr[Vr].data.layers=xr(Gr[Vr].data.refId,$r),mr(Gr[Vr].data.layers,$r))}}function gr(Gr,$r){for(var Vr=0,Tr=$r.length;Vr<Tr;){if($r[Vr].id===Gr)return $r[Vr];Vr+=1}return null}function xr(Gr,$r){var Vr=gr(Gr,$r);return Vr?Vr.layers.__used?JSON.parse(JSON.stringify(Vr.layers)):(Vr.layers.__used=!0,Vr.layers):null}function yr(Gr){var $r,Vr=Gr.length,Tr,Fr;for($r=Vr-1;$r>=0;$r-=1)if(Gr[$r].ty==="sh")if(Gr[$r].ks.k.i)Er(Gr[$r].ks.k);else for(Fr=Gr[$r].ks.k.length,Tr=0;Tr<Fr;Tr+=1)Gr[$r].ks.k[Tr].s&&Er(Gr[$r].ks.k[Tr].s[0]),Gr[$r].ks.k[Tr].e&&Er(Gr[$r].ks.k[Tr].e[0]);else Gr[$r].ty==="gr"&&yr(Gr[$r].it)}function Er(Gr){var $r,Vr=Gr.i.length;for($r=0;$r<Vr;$r+=1)Gr.i[$r][0]+=Gr.v[$r][0],Gr.i[$r][1]+=Gr.v[$r][1],Gr.o[$r][0]+=Gr.v[$r][0],Gr.o[$r][1]+=Gr.v[$r][1]}function _r(Gr,$r){var Vr=$r?$r.split("."):[100,100,100];return Gr[0]>Vr[0]?!0:Vr[0]>Gr[0]?!1:Gr[1]>Vr[1]?!0:Vr[1]>Gr[1]?!1:Gr[2]>Vr[2]?!0:Vr[2]>Gr[2]?!1:null}var Sr=function(){var Gr=[4,4,14];function $r(Tr){var Fr=Tr.t.d;Tr.t.d={k:[{s:Fr,t:0}]}}function Vr(Tr){var Fr,Wr=Tr.length;for(Fr=0;Fr<Wr;Fr+=1)Tr[Fr].ty===5&&$r(Tr[Fr])}return function(Tr){if(_r(Gr,Tr.v)&&(Vr(Tr.layers),Tr.assets)){var Fr,Wr=Tr.assets.length;for(Fr=0;Fr<Wr;Fr+=1)Tr.assets[Fr].layers&&Vr(Tr.assets[Fr].layers)}}}(),jr=function(){var Gr=[4,7,99];return function($r){if($r.chars&&!_r(Gr,$r.v)){var Vr,Tr=$r.chars.length;for(Vr=0;Vr<Tr;Vr+=1){var Fr=$r.chars[Vr];Fr.data&&Fr.data.shapes&&(yr(Fr.data.shapes),Fr.data.ip=0,Fr.data.op=99999,Fr.data.st=0,Fr.data.sr=1,Fr.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},$r.chars[Vr].t||(Fr.data.shapes.push({ty:"no"}),Fr.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Pr=function(){var Gr=[5,7,15];function $r(Tr){var Fr=Tr.t.p;typeof Fr.a=="number"&&(Fr.a={a:0,k:Fr.a}),typeof Fr.p=="number"&&(Fr.p={a:0,k:Fr.p}),typeof Fr.r=="number"&&(Fr.r={a:0,k:Fr.r})}function Vr(Tr){var Fr,Wr=Tr.length;for(Fr=0;Fr<Wr;Fr+=1)Tr[Fr].ty===5&&$r(Tr[Fr])}return function(Tr){if(_r(Gr,Tr.v)&&(Vr(Tr.layers),Tr.assets)){var Fr,Wr=Tr.assets.length;for(Fr=0;Fr<Wr;Fr+=1)Tr.assets[Fr].layers&&Vr(Tr.assets[Fr].layers)}}}(),Mr=function(){var Gr=[4,1,9];function $r(Tr){var Fr,Wr=Tr.length,qr,Rr;for(Fr=0;Fr<Wr;Fr+=1)if(Tr[Fr].ty==="gr")$r(Tr[Fr].it);else if(Tr[Fr].ty==="fl"||Tr[Fr].ty==="st")if(Tr[Fr].c.k&&Tr[Fr].c.k[0].i)for(Rr=Tr[Fr].c.k.length,qr=0;qr<Rr;qr+=1)Tr[Fr].c.k[qr].s&&(Tr[Fr].c.k[qr].s[0]/=255,Tr[Fr].c.k[qr].s[1]/=255,Tr[Fr].c.k[qr].s[2]/=255,Tr[Fr].c.k[qr].s[3]/=255),Tr[Fr].c.k[qr].e&&(Tr[Fr].c.k[qr].e[0]/=255,Tr[Fr].c.k[qr].e[1]/=255,Tr[Fr].c.k[qr].e[2]/=255,Tr[Fr].c.k[qr].e[3]/=255);else Tr[Fr].c.k[0]/=255,Tr[Fr].c.k[1]/=255,Tr[Fr].c.k[2]/=255,Tr[Fr].c.k[3]/=255}function Vr(Tr){var Fr,Wr=Tr.length;for(Fr=0;Fr<Wr;Fr+=1)Tr[Fr].ty===4&&$r(Tr[Fr].shapes)}return function(Tr){if(_r(Gr,Tr.v)&&(Vr(Tr.layers),Tr.assets)){var Fr,Wr=Tr.assets.length;for(Fr=0;Fr<Wr;Fr+=1)Tr.assets[Fr].layers&&Vr(Tr.assets[Fr].layers)}}}(),Ir=function(){var Gr=[4,4,18];function $r(Tr){var Fr,Wr=Tr.length,qr,Rr;for(Fr=Wr-1;Fr>=0;Fr-=1)if(Tr[Fr].ty==="sh")if(Tr[Fr].ks.k.i)Tr[Fr].ks.k.c=Tr[Fr].closed;else for(Rr=Tr[Fr].ks.k.length,qr=0;qr<Rr;qr+=1)Tr[Fr].ks.k[qr].s&&(Tr[Fr].ks.k[qr].s[0].c=Tr[Fr].closed),Tr[Fr].ks.k[qr].e&&(Tr[Fr].ks.k[qr].e[0].c=Tr[Fr].closed);else Tr[Fr].ty==="gr"&&$r(Tr[Fr].it)}function Vr(Tr){var Fr,Wr,qr=Tr.length,Rr,Or,Hr,zr;for(Wr=0;Wr<qr;Wr+=1){if(Fr=Tr[Wr],Fr.hasMask){var Zr=Fr.masksProperties;for(Or=Zr.length,Rr=0;Rr<Or;Rr+=1)if(Zr[Rr].pt.k.i)Zr[Rr].pt.k.c=Zr[Rr].cl;else for(zr=Zr[Rr].pt.k.length,Hr=0;Hr<zr;Hr+=1)Zr[Rr].pt.k[Hr].s&&(Zr[Rr].pt.k[Hr].s[0].c=Zr[Rr].cl),Zr[Rr].pt.k[Hr].e&&(Zr[Rr].pt.k[Hr].e[0].c=Zr[Rr].cl)}Fr.ty===4&&$r(Fr.shapes)}}return function(Tr){if(_r(Gr,Tr.v)&&(Vr(Tr.layers),Tr.assets)){var Fr,Wr=Tr.assets.length;for(Fr=0;Fr<Wr;Fr+=1)Tr.assets[Fr].layers&&Vr(Tr.assets[Fr].layers)}}}();function Lr(Gr){Gr.__complete||(Mr(Gr),Sr(Gr),jr(Gr),Pr(Gr),Ir(Gr),mr(Gr.layers,Gr.assets),pr(Gr.chars,Gr.assets),Gr.__complete=!0)}function Qr(Gr){Gr.t.a.length===0&&"m"in Gr.t.p}var Yr={};return Yr.completeData=Lr,Yr.checkColors=Mr,Yr.checkChars=jr,Yr.checkPathProperties=Pr,Yr.checkShapes=Ir,Yr.completeLayers=mr,Yr}if(sr.dataManager||(sr.dataManager=Ar()),sr.assetLoader||(sr.assetLoader=function(){function mr(gr){var xr=gr.getResponseHeader("content-type");return xr&&gr.responseType==="json"&&xr.indexOf("json")!==-1||gr.response&&_typeof$5(gr.response)==="object"?gr.response:gr.response&&typeof gr.response=="string"?JSON.parse(gr.response):gr.responseText?JSON.parse(gr.responseText):null}function pr(gr,xr,yr,Er){var _r,Sr=new XMLHttpRequest;try{Sr.responseType="json"}catch{}Sr.onreadystatechange=function(){if(Sr.readyState===4)if(Sr.status===200)_r=mr(Sr),yr(_r);else try{_r=mr(Sr),yr(_r)}catch(jr){Er&&Er(jr)}};try{Sr.open(["G","E","T"].join(""),gr,!0)}catch{Sr.open(["G","E","T"].join(""),xr+"/"+gr,!0)}Sr.send()}return{load:pr}}()),hr.data.type==="loadAnimation")sr.assetLoader.load(hr.data.path,hr.data.fullPath,function(mr){sr.dataManager.completeData(mr),sr.postMessage({id:hr.data.id,payload:mr,status:"success"})},function(){sr.postMessage({id:hr.data.id,status:"error"})});else if(hr.data.type==="complete"){var fr=hr.data.animation;sr.dataManager.completeData(fr),sr.postMessage({id:hr.data.id,payload:fr,status:"success"})}else hr.data.type==="loadData"&&sr.assetLoader.load(hr.data.path,hr.data.fullPath,function(mr){sr.postMessage({id:hr.data.id,payload:mr,status:"success"})},function(){sr.postMessage({id:hr.data.id,status:"error"})})}),rr.onmessage=function(dr){var hr=dr.data,Ar=hr.id,fr=St[Ar];St[Ar]=null,hr.status==="success"?fr.onComplete(hr.payload):fr.onError&&fr.onError()})}function or(dr,hr){er+=1;var Ar="processId_"+er;return St[Ar]={onComplete:dr,onError:hr},Ar}function lr(dr,hr,Ar){ar();var fr=or(hr,Ar);rr.postMessage({type:"loadAnimation",path:dr,fullPath:window.location.origin+window.location.pathname,id:fr})}function cr(dr,hr,Ar){ar();var fr=or(hr,Ar);rr.postMessage({type:"loadData",path:dr,fullPath:window.location.origin+window.location.pathname,id:fr})}function ur(dr,hr,Ar){ar();var fr=or(hr,Ar);rr.postMessage({type:"complete",animation:dr,id:fr})}return{loadAnimation:lr,loadData:cr,completeAnimation:ur}}(),ImagePreloader=function(){var er=function(){var pr=createTag("canvas");pr.width=1,pr.height=1;var gr=pr.getContext("2d");return gr.fillStyle="rgba(0,0,0,0)",gr.fillRect(0,0,1,1),pr}();function St(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tr(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rr(pr,gr,xr){var yr="";if(pr.e)yr=pr.p;else if(gr){var Er=pr.p;Er.indexOf("images/")!==-1&&(Er=Er.split("/")[1]),yr=gr+Er}else yr=xr,yr+=pr.u?pr.u:"",yr+=pr.p;return yr}function nr(pr){var gr=0,xr=setInterval((function(){var yr=pr.getBBox();(yr.width||gr>500)&&(this._imageLoaded(),clearInterval(xr)),gr+=1}).bind(this),50)}function sr(pr){var gr=rr(pr,this.assetsPath,this.path),xr=createNS("image");isSafari?this.testImageLoaded(xr):xr.addEventListener("load",this._imageLoaded,!1),xr.addEventListener("error",(function(){yr.img=er,this._imageLoaded()}).bind(this),!1),xr.setAttributeNS("http://www.w3.org/1999/xlink","href",gr),this._elementHelper.append?this._elementHelper.append(xr):this._elementHelper.appendChild(xr);var yr={img:xr,assetData:pr};return yr}function ir(pr){var gr=rr(pr,this.assetsPath,this.path),xr=createTag("img");xr.crossOrigin="anonymous",xr.addEventListener("load",this._imageLoaded,!1),xr.addEventListener("error",(function(){yr.img=er,this._imageLoaded()}).bind(this),!1),xr.src=gr;var yr={img:xr,assetData:pr};return yr}function ar(pr){var gr={assetData:pr},xr=rr(pr,this.assetsPath,this.path);return dataManager.loadData(xr,(function(yr){gr.img=yr,this._footageLoaded()}).bind(this),(function(){gr.img={},this._footageLoaded()}).bind(this)),gr}function or(pr,gr){this.imagesLoadedCb=gr;var xr,yr=pr.length;for(xr=0;xr<yr;xr+=1)pr[xr].layers||(!pr[xr].t||pr[xr].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(pr[xr]))):pr[xr].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(pr[xr]))))}function lr(pr){this.path=pr||""}function cr(pr){this.assetsPath=pr||""}function ur(pr){for(var gr=0,xr=this.images.length;gr<xr;){if(this.images[gr].assetData===pr)return this.images[gr].img;gr+=1}return null}function dr(){this.imagesLoadedCb=null,this.images.length=0}function hr(){return this.totalImages===this.loadedAssets}function Ar(){return this.totalFootages===this.loadedFootagesCount}function fr(pr,gr){pr==="svg"?(this._elementHelper=gr,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function mr(){this._imageLoaded=St.bind(this),this._footageLoaded=tr.bind(this),this.testImageLoaded=nr.bind(this),this.createFootageData=ar.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return mr.prototype={loadAssets:or,setAssetsPath:cr,setPath:lr,loadedImages:hr,loadedFootages:Ar,destroy:dr,getAsset:ur,createImgData:ir,createImageData:sr,imageLoaded:St,footageLoaded:tr,setCacheType:fr},mr}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(St,tr){if(this._cbs[St])for(var rr=this._cbs[St],nr=0;nr<rr.length;nr+=1)rr[nr](tr)},addEventListener:function(St,tr){return this._cbs[St]||(this._cbs[St]=[]),this._cbs[St].push(tr),(function(){this.removeEventListener(St,tr)}).bind(this)},removeEventListener:function(St,tr){if(!tr)this._cbs[St]=null;else if(this._cbs[St]){for(var rr=0,nr=this._cbs[St].length;rr<nr;)this._cbs[St][rr]===tr&&(this._cbs[St].splice(rr,1),rr-=1,nr-=1),rr+=1;this._cbs[St].length||(this._cbs[St]=null)}}};var markerParser=function(){function er(St){for(var tr=St.split(`\r
`),rr={},nr,sr=0,ir=0;ir<tr.length;ir+=1)nr=tr[ir].split(":"),nr.length===2&&(rr[nr[0]]=nr[1].trim(),sr+=1);if(sr===0)throw new Error;return rr}return function(St){for(var tr=[],rr=0;rr<St.length;rr+=1){var nr=St[rr],sr={time:nr.tm,duration:nr.dr};try{sr.payload=JSON.parse(St[rr].cm)}catch{try{sr.payload=er(St[rr].cm)}catch{sr.payload={name:St[rr].cm}}}tr.push(sr)}return tr}}(),ProjectInterface=function(){function er(St){this.compositions.push(St)}return function(){function St(tr){for(var rr=0,nr=this.compositions.length;rr<nr;){if(this.compositions[rr].data&&this.compositions[rr].data.nm===tr)return this.compositions[rr].prepareFrame&&this.compositions[rr].data.xt&&this.compositions[rr].prepareFrame(this.currentFrame),this.compositions[rr].compInterface;rr+=1}return null}return St.compositions=[],St.currentFrame=0,St.registerComposition=er,St}}(),renderers={},registerRenderer=function(St,tr){renderers[St]=tr};function getRenderer(er){return renderers[er]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var er in renderers)if(renderers[er])return er;return""}function _typeof$4(er){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$4(er)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(er){(er.wrapper||er.container)&&(this.wrapper=er.wrapper||er.container);var St="svg";er.animType?St=er.animType:er.renderer&&(St=er.renderer);var tr=getRenderer(St);this.renderer=new tr(this,er.rendererSettings),this.imagePreloader.setCacheType(St,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=St,er.loop===""||er.loop===null||er.loop===void 0||er.loop===!0?this.loop=!0:er.loop===!1?this.loop=!1:this.loop=parseInt(er.loop,10),this.autoplay="autoplay"in er?er.autoplay:!0,this.name=er.name?er.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(er,"autoloadSegments")?er.autoloadSegments:!0,this.assetsPath=er.assetsPath,this.initialSegment=er.initialSegment,er.audioFactory&&this.audioController.setAudioFactory(er.audioFactory),er.animationData?this.setupAnimation(er.animationData):er.path&&(er.path.lastIndexOf("\\")!==-1?this.path=er.path.substr(0,er.path.lastIndexOf("\\")+1):this.path=er.path.substr(0,er.path.lastIndexOf("/")+1),this.fileName=er.path.substr(er.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(er.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(er){dataManager.completeAnimation(er,this.configAnimation)},AnimationItem.prototype.setData=function(er,St){St&&_typeof$4(St)!=="object"&&(St=JSON.parse(St));var tr={wrapper:er,animationData:St},rr=er.attributes;tr.path=rr.getNamedItem("data-animation-path")?rr.getNamedItem("data-animation-path").value:rr.getNamedItem("data-bm-path")?rr.getNamedItem("data-bm-path").value:rr.getNamedItem("bm-path")?rr.getNamedItem("bm-path").value:"",tr.animType=rr.getNamedItem("data-anim-type")?rr.getNamedItem("data-anim-type").value:rr.getNamedItem("data-bm-type")?rr.getNamedItem("data-bm-type").value:rr.getNamedItem("bm-type")?rr.getNamedItem("bm-type").value:rr.getNamedItem("data-bm-renderer")?rr.getNamedItem("data-bm-renderer").value:rr.getNamedItem("bm-renderer")?rr.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var nr=rr.getNamedItem("data-anim-loop")?rr.getNamedItem("data-anim-loop").value:rr.getNamedItem("data-bm-loop")?rr.getNamedItem("data-bm-loop").value:rr.getNamedItem("bm-loop")?rr.getNamedItem("bm-loop").value:"";nr==="false"?tr.loop=!1:nr==="true"?tr.loop=!0:nr!==""&&(tr.loop=parseInt(nr,10));var sr=rr.getNamedItem("data-anim-autoplay")?rr.getNamedItem("data-anim-autoplay").value:rr.getNamedItem("data-bm-autoplay")?rr.getNamedItem("data-bm-autoplay").value:rr.getNamedItem("bm-autoplay")?rr.getNamedItem("bm-autoplay").value:!0;tr.autoplay=sr!=="false",tr.name=rr.getNamedItem("data-name")?rr.getNamedItem("data-name").value:rr.getNamedItem("data-bm-name")?rr.getNamedItem("data-bm-name").value:rr.getNamedItem("bm-name")?rr.getNamedItem("bm-name").value:"";var ir=rr.getNamedItem("data-anim-prerender")?rr.getNamedItem("data-anim-prerender").value:rr.getNamedItem("data-bm-prerender")?rr.getNamedItem("data-bm-prerender").value:rr.getNamedItem("bm-prerender")?rr.getNamedItem("bm-prerender").value:"";ir==="false"&&(tr.prerender=!1),tr.path?this.setParams(tr):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(er){er.op>this.animationData.op&&(this.animationData.op=er.op,this.totalFrames=Math.floor(er.op-this.animationData.ip));var St=this.animationData.layers,tr,rr=St.length,nr=er.layers,sr,ir=nr.length;for(sr=0;sr<ir;sr+=1)for(tr=0;tr<rr;){if(St[tr].id===nr[sr].id){St[tr]=nr[sr];break}tr+=1}if((er.chars||er.fonts)&&(this.renderer.globalData.fontManager.addChars(er.chars),this.renderer.globalData.fontManager.addFonts(er.fonts,this.renderer.globalData.defs)),er.assets)for(rr=er.assets.length,tr=0;tr<rr;tr+=1)this.animationData.assets.push(er.assets[tr]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(er){this.animationData=er;var St=getExpressionsPlugin();St&&St.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var er=this.animationData.segments;if(!er||er.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var St=er.shift();this.timeCompleted=St.time*this.frameRate;var tr=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(tr,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var er=this.animationData.segments;er||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(er){if(this.renderer)try{this.animationData=er,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(er),er.assets||(er.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(er.assets),this.markers=markerParser(er.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(St){this.triggerConfigError(St)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var er=getExpressionsPlugin();er&&er.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(er,St){var tr=typeof er=="number"?er:void 0,rr=typeof St=="number"?St:void 0;this.renderer.updateContainerSize(tr,rr)},AnimationItem.prototype.setSubframe=function(er){this.isSubframeEnabled=!!er},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(er){this.triggerRenderFrameError(er)}},AnimationItem.prototype.play=function(er){er&&this.name!==er||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(er){er&&this.name!==er||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(er){er&&this.name!==er||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(er){er&&this.name!==er||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(er){for(var St,tr=0;tr<this.markers.length;tr+=1)if(St=this.markers[tr],St.payload&&St.payload.name===er)return St;return null},AnimationItem.prototype.goToAndStop=function(er,St,tr){if(!(tr&&this.name!==tr)){var rr=Number(er);if(isNaN(rr)){var nr=this.getMarkerData(er);nr&&this.goToAndStop(nr.time,!0)}else St?this.setCurrentRawFrameValue(er):this.setCurrentRawFrameValue(er*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(er,St,tr){if(!(tr&&this.name!==tr)){var rr=Number(er);if(isNaN(rr)){var nr=this.getMarkerData(er);nr&&(nr.duration?this.playSegments([nr.time,nr.time+nr.duration],!0):this.goToAndStop(nr.time,!0))}else this.goToAndStop(rr,St,tr);this.play()}},AnimationItem.prototype.advanceTime=function(er){if(!(this.isPaused===!0||this.isLoaded===!1)){var St=this.currentRawFrame+er*this.frameModifier,tr=!1;St>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(St>this.totalFrames?St%this.totalFrames:0)||(tr=!0,St=this.totalFrames-1):St>=this.totalFrames?(this.playCount+=1,this.checkSegments(St%this.totalFrames)||(this.setCurrentRawFrameValue(St%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(St):St<0?this.checkSegments(St%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+St%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(tr=!0,St=0)):this.setCurrentRawFrameValue(St),tr&&(this.setCurrentRawFrameValue(St),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(er,St){this.playCount=0,er[1]<er[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=er[0]-er[1],this.timeCompleted=this.totalFrames,this.firstFrame=er[1],this.setCurrentRawFrameValue(this.totalFrames-.001-St)):er[1]>er[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=er[1]-er[0],this.timeCompleted=this.totalFrames,this.firstFrame=er[0],this.setCurrentRawFrameValue(.001+St)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(er,St){var tr=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<er?tr=er:this.currentRawFrame+this.firstFrame>St&&(tr=St-er)),this.firstFrame=er,this.totalFrames=St-er,this.timeCompleted=this.totalFrames,tr!==-1&&this.goToAndStop(tr,!0)},AnimationItem.prototype.playSegments=function(er,St){if(St&&(this.segments.length=0),_typeof$4(er[0])==="object"){var tr,rr=er.length;for(tr=0;tr<rr;tr+=1)this.segments.push(er[tr])}else this.segments.push(er);this.segments.length&&St&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(er){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),er&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(er){return this.segments.length?(this.adjustSegment(this.segments.shift(),er),!0):!1},AnimationItem.prototype.destroy=function(er){er&&this.name!==er||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(er){this.currentRawFrame=er,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(er){this.playSpeed=er,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(er){this.playDirection=er<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(er){this.loop=er},AnimationItem.prototype.setVolume=function(er,St){St&&this.name!==St||this.audioController.setVolume(er)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(er){er&&this.name!==er||this.audioController.mute()},AnimationItem.prototype.unmute=function(er){er&&this.name!==er||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(er){var St="";if(er.e)St=er.p;else if(this.assetsPath){var tr=er.p;tr.indexOf("images/")!==-1&&(tr=tr.split("/")[1]),St=this.assetsPath+tr}else St=this.path,St+=er.u?er.u:"",St+=er.p;return St},AnimationItem.prototype.getAssetData=function(er){for(var St=0,tr=this.assets.length;St<tr;){if(er===this.assets[St].id)return this.assets[St];St+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(er){return er?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(er,St,tr){try{var rr=this.renderer.getElementByPath(er);rr.updateDocumentData(St,tr)}catch{}},AnimationItem.prototype.trigger=function(er){if(this._cbs&&this._cbs[er])switch(er){case"enterFrame":this.triggerEvent(er,new BMEnterFrameEvent(er,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(er,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(er,new BMCompleteLoopEvent(er,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(er,new BMCompleteEvent(er,this.frameMult));break;case"segmentStart":this.triggerEvent(er,new BMSegmentStartEvent(er,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(er,new BMDestroyEvent(er,this));break;default:this.triggerEvent(er)}er==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(er,this.currentFrame,this.totalFrames,this.frameMult)),er==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(er,this.loop,this.playCount,this.frameMult)),er==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(er,this.frameMult)),er==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(er,this.firstFrame,this.totalFrames)),er==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(er,this))},AnimationItem.prototype.triggerRenderFrameError=function(er){var St=new BMRenderFrameErrorEvent(er,this.currentFrame);this.triggerEvent("error",St),this.onError&&this.onError.call(this,St)},AnimationItem.prototype.triggerConfigError=function(er){var St=new BMConfigErrorEvent(er,this.currentFrame);this.triggerEvent("error",St),this.onError&&this.onError.call(this,St)};var animationManager=function(){var er={},St=[],tr=0,rr=0,nr=0,sr=!0,ir=!1;function ar($r){for(var Vr=0,Tr=$r.target;Vr<rr;)St[Vr].animation===Tr&&(St.splice(Vr,1),Vr-=1,rr-=1,Tr.isPaused||ur()),Vr+=1}function or($r,Vr){if(!$r)return null;for(var Tr=0;Tr<rr;){if(St[Tr].elem===$r&&St[Tr].elem!==null)return St[Tr].animation;Tr+=1}var Fr=new AnimationItem;return dr(Fr,$r),Fr.setData($r,Vr),Fr}function lr(){var $r,Vr=St.length,Tr=[];for($r=0;$r<Vr;$r+=1)Tr.push(St[$r].animation);return Tr}function cr(){nr+=1,Mr()}function ur(){nr-=1}function dr($r,Vr){$r.addEventListener("destroy",ar),$r.addEventListener("_active",cr),$r.addEventListener("_idle",ur),St.push({elem:Vr,animation:$r}),rr+=1}function hr($r){var Vr=new AnimationItem;return dr(Vr,null),Vr.setParams($r),Vr}function Ar($r,Vr){var Tr;for(Tr=0;Tr<rr;Tr+=1)St[Tr].animation.setSpeed($r,Vr)}function fr($r,Vr){var Tr;for(Tr=0;Tr<rr;Tr+=1)St[Tr].animation.setDirection($r,Vr)}function mr($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.play($r)}function pr($r){var Vr=$r-tr,Tr;for(Tr=0;Tr<rr;Tr+=1)St[Tr].animation.advanceTime(Vr);tr=$r,nr&&!ir?window.requestAnimationFrame(pr):sr=!0}function gr($r){tr=$r,window.requestAnimationFrame(pr)}function xr($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.pause($r)}function yr($r,Vr,Tr){var Fr;for(Fr=0;Fr<rr;Fr+=1)St[Fr].animation.goToAndStop($r,Vr,Tr)}function Er($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.stop($r)}function _r($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.togglePause($r)}function Sr($r){var Vr;for(Vr=rr-1;Vr>=0;Vr-=1)St[Vr].animation.destroy($r)}function jr($r,Vr,Tr){var Fr=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Wr,qr=Fr.length;for(Wr=0;Wr<qr;Wr+=1)Tr&&Fr[Wr].setAttribute("data-bm-type",Tr),or(Fr[Wr],$r);if(Vr&&qr===0){Tr||(Tr="svg");var Rr=document.getElementsByTagName("body")[0];Rr.innerText="";var Or=createTag("div");Or.style.width="100%",Or.style.height="100%",Or.setAttribute("data-bm-type",Tr),Rr.appendChild(Or),or(Or,$r)}}function Pr(){var $r;for($r=0;$r<rr;$r+=1)St[$r].animation.resize()}function Mr(){!ir&&nr&&sr&&(window.requestAnimationFrame(gr),sr=!1)}function Ir(){ir=!0}function Lr(){ir=!1,Mr()}function Qr($r,Vr){var Tr;for(Tr=0;Tr<rr;Tr+=1)St[Tr].animation.setVolume($r,Vr)}function Yr($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.mute($r)}function Gr($r){var Vr;for(Vr=0;Vr<rr;Vr+=1)St[Vr].animation.unmute($r)}return er.registerAnimation=or,er.loadAnimation=hr,er.setSpeed=Ar,er.setDirection=fr,er.play=mr,er.pause=xr,er.stop=Er,er.togglePause=_r,er.searchAnimations=jr,er.resize=Pr,er.goToAndStop=yr,er.destroy=Sr,er.freeze=Ir,er.unfreeze=Lr,er.setVolume=Qr,er.mute=Yr,er.unmute=Gr,er.getRegisteredAnimations=lr,er}(),BezierFactory=function(){var er={};er.getBezierEasing=tr;var St={};function tr(gr,xr,yr,Er,_r){var Sr=_r||("bez_"+gr+"_"+xr+"_"+yr+"_"+Er).replace(/\./g,"p");if(St[Sr])return St[Sr];var jr=new pr([gr,xr,yr,Er]);return St[Sr]=jr,jr}var rr=4,nr=.001,sr=1e-7,ir=10,ar=11,or=1/(ar-1),lr=typeof Float32Array=="function";function cr(gr,xr){return 1-3*xr+3*gr}function ur(gr,xr){return 3*xr-6*gr}function dr(gr){return 3*gr}function hr(gr,xr,yr){return((cr(xr,yr)*gr+ur(xr,yr))*gr+dr(xr))*gr}function Ar(gr,xr,yr){return 3*cr(xr,yr)*gr*gr+2*ur(xr,yr)*gr+dr(xr)}function fr(gr,xr,yr,Er,_r){var Sr,jr,Pr=0;do jr=xr+(yr-xr)/2,Sr=hr(jr,Er,_r)-gr,Sr>0?yr=jr:xr=jr;while(Math.abs(Sr)>sr&&++Pr<ir);return jr}function mr(gr,xr,yr,Er){for(var _r=0;_r<rr;++_r){var Sr=Ar(xr,yr,Er);if(Sr===0)return xr;var jr=hr(xr,yr,Er)-gr;xr-=jr/Sr}return xr}function pr(gr){this._p=gr,this._mSampleValues=lr?new Float32Array(ar):new Array(ar),this._precomputed=!1,this.get=this.get.bind(this)}return pr.prototype={get:function(xr){var yr=this._p[0],Er=this._p[1],_r=this._p[2],Sr=this._p[3];return this._precomputed||this._precompute(),yr===Er&&_r===Sr?xr:xr===0?0:xr===1?1:hr(this._getTForX(xr),Er,Sr)},_precompute:function(){var xr=this._p[0],yr=this._p[1],Er=this._p[2],_r=this._p[3];this._precomputed=!0,(xr!==yr||Er!==_r)&&this._calcSampleValues()},_calcSampleValues:function(){for(var xr=this._p[0],yr=this._p[2],Er=0;Er<ar;++Er)this._mSampleValues[Er]=hr(Er*or,xr,yr)},_getTForX:function(xr){for(var yr=this._p[0],Er=this._p[2],_r=this._mSampleValues,Sr=0,jr=1,Pr=ar-1;jr!==Pr&&_r[jr]<=xr;++jr)Sr+=or;--jr;var Mr=(xr-_r[jr])/(_r[jr+1]-_r[jr]),Ir=Sr+Mr*or,Lr=Ar(Ir,yr,Er);return Lr>=nr?mr(xr,Ir,yr,Er):Lr===0?Ir:fr(xr,Sr,Sr+or,yr,Er)}},er}(),pooling=function(){function er(St){return St.concat(createSizedArray(St.length))}return{double:er}}(),poolFactory=function(){return function(er,St,tr){var rr=0,nr=er,sr=createSizedArray(nr),ir={newElement:ar,release:or};function ar(){var lr;return rr?(rr-=1,lr=sr[rr]):lr=St(),lr}function or(lr){rr===nr&&(sr=pooling.double(sr),nr*=2),tr&&tr(lr),sr[rr]=lr,rr+=1}return ir}}(),bezierLengthPool=function(){function er(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,er)}(),segmentsLengthPool=function(){function er(){return{lengths:[],totalLength:0}}function St(tr){var rr,nr=tr.lengths.length;for(rr=0;rr<nr;rr+=1)bezierLengthPool.release(tr.lengths[rr]);tr.lengths.length=0}return poolFactory(8,er,St)}();function bezFunction(){var er=Math;function St(dr,hr,Ar,fr,mr,pr){var gr=dr*fr+hr*mr+Ar*pr-mr*fr-pr*dr-Ar*hr;return gr>-.001&&gr<.001}function tr(dr,hr,Ar,fr,mr,pr,gr,xr,yr){if(Ar===0&&pr===0&&yr===0)return St(dr,hr,fr,mr,gr,xr);var Er=er.sqrt(er.pow(fr-dr,2)+er.pow(mr-hr,2)+er.pow(pr-Ar,2)),_r=er.sqrt(er.pow(gr-dr,2)+er.pow(xr-hr,2)+er.pow(yr-Ar,2)),Sr=er.sqrt(er.pow(gr-fr,2)+er.pow(xr-mr,2)+er.pow(yr-pr,2)),jr;return Er>_r?Er>Sr?jr=Er-_r-Sr:jr=Sr-_r-Er:Sr>_r?jr=Sr-_r-Er:jr=_r-Er-Sr,jr>-1e-4&&jr<1e-4}var rr=function(){return function(dr,hr,Ar,fr){var mr=getDefaultCurveSegments(),pr,gr,xr,yr,Er,_r=0,Sr,jr=[],Pr=[],Mr=bezierLengthPool.newElement();for(xr=Ar.length,pr=0;pr<mr;pr+=1){for(Er=pr/(mr-1),Sr=0,gr=0;gr<xr;gr+=1)yr=bmPow(1-Er,3)*dr[gr]+3*bmPow(1-Er,2)*Er*Ar[gr]+3*(1-Er)*bmPow(Er,2)*fr[gr]+bmPow(Er,3)*hr[gr],jr[gr]=yr,Pr[gr]!==null&&(Sr+=bmPow(jr[gr]-Pr[gr],2)),Pr[gr]=jr[gr];Sr&&(Sr=bmSqrt(Sr),_r+=Sr),Mr.percents[pr]=Er,Mr.lengths[pr]=_r}return Mr.addedLength=_r,Mr}}();function nr(dr){var hr=segmentsLengthPool.newElement(),Ar=dr.c,fr=dr.v,mr=dr.o,pr=dr.i,gr,xr=dr._length,yr=hr.lengths,Er=0;for(gr=0;gr<xr-1;gr+=1)yr[gr]=rr(fr[gr],fr[gr+1],mr[gr],pr[gr+1]),Er+=yr[gr].addedLength;return Ar&&xr&&(yr[gr]=rr(fr[gr],fr[0],mr[gr],pr[0]),Er+=yr[gr].addedLength),hr.totalLength=Er,hr}function sr(dr){this.segmentLength=0,this.points=new Array(dr)}function ir(dr,hr){this.partialLength=dr,this.point=hr}var ar=function(){var dr={};return function(hr,Ar,fr,mr){var pr=(hr[0]+"_"+hr[1]+"_"+Ar[0]+"_"+Ar[1]+"_"+fr[0]+"_"+fr[1]+"_"+mr[0]+"_"+mr[1]).replace(/\./g,"p");if(!dr[pr]){var gr=getDefaultCurveSegments(),xr,yr,Er,_r,Sr,jr=0,Pr,Mr,Ir=null;hr.length===2&&(hr[0]!==Ar[0]||hr[1]!==Ar[1])&&St(hr[0],hr[1],Ar[0],Ar[1],hr[0]+fr[0],hr[1]+fr[1])&&St(hr[0],hr[1],Ar[0],Ar[1],Ar[0]+mr[0],Ar[1]+mr[1])&&(gr=2);var Lr=new sr(gr);for(Er=fr.length,xr=0;xr<gr;xr+=1){for(Mr=createSizedArray(Er),Sr=xr/(gr-1),Pr=0,yr=0;yr<Er;yr+=1)_r=bmPow(1-Sr,3)*hr[yr]+3*bmPow(1-Sr,2)*Sr*(hr[yr]+fr[yr])+3*(1-Sr)*bmPow(Sr,2)*(Ar[yr]+mr[yr])+bmPow(Sr,3)*Ar[yr],Mr[yr]=_r,Ir!==null&&(Pr+=bmPow(Mr[yr]-Ir[yr],2));Pr=bmSqrt(Pr),jr+=Pr,Lr.points[xr]=new ir(Pr,Mr),Ir=Mr}Lr.segmentLength=jr,dr[pr]=Lr}return dr[pr]}}();function or(dr,hr){var Ar=hr.percents,fr=hr.lengths,mr=Ar.length,pr=bmFloor((mr-1)*dr),gr=dr*hr.addedLength,xr=0;if(pr===mr-1||pr===0||gr===fr[pr])return Ar[pr];for(var yr=fr[pr]>gr?-1:1,Er=!0;Er;)if(fr[pr]<=gr&&fr[pr+1]>gr?(xr=(gr-fr[pr])/(fr[pr+1]-fr[pr]),Er=!1):pr+=yr,pr<0||pr>=mr-1){if(pr===mr-1)return Ar[pr];Er=!1}return Ar[pr]+(Ar[pr+1]-Ar[pr])*xr}function lr(dr,hr,Ar,fr,mr,pr){var gr=or(mr,pr),xr=1-gr,yr=er.round((xr*xr*xr*dr[0]+(gr*xr*xr+xr*gr*xr+xr*xr*gr)*Ar[0]+(gr*gr*xr+xr*gr*gr+gr*xr*gr)*fr[0]+gr*gr*gr*hr[0])*1e3)/1e3,Er=er.round((xr*xr*xr*dr[1]+(gr*xr*xr+xr*gr*xr+xr*xr*gr)*Ar[1]+(gr*gr*xr+xr*gr*gr+gr*xr*gr)*fr[1]+gr*gr*gr*hr[1])*1e3)/1e3;return[yr,Er]}var cr=createTypedArray("float32",8);function ur(dr,hr,Ar,fr,mr,pr,gr){mr<0?mr=0:mr>1&&(mr=1);var xr=or(mr,gr);pr=pr>1?1:pr;var yr=or(pr,gr),Er,_r=dr.length,Sr=1-xr,jr=1-yr,Pr=Sr*Sr*Sr,Mr=xr*Sr*Sr*3,Ir=xr*xr*Sr*3,Lr=xr*xr*xr,Qr=Sr*Sr*jr,Yr=xr*Sr*jr+Sr*xr*jr+Sr*Sr*yr,Gr=xr*xr*jr+Sr*xr*yr+xr*Sr*yr,$r=xr*xr*yr,Vr=Sr*jr*jr,Tr=xr*jr*jr+Sr*yr*jr+Sr*jr*yr,Fr=xr*yr*jr+Sr*yr*yr+xr*jr*yr,Wr=xr*yr*yr,qr=jr*jr*jr,Rr=yr*jr*jr+jr*yr*jr+jr*jr*yr,Or=yr*yr*jr+jr*yr*yr+yr*jr*yr,Hr=yr*yr*yr;for(Er=0;Er<_r;Er+=1)cr[Er*4]=er.round((Pr*dr[Er]+Mr*Ar[Er]+Ir*fr[Er]+Lr*hr[Er])*1e3)/1e3,cr[Er*4+1]=er.round((Qr*dr[Er]+Yr*Ar[Er]+Gr*fr[Er]+$r*hr[Er])*1e3)/1e3,cr[Er*4+2]=er.round((Vr*dr[Er]+Tr*Ar[Er]+Fr*fr[Er]+Wr*hr[Er])*1e3)/1e3,cr[Er*4+3]=er.round((qr*dr[Er]+Rr*Ar[Er]+Or*fr[Er]+Hr*hr[Er])*1e3)/1e3;return cr}return{getSegmentsLength:nr,getNewSegment:ur,getPointInSegment:lr,buildBezierData:ar,pointOnLine2D:St,pointOnLine3D:tr}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(er,St){var tr=this.offsetTime,rr;this.propType==="multidimensional"&&(rr=createTypedArray("float32",this.pv.length));for(var nr=St.lastIndex,sr=nr,ir=this.keyframes.length-1,ar=!0,or,lr,cr;ar;){if(or=this.keyframes[sr],lr=this.keyframes[sr+1],sr===ir-1&&er>=lr.t-tr){or.h&&(or=lr),nr=0;break}if(lr.t-tr>er){nr=sr;break}sr<ir-1?sr+=1:(nr=0,ar=!1)}cr=this.keyframesMetadata[sr]||{};var ur,dr,hr,Ar,fr,mr,pr=lr.t-tr,gr=or.t-tr,xr;if(or.to){cr.bezierData||(cr.bezierData=bez.buildBezierData(or.s,lr.s||or.e,or.to,or.ti));var yr=cr.bezierData;if(er>=pr||er<gr){var Er=er>=pr?yr.points.length-1:0;for(dr=yr.points[Er].point.length,ur=0;ur<dr;ur+=1)rr[ur]=yr.points[Er].point[ur]}else{cr.__fnct?mr=cr.__fnct:(mr=BezierFactory.getBezierEasing(or.o.x,or.o.y,or.i.x,or.i.y,or.n).get,cr.__fnct=mr),hr=mr((er-gr)/(pr-gr));var _r=yr.segmentLength*hr,Sr,jr=St.lastFrame<er&&St._lastKeyframeIndex===sr?St._lastAddedLength:0;for(fr=St.lastFrame<er&&St._lastKeyframeIndex===sr?St._lastPoint:0,ar=!0,Ar=yr.points.length;ar;){if(jr+=yr.points[fr].partialLength,_r===0||hr===0||fr===yr.points.length-1){for(dr=yr.points[fr].point.length,ur=0;ur<dr;ur+=1)rr[ur]=yr.points[fr].point[ur];break}else if(_r>=jr&&_r<jr+yr.points[fr+1].partialLength){for(Sr=(_r-jr)/yr.points[fr+1].partialLength,dr=yr.points[fr].point.length,ur=0;ur<dr;ur+=1)rr[ur]=yr.points[fr].point[ur]+(yr.points[fr+1].point[ur]-yr.points[fr].point[ur])*Sr;break}fr<Ar-1?fr+=1:ar=!1}St._lastPoint=fr,St._lastAddedLength=jr-yr.points[fr].partialLength,St._lastKeyframeIndex=sr}}else{var Pr,Mr,Ir,Lr,Qr;if(ir=or.s.length,xr=lr.s||or.e,this.sh&&or.h!==1)if(er>=pr)rr[0]=xr[0],rr[1]=xr[1],rr[2]=xr[2];else if(er<=gr)rr[0]=or.s[0],rr[1]=or.s[1],rr[2]=or.s[2];else{var Yr=createQuaternion(or.s),Gr=createQuaternion(xr),$r=(er-gr)/(pr-gr);quaternionToEuler(rr,slerp(Yr,Gr,$r))}else for(sr=0;sr<ir;sr+=1)or.h!==1&&(er>=pr?hr=1:er<gr?hr=0:(or.o.x.constructor===Array?(cr.__fnct||(cr.__fnct=[]),cr.__fnct[sr]?mr=cr.__fnct[sr]:(Pr=or.o.x[sr]===void 0?or.o.x[0]:or.o.x[sr],Mr=or.o.y[sr]===void 0?or.o.y[0]:or.o.y[sr],Ir=or.i.x[sr]===void 0?or.i.x[0]:or.i.x[sr],Lr=or.i.y[sr]===void 0?or.i.y[0]:or.i.y[sr],mr=BezierFactory.getBezierEasing(Pr,Mr,Ir,Lr).get,cr.__fnct[sr]=mr)):cr.__fnct?mr=cr.__fnct:(Pr=or.o.x,Mr=or.o.y,Ir=or.i.x,Lr=or.i.y,mr=BezierFactory.getBezierEasing(Pr,Mr,Ir,Lr).get,or.keyframeMetadata=mr),hr=mr((er-gr)/(pr-gr)))),xr=lr.s||or.e,Qr=or.h===1?or.s[sr]:or.s[sr]+(xr[sr]-or.s[sr])*hr,this.propType==="multidimensional"?rr[sr]=Qr:rr=Qr}return St.lastIndex=nr,rr}function slerp(er,St,tr){var rr=[],nr=er[0],sr=er[1],ir=er[2],ar=er[3],or=St[0],lr=St[1],cr=St[2],ur=St[3],dr,hr,Ar,fr,mr;return hr=nr*or+sr*lr+ir*cr+ar*ur,hr<0&&(hr=-hr,or=-or,lr=-lr,cr=-cr,ur=-ur),1-hr>1e-6?(dr=Math.acos(hr),Ar=Math.sin(dr),fr=Math.sin((1-tr)*dr)/Ar,mr=Math.sin(tr*dr)/Ar):(fr=1-tr,mr=tr),rr[0]=fr*nr+mr*or,rr[1]=fr*sr+mr*lr,rr[2]=fr*ir+mr*cr,rr[3]=fr*ar+mr*ur,rr}function quaternionToEuler(er,St){var tr=St[0],rr=St[1],nr=St[2],sr=St[3],ir=Math.atan2(2*rr*sr-2*tr*nr,1-2*rr*rr-2*nr*nr),ar=Math.asin(2*tr*rr+2*nr*sr),or=Math.atan2(2*tr*sr-2*rr*nr,1-2*tr*tr-2*nr*nr);er[0]=ir/degToRads,er[1]=ar/degToRads,er[2]=or/degToRads}function createQuaternion(er){var St=er[0]*degToRads,tr=er[1]*degToRads,rr=er[2]*degToRads,nr=Math.cos(St/2),sr=Math.cos(tr/2),ir=Math.cos(rr/2),ar=Math.sin(St/2),or=Math.sin(tr/2),lr=Math.sin(rr/2),cr=nr*sr*ir-ar*or*lr,ur=ar*or*ir+nr*sr*lr,dr=ar*sr*ir+nr*or*lr,hr=nr*or*ir-ar*sr*lr;return[ur,dr,hr,cr]}function getValueAtCurrentTime(){var er=this.comp.renderedFrame-this.offsetTime,St=this.keyframes[0].t-this.offsetTime,tr=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(er===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=tr&&er>=tr||this._caching.lastFrame<St&&er<St))){this._caching.lastFrame>=er&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rr=this.interpolateValue(er,this._caching);this.pv=rr}return this._caching.lastFrame=er,this.pv}function setVValue(er){var St;if(this.propType==="unidimensional")St=er*this.mult,mathAbs(this.v-St)>1e-5&&(this.v=St,this._mdf=!0);else for(var tr=0,rr=this.v.length;tr<rr;)St=er[tr]*this.mult,mathAbs(this.v[tr]-St)>1e-5&&(this.v[tr]=St,this._mdf=!0),tr+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var er,St=this.effectsSequence.length,tr=this.kf?this.pv:this.data.k;for(er=0;er<St;er+=1)tr=this.effectsSequence[er](tr);this.setVValue(tr),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(er){this.effectsSequence.push(er),this.container.addDynamicProperty(this)}function ValueProperty(er,St,tr,rr){this.propType="unidimensional",this.mult=tr||1,this.data=St,this.v=tr?St.k*tr:St.k,this.pv=St.k,this._mdf=!1,this.elem=er,this.container=rr,this.comp=er.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(er,St,tr,rr){this.propType="multidimensional",this.mult=tr||1,this.data=St,this._mdf=!1,this.elem=er,this.container=rr,this.comp=er.comp,this.k=!1,this.kf=!1,this.frameId=-1;var nr,sr=St.k.length;for(this.v=createTypedArray("float32",sr),this.pv=createTypedArray("float32",sr),this.vel=createTypedArray("float32",sr),nr=0;nr<sr;nr+=1)this.v[nr]=St.k[nr]*this.mult,this.pv[nr]=St.k[nr];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(er,St,tr,rr){this.propType="unidimensional",this.keyframes=St.k,this.keyframesMetadata=[],this.offsetTime=er.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=St,this.mult=tr||1,this.elem=er,this.container=rr,this.comp=er.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(er,St,tr,rr){this.propType="multidimensional";var nr,sr=St.k.length,ir,ar,or,lr;for(nr=0;nr<sr-1;nr+=1)St.k[nr].to&&St.k[nr].s&&St.k[nr+1]&&St.k[nr+1].s&&(ir=St.k[nr].s,ar=St.k[nr+1].s,or=St.k[nr].to,lr=St.k[nr].ti,(ir.length===2&&!(ir[0]===ar[0]&&ir[1]===ar[1])&&bez.pointOnLine2D(ir[0],ir[1],ar[0],ar[1],ir[0]+or[0],ir[1]+or[1])&&bez.pointOnLine2D(ir[0],ir[1],ar[0],ar[1],ar[0]+lr[0],ar[1]+lr[1])||ir.length===3&&!(ir[0]===ar[0]&&ir[1]===ar[1]&&ir[2]===ar[2])&&bez.pointOnLine3D(ir[0],ir[1],ir[2],ar[0],ar[1],ar[2],ir[0]+or[0],ir[1]+or[1],ir[2]+or[2])&&bez.pointOnLine3D(ir[0],ir[1],ir[2],ar[0],ar[1],ar[2],ar[0]+lr[0],ar[1]+lr[1],ar[2]+lr[2]))&&(St.k[nr].to=null,St.k[nr].ti=null),ir[0]===ar[0]&&ir[1]===ar[1]&&or[0]===0&&or[1]===0&&lr[0]===0&&lr[1]===0&&(ir.length===2||ir[2]===ar[2]&&or[2]===0&&lr[2]===0)&&(St.k[nr].to=null,St.k[nr].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=St,this.keyframes=St.k,this.keyframesMetadata=[],this.offsetTime=er.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=tr||1,this.elem=er,this.container=rr,this.comp=er.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var cr=St.k[0].s.length;for(this.v=createTypedArray("float32",cr),this.pv=createTypedArray("float32",cr),nr=0;nr<cr;nr+=1)this.v[nr]=initFrame,this.pv[nr]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",cr)},this.addEffect=addEffect}var PropertyFactory=function(){function er(tr,rr,nr,sr,ir){rr.sid&&(rr=tr.globalData.slotManager.getProp(rr));var ar;if(!rr.k.length)ar=new ValueProperty(tr,rr,sr,ir);else if(typeof rr.k[0]=="number")ar=new MultiDimensionalProperty(tr,rr,sr,ir);else switch(nr){case 0:ar=new KeyframedValueProperty(tr,rr,sr,ir);break;case 1:ar=new KeyframedMultidimensionalProperty(tr,rr,sr,ir);break}return ar.effectsSequence.length&&ir.addDynamicProperty(ar),ar}var St={getProp:er};return St}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(St){this.dynamicProperties.indexOf(St)===-1&&(this.dynamicProperties.push(St),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var St,tr=this.dynamicProperties.length;for(St=0;St<tr;St+=1)this.dynamicProperties[St].getValue(),this.dynamicProperties[St]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(St){this.container=St,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function er(){return createTypedArray("float32",2)}return poolFactory(8,er)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(er,St){this.c=er,this.setLength(St);for(var tr=0;tr<St;)this.v[tr]=pointPool.newElement(),this.o[tr]=pointPool.newElement(),this.i[tr]=pointPool.newElement(),tr+=1},ShapePath.prototype.setLength=function(er){for(;this._maxLength<er;)this.doubleArrayLength();this._length=er},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(er,St,tr,rr,nr){var sr;switch(this._length=Math.max(this._length,rr+1),this._length>=this._maxLength&&this.doubleArrayLength(),tr){case"v":sr=this.v;break;case"i":sr=this.i;break;case"o":sr=this.o;break;default:sr=[];break}(!sr[rr]||sr[rr]&&!nr)&&(sr[rr]=pointPool.newElement()),sr[rr][0]=er,sr[rr][1]=St},ShapePath.prototype.setTripleAt=function(er,St,tr,rr,nr,sr,ir,ar){this.setXYAt(er,St,"v",ir,ar),this.setXYAt(tr,rr,"o",ir,ar),this.setXYAt(nr,sr,"i",ir,ar)},ShapePath.prototype.reverse=function(){var er=new ShapePath;er.setPathData(this.c,this._length);var St=this.v,tr=this.o,rr=this.i,nr=0;this.c&&(er.setTripleAt(St[0][0],St[0][1],rr[0][0],rr[0][1],tr[0][0],tr[0][1],0,!1),nr=1);var sr=this._length-1,ir=this._length,ar;for(ar=nr;ar<ir;ar+=1)er.setTripleAt(St[sr][0],St[sr][1],rr[sr][0],rr[sr][1],tr[sr][0],tr[sr][1],ar,!1),sr-=1;return er},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function er(){return new ShapePath}function St(nr){var sr=nr._length,ir;for(ir=0;ir<sr;ir+=1)pointPool.release(nr.v[ir]),pointPool.release(nr.i[ir]),pointPool.release(nr.o[ir]),nr.v[ir]=null,nr.i[ir]=null,nr.o[ir]=null;nr._length=0,nr.c=!1}function tr(nr){var sr=rr.newElement(),ir,ar=nr._length===void 0?nr.v.length:nr._length;for(sr.setLength(ar),sr.c=nr.c,ir=0;ir<ar;ir+=1)sr.setTripleAt(nr.v[ir][0],nr.v[ir][1],nr.o[ir][0],nr.o[ir][1],nr.i[ir][0],nr.i[ir][1],ir);return sr}var rr=poolFactory(4,er,St);return rr.clone=tr,rr}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(er){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=er,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var er;for(er=0;er<this._length;er+=1)shapePool.release(this.shapes[er]);this._length=0};var shapeCollectionPool=function(){var er={newShapeCollection:nr,release:sr},St=0,tr=4,rr=createSizedArray(tr);function nr(){var ir;return St?(St-=1,ir=rr[St]):ir=new ShapeCollection,ir}function sr(ir){var ar,or=ir._length;for(ar=0;ar<or;ar+=1)shapePool.release(ir.shapes[ar]);ir._length=0,St===tr&&(rr=pooling.double(rr),tr*=2),rr[St]=ir,St+=1}return er}(),ShapePropertyFactory=function(){var er=-999999;function St(pr,gr,xr){var yr=xr.lastIndex,Er,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr=this.keyframes;if(pr<Yr[0].t-this.offsetTime)Er=Yr[0].s[0],Sr=!0,yr=0;else if(pr>=Yr[Yr.length-1].t-this.offsetTime)Er=Yr[Yr.length-1].s?Yr[Yr.length-1].s[0]:Yr[Yr.length-2].e[0],Sr=!0;else{for(var Gr=yr,$r=Yr.length-1,Vr=!0,Tr,Fr,Wr;Vr&&(Tr=Yr[Gr],Fr=Yr[Gr+1],!(Fr.t-this.offsetTime>pr));)Gr<$r-1?Gr+=1:Vr=!1;if(Wr=this.keyframesMetadata[Gr]||{},Sr=Tr.h===1,yr=Gr,!Sr){if(pr>=Fr.t-this.offsetTime)Lr=1;else if(pr<Tr.t-this.offsetTime)Lr=0;else{var qr;Wr.__fnct?qr=Wr.__fnct:(qr=BezierFactory.getBezierEasing(Tr.o.x,Tr.o.y,Tr.i.x,Tr.i.y).get,Wr.__fnct=qr),Lr=qr((pr-(Tr.t-this.offsetTime))/(Fr.t-this.offsetTime-(Tr.t-this.offsetTime)))}_r=Fr.s?Fr.s[0]:Tr.e[0]}Er=Tr.s[0]}for(Mr=gr._length,Ir=Er.i[0].length,xr.lastIndex=yr,jr=0;jr<Mr;jr+=1)for(Pr=0;Pr<Ir;Pr+=1)Qr=Sr?Er.i[jr][Pr]:Er.i[jr][Pr]+(_r.i[jr][Pr]-Er.i[jr][Pr])*Lr,gr.i[jr][Pr]=Qr,Qr=Sr?Er.o[jr][Pr]:Er.o[jr][Pr]+(_r.o[jr][Pr]-Er.o[jr][Pr])*Lr,gr.o[jr][Pr]=Qr,Qr=Sr?Er.v[jr][Pr]:Er.v[jr][Pr]+(_r.v[jr][Pr]-Er.v[jr][Pr])*Lr,gr.v[jr][Pr]=Qr}function tr(){var pr=this.comp.renderedFrame-this.offsetTime,gr=this.keyframes[0].t-this.offsetTime,xr=this.keyframes[this.keyframes.length-1].t-this.offsetTime,yr=this._caching.lastFrame;return yr!==er&&(yr<gr&&pr<gr||yr>xr&&pr>xr)||(this._caching.lastIndex=yr<pr?this._caching.lastIndex:0,this.interpolateShape(pr,this.pv,this._caching)),this._caching.lastFrame=pr,this.pv}function rr(){this.paths=this.localShapeCollection}function nr(pr,gr){if(pr._length!==gr._length||pr.c!==gr.c)return!1;var xr,yr=pr._length;for(xr=0;xr<yr;xr+=1)if(pr.v[xr][0]!==gr.v[xr][0]||pr.v[xr][1]!==gr.v[xr][1]||pr.o[xr][0]!==gr.o[xr][0]||pr.o[xr][1]!==gr.o[xr][1]||pr.i[xr][0]!==gr.i[xr][0]||pr.i[xr][1]!==gr.i[xr][1])return!1;return!0}function sr(pr){nr(this.v,pr)||(this.v=shapePool.clone(pr),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ir(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var pr;this.kf?pr=this.pv:this.data.ks?pr=this.data.ks.k:pr=this.data.pt.k;var gr,xr=this.effectsSequence.length;for(gr=0;gr<xr;gr+=1)pr=this.effectsSequence[gr](pr);this.setVValue(pr),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ar(pr,gr,xr){this.propType="shape",this.comp=pr.comp,this.container=pr,this.elem=pr,this.data=gr,this.k=!1,this.kf=!1,this._mdf=!1;var yr=xr===3?gr.pt.k:gr.ks.k;this.v=shapePool.clone(yr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rr,this.effectsSequence=[]}function or(pr){this.effectsSequence.push(pr),this.container.addDynamicProperty(this)}ar.prototype.interpolateShape=St,ar.prototype.getValue=ir,ar.prototype.setVValue=sr,ar.prototype.addEffect=or;function lr(pr,gr,xr){this.propType="shape",this.comp=pr.comp,this.elem=pr,this.container=pr,this.offsetTime=pr.data.st,this.keyframes=xr===3?gr.pt.k:gr.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var yr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,yr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=er,this.reset=rr,this._caching={lastFrame:er,lastIndex:0},this.effectsSequence=[tr.bind(this)]}lr.prototype.getValue=ir,lr.prototype.interpolateShape=St,lr.prototype.setVValue=sr,lr.prototype.addEffect=or;var cr=function(){var pr=roundCorner;function gr(xr,yr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=yr.d,this.elem=xr,this.comp=xr.comp,this.frameId=-1,this.initDynamicPropertyContainer(xr),this.p=PropertyFactory.getProp(xr,yr.p,1,0,this),this.s=PropertyFactory.getProp(xr,yr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return gr.prototype={reset:rr,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var yr=this.p.v[0],Er=this.p.v[1],_r=this.s.v[0]/2,Sr=this.s.v[1]/2,jr=this.d!==3,Pr=this.v;Pr.v[0][0]=yr,Pr.v[0][1]=Er-Sr,Pr.v[1][0]=jr?yr+_r:yr-_r,Pr.v[1][1]=Er,Pr.v[2][0]=yr,Pr.v[2][1]=Er+Sr,Pr.v[3][0]=jr?yr-_r:yr+_r,Pr.v[3][1]=Er,Pr.i[0][0]=jr?yr-_r*pr:yr+_r*pr,Pr.i[0][1]=Er-Sr,Pr.i[1][0]=jr?yr+_r:yr-_r,Pr.i[1][1]=Er-Sr*pr,Pr.i[2][0]=jr?yr+_r*pr:yr-_r*pr,Pr.i[2][1]=Er+Sr,Pr.i[3][0]=jr?yr-_r:yr+_r,Pr.i[3][1]=Er+Sr*pr,Pr.o[0][0]=jr?yr+_r*pr:yr-_r*pr,Pr.o[0][1]=Er-Sr,Pr.o[1][0]=jr?yr+_r:yr-_r,Pr.o[1][1]=Er+Sr*pr,Pr.o[2][0]=jr?yr-_r*pr:yr+_r*pr,Pr.o[2][1]=Er+Sr,Pr.o[3][0]=jr?yr-_r:yr+_r,Pr.o[3][1]=Er-Sr*pr}},extendPrototype([DynamicPropertyContainer],gr),gr}(),ur=function(){function pr(gr,xr){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=gr,this.comp=gr.comp,this.data=xr,this.frameId=-1,this.d=xr.d,this.initDynamicPropertyContainer(gr),xr.sy===1?(this.ir=PropertyFactory.getProp(gr,xr.ir,0,0,this),this.is=PropertyFactory.getProp(gr,xr.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(gr,xr.pt,0,0,this),this.p=PropertyFactory.getProp(gr,xr.p,1,0,this),this.r=PropertyFactory.getProp(gr,xr.r,0,degToRads,this),this.or=PropertyFactory.getProp(gr,xr.or,0,0,this),this.os=PropertyFactory.getProp(gr,xr.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return pr.prototype={reset:rr,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var xr=Math.floor(this.pt.v)*2,yr=Math.PI*2/xr,Er=!0,_r=this.or.v,Sr=this.ir.v,jr=this.os.v,Pr=this.is.v,Mr=2*Math.PI*_r/(xr*2),Ir=2*Math.PI*Sr/(xr*2),Lr,Qr,Yr,Gr,$r=-Math.PI/2;$r+=this.r.v;var Vr=this.data.d===3?-1:1;for(this.v._length=0,Lr=0;Lr<xr;Lr+=1){Qr=Er?_r:Sr,Yr=Er?jr:Pr,Gr=Er?Mr:Ir;var Tr=Qr*Math.cos($r),Fr=Qr*Math.sin($r),Wr=Tr===0&&Fr===0?0:Fr/Math.sqrt(Tr*Tr+Fr*Fr),qr=Tr===0&&Fr===0?0:-Tr/Math.sqrt(Tr*Tr+Fr*Fr);Tr+=+this.p.v[0],Fr+=+this.p.v[1],this.v.setTripleAt(Tr,Fr,Tr-Wr*Gr*Yr*Vr,Fr-qr*Gr*Yr*Vr,Tr+Wr*Gr*Yr*Vr,Fr+qr*Gr*Yr*Vr,Lr,!0),Er=!Er,$r+=yr*Vr}},convertPolygonToPath:function(){var xr=Math.floor(this.pt.v),yr=Math.PI*2/xr,Er=this.or.v,_r=this.os.v,Sr=2*Math.PI*Er/(xr*4),jr,Pr=-Math.PI*.5,Mr=this.data.d===3?-1:1;for(Pr+=this.r.v,this.v._length=0,jr=0;jr<xr;jr+=1){var Ir=Er*Math.cos(Pr),Lr=Er*Math.sin(Pr),Qr=Ir===0&&Lr===0?0:Lr/Math.sqrt(Ir*Ir+Lr*Lr),Yr=Ir===0&&Lr===0?0:-Ir/Math.sqrt(Ir*Ir+Lr*Lr);Ir+=+this.p.v[0],Lr+=+this.p.v[1],this.v.setTripleAt(Ir,Lr,Ir-Qr*Sr*_r*Mr,Lr-Yr*Sr*_r*Mr,Ir+Qr*Sr*_r*Mr,Lr+Yr*Sr*_r*Mr,jr,!0),Pr+=yr*Mr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],pr),pr}(),dr=function(){function pr(gr,xr){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=gr,this.comp=gr.comp,this.frameId=-1,this.d=xr.d,this.initDynamicPropertyContainer(gr),this.p=PropertyFactory.getProp(gr,xr.p,1,0,this),this.s=PropertyFactory.getProp(gr,xr.s,1,0,this),this.r=PropertyFactory.getProp(gr,xr.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return pr.prototype={convertRectToPath:function(){var xr=this.p.v[0],yr=this.p.v[1],Er=this.s.v[0]/2,_r=this.s.v[1]/2,Sr=bmMin(Er,_r,this.r.v),jr=Sr*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(xr+Er,yr-_r+Sr,xr+Er,yr-_r+Sr,xr+Er,yr-_r+jr,0,!0),this.v.setTripleAt(xr+Er,yr+_r-Sr,xr+Er,yr+_r-jr,xr+Er,yr+_r-Sr,1,!0),Sr!==0?(this.v.setTripleAt(xr+Er-Sr,yr+_r,xr+Er-Sr,yr+_r,xr+Er-jr,yr+_r,2,!0),this.v.setTripleAt(xr-Er+Sr,yr+_r,xr-Er+jr,yr+_r,xr-Er+Sr,yr+_r,3,!0),this.v.setTripleAt(xr-Er,yr+_r-Sr,xr-Er,yr+_r-Sr,xr-Er,yr+_r-jr,4,!0),this.v.setTripleAt(xr-Er,yr-_r+Sr,xr-Er,yr-_r+jr,xr-Er,yr-_r+Sr,5,!0),this.v.setTripleAt(xr-Er+Sr,yr-_r,xr-Er+Sr,yr-_r,xr-Er+jr,yr-_r,6,!0),this.v.setTripleAt(xr+Er-Sr,yr-_r,xr+Er-jr,yr-_r,xr+Er-Sr,yr-_r,7,!0)):(this.v.setTripleAt(xr-Er,yr+_r,xr-Er+jr,yr+_r,xr-Er,yr+_r,2),this.v.setTripleAt(xr-Er,yr-_r,xr-Er,yr-_r+jr,xr-Er,yr-_r,3))):(this.v.setTripleAt(xr+Er,yr-_r+Sr,xr+Er,yr-_r+jr,xr+Er,yr-_r+Sr,0,!0),Sr!==0?(this.v.setTripleAt(xr+Er-Sr,yr-_r,xr+Er-Sr,yr-_r,xr+Er-jr,yr-_r,1,!0),this.v.setTripleAt(xr-Er+Sr,yr-_r,xr-Er+jr,yr-_r,xr-Er+Sr,yr-_r,2,!0),this.v.setTripleAt(xr-Er,yr-_r+Sr,xr-Er,yr-_r+Sr,xr-Er,yr-_r+jr,3,!0),this.v.setTripleAt(xr-Er,yr+_r-Sr,xr-Er,yr+_r-jr,xr-Er,yr+_r-Sr,4,!0),this.v.setTripleAt(xr-Er+Sr,yr+_r,xr-Er+Sr,yr+_r,xr-Er+jr,yr+_r,5,!0),this.v.setTripleAt(xr+Er-Sr,yr+_r,xr+Er-jr,yr+_r,xr+Er-Sr,yr+_r,6,!0),this.v.setTripleAt(xr+Er,yr+_r-Sr,xr+Er,yr+_r-Sr,xr+Er,yr+_r-jr,7,!0)):(this.v.setTripleAt(xr-Er,yr-_r,xr-Er+jr,yr-_r,xr-Er,yr-_r,1,!0),this.v.setTripleAt(xr-Er,yr+_r,xr-Er,yr+_r-jr,xr-Er,yr+_r,2,!0),this.v.setTripleAt(xr+Er,yr+_r,xr+Er-jr,yr+_r,xr+Er,yr+_r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rr},extendPrototype([DynamicPropertyContainer],pr),pr}();function hr(pr,gr,xr){var yr;if(xr===3||xr===4){var Er=xr===3?gr.pt:gr.ks,_r=Er.k;_r.length?yr=new lr(pr,gr,xr):yr=new ar(pr,gr,xr)}else xr===5?yr=new dr(pr,gr):xr===6?yr=new cr(pr,gr):xr===7&&(yr=new ur(pr,gr));return yr.k&&pr.addDynamicProperty(yr),yr}function Ar(){return ar}function fr(){return lr}var mr={};return mr.getShapeProp=hr,mr.getConstructorFunction=Ar,mr.getKeyframedConstructorFunction=fr,mr}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var er=Math.cos,St=Math.sin,tr=Math.tan,rr=Math.round;function nr(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function sr(Tr){if(Tr===0)return this;var Fr=er(Tr),Wr=St(Tr);return this._t(Fr,-Wr,0,0,Wr,Fr,0,0,0,0,1,0,0,0,0,1)}function ir(Tr){if(Tr===0)return this;var Fr=er(Tr),Wr=St(Tr);return this._t(1,0,0,0,0,Fr,-Wr,0,0,Wr,Fr,0,0,0,0,1)}function ar(Tr){if(Tr===0)return this;var Fr=er(Tr),Wr=St(Tr);return this._t(Fr,0,Wr,0,0,1,0,0,-Wr,0,Fr,0,0,0,0,1)}function or(Tr){if(Tr===0)return this;var Fr=er(Tr),Wr=St(Tr);return this._t(Fr,-Wr,0,0,Wr,Fr,0,0,0,0,1,0,0,0,0,1)}function lr(Tr,Fr){return this._t(1,Fr,Tr,1,0,0)}function cr(Tr,Fr){return this.shear(tr(Tr),tr(Fr))}function ur(Tr,Fr){var Wr=er(Fr),qr=St(Fr);return this._t(Wr,qr,0,0,-qr,Wr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,tr(Tr),1,0,0,0,0,1,0,0,0,0,1)._t(Wr,-qr,0,0,qr,Wr,0,0,0,0,1,0,0,0,0,1)}function dr(Tr,Fr,Wr){return!Wr&&Wr!==0&&(Wr=1),Tr===1&&Fr===1&&Wr===1?this:this._t(Tr,0,0,0,0,Fr,0,0,0,0,Wr,0,0,0,0,1)}function hr(Tr,Fr,Wr,qr,Rr,Or,Hr,zr,Zr,nn,vn,hn,En,Tn,bn,Mn){return this.props[0]=Tr,this.props[1]=Fr,this.props[2]=Wr,this.props[3]=qr,this.props[4]=Rr,this.props[5]=Or,this.props[6]=Hr,this.props[7]=zr,this.props[8]=Zr,this.props[9]=nn,this.props[10]=vn,this.props[11]=hn,this.props[12]=En,this.props[13]=Tn,this.props[14]=bn,this.props[15]=Mn,this}function Ar(Tr,Fr,Wr){return Wr=Wr||0,Tr!==0||Fr!==0||Wr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Tr,Fr,Wr,1):this}function fr(Tr,Fr,Wr,qr,Rr,Or,Hr,zr,Zr,nn,vn,hn,En,Tn,bn,Mn){var Rn=this.props;if(Tr===1&&Fr===0&&Wr===0&&qr===0&&Rr===0&&Or===1&&Hr===0&&zr===0&&Zr===0&&nn===0&&vn===1&&hn===0)return Rn[12]=Rn[12]*Tr+Rn[15]*En,Rn[13]=Rn[13]*Or+Rn[15]*Tn,Rn[14]=Rn[14]*vn+Rn[15]*bn,Rn[15]*=Mn,this._identityCalculated=!1,this;var Nn=Rn[0],pn=Rn[1],Gn=Rn[2],os=Rn[3],es=Rn[4],cs=Rn[5],ts=Rn[6],fs=Rn[7],vs=Rn[8],ws=Rn[9],Rs=Rn[10],ks=Rn[11],Fs=Rn[12],Vs=Rn[13],Ts=Rn[14],Ds=Rn[15];return Rn[0]=Nn*Tr+pn*Rr+Gn*Zr+os*En,Rn[1]=Nn*Fr+pn*Or+Gn*nn+os*Tn,Rn[2]=Nn*Wr+pn*Hr+Gn*vn+os*bn,Rn[3]=Nn*qr+pn*zr+Gn*hn+os*Mn,Rn[4]=es*Tr+cs*Rr+ts*Zr+fs*En,Rn[5]=es*Fr+cs*Or+ts*nn+fs*Tn,Rn[6]=es*Wr+cs*Hr+ts*vn+fs*bn,Rn[7]=es*qr+cs*zr+ts*hn+fs*Mn,Rn[8]=vs*Tr+ws*Rr+Rs*Zr+ks*En,Rn[9]=vs*Fr+ws*Or+Rs*nn+ks*Tn,Rn[10]=vs*Wr+ws*Hr+Rs*vn+ks*bn,Rn[11]=vs*qr+ws*zr+Rs*hn+ks*Mn,Rn[12]=Fs*Tr+Vs*Rr+Ts*Zr+Ds*En,Rn[13]=Fs*Fr+Vs*Or+Ts*nn+Ds*Tn,Rn[14]=Fs*Wr+Vs*Hr+Ts*vn+Ds*bn,Rn[15]=Fs*qr+Vs*zr+Ts*hn+Ds*Mn,this._identityCalculated=!1,this}function mr(Tr){var Fr=Tr.props;return this.transform(Fr[0],Fr[1],Fr[2],Fr[3],Fr[4],Fr[5],Fr[6],Fr[7],Fr[8],Fr[9],Fr[10],Fr[11],Fr[12],Fr[13],Fr[14],Fr[15])}function pr(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function gr(Tr){for(var Fr=0;Fr<16;){if(Tr.props[Fr]!==this.props[Fr])return!1;Fr+=1}return!0}function xr(Tr){var Fr;for(Fr=0;Fr<16;Fr+=1)Tr.props[Fr]=this.props[Fr];return Tr}function yr(Tr){var Fr;for(Fr=0;Fr<16;Fr+=1)this.props[Fr]=Tr[Fr]}function Er(Tr,Fr,Wr){return{x:Tr*this.props[0]+Fr*this.props[4]+Wr*this.props[8]+this.props[12],y:Tr*this.props[1]+Fr*this.props[5]+Wr*this.props[9]+this.props[13],z:Tr*this.props[2]+Fr*this.props[6]+Wr*this.props[10]+this.props[14]}}function _r(Tr,Fr,Wr){return Tr*this.props[0]+Fr*this.props[4]+Wr*this.props[8]+this.props[12]}function Sr(Tr,Fr,Wr){return Tr*this.props[1]+Fr*this.props[5]+Wr*this.props[9]+this.props[13]}function jr(Tr,Fr,Wr){return Tr*this.props[2]+Fr*this.props[6]+Wr*this.props[10]+this.props[14]}function Pr(){var Tr=this.props[0]*this.props[5]-this.props[1]*this.props[4],Fr=this.props[5]/Tr,Wr=-this.props[1]/Tr,qr=-this.props[4]/Tr,Rr=this.props[0]/Tr,Or=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Tr,Hr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Tr,zr=new Matrix;return zr.props[0]=Fr,zr.props[1]=Wr,zr.props[4]=qr,zr.props[5]=Rr,zr.props[12]=Or,zr.props[13]=Hr,zr}function Mr(Tr){var Fr=this.getInverseMatrix();return Fr.applyToPointArray(Tr[0],Tr[1],Tr[2]||0)}function Ir(Tr){var Fr,Wr=Tr.length,qr=[];for(Fr=0;Fr<Wr;Fr+=1)qr[Fr]=Mr(Tr[Fr]);return qr}function Lr(Tr,Fr,Wr){var qr=createTypedArray("float32",6);if(this.isIdentity())qr[0]=Tr[0],qr[1]=Tr[1],qr[2]=Fr[0],qr[3]=Fr[1],qr[4]=Wr[0],qr[5]=Wr[1];else{var Rr=this.props[0],Or=this.props[1],Hr=this.props[4],zr=this.props[5],Zr=this.props[12],nn=this.props[13];qr[0]=Tr[0]*Rr+Tr[1]*Hr+Zr,qr[1]=Tr[0]*Or+Tr[1]*zr+nn,qr[2]=Fr[0]*Rr+Fr[1]*Hr+Zr,qr[3]=Fr[0]*Or+Fr[1]*zr+nn,qr[4]=Wr[0]*Rr+Wr[1]*Hr+Zr,qr[5]=Wr[0]*Or+Wr[1]*zr+nn}return qr}function Qr(Tr,Fr,Wr){var qr;return this.isIdentity()?qr=[Tr,Fr,Wr]:qr=[Tr*this.props[0]+Fr*this.props[4]+Wr*this.props[8]+this.props[12],Tr*this.props[1]+Fr*this.props[5]+Wr*this.props[9]+this.props[13],Tr*this.props[2]+Fr*this.props[6]+Wr*this.props[10]+this.props[14]],qr}function Yr(Tr,Fr){if(this.isIdentity())return Tr+","+Fr;var Wr=this.props;return Math.round((Tr*Wr[0]+Fr*Wr[4]+Wr[12])*100)/100+","+Math.round((Tr*Wr[1]+Fr*Wr[5]+Wr[13])*100)/100}function Gr(){for(var Tr=0,Fr=this.props,Wr="matrix3d(",qr=1e4;Tr<16;)Wr+=rr(Fr[Tr]*qr)/qr,Wr+=Tr===15?")":",",Tr+=1;return Wr}function $r(Tr){var Fr=1e4;return Tr<1e-6&&Tr>0||Tr>-1e-6&&Tr<0?rr(Tr*Fr)/Fr:Tr}function Vr(){var Tr=this.props,Fr=$r(Tr[0]),Wr=$r(Tr[1]),qr=$r(Tr[4]),Rr=$r(Tr[5]),Or=$r(Tr[12]),Hr=$r(Tr[13]);return"matrix("+Fr+","+Wr+","+qr+","+Rr+","+Or+","+Hr+")"}return function(){this.reset=nr,this.rotate=sr,this.rotateX=ir,this.rotateY=ar,this.rotateZ=or,this.skew=cr,this.skewFromAxis=ur,this.shear=lr,this.scale=dr,this.setTransform=hr,this.translate=Ar,this.transform=fr,this.multiply=mr,this.applyToPoint=Er,this.applyToX=_r,this.applyToY=Sr,this.applyToZ=jr,this.applyToPointArray=Qr,this.applyToTriplePoints=Lr,this.applyToPointStringified=Yr,this.toCSS=Gr,this.to2dCSS=Vr,this.clone=xr,this.cloneFromProps=yr,this.equals=gr,this.inversePoints=Ir,this.inversePoint=Mr,this.getInverseMatrix=Pr,this._t=this.transform,this.isIdentity=pr,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(er){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$3(er)}var lottie={};function setLocation(er){setLocationHref(er)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(er){setSubframeEnabled(er)}function setPrefix(er){setIdPrefix(er)}function loadAnimation(er){return animationManager.loadAnimation(er)}function setQuality(er){if(typeof er=="string")switch(er){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(er)&&er>1&&setDefaultCurveSegments(er)}function inBrowser(){return typeof navigator<"u"}function installPlugin(er,St){er==="expressions"&&setExpressionsPlugin(St)}function getFactory(er){switch(er){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(er){for(var St=queryString.split("&"),tr=0;tr<St.length;tr+=1){var rr=St[tr].split("=");if(decodeURIComponent(rr[0])==er)return decodeURIComponent(rr[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(er){}var ShapeModifiers=function(){var er={},St={};er.registerModifier=tr,er.getModifier=rr;function tr(nr,sr){St[nr]||(St[nr]=sr)}function rr(nr,sr,ir){return new St[nr](sr,ir)}return er}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(er){if(!this.closed){er.sh.container.addDynamicProperty(er.sh);var St={shape:er.sh,data:er,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(St),this.addShapeToModifier(St),this._isAnimated&&er.setAsAnimated()}},ShapeModifier.prototype.init=function(er,St){this.shapes=[],this.elem=er,this.initDynamicPropertyContainer(er),this.initModifierProperties(er,St),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(er,St){this.s=PropertyFactory.getProp(er,St.s,0,.01,this),this.e=PropertyFactory.getProp(er,St.e,0,.01,this),this.o=PropertyFactory.getProp(er,St.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=St.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(er){er.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(er,St,tr,rr,nr){var sr=[];St<=1?sr.push({s:er,e:St}):er>=1?sr.push({s:er-1,e:St-1}):(sr.push({s:er,e:1}),sr.push({s:0,e:St-1}));var ir=[],ar,or=sr.length,lr;for(ar=0;ar<or;ar+=1)if(lr=sr[ar],!(lr.e*nr<rr||lr.s*nr>rr+tr)){var cr,ur;lr.s*nr<=rr?cr=0:cr=(lr.s*nr-rr)/tr,lr.e*nr>=rr+tr?ur=1:ur=(lr.e*nr-rr)/tr,ir.push([cr,ur])}return ir.length||ir.push([0,0]),ir},TrimModifier.prototype.releasePathsData=function(er){var St,tr=er.length;for(St=0;St<tr;St+=1)segmentsLengthPool.release(er[St]);return er.length=0,er},TrimModifier.prototype.processShapes=function(er){var St,tr;if(this._mdf||er){var rr=this.o.v%360/360;if(rr<0&&(rr+=1),this.s.v>1?St=1+rr:this.s.v<0?St=0+rr:St=this.s.v+rr,this.e.v>1?tr=1+rr:this.e.v<0?tr=0+rr:tr=this.e.v+rr,St>tr){var nr=St;St=tr,tr=nr}St=Math.round(St*1e4)*1e-4,tr=Math.round(tr*1e4)*1e-4,this.sValue=St,this.eValue=tr}else St=this.sValue,tr=this.eValue;var sr,ir,ar=this.shapes.length,or,lr,cr,ur,dr,hr=0;if(tr===St)for(ir=0;ir<ar;ir+=1)this.shapes[ir].localShapeCollection.releaseShapes(),this.shapes[ir].shape._mdf=!0,this.shapes[ir].shape.paths=this.shapes[ir].localShapeCollection,this._mdf&&(this.shapes[ir].pathsData.length=0);else if(tr===1&&St===0||tr===0&&St===1){if(this._mdf)for(ir=0;ir<ar;ir+=1)this.shapes[ir].pathsData.length=0,this.shapes[ir].shape._mdf=!0}else{var Ar=[],fr,mr;for(ir=0;ir<ar;ir+=1)if(fr=this.shapes[ir],!fr.shape._mdf&&!this._mdf&&!er&&this.m!==2)fr.shape.paths=fr.localShapeCollection;else{if(sr=fr.shape.paths,lr=sr._length,dr=0,!fr.shape._mdf&&fr.pathsData.length)dr=fr.totalShapeLength;else{for(cr=this.releasePathsData(fr.pathsData),or=0;or<lr;or+=1)ur=bez.getSegmentsLength(sr.shapes[or]),cr.push(ur),dr+=ur.totalLength;fr.totalShapeLength=dr,fr.pathsData=cr}hr+=dr,fr.shape._mdf=!0}var pr=St,gr=tr,xr=0,yr;for(ir=ar-1;ir>=0;ir-=1)if(fr=this.shapes[ir],fr.shape._mdf){for(mr=fr.localShapeCollection,mr.releaseShapes(),this.m===2&&ar>1?(yr=this.calculateShapeEdges(St,tr,fr.totalShapeLength,xr,hr),xr+=fr.totalShapeLength):yr=[[pr,gr]],lr=yr.length,or=0;or<lr;or+=1){pr=yr[or][0],gr=yr[or][1],Ar.length=0,gr<=1?Ar.push({s:fr.totalShapeLength*pr,e:fr.totalShapeLength*gr}):pr>=1?Ar.push({s:fr.totalShapeLength*(pr-1),e:fr.totalShapeLength*(gr-1)}):(Ar.push({s:fr.totalShapeLength*pr,e:fr.totalShapeLength}),Ar.push({s:0,e:fr.totalShapeLength*(gr-1)}));var Er=this.addShapes(fr,Ar[0]);if(Ar[0].s!==Ar[0].e){if(Ar.length>1){var _r=fr.shape.paths.shapes[fr.shape.paths._length-1];if(_r.c){var Sr=Er.pop();this.addPaths(Er,mr),Er=this.addShapes(fr,Ar[1],Sr)}else this.addPaths(Er,mr),Er=this.addShapes(fr,Ar[1])}this.addPaths(Er,mr)}}fr.shape.paths=mr}}},TrimModifier.prototype.addPaths=function(er,St){var tr,rr=er.length;for(tr=0;tr<rr;tr+=1)St.addShape(er[tr])},TrimModifier.prototype.addSegment=function(er,St,tr,rr,nr,sr,ir){nr.setXYAt(St[0],St[1],"o",sr),nr.setXYAt(tr[0],tr[1],"i",sr+1),ir&&nr.setXYAt(er[0],er[1],"v",sr),nr.setXYAt(rr[0],rr[1],"v",sr+1)},TrimModifier.prototype.addSegmentFromArray=function(er,St,tr,rr){St.setXYAt(er[1],er[5],"o",tr),St.setXYAt(er[2],er[6],"i",tr+1),rr&&St.setXYAt(er[0],er[4],"v",tr),St.setXYAt(er[3],er[7],"v",tr+1)},TrimModifier.prototype.addShapes=function(er,St,tr){var rr=er.pathsData,nr=er.shape.paths.shapes,sr,ir=er.shape.paths._length,ar,or,lr=0,cr,ur,dr,hr,Ar=[],fr,mr=!0;for(tr?(ur=tr._length,fr=tr._length):(tr=shapePool.newElement(),ur=0,fr=0),Ar.push(tr),sr=0;sr<ir;sr+=1){for(dr=rr[sr].lengths,tr.c=nr[sr].c,or=nr[sr].c?dr.length:dr.length+1,ar=1;ar<or;ar+=1)if(cr=dr[ar-1],lr+cr.addedLength<St.s)lr+=cr.addedLength,tr.c=!1;else if(lr>St.e){tr.c=!1;break}else St.s<=lr&&St.e>=lr+cr.addedLength?(this.addSegment(nr[sr].v[ar-1],nr[sr].o[ar-1],nr[sr].i[ar],nr[sr].v[ar],tr,ur,mr),mr=!1):(hr=bez.getNewSegment(nr[sr].v[ar-1],nr[sr].v[ar],nr[sr].o[ar-1],nr[sr].i[ar],(St.s-lr)/cr.addedLength,(St.e-lr)/cr.addedLength,dr[ar-1]),this.addSegmentFromArray(hr,tr,ur,mr),mr=!1,tr.c=!1),lr+=cr.addedLength,ur+=1;if(nr[sr].c&&dr.length){if(cr=dr[ar-1],lr<=St.e){var pr=dr[ar-1].addedLength;St.s<=lr&&St.e>=lr+pr?(this.addSegment(nr[sr].v[ar-1],nr[sr].o[ar-1],nr[sr].i[0],nr[sr].v[0],tr,ur,mr),mr=!1):(hr=bez.getNewSegment(nr[sr].v[ar-1],nr[sr].v[0],nr[sr].o[ar-1],nr[sr].i[0],(St.s-lr)/pr,(St.e-lr)/pr,dr[ar-1]),this.addSegmentFromArray(hr,tr,ur,mr),mr=!1,tr.c=!1)}else tr.c=!1;lr+=cr.addedLength,ur+=1}if(tr._length&&(tr.setXYAt(tr.v[fr][0],tr.v[fr][1],"i",fr),tr.setXYAt(tr.v[tr._length-1][0],tr.v[tr._length-1][1],"o",tr._length-1)),lr>St.e)break;sr<ir-1&&(tr=shapePool.newElement(),mr=!0,Ar.push(tr),ur=0)}return Ar};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(er,St){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(er,St.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(er,St){var tr=St/100,rr=[0,0],nr=er._length,sr=0;for(sr=0;sr<nr;sr+=1)rr[0]+=er.v[sr][0],rr[1]+=er.v[sr][1];rr[0]/=nr,rr[1]/=nr;var ir=shapePool.newElement();ir.c=er.c;var ar,or,lr,cr,ur,dr;for(sr=0;sr<nr;sr+=1)ar=er.v[sr][0]+(rr[0]-er.v[sr][0])*tr,or=er.v[sr][1]+(rr[1]-er.v[sr][1])*tr,lr=er.o[sr][0]+(rr[0]-er.o[sr][0])*-tr,cr=er.o[sr][1]+(rr[1]-er.o[sr][1])*-tr,ur=er.i[sr][0]+(rr[0]-er.i[sr][0])*-tr,dr=er.i[sr][1]+(rr[1]-er.i[sr][1])*-tr,ir.setTripleAt(ar,or,lr,cr,ur,dr,sr);return ir},PuckerAndBloatModifier.prototype.processShapes=function(er){var St,tr,rr=this.shapes.length,nr,sr,ir=this.amount.v;if(ir!==0){var ar,or;for(tr=0;tr<rr;tr+=1){if(ar=this.shapes[tr],or=ar.localShapeCollection,!(!ar.shape._mdf&&!this._mdf&&!er))for(or.releaseShapes(),ar.shape._mdf=!0,St=ar.shape.paths.shapes,sr=ar.shape.paths._length,nr=0;nr<sr;nr+=1)or.addShape(this.processPath(St[nr],ir));ar.shape.paths=ar.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var er=[0,0];function St(or){var lr=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||lr,this.a&&or.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&or.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&or.skewFromAxis(-this.sk.v,this.sa.v),this.r?or.rotate(-this.r.v):or.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?or.translate(this.px.v,this.py.v,-this.pz.v):or.translate(this.px.v,this.py.v,0):or.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function tr(or){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||or){var lr;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var cr,ur;if(lr=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(cr=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/lr,0),ur=this.p.getValueAtTime(this.p.keyframes[0].t/lr,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(cr=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/lr,0),ur=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/lr,0)):(cr=this.p.pv,ur=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/lr,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){cr=[],ur=[];var dr=this.px,hr=this.py;dr._caching.lastFrame+dr.offsetTime<=dr.keyframes[0].t?(cr[0]=dr.getValueAtTime((dr.keyframes[0].t+.01)/lr,0),cr[1]=hr.getValueAtTime((hr.keyframes[0].t+.01)/lr,0),ur[0]=dr.getValueAtTime(dr.keyframes[0].t/lr,0),ur[1]=hr.getValueAtTime(hr.keyframes[0].t/lr,0)):dr._caching.lastFrame+dr.offsetTime>=dr.keyframes[dr.keyframes.length-1].t?(cr[0]=dr.getValueAtTime(dr.keyframes[dr.keyframes.length-1].t/lr,0),cr[1]=hr.getValueAtTime(hr.keyframes[hr.keyframes.length-1].t/lr,0),ur[0]=dr.getValueAtTime((dr.keyframes[dr.keyframes.length-1].t-.01)/lr,0),ur[1]=hr.getValueAtTime((hr.keyframes[hr.keyframes.length-1].t-.01)/lr,0)):(cr=[dr.pv,hr.pv],ur[0]=dr.getValueAtTime((dr._caching.lastFrame+dr.offsetTime-.01)/lr,dr.offsetTime),ur[1]=hr.getValueAtTime((hr._caching.lastFrame+hr.offsetTime-.01)/lr,hr.offsetTime))}else ur=er,cr=ur;this.v.rotate(-Math.atan2(cr[1]-ur[1],cr[0]-ur[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rr(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function nr(){}function sr(or){this._addDynamicProperty(or),this.elem.addDynamicProperty(or),this._isDirty=!0}function ir(or,lr,cr){if(this.elem=or,this.frameId=-1,this.propType="transform",this.data=lr,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(cr||or),lr.p&&lr.p.s?(this.px=PropertyFactory.getProp(or,lr.p.x,0,0,this),this.py=PropertyFactory.getProp(or,lr.p.y,0,0,this),lr.p.z&&(this.pz=PropertyFactory.getProp(or,lr.p.z,0,0,this))):this.p=PropertyFactory.getProp(or,lr.p||{k:[0,0,0]},1,0,this),lr.rx){if(this.rx=PropertyFactory.getProp(or,lr.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(or,lr.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(or,lr.rz,0,degToRads,this),lr.or.k[0].ti){var ur,dr=lr.or.k.length;for(ur=0;ur<dr;ur+=1)lr.or.k[ur].to=null,lr.or.k[ur].ti=null}this.or=PropertyFactory.getProp(or,lr.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(or,lr.r||{k:0},0,degToRads,this);lr.sk&&(this.sk=PropertyFactory.getProp(or,lr.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(or,lr.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(or,lr.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(or,lr.s||{k:[100,100,100]},1,.01,this),lr.o?this.o=PropertyFactory.getProp(or,lr.o,0,.01,or):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ir.prototype={applyToMatrix:St,getValue:tr,precalculateMatrix:rr,autoOrient:nr},extendPrototype([DynamicPropertyContainer],ir),ir.prototype.addDynamicProperty=sr,ir.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ar(or,lr,cr){return new ir(or,lr,cr)}return{getTransformProperty:ar}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(er,St){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(er,St.c,0,null,this),this.o=PropertyFactory.getProp(er,St.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(er,St.tr,this),this.so=PropertyFactory.getProp(er,St.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(er,St.tr.eo,0,.01,this),this.data=St,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(er,St,tr,rr,nr,sr){var ir=sr?-1:1,ar=rr.s.v[0]+(1-rr.s.v[0])*(1-nr),or=rr.s.v[1]+(1-rr.s.v[1])*(1-nr);er.translate(rr.p.v[0]*ir*nr,rr.p.v[1]*ir*nr,rr.p.v[2]),St.translate(-rr.a.v[0],-rr.a.v[1],rr.a.v[2]),St.rotate(-rr.r.v*ir*nr),St.translate(rr.a.v[0],rr.a.v[1],rr.a.v[2]),tr.translate(-rr.a.v[0],-rr.a.v[1],rr.a.v[2]),tr.scale(sr?1/ar:ar,sr?1/or:or),tr.translate(rr.a.v[0],rr.a.v[1],rr.a.v[2])},RepeaterModifier.prototype.init=function(er,St,tr,rr){for(this.elem=er,this.arr=St,this.pos=tr,this.elemsData=rr,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(er),this.initModifierProperties(er,St[tr]);tr>0;)tr-=1,this._elements.unshift(St[tr]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(er){var St,tr=er.length;for(St=0;St<tr;St+=1)er[St]._processed=!1,er[St].ty==="gr"&&this.resetElements(er[St].it)},RepeaterModifier.prototype.cloneElements=function(er){var St=JSON.parse(JSON.stringify(er));return this.resetElements(St),St},RepeaterModifier.prototype.changeGroupRender=function(er,St){var tr,rr=er.length;for(tr=0;tr<rr;tr+=1)er[tr]._render=St,er[tr].ty==="gr"&&this.changeGroupRender(er[tr].it,St)},RepeaterModifier.prototype.processShapes=function(er){var St,tr,rr,nr,sr,ir=!1;if(this._mdf||er){var ar=Math.ceil(this.c.v);if(this._groups.length<ar){for(;this._groups.length<ar;){var or={it:this.cloneElements(this._elements),ty:"gr"};or.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,or),this._groups.splice(0,0,or),this._currentCopies+=1}this.elem.reloadShapes(),ir=!0}sr=0;var lr;for(rr=0;rr<=this._groups.length-1;rr+=1){if(lr=sr<ar,this._groups[rr]._render=lr,this.changeGroupRender(this._groups[rr].it,lr),!lr){var cr=this.elemsData[rr].it,ur=cr[cr.length-1];ur.transform.op.v!==0?(ur.transform.op._mdf=!0,ur.transform.op.v=0):ur.transform.op._mdf=!1}sr+=1}this._currentCopies=ar;var dr=this.o.v,hr=dr%1,Ar=dr>0?Math.floor(dr):Math.ceil(dr),fr=this.pMatrix.props,mr=this.rMatrix.props,pr=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var gr=0;if(dr>0){for(;gr<Ar;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),gr+=1;hr&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,hr,!1),gr+=hr)}else if(dr<0){for(;gr>Ar;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),gr-=1;hr&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-hr,!0),gr-=hr)}rr=this.data.m===1?0:this._currentCopies-1,nr=this.data.m===1?1:-1,sr=this._currentCopies;for(var xr,yr;sr;){if(St=this.elemsData[rr].it,tr=St[St.length-1].transform.mProps.v.props,yr=tr.length,St[St.length-1].transform.mProps._mdf=!0,St[St.length-1].transform.op._mdf=!0,St[St.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rr/(this._currentCopies-1)),gr!==0){for((rr!==0&&nr===1||rr!==this._currentCopies-1&&nr===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(mr[0],mr[1],mr[2],mr[3],mr[4],mr[5],mr[6],mr[7],mr[8],mr[9],mr[10],mr[11],mr[12],mr[13],mr[14],mr[15]),this.matrix.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5],pr[6],pr[7],pr[8],pr[9],pr[10],pr[11],pr[12],pr[13],pr[14],pr[15]),this.matrix.transform(fr[0],fr[1],fr[2],fr[3],fr[4],fr[5],fr[6],fr[7],fr[8],fr[9],fr[10],fr[11],fr[12],fr[13],fr[14],fr[15]),xr=0;xr<yr;xr+=1)tr[xr]=this.matrix.props[xr];this.matrix.reset()}else for(this.matrix.reset(),xr=0;xr<yr;xr+=1)tr[xr]=this.matrix.props[xr];gr+=1,sr-=1,rr+=nr}}else for(sr=this._currentCopies,rr=0,nr=1;sr;)St=this.elemsData[rr].it,tr=St[St.length-1].transform.mProps.v.props,St[St.length-1].transform.mProps._mdf=!1,St[St.length-1].transform.op._mdf=!1,sr-=1,rr+=nr;return ir},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(er,St){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(er,St.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(er,St){var tr=shapePool.newElement();tr.c=er.c;var rr,nr=er._length,sr,ir,ar,or,lr,cr,ur=0,dr,hr,Ar,fr,mr,pr;for(rr=0;rr<nr;rr+=1)sr=er.v[rr],ar=er.o[rr],ir=er.i[rr],sr[0]===ar[0]&&sr[1]===ar[1]&&sr[0]===ir[0]&&sr[1]===ir[1]?(rr===0||rr===nr-1)&&!er.c?(tr.setTripleAt(sr[0],sr[1],ar[0],ar[1],ir[0],ir[1],ur),ur+=1):(rr===0?or=er.v[nr-1]:or=er.v[rr-1],lr=Math.sqrt(Math.pow(sr[0]-or[0],2)+Math.pow(sr[1]-or[1],2)),cr=lr?Math.min(lr/2,St)/lr:0,mr=sr[0]+(or[0]-sr[0])*cr,dr=mr,pr=sr[1]-(sr[1]-or[1])*cr,hr=pr,Ar=dr-(dr-sr[0])*roundCorner,fr=hr-(hr-sr[1])*roundCorner,tr.setTripleAt(dr,hr,Ar,fr,mr,pr,ur),ur+=1,rr===nr-1?or=er.v[0]:or=er.v[rr+1],lr=Math.sqrt(Math.pow(sr[0]-or[0],2)+Math.pow(sr[1]-or[1],2)),cr=lr?Math.min(lr/2,St)/lr:0,Ar=sr[0]+(or[0]-sr[0])*cr,dr=Ar,fr=sr[1]+(or[1]-sr[1])*cr,hr=fr,mr=dr-(dr-sr[0])*roundCorner,pr=hr-(hr-sr[1])*roundCorner,tr.setTripleAt(dr,hr,Ar,fr,mr,pr,ur),ur+=1):(tr.setTripleAt(er.v[rr][0],er.v[rr][1],er.o[rr][0],er.o[rr][1],er.i[rr][0],er.i[rr][1],ur),ur+=1);return tr},RoundCornersModifier.prototype.processShapes=function(er){var St,tr,rr=this.shapes.length,nr,sr,ir=this.rd.v;if(ir!==0){var ar,or;for(tr=0;tr<rr;tr+=1){if(ar=this.shapes[tr],or=ar.localShapeCollection,!(!ar.shape._mdf&&!this._mdf&&!er))for(or.releaseShapes(),ar.shape._mdf=!0,St=ar.shape.paths.shapes,sr=ar.shape.paths._length,nr=0;nr<sr;nr+=1)or.addShape(this.processPath(St[nr],ir));ar.shape.paths=ar.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(er,St){return Math.abs(er-St)*1e5<=Math.min(Math.abs(er),Math.abs(St))}function floatZero(er){return Math.abs(er)<=1e-5}function lerp(er,St,tr){return er*(1-tr)+St*tr}function lerpPoint(er,St,tr){return[lerp(er[0],St[0],tr),lerp(er[1],St[1],tr)]}function quadRoots(er,St,tr){if(er===0)return[];var rr=St*St-4*er*tr;if(rr<0)return[];var nr=-St/(2*er);if(rr===0)return[nr];var sr=Math.sqrt(rr)/(2*er);return[nr-sr,nr+sr]}function polynomialCoefficients(er,St,tr,rr){return[-er+3*St-3*tr+rr,3*er-6*St+3*tr,-3*er+3*St,er]}function singlePoint(er){return new PolynomialBezier(er,er,er,er,!1)}function PolynomialBezier(er,St,tr,rr,nr){nr&&pointEqual(er,St)&&(St=lerpPoint(er,rr,1/3)),nr&&pointEqual(tr,rr)&&(tr=lerpPoint(er,rr,2/3));var sr=polynomialCoefficients(er[0],St[0],tr[0],rr[0]),ir=polynomialCoefficients(er[1],St[1],tr[1],rr[1]);this.a=[sr[0],ir[0]],this.b=[sr[1],ir[1]],this.c=[sr[2],ir[2]],this.d=[sr[3],ir[3]],this.points=[er,St,tr,rr]}PolynomialBezier.prototype.point=function(er){return[((this.a[0]*er+this.b[0])*er+this.c[0])*er+this.d[0],((this.a[1]*er+this.b[1])*er+this.c[1])*er+this.d[1]]},PolynomialBezier.prototype.derivative=function(er){return[(3*er*this.a[0]+2*this.b[0])*er+this.c[0],(3*er*this.a[1]+2*this.b[1])*er+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(er){var St=this.derivative(er);return Math.atan2(St[1],St[0])},PolynomialBezier.prototype.normalAngle=function(er){var St=this.derivative(er);return Math.atan2(St[0],St[1])},PolynomialBezier.prototype.inflectionPoints=function(){var er=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(er))return[];var St=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/er,tr=St*St-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/er;if(tr<0)return[];var rr=Math.sqrt(tr);return floatZero(rr)?rr>0&&rr<1?[St]:[]:[St-rr,St+rr].filter(function(nr){return nr>0&&nr<1})},PolynomialBezier.prototype.split=function(er){if(er<=0)return[singlePoint(this.points[0]),this];if(er>=1)return[this,singlePoint(this.points[this.points.length-1])];var St=lerpPoint(this.points[0],this.points[1],er),tr=lerpPoint(this.points[1],this.points[2],er),rr=lerpPoint(this.points[2],this.points[3],er),nr=lerpPoint(St,tr,er),sr=lerpPoint(tr,rr,er),ir=lerpPoint(nr,sr,er);return[new PolynomialBezier(this.points[0],St,nr,ir,!0),new PolynomialBezier(ir,sr,rr,this.points[3],!0)]};function extrema(er,St){var tr=er.points[0][St],rr=er.points[er.points.length-1][St];if(tr>rr){var nr=rr;rr=tr,tr=nr}for(var sr=quadRoots(3*er.a[St],2*er.b[St],er.c[St]),ir=0;ir<sr.length;ir+=1)if(sr[ir]>0&&sr[ir]<1){var ar=er.point(sr[ir])[St];ar<tr?tr=ar:ar>rr&&(rr=ar)}return{min:tr,max:rr}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var er=this.bounds();return{left:er.x.min,right:er.x.max,top:er.y.min,bottom:er.y.max,width:er.x.max-er.x.min,height:er.y.max-er.y.min,cx:(er.x.max+er.x.min)/2,cy:(er.y.max+er.y.min)/2}};function intersectData(er,St,tr){var rr=er.boundingBox();return{cx:rr.cx,cy:rr.cy,width:rr.width,height:rr.height,bez:er,t:(St+tr)/2,t1:St,t2:tr}}function splitData(er){var St=er.bez.split(.5);return[intersectData(St[0],er.t1,er.t),intersectData(St[1],er.t,er.t2)]}function boxIntersect(er,St){return Math.abs(er.cx-St.cx)*2<er.width+St.width&&Math.abs(er.cy-St.cy)*2<er.height+St.height}function intersectsImpl(er,St,tr,rr,nr,sr){if(boxIntersect(er,St)){if(tr>=sr||er.width<=rr&&er.height<=rr&&St.width<=rr&&St.height<=rr){nr.push([er.t,St.t]);return}var ir=splitData(er),ar=splitData(St);intersectsImpl(ir[0],ar[0],tr+1,rr,nr,sr),intersectsImpl(ir[0],ar[1],tr+1,rr,nr,sr),intersectsImpl(ir[1],ar[0],tr+1,rr,nr,sr),intersectsImpl(ir[1],ar[1],tr+1,rr,nr,sr)}}PolynomialBezier.prototype.intersections=function(er,St,tr){St===void 0&&(St=2),tr===void 0&&(tr=7);var rr=[];return intersectsImpl(intersectData(this,0,1),intersectData(er,0,1),0,St,rr,tr),rr},PolynomialBezier.shapeSegment=function(er,St){var tr=(St+1)%er.length();return new PolynomialBezier(er.v[St],er.o[St],er.i[tr],er.v[tr],!0)},PolynomialBezier.shapeSegmentInverted=function(er,St){var tr=(St+1)%er.length();return new PolynomialBezier(er.v[tr],er.i[tr],er.o[St],er.v[St],!0)};function crossProduct(er,St){return[er[1]*St[2]-er[2]*St[1],er[2]*St[0]-er[0]*St[2],er[0]*St[1]-er[1]*St[0]]}function lineIntersection(er,St,tr,rr){var nr=[er[0],er[1],1],sr=[St[0],St[1],1],ir=[tr[0],tr[1],1],ar=[rr[0],rr[1],1],or=crossProduct(crossProduct(nr,sr),crossProduct(ir,ar));return floatZero(or[2])?null:[or[0]/or[2],or[1]/or[2]]}function polarOffset(er,St,tr){return[er[0]+Math.cos(St)*tr,er[1]-Math.sin(St)*tr]}function pointDistance(er,St){return Math.hypot(er[0]-St[0],er[1]-St[1])}function pointEqual(er,St){return floatEqual(er[0],St[0])&&floatEqual(er[1],St[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(er,St){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(er,St.s,0,null,this),this.frequency=PropertyFactory.getProp(er,St.r,0,null,this),this.pointsType=PropertyFactory.getProp(er,St.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(er,St,tr,rr,nr,sr,ir){var ar=tr-Math.PI/2,or=tr+Math.PI/2,lr=St[0]+Math.cos(tr)*rr*nr,cr=St[1]-Math.sin(tr)*rr*nr;er.setTripleAt(lr,cr,lr+Math.cos(ar)*sr,cr-Math.sin(ar)*sr,lr+Math.cos(or)*ir,cr-Math.sin(or)*ir,er.length())}function getPerpendicularVector(er,St){var tr=[St[0]-er[0],St[1]-er[1]],rr=-Math.PI*.5,nr=[Math.cos(rr)*tr[0]-Math.sin(rr)*tr[1],Math.sin(rr)*tr[0]+Math.cos(rr)*tr[1]];return nr}function getProjectingAngle(er,St){var tr=St===0?er.length()-1:St-1,rr=(St+1)%er.length(),nr=er.v[tr],sr=er.v[rr],ir=getPerpendicularVector(nr,sr);return Math.atan2(0,1)-Math.atan2(ir[1],ir[0])}function zigZagCorner(er,St,tr,rr,nr,sr,ir){var ar=getProjectingAngle(St,tr),or=St.v[tr%St._length],lr=St.v[tr===0?St._length-1:tr-1],cr=St.v[(tr+1)%St._length],ur=sr===2?Math.sqrt(Math.pow(or[0]-lr[0],2)+Math.pow(or[1]-lr[1],2)):0,dr=sr===2?Math.sqrt(Math.pow(or[0]-cr[0],2)+Math.pow(or[1]-cr[1],2)):0;setPoint(er,St.v[tr%St._length],ar,ir,rr,dr/((nr+1)*2),ur/((nr+1)*2))}function zigZagSegment(er,St,tr,rr,nr,sr){for(var ir=0;ir<rr;ir+=1){var ar=(ir+1)/(rr+1),or=nr===2?Math.sqrt(Math.pow(St.points[3][0]-St.points[0][0],2)+Math.pow(St.points[3][1]-St.points[0][1],2)):0,lr=St.normalAngle(ar),cr=St.point(ar);setPoint(er,cr,lr,sr,tr,or/((rr+1)*2),or/((rr+1)*2)),sr=-sr}return sr}ZigZagModifier.prototype.processPath=function(er,St,tr,rr){var nr=er._length,sr=shapePool.newElement();if(sr.c=er.c,er.c||(nr-=1),nr===0)return sr;var ir=-1,ar=PolynomialBezier.shapeSegment(er,0);zigZagCorner(sr,er,0,St,tr,rr,ir);for(var or=0;or<nr;or+=1)ir=zigZagSegment(sr,ar,St,tr,rr,-ir),or===nr-1&&!er.c?ar=null:ar=PolynomialBezier.shapeSegment(er,(or+1)%nr),zigZagCorner(sr,er,or+1,St,tr,rr,ir);return sr},ZigZagModifier.prototype.processShapes=function(er){var St,tr,rr=this.shapes.length,nr,sr,ir=this.amplitude.v,ar=Math.max(0,Math.round(this.frequency.v)),or=this.pointsType.v;if(ir!==0){var lr,cr;for(tr=0;tr<rr;tr+=1){if(lr=this.shapes[tr],cr=lr.localShapeCollection,!(!lr.shape._mdf&&!this._mdf&&!er))for(cr.releaseShapes(),lr.shape._mdf=!0,St=lr.shape.paths.shapes,sr=lr.shape.paths._length,nr=0;nr<sr;nr+=1)cr.addShape(this.processPath(St[nr],ir,ar,or));lr.shape.paths=lr.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(er,St,tr){var rr=Math.atan2(St[0]-er[0],St[1]-er[1]);return[polarOffset(er,rr,tr),polarOffset(St,rr,tr)]}function offsetSegment(er,St){var tr,rr,nr,sr,ir,ar,or;or=linearOffset(er.points[0],er.points[1],St),tr=or[0],rr=or[1],or=linearOffset(er.points[1],er.points[2],St),nr=or[0],sr=or[1],or=linearOffset(er.points[2],er.points[3],St),ir=or[0],ar=or[1];var lr=lineIntersection(tr,rr,nr,sr);lr===null&&(lr=rr);var cr=lineIntersection(ir,ar,nr,sr);return cr===null&&(cr=ir),new PolynomialBezier(tr,lr,cr,ar)}function joinLines(er,St,tr,rr,nr){var sr=St.points[3],ir=tr.points[0];if(rr===3||pointEqual(sr,ir))return sr;if(rr===2){var ar=-St.tangentAngle(1),or=-tr.tangentAngle(0)+Math.PI,lr=lineIntersection(sr,polarOffset(sr,ar+Math.PI/2,100),ir,polarOffset(ir,ar+Math.PI/2,100)),cr=lr?pointDistance(lr,sr):pointDistance(sr,ir)/2,ur=polarOffset(sr,ar,2*cr*roundCorner);return er.setXYAt(ur[0],ur[1],"o",er.length()-1),ur=polarOffset(ir,or,2*cr*roundCorner),er.setTripleAt(ir[0],ir[1],ir[0],ir[1],ur[0],ur[1],er.length()),ir}var dr=pointEqual(sr,St.points[2])?St.points[0]:St.points[2],hr=pointEqual(ir,tr.points[1])?tr.points[3]:tr.points[1],Ar=lineIntersection(dr,sr,ir,hr);return Ar&&pointDistance(Ar,sr)<nr?(er.setTripleAt(Ar[0],Ar[1],Ar[0],Ar[1],Ar[0],Ar[1],er.length()),Ar):sr}function getIntersection(er,St){var tr=er.intersections(St);return tr.length&&floatEqual(tr[0][0],1)&&tr.shift(),tr.length?tr[0]:null}function pruneSegmentIntersection(er,St){var tr=er.slice(),rr=St.slice(),nr=getIntersection(er[er.length-1],St[0]);return nr&&(tr[er.length-1]=er[er.length-1].split(nr[0])[0],rr[0]=St[0].split(nr[1])[1]),er.length>1&&St.length>1&&(nr=getIntersection(er[0],St[St.length-1]),nr)?[[er[0].split(nr[0])[0]],[St[St.length-1].split(nr[1])[1]]]:[tr,rr]}function pruneIntersections(er){for(var St,tr=1;tr<er.length;tr+=1)St=pruneSegmentIntersection(er[tr-1],er[tr]),er[tr-1]=St[0],er[tr]=St[1];return er.length>1&&(St=pruneSegmentIntersection(er[er.length-1],er[0]),er[er.length-1]=St[0],er[0]=St[1]),er}function offsetSegmentSplit(er,St){var tr=er.inflectionPoints(),rr,nr,sr,ir;if(tr.length===0)return[offsetSegment(er,St)];if(tr.length===1||floatEqual(tr[1],1))return sr=er.split(tr[0]),rr=sr[0],nr=sr[1],[offsetSegment(rr,St),offsetSegment(nr,St)];sr=er.split(tr[0]),rr=sr[0];var ar=(tr[1]-tr[0])/(1-tr[0]);return sr=sr[1].split(ar),ir=sr[0],nr=sr[1],[offsetSegment(rr,St),offsetSegment(ir,St),offsetSegment(nr,St)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(er,St){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(er,St.a,0,null,this),this.miterLimit=PropertyFactory.getProp(er,St.ml,0,null,this),this.lineJoin=St.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(er,St,tr,rr){var nr=shapePool.newElement();nr.c=er.c;var sr=er.length();er.c||(sr-=1);var ir,ar,or,lr=[];for(ir=0;ir<sr;ir+=1)or=PolynomialBezier.shapeSegment(er,ir),lr.push(offsetSegmentSplit(or,St));if(!er.c)for(ir=sr-1;ir>=0;ir-=1)or=PolynomialBezier.shapeSegmentInverted(er,ir),lr.push(offsetSegmentSplit(or,St));lr=pruneIntersections(lr);var cr=null,ur=null;for(ir=0;ir<lr.length;ir+=1){var dr=lr[ir];for(ur&&(cr=joinLines(nr,ur,dr[0],tr,rr)),ur=dr[dr.length-1],ar=0;ar<dr.length;ar+=1)or=dr[ar],cr&&pointEqual(or.points[0],cr)?nr.setXYAt(or.points[1][0],or.points[1][1],"o",nr.length()-1):nr.setTripleAt(or.points[0][0],or.points[0][1],or.points[1][0],or.points[1][1],or.points[0][0],or.points[0][1],nr.length()),nr.setTripleAt(or.points[3][0],or.points[3][1],or.points[3][0],or.points[3][1],or.points[2][0],or.points[2][1],nr.length()),cr=or.points[3]}return lr.length&&joinLines(nr,ur,lr[0][0],tr,rr),nr},OffsetPathModifier.prototype.processShapes=function(er){var St,tr,rr=this.shapes.length,nr,sr,ir=this.amount.v,ar=this.miterLimit.v,or=this.lineJoin;if(ir!==0){var lr,cr;for(tr=0;tr<rr;tr+=1){if(lr=this.shapes[tr],cr=lr.localShapeCollection,!(!lr.shape._mdf&&!this._mdf&&!er))for(cr.releaseShapes(),lr.shape._mdf=!0,St=lr.shape.paths.shapes,sr=lr.shape.paths._length,nr=0;nr<sr;nr+=1)cr.addShape(this.processPath(St[nr],ir,or,ar));lr.shape.paths=lr.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(er){for(var St=er.fStyle?er.fStyle.split(" "):[],tr="normal",rr="normal",nr=St.length,sr,ir=0;ir<nr;ir+=1)switch(sr=St[ir].toLowerCase(),sr){case"italic":rr="italic";break;case"bold":tr="700";break;case"black":tr="900";break;case"medium":tr="500";break;case"regular":case"normal":tr="400";break;case"light":case"thin":tr="200";break}return{style:rr,weight:er.fWeight||tr}}var FontManager=function(){var er=5e3,St={w:0,size:0,shapes:[],data:{shapes:[]}},tr=[];tr=tr.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rr=127988,nr=917631,sr=917601,ir=917626,ar=65039,or=8205,lr=127462,cr=127487,ur=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function dr($r){var Vr=$r.split(","),Tr,Fr=Vr.length,Wr=[];for(Tr=0;Tr<Fr;Tr+=1)Vr[Tr]!=="sans-serif"&&Vr[Tr]!=="monospace"&&Wr.push(Vr[Tr]);return Wr.join(",")}function hr($r,Vr){var Tr=createTag("span");Tr.setAttribute("aria-hidden",!0),Tr.style.fontFamily=Vr;var Fr=createTag("span");Fr.innerText="giItT1WQy@!-/#",Tr.style.position="absolute",Tr.style.left="-10000px",Tr.style.top="-10000px",Tr.style.fontSize="300px",Tr.style.fontVariant="normal",Tr.style.fontStyle="normal",Tr.style.fontWeight="normal",Tr.style.letterSpacing="0",Tr.appendChild(Fr),document.body.appendChild(Tr);var Wr=Fr.offsetWidth;return Fr.style.fontFamily=dr($r)+", "+Vr,{node:Fr,w:Wr,parent:Tr}}function Ar(){var $r,Vr=this.fonts.length,Tr,Fr,Wr=Vr;for($r=0;$r<Vr;$r+=1)this.fonts[$r].loaded?Wr-=1:this.fonts[$r].fOrigin==="n"||this.fonts[$r].origin===0?this.fonts[$r].loaded=!0:(Tr=this.fonts[$r].monoCase.node,Fr=this.fonts[$r].monoCase.w,Tr.offsetWidth!==Fr?(Wr-=1,this.fonts[$r].loaded=!0):(Tr=this.fonts[$r].sansCase.node,Fr=this.fonts[$r].sansCase.w,Tr.offsetWidth!==Fr&&(Wr-=1,this.fonts[$r].loaded=!0)),this.fonts[$r].loaded&&(this.fonts[$r].sansCase.parent.parentNode.removeChild(this.fonts[$r].sansCase.parent),this.fonts[$r].monoCase.parent.parentNode.removeChild(this.fonts[$r].monoCase.parent)));Wr!==0&&Date.now()-this.initTime<er?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function fr($r,Vr){var Tr=document.body&&Vr?"svg":"canvas",Fr,Wr=getFontProperties($r);if(Tr==="svg"){var qr=createNS("text");qr.style.fontSize="100px",qr.setAttribute("font-family",$r.fFamily),qr.setAttribute("font-style",Wr.style),qr.setAttribute("font-weight",Wr.weight),qr.textContent="1",$r.fClass?(qr.style.fontFamily="inherit",qr.setAttribute("class",$r.fClass)):qr.style.fontFamily=$r.fFamily,Vr.appendChild(qr),Fr=qr}else{var Rr=new OffscreenCanvas(500,500).getContext("2d");Rr.font=Wr.style+" "+Wr.weight+" 100px "+$r.fFamily,Fr=Rr}function Or(Hr){return Tr==="svg"?(Fr.textContent=Hr,Fr.getComputedTextLength()):Fr.measureText(Hr).width}return{measureText:Or}}function mr($r,Vr){if(!$r){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=$r.list;return}if(!document.body){this.isLoaded=!0,$r.list.forEach(function(vn){vn.helper=fr(vn),vn.cache={}}),this.fonts=$r.list;return}var Tr=$r.list,Fr,Wr=Tr.length,qr=Wr;for(Fr=0;Fr<Wr;Fr+=1){var Rr=!0,Or,Hr;if(Tr[Fr].loaded=!1,Tr[Fr].monoCase=hr(Tr[Fr].fFamily,"monospace"),Tr[Fr].sansCase=hr(Tr[Fr].fFamily,"sans-serif"),!Tr[Fr].fPath)Tr[Fr].loaded=!0,qr-=1;else if(Tr[Fr].fOrigin==="p"||Tr[Fr].origin===3){if(Or=document.querySelectorAll('style[f-forigin="p"][f-family="'+Tr[Fr].fFamily+'"], style[f-origin="3"][f-family="'+Tr[Fr].fFamily+'"]'),Or.length>0&&(Rr=!1),Rr){var zr=createTag("style");zr.setAttribute("f-forigin",Tr[Fr].fOrigin),zr.setAttribute("f-origin",Tr[Fr].origin),zr.setAttribute("f-family",Tr[Fr].fFamily),zr.type="text/css",zr.innerText="@font-face {font-family: "+Tr[Fr].fFamily+"; font-style: normal; src: url('"+Tr[Fr].fPath+"');}",Vr.appendChild(zr)}}else if(Tr[Fr].fOrigin==="g"||Tr[Fr].origin===1){for(Or=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Hr=0;Hr<Or.length;Hr+=1)Or[Hr].href.indexOf(Tr[Fr].fPath)!==-1&&(Rr=!1);if(Rr){var Zr=createTag("link");Zr.setAttribute("f-forigin",Tr[Fr].fOrigin),Zr.setAttribute("f-origin",Tr[Fr].origin),Zr.type="text/css",Zr.rel="stylesheet",Zr.href=Tr[Fr].fPath,document.body.appendChild(Zr)}}else if(Tr[Fr].fOrigin==="t"||Tr[Fr].origin===2){for(Or=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Hr=0;Hr<Or.length;Hr+=1)Tr[Fr].fPath===Or[Hr].src&&(Rr=!1);if(Rr){var nn=createTag("link");nn.setAttribute("f-forigin",Tr[Fr].fOrigin),nn.setAttribute("f-origin",Tr[Fr].origin),nn.setAttribute("rel","stylesheet"),nn.setAttribute("href",Tr[Fr].fPath),Vr.appendChild(nn)}}Tr[Fr].helper=fr(Tr[Fr],Vr),Tr[Fr].cache={},this.fonts.push(Tr[Fr])}qr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function pr($r){if($r){this.chars||(this.chars=[]);var Vr,Tr=$r.length,Fr,Wr=this.chars.length,qr;for(Vr=0;Vr<Tr;Vr+=1){for(Fr=0,qr=!1;Fr<Wr;)this.chars[Fr].style===$r[Vr].style&&this.chars[Fr].fFamily===$r[Vr].fFamily&&this.chars[Fr].ch===$r[Vr].ch&&(qr=!0),Fr+=1;qr||(this.chars.push($r[Vr]),Wr+=1)}}}function gr($r,Vr,Tr){for(var Fr=0,Wr=this.chars.length;Fr<Wr;){if(this.chars[Fr].ch===$r&&this.chars[Fr].style===Vr&&this.chars[Fr].fFamily===Tr)return this.chars[Fr];Fr+=1}return(typeof $r=="string"&&$r.charCodeAt(0)!==13||!$r)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",$r,Vr,Tr)),St}function xr($r,Vr,Tr){var Fr=this.getFontByName(Vr),Wr=$r;if(!Fr.cache[Wr]){var qr=Fr.helper;if($r===" "){var Rr=qr.measureText("|"+$r+"|"),Or=qr.measureText("||");Fr.cache[Wr]=(Rr-Or)/100}else Fr.cache[Wr]=qr.measureText($r)/100}return Fr.cache[Wr]*Tr}function yr($r){for(var Vr=0,Tr=this.fonts.length;Vr<Tr;){if(this.fonts[Vr].fName===$r)return this.fonts[Vr];Vr+=1}return this.fonts[0]}function Er($r){var Vr=0,Tr=$r.charCodeAt(0);if(Tr>=55296&&Tr<=56319){var Fr=$r.charCodeAt(1);Fr>=56320&&Fr<=57343&&(Vr=(Tr-55296)*1024+Fr-56320+65536)}return Vr}function _r($r,Vr){var Tr=$r.toString(16)+Vr.toString(16);return ur.indexOf(Tr)!==-1}function Sr($r){return $r===or}function jr($r){return $r===ar}function Pr($r){var Vr=Er($r);return Vr>=lr&&Vr<=cr}function Mr($r){return Pr($r.substr(0,2))&&Pr($r.substr(2,2))}function Ir($r){return tr.indexOf($r)!==-1}function Lr($r,Vr){var Tr=Er($r.substr(Vr,2));if(Tr!==rr)return!1;var Fr=0;for(Vr+=2;Fr<5;){if(Tr=Er($r.substr(Vr,2)),Tr<sr||Tr>ir)return!1;Fr+=1,Vr+=2}return Er($r.substr(Vr,2))===nr}function Qr(){this.isLoaded=!0}var Yr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Yr.isModifier=_r,Yr.isZeroWidthJoiner=Sr,Yr.isFlagEmoji=Mr,Yr.isRegionalCode=Pr,Yr.isCombinedCharacter=Ir,Yr.isRegionalFlag=Lr,Yr.isVariationSelector=jr,Yr.BLACK_FLAG_CODE_POINT=rr;var Gr={addChars:pr,addFonts:mr,getCharData:gr,getFontByName:yr,measureText:xr,checkLoadedFonts:Ar,setIsLoaded:Qr};return Yr.prototype=Gr,Yr}();function SlotManager(er){this.animationData=er}SlotManager.prototype.getProp=function(er){return this.animationData.slots&&this.animationData.slots[er.sid]?Object.assign(er,this.animationData.slots[er.sid].p):er};function slotFactory(er){return new SlotManager(er)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(St){this.renderableComponents.indexOf(St)===-1&&this.renderableComponents.push(St)},removeRenderableComponent:function(St){this.renderableComponents.indexOf(St)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(St),1)},prepareRenderableFrame:function(St){this.checkLayerLimits(St)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(St){this.data.ip-this.data.st<=St&&this.data.op-this.data.st>St?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var St,tr=this.renderableComponents.length;for(St=0;St<tr;St+=1)this.renderableComponents[St].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var er={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(St){return er[St]||""}}();function SliderEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,0,0,tr)}function AngleEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,0,0,tr)}function ColorEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,1,0,tr)}function PointEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,1,0,tr)}function LayerIndexEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,0,0,tr)}function MaskIndexEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,0,0,tr)}function CheckboxEffect(er,St,tr){this.p=PropertyFactory.getProp(St,er.v,0,0,tr)}function NoValueEffect(){this.p={}}function EffectsManager(er,St){var tr=er.ef||[];this.effectElements=[];var rr,nr=tr.length,sr;for(rr=0;rr<nr;rr+=1)sr=new GroupEffect(tr[rr],St),this.effectElements.push(sr)}function GroupEffect(er,St){this.init(er,St)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(er,St){this.data=er,this.effectElements=[],this.initDynamicPropertyContainer(St);var tr,rr=this.data.ef.length,nr,sr=this.data.ef;for(tr=0;tr<rr;tr+=1){switch(nr=null,sr[tr].ty){case 0:nr=new SliderEffect(sr[tr],St,this);break;case 1:nr=new AngleEffect(sr[tr],St,this);break;case 2:nr=new ColorEffect(sr[tr],St,this);break;case 3:nr=new PointEffect(sr[tr],St,this);break;case 4:case 7:nr=new CheckboxEffect(sr[tr],St,this);break;case 10:nr=new LayerIndexEffect(sr[tr],St,this);break;case 11:nr=new MaskIndexEffect(sr[tr],St,this);break;case 5:nr=new EffectsManager(sr[tr],St);break;default:nr=new NoValueEffect(sr[tr]);break}nr&&this.effectElements.push(nr)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var St=0,tr=this.data.masksProperties.length;St<tr;){if(this.data.masksProperties[St].mode!=="n"&&this.data.masksProperties[St].cl!==!1)return!0;St+=1}return!1},initExpressions:function(){var St=getExpressionInterfaces();if(St){var tr=St("layer"),rr=St("effects"),nr=St("shape"),sr=St("text"),ir=St("comp");this.layerInterface=tr(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ar=rr.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ar),this.data.ty===0||this.data.xt?this.compInterface=ir(this):this.data.ty===4?(this.layerInterface.shapeInterface=nr(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=sr(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var St=getBlendMode(this.data.bm),tr=this.baseElement||this.layerElement;tr.style["mix-blend-mode"]=St},initBaseData:function(St,tr,rr){this.globalData=tr,this.comp=rr,this.data=St,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(St,tr){var rr,nr=this.dynamicProperties.length;for(rr=0;rr<nr;rr+=1)(tr||this._isParent&&this.dynamicProperties[rr].propType==="transform")&&(this.dynamicProperties[rr].getValue(),this.dynamicProperties[rr]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(St){this.dynamicProperties.indexOf(St)===-1&&this.dynamicProperties.push(St)}};function FootageElement(er,St,tr){this.initFrame(),this.initRenderable(),this.assetData=St.getAssetData(er.refId),this.footageData=St.imageLoader.getAsset(this.assetData),this.initBaseData(er,St,tr)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var er=getExpressionInterfaces();if(er){var St=er("footage");this.layerInterface=St(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(er,St,tr){this.initFrame(),this.initRenderable(),this.assetData=St.getAssetData(er.refId),this.initBaseData(er,St,tr),this._isPlaying=!1,this._canPlay=!1;var rr=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rr),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=er.tm?PropertyFactory.getProp(this,er.tm,0,St.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,er.au&&er.au.lv?er.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(er){if(this.prepareRenderableFrame(er,!0),this.prepareProperties(er,!0),this.tm._placeholder)this._currentTime=er/this.data.sr;else{var St=this.tm.v;this._currentTime=St}this._volume=this.lv.v[0];var tr=this._volume*this._volumeMultiplier;this._previousVolume!==tr&&(this._previousVolume=tr,this.audio.volume(tr))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(er){this.audio.rate(er)},AudioElement.prototype.volume=function(er){this._volumeMultiplier=er,this._previousVolume=er*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(er){var St,tr=this.layers.length,rr;for(this.completeLayers=!0,St=tr-1;St>=0;St-=1)this.elements[St]||(rr=this.layers[St],rr.ip-rr.st<=er-this.layers[St].st&&rr.op-rr.st>er-this.layers[St].st&&this.buildItem(St)),this.completeLayers=this.elements[St]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(er){switch(er.ty){case 2:return this.createImage(er);case 0:return this.createComp(er);case 1:return this.createSolid(er);case 3:return this.createNull(er);case 4:return this.createShape(er);case 5:return this.createText(er);case 6:return this.createAudio(er);case 13:return this.createCamera(er);case 15:return this.createFootage(er);default:return this.createNull(er)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(er){return new AudioElement(er,this.globalData,this)},BaseRenderer.prototype.createFootage=function(er){return new FootageElement(er,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var er,St=this.layers.length;for(er=0;er<St;er+=1)this.buildItem(er);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(er){this.completeLayers=!1;var St,tr=er.length,rr,nr=this.layers.length;for(St=0;St<tr;St+=1)for(rr=0;rr<nr;){if(this.layers[rr].id===er[St].id){this.layers[rr]=er[St];break}rr+=1}},BaseRenderer.prototype.setProjectInterface=function(er){this.globalData.projectInterface=er},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(er,St,tr){for(var rr=this.elements,nr=this.layers,sr=0,ir=nr.length;sr<ir;)nr[sr].ind==St&&(!rr[sr]||rr[sr]===!0?(this.buildItem(sr),this.addPendingElement(er)):(tr.push(rr[sr]),rr[sr].setAsParent(),nr[sr].parent!==void 0?this.buildElementParenting(er,nr[sr].parent,tr):er.setHierarchy(tr))),sr+=1},BaseRenderer.prototype.addPendingElement=function(er){this.pendingElements.push(er)},BaseRenderer.prototype.searchExtraCompositions=function(er){var St,tr=er.length;for(St=0;St<tr;St+=1)if(er[St].xt){var rr=this.createComp(er[St]);rr.initExpressions(),this.globalData.projectInterface.registerComposition(rr)}},BaseRenderer.prototype.getElementById=function(er){var St,tr=this.elements.length;for(St=0;St<tr;St+=1)if(this.elements[St].data.ind===er)return this.elements[St];return null},BaseRenderer.prototype.getElementByPath=function(er){var St=er.shift(),tr;if(typeof St=="number")tr=this.elements[St];else{var rr,nr=this.elements.length;for(rr=0;rr<nr;rr+=1)if(this.elements[rr].data.nm===St){tr=this.elements[rr];break}}return er.length===0?tr:tr.getElementByPath(er)},BaseRenderer.prototype.setupGlobalData=function(er,St){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(er),this.globalData.fontManager.addChars(er.chars),this.globalData.fontManager.addFonts(er.fonts,St),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=er.fr,this.globalData.nm=er.nm,this.globalData.compSize={w:er.w,h:er.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var St=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:St,localMat:St,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var St,tr=this.finalTransform.mat,rr=0,nr=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rr<nr;){if(this.hierarchy[rr].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rr+=1}if(this.finalTransform._matMdf)for(St=this.finalTransform.mProp.v.props,tr.cloneFromProps(St),rr=0;rr<nr;rr+=1)tr.multiply(this.hierarchy[rr].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var St=0,tr=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;St<tr;)this.localTransforms[St]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[St]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),St+=1;if(this.finalTransform._localMatMdf){var rr=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(rr),St=1;St<tr;St+=1){var nr=this.localTransforms[St].matrix;rr.multiply(nr)}rr.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var sr=this.finalTransform.localOpacity;for(St=0;St<tr;St+=1)sr*=this.localTransforms[St].opacity*.01;this.finalTransform.localOpacity=sr}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var St=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(St.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var tr=0,rr=St.length;for(tr=0;tr<rr;tr+=1)this.localTransforms.push(St[tr])}}},globalToLocal:function(St){var tr=[];tr.push(this.finalTransform);for(var rr=!0,nr=this.comp;rr;)nr.finalTransform?(nr.data.hasMask&&tr.splice(0,0,nr.finalTransform),nr=nr.comp):rr=!1;var sr,ir=tr.length,ar;for(sr=0;sr<ir;sr+=1)ar=tr[sr].mat.applyToPointArray(0,0,0),St=[St[0]-ar[0],St[1]-ar[1],0];return St},mHelper:new Matrix};function MaskElement(er,St,tr){this.data=er,this.element=St,this.globalData=tr,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rr=this.globalData.defs,nr,sr=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(sr),this.solidPath="";var ir,ar=this.masksProperties,or=0,lr=[],cr,ur,dr=createElementID(),hr,Ar,fr,mr,pr="clipPath",gr="clip-path";for(nr=0;nr<sr;nr+=1)if((ar[nr].mode!=="a"&&ar[nr].mode!=="n"||ar[nr].inv||ar[nr].o.k!==100||ar[nr].o.x)&&(pr="mask",gr="mask"),(ar[nr].mode==="s"||ar[nr].mode==="i")&&or===0?(hr=createNS("rect"),hr.setAttribute("fill","#ffffff"),hr.setAttribute("width",this.element.comp.data.w||0),hr.setAttribute("height",this.element.comp.data.h||0),lr.push(hr)):hr=null,ir=createNS("path"),ar[nr].mode==="n")this.viewData[nr]={op:PropertyFactory.getProp(this.element,ar[nr].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ar[nr],3),elem:ir,lastPath:""},rr.appendChild(ir);else{or+=1,ir.setAttribute("fill",ar[nr].mode==="s"?"#000000":"#ffffff"),ir.setAttribute("clip-rule","nonzero");var xr;if(ar[nr].x.k!==0?(pr="mask",gr="mask",mr=PropertyFactory.getProp(this.element,ar[nr].x,0,null,this.element),xr=createElementID(),Ar=createNS("filter"),Ar.setAttribute("id",xr),fr=createNS("feMorphology"),fr.setAttribute("operator","erode"),fr.setAttribute("in","SourceGraphic"),fr.setAttribute("radius","0"),Ar.appendChild(fr),rr.appendChild(Ar),ir.setAttribute("stroke",ar[nr].mode==="s"?"#000000":"#ffffff")):(fr=null,mr=null),this.storedData[nr]={elem:ir,x:mr,expan:fr,lastPath:"",lastOperator:"",filterId:xr,lastRadius:0},ar[nr].mode==="i"){ur=lr.length;var yr=createNS("g");for(cr=0;cr<ur;cr+=1)yr.appendChild(lr[cr]);var Er=createNS("mask");Er.setAttribute("mask-type","alpha"),Er.setAttribute("id",dr+"_"+or),Er.appendChild(ir),rr.appendChild(Er),yr.setAttribute("mask","url("+getLocationHref()+"#"+dr+"_"+or+")"),lr.length=0,lr.push(yr)}else lr.push(ir);ar[nr].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nr]={elem:ir,lastPath:"",op:PropertyFactory.getProp(this.element,ar[nr].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ar[nr],3),invRect:hr},this.viewData[nr].prop.k||this.drawPath(ar[nr],this.viewData[nr].prop.v,this.viewData[nr])}for(this.maskElement=createNS(pr),sr=lr.length,nr=0;nr<sr;nr+=1)this.maskElement.appendChild(lr[nr]);or>0&&(this.maskElement.setAttribute("id",dr),this.element.maskedElement.setAttribute(gr,"url("+getLocationHref()+"#"+dr+")"),rr.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(er){return this.viewData[er].prop},MaskElement.prototype.renderFrame=function(er){var St=this.element.finalTransform.mat,tr,rr=this.masksProperties.length;for(tr=0;tr<rr;tr+=1)if((this.viewData[tr].prop._mdf||er)&&this.drawPath(this.masksProperties[tr],this.viewData[tr].prop.v,this.viewData[tr]),(this.viewData[tr].op._mdf||er)&&this.viewData[tr].elem.setAttribute("fill-opacity",this.viewData[tr].op.v),this.masksProperties[tr].mode!=="n"&&(this.viewData[tr].invRect&&(this.element.finalTransform.mProp._mdf||er)&&this.viewData[tr].invRect.setAttribute("transform",St.getInverseMatrix().to2dCSS()),this.storedData[tr].x&&(this.storedData[tr].x._mdf||er))){var nr=this.storedData[tr].expan;this.storedData[tr].x.v<0?(this.storedData[tr].lastOperator!=="erode"&&(this.storedData[tr].lastOperator="erode",this.storedData[tr].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[tr].filterId+")")),nr.setAttribute("radius",-this.storedData[tr].x.v)):(this.storedData[tr].lastOperator!=="dilate"&&(this.storedData[tr].lastOperator="dilate",this.storedData[tr].elem.setAttribute("filter",null)),this.storedData[tr].elem.setAttribute("stroke-width",this.storedData[tr].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var er="M0,0 ";return er+=" h"+this.globalData.compSize.w,er+=" v"+this.globalData.compSize.h,er+=" h-"+this.globalData.compSize.w,er+=" v-"+this.globalData.compSize.h+" ",er},MaskElement.prototype.drawPath=function(er,St,tr){var rr=" M"+St.v[0][0]+","+St.v[0][1],nr,sr;for(sr=St._length,nr=1;nr<sr;nr+=1)rr+=" C"+St.o[nr-1][0]+","+St.o[nr-1][1]+" "+St.i[nr][0]+","+St.i[nr][1]+" "+St.v[nr][0]+","+St.v[nr][1];if(St.c&&sr>1&&(rr+=" C"+St.o[nr-1][0]+","+St.o[nr-1][1]+" "+St.i[0][0]+","+St.i[0][1]+" "+St.v[0][0]+","+St.v[0][1]),tr.lastPath!==rr){var ir="";tr.elem&&(St.c&&(ir=er.inv?this.solidPath+rr:rr),tr.elem.setAttribute("d",ir)),tr.lastPath=rr}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var er={};er.createFilter=St,er.createAlphaToLuminanceFilter=tr;function St(rr,nr){var sr=createNS("filter");return sr.setAttribute("id",rr),nr!==!0&&(sr.setAttribute("filterUnits","objectBoundingBox"),sr.setAttribute("x","0%"),sr.setAttribute("y","0%"),sr.setAttribute("width","100%"),sr.setAttribute("height","100%")),sr}function tr(){var rr=createNS("feColorMatrix");return rr.setAttribute("type","matrix"),rr.setAttribute("color-interpolation-filters","sRGB"),rr.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rr}return er}(),featureSupport=function(){var er={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(er.maskType=!1),/firefox/i.test(navigator.userAgent)&&(er.svgLumaHidden=!1),er}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(er){var St,tr="SourceGraphic",rr=er.data.ef?er.data.ef.length:0,nr=createElementID(),sr=filtersFactory.createFilter(nr,!0),ir=0;this.filters=[];var ar;for(St=0;St<rr;St+=1){ar=null;var or=er.data.ef[St].ty;if(registeredEffects$1[or]){var lr=registeredEffects$1[or].effect;ar=new lr(sr,er.effectsManager.effectElements[St],er,idPrefix+ir,tr),tr=idPrefix+ir,registeredEffects$1[or].countsAsEffect&&(ir+=1)}ar&&this.filters.push(ar)}ir&&(er.globalData.defs.appendChild(sr),er.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+nr+")")),this.filters.length&&er.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(er){var St,tr=this.filters.length;for(St=0;St<tr;St+=1)this.filters[St].renderFrame(er)},SVGEffects.prototype.getEffects=function(er){var St,tr=this.filters.length,rr=[];for(St=0;St<tr;St+=1)this.filters[St].type===er&&rr.push(this.filters[St]);return rr};function registerEffect$1(er,St,tr){registeredEffects$1[er]={effect:St,countsAsEffect:tr}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var St=null;if(this.data.td){this.matteMasks={};var tr=createNS("g");tr.setAttribute("id",this.layerId),tr.appendChild(this.layerElement),St=tr,this.globalData.defs.appendChild(tr)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),St=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rr=createNS("clipPath"),nr=createNS("path");nr.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var sr=createElementID();if(rr.setAttribute("id",sr),rr.appendChild(nr),this.globalData.defs.appendChild(rr),this.checkMasks()){var ir=createNS("g");ir.setAttribute("clip-path","url("+getLocationHref()+"#"+sr+")"),ir.appendChild(this.layerElement),this.transformedElement=ir,St?St.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+sr+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(St){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[St]){var tr=this.layerId+"_"+St,rr,nr,sr,ir;if(St===1||St===3){var ar=createNS("mask");ar.setAttribute("id",tr),ar.setAttribute("mask-type",St===3?"luminance":"alpha"),sr=createNS("use"),sr.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ar.appendChild(sr),this.globalData.defs.appendChild(ar),!featureSupport.maskType&&St===1&&(ar.setAttribute("mask-type","luminance"),rr=createElementID(),nr=filtersFactory.createFilter(rr),this.globalData.defs.appendChild(nr),nr.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ir=createNS("g"),ir.appendChild(sr),ar.appendChild(ir),ir.setAttribute("filter","url("+getLocationHref()+"#"+rr+")"))}else if(St===2){var or=createNS("mask");or.setAttribute("id",tr),or.setAttribute("mask-type","alpha");var lr=createNS("g");or.appendChild(lr),rr=createElementID(),nr=filtersFactory.createFilter(rr);var cr=createNS("feComponentTransfer");cr.setAttribute("in","SourceGraphic"),nr.appendChild(cr);var ur=createNS("feFuncA");ur.setAttribute("type","table"),ur.setAttribute("tableValues","1.0 0.0"),cr.appendChild(ur),this.globalData.defs.appendChild(nr);var dr=createNS("rect");dr.setAttribute("width",this.comp.data.w),dr.setAttribute("height",this.comp.data.h),dr.setAttribute("x","0"),dr.setAttribute("y","0"),dr.setAttribute("fill","#ffffff"),dr.setAttribute("opacity","0"),lr.setAttribute("filter","url("+getLocationHref()+"#"+rr+")"),lr.appendChild(dr),sr=createNS("use"),sr.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),lr.appendChild(sr),featureSupport.maskType||(or.setAttribute("mask-type","luminance"),nr.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ir=createNS("g"),lr.appendChild(dr),ir.appendChild(this.layerElement),lr.appendChild(ir)),this.globalData.defs.appendChild(or)}this.matteMasks[St]=tr}return this.matteMasks[St]},setMatte:function(St){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+St+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(St){this.hierarchy=St},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var er={initElement:function(tr,rr,nr){this.initFrame(),this.initBaseData(tr,rr,nr),this.initTransform(tr,rr,nr),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var tr=this.baseElement||this.layerElement;tr.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var tr=this.baseElement||this.layerElement;tr.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(tr){this._mdf=!1,this.prepareRenderableFrame(tr),this.prepareProperties(tr,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(er)],RenderableDOMElement)})();function IImageElement(er,St,tr){this.assetData=St.getAssetData(er.refId),this.assetData&&this.assetData.sid&&(this.assetData=St.slotManager.getProp(this.assetData)),this.initElement(er,St,tr),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var er=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",er),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(er,St){this.elem=er,this.pos=St}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(St){var tr,rr=this.shapeModifiers.length;for(tr=0;tr<rr;tr+=1)this.shapeModifiers[tr].addShape(St)},isShapeInAnimatedModifiers:function(St){for(var tr=0,rr=this.shapeModifiers.length;tr<rr;)if(this.shapeModifiers[tr].isAnimatedWithShape(St))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var St,tr=this.shapes.length;for(St=0;St<tr;St+=1)this.shapes[St].sh.reset();tr=this.shapeModifiers.length;var rr;for(St=tr-1;St>=0&&(rr=this.shapeModifiers[St].processShapes(this._isFirstFrame),!rr);St-=1);}},searchProcessedElement:function(St){for(var tr=this.processedElements,rr=0,nr=tr.length;rr<nr;){if(tr[rr].elem===St)return tr[rr].pos;rr+=1}return 0},addProcessedElement:function(St,tr){for(var rr=this.processedElements,nr=rr.length;nr;)if(nr-=1,rr[nr].elem===St){rr[nr].pos=tr;return}rr.push(new ProcessedElement(St,tr))},prepareFrame:function(St){this.prepareRenderableFrame(St),this.prepareProperties(St,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(er,St,tr){this.caches=[],this.styles=[],this.transformers=er,this.lStr="",this.sh=tr,this.lvl=St,this._isAnimated=!!tr.k;for(var rr=0,nr=er.length;rr<nr;){if(er[rr].mProps.dynamicProperties.length){this._isAnimated=!0;break}rr+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(er,St){this.data=er,this.type=er.ty,this.d="",this.lvl=St,this._mdf=!1,this.closed=er.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(er,St,tr,rr){this.elem=er,this.frameId=-1,this.dataProps=createSizedArray(St.length),this.renderer=tr,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",St.length?St.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rr);var nr,sr=St.length||0,ir;for(nr=0;nr<sr;nr+=1)ir=PropertyFactory.getProp(er,St[nr].v,0,0,this),this.k=ir.k||this.k,this.dataProps[nr]={n:St[nr].n,p:ir};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(er){if(!(this.elem.globalData.frameId===this.frameId&&!er)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||er,this._mdf)){var St=0,tr=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),St=0;St<tr;St+=1)this.dataProps[St].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[St].p.v:this.dashArray[St]=this.dataProps[St].p.v:this.dashoffset[0]=this.dataProps[St].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(er,St,tr){this.initDynamicPropertyContainer(er),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(er,St.o,0,.01,this),this.w=PropertyFactory.getProp(er,St.w,0,null,this),this.d=new DashProperty(er,St.d||{},"svg",this),this.c=PropertyFactory.getProp(er,St.c,1,255,this),this.style=tr,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(er,St,tr){this.initDynamicPropertyContainer(er),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(er,St.o,0,.01,this),this.c=PropertyFactory.getProp(er,St.c,1,255,this),this.style=tr}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(er,St,tr){this.initDynamicPropertyContainer(er),this.getValue=this.iterateDynamicProperties,this.style=tr}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(er,St,tr){this.data=St,this.c=createTypedArray("uint8c",St.p*4);var rr=St.k.k[0].s?St.k.k[0].s.length-St.p*4:St.k.k.length-St.p*4;this.o=createTypedArray("float32",rr),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rr,this.initDynamicPropertyContainer(tr),this.prop=PropertyFactory.getProp(er,St.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(er,St){for(var tr=0,rr=this.o.length/2,nr;tr<rr;){if(nr=Math.abs(er[tr*4]-er[St*4+tr*2]),nr>.01)return!1;tr+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var er=0,St=this.data.k.k.length;er<St;){if(!this.comparePoints(this.data.k.k[er].s,this.data.p))return!1;er+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(er){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||er){var St,tr=this.data.p*4,rr,nr;for(St=0;St<tr;St+=1)rr=St%4===0?100:255,nr=Math.round(this.prop.v[St]*rr),this.c[St]!==nr&&(this.c[St]=nr,this._cmdf=!er);if(this.o.length)for(tr=this.prop.v.length,St=this.data.p*4;St<tr;St+=1)rr=St%2===0?100:1,nr=St%2===0?Math.round(this.prop.v[St]*100):this.prop.v[St],this.o[St-this.data.p*4]!==nr&&(this.o[St-this.data.p*4]=nr,this._omdf=!er);this._mdf=!er}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(er,St,tr){this.initDynamicPropertyContainer(er),this.getValue=this.iterateDynamicProperties,this.initGradientData(er,St,tr)}SVGGradientFillStyleData.prototype.initGradientData=function(er,St,tr){this.o=PropertyFactory.getProp(er,St.o,0,.01,this),this.s=PropertyFactory.getProp(er,St.s,1,null,this),this.e=PropertyFactory.getProp(er,St.e,1,null,this),this.h=PropertyFactory.getProp(er,St.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(er,St.a||{k:0},0,degToRads,this),this.g=new GradientProperty(er,St.g,this),this.style=tr,this.stops=[],this.setGradientData(tr.pElem,St),this.setGradientOpacity(St,tr),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(er,St){var tr=createElementID(),rr=createNS(St.t===1?"linearGradient":"radialGradient");rr.setAttribute("id",tr),rr.setAttribute("spreadMethod","pad"),rr.setAttribute("gradientUnits","userSpaceOnUse");var nr=[],sr,ir,ar;for(ar=St.g.p*4,ir=0;ir<ar;ir+=4)sr=createNS("stop"),rr.appendChild(sr),nr.push(sr);er.setAttribute(St.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+tr+")"),this.gf=rr,this.cst=nr},SVGGradientFillStyleData.prototype.setGradientOpacity=function(er,St){if(this.g._hasOpacity&&!this.g._collapsable){var tr,rr,nr,sr=createNS("mask"),ir=createNS("path");sr.appendChild(ir);var ar=createElementID(),or=createElementID();sr.setAttribute("id",or);var lr=createNS(er.t===1?"linearGradient":"radialGradient");lr.setAttribute("id",ar),lr.setAttribute("spreadMethod","pad"),lr.setAttribute("gradientUnits","userSpaceOnUse"),nr=er.g.k.k[0].s?er.g.k.k[0].s.length:er.g.k.k.length;var cr=this.stops;for(rr=er.g.p*4;rr<nr;rr+=2)tr=createNS("stop"),tr.setAttribute("stop-color","rgb(255,255,255)"),lr.appendChild(tr),cr.push(tr);ir.setAttribute(er.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ar+")"),er.ty==="gs"&&(ir.setAttribute("stroke-linecap",lineCapEnum[er.lc||2]),ir.setAttribute("stroke-linejoin",lineJoinEnum[er.lj||2]),er.lj===1&&ir.setAttribute("stroke-miterlimit",er.ml)),this.of=lr,this.ms=sr,this.ost=cr,this.maskId=or,St.msElem=ir}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(er,St,tr){this.initDynamicPropertyContainer(er),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(er,St.w,0,null,this),this.d=new DashProperty(er,St.d||{},"svg",this),this.initGradientData(er,St,tr),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(er,St,tr){this.transform={mProps:er,op:St,container:tr},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(St,tr,rr,nr){if(tr===0)return"";var sr=St.o,ir=St.i,ar=St.v,or,lr=" M"+nr.applyToPointStringified(ar[0][0],ar[0][1]);for(or=1;or<tr;or+=1)lr+=" C"+nr.applyToPointStringified(sr[or-1][0],sr[or-1][1])+" "+nr.applyToPointStringified(ir[or][0],ir[or][1])+" "+nr.applyToPointStringified(ar[or][0],ar[or][1]);return rr&&tr&&(lr+=" C"+nr.applyToPointStringified(sr[or-1][0],sr[or-1][1])+" "+nr.applyToPointStringified(ir[0][0],ir[0][1])+" "+nr.applyToPointStringified(ar[0][0],ar[0][1]),lr+="z"),lr},SVGElementsRenderer=function(){var er=new Matrix,St=new Matrix,tr={createRenderFunction:rr};function rr(ur){switch(ur.ty){case"fl":return ar;case"gf":return lr;case"gs":return or;case"st":return cr;case"sh":case"el":case"rc":case"sr":return ir;case"tr":return nr;case"no":return sr;default:return null}}function nr(ur,dr,hr){(hr||dr.transform.op._mdf)&&dr.transform.container.setAttribute("opacity",dr.transform.op.v),(hr||dr.transform.mProps._mdf)&&dr.transform.container.setAttribute("transform",dr.transform.mProps.v.to2dCSS())}function sr(){}function ir(ur,dr,hr){var Ar,fr,mr,pr,gr,xr,yr=dr.styles.length,Er=dr.lvl,_r,Sr,jr,Pr;for(xr=0;xr<yr;xr+=1){if(pr=dr.sh._mdf||hr,dr.styles[xr].lvl<Er){for(Sr=St.reset(),jr=Er-dr.styles[xr].lvl,Pr=dr.transformers.length-1;!pr&&jr>0;)pr=dr.transformers[Pr].mProps._mdf||pr,jr-=1,Pr-=1;if(pr)for(jr=Er-dr.styles[xr].lvl,Pr=dr.transformers.length-1;jr>0;)Sr.multiply(dr.transformers[Pr].mProps.v),jr-=1,Pr-=1}else Sr=er;if(_r=dr.sh.paths,fr=_r._length,pr){for(mr="",Ar=0;Ar<fr;Ar+=1)gr=_r.shapes[Ar],gr&&gr._length&&(mr+=buildShapeString(gr,gr._length,gr.c,Sr));dr.caches[xr]=mr}else mr=dr.caches[xr];dr.styles[xr].d+=ur.hd===!0?"":mr,dr.styles[xr]._mdf=pr||dr.styles[xr]._mdf}}function ar(ur,dr,hr){var Ar=dr.style;(dr.c._mdf||hr)&&Ar.pElem.setAttribute("fill","rgb("+bmFloor(dr.c.v[0])+","+bmFloor(dr.c.v[1])+","+bmFloor(dr.c.v[2])+")"),(dr.o._mdf||hr)&&Ar.pElem.setAttribute("fill-opacity",dr.o.v)}function or(ur,dr,hr){lr(ur,dr,hr),cr(ur,dr,hr)}function lr(ur,dr,hr){var Ar=dr.gf,fr=dr.g._hasOpacity,mr=dr.s.v,pr=dr.e.v;if(dr.o._mdf||hr){var gr=ur.ty==="gf"?"fill-opacity":"stroke-opacity";dr.style.pElem.setAttribute(gr,dr.o.v)}if(dr.s._mdf||hr){var xr=ur.t===1?"x1":"cx",yr=xr==="x1"?"y1":"cy";Ar.setAttribute(xr,mr[0]),Ar.setAttribute(yr,mr[1]),fr&&!dr.g._collapsable&&(dr.of.setAttribute(xr,mr[0]),dr.of.setAttribute(yr,mr[1]))}var Er,_r,Sr,jr;if(dr.g._cmdf||hr){Er=dr.cst;var Pr=dr.g.c;for(Sr=Er.length,_r=0;_r<Sr;_r+=1)jr=Er[_r],jr.setAttribute("offset",Pr[_r*4]+"%"),jr.setAttribute("stop-color","rgb("+Pr[_r*4+1]+","+Pr[_r*4+2]+","+Pr[_r*4+3]+")")}if(fr&&(dr.g._omdf||hr)){var Mr=dr.g.o;for(dr.g._collapsable?Er=dr.cst:Er=dr.ost,Sr=Er.length,_r=0;_r<Sr;_r+=1)jr=Er[_r],dr.g._collapsable||jr.setAttribute("offset",Mr[_r*2]+"%"),jr.setAttribute("stop-opacity",Mr[_r*2+1])}if(ur.t===1)(dr.e._mdf||hr)&&(Ar.setAttribute("x2",pr[0]),Ar.setAttribute("y2",pr[1]),fr&&!dr.g._collapsable&&(dr.of.setAttribute("x2",pr[0]),dr.of.setAttribute("y2",pr[1])));else{var Ir;if((dr.s._mdf||dr.e._mdf||hr)&&(Ir=Math.sqrt(Math.pow(mr[0]-pr[0],2)+Math.pow(mr[1]-pr[1],2)),Ar.setAttribute("r",Ir),fr&&!dr.g._collapsable&&dr.of.setAttribute("r",Ir)),dr.s._mdf||dr.e._mdf||dr.h._mdf||dr.a._mdf||hr){Ir||(Ir=Math.sqrt(Math.pow(mr[0]-pr[0],2)+Math.pow(mr[1]-pr[1],2)));var Lr=Math.atan2(pr[1]-mr[1],pr[0]-mr[0]),Qr=dr.h.v;Qr>=1?Qr=.99:Qr<=-1&&(Qr=-.99);var Yr=Ir*Qr,Gr=Math.cos(Lr+dr.a.v)*Yr+mr[0],$r=Math.sin(Lr+dr.a.v)*Yr+mr[1];Ar.setAttribute("fx",Gr),Ar.setAttribute("fy",$r),fr&&!dr.g._collapsable&&(dr.of.setAttribute("fx",Gr),dr.of.setAttribute("fy",$r))}}}function cr(ur,dr,hr){var Ar=dr.style,fr=dr.d;fr&&(fr._mdf||hr)&&fr.dashStr&&(Ar.pElem.setAttribute("stroke-dasharray",fr.dashStr),Ar.pElem.setAttribute("stroke-dashoffset",fr.dashoffset[0])),dr.c&&(dr.c._mdf||hr)&&Ar.pElem.setAttribute("stroke","rgb("+bmFloor(dr.c.v[0])+","+bmFloor(dr.c.v[1])+","+bmFloor(dr.c.v[2])+")"),(dr.o._mdf||hr)&&Ar.pElem.setAttribute("stroke-opacity",dr.o.v),(dr.w._mdf||hr)&&(Ar.pElem.setAttribute("stroke-width",dr.w.v),Ar.msElem&&Ar.msElem.setAttribute("stroke-width",dr.w.v))}return tr}();function SVGShapeElement(er,St,tr){this.shapes=[],this.shapesData=er.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(er,St,tr),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var er,St=this.shapes.length,tr,rr,nr=this.stylesList.length,sr,ir=[],ar=!1;for(rr=0;rr<nr;rr+=1){for(sr=this.stylesList[rr],ar=!1,ir.length=0,er=0;er<St;er+=1)tr=this.shapes[er],tr.styles.indexOf(sr)!==-1&&(ir.push(tr),ar=tr._isAnimated||ar);ir.length>1&&ar&&this.setShapesAsAnimated(ir)}},SVGShapeElement.prototype.setShapesAsAnimated=function(er){var St,tr=er.length;for(St=0;St<tr;St+=1)er[St].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(er,St){var tr,rr=new SVGStyleData(er,St),nr=rr.pElem;if(er.ty==="st")tr=new SVGStrokeStyleData(this,er,rr);else if(er.ty==="fl")tr=new SVGFillStyleData(this,er,rr);else if(er.ty==="gf"||er.ty==="gs"){var sr=er.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;tr=new sr(this,er,rr),this.globalData.defs.appendChild(tr.gf),tr.maskId&&(this.globalData.defs.appendChild(tr.ms),this.globalData.defs.appendChild(tr.of),nr.setAttribute("mask","url("+getLocationHref()+"#"+tr.maskId+")"))}else er.ty==="no"&&(tr=new SVGNoStyleData(this,er,rr));return(er.ty==="st"||er.ty==="gs")&&(nr.setAttribute("stroke-linecap",lineCapEnum[er.lc||2]),nr.setAttribute("stroke-linejoin",lineJoinEnum[er.lj||2]),nr.setAttribute("fill-opacity","0"),er.lj===1&&nr.setAttribute("stroke-miterlimit",er.ml)),er.r===2&&nr.setAttribute("fill-rule","evenodd"),er.ln&&nr.setAttribute("id",er.ln),er.cl&&nr.setAttribute("class",er.cl),er.bm&&(nr.style["mix-blend-mode"]=getBlendMode(er.bm)),this.stylesList.push(rr),this.addToAnimatedContents(er,tr),tr},SVGShapeElement.prototype.createGroupElement=function(er){var St=new ShapeGroupData;return er.ln&&St.gr.setAttribute("id",er.ln),er.cl&&St.gr.setAttribute("class",er.cl),er.bm&&(St.gr.style["mix-blend-mode"]=getBlendMode(er.bm)),St},SVGShapeElement.prototype.createTransformElement=function(er,St){var tr=TransformPropertyFactory.getTransformProperty(this,er,this),rr=new SVGTransformData(tr,tr.o,St);return this.addToAnimatedContents(er,rr),rr},SVGShapeElement.prototype.createShapeElement=function(er,St,tr){var rr=4;er.ty==="rc"?rr=5:er.ty==="el"?rr=6:er.ty==="sr"&&(rr=7);var nr=ShapePropertyFactory.getShapeProp(this,er,rr,this),sr=new SVGShapeData(St,tr,nr);return this.shapes.push(sr),this.addShapeToModifiers(sr),this.addToAnimatedContents(er,sr),sr},SVGShapeElement.prototype.addToAnimatedContents=function(er,St){for(var tr=0,rr=this.animatedContents.length;tr<rr;){if(this.animatedContents[tr].element===St)return;tr+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(er),element:St,data:er})},SVGShapeElement.prototype.setElementStyles=function(er){var St=er.styles,tr,rr=this.stylesList.length;for(tr=0;tr<rr;tr+=1)St.indexOf(this.stylesList[tr])===-1&&!this.stylesList[tr].closed&&St.push(this.stylesList[tr])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var er,St=this.itemsData.length;for(er=0;er<St;er+=1)this.prevViewData[er]=this.itemsData[er];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),St=this.dynamicProperties.length,er=0;er<St;er+=1)this.dynamicProperties[er].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(er,St,tr,rr,nr,sr,ir){var ar=[].concat(sr),or,lr=er.length-1,cr,ur,dr=[],hr=[],Ar,fr,mr;for(or=lr;or>=0;or-=1){if(mr=this.searchProcessedElement(er[or]),mr?St[or]=tr[mr-1]:er[or]._render=ir,er[or].ty==="fl"||er[or].ty==="st"||er[or].ty==="gf"||er[or].ty==="gs"||er[or].ty==="no")mr?St[or].style.closed=er[or].hd:St[or]=this.createStyleElement(er[or],nr),er[or]._render&&St[or].style.pElem.parentNode!==rr&&rr.appendChild(St[or].style.pElem),dr.push(St[or].style);else if(er[or].ty==="gr"){if(!mr)St[or]=this.createGroupElement(er[or]);else for(ur=St[or].it.length,cr=0;cr<ur;cr+=1)St[or].prevViewData[cr]=St[or].it[cr];this.searchShapes(er[or].it,St[or].it,St[or].prevViewData,St[or].gr,nr+1,ar,ir),er[or]._render&&St[or].gr.parentNode!==rr&&rr.appendChild(St[or].gr)}else er[or].ty==="tr"?(mr||(St[or]=this.createTransformElement(er[or],rr)),Ar=St[or].transform,ar.push(Ar)):er[or].ty==="sh"||er[or].ty==="rc"||er[or].ty==="el"||er[or].ty==="sr"?(mr||(St[or]=this.createShapeElement(er[or],ar,nr)),this.setElementStyles(St[or])):er[or].ty==="tm"||er[or].ty==="rd"||er[or].ty==="ms"||er[or].ty==="pb"||er[or].ty==="zz"||er[or].ty==="op"?(mr?(fr=St[or],fr.closed=!1):(fr=ShapeModifiers.getModifier(er[or].ty),fr.init(this,er[or]),St[or]=fr,this.shapeModifiers.push(fr)),hr.push(fr)):er[or].ty==="rp"&&(mr?(fr=St[or],fr.closed=!0):(fr=ShapeModifiers.getModifier(er[or].ty),St[or]=fr,fr.init(this,er,or,St),this.shapeModifiers.push(fr),ir=!1),hr.push(fr));this.addProcessedElement(er[or],or+1)}for(lr=dr.length,or=0;or<lr;or+=1)dr[or].closed=!0;for(lr=hr.length,or=0;or<lr;or+=1)hr[or].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var er,St=this.stylesList.length;for(er=0;er<St;er+=1)this.stylesList[er].reset();for(this.renderShape(),er=0;er<St;er+=1)(this.stylesList[er]._mdf||this._isFirstFrame)&&(this.stylesList[er].msElem&&(this.stylesList[er].msElem.setAttribute("d",this.stylesList[er].d),this.stylesList[er].d="M0 0"+this.stylesList[er].d),this.stylesList[er].pElem.setAttribute("d",this.stylesList[er].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var er,St=this.animatedContents.length,tr;for(er=0;er<St;er+=1)tr=this.animatedContents[er],(this._isFirstFrame||tr.element._isAnimated)&&tr.data!==!0&&tr.fn(tr.data,tr.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(er,St,tr,rr,nr,sr){this.o=er,this.sw=St,this.sc=tr,this.fc=rr,this.m=nr,this.p=sr,this._mdf={o:!0,sw:!!St,sc:!!tr,fc:!!rr,m:!0,p:!0}}LetterProps.prototype.update=function(er,St,tr,rr,nr,sr){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ir=!1;return this.o!==er&&(this.o=er,this._mdf.o=!0,ir=!0),this.sw!==St&&(this.sw=St,this._mdf.sw=!0,ir=!0),this.sc!==tr&&(this.sc=tr,this._mdf.sc=!0,ir=!0),this.fc!==rr&&(this.fc=rr,this._mdf.fc=!0,ir=!0),this.m!==nr&&(this.m=nr,this._mdf.m=!0,ir=!0),sr.length&&(this.p[0]!==sr[0]||this.p[1]!==sr[1]||this.p[4]!==sr[4]||this.p[5]!==sr[5]||this.p[12]!==sr[12]||this.p[13]!==sr[13])&&(this.p=sr,this._mdf.p=!0,ir=!0),ir};function TextProperty(er,St){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,St.d&&St.d.sid&&(St.d=er.globalData.slotManager.getProp(St.d)),this.data=St,this.elem=er,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(er,St){for(var tr in St)Object.prototype.hasOwnProperty.call(St,tr)&&(er[tr]=St[tr]);return er},TextProperty.prototype.setCurrentData=function(er){er.__complete||this.completeTextData(er),this.currentData=er,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(er){this.effectsSequence.push(er),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(er){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!er)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var St=this.currentData,tr=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rr,nr=this.effectsSequence.length,sr=er||this.data.d.k[this.keysIndex].s;for(rr=0;rr<nr;rr+=1)tr!==this.keysIndex?sr=this.effectsSequence[rr](sr,sr.t):sr=this.effectsSequence[rr](this.currentData,sr.t);St!==sr&&this.setCurrentData(sr),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var er=this.data.d.k,St=this.elem.comp.renderedFrame,tr=0,rr=er.length;tr<=rr-1&&!(tr===rr-1||er[tr+1].t>St);)tr+=1;return this.keysIndex!==tr&&(this.keysIndex=tr),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(er){for(var St=[],tr=0,rr=er.length,nr,sr,ir=!1,ar=!1,or="";tr<rr;)ir=ar,ar=!1,nr=er.charCodeAt(tr),or=er.charAt(tr),FontManager.isCombinedCharacter(nr)?ir=!0:nr>=55296&&nr<=56319?FontManager.isRegionalFlag(er,tr)?or=er.substr(tr,14):(sr=er.charCodeAt(tr+1),sr>=56320&&sr<=57343&&(FontManager.isModifier(nr,sr)?(or=er.substr(tr,2),ir=!0):FontManager.isFlagEmoji(er.substr(tr,4))?or=er.substr(tr,4):or=er.substr(tr,2))):nr>56319?(sr=er.charCodeAt(tr+1),FontManager.isVariationSelector(nr)&&(ir=!0)):FontManager.isZeroWidthJoiner(nr)&&(ir=!0,ar=!0),ir?(St[St.length-1]+=or,ir=!1):St.push(or),tr+=or.length;return St},TextProperty.prototype.completeTextData=function(er){er.__complete=!0;var St=this.elem.globalData.fontManager,tr=this.data,rr=[],nr,sr,ir,ar=0,or,lr=tr.m.g,cr=0,ur=0,dr=0,hr=[],Ar=0,fr=0,mr,pr,gr=St.getFontByName(er.f),xr,yr=0,Er=getFontProperties(gr);er.fWeight=Er.weight,er.fStyle=Er.style,er.finalSize=er.s,er.finalText=this.buildFinalText(er.t),sr=er.finalText.length,er.finalLineHeight=er.lh;var _r=er.tr/1e3*er.finalSize,Sr;if(er.sz)for(var jr=!0,Pr=er.sz[0],Mr=er.sz[1],Ir,Lr;jr;){Lr=this.buildFinalText(er.t),Ir=0,Ar=0,sr=Lr.length,_r=er.tr/1e3*er.finalSize;var Qr=-1;for(nr=0;nr<sr;nr+=1)Sr=Lr[nr].charCodeAt(0),ir=!1,Lr[nr]===" "?Qr=nr:(Sr===13||Sr===3)&&(Ar=0,ir=!0,Ir+=er.finalLineHeight||er.finalSize*1.2),St.chars?(xr=St.getCharData(Lr[nr],gr.fStyle,gr.fFamily),yr=ir?0:xr.w*er.finalSize/100):yr=St.measureText(Lr[nr],er.f,er.finalSize),Ar+yr>Pr&&Lr[nr]!==" "?(Qr===-1?sr+=1:nr=Qr,Ir+=er.finalLineHeight||er.finalSize*1.2,Lr.splice(nr,Qr===nr?1:0,"\r"),Qr=-1,Ar=0):(Ar+=yr,Ar+=_r);Ir+=gr.ascent*er.finalSize/100,this.canResize&&er.finalSize>this.minimumFontSize&&Mr<Ir?(er.finalSize-=1,er.finalLineHeight=er.finalSize*er.lh/er.s):(er.finalText=Lr,sr=er.finalText.length,jr=!1)}Ar=-_r,yr=0;var Yr=0,Gr;for(nr=0;nr<sr;nr+=1)if(ir=!1,Gr=er.finalText[nr],Sr=Gr.charCodeAt(0),Sr===13||Sr===3?(Yr=0,hr.push(Ar),fr=Ar>fr?Ar:fr,Ar=-2*_r,or="",ir=!0,dr+=1):or=Gr,St.chars?(xr=St.getCharData(Gr,gr.fStyle,St.getFontByName(er.f).fFamily),yr=ir?0:xr.w*er.finalSize/100):yr=St.measureText(or,er.f,er.finalSize),Gr===" "?Yr+=yr+_r:(Ar+=yr+_r+Yr,Yr=0),rr.push({l:yr,an:yr,add:cr,n:ir,anIndexes:[],val:or,line:dr,animatorJustifyOffset:0}),lr==2){if(cr+=yr,or===""||or===" "||nr===sr-1){for((or===""||or===" ")&&(cr-=yr);ur<=nr;)rr[ur].an=cr,rr[ur].ind=ar,rr[ur].extra=yr,ur+=1;ar+=1,cr=0}}else if(lr==3){if(cr+=yr,or===""||nr===sr-1){for(or===""&&(cr-=yr);ur<=nr;)rr[ur].an=cr,rr[ur].ind=ar,rr[ur].extra=yr,ur+=1;cr=0,ar+=1}}else rr[ar].ind=ar,rr[ar].extra=0,ar+=1;if(er.l=rr,fr=Ar>fr?Ar:fr,hr.push(Ar),er.sz)er.boxWidth=er.sz[0],er.justifyOffset=0;else switch(er.boxWidth=fr,er.j){case 1:er.justifyOffset=-er.boxWidth;break;case 2:er.justifyOffset=-er.boxWidth/2;break;default:er.justifyOffset=0}er.lineWidths=hr;var $r=tr.a,Vr,Tr;pr=$r.length;var Fr,Wr,qr=[];for(mr=0;mr<pr;mr+=1){for(Vr=$r[mr],Vr.a.sc&&(er.strokeColorAnim=!0),Vr.a.sw&&(er.strokeWidthAnim=!0),(Vr.a.fc||Vr.a.fh||Vr.a.fs||Vr.a.fb)&&(er.fillColorAnim=!0),Wr=0,Fr=Vr.s.b,nr=0;nr<sr;nr+=1)Tr=rr[nr],Tr.anIndexes[mr]=Wr,(Fr==1&&Tr.val!==""||Fr==2&&Tr.val!==""&&Tr.val!==" "||Fr==3&&(Tr.n||Tr.val==" "||nr==sr-1)||Fr==4&&(Tr.n||nr==sr-1))&&(Vr.s.rn===1&&qr.push(Wr),Wr+=1);tr.a[mr].s.totalChars=Wr;var Rr=-1,Or;if(Vr.s.rn===1)for(nr=0;nr<sr;nr+=1)Tr=rr[nr],Rr!=Tr.anIndexes[mr]&&(Rr=Tr.anIndexes[mr],Or=qr.splice(Math.floor(Math.random()*qr.length),1)[0]),Tr.anIndexes[mr]=Or}er.yOffset=er.finalLineHeight||er.finalSize*1.2,er.ls=er.ls||0,er.ascent=gr.ascent*er.finalSize/100},TextProperty.prototype.updateDocumentData=function(er,St){St=St===void 0?this.keysIndex:St;var tr=this.copyData({},this.data.d.k[St].s);tr=this.copyData(tr,er),this.data.d.k[St].s=tr,this.recalculate(St),this.setCurrentData(tr),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(er){var St=this.data.d.k[er].s;St.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(St)},TextProperty.prototype.canResizeFont=function(er){this.canResize=er,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(er){this.minimumFontSize=Math.floor(er)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var er=Math.max,St=Math.min,tr=Math.floor;function rr(sr,ir){this._currentTextLength=-1,this.k=!1,this.data=ir,this.elem=sr,this.comp=sr.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(sr),this.s=PropertyFactory.getProp(sr,ir.s||{k:0},0,0,this),"e"in ir?this.e=PropertyFactory.getProp(sr,ir.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(sr,ir.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(sr,ir.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(sr,ir.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(sr,ir.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(sr,ir.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rr.prototype={getMult:function(ir){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ar=0,or=0,lr=1,cr=1;this.ne.v>0?ar=this.ne.v/100:or=-this.ne.v/100,this.xe.v>0?lr=1-this.xe.v/100:cr=1+this.xe.v/100;var ur=BezierFactory.getBezierEasing(ar,or,lr,cr).get,dr=0,hr=this.finalS,Ar=this.finalE,fr=this.data.sh;if(fr===2)Ar===hr?dr=ir>=Ar?1:0:dr=er(0,St(.5/(Ar-hr)+(ir-hr)/(Ar-hr),1)),dr=ur(dr);else if(fr===3)Ar===hr?dr=ir>=Ar?0:1:dr=1-er(0,St(.5/(Ar-hr)+(ir-hr)/(Ar-hr),1)),dr=ur(dr);else if(fr===4)Ar===hr?dr=0:(dr=er(0,St(.5/(Ar-hr)+(ir-hr)/(Ar-hr),1)),dr<.5?dr*=2:dr=1-2*(dr-.5)),dr=ur(dr);else if(fr===5){if(Ar===hr)dr=0;else{var mr=Ar-hr;ir=St(er(0,ir+.5-hr),Ar-hr);var pr=-mr/2+ir,gr=mr/2;dr=Math.sqrt(1-pr*pr/(gr*gr))}dr=ur(dr)}else fr===6?(Ar===hr?dr=0:(ir=St(er(0,ir+.5-hr),Ar-hr),dr=(1+Math.cos(Math.PI+Math.PI*2*ir/(Ar-hr)))/2),dr=ur(dr)):(ir>=tr(hr)&&(ir-hr<0?dr=er(0,St(St(Ar,1)-(hr-ir),1)):dr=er(0,St(Ar-ir,1))),dr=ur(dr));if(this.sm.v!==100){var xr=this.sm.v*.01;xr===0&&(xr=1e-8);var yr=.5-xr*.5;dr<yr?dr=0:(dr=(dr-yr)/xr,dr>1&&(dr=1))}return dr*this.a.v},getValue:function(ir){this.iterateDynamicProperties(),this._mdf=ir||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ir&&this.data.r===2&&(this.e.v=this._currentTextLength);var ar=this.data.r===2?1:100/this.data.totalChars,or=this.o.v/ar,lr=this.s.v/ar+or,cr=this.e.v/ar+or;if(lr>cr){var ur=lr;lr=cr,cr=ur}this.finalS=lr,this.finalE=cr}},extendPrototype([DynamicPropertyContainer],rr);function nr(sr,ir,ar){return new rr(sr,ir)}return{getTextSelectorProp:nr}}();function TextAnimatorDataProperty(er,St,tr){var rr={propType:!1},nr=PropertyFactory.getProp,sr=St.a;this.a={r:sr.r?nr(er,sr.r,0,degToRads,tr):rr,rx:sr.rx?nr(er,sr.rx,0,degToRads,tr):rr,ry:sr.ry?nr(er,sr.ry,0,degToRads,tr):rr,sk:sr.sk?nr(er,sr.sk,0,degToRads,tr):rr,sa:sr.sa?nr(er,sr.sa,0,degToRads,tr):rr,s:sr.s?nr(er,sr.s,1,.01,tr):rr,a:sr.a?nr(er,sr.a,1,0,tr):rr,o:sr.o?nr(er,sr.o,0,.01,tr):rr,p:sr.p?nr(er,sr.p,1,0,tr):rr,sw:sr.sw?nr(er,sr.sw,0,0,tr):rr,sc:sr.sc?nr(er,sr.sc,1,0,tr):rr,fc:sr.fc?nr(er,sr.fc,1,0,tr):rr,fh:sr.fh?nr(er,sr.fh,0,0,tr):rr,fs:sr.fs?nr(er,sr.fs,0,.01,tr):rr,fb:sr.fb?nr(er,sr.fb,0,.01,tr):rr,t:sr.t?nr(er,sr.t,0,0,tr):rr},this.s=TextSelectorProp.getTextSelectorProp(er,St.s,tr),this.s.t=St.s.t}function TextAnimatorProperty(er,St,tr){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=er,this._renderType=St,this._elem=tr,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(tr)}TextAnimatorProperty.prototype.searchProperties=function(){var er,St=this._textData.a.length,tr,rr=PropertyFactory.getProp;for(er=0;er<St;er+=1)tr=this._textData.a[er],this._animatorsData[er]=new TextAnimatorDataProperty(this._elem,tr,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rr(this._elem,this._textData.p.a,0,0,this),f:rr(this._elem,this._textData.p.f,0,0,this),l:rr(this._elem,this._textData.p.l,0,0,this),r:rr(this._elem,this._textData.p.r,0,0,this),p:rr(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rr(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(er,St){if(this.lettersChangedFlag=St,!(!this._mdf&&!this._isFirstFrame&&!St&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var tr=this._moreOptions.alignment.v,rr=this._animatorsData,nr=this._textData,sr=this.mHelper,ir=this._renderType,ar=this.renderedLetters.length,or,lr,cr,ur,dr=er.l,hr,Ar,fr,mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr,Mr,Ir;if(this._hasMaskedPath){if(Ir=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Lr=Ir.v;this._pathData.r.v&&(Lr=Lr.reverse()),hr={tLength:0,segments:[]},ur=Lr._length-1;var Qr;for(jr=0,cr=0;cr<ur;cr+=1)Qr=bez.buildBezierData(Lr.v[cr],Lr.v[cr+1],[Lr.o[cr][0]-Lr.v[cr][0],Lr.o[cr][1]-Lr.v[cr][1]],[Lr.i[cr+1][0]-Lr.v[cr+1][0],Lr.i[cr+1][1]-Lr.v[cr+1][1]]),hr.tLength+=Qr.segmentLength,hr.segments.push(Qr),jr+=Qr.segmentLength;cr=ur,Ir.v.c&&(Qr=bez.buildBezierData(Lr.v[cr],Lr.v[0],[Lr.o[cr][0]-Lr.v[cr][0],Lr.o[cr][1]-Lr.v[cr][1]],[Lr.i[0][0]-Lr.v[0][0],Lr.i[0][1]-Lr.v[0][1]]),hr.tLength+=Qr.segmentLength,hr.segments.push(Qr),jr+=Qr.segmentLength),this._pathData.pi=hr}if(hr=this._pathData.pi,Ar=this._pathData.f.v,xr=0,gr=1,mr=0,pr=!0,_r=hr.segments,Ar<0&&Ir.v.c)for(hr.tLength<Math.abs(Ar)&&(Ar=-Math.abs(Ar)%hr.tLength),xr=_r.length-1,Er=_r[xr].points,gr=Er.length-1;Ar<0;)Ar+=Er[gr].partialLength,gr-=1,gr<0&&(xr-=1,Er=_r[xr].points,gr=Er.length-1);Er=_r[xr].points,yr=Er[gr-1],fr=Er[gr],Sr=fr.partialLength}ur=dr.length,or=0,lr=0;var Yr=er.finalSize*1.2*.714,Gr=!0,$r,Vr,Tr,Fr,Wr;Fr=rr.length;var qr,Rr=-1,Or,Hr,zr,Zr=Ar,nn=xr,vn=gr,hn=-1,En,Tn,bn,Mn,Rn,Nn,pn,Gn,os="",es=this.defaultPropsArray,cs;if(er.j===2||er.j===1){var ts=0,fs=0,vs=er.j===2?-.5:-1,ws=0,Rs=!0;for(cr=0;cr<ur;cr+=1)if(dr[cr].n){for(ts&&(ts+=fs);ws<cr;)dr[ws].animatorJustifyOffset=ts,ws+=1;ts=0,Rs=!0}else{for(Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.t.propType&&(Rs&&er.j===2&&(fs+=$r.t.v*vs),Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),qr.length?ts+=$r.t.v*qr[0]*vs:ts+=$r.t.v*qr*vs);Rs=!1}for(ts&&(ts+=fs);ws<cr;)dr[ws].animatorJustifyOffset=ts,ws+=1}for(cr=0;cr<ur;cr+=1){if(sr.reset(),En=1,dr[cr].n)or=0,lr+=er.yOffset,lr+=Gr?1:0,Ar=Zr,Gr=!1,this._hasMaskedPath&&(xr=nn,gr=vn,Er=_r[xr].points,yr=Er[gr-1],fr=Er[gr],Sr=fr.partialLength,mr=0),os="",Gn="",Nn="",cs="",es=this.defaultPropsArray;else{if(this._hasMaskedPath){if(hn!==dr[cr].line){switch(er.j){case 1:Ar+=jr-er.lineWidths[dr[cr].line];break;case 2:Ar+=(jr-er.lineWidths[dr[cr].line])/2;break}hn=dr[cr].line}Rr!==dr[cr].ind&&(dr[Rr]&&(Ar+=dr[Rr].extra),Ar+=dr[cr].an/2,Rr=dr[cr].ind),Ar+=tr[0]*dr[cr].an*.005;var ks=0;for(Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.p.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),qr.length?ks+=$r.p.v[0]*qr[0]:ks+=$r.p.v[0]*qr),$r.a.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),qr.length?ks+=$r.a.v[0]*qr[0]:ks+=$r.a.v[0]*qr);for(pr=!0,this._pathData.a.v&&(Ar=dr[0].an*.5+(jr-this._pathData.f.v-dr[0].an*.5-dr[dr.length-1].an*.5)*Rr/(ur-1),Ar+=this._pathData.f.v);pr;)mr+Sr>=Ar+ks||!Er?(Pr=(Ar+ks-mr)/fr.partialLength,Hr=yr.point[0]+(fr.point[0]-yr.point[0])*Pr,zr=yr.point[1]+(fr.point[1]-yr.point[1])*Pr,sr.translate(-tr[0]*dr[cr].an*.005,-(tr[1]*Yr)*.01),pr=!1):Er&&(mr+=fr.partialLength,gr+=1,gr>=Er.length&&(gr=0,xr+=1,_r[xr]?Er=_r[xr].points:Ir.v.c?(gr=0,xr=0,Er=_r[xr].points):(mr-=fr.partialLength,Er=null)),Er&&(yr=fr,fr=Er[gr],Sr=fr.partialLength));Or=dr[cr].an/2-dr[cr].add,sr.translate(-Or,0,0)}else Or=dr[cr].an/2-dr[cr].add,sr.translate(-Or,0,0),sr.translate(-tr[0]*dr[cr].an*.005,-tr[1]*Yr*.01,0);for(Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.t.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),(or!==0||er.j!==0)&&(this._hasMaskedPath?qr.length?Ar+=$r.t.v*qr[0]:Ar+=$r.t.v*qr:qr.length?or+=$r.t.v*qr[0]:or+=$r.t.v*qr));for(er.strokeWidthAnim&&(bn=er.sw||0),er.strokeColorAnim&&(er.sc?Tn=[er.sc[0],er.sc[1],er.sc[2]]:Tn=[0,0,0]),er.fillColorAnim&&er.fc&&(Mn=[er.fc[0],er.fc[1],er.fc[2]]),Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.a.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),qr.length?sr.translate(-$r.a.v[0]*qr[0],-$r.a.v[1]*qr[1],$r.a.v[2]*qr[2]):sr.translate(-$r.a.v[0]*qr,-$r.a.v[1]*qr,$r.a.v[2]*qr));for(Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.s.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),qr.length?sr.scale(1+($r.s.v[0]-1)*qr[0],1+($r.s.v[1]-1)*qr[1],1):sr.scale(1+($r.s.v[0]-1)*qr,1+($r.s.v[1]-1)*qr,1));for(Tr=0;Tr<Fr;Tr+=1){if($r=rr[Tr].a,Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),$r.sk.propType&&(qr.length?sr.skewFromAxis(-$r.sk.v*qr[0],$r.sa.v*qr[1]):sr.skewFromAxis(-$r.sk.v*qr,$r.sa.v*qr)),$r.r.propType&&(qr.length?sr.rotateZ(-$r.r.v*qr[2]):sr.rotateZ(-$r.r.v*qr)),$r.ry.propType&&(qr.length?sr.rotateY($r.ry.v*qr[1]):sr.rotateY($r.ry.v*qr)),$r.rx.propType&&(qr.length?sr.rotateX($r.rx.v*qr[0]):sr.rotateX($r.rx.v*qr)),$r.o.propType&&(qr.length?En+=($r.o.v*qr[0]-En)*qr[0]:En+=($r.o.v*qr-En)*qr),er.strokeWidthAnim&&$r.sw.propType&&(qr.length?bn+=$r.sw.v*qr[0]:bn+=$r.sw.v*qr),er.strokeColorAnim&&$r.sc.propType)for(Rn=0;Rn<3;Rn+=1)qr.length?Tn[Rn]+=($r.sc.v[Rn]-Tn[Rn])*qr[0]:Tn[Rn]+=($r.sc.v[Rn]-Tn[Rn])*qr;if(er.fillColorAnim&&er.fc){if($r.fc.propType)for(Rn=0;Rn<3;Rn+=1)qr.length?Mn[Rn]+=($r.fc.v[Rn]-Mn[Rn])*qr[0]:Mn[Rn]+=($r.fc.v[Rn]-Mn[Rn])*qr;$r.fh.propType&&(qr.length?Mn=addHueToRGB(Mn,$r.fh.v*qr[0]):Mn=addHueToRGB(Mn,$r.fh.v*qr)),$r.fs.propType&&(qr.length?Mn=addSaturationToRGB(Mn,$r.fs.v*qr[0]):Mn=addSaturationToRGB(Mn,$r.fs.v*qr)),$r.fb.propType&&(qr.length?Mn=addBrightnessToRGB(Mn,$r.fb.v*qr[0]):Mn=addBrightnessToRGB(Mn,$r.fb.v*qr))}}for(Tr=0;Tr<Fr;Tr+=1)$r=rr[Tr].a,$r.p.propType&&(Vr=rr[Tr].s,qr=Vr.getMult(dr[cr].anIndexes[Tr],nr.a[Tr].s.totalChars),this._hasMaskedPath?qr.length?sr.translate(0,$r.p.v[1]*qr[0],-$r.p.v[2]*qr[1]):sr.translate(0,$r.p.v[1]*qr,-$r.p.v[2]*qr):qr.length?sr.translate($r.p.v[0]*qr[0],$r.p.v[1]*qr[1],-$r.p.v[2]*qr[2]):sr.translate($r.p.v[0]*qr,$r.p.v[1]*qr,-$r.p.v[2]*qr));if(er.strokeWidthAnim&&(Nn=bn<0?0:bn),er.strokeColorAnim&&(pn="rgb("+Math.round(Tn[0]*255)+","+Math.round(Tn[1]*255)+","+Math.round(Tn[2]*255)+")"),er.fillColorAnim&&er.fc&&(Gn="rgb("+Math.round(Mn[0]*255)+","+Math.round(Mn[1]*255)+","+Math.round(Mn[2]*255)+")"),this._hasMaskedPath){if(sr.translate(0,-er.ls),sr.translate(0,tr[1]*Yr*.01+lr,0),this._pathData.p.v){Mr=(fr.point[1]-yr.point[1])/(fr.point[0]-yr.point[0]);var Fs=Math.atan(Mr)*180/Math.PI;fr.point[0]<yr.point[0]&&(Fs+=180),sr.rotate(-Fs*Math.PI/180)}sr.translate(Hr,zr,0),Ar-=tr[0]*dr[cr].an*.005,dr[cr+1]&&Rr!==dr[cr+1].ind&&(Ar+=dr[cr].an/2,Ar+=er.tr*.001*er.finalSize)}else{switch(sr.translate(or,lr,0),er.ps&&sr.translate(er.ps[0],er.ps[1]+er.ascent,0),er.j){case 1:sr.translate(dr[cr].animatorJustifyOffset+er.justifyOffset+(er.boxWidth-er.lineWidths[dr[cr].line]),0,0);break;case 2:sr.translate(dr[cr].animatorJustifyOffset+er.justifyOffset+(er.boxWidth-er.lineWidths[dr[cr].line])/2,0,0);break}sr.translate(0,-er.ls),sr.translate(Or,0,0),sr.translate(tr[0]*dr[cr].an*.005,tr[1]*Yr*.01,0),or+=dr[cr].l+er.tr*.001*er.finalSize}ir==="html"?os=sr.toCSS():ir==="svg"?os=sr.to2dCSS():es=[sr.props[0],sr.props[1],sr.props[2],sr.props[3],sr.props[4],sr.props[5],sr.props[6],sr.props[7],sr.props[8],sr.props[9],sr.props[10],sr.props[11],sr.props[12],sr.props[13],sr.props[14],sr.props[15]],cs=En}ar<=cr?(Wr=new LetterProps(cs,Nn,pn,Gn,os,es),this.renderedLetters.push(Wr),ar+=1,this.lettersChangedFlag=!0):(Wr=this.renderedLetters[cr],this.lettersChangedFlag=Wr.update(cs,Nn,pn,Gn,os,es)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(er,St,tr){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(er,St,tr),this.textProperty=new TextProperty(this,er.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(er.t,this.renderType,this),this.initTransform(er,St,tr),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(er){this._mdf=!1,this.prepareRenderableFrame(er),this.prepareProperties(er,this.isInRange)},ITextElement.prototype.createPathShape=function(er,St){var tr,rr=St.length,nr,sr="";for(tr=0;tr<rr;tr+=1)St[tr].ty==="sh"&&(nr=St[tr].ks.k,sr+=buildShapeString(nr,nr.i.length,!0,er));return sr},ITextElement.prototype.updateDocumentData=function(er,St){this.textProperty.updateDocumentData(er,St)},ITextElement.prototype.canResizeFont=function(er){this.textProperty.canResizeFont(er)},ITextElement.prototype.setMinimumFontSize=function(er){this.textProperty.setMinimumFontSize(er)},ITextElement.prototype.applyTextPropertiesToMatrix=function(er,St,tr,rr,nr){switch(er.ps&&St.translate(er.ps[0],er.ps[1]+er.ascent,0),St.translate(0,-er.ls,0),er.j){case 1:St.translate(er.justifyOffset+(er.boxWidth-er.lineWidths[tr]),0,0);break;case 2:St.translate(er.justifyOffset+(er.boxWidth-er.lineWidths[tr])/2,0,0);break}St.translate(rr,nr,0)},ITextElement.prototype.buildColor=function(er){return"rgb("+Math.round(er[0]*255)+","+Math.round(er[1]*255)+","+Math.round(er[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(er,St,tr){this.textSpans=[],this.renderType="svg",this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(er){for(var St=0,tr=er.length,rr=[],nr="";St<tr;)er[St]==="\r"||er[St]===""?(rr.push(nr),nr=""):nr+=er[St],St+=1;return rr.push(nr),rr},SVGTextLottieElement.prototype.buildShapeData=function(er,St){if(er.shapes&&er.shapes.length){var tr=er.shapes[0];if(tr.it){var rr=tr.it[tr.it.length-1];rr.s&&(rr.s.k[0]=St,rr.s.k[1]=St)}}return er},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var er,St,tr=this.textProperty.currentData;this.renderedLetters=createSizedArray(tr?tr.l.length:0),tr.fc?this.layerElement.setAttribute("fill",this.buildColor(tr.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),tr.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(tr.sc)),this.layerElement.setAttribute("stroke-width",tr.sw)),this.layerElement.setAttribute("font-size",tr.finalSize);var rr=this.globalData.fontManager.getFontByName(tr.f);if(rr.fClass)this.layerElement.setAttribute("class",rr.fClass);else{this.layerElement.setAttribute("font-family",rr.fFamily);var nr=tr.fWeight,sr=tr.fStyle;this.layerElement.setAttribute("font-style",sr),this.layerElement.setAttribute("font-weight",nr)}this.layerElement.setAttribute("aria-label",tr.t);var ir=tr.l||[],ar=!!this.globalData.fontManager.chars;St=ir.length;var or,lr=this.mHelper,cr="",ur=this.data.singleShape,dr=0,hr=0,Ar=!0,fr=tr.tr*.001*tr.finalSize;if(ur&&!ar&&!tr.sz){var mr=this.textContainer,pr="start";switch(tr.j){case 1:pr="end";break;case 2:pr="middle";break;default:pr="start";break}mr.setAttribute("text-anchor",pr),mr.setAttribute("letter-spacing",fr);var gr=this.buildTextContents(tr.finalText);for(St=gr.length,hr=tr.ps?tr.ps[1]+tr.ascent:0,er=0;er<St;er+=1)or=this.textSpans[er].span||createNS("tspan"),or.textContent=gr[er],or.setAttribute("x",0),or.setAttribute("y",hr),or.style.display="inherit",mr.appendChild(or),this.textSpans[er]||(this.textSpans[er]={span:null,glyph:null}),this.textSpans[er].span=or,hr+=tr.finalLineHeight;this.layerElement.appendChild(mr)}else{var xr=this.textSpans.length,yr;for(er=0;er<St;er+=1){if(this.textSpans[er]||(this.textSpans[er]={span:null,childSpan:null,glyph:null}),!ar||!ur||er===0){if(or=xr>er?this.textSpans[er].span:createNS(ar?"g":"text"),xr<=er){if(or.setAttribute("stroke-linecap","butt"),or.setAttribute("stroke-linejoin","round"),or.setAttribute("stroke-miterlimit","4"),this.textSpans[er].span=or,ar){var Er=createNS("g");or.appendChild(Er),this.textSpans[er].childSpan=Er}this.textSpans[er].span=or,this.layerElement.appendChild(or)}or.style.display="inherit"}if(lr.reset(),ur&&(ir[er].n&&(dr=-fr,hr+=tr.yOffset,hr+=Ar?1:0,Ar=!1),this.applyTextPropertiesToMatrix(tr,lr,ir[er].line,dr,hr),dr+=ir[er].l||0,dr+=fr),ar){yr=this.globalData.fontManager.getCharData(tr.finalText[er],rr.fStyle,this.globalData.fontManager.getFontByName(tr.f).fFamily);var _r;if(yr.t===1)_r=new SVGCompElement(yr.data,this.globalData,this);else{var Sr=emptyShapeData;yr.data&&yr.data.shapes&&(Sr=this.buildShapeData(yr.data,tr.finalSize)),_r=new SVGShapeElement(Sr,this.globalData,this)}if(this.textSpans[er].glyph){var jr=this.textSpans[er].glyph;this.textSpans[er].childSpan.removeChild(jr.layerElement),jr.destroy()}this.textSpans[er].glyph=_r,_r._debug=!0,_r.prepareFrame(0),_r.renderFrame(),this.textSpans[er].childSpan.appendChild(_r.layerElement),yr.t===1&&this.textSpans[er].childSpan.setAttribute("transform","scale("+tr.finalSize/100+","+tr.finalSize/100+")")}else ur&&or.setAttribute("transform","translate("+lr.props[12]+","+lr.props[13]+")"),or.textContent=ir[er].val,or.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ur&&or&&or.setAttribute("d",cr)}for(;er<this.textSpans.length;)this.textSpans[er].span.style.display="none",er+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var er=this.layerElement.getBBox();this.bbox={top:er.y,left:er.x,width:er.width,height:er.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var er,St=this.textSpans.length,tr;for(this.renderedFrame=this.comp.renderedFrame,er=0;er<St;er+=1)tr=this.textSpans[er].glyph,tr&&(tr.prepareFrame(this.comp.renderedFrame-this.data.st),tr._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var er,St,tr=this.textAnimator.renderedLetters,rr=this.textProperty.currentData.l;St=rr.length;var nr,sr,ir;for(er=0;er<St;er+=1)rr[er].n||(nr=tr[er],sr=this.textSpans[er].span,ir=this.textSpans[er].glyph,ir&&ir.renderFrame(),nr._mdf.m&&sr.setAttribute("transform",nr.m),nr._mdf.o&&sr.setAttribute("opacity",nr.o),nr._mdf.sw&&sr.setAttribute("stroke-width",nr.sw),nr._mdf.sc&&sr.setAttribute("stroke",nr.sc),nr._mdf.fc&&sr.setAttribute("fill",nr.fc))}};function ISolidElement(er,St,tr){this.initElement(er,St,tr)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var er=createNS("rect");er.setAttribute("width",this.data.sw),er.setAttribute("height",this.data.sh),er.setAttribute("fill",this.data.sc),this.layerElement.appendChild(er)};function NullElement(er,St,tr){this.initFrame(),this.initBaseData(er,St,tr),this.initFrame(),this.initTransform(er,St,tr),this.initHierarchy()}NullElement.prototype.prepareFrame=function(er){this.prepareProperties(er,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(er){return new NullElement(er,this.globalData,this)},SVGRendererBase.prototype.createShape=function(er){return new SVGShapeElement(er,this.globalData,this)},SVGRendererBase.prototype.createText=function(er){return new SVGTextLottieElement(er,this.globalData,this)},SVGRendererBase.prototype.createImage=function(er){return new IImageElement(er,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(er){return new ISolidElement(er,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(er){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+er.w+" "+er.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",er.w),this.svgElement.setAttribute("height",er.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var St=this.globalData.defs;this.setupGlobalData(er,St),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=er;var tr=createNS("clipPath"),rr=createNS("rect");rr.setAttribute("width",er.w),rr.setAttribute("height",er.h),rr.setAttribute("x",0),rr.setAttribute("y",0);var nr=createElementID();tr.setAttribute("id",nr),tr.appendChild(rr),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nr+")"),St.appendChild(tr),this.layers=er.layers,this.elements=createSizedArray(er.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var er,St=this.layers?this.layers.length:0;for(er=0;er<St;er+=1)this.elements[er]&&this.elements[er].destroy&&this.elements[er].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(er){var St=0,tr=this.layers.length;for(St=0;St<tr;St+=1)if(this.layers[St].ind===er)return St;return-1},SVGRendererBase.prototype.buildItem=function(er){var St=this.elements;if(!(St[er]||this.layers[er].ty===99)){St[er]=!0;var tr=this.createItem(this.layers[er]);if(St[er]=tr,getExpressionsPlugin()&&(this.layers[er].ty===0&&this.globalData.projectInterface.registerComposition(tr),tr.initExpressions()),this.appendElementInPos(tr,er),this.layers[er].tt){var rr="tp"in this.layers[er]?this.findIndexByInd(this.layers[er].tp):er-1;if(rr===-1)return;if(!this.elements[rr]||this.elements[rr]===!0)this.buildItem(rr),this.addPendingElement(tr);else{var nr=St[rr],sr=nr.getMatte(this.layers[er].tt);tr.setMatte(sr)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var er=this.pendingElements.pop();if(er.checkParenting(),er.data.tt)for(var St=0,tr=this.elements.length;St<tr;){if(this.elements[St]===er){var rr="tp"in er.data?this.findIndexByInd(er.data.tp):St-1,nr=this.elements[rr],sr=nr.getMatte(this.layers[St].tt);er.setMatte(sr);break}St+=1}}},SVGRendererBase.prototype.renderFrame=function(er){if(!(this.renderedFrame===er||this.destroyed)){er===null?er=this.renderedFrame:this.renderedFrame=er,this.globalData.frameNum=er,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=er,this.globalData._mdf=!1;var St,tr=this.layers.length;for(this.completeLayers||this.checkLayers(er),St=tr-1;St>=0;St-=1)(this.completeLayers||this.elements[St])&&this.elements[St].prepareFrame(er-this.layers[St].st);if(this.globalData._mdf)for(St=0;St<tr;St+=1)(this.completeLayers||this.elements[St])&&this.elements[St].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(er,St){var tr=er.getBaseElement();if(tr){for(var rr=0,nr;rr<St;)this.elements[rr]&&this.elements[rr]!==!0&&this.elements[rr].getBaseElement()&&(nr=this.elements[rr].getBaseElement()),rr+=1;nr?this.layerElement.insertBefore(tr,nr):this.layerElement.appendChild(tr)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(er,St,tr){this.initFrame(),this.initBaseData(er,St,tr),this.initTransform(er,St,tr),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!St.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(er){if(this._mdf=!1,this.prepareRenderableFrame(er),this.prepareProperties(er,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=er/this.data.sr;else{var St=this.tm.v;St===this.data.op&&(St=this.data.op-1),this.renderedFrame=St}var tr,rr=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),tr=rr-1;tr>=0;tr-=1)(this.completeLayers||this.elements[tr])&&(this.elements[tr].prepareFrame(this.renderedFrame-this.layers[tr].st),this.elements[tr]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var er,St=this.layers.length;for(er=0;er<St;er+=1)(this.completeLayers||this.elements[er])&&this.elements[er].renderFrame()},ICompElement.prototype.setElements=function(er){this.elements=er},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var er,St=this.layers.length;for(er=0;er<St;er+=1)this.elements[er]&&this.elements[er].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(er,St,tr){this.layers=er.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(er,St,tr),this.tm=er.tm?PropertyFactory.getProp(this,er.tm,0,St.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(er){return new SVGCompElement(er,this.globalData,this)};function SVGRenderer(er,St){this.animationItem=er,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var tr="";if(St&&St.title){var rr=createNS("title"),nr=createElementID();rr.setAttribute("id",nr),rr.textContent=St.title,this.svgElement.appendChild(rr),tr+=nr}if(St&&St.description){var sr=createNS("desc"),ir=createElementID();sr.setAttribute("id",ir),sr.textContent=St.description,this.svgElement.appendChild(sr),tr+=" "+ir}tr&&this.svgElement.setAttribute("aria-labelledby",tr);var ar=createNS("defs");this.svgElement.appendChild(ar);var or=createNS("g");this.svgElement.appendChild(or),this.layerElement=or,this.renderConfig={preserveAspectRatio:St&&St.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:St&&St.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:St&&St.contentVisibility||"visible",progressiveLoad:St&&St.progressiveLoad||!1,hideOnTransparent:!(St&&St.hideOnTransparent===!1),viewBoxOnly:St&&St.viewBoxOnly||!1,viewBoxSize:St&&St.viewBoxSize||!1,className:St&&St.className||"",id:St&&St.id||"",focusable:St&&St.focusable,filterSize:{width:St&&St.filterSize&&St.filterSize.width||"100%",height:St&&St.filterSize&&St.filterSize.height||"100%",x:St&&St.filterSize&&St.filterSize.x||"0%",y:St&&St.filterSize&&St.filterSize.y||"0%"},width:St&&St.width,height:St&&St.height,runExpressions:!St||St.runExpressions===void 0||St.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ar,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(er){return new SVGCompElement(er,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(St){var tr,rr=St.length,nr="_";for(tr=0;tr<rr;tr+=1)nr+=St[tr].transform.key+"_";var sr=this.sequences[nr];return sr||(sr={transforms:[].concat(St),finalTransform:new Matrix,_mdf:!1},this.sequences[nr]=sr,this.sequenceList.push(sr)),sr},processSequence:function(St,tr){for(var rr=0,nr=St.transforms.length,sr=tr;rr<nr&&!tr;){if(St.transforms[rr].transform.mProps._mdf){sr=!0;break}rr+=1}if(sr)for(St.finalTransform.reset(),rr=nr-1;rr>=0;rr-=1)St.finalTransform.multiply(St.transforms[rr].transform.mProps.v);St._mdf=sr},processSequences:function(St){var tr,rr=this.sequenceList.length;for(tr=0;tr<rr;tr+=1)this.processSequence(this.sequenceList[tr],St)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var St="__lottie_element_luma_buffer",tr=null,rr=null,nr=null;function sr(){var or=createNS("svg"),lr=createNS("filter"),cr=createNS("feColorMatrix");return lr.setAttribute("id",St),cr.setAttribute("type","matrix"),cr.setAttribute("color-interpolation-filters","sRGB"),cr.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),lr.appendChild(cr),or.appendChild(lr),or.setAttribute("id",St+"_svg"),featureSupport.svgLumaHidden&&(or.style.display="none"),or}function ir(){tr||(nr=sr(),document.body.appendChild(nr),tr=createTag("canvas"),rr=tr.getContext("2d"),rr.filter="url(#"+St+")",rr.fillStyle="rgba(0,0,0,0)",rr.fillRect(0,0,1,1))}function ar(or){return tr||ir(),tr.width=or.width,tr.height=or.height,rr.filter="url(#"+St+")",tr}return{load:ir,get:ar}};function createCanvas(er,St){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(er,St);var tr=createTag("canvas");return tr.width=er,tr.height=St,tr}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(er){var St,tr=er.data.ef?er.data.ef.length:0;this.filters=[];var rr;for(St=0;St<tr;St+=1){rr=null;var nr=er.data.ef[St].ty;if(registeredEffects[nr]){var sr=registeredEffects[nr].effect;rr=new sr(er.effectsManager.effectElements[St],er)}rr&&this.filters.push(rr)}this.filters.length&&er.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(er){var St,tr=this.filters.length;for(St=0;St<tr;St+=1)this.filters[St].renderFrame(er)},CVEffects.prototype.getEffects=function(er){var St,tr=this.filters.length,rr=[];for(St=0;St<tr;St+=1)this.filters[St].type===er&&rr.push(this.filters[St]);return rr};function registerEffect(er,St){registeredEffects[er]={effect:St}}function CVMaskElement(er,St){this.data=er,this.element=St,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var tr,rr=this.masksProperties.length,nr=!1;for(tr=0;tr<rr;tr+=1)this.masksProperties[tr].mode!=="n"&&(nr=!0),this.viewData[tr]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[tr],3);this.hasMasks=nr,nr&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var er=this.element.finalTransform.mat,St=this.element.canvasContext,tr,rr=this.masksProperties.length,nr,sr,ir;for(St.beginPath(),tr=0;tr<rr;tr+=1)if(this.masksProperties[tr].mode!=="n"){this.masksProperties[tr].inv&&(St.moveTo(0,0),St.lineTo(this.element.globalData.compSize.w,0),St.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),St.lineTo(0,this.element.globalData.compSize.h),St.lineTo(0,0)),ir=this.viewData[tr].v,nr=er.applyToPointArray(ir.v[0][0],ir.v[0][1],0),St.moveTo(nr[0],nr[1]);var ar,or=ir._length;for(ar=1;ar<or;ar+=1)sr=er.applyToTriplePoints(ir.o[ar-1],ir.i[ar],ir.v[ar]),St.bezierCurveTo(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5]);sr=er.applyToTriplePoints(ir.o[ar-1],ir.i[0],ir.v[0]),St.bezierCurveTo(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5])}this.element.globalData.renderer.save(!0),St.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var St=this.globalData.canvasContext,tr=assetLoader.createCanvas(St.canvas.width,St.canvas.height);this.buffers.push(tr);var rr=assetLoader.createCanvas(St.canvas.width,St.canvas.height);this.buffers.push(rr),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var St=this.globalData;if(St.blendMode!==this.data.bm){St.blendMode=this.data.bm;var tr=getBlendMode(this.data.bm);St.canvasContext.globalCompositeOperation=tr}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(St){St.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var St=this.buffers[0],tr=St.getContext("2d");this.clearCanvas(tr),tr.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var St=this.buffers[1],tr=St.getContext("2d");this.clearCanvas(tr),tr.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rr=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rr.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var nr=assetLoader.getLumaCanvas(this.canvasContext.canvas),sr=nr.getContext("2d");sr.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(nr,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(St,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(St){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!St)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var tr=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(tr),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(tr),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(er,St,tr,rr){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nr=4;St.ty==="rc"?nr=5:St.ty==="el"?nr=6:St.ty==="sr"&&(nr=7),this.sh=ShapePropertyFactory.getShapeProp(er,St,nr,er);var sr,ir=tr.length,ar;for(sr=0;sr<ir;sr+=1)tr[sr].closed||(ar={transforms:rr.addTransformSequence(tr[sr].transforms),trNodes:[]},this.styledShapes.push(ar),tr[sr].elements.push(ar))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(er,St,tr){this.shapes=[],this.shapesData=er.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(er,St){var tr={data:er,type:er.ty,preTransforms:this.transformsManager.addTransformSequence(St),transforms:[],elements:[],closed:er.hd===!0},rr={};if(er.ty==="fl"||er.ty==="st"?(rr.c=PropertyFactory.getProp(this,er.c,1,255,this),rr.c.k||(tr.co="rgb("+bmFloor(rr.c.v[0])+","+bmFloor(rr.c.v[1])+","+bmFloor(rr.c.v[2])+")")):(er.ty==="gf"||er.ty==="gs")&&(rr.s=PropertyFactory.getProp(this,er.s,1,null,this),rr.e=PropertyFactory.getProp(this,er.e,1,null,this),rr.h=PropertyFactory.getProp(this,er.h||{k:0},0,.01,this),rr.a=PropertyFactory.getProp(this,er.a||{k:0},0,degToRads,this),rr.g=new GradientProperty(this,er.g,this)),rr.o=PropertyFactory.getProp(this,er.o,0,.01,this),er.ty==="st"||er.ty==="gs"){if(tr.lc=lineCapEnum[er.lc||2],tr.lj=lineJoinEnum[er.lj||2],er.lj==1&&(tr.ml=er.ml),rr.w=PropertyFactory.getProp(this,er.w,0,null,this),rr.w.k||(tr.wi=rr.w.v),er.d){var nr=new DashProperty(this,er.d,"canvas",this);rr.d=nr,rr.d.k||(tr.da=rr.d.dashArray,tr.do=rr.d.dashoffset[0])}}else tr.r=er.r===2?"evenodd":"nonzero";return this.stylesList.push(tr),rr.style=tr,rr},CVShapeElement.prototype.createGroupElement=function(){var er={it:[],prevViewData:[]};return er},CVShapeElement.prototype.createTransformElement=function(er){var St={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,er.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,er,this)}};return St},CVShapeElement.prototype.createShapeElement=function(er){var St=new CVShapeData(this,er,this.stylesList,this.transformsManager);return this.shapes.push(St),this.addShapeToModifiers(St),St},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var er,St=this.itemsData.length;for(er=0;er<St;er+=1)this.prevViewData[er]=this.itemsData[er];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),St=this.dynamicProperties.length,er=0;er<St;er+=1)this.dynamicProperties[er].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(er){var St,tr=this.stylesList.length;for(St=0;St<tr;St+=1)this.stylesList[St].closed||this.stylesList[St].transforms.push(er)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var er,St=this.stylesList.length;for(er=0;er<St;er+=1)this.stylesList[er].closed||this.stylesList[er].transforms.pop()},CVShapeElement.prototype.closeStyles=function(er){var St,tr=er.length;for(St=0;St<tr;St+=1)er[St].closed=!0},CVShapeElement.prototype.searchShapes=function(er,St,tr,rr,nr){var sr,ir=er.length-1,ar,or,lr=[],cr=[],ur,dr,hr,Ar=[].concat(nr);for(sr=ir;sr>=0;sr-=1){if(ur=this.searchProcessedElement(er[sr]),ur?St[sr]=tr[ur-1]:er[sr]._shouldRender=rr,er[sr].ty==="fl"||er[sr].ty==="st"||er[sr].ty==="gf"||er[sr].ty==="gs")ur?St[sr].style.closed=!1:St[sr]=this.createStyleElement(er[sr],Ar),lr.push(St[sr].style);else if(er[sr].ty==="gr"){if(!ur)St[sr]=this.createGroupElement(er[sr]);else for(or=St[sr].it.length,ar=0;ar<or;ar+=1)St[sr].prevViewData[ar]=St[sr].it[ar];this.searchShapes(er[sr].it,St[sr].it,St[sr].prevViewData,rr,Ar)}else er[sr].ty==="tr"?(ur||(hr=this.createTransformElement(er[sr]),St[sr]=hr),Ar.push(St[sr]),this.addTransformToStyleList(St[sr])):er[sr].ty==="sh"||er[sr].ty==="rc"||er[sr].ty==="el"||er[sr].ty==="sr"?ur||(St[sr]=this.createShapeElement(er[sr])):er[sr].ty==="tm"||er[sr].ty==="rd"||er[sr].ty==="pb"||er[sr].ty==="zz"||er[sr].ty==="op"?(ur?(dr=St[sr],dr.closed=!1):(dr=ShapeModifiers.getModifier(er[sr].ty),dr.init(this,er[sr]),St[sr]=dr,this.shapeModifiers.push(dr)),cr.push(dr)):er[sr].ty==="rp"&&(ur?(dr=St[sr],dr.closed=!0):(dr=ShapeModifiers.getModifier(er[sr].ty),St[sr]=dr,dr.init(this,er,sr,St),this.shapeModifiers.push(dr),rr=!1),cr.push(dr));this.addProcessedElement(er[sr],sr+1)}for(this.removeTransformFromStyleList(),this.closeStyles(lr),ir=cr.length,sr=0;sr<ir;sr+=1)cr[sr].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(er,St){(er._opMdf||St.op._mdf||this._isFirstFrame)&&(St.opacity=er.opacity,St.opacity*=St.op.v,St._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var er,St=this.stylesList.length,tr,rr,nr,sr,ir,ar,or=this.globalData.renderer,lr=this.globalData.canvasContext,cr,ur;for(er=0;er<St;er+=1)if(ur=this.stylesList[er],cr=ur.type,!((cr==="st"||cr==="gs")&&ur.wi===0||!ur.data._shouldRender||ur.coOp===0||this.globalData.currentGlobalAlpha===0)){for(or.save(),ir=ur.elements,cr==="st"||cr==="gs"?(or.ctxStrokeStyle(cr==="st"?ur.co:ur.grd),or.ctxLineWidth(ur.wi),or.ctxLineCap(ur.lc),or.ctxLineJoin(ur.lj),or.ctxMiterLimit(ur.ml||0)):or.ctxFillStyle(cr==="fl"?ur.co:ur.grd),or.ctxOpacity(ur.coOp),cr!=="st"&&cr!=="gs"&&lr.beginPath(),or.ctxTransform(ur.preTransforms.finalTransform.props),rr=ir.length,tr=0;tr<rr;tr+=1){for((cr==="st"||cr==="gs")&&(lr.beginPath(),ur.da&&(lr.setLineDash(ur.da),lr.lineDashOffset=ur.do)),ar=ir[tr].trNodes,sr=ar.length,nr=0;nr<sr;nr+=1)ar[nr].t==="m"?lr.moveTo(ar[nr].p[0],ar[nr].p[1]):ar[nr].t==="c"?lr.bezierCurveTo(ar[nr].pts[0],ar[nr].pts[1],ar[nr].pts[2],ar[nr].pts[3],ar[nr].pts[4],ar[nr].pts[5]):lr.closePath();(cr==="st"||cr==="gs")&&(or.ctxStroke(),ur.da&&lr.setLineDash(this.dashResetter))}cr!=="st"&&cr!=="gs"&&this.globalData.renderer.ctxFill(ur.r),or.restore()}},CVShapeElement.prototype.renderShape=function(er,St,tr,rr){var nr,sr=St.length-1,ir;for(ir=er,nr=sr;nr>=0;nr-=1)St[nr].ty==="tr"?(ir=tr[nr].transform,this.renderShapeTransform(er,ir)):St[nr].ty==="sh"||St[nr].ty==="el"||St[nr].ty==="rc"||St[nr].ty==="sr"?this.renderPath(St[nr],tr[nr]):St[nr].ty==="fl"?this.renderFill(St[nr],tr[nr],ir):St[nr].ty==="st"?this.renderStroke(St[nr],tr[nr],ir):St[nr].ty==="gf"||St[nr].ty==="gs"?this.renderGradientFill(St[nr],tr[nr],ir):St[nr].ty==="gr"?this.renderShape(ir,St[nr].it,tr[nr].it):St[nr].ty;rr&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(er,St){if(this._isFirstFrame||St._mdf||er.transforms._mdf){var tr=er.trNodes,rr=St.paths,nr,sr,ir,ar=rr._length;tr.length=0;var or=er.transforms.finalTransform;for(ir=0;ir<ar;ir+=1){var lr=rr.shapes[ir];if(lr&&lr.v){for(sr=lr._length,nr=1;nr<sr;nr+=1)nr===1&&tr.push({t:"m",p:or.applyToPointArray(lr.v[0][0],lr.v[0][1],0)}),tr.push({t:"c",pts:or.applyToTriplePoints(lr.o[nr-1],lr.i[nr],lr.v[nr])});sr===1&&tr.push({t:"m",p:or.applyToPointArray(lr.v[0][0],lr.v[0][1],0)}),lr.c&&sr&&(tr.push({t:"c",pts:or.applyToTriplePoints(lr.o[nr-1],lr.i[0],lr.v[0])}),tr.push({t:"z"}))}}er.trNodes=tr}},CVShapeElement.prototype.renderPath=function(er,St){if(er.hd!==!0&&er._shouldRender){var tr,rr=St.styledShapes.length;for(tr=0;tr<rr;tr+=1)this.renderStyledShape(St.styledShapes[tr],St.sh)}},CVShapeElement.prototype.renderFill=function(er,St,tr){var rr=St.style;(St.c._mdf||this._isFirstFrame)&&(rr.co="rgb("+bmFloor(St.c.v[0])+","+bmFloor(St.c.v[1])+","+bmFloor(St.c.v[2])+")"),(St.o._mdf||tr._opMdf||this._isFirstFrame)&&(rr.coOp=St.o.v*tr.opacity)},CVShapeElement.prototype.renderGradientFill=function(er,St,tr){var rr=St.style,nr;if(!rr.grd||St.g._mdf||St.s._mdf||St.e._mdf||er.t!==1&&(St.h._mdf||St.a._mdf)){var sr=this.globalData.canvasContext,ir=St.s.v,ar=St.e.v;if(er.t===1)nr=sr.createLinearGradient(ir[0],ir[1],ar[0],ar[1]);else{var or=Math.sqrt(Math.pow(ir[0]-ar[0],2)+Math.pow(ir[1]-ar[1],2)),lr=Math.atan2(ar[1]-ir[1],ar[0]-ir[0]),cr=St.h.v;cr>=1?cr=.99:cr<=-1&&(cr=-.99);var ur=or*cr,dr=Math.cos(lr+St.a.v)*ur+ir[0],hr=Math.sin(lr+St.a.v)*ur+ir[1];nr=sr.createRadialGradient(dr,hr,0,ir[0],ir[1],or)}var Ar,fr=er.g.p,mr=St.g.c,pr=1;for(Ar=0;Ar<fr;Ar+=1)St.g._hasOpacity&&St.g._collapsable&&(pr=St.g.o[Ar*2+1]),nr.addColorStop(mr[Ar*4]/100,"rgba("+mr[Ar*4+1]+","+mr[Ar*4+2]+","+mr[Ar*4+3]+","+pr+")");rr.grd=nr}rr.coOp=St.o.v*tr.opacity},CVShapeElement.prototype.renderStroke=function(er,St,tr){var rr=St.style,nr=St.d;nr&&(nr._mdf||this._isFirstFrame)&&(rr.da=nr.dashArray,rr.do=nr.dashoffset[0]),(St.c._mdf||this._isFirstFrame)&&(rr.co="rgb("+bmFloor(St.c.v[0])+","+bmFloor(St.c.v[1])+","+bmFloor(St.c.v[2])+")"),(St.o._mdf||tr._opMdf||this._isFirstFrame)&&(rr.coOp=St.o.v*tr.opacity),(St.w._mdf||this._isFirstFrame)&&(rr.wi=St.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(er,St,tr){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var er=this.textProperty.currentData;this.renderedLetters=createSizedArray(er.l?er.l.length:0);var St=!1;er.fc?(St=!0,this.values.fill=this.buildColor(er.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=St;var tr=!1;er.sc&&(tr=!0,this.values.stroke=this.buildColor(er.sc),this.values.sWidth=er.sw);var rr=this.globalData.fontManager.getFontByName(er.f),nr,sr,ir=er.l,ar=this.mHelper;this.stroke=tr,this.values.fValue=er.finalSize+"px "+this.globalData.fontManager.getFontByName(er.f).fFamily,sr=er.finalText.length;var or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr=this.data.singleShape,xr=er.tr*.001*er.finalSize,yr=0,Er=0,_r=!0,Sr=0;for(nr=0;nr<sr;nr+=1){or=this.globalData.fontManager.getCharData(er.finalText[nr],rr.fStyle,this.globalData.fontManager.getFontByName(er.f).fFamily),lr=or&&or.data||{},ar.reset(),gr&&ir[nr].n&&(yr=-xr,Er+=er.yOffset,Er+=_r?1:0,_r=!1),dr=lr.shapes?lr.shapes[0].it:[],Ar=dr.length,ar.scale(er.finalSize/100,er.finalSize/100),gr&&this.applyTextPropertiesToMatrix(er,ar,ir[nr].line,yr,Er),mr=createSizedArray(Ar-1);var jr=0;for(hr=0;hr<Ar;hr+=1)if(dr[hr].ty==="sh"){for(ur=dr[hr].ks.k.i.length,fr=dr[hr].ks.k,pr=[],cr=1;cr<ur;cr+=1)cr===1&&pr.push(ar.applyToX(fr.v[0][0],fr.v[0][1],0),ar.applyToY(fr.v[0][0],fr.v[0][1],0)),pr.push(ar.applyToX(fr.o[cr-1][0],fr.o[cr-1][1],0),ar.applyToY(fr.o[cr-1][0],fr.o[cr-1][1],0),ar.applyToX(fr.i[cr][0],fr.i[cr][1],0),ar.applyToY(fr.i[cr][0],fr.i[cr][1],0),ar.applyToX(fr.v[cr][0],fr.v[cr][1],0),ar.applyToY(fr.v[cr][0],fr.v[cr][1],0));pr.push(ar.applyToX(fr.o[cr-1][0],fr.o[cr-1][1],0),ar.applyToY(fr.o[cr-1][0],fr.o[cr-1][1],0),ar.applyToX(fr.i[0][0],fr.i[0][1],0),ar.applyToY(fr.i[0][0],fr.i[0][1],0),ar.applyToX(fr.v[0][0],fr.v[0][1],0),ar.applyToY(fr.v[0][0],fr.v[0][1],0)),mr[jr]=pr,jr+=1}gr&&(yr+=ir[nr].l,yr+=xr),this.textSpans[Sr]?this.textSpans[Sr].elem=mr:this.textSpans[Sr]={elem:mr},Sr+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var er=this.canvasContext;er.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var St,tr,rr,nr,sr,ir,ar=this.textAnimator.renderedLetters,or=this.textProperty.currentData.l;tr=or.length;var lr,cr=null,ur=null,dr=null,hr,Ar,fr=this.globalData.renderer;for(St=0;St<tr;St+=1)if(!or[St].n){if(lr=ar[St],lr&&(fr.save(),fr.ctxTransform(lr.p),fr.ctxOpacity(lr.o)),this.fill){for(lr&&lr.fc?cr!==lr.fc&&(fr.ctxFillStyle(lr.fc),cr=lr.fc):cr!==this.values.fill&&(cr=this.values.fill,fr.ctxFillStyle(this.values.fill)),hr=this.textSpans[St].elem,nr=hr.length,this.globalData.canvasContext.beginPath(),rr=0;rr<nr;rr+=1)for(Ar=hr[rr],ir=Ar.length,this.globalData.canvasContext.moveTo(Ar[0],Ar[1]),sr=2;sr<ir;sr+=6)this.globalData.canvasContext.bezierCurveTo(Ar[sr],Ar[sr+1],Ar[sr+2],Ar[sr+3],Ar[sr+4],Ar[sr+5]);this.globalData.canvasContext.closePath(),fr.ctxFill()}if(this.stroke){for(lr&&lr.sw?dr!==lr.sw&&(dr=lr.sw,fr.ctxLineWidth(lr.sw)):dr!==this.values.sWidth&&(dr=this.values.sWidth,fr.ctxLineWidth(this.values.sWidth)),lr&&lr.sc?ur!==lr.sc&&(ur=lr.sc,fr.ctxStrokeStyle(lr.sc)):ur!==this.values.stroke&&(ur=this.values.stroke,fr.ctxStrokeStyle(this.values.stroke)),hr=this.textSpans[St].elem,nr=hr.length,this.globalData.canvasContext.beginPath(),rr=0;rr<nr;rr+=1)for(Ar=hr[rr],ir=Ar.length,this.globalData.canvasContext.moveTo(Ar[0],Ar[1]),sr=2;sr<ir;sr+=6)this.globalData.canvasContext.bezierCurveTo(Ar[sr],Ar[sr+1],Ar[sr+2],Ar[sr+3],Ar[sr+4],Ar[sr+5]);this.globalData.canvasContext.closePath(),fr.ctxStroke()}lr&&this.globalData.renderer.restore()}};function CVImageElement(er,St,tr){this.assetData=St.getAssetData(er.refId),this.img=St.imageLoader.getAsset(this.assetData),this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var er=createTag("canvas");er.width=this.assetData.w,er.height=this.assetData.h;var St=er.getContext("2d"),tr=this.img.width,rr=this.img.height,nr=tr/rr,sr=this.assetData.w/this.assetData.h,ir,ar,or=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;nr>sr&&or==="xMidYMid slice"||nr<sr&&or!=="xMidYMid slice"?(ar=rr,ir=ar*sr):(ir=tr,ar=ir/sr),St.drawImage(this.img,(tr-ir)/2,(rr-ar)/2,ir,ar,0,0,this.assetData.w,this.assetData.h),this.img=er}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(er,St,tr){this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(er){return new CVShapeElement(er,this.globalData,this)},CanvasRendererBase.prototype.createText=function(er){return new CVTextElement(er,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(er){return new CVImageElement(er,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(er){return new CVSolidElement(er,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(er){er[0]===1&&er[1]===0&&er[4]===0&&er[5]===1&&er[12]===0&&er[13]===0||this.canvasContext.transform(er[0],er[1],er[4],er[5],er[12],er[13])},CanvasRendererBase.prototype.ctxOpacity=function(er){this.canvasContext.globalAlpha*=er<0?0:er},CanvasRendererBase.prototype.ctxFillStyle=function(er){this.canvasContext.fillStyle=er},CanvasRendererBase.prototype.ctxStrokeStyle=function(er){this.canvasContext.strokeStyle=er},CanvasRendererBase.prototype.ctxLineWidth=function(er){this.canvasContext.lineWidth=er},CanvasRendererBase.prototype.ctxLineCap=function(er){this.canvasContext.lineCap=er},CanvasRendererBase.prototype.ctxLineJoin=function(er){this.canvasContext.lineJoin=er},CanvasRendererBase.prototype.ctxMiterLimit=function(er){this.canvasContext.miterLimit=er},CanvasRendererBase.prototype.ctxFill=function(er){this.canvasContext.fill(er)},CanvasRendererBase.prototype.ctxFillRect=function(er,St,tr,rr){this.canvasContext.fillRect(er,St,tr,rr)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(er){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}er&&(this.globalData.blendMode="source-over"),this.contextData.restore(er)},CanvasRendererBase.prototype.configAnimation=function(er){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var St=this.animationItem.container.style;St.width="100%",St.height="100%";var tr="0px 0px 0px";St.transformOrigin=tr,St.mozTransformOrigin=tr,St.webkitTransformOrigin=tr,St["-webkit-transform"]=tr,St.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=er,this.layers=er.layers,this.transformCanvas={w:er.w,h:er.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(er,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(er.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(er,St){this.reset();var tr,rr;er?(tr=er,rr=St,this.canvasContext.canvas.width=tr,this.canvasContext.canvas.height=rr):(this.animationItem.wrapper&&this.animationItem.container?(tr=this.animationItem.wrapper.offsetWidth,rr=this.animationItem.wrapper.offsetHeight):(tr=this.canvasContext.canvas.width,rr=this.canvasContext.canvas.height),this.canvasContext.canvas.width=tr*this.renderConfig.dpr,this.canvasContext.canvas.height=rr*this.renderConfig.dpr);var nr,sr;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ir=this.renderConfig.preserveAspectRatio.split(" "),ar=ir[1]||"meet",or=ir[0]||"xMidYMid",lr=or.substr(0,4),cr=or.substr(4);nr=tr/rr,sr=this.transformCanvas.w/this.transformCanvas.h,sr>nr&&ar==="meet"||sr<nr&&ar==="slice"?(this.transformCanvas.sx=tr/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=tr/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rr/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rr/(this.transformCanvas.h/this.renderConfig.dpr)),lr==="xMid"&&(sr<nr&&ar==="meet"||sr>nr&&ar==="slice")?this.transformCanvas.tx=(tr-this.transformCanvas.w*(rr/this.transformCanvas.h))/2*this.renderConfig.dpr:lr==="xMax"&&(sr<nr&&ar==="meet"||sr>nr&&ar==="slice")?this.transformCanvas.tx=(tr-this.transformCanvas.w*(rr/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,cr==="YMid"&&(sr>nr&&ar==="meet"||sr<nr&&ar==="slice")?this.transformCanvas.ty=(rr-this.transformCanvas.h*(tr/this.transformCanvas.w))/2*this.renderConfig.dpr:cr==="YMax"&&(sr>nr&&ar==="meet"||sr<nr&&ar==="slice")?this.transformCanvas.ty=(rr-this.transformCanvas.h*(tr/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=tr/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rr/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var er,St=this.layers?this.layers.length:0;for(er=St-1;er>=0;er-=1)this.elements[er]&&this.elements[er].destroy&&this.elements[er].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(er,St){if(!(this.renderedFrame===er&&this.renderConfig.clearCanvas===!0&&!St||this.destroyed||er===-1)){this.renderedFrame=er,this.globalData.frameNum=er-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||St,this.globalData.projectInterface.currentFrame=er;var tr,rr=this.layers.length;for(this.completeLayers||this.checkLayers(er),tr=rr-1;tr>=0;tr-=1)(this.completeLayers||this.elements[tr])&&this.elements[tr].prepareFrame(er-this.layers[tr].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),tr=rr-1;tr>=0;tr-=1)(this.completeLayers||this.elements[tr])&&this.elements[tr].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(er){var St=this.elements;if(!(St[er]||this.layers[er].ty===99)){var tr=this.createItem(this.layers[er],this,this.globalData);St[er]=tr,tr.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var er=this.pendingElements.pop();er.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var er,St=15;for(er=0;er<St;er+=1){var tr=new CanvasContext;this.stack[er]=tr}this._length=St,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var er=this._length*2,St=0;for(St=this._length;St<er;St+=1)this.stack[St]=new CanvasContext;this._length=er},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(er){this.cArrPos-=1;var St=this.stack[this.cArrPos],tr=St.transform,rr,nr=this.cTr.props;for(rr=0;rr<16;rr+=1)nr[rr]=tr[rr];if(er){this.nativeContext.restore();var sr=this.stack[this.cArrPos+1];this.appliedFillStyle=sr.fillStyle,this.appliedStrokeStyle=sr.strokeStyle,this.appliedLineWidth=sr.lineWidth,this.appliedLineCap=sr.lineCap,this.appliedLineJoin=sr.lineJoin,this.appliedMiterLimit=sr.miterLimit}this.nativeContext.setTransform(tr[0],tr[1],tr[4],tr[5],tr[12],tr[13]),(er||St.opacity!==-1&&this.currentOpacity!==St.opacity)&&(this.nativeContext.globalAlpha=St.opacity,this.currentOpacity=St.opacity),this.currentFillStyle=St.fillStyle,this.currentStrokeStyle=St.strokeStyle,this.currentLineWidth=St.lineWidth,this.currentLineCap=St.lineCap,this.currentLineJoin=St.lineJoin,this.currentMiterLimit=St.miterLimit},CVContextData.prototype.save=function(er){er&&this.nativeContext.save();var St=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var tr=this.stack[this.cArrPos],rr;for(rr=0;rr<16;rr+=1)tr.transform[rr]=St[rr];this.cArrPos+=1;var nr=this.stack[this.cArrPos];nr.opacity=tr.opacity,nr.fillStyle=tr.fillStyle,nr.strokeStyle=tr.strokeStyle,nr.lineWidth=tr.lineWidth,nr.lineCap=tr.lineCap,nr.lineJoin=tr.lineJoin,nr.miterLimit=tr.miterLimit},CVContextData.prototype.setOpacity=function(er){this.stack[this.cArrPos].opacity=er},CVContextData.prototype.setContext=function(er){this.nativeContext=er},CVContextData.prototype.fillStyle=function(er){this.stack[this.cArrPos].fillStyle!==er&&(this.currentFillStyle=er,this.stack[this.cArrPos].fillStyle=er)},CVContextData.prototype.strokeStyle=function(er){this.stack[this.cArrPos].strokeStyle!==er&&(this.currentStrokeStyle=er,this.stack[this.cArrPos].strokeStyle=er)},CVContextData.prototype.lineWidth=function(er){this.stack[this.cArrPos].lineWidth!==er&&(this.currentLineWidth=er,this.stack[this.cArrPos].lineWidth=er)},CVContextData.prototype.lineCap=function(er){this.stack[this.cArrPos].lineCap!==er&&(this.currentLineCap=er,this.stack[this.cArrPos].lineCap=er)},CVContextData.prototype.lineJoin=function(er){this.stack[this.cArrPos].lineJoin!==er&&(this.currentLineJoin=er,this.stack[this.cArrPos].lineJoin=er)},CVContextData.prototype.miterLimit=function(er){this.stack[this.cArrPos].miterLimit!==er&&(this.currentMiterLimit=er,this.stack[this.cArrPos].miterLimit=er)},CVContextData.prototype.transform=function(er){this.transformMat.cloneFromProps(er);var St=this.cTr;this.transformMat.multiply(St),St.cloneFromProps(this.transformMat.props);var tr=St.props;this.nativeContext.setTransform(tr[0],tr[1],tr[4],tr[5],tr[12],tr[13])},CVContextData.prototype.opacity=function(er){var St=this.stack[this.cArrPos].opacity;St*=er<0?0:er,this.stack[this.cArrPos].opacity!==St&&(this.currentOpacity!==er&&(this.nativeContext.globalAlpha=er,this.currentOpacity=er),this.stack[this.cArrPos].opacity=St)},CVContextData.prototype.fill=function(er){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(er)},CVContextData.prototype.fillRect=function(er,St,tr,rr){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(er,St,tr,rr)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(er,St,tr){this.completeLayers=!1,this.layers=er.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(er,St,tr),this.tm=er.tm?PropertyFactory.getProp(this,er.tm,0,St.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var er=this.canvasContext;er.beginPath(),er.moveTo(0,0),er.lineTo(this.data.w,0),er.lineTo(this.data.w,this.data.h),er.lineTo(0,this.data.h),er.lineTo(0,0),er.clip();var St,tr=this.layers.length;for(St=tr-1;St>=0;St-=1)(this.completeLayers||this.elements[St])&&this.elements[St].renderFrame()},CVCompElement.prototype.destroy=function(){var er,St=this.layers.length;for(er=St-1;er>=0;er-=1)this.elements[er]&&this.elements[er].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(er){return new CVCompElement(er,this.globalData,this)};function CanvasRenderer(er,St){this.animationItem=er,this.renderConfig={clearCanvas:St&&St.clearCanvas!==void 0?St.clearCanvas:!0,context:St&&St.context||null,progressiveLoad:St&&St.progressiveLoad||!1,preserveAspectRatio:St&&St.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:St&&St.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:St&&St.contentVisibility||"visible",className:St&&St.className||"",id:St&&St.id||"",runExpressions:!St||St.runExpressions===void 0||St.runExpressions},this.renderConfig.dpr=St&&St.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=St&&St.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(er){return new CVCompElement(er,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var St=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var tr=this.finalTransform.mat.toCSS();St.transform=tr,St.webkitTransform=tr}this.finalTransform._opMdf&&(St.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(er,St,tr){this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var er;this.data.hasMask?(er=createNS("rect"),er.setAttribute("width",this.data.sw),er.setAttribute("height",this.data.sh),er.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(er=createTag("div"),er.style.width=this.data.sw+"px",er.style.height=this.data.sh+"px",er.style.backgroundColor=this.data.sc),this.layerElement.appendChild(er)};function HShapeElement(er,St,tr){this.shapes=[],this.shapesData=er.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(er,St,tr),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var er;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),er=this.svgElement;else{er=createNS("svg");var St=this.comp.data?this.comp.data:this.globalData.compSize;er.setAttribute("width",St.w),er.setAttribute("height",St.h),er.appendChild(this.shapesContainer),this.layerElement.appendChild(er)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=er},HShapeElement.prototype.getTransformedPoint=function(er,St){var tr,rr=er.length;for(tr=0;tr<rr;tr+=1)St=er[tr].mProps.v.applyToPointArray(St[0],St[1],0);return St},HShapeElement.prototype.calculateShapeBoundingBox=function(er,St){var tr=er.sh.v,rr=er.transformers,nr,sr=tr._length,ir,ar,or,lr;if(!(sr<=1)){for(nr=0;nr<sr-1;nr+=1)ir=this.getTransformedPoint(rr,tr.v[nr]),ar=this.getTransformedPoint(rr,tr.o[nr]),or=this.getTransformedPoint(rr,tr.i[nr+1]),lr=this.getTransformedPoint(rr,tr.v[nr+1]),this.checkBounds(ir,ar,or,lr,St);tr.c&&(ir=this.getTransformedPoint(rr,tr.v[nr]),ar=this.getTransformedPoint(rr,tr.o[nr]),or=this.getTransformedPoint(rr,tr.i[0]),lr=this.getTransformedPoint(rr,tr.v[0]),this.checkBounds(ir,ar,or,lr,St))}},HShapeElement.prototype.checkBounds=function(er,St,tr,rr,nr){this.getBoundsOfCurve(er,St,tr,rr);var sr=this.shapeBoundingBox;nr.x=bmMin(sr.left,nr.x),nr.xMax=bmMax(sr.right,nr.xMax),nr.y=bmMin(sr.top,nr.y),nr.yMax=bmMax(sr.bottom,nr.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(er,St,tr,rr){for(var nr=[[er[0],rr[0]],[er[1],rr[1]]],sr,ir,ar,or,lr,cr,ur,dr=0;dr<2;++dr)ir=6*er[dr]-12*St[dr]+6*tr[dr],sr=-3*er[dr]+9*St[dr]-9*tr[dr]+3*rr[dr],ar=3*St[dr]-3*er[dr],ir|=0,sr|=0,ar|=0,sr===0&&ir===0||(sr===0?(or=-ar/ir,or>0&&or<1&&nr[dr].push(this.calculateF(or,er,St,tr,rr,dr))):(lr=ir*ir-4*ar*sr,lr>=0&&(cr=(-ir+bmSqrt(lr))/(2*sr),cr>0&&cr<1&&nr[dr].push(this.calculateF(cr,er,St,tr,rr,dr)),ur=(-ir-bmSqrt(lr))/(2*sr),ur>0&&ur<1&&nr[dr].push(this.calculateF(ur,er,St,tr,rr,dr)))));this.shapeBoundingBox.left=bmMin.apply(null,nr[0]),this.shapeBoundingBox.top=bmMin.apply(null,nr[1]),this.shapeBoundingBox.right=bmMax.apply(null,nr[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,nr[1])},HShapeElement.prototype.calculateF=function(er,St,tr,rr,nr,sr){return bmPow(1-er,3)*St[sr]+3*bmPow(1-er,2)*er*tr[sr]+3*(1-er)*bmPow(er,2)*rr[sr]+bmPow(er,3)*nr[sr]},HShapeElement.prototype.calculateBoundingBox=function(er,St){var tr,rr=er.length;for(tr=0;tr<rr;tr+=1)er[tr]&&er[tr].sh?this.calculateShapeBoundingBox(er[tr],St):er[tr]&&er[tr].it?this.calculateBoundingBox(er[tr].it,St):er[tr]&&er[tr].style&&er[tr].w&&this.expandStrokeBoundingBox(er[tr].w,St)},HShapeElement.prototype.expandStrokeBoundingBox=function(er,St){var tr=0;if(er.keyframes){for(var rr=0;rr<er.keyframes.length;rr+=1){var nr=er.keyframes[rr].s;nr>tr&&(tr=nr)}tr*=er.mult}else tr=er.v*er.mult;St.x-=tr,St.xMax+=tr,St.y-=tr,St.yMax+=tr},HShapeElement.prototype.currentBoxContains=function(er){return this.currentBBox.x<=er.x&&this.currentBBox.y<=er.y&&this.currentBBox.width+this.currentBBox.x>=er.x+er.width&&this.currentBBox.height+this.currentBBox.y>=er.y+er.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var er=this.tempBoundingBox,St=999999;if(er.x=St,er.xMax=-St,er.y=St,er.yMax=-St,this.calculateBoundingBox(this.itemsData,er),er.width=er.xMax<er.x?0:er.xMax-er.x,er.height=er.yMax<er.y?0:er.yMax-er.y,this.currentBoxContains(er))return;var tr=!1;if(this.currentBBox.w!==er.width&&(this.currentBBox.w=er.width,this.shapeCont.setAttribute("width",er.width),tr=!0),this.currentBBox.h!==er.height&&(this.currentBBox.h=er.height,this.shapeCont.setAttribute("height",er.height),tr=!0),tr||this.currentBBox.x!==er.x||this.currentBBox.y!==er.y){this.currentBBox.w=er.width,this.currentBBox.h=er.height,this.currentBBox.x=er.x,this.currentBBox.y=er.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rr=this.shapeCont.style,nr="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rr.transform=nr,rr.webkitTransform=nr}}};function HTextElement(er,St,tr){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var er=createNS("g");this.maskedElement.appendChild(er),this.innerElem=er}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var er=this.textProperty.currentData;this.renderedLetters=createSizedArray(er.l?er.l.length:0);var St=this.innerElem.style,tr=er.fc?this.buildColor(er.fc):"rgba(0,0,0,0)";St.fill=tr,St.color=tr,er.sc&&(St.stroke=this.buildColor(er.sc),St.strokeWidth=er.sw+"px");var rr=this.globalData.fontManager.getFontByName(er.f);if(!this.globalData.fontManager.chars)if(St.fontSize=er.finalSize+"px",St.lineHeight=er.finalSize+"px",rr.fClass)this.innerElem.className=rr.fClass;else{St.fontFamily=rr.fFamily;var nr=er.fWeight,sr=er.fStyle;St.fontStyle=sr,St.fontWeight=nr}var ir,ar,or=er.l;ar=or.length;var lr,cr,ur,dr=this.mHelper,hr,Ar="",fr=0;for(ir=0;ir<ar;ir+=1){if(this.globalData.fontManager.chars?(this.textPaths[fr]?lr=this.textPaths[fr]:(lr=createNS("path"),lr.setAttribute("stroke-linecap",lineCapEnum[1]),lr.setAttribute("stroke-linejoin",lineJoinEnum[2]),lr.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[fr]?(cr=this.textSpans[fr],ur=cr.children[0]):(cr=createTag("div"),cr.style.lineHeight=0,ur=createNS("svg"),ur.appendChild(lr),styleDiv(cr)))):this.isMasked?lr=this.textPaths[fr]?this.textPaths[fr]:createNS("text"):this.textSpans[fr]?(cr=this.textSpans[fr],lr=this.textPaths[fr]):(cr=createTag("span"),styleDiv(cr),lr=createTag("span"),styleDiv(lr),cr.appendChild(lr)),this.globalData.fontManager.chars){var mr=this.globalData.fontManager.getCharData(er.finalText[ir],rr.fStyle,this.globalData.fontManager.getFontByName(er.f).fFamily),pr;if(mr?pr=mr.data:pr=null,dr.reset(),pr&&pr.shapes&&pr.shapes.length&&(hr=pr.shapes[0].it,dr.scale(er.finalSize/100,er.finalSize/100),Ar=this.createPathShape(dr,hr),lr.setAttribute("d",Ar)),this.isMasked)this.innerElem.appendChild(lr);else{if(this.innerElem.appendChild(cr),pr&&pr.shapes){document.body.appendChild(ur);var gr=ur.getBBox();ur.setAttribute("width",gr.width+2),ur.setAttribute("height",gr.height+2),ur.setAttribute("viewBox",gr.x-1+" "+(gr.y-1)+" "+(gr.width+2)+" "+(gr.height+2));var xr=ur.style,yr="translate("+(gr.x-1)+"px,"+(gr.y-1)+"px)";xr.transform=yr,xr.webkitTransform=yr,or[ir].yOffset=gr.y-1}else ur.setAttribute("width",1),ur.setAttribute("height",1);cr.appendChild(ur)}}else if(lr.textContent=or[ir].val,lr.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(lr);else{this.innerElem.appendChild(cr);var Er=lr.style,_r="translate3d(0,"+-er.finalSize/1.2+"px,0)";Er.transform=_r,Er.webkitTransform=_r}this.isMasked?this.textSpans[fr]=lr:this.textSpans[fr]=cr,this.textSpans[fr].style.display="block",this.textPaths[fr]=lr,fr+=1}for(;fr<this.textSpans.length;)this.textSpans[fr].style.display="none",fr+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var er;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),er=this.svgElement.style;var St="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";er.transform=St,er.webkitTransform=St}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var tr,rr,nr=0,sr=this.textAnimator.renderedLetters,ir=this.textProperty.currentData.l;rr=ir.length;var ar,or,lr;for(tr=0;tr<rr;tr+=1)ir[tr].n?nr+=1:(or=this.textSpans[tr],lr=this.textPaths[tr],ar=sr[nr],nr+=1,ar._mdf.m&&(this.isMasked?or.setAttribute("transform",ar.m):(or.style.webkitTransform=ar.m,or.style.transform=ar.m)),or.style.opacity=ar.o,ar.sw&&ar._mdf.sw&&lr.setAttribute("stroke-width",ar.sw),ar.sc&&ar._mdf.sc&&lr.setAttribute("stroke",ar.sc),ar.fc&&ar._mdf.fc&&(lr.setAttribute("fill",ar.fc),lr.style.color=ar.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var cr=this.innerElem.getBBox();this.currentBBox.w!==cr.width&&(this.currentBBox.w=cr.width,this.svgElement.setAttribute("width",cr.width)),this.currentBBox.h!==cr.height&&(this.currentBBox.h=cr.height,this.svgElement.setAttribute("height",cr.height));var ur=1;if(this.currentBBox.w!==cr.width+ur*2||this.currentBBox.h!==cr.height+ur*2||this.currentBBox.x!==cr.x-ur||this.currentBBox.y!==cr.y-ur){this.currentBBox.w=cr.width+ur*2,this.currentBBox.h=cr.height+ur*2,this.currentBBox.x=cr.x-ur,this.currentBBox.y=cr.y-ur,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),er=this.svgElement.style;var dr="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";er.transform=dr,er.webkitTransform=dr}}}};function HCameraElement(er,St,tr){this.initFrame(),this.initBaseData(er,St,tr),this.initHierarchy();var rr=PropertyFactory.getProp;if(this.pe=rr(this,er.pe,0,0,this),er.ks.p.s?(this.px=rr(this,er.ks.p.x,1,0,this),this.py=rr(this,er.ks.p.y,1,0,this),this.pz=rr(this,er.ks.p.z,1,0,this)):this.p=rr(this,er.ks.p,1,0,this),er.ks.a&&(this.a=rr(this,er.ks.a,1,0,this)),er.ks.or.k.length&&er.ks.or.k[0].to){var nr,sr=er.ks.or.k.length;for(nr=0;nr<sr;nr+=1)er.ks.or.k[nr].to=null,er.ks.or.k[nr].ti=null}this.or=rr(this,er.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rr(this,er.ks.rx,0,degToRads,this),this.ry=rr(this,er.ks.ry,0,degToRads,this),this.rz=rr(this,er.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var er,St=this.comp.threeDElements.length,tr,rr,nr;for(er=0;er<St;er+=1)if(tr=this.comp.threeDElements[er],tr.type==="3d"){rr=tr.perspectiveElem.style,nr=tr.container.style;var sr=this.pe.v+"px",ir="0px 0px 0px",ar="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rr.perspective=sr,rr.webkitPerspective=sr,nr.transformOrigin=ir,nr.mozTransformOrigin=ir,nr.webkitTransformOrigin=ir,rr.transform=ar,rr.webkitTransform=ar}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var er=this._isFirstFrame,St,tr;if(this.hierarchy)for(tr=this.hierarchy.length,St=0;St<tr;St+=1)er=this.hierarchy[St].finalTransform.mProp._mdf||er;if(er||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(tr=this.hierarchy.length-1,St=tr;St>=0;St-=1){var rr=this.hierarchy[St].finalTransform.mProp;this.mat.translate(-rr.p.v[0],-rr.p.v[1],rr.p.v[2]),this.mat.rotateX(-rr.or.v[0]).rotateY(-rr.or.v[1]).rotateZ(rr.or.v[2]),this.mat.rotateX(-rr.rx.v).rotateY(-rr.ry.v).rotateZ(rr.rz.v),this.mat.scale(1/rr.s.v[0],1/rr.s.v[1],1/rr.s.v[2]),this.mat.translate(rr.a.v[0],rr.a.v[1],rr.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nr;this.p?nr=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:nr=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var sr=Math.sqrt(Math.pow(nr[0],2)+Math.pow(nr[1],2)+Math.pow(nr[2],2)),ir=[nr[0]/sr,nr[1]/sr,nr[2]/sr],ar=Math.sqrt(ir[2]*ir[2]+ir[0]*ir[0]),or=Math.atan2(ir[1],ar),lr=Math.atan2(ir[0],-ir[2]);this.mat.rotateY(lr).rotateX(-or)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var cr=!this._prevMat.equals(this.mat);if((cr||this.pe._mdf)&&this.comp.threeDElements){tr=this.comp.threeDElements.length;var ur,dr,hr;for(St=0;St<tr;St+=1)if(ur=this.comp.threeDElements[St],ur.type==="3d"){if(cr){var Ar=this.mat.toCSS();hr=ur.container.style,hr.transform=Ar,hr.webkitTransform=Ar}this.pe._mdf&&(dr=ur.perspectiveElem.style,dr.perspective=this.pe.v+"px",dr.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(er){this.prepareProperties(er,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(er,St,tr){this.assetData=St.getAssetData(er.refId),this.initElement(er,St,tr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var er=this.globalData.getAssetsPath(this.assetData),St=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",er),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(St),St.crossOrigin="anonymous",St.src=er,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(er,St){this.animationItem=er,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:St&&St.className||"",imagePreserveAspectRatio:St&&St.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(St&&St.hideOnTransparent===!1),filterSize:{width:St&&St.filterSize&&St.filterSize.width||"400%",height:St&&St.filterSize&&St.filterSize.height||"400%",x:St&&St.filterSize&&St.filterSize.x||"-100%",y:St&&St.filterSize&&St.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var er=this.pendingElements.pop();er.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(er,St){var tr=er.getBaseElement();if(tr){var rr=this.layers[St];if(!rr.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(tr,St);else{for(var nr=0,sr,ir,ar;nr<St;)this.elements[nr]&&this.elements[nr]!==!0&&this.elements[nr].getBaseElement&&(ir=this.elements[nr],ar=this.layers[nr].ddd?this.getThreeDContainerByPos(nr):ir.getBaseElement(),sr=ar||sr),nr+=1;sr?(!rr.ddd||!this.supports3d)&&this.layerElement.insertBefore(tr,sr):(!rr.ddd||!this.supports3d)&&this.layerElement.appendChild(tr)}else this.addTo3dContainer(tr,St)}},HybridRendererBase.prototype.createShape=function(er){return this.supports3d?new HShapeElement(er,this.globalData,this):new SVGShapeElement(er,this.globalData,this)},HybridRendererBase.prototype.createText=function(er){return this.supports3d?new HTextElement(er,this.globalData,this):new SVGTextLottieElement(er,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(er){return this.camera=new HCameraElement(er,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(er){return this.supports3d?new HImageElement(er,this.globalData,this):new IImageElement(er,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(er){return this.supports3d?new HSolidElement(er,this.globalData,this):new ISolidElement(er,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(er){for(var St=0,tr=this.threeDElements.length;St<tr;){if(this.threeDElements[St].startPos<=er&&this.threeDElements[St].endPos>=er)return this.threeDElements[St].perspectiveElem;St+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(er,St){var tr=createTag("div"),rr,nr;styleDiv(tr);var sr=createTag("div");if(styleDiv(sr),St==="3d"){rr=tr.style,rr.width=this.globalData.compSize.w+"px",rr.height=this.globalData.compSize.h+"px";var ir="50% 50%";rr.webkitTransformOrigin=ir,rr.mozTransformOrigin=ir,rr.transformOrigin=ir,nr=sr.style;var ar="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nr.transform=ar,nr.webkitTransform=ar}tr.appendChild(sr);var or={container:sr,perspectiveElem:tr,startPos:er,endPos:er,type:St};return this.threeDElements.push(or),or},HybridRendererBase.prototype.build3dContainers=function(){var er,St=this.layers.length,tr,rr="";for(er=0;er<St;er+=1)this.layers[er].ddd&&this.layers[er].ty!==3?(rr!=="3d"&&(rr="3d",tr=this.createThreeDContainer(er,"3d")),tr.endPos=Math.max(tr.endPos,er)):(rr!=="2d"&&(rr="2d",tr=this.createThreeDContainer(er,"2d")),tr.endPos=Math.max(tr.endPos,er));for(St=this.threeDElements.length,er=St-1;er>=0;er-=1)this.resizerElem.appendChild(this.threeDElements[er].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(er,St){for(var tr=0,rr=this.threeDElements.length;tr<rr;){if(St<=this.threeDElements[tr].endPos){for(var nr=this.threeDElements[tr].startPos,sr;nr<St;)this.elements[nr]&&this.elements[nr].getBaseElement&&(sr=this.elements[nr].getBaseElement()),nr+=1;sr?this.threeDElements[tr].container.insertBefore(er,sr):this.threeDElements[tr].container.appendChild(er);break}tr+=1}},HybridRendererBase.prototype.configAnimation=function(er){var St=createTag("div"),tr=this.animationItem.wrapper,rr=St.style;rr.width=er.w+"px",rr.height=er.h+"px",this.resizerElem=St,styleDiv(St),rr.transformStyle="flat",rr.mozTransformStyle="flat",rr.webkitTransformStyle="flat",this.renderConfig.className&&St.setAttribute("class",this.renderConfig.className),tr.appendChild(St),rr.overflow="hidden";var nr=createNS("svg");nr.setAttribute("width","1"),nr.setAttribute("height","1"),styleDiv(nr),this.resizerElem.appendChild(nr);var sr=createNS("defs");nr.appendChild(sr),this.data=er,this.setupGlobalData(er,nr),this.globalData.defs=sr,this.layers=er.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var er,St=this.layers?this.layers.length:0;for(er=0;er<St;er+=1)this.elements[er]&&this.elements[er].destroy&&this.elements[er].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var er=this.animationItem.wrapper.offsetWidth,St=this.animationItem.wrapper.offsetHeight,tr=er/St,rr=this.globalData.compSize.w/this.globalData.compSize.h,nr,sr,ir,ar;rr>tr?(nr=er/this.globalData.compSize.w,sr=er/this.globalData.compSize.w,ir=0,ar=(St-this.globalData.compSize.h*(er/this.globalData.compSize.w))/2):(nr=St/this.globalData.compSize.h,sr=St/this.globalData.compSize.h,ir=(er-this.globalData.compSize.w*(St/this.globalData.compSize.h))/2,ar=0);var or=this.resizerElem.style;or.webkitTransform="matrix3d("+nr+",0,0,0,0,"+sr+",0,0,0,0,1,0,"+ir+","+ar+",0,1)",or.transform=or.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var er=this.globalData.compSize.w,St=this.globalData.compSize.h,tr,rr=this.threeDElements.length;for(tr=0;tr<rr;tr+=1){var nr=this.threeDElements[tr].perspectiveElem.style;nr.webkitPerspective=Math.sqrt(Math.pow(er,2)+Math.pow(St,2))+"px",nr.perspective=nr.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(er){var St,tr=er.length,rr=createTag("div");for(St=0;St<tr;St+=1)if(er[St].xt){var nr=this.createComp(er[St],rr,this.globalData.comp,null);nr.initExpressions(),this.globalData.projectInterface.registerComposition(nr)}};function HCompElement(er,St,tr){this.layers=er.layers,this.supports3d=!er.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(er,St,tr),this.tm=er.tm?PropertyFactory.getProp(this,er.tm,0,St.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(er,St){for(var tr=0,rr;tr<St;)this.elements[tr]&&this.elements[tr].getBaseElement&&(rr=this.elements[tr].getBaseElement()),tr+=1;rr?this.layerElement.insertBefore(er,rr):this.layerElement.appendChild(er)},HCompElement.prototype.createComp=function(er){return this.supports3d?new HCompElement(er,this.globalData,this):new SVGCompElement(er,this.globalData,this)};function HybridRenderer(er,St){this.animationItem=er,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:St&&St.className||"",imagePreserveAspectRatio:St&&St.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(St&&St.hideOnTransparent===!1),filterSize:{width:St&&St.filterSize&&St.filterSize.width||"400%",height:St&&St.filterSize&&St.filterSize.height||"400%",x:St&&St.filterSize&&St.filterSize.x||"-100%",y:St&&St.filterSize&&St.filterSize.y||"-100%"},runExpressions:!St||St.runExpressions===void 0||St.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(er){return this.supports3d?new HCompElement(er,this.globalData,this):new SVGCompElement(er,this.globalData,this)};var CompExpressionInterface=function(){return function(er){function St(tr){for(var rr=0,nr=er.layers.length;rr<nr;){if(er.layers[rr].nm===tr||er.layers[rr].ind===tr)return er.elements[rr].layerInterface;rr+=1}return null}return Object.defineProperty(St,"_name",{value:er.data.nm}),St.layer=St,St.pixelAspect=1,St.height=er.data.h||er.globalData.compSize.h,St.width=er.data.w||er.globalData.compSize.w,St.pixelAspect=1,St.frameDuration=1/er.globalData.frameRate,St.displayStartTime=0,St.numLayers=er.layers.length,St}}();function _typeof$2(er){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$2(er)}function seedRandom(er,St){var tr=this,rr=256,nr=6,sr=52,ir="random",ar=St.pow(rr,nr),or=St.pow(2,sr),lr=or*2,cr=rr-1,ur;function dr(xr,yr,Er){var _r=[];yr=yr===!0?{entropy:!0}:yr||{};var Sr=mr(fr(yr.entropy?[xr,gr(er)]:xr===null?pr():xr,3),_r),jr=new hr(_r),Pr=function(){for(var Ir=jr.g(nr),Lr=ar,Qr=0;Ir<or;)Ir=(Ir+Qr)*rr,Lr*=rr,Qr=jr.g(1);for(;Ir>=lr;)Ir/=2,Lr/=2,Qr>>>=1;return(Ir+Qr)/Lr};return Pr.int32=function(){return jr.g(4)|0},Pr.quick=function(){return jr.g(4)/4294967296},Pr.double=Pr,mr(gr(jr.S),er),(yr.pass||Er||function(Mr,Ir,Lr,Qr){return Qr&&(Qr.S&&Ar(Qr,jr),Mr.state=function(){return Ar(jr,{})}),Lr?(St[ir]=Mr,Ir):Mr})(Pr,Sr,"global"in yr?yr.global:this==St,yr.state)}St["seed"+ir]=dr;function hr(xr){var yr,Er=xr.length,_r=this,Sr=0,jr=_r.i=_r.j=0,Pr=_r.S=[];for(Er||(xr=[Er++]);Sr<rr;)Pr[Sr]=Sr++;for(Sr=0;Sr<rr;Sr++)Pr[Sr]=Pr[jr=cr&jr+xr[Sr%Er]+(yr=Pr[Sr])],Pr[jr]=yr;_r.g=function(Mr){for(var Ir,Lr=0,Qr=_r.i,Yr=_r.j,Gr=_r.S;Mr--;)Ir=Gr[Qr=cr&Qr+1],Lr=Lr*rr+Gr[cr&(Gr[Qr]=Gr[Yr=cr&Yr+Ir])+(Gr[Yr]=Ir)];return _r.i=Qr,_r.j=Yr,Lr}}function Ar(xr,yr){return yr.i=xr.i,yr.j=xr.j,yr.S=xr.S.slice(),yr}function fr(xr,yr){var Er=[],_r=_typeof$2(xr),Sr;if(yr&&_r=="object")for(Sr in xr)try{Er.push(fr(xr[Sr],yr-1))}catch{}return Er.length?Er:_r=="string"?xr:xr+"\0"}function mr(xr,yr){for(var Er=xr+"",_r,Sr=0;Sr<Er.length;)yr[cr&Sr]=cr&(_r^=yr[cr&Sr]*19)+Er.charCodeAt(Sr++);return gr(yr)}function pr(){try{var xr=new Uint8Array(rr);return(tr.crypto||tr.msCrypto).getRandomValues(xr),gr(xr)}catch{var yr=tr.navigator,Er=yr&&yr.plugins;return[+new Date,tr,Er,tr.screen,gr(er)]}}function gr(xr){return String.fromCharCode.apply(0,xr)}mr(St.random(),er)}function initialize$2(er){seedRandom([],er)}var propTypes={SHAPE:"shape"};function _typeof$1(er){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof$1(er)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(er){return er.constructor===Array||er.constructor===Float32Array}function isNumerable(er,St){return er==="number"||St instanceof Number||er==="boolean"||er==="string"}function $bm_neg(er){var St=_typeof$1(er);if(St==="number"||er instanceof Number||St==="boolean")return-er;if($bm_isInstanceOfArray(er)){var tr,rr=er.length,nr=[];for(tr=0;tr<rr;tr+=1)nr[tr]=-er[tr];return nr}return er.propType?er.v:-er}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(er,St){var tr=_typeof$1(er),rr=_typeof$1(St);if(isNumerable(tr,er)&&isNumerable(rr,St)||tr==="string"||rr==="string")return er+St;if($bm_isInstanceOfArray(er)&&isNumerable(rr,St))return er=er.slice(0),er[0]+=St,er;if(isNumerable(tr,er)&&$bm_isInstanceOfArray(St))return St=St.slice(0),St[0]=er+St[0],St;if($bm_isInstanceOfArray(er)&&$bm_isInstanceOfArray(St)){for(var nr=0,sr=er.length,ir=St.length,ar=[];nr<sr||nr<ir;)(typeof er[nr]=="number"||er[nr]instanceof Number)&&(typeof St[nr]=="number"||St[nr]instanceof Number)?ar[nr]=er[nr]+St[nr]:ar[nr]=St[nr]===void 0?er[nr]:er[nr]||St[nr],nr+=1;return ar}return 0}var add=sum;function sub(er,St){var tr=_typeof$1(er),rr=_typeof$1(St);if(isNumerable(tr,er)&&isNumerable(rr,St))return tr==="string"&&(er=parseInt(er,10)),rr==="string"&&(St=parseInt(St,10)),er-St;if($bm_isInstanceOfArray(er)&&isNumerable(rr,St))return er=er.slice(0),er[0]-=St,er;if(isNumerable(tr,er)&&$bm_isInstanceOfArray(St))return St=St.slice(0),St[0]=er-St[0],St;if($bm_isInstanceOfArray(er)&&$bm_isInstanceOfArray(St)){for(var nr=0,sr=er.length,ir=St.length,ar=[];nr<sr||nr<ir;)(typeof er[nr]=="number"||er[nr]instanceof Number)&&(typeof St[nr]=="number"||St[nr]instanceof Number)?ar[nr]=er[nr]-St[nr]:ar[nr]=St[nr]===void 0?er[nr]:er[nr]||St[nr],nr+=1;return ar}return 0}function mul(er,St){var tr=_typeof$1(er),rr=_typeof$1(St),nr;if(isNumerable(tr,er)&&isNumerable(rr,St))return er*St;var sr,ir;if($bm_isInstanceOfArray(er)&&isNumerable(rr,St)){for(ir=er.length,nr=createTypedArray("float32",ir),sr=0;sr<ir;sr+=1)nr[sr]=er[sr]*St;return nr}if(isNumerable(tr,er)&&$bm_isInstanceOfArray(St)){for(ir=St.length,nr=createTypedArray("float32",ir),sr=0;sr<ir;sr+=1)nr[sr]=er*St[sr];return nr}return 0}function div(er,St){var tr=_typeof$1(er),rr=_typeof$1(St),nr;if(isNumerable(tr,er)&&isNumerable(rr,St))return er/St;var sr,ir;if($bm_isInstanceOfArray(er)&&isNumerable(rr,St)){for(ir=er.length,nr=createTypedArray("float32",ir),sr=0;sr<ir;sr+=1)nr[sr]=er[sr]/St;return nr}if(isNumerable(tr,er)&&$bm_isInstanceOfArray(St)){for(ir=St.length,nr=createTypedArray("float32",ir),sr=0;sr<ir;sr+=1)nr[sr]=er/St[sr];return nr}return 0}function mod(er,St){return typeof er=="string"&&(er=parseInt(er,10)),typeof St=="string"&&(St=parseInt(St,10)),er%St}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(er,St,tr){if(St>tr){var rr=tr;tr=St,St=rr}return Math.min(Math.max(er,St),tr)}function radiansToDegrees(er){return er/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(er){return er*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(er,St){if(typeof er=="number"||er instanceof Number)return St=St||0,Math.abs(er-St);St||(St=helperLengthArray);var tr,rr=Math.min(er.length,St.length),nr=0;for(tr=0;tr<rr;tr+=1)nr+=Math.pow(St[tr]-er[tr],2);return Math.sqrt(nr)}function normalize(er){return div(er,length(er))}function rgbToHsl(er){var St=er[0],tr=er[1],rr=er[2],nr=Math.max(St,tr,rr),sr=Math.min(St,tr,rr),ir,ar,or=(nr+sr)/2;if(nr===sr)ir=0,ar=0;else{var lr=nr-sr;switch(ar=or>.5?lr/(2-nr-sr):lr/(nr+sr),nr){case St:ir=(tr-rr)/lr+(tr<rr?6:0);break;case tr:ir=(rr-St)/lr+2;break;case rr:ir=(St-tr)/lr+4;break}ir/=6}return[ir,ar,or,er[3]]}function hue2rgb(er,St,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?er+(St-er)*6*tr:tr<1/2?St:tr<2/3?er+(St-er)*(2/3-tr)*6:er}function hslToRgb(er){var St=er[0],tr=er[1],rr=er[2],nr,sr,ir;if(tr===0)nr=rr,ir=rr,sr=rr;else{var ar=rr<.5?rr*(1+tr):rr+tr-rr*tr,or=2*rr-ar;nr=hue2rgb(or,ar,St+1/3),sr=hue2rgb(or,ar,St),ir=hue2rgb(or,ar,St-1/3)}return[nr,sr,ir,er[3]]}function linear(er,St,tr,rr,nr){if((rr===void 0||nr===void 0)&&(rr=St,nr=tr,St=0,tr=1),tr<St){var sr=tr;tr=St,St=sr}if(er<=St)return rr;if(er>=tr)return nr;var ir=tr===St?0:(er-St)/(tr-St);if(!rr.length)return rr+(nr-rr)*ir;var ar,or=rr.length,lr=createTypedArray("float32",or);for(ar=0;ar<or;ar+=1)lr[ar]=rr[ar]+(nr[ar]-rr[ar])*ir;return lr}function random(er,St){if(St===void 0&&(er===void 0?(er=0,St=1):(St=er,er=void 0)),St.length){var tr,rr=St.length;er||(er=createTypedArray("float32",rr));var nr=createTypedArray("float32",rr),sr=BMMath.random();for(tr=0;tr<rr;tr+=1)nr[tr]=er[tr]+sr*(St[tr]-er[tr]);return nr}er===void 0&&(er=0);var ir=BMMath.random();return er+ir*(St-er)}function createPath(er,St,tr,rr){var nr,sr=er.length,ir=shapePool.newElement();ir.setPathData(!!rr,sr);var ar=[0,0],or,lr;for(nr=0;nr<sr;nr+=1)or=St&&St[nr]?St[nr]:ar,lr=tr&&tr[nr]?tr[nr]:ar,ir.setTripleAt(er[nr][0],er[nr][1],lr[0]+er[nr][0],lr[1]+er[nr][1],or[0]+er[nr][0],or[1]+er[nr][1],nr,!0);return ir}function initiateExpression(elem,data,property){function noOp(er){return er}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function er(St,tr){var rr,nr,sr=this.pv.length?this.pv.length:1,ir=createTypedArray("float32",sr);St=5;var ar=Math.floor(time*St);for(rr=0,nr=0;rr<ar;){for(nr=0;nr<sr;nr+=1)ir[nr]+=-tr+tr*2*BMMath.random();rr+=1}var or=time*St,lr=or-Math.floor(or),cr=createTypedArray("float32",sr);if(sr>1){for(nr=0;nr<sr;nr+=1)cr[nr]=this.pv[nr]+ir[nr]+(-tr+tr*2*BMMath.random())*lr;return cr}return this.pv+ir[0]+(-tr+tr*2*BMMath.random())*lr}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(er,St){return loopIn(er,St,!0)}function loopOutDuration(er,St){return loopOut(er,St,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(er,St){var tr=[St[0]-er[0],St[1]-er[1],St[2]-er[2]],rr=Math.atan2(tr[0],Math.sqrt(tr[1]*tr[1]+tr[2]*tr[2]))/degToRads,nr=-Math.atan2(tr[1],tr[2])/degToRads;return[nr,rr,0]}function easeOut(er,St,tr,rr,nr){return applyEase(easeOutBez,er,St,tr,rr,nr)}function easeIn(er,St,tr,rr,nr){return applyEase(easeInBez,er,St,tr,rr,nr)}function ease(er,St,tr,rr,nr){return applyEase(easeInOutBez,er,St,tr,rr,nr)}function applyEase(er,St,tr,rr,nr,sr){nr===void 0?(nr=tr,sr=rr):St=(St-tr)/(rr-tr),St>1?St=1:St<0&&(St=0);var ir=er(St);if($bm_isInstanceOfArray(nr)){var ar,or=nr.length,lr=createTypedArray("float32",or);for(ar=0;ar<or;ar+=1)lr[ar]=(sr[ar]-nr[ar])*ir+nr[ar];return lr}return(sr-nr)*ir+nr}function nearestKey(er){var St,tr=data.k.length,rr,nr;if(!data.k.length||typeof data.k[0]=="number")rr=0,nr=0;else if(rr=-1,er*=elem.comp.globalData.frameRate,er<data.k[0].t)rr=1,nr=data.k[0].t;else{for(St=0;St<tr-1;St+=1)if(er===data.k[St].t){rr=St+1,nr=data.k[St].t;break}else if(er>data.k[St].t&&er<data.k[St+1].t){er-data.k[St].t>data.k[St+1].t-er?(rr=St+2,nr=data.k[St+1].t):(rr=St+1,nr=data.k[St].t);break}rr===-1&&(rr=St+1,nr=data.k[St].t)}var sr={};return sr.index=rr,sr.time=nr/elem.comp.globalData.frameRate,sr}function key(er){var St,tr,rr;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+er);er-=1,St={time:data.k[er].t/elem.comp.globalData.frameRate,value:[]};var nr=Object.prototype.hasOwnProperty.call(data.k[er],"s")?data.k[er].s:data.k[er-1].e;for(rr=nr.length,tr=0;tr<rr;tr+=1)St[tr]=nr[tr],St.value[tr]=nr[tr];return St}function framesToTime(er,St){return St||(St=elem.comp.globalData.frameRate),er/St}function timeToFrames(er,St){return!er&&er!==0&&(er=time),St||(St=elem.comp.globalData.frameRate),er*St}function seedRandom(er){BMMath.seedrandom(randSeed+er)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(er,St){return typeof value=="string"?St===void 0?value.substring(er):value.substring(er,St):""}function substr(er,St){return typeof value=="string"?St===void 0?value.substr(er):value.substr(er,St):""}function posterizeTime(er){time=er===0?0:Math.floor(time*er)/er,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(er){return value=er,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var er={};er.initExpressions=St,er.resetFrame=ExpressionManager.resetFrame;function St(tr){var rr=0,nr=[];function sr(){rr+=1}function ir(){rr-=1,rr===0&&or()}function ar(lr){nr.indexOf(lr)===-1&&nr.push(lr)}function or(){var lr,cr=nr.length;for(lr=0;lr<cr;lr+=1)nr[lr].release();nr.length=0}tr.renderer.compInterface=CompExpressionInterface(tr.renderer),tr.renderer.globalData.projectInterface.registerComposition(tr.renderer),tr.renderer.globalData.pushExpression=sr,tr.renderer.globalData.popExpression=ir,tr.renderer.globalData.registerExpressionProperty=ar}return er}(),MaskManagerInterface=function(){function er(tr,rr){this._mask=tr,this._data=rr}Object.defineProperty(er.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(er.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var St=function(rr){var nr=createSizedArray(rr.viewData.length),sr,ir=rr.viewData.length;for(sr=0;sr<ir;sr+=1)nr[sr]=new er(rr.viewData[sr],rr.masksProperties[sr]);var ar=function(lr){for(sr=0;sr<ir;){if(rr.masksProperties[sr].nm===lr)return nr[sr];sr+=1}return null};return ar};return St}(),ExpressionPropertyInterface=function(){var er={pv:0,v:0,mult:1},St={pv:[0,0,0],v:[0,0,0],mult:1};function tr(ir,ar,or){Object.defineProperty(ir,"velocity",{get:function(){return ar.getVelocityAtTime(ar.comp.currentFrame)}}),ir.numKeys=ar.keyframes?ar.keyframes.length:0,ir.key=function(lr){if(!ir.numKeys)return 0;var cr="";"s"in ar.keyframes[lr-1]?cr=ar.keyframes[lr-1].s:"e"in ar.keyframes[lr-2]?cr=ar.keyframes[lr-2].e:cr=ar.keyframes[lr-2].s;var ur=or==="unidimensional"?new Number(cr):Object.assign({},cr);return ur.time=ar.keyframes[lr-1].t/ar.elem.comp.globalData.frameRate,ur.value=or==="unidimensional"?cr[0]:cr,ur},ir.valueAtTime=ar.getValueAtTime,ir.speedAtTime=ar.getSpeedAtTime,ir.velocityAtTime=ar.getVelocityAtTime,ir.propertyGroup=ar.propertyGroup}function rr(ir){(!ir||!("pv"in ir))&&(ir=er);var ar=1/ir.mult,or=ir.pv*ar,lr=new Number(or);return lr.value=or,tr(lr,ir,"unidimensional"),function(){return ir.k&&ir.getValue(),or=ir.v*ar,lr.value!==or&&(lr=new Number(or),lr.value=or,lr[0]=or,tr(lr,ir,"unidimensional")),lr}}function nr(ir){(!ir||!("pv"in ir))&&(ir=St);var ar=1/ir.mult,or=ir.data&&ir.data.l||ir.pv.length,lr=createTypedArray("float32",or),cr=createTypedArray("float32",or);return lr.value=cr,tr(lr,ir,"multidimensional"),function(){ir.k&&ir.getValue();for(var ur=0;ur<or;ur+=1)cr[ur]=ir.v[ur]*ar,lr[ur]=cr[ur];return lr}}function sr(){return er}return function(ir){return ir?ir.propType==="unidimensional"?rr(ir):nr(ir):sr}}(),TransformExpressionInterface=function(){return function(er){function St(ir){switch(ir){case"scale":case"Scale":case"ADBE Scale":case 6:return St.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return St.rotation;case"ADBE Rotate X":return St.xRotation;case"ADBE Rotate Y":return St.yRotation;case"position":case"Position":case"ADBE Position":case 2:return St.position;case"ADBE Position_0":return St.xPosition;case"ADBE Position_1":return St.yPosition;case"ADBE Position_2":return St.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return St.anchorPoint;case"opacity":case"Opacity":case 11:return St.opacity;default:return null}}Object.defineProperty(St,"rotation",{get:ExpressionPropertyInterface(er.r||er.rz)}),Object.defineProperty(St,"zRotation",{get:ExpressionPropertyInterface(er.rz||er.r)}),Object.defineProperty(St,"xRotation",{get:ExpressionPropertyInterface(er.rx)}),Object.defineProperty(St,"yRotation",{get:ExpressionPropertyInterface(er.ry)}),Object.defineProperty(St,"scale",{get:ExpressionPropertyInterface(er.s)});var tr,rr,nr,sr;return er.p?sr=ExpressionPropertyInterface(er.p):(tr=ExpressionPropertyInterface(er.px),rr=ExpressionPropertyInterface(er.py),er.pz&&(nr=ExpressionPropertyInterface(er.pz))),Object.defineProperty(St,"position",{get:function(){return er.p?sr():[tr(),rr(),nr?nr():0]}}),Object.defineProperty(St,"xPosition",{get:ExpressionPropertyInterface(er.px)}),Object.defineProperty(St,"yPosition",{get:ExpressionPropertyInterface(er.py)}),Object.defineProperty(St,"zPosition",{get:ExpressionPropertyInterface(er.pz)}),Object.defineProperty(St,"anchorPoint",{get:ExpressionPropertyInterface(er.a)}),Object.defineProperty(St,"opacity",{get:ExpressionPropertyInterface(er.o)}),Object.defineProperty(St,"skew",{get:ExpressionPropertyInterface(er.sk)}),Object.defineProperty(St,"skewAxis",{get:ExpressionPropertyInterface(er.sa)}),Object.defineProperty(St,"orientation",{get:ExpressionPropertyInterface(er.or)}),St}}(),LayerExpressionInterface=function(){function er(lr){var cr=new Matrix;if(lr!==void 0){var ur=this._elem.finalTransform.mProp.getValueAtTime(lr);ur.clone(cr)}else{var dr=this._elem.finalTransform.mProp;dr.applyToMatrix(cr)}return cr}function St(lr,cr){var ur=this.getMatrix(cr);return ur.props[12]=0,ur.props[13]=0,ur.props[14]=0,this.applyPoint(ur,lr)}function tr(lr,cr){var ur=this.getMatrix(cr);return this.applyPoint(ur,lr)}function rr(lr,cr){var ur=this.getMatrix(cr);return ur.props[12]=0,ur.props[13]=0,ur.props[14]=0,this.invertPoint(ur,lr)}function nr(lr,cr){var ur=this.getMatrix(cr);return this.invertPoint(ur,lr)}function sr(lr,cr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ur,dr=this._elem.hierarchy.length;for(ur=0;ur<dr;ur+=1)this._elem.hierarchy[ur].finalTransform.mProp.applyToMatrix(lr)}return lr.applyToPointArray(cr[0],cr[1],cr[2]||0)}function ir(lr,cr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ur,dr=this._elem.hierarchy.length;for(ur=0;ur<dr;ur+=1)this._elem.hierarchy[ur].finalTransform.mProp.applyToMatrix(lr)}return lr.inversePoint(cr)}function ar(lr){var cr=new Matrix;if(cr.reset(),this._elem.finalTransform.mProp.applyToMatrix(cr),this._elem.hierarchy&&this._elem.hierarchy.length){var ur,dr=this._elem.hierarchy.length;for(ur=0;ur<dr;ur+=1)this._elem.hierarchy[ur].finalTransform.mProp.applyToMatrix(cr);return cr.inversePoint(lr)}return cr.inversePoint(lr)}function or(){return[1,1,1,1]}return function(lr){var cr;function ur(fr){hr.mask=new MaskManagerInterface(fr,lr)}function dr(fr){hr.effect=fr}function hr(fr){switch(fr){case"ADBE Root Vectors Group":case"Contents":case 2:return hr.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return cr;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return hr.effect;case"ADBE Text Properties":return hr.textInterface;default:return null}}hr.getMatrix=er,hr.invertPoint=ir,hr.applyPoint=sr,hr.toWorld=tr,hr.toWorldVec=St,hr.fromWorld=nr,hr.fromWorldVec=rr,hr.toComp=tr,hr.fromComp=ar,hr.sampleImage=or,hr.sourceRectAtTime=lr.sourceRectAtTime.bind(lr),hr._elem=lr,cr=TransformExpressionInterface(lr.finalTransform.mProp);var Ar=getDescriptor(cr,"anchorPoint");return Object.defineProperties(hr,{hasParent:{get:function(){return lr.hierarchy.length}},parent:{get:function(){return lr.hierarchy[0].layerInterface}},rotation:getDescriptor(cr,"rotation"),scale:getDescriptor(cr,"scale"),position:getDescriptor(cr,"position"),opacity:getDescriptor(cr,"opacity"),anchorPoint:Ar,anchor_point:Ar,transform:{get:function(){return cr}},active:{get:function(){return lr.isInRange}}}),hr.startTime=lr.data.st,hr.index=lr.data.ind,hr.source=lr.data.refId,hr.height=lr.data.ty===0?lr.data.h:100,hr.width=lr.data.ty===0?lr.data.w:100,hr.inPoint=lr.data.ip/lr.comp.globalData.frameRate,hr.outPoint=lr.data.op/lr.comp.globalData.frameRate,hr._name=lr.data.nm,hr.registerMaskInterface=ur,hr.registerEffectsInterface=dr,hr}}(),propertyGroupFactory=function(){return function(er,St){return function(tr){return tr=tr===void 0?1:tr,tr<=0?er:St(tr-1)}}}(),PropertyInterface=function(){return function(er,St){var tr={_name:er};function rr(nr){return nr=nr===void 0?1:nr,nr<=0?tr:St(nr-1)}return rr}}(),EffectsExpressionInterface=function(){var er={createEffectsInterface:St};function St(nr,sr){if(nr.effectsManager){var ir=[],ar=nr.data.ef,or,lr=nr.effectsManager.effectElements.length;for(or=0;or<lr;or+=1)ir.push(tr(ar[or],nr.effectsManager.effectElements[or],sr,nr));var cr=nr.data.ef||[],ur=function(hr){for(or=0,lr=cr.length;or<lr;){if(hr===cr[or].nm||hr===cr[or].mn||hr===cr[or].ix)return ir[or];or+=1}return null};return Object.defineProperty(ur,"numProperties",{get:function(){return cr.length}}),ur}return null}function tr(nr,sr,ir,ar){function or(hr){for(var Ar=nr.ef,fr=0,mr=Ar.length;fr<mr;){if(hr===Ar[fr].nm||hr===Ar[fr].mn||hr===Ar[fr].ix)return Ar[fr].ty===5?cr[fr]:cr[fr]();fr+=1}throw new Error}var lr=propertyGroupFactory(or,ir),cr=[],ur,dr=nr.ef.length;for(ur=0;ur<dr;ur+=1)nr.ef[ur].ty===5?cr.push(tr(nr.ef[ur],sr.effectElements[ur],sr.effectElements[ur].propertyGroup,ar)):cr.push(rr(sr.effectElements[ur],nr.ef[ur].ty,ar,lr));return nr.mn==="ADBE Color Control"&&Object.defineProperty(or,"color",{get:function(){return cr[0]()}}),Object.defineProperties(or,{numProperties:{get:function(){return nr.np}},_name:{value:nr.nm},propertyGroup:{value:lr}}),or.enabled=nr.en!==0,or.active=or.enabled,or}function rr(nr,sr,ir,ar){var or=ExpressionPropertyInterface(nr.p);function lr(){return sr===10?ir.comp.compInterface(nr.p.v):or()}return nr.p.setGroupProperty&&nr.p.setGroupProperty(PropertyInterface("",ar)),lr}return er}(),ShapePathInterface=function(){return function(St,tr,rr){var nr=tr.sh;function sr(ar){return ar==="Shape"||ar==="shape"||ar==="Path"||ar==="path"||ar==="ADBE Vector Shape"||ar===2?sr.path:null}var ir=propertyGroupFactory(sr,rr);return nr.setGroupProperty(PropertyInterface("Path",ir)),Object.defineProperties(sr,{path:{get:function(){return nr.k&&nr.getValue(),nr}},shape:{get:function(){return nr.k&&nr.getValue(),nr}},_name:{value:St.nm},ix:{value:St.ix},propertyIndex:{value:St.ix},mn:{value:St.mn},propertyGroup:{value:rr}}),sr}}(),ShapeExpressionInterface=function(){function er(Ar,fr,mr){var pr=[],gr,xr=Ar?Ar.length:0;for(gr=0;gr<xr;gr+=1)Ar[gr].ty==="gr"?pr.push(tr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="fl"?pr.push(rr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="st"?pr.push(ir(Ar[gr],fr[gr],mr)):Ar[gr].ty==="tm"?pr.push(ar(Ar[gr],fr[gr],mr)):Ar[gr].ty==="tr"||(Ar[gr].ty==="el"?pr.push(lr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="sr"?pr.push(cr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="sh"?pr.push(ShapePathInterface(Ar[gr],fr[gr],mr)):Ar[gr].ty==="rc"?pr.push(ur(Ar[gr],fr[gr],mr)):Ar[gr].ty==="rd"?pr.push(dr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="rp"?pr.push(hr(Ar[gr],fr[gr],mr)):Ar[gr].ty==="gf"?pr.push(nr(Ar[gr],fr[gr],mr)):pr.push(sr(Ar[gr],fr[gr])));return pr}function St(Ar,fr,mr){var pr,gr=function(Er){for(var _r=0,Sr=pr.length;_r<Sr;){if(pr[_r]._name===Er||pr[_r].mn===Er||pr[_r].propertyIndex===Er||pr[_r].ix===Er||pr[_r].ind===Er)return pr[_r];_r+=1}return typeof Er=="number"?pr[Er-1]:null};gr.propertyGroup=propertyGroupFactory(gr,mr),pr=er(Ar.it,fr.it,gr.propertyGroup),gr.numProperties=pr.length;var xr=or(Ar.it[Ar.it.length-1],fr.it[fr.it.length-1],gr.propertyGroup);return gr.transform=xr,gr.propertyIndex=Ar.cix,gr._name=Ar.nm,gr}function tr(Ar,fr,mr){var pr=function(Er){switch(Er){case"ADBE Vectors Group":case"Contents":case 2:return pr.content;default:return pr.transform}};pr.propertyGroup=propertyGroupFactory(pr,mr);var gr=St(Ar,fr,pr.propertyGroup),xr=or(Ar.it[Ar.it.length-1],fr.it[fr.it.length-1],pr.propertyGroup);return pr.content=gr,pr.transform=xr,Object.defineProperty(pr,"_name",{get:function(){return Ar.nm}}),pr.numProperties=Ar.np,pr.propertyIndex=Ar.ix,pr.nm=Ar.nm,pr.mn=Ar.mn,pr}function rr(Ar,fr,mr){function pr(gr){return gr==="Color"||gr==="color"?pr.color:gr==="Opacity"||gr==="opacity"?pr.opacity:null}return Object.defineProperties(pr,{color:{get:ExpressionPropertyInterface(fr.c)},opacity:{get:ExpressionPropertyInterface(fr.o)},_name:{value:Ar.nm},mn:{value:Ar.mn}}),fr.c.setGroupProperty(PropertyInterface("Color",mr)),fr.o.setGroupProperty(PropertyInterface("Opacity",mr)),pr}function nr(Ar,fr,mr){function pr(gr){return gr==="Start Point"||gr==="start point"?pr.startPoint:gr==="End Point"||gr==="end point"?pr.endPoint:gr==="Opacity"||gr==="opacity"?pr.opacity:null}return Object.defineProperties(pr,{startPoint:{get:ExpressionPropertyInterface(fr.s)},endPoint:{get:ExpressionPropertyInterface(fr.e)},opacity:{get:ExpressionPropertyInterface(fr.o)},type:{get:function(){return"a"}},_name:{value:Ar.nm},mn:{value:Ar.mn}}),fr.s.setGroupProperty(PropertyInterface("Start Point",mr)),fr.e.setGroupProperty(PropertyInterface("End Point",mr)),fr.o.setGroupProperty(PropertyInterface("Opacity",mr)),pr}function sr(){function Ar(){return null}return Ar}function ir(Ar,fr,mr){var pr=propertyGroupFactory(Sr,mr),gr=propertyGroupFactory(_r,pr);function xr(jr){Object.defineProperty(_r,Ar.d[jr].nm,{get:ExpressionPropertyInterface(fr.d.dataProps[jr].p)})}var yr,Er=Ar.d?Ar.d.length:0,_r={};for(yr=0;yr<Er;yr+=1)xr(yr),fr.d.dataProps[yr].p.setGroupProperty(gr);function Sr(jr){return jr==="Color"||jr==="color"?Sr.color:jr==="Opacity"||jr==="opacity"?Sr.opacity:jr==="Stroke Width"||jr==="stroke width"?Sr.strokeWidth:null}return Object.defineProperties(Sr,{color:{get:ExpressionPropertyInterface(fr.c)},opacity:{get:ExpressionPropertyInterface(fr.o)},strokeWidth:{get:ExpressionPropertyInterface(fr.w)},dash:{get:function(){return _r}},_name:{value:Ar.nm},mn:{value:Ar.mn}}),fr.c.setGroupProperty(PropertyInterface("Color",pr)),fr.o.setGroupProperty(PropertyInterface("Opacity",pr)),fr.w.setGroupProperty(PropertyInterface("Stroke Width",pr)),Sr}function ar(Ar,fr,mr){function pr(xr){return xr===Ar.e.ix||xr==="End"||xr==="end"?pr.end:xr===Ar.s.ix?pr.start:xr===Ar.o.ix?pr.offset:null}var gr=propertyGroupFactory(pr,mr);return pr.propertyIndex=Ar.ix,fr.s.setGroupProperty(PropertyInterface("Start",gr)),fr.e.setGroupProperty(PropertyInterface("End",gr)),fr.o.setGroupProperty(PropertyInterface("Offset",gr)),pr.propertyIndex=Ar.ix,pr.propertyGroup=mr,Object.defineProperties(pr,{start:{get:ExpressionPropertyInterface(fr.s)},end:{get:ExpressionPropertyInterface(fr.e)},offset:{get:ExpressionPropertyInterface(fr.o)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}function or(Ar,fr,mr){function pr(xr){return Ar.a.ix===xr||xr==="Anchor Point"?pr.anchorPoint:Ar.o.ix===xr||xr==="Opacity"?pr.opacity:Ar.p.ix===xr||xr==="Position"?pr.position:Ar.r.ix===xr||xr==="Rotation"||xr==="ADBE Vector Rotation"?pr.rotation:Ar.s.ix===xr||xr==="Scale"?pr.scale:Ar.sk&&Ar.sk.ix===xr||xr==="Skew"?pr.skew:Ar.sa&&Ar.sa.ix===xr||xr==="Skew Axis"?pr.skewAxis:null}var gr=propertyGroupFactory(pr,mr);return fr.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",gr)),fr.transform.mProps.p.setGroupProperty(PropertyInterface("Position",gr)),fr.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",gr)),fr.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",gr)),fr.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",gr)),fr.transform.mProps.sk&&(fr.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",gr)),fr.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",gr))),fr.transform.op.setGroupProperty(PropertyInterface("Opacity",gr)),Object.defineProperties(pr,{opacity:{get:ExpressionPropertyInterface(fr.transform.mProps.o)},position:{get:ExpressionPropertyInterface(fr.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(fr.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(fr.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(fr.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(fr.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(fr.transform.mProps.sa)},_name:{value:Ar.nm}}),pr.ty="tr",pr.mn=Ar.mn,pr.propertyGroup=mr,pr}function lr(Ar,fr,mr){function pr(yr){return Ar.p.ix===yr?pr.position:Ar.s.ix===yr?pr.size:null}var gr=propertyGroupFactory(pr,mr);pr.propertyIndex=Ar.ix;var xr=fr.sh.ty==="tm"?fr.sh.prop:fr.sh;return xr.s.setGroupProperty(PropertyInterface("Size",gr)),xr.p.setGroupProperty(PropertyInterface("Position",gr)),Object.defineProperties(pr,{size:{get:ExpressionPropertyInterface(xr.s)},position:{get:ExpressionPropertyInterface(xr.p)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}function cr(Ar,fr,mr){function pr(yr){return Ar.p.ix===yr?pr.position:Ar.r.ix===yr?pr.rotation:Ar.pt.ix===yr?pr.points:Ar.or.ix===yr||yr==="ADBE Vector Star Outer Radius"?pr.outerRadius:Ar.os.ix===yr?pr.outerRoundness:Ar.ir&&(Ar.ir.ix===yr||yr==="ADBE Vector Star Inner Radius")?pr.innerRadius:Ar.is&&Ar.is.ix===yr?pr.innerRoundness:null}var gr=propertyGroupFactory(pr,mr),xr=fr.sh.ty==="tm"?fr.sh.prop:fr.sh;return pr.propertyIndex=Ar.ix,xr.or.setGroupProperty(PropertyInterface("Outer Radius",gr)),xr.os.setGroupProperty(PropertyInterface("Outer Roundness",gr)),xr.pt.setGroupProperty(PropertyInterface("Points",gr)),xr.p.setGroupProperty(PropertyInterface("Position",gr)),xr.r.setGroupProperty(PropertyInterface("Rotation",gr)),Ar.ir&&(xr.ir.setGroupProperty(PropertyInterface("Inner Radius",gr)),xr.is.setGroupProperty(PropertyInterface("Inner Roundness",gr))),Object.defineProperties(pr,{position:{get:ExpressionPropertyInterface(xr.p)},rotation:{get:ExpressionPropertyInterface(xr.r)},points:{get:ExpressionPropertyInterface(xr.pt)},outerRadius:{get:ExpressionPropertyInterface(xr.or)},outerRoundness:{get:ExpressionPropertyInterface(xr.os)},innerRadius:{get:ExpressionPropertyInterface(xr.ir)},innerRoundness:{get:ExpressionPropertyInterface(xr.is)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}function ur(Ar,fr,mr){function pr(yr){return Ar.p.ix===yr?pr.position:Ar.r.ix===yr?pr.roundness:Ar.s.ix===yr||yr==="Size"||yr==="ADBE Vector Rect Size"?pr.size:null}var gr=propertyGroupFactory(pr,mr),xr=fr.sh.ty==="tm"?fr.sh.prop:fr.sh;return pr.propertyIndex=Ar.ix,xr.p.setGroupProperty(PropertyInterface("Position",gr)),xr.s.setGroupProperty(PropertyInterface("Size",gr)),xr.r.setGroupProperty(PropertyInterface("Rotation",gr)),Object.defineProperties(pr,{position:{get:ExpressionPropertyInterface(xr.p)},roundness:{get:ExpressionPropertyInterface(xr.r)},size:{get:ExpressionPropertyInterface(xr.s)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}function dr(Ar,fr,mr){function pr(yr){return Ar.r.ix===yr||yr==="Round Corners 1"?pr.radius:null}var gr=propertyGroupFactory(pr,mr),xr=fr;return pr.propertyIndex=Ar.ix,xr.rd.setGroupProperty(PropertyInterface("Radius",gr)),Object.defineProperties(pr,{radius:{get:ExpressionPropertyInterface(xr.rd)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}function hr(Ar,fr,mr){function pr(yr){return Ar.c.ix===yr||yr==="Copies"?pr.copies:Ar.o.ix===yr||yr==="Offset"?pr.offset:null}var gr=propertyGroupFactory(pr,mr),xr=fr;return pr.propertyIndex=Ar.ix,xr.c.setGroupProperty(PropertyInterface("Copies",gr)),xr.o.setGroupProperty(PropertyInterface("Offset",gr)),Object.defineProperties(pr,{copies:{get:ExpressionPropertyInterface(xr.c)},offset:{get:ExpressionPropertyInterface(xr.o)},_name:{value:Ar.nm}}),pr.mn=Ar.mn,pr}return function(Ar,fr,mr){var pr;function gr(yr){if(typeof yr=="number")return yr=yr===void 0?1:yr,yr===0?mr:pr[yr-1];for(var Er=0,_r=pr.length;Er<_r;){if(pr[Er]._name===yr)return pr[Er];Er+=1}return null}function xr(){return mr}return gr.propertyGroup=propertyGroupFactory(gr,xr),pr=er(Ar,fr,gr.propertyGroup),gr.numProperties=pr.length,gr._name="Contents",gr}}(),TextExpressionInterface=function(){return function(er){var St;function tr(rr){switch(rr){case"ADBE Text Document":return tr.sourceText;default:return null}}return Object.defineProperty(tr,"sourceText",{get:function(){er.textProperty.getValue();var nr=er.textProperty.currentData.t;return(!St||nr!==St.value)&&(St=new String(nr),St.value=nr||new String(nr),Object.defineProperty(St,"style",{get:function(){return{fillColor:er.textProperty.currentData.fc}}})),St}}),tr}}();function _typeof(er){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof(er)}var FootageInterface=function(){var er=function(rr){var nr="",sr=rr.getFootageData();function ir(){return nr="",sr=rr.getFootageData(),ar}function ar(or){if(sr[or])return nr=or,sr=sr[or],_typeof(sr)==="object"?ar:sr;var lr=or.indexOf(nr);if(lr!==-1){var cr=parseInt(or.substr(lr+nr.length),10);return sr=sr[cr],_typeof(sr)==="object"?ar:sr}return""}return ir},St=function(rr){function nr(sr){return sr==="Outline"?nr.outlineInterface():null}return nr._name="Outline",nr.outlineInterface=er(rr),nr};return function(tr){function rr(nr){return nr==="Data"?rr.dataInterface:null}return rr._name="Data",rr.dataInterface=St(tr),rr}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(er){return interfaces[er]||null}var expressionHelpers=function(){function er(ir,ar,or){ar.x&&(or.k=!0,or.x=!0,or.initiateExpression=ExpressionManager.initiateExpression,or.effectsSequence.push(or.initiateExpression(ir,ar,or).bind(or)))}function St(ir){return ir*=this.elem.globalData.frameRate,ir-=this.offsetTime,ir!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ir?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ir,this._cachingAtTime),this._cachingAtTime.lastFrame=ir),this._cachingAtTime.value}function tr(ir){var ar=-.01,or=this.getValueAtTime(ir),lr=this.getValueAtTime(ir+ar),cr=0;if(or.length){var ur;for(ur=0;ur<or.length;ur+=1)cr+=Math.pow(lr[ur]-or[ur],2);cr=Math.sqrt(cr)*100}else cr=0;return cr}function rr(ir){if(this.vel!==void 0)return this.vel;var ar=-.001,or=this.getValueAtTime(ir),lr=this.getValueAtTime(ir+ar),cr;if(or.length){cr=createTypedArray("float32",or.length);var ur;for(ur=0;ur<or.length;ur+=1)cr[ur]=(lr[ur]-or[ur])/ar}else cr=(lr-or)/ar;return cr}function nr(){return this.pv}function sr(ir){this.propertyGroup=ir}return{searchExpressions:er,getSpeedAtTime:tr,getVelocityAtTime:rr,getValueAtTime:St,getStaticValueAtTime:nr,setGroupProperty:sr}}();function addPropertyDecorator(){function er(dr,hr,Ar){if(!this.k||!this.keyframes)return this.pv;dr=dr?dr.toLowerCase():"";var fr=this.comp.renderedFrame,mr=this.keyframes,pr=mr[mr.length-1].t;if(fr<=pr)return this.pv;var gr,xr;Ar?(hr?gr=Math.abs(pr-this.elem.comp.globalData.frameRate*hr):gr=Math.max(0,pr-this.elem.data.ip),xr=pr-gr):((!hr||hr>mr.length-1)&&(hr=mr.length-1),xr=mr[mr.length-1-hr].t,gr=pr-xr);var yr,Er,_r;if(dr==="pingpong"){var Sr=Math.floor((fr-xr)/gr);if(Sr%2!==0)return this.getValueAtTime((gr-(fr-xr)%gr+xr)/this.comp.globalData.frameRate,0)}else if(dr==="offset"){var jr=this.getValueAtTime(xr/this.comp.globalData.frameRate,0),Pr=this.getValueAtTime(pr/this.comp.globalData.frameRate,0),Mr=this.getValueAtTime(((fr-xr)%gr+xr)/this.comp.globalData.frameRate,0),Ir=Math.floor((fr-xr)/gr);if(this.pv.length){for(_r=new Array(jr.length),Er=_r.length,yr=0;yr<Er;yr+=1)_r[yr]=(Pr[yr]-jr[yr])*Ir+Mr[yr];return _r}return(Pr-jr)*Ir+Mr}else if(dr==="continue"){var Lr=this.getValueAtTime(pr/this.comp.globalData.frameRate,0),Qr=this.getValueAtTime((pr-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_r=new Array(Lr.length),Er=_r.length,yr=0;yr<Er;yr+=1)_r[yr]=Lr[yr]+(Lr[yr]-Qr[yr])*((fr-pr)/this.comp.globalData.frameRate)/5e-4;return _r}return Lr+(Lr-Qr)*((fr-pr)/.001)}return this.getValueAtTime(((fr-xr)%gr+xr)/this.comp.globalData.frameRate,0)}function St(dr,hr,Ar){if(!this.k)return this.pv;dr=dr?dr.toLowerCase():"";var fr=this.comp.renderedFrame,mr=this.keyframes,pr=mr[0].t;if(fr>=pr)return this.pv;var gr,xr;Ar?(hr?gr=Math.abs(this.elem.comp.globalData.frameRate*hr):gr=Math.max(0,this.elem.data.op-pr),xr=pr+gr):((!hr||hr>mr.length-1)&&(hr=mr.length-1),xr=mr[hr].t,gr=xr-pr);var yr,Er,_r;if(dr==="pingpong"){var Sr=Math.floor((pr-fr)/gr);if(Sr%2===0)return this.getValueAtTime(((pr-fr)%gr+pr)/this.comp.globalData.frameRate,0)}else if(dr==="offset"){var jr=this.getValueAtTime(pr/this.comp.globalData.frameRate,0),Pr=this.getValueAtTime(xr/this.comp.globalData.frameRate,0),Mr=this.getValueAtTime((gr-(pr-fr)%gr+pr)/this.comp.globalData.frameRate,0),Ir=Math.floor((pr-fr)/gr)+1;if(this.pv.length){for(_r=new Array(jr.length),Er=_r.length,yr=0;yr<Er;yr+=1)_r[yr]=Mr[yr]-(Pr[yr]-jr[yr])*Ir;return _r}return Mr-(Pr-jr)*Ir}else if(dr==="continue"){var Lr=this.getValueAtTime(pr/this.comp.globalData.frameRate,0),Qr=this.getValueAtTime((pr+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_r=new Array(Lr.length),Er=_r.length,yr=0;yr<Er;yr+=1)_r[yr]=Lr[yr]+(Lr[yr]-Qr[yr])*(pr-fr)/.001;return _r}return Lr+(Lr-Qr)*(pr-fr)/.001}return this.getValueAtTime((gr-((pr-fr)%gr+pr))/this.comp.globalData.frameRate,0)}function tr(dr,hr){if(!this.k)return this.pv;if(dr=(dr||.4)*.5,hr=Math.floor(hr||5),hr<=1)return this.pv;var Ar=this.comp.renderedFrame/this.comp.globalData.frameRate,fr=Ar-dr,mr=Ar+dr,pr=hr>1?(mr-fr)/(hr-1):1,gr=0,xr=0,yr;this.pv.length?yr=createTypedArray("float32",this.pv.length):yr=0;for(var Er;gr<hr;){if(Er=this.getValueAtTime(fr+gr*pr),this.pv.length)for(xr=0;xr<this.pv.length;xr+=1)yr[xr]+=Er[xr];else yr+=Er;gr+=1}if(this.pv.length)for(xr=0;xr<this.pv.length;xr+=1)yr[xr]/=hr;else yr/=hr;return yr}function rr(dr){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var hr=this._transformCachingAtTime.v;if(hr.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Ar=this.a.getValueAtTime(dr);hr.translate(-Ar[0]*this.a.mult,-Ar[1]*this.a.mult,Ar[2]*this.a.mult)}if(this.appliedTransformations<2){var fr=this.s.getValueAtTime(dr);hr.scale(fr[0]*this.s.mult,fr[1]*this.s.mult,fr[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var mr=this.sk.getValueAtTime(dr),pr=this.sa.getValueAtTime(dr);hr.skewFromAxis(-mr*this.sk.mult,pr*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var gr=this.r.getValueAtTime(dr);hr.rotate(-gr*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var xr=this.rz.getValueAtTime(dr),yr=this.ry.getValueAtTime(dr),Er=this.rx.getValueAtTime(dr),_r=this.or.getValueAtTime(dr);hr.rotateZ(-xr*this.rz.mult).rotateY(yr*this.ry.mult).rotateX(Er*this.rx.mult).rotateZ(-_r[2]*this.or.mult).rotateY(_r[1]*this.or.mult).rotateX(_r[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Sr=this.px.getValueAtTime(dr),jr=this.py.getValueAtTime(dr);if(this.data.p.z){var Pr=this.pz.getValueAtTime(dr);hr.translate(Sr*this.px.mult,jr*this.py.mult,-Pr*this.pz.mult)}else hr.translate(Sr*this.px.mult,jr*this.py.mult,0)}else{var Mr=this.p.getValueAtTime(dr);hr.translate(Mr[0]*this.p.mult,Mr[1]*this.p.mult,-Mr[2]*this.p.mult)}return hr}function nr(){return this.v.clone(new Matrix)}var sr=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(dr,hr,Ar){var fr=sr(dr,hr,Ar);return fr.dynamicProperties.length?fr.getValueAtTime=rr.bind(fr):fr.getValueAtTime=nr.bind(fr),fr.setGroupProperty=expressionHelpers.setGroupProperty,fr};var ir=PropertyFactory.getProp;PropertyFactory.getProp=function(dr,hr,Ar,fr,mr){var pr=ir(dr,hr,Ar,fr,mr);pr.kf?pr.getValueAtTime=expressionHelpers.getValueAtTime.bind(pr):pr.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(pr),pr.setGroupProperty=expressionHelpers.setGroupProperty,pr.loopOut=er,pr.loopIn=St,pr.smooth=tr,pr.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(pr),pr.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(pr),pr.numKeys=hr.a===1?hr.k.length:0,pr.propertyIndex=hr.ix;var gr=0;return Ar!==0&&(gr=createTypedArray("float32",hr.a===1?hr.k[0].s.length:hr.k.length)),pr._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:gr},expressionHelpers.searchExpressions(dr,hr,pr),pr.k&&mr.addDynamicProperty(pr),pr};function ar(dr){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),dr*=this.elem.globalData.frameRate,dr-=this.offsetTime,dr!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<dr?this._caching.lastIndex:0,this._cachingAtTime.lastTime=dr,this.interpolateShape(dr,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var or=ShapePropertyFactory.getConstructorFunction(),lr=ShapePropertyFactory.getKeyframedConstructorFunction();function cr(){}cr.prototype={vertices:function(hr,Ar){this.k&&this.getValue();var fr=this.v;Ar!==void 0&&(fr=this.getValueAtTime(Ar,0));var mr,pr=fr._length,gr=fr[hr],xr=fr.v,yr=createSizedArray(pr);for(mr=0;mr<pr;mr+=1)hr==="i"||hr==="o"?yr[mr]=[gr[mr][0]-xr[mr][0],gr[mr][1]-xr[mr][1]]:yr[mr]=[gr[mr][0],gr[mr][1]];return yr},points:function(hr){return this.vertices("v",hr)},inTangents:function(hr){return this.vertices("i",hr)},outTangents:function(hr){return this.vertices("o",hr)},isClosed:function(){return this.v.c},pointOnPath:function(hr,Ar){var fr=this.v;Ar!==void 0&&(fr=this.getValueAtTime(Ar,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(fr));for(var mr=this._segmentsLength,pr=mr.lengths,gr=mr.totalLength*hr,xr=0,yr=pr.length,Er=0,_r;xr<yr;){if(Er+pr[xr].addedLength>gr){var Sr=xr,jr=fr.c&&xr===yr-1?0:xr+1,Pr=(gr-Er)/pr[xr].addedLength;_r=bez.getPointInSegment(fr.v[Sr],fr.v[jr],fr.o[Sr],fr.i[jr],Pr,pr[xr]);break}else Er+=pr[xr].addedLength;xr+=1}return _r||(_r=fr.c?[fr.v[0][0],fr.v[0][1]]:[fr.v[fr._length-1][0],fr.v[fr._length-1][1]]),_r},vectorOnPath:function(hr,Ar,fr){hr==1?hr=this.v.c:hr==0&&(hr=.999);var mr=this.pointOnPath(hr,Ar),pr=this.pointOnPath(hr+.001,Ar),gr=pr[0]-mr[0],xr=pr[1]-mr[1],yr=Math.sqrt(Math.pow(gr,2)+Math.pow(xr,2));if(yr===0)return[0,0];var Er=fr==="tangent"?[gr/yr,xr/yr]:[-xr/yr,gr/yr];return Er},tangentOnPath:function(hr,Ar){return this.vectorOnPath(hr,Ar,"tangent")},normalOnPath:function(hr,Ar){return this.vectorOnPath(hr,Ar,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([cr],or),extendPrototype([cr],lr),lr.prototype.getValueAtTime=ar,lr.prototype.initiateExpression=ExpressionManager.initiateExpression;var ur=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(dr,hr,Ar,fr,mr){var pr=ur(dr,hr,Ar,fr,mr);return pr.propertyIndex=hr.ix,pr.lock=!1,Ar===3?expressionHelpers.searchExpressions(dr,hr.pt,pr):Ar===4&&expressionHelpers.searchExpressions(dr,hr.ks,pr),pr.k&&dr.addDynamicProperty(pr),pr}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function er(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(St,tr){var rr=this.calculateExpression(tr);if(St.t!==rr){var nr={};return this.copyData(nr,St),nr.t=rr.toString(),nr.__complete=!1,nr}return St},TextProperty.prototype.searchProperty=function(){var St=this.searchKeyframes(),tr=this.searchExpressions();return this.kf=St||tr,this.kf},TextProperty.prototype.searchExpressions=er}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function er(St,tr){var rr=createNS("feMerge");rr.setAttribute("result",St);var nr,sr;for(sr=0;sr<tr.length;sr+=1)nr=createNS("feMergeNode"),nr.setAttribute("in",tr[sr]),rr.appendChild(nr),rr.appendChild(nr);return rr}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(er,St,tr,rr,nr){this.filterManager=St;var sr=createNS("feColorMatrix");sr.setAttribute("type","matrix"),sr.setAttribute("color-interpolation-filters","linearRGB"),sr.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=sr,sr.setAttribute("result",rr+"_tint_1"),er.appendChild(sr),sr=createNS("feColorMatrix"),sr.setAttribute("type","matrix"),sr.setAttribute("color-interpolation-filters","sRGB"),sr.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),sr.setAttribute("result",rr+"_tint_2"),er.appendChild(sr),this.matrixFilter=sr;var ir=this.createMergeNode(rr,[nr,rr+"_tint_1",rr+"_tint_2"]);er.appendChild(ir)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){var St=this.filterManager.effectElements[0].p.v,tr=this.filterManager.effectElements[1].p.v,rr=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rr+" 0"),this.matrixFilter.setAttribute("values",tr[0]-St[0]+" 0 0 0 "+St[0]+" "+(tr[1]-St[1])+" 0 0 0 "+St[1]+" "+(tr[2]-St[2])+" 0 0 0 "+St[2]+" 0 0 0 1 0")}};function SVGFillFilter(er,St,tr,rr){this.filterManager=St;var nr=createNS("feColorMatrix");nr.setAttribute("type","matrix"),nr.setAttribute("color-interpolation-filters","sRGB"),nr.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),nr.setAttribute("result",rr),er.appendChild(nr),this.matrixFilter=nr}SVGFillFilter.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){var St=this.filterManager.effectElements[2].p.v,tr=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+St[0]+" 0 0 0 0 "+St[1]+" 0 0 0 0 "+St[2]+" 0 0 0 "+tr+" 0")}};function SVGStrokeEffect(er,St,tr){this.initialized=!1,this.filterManager=St,this.elem=tr,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var er=this.elem.layerElement.children||this.elem.layerElement.childNodes,St,tr,rr,nr;for(this.filterManager.effectElements[1].p.v===1?(nr=this.elem.maskManager.masksProperties.length,rr=0):(rr=this.filterManager.effectElements[0].p.v-1,nr=rr+1),tr=createNS("g"),tr.setAttribute("fill","none"),tr.setAttribute("stroke-linecap","round"),tr.setAttribute("stroke-dashoffset",1),rr;rr<nr;rr+=1)St=createNS("path"),tr.appendChild(St),this.paths.push({p:St,m:rr});if(this.filterManager.effectElements[10].p.v===3){var sr=createNS("mask"),ir=createElementID();sr.setAttribute("id",ir),sr.setAttribute("mask-type","alpha"),sr.appendChild(tr),this.elem.globalData.defs.appendChild(sr);var ar=createNS("g");for(ar.setAttribute("mask","url("+getLocationHref()+"#"+ir+")");er[0];)ar.appendChild(er[0]);this.elem.layerElement.appendChild(ar),this.masker=sr,tr.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(er=this.elem.layerElement.children||this.elem.layerElement.childNodes;er.length;)this.elem.layerElement.removeChild(er[0]);this.elem.layerElement.appendChild(tr),this.elem.layerElement.removeAttribute("mask"),tr.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=tr},SVGStrokeEffect.prototype.renderFrame=function(er){this.initialized||this.initialize();var St,tr=this.paths.length,rr,nr;for(St=0;St<tr;St+=1)if(this.paths[St].m!==-1&&(rr=this.elem.maskManager.viewData[this.paths[St].m],nr=this.paths[St].p,(er||this.filterManager._mdf||rr.prop._mdf)&&nr.setAttribute("d",rr.lastPath),er||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rr.prop._mdf)){var sr;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ir=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ar=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,or=nr.getTotalLength();sr="0 0 0 "+or*ir+" ";var lr=or*(ar-ir),cr=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ur=Math.floor(lr/cr),dr;for(dr=0;dr<ur;dr+=1)sr+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";sr+="0 "+or*10+" 0 0"}else sr="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;nr.setAttribute("stroke-dasharray",sr)}if((er||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(er||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(er||this.filterManager.effectElements[3].p._mdf)){var hr=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(hr[0]*255)+","+bmFloor(hr[1]*255)+","+bmFloor(hr[2]*255)+")")}};function SVGTritoneFilter(er,St,tr,rr){this.filterManager=St;var nr=createNS("feColorMatrix");nr.setAttribute("type","matrix"),nr.setAttribute("color-interpolation-filters","linearRGB"),nr.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),er.appendChild(nr);var sr=createNS("feComponentTransfer");sr.setAttribute("color-interpolation-filters","sRGB"),sr.setAttribute("result",rr),this.matrixFilter=sr;var ir=createNS("feFuncR");ir.setAttribute("type","table"),sr.appendChild(ir),this.feFuncR=ir;var ar=createNS("feFuncG");ar.setAttribute("type","table"),sr.appendChild(ar),this.feFuncG=ar;var or=createNS("feFuncB");or.setAttribute("type","table"),sr.appendChild(or),this.feFuncB=or,er.appendChild(sr)}SVGTritoneFilter.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){var St=this.filterManager.effectElements[0].p.v,tr=this.filterManager.effectElements[1].p.v,rr=this.filterManager.effectElements[2].p.v,nr=rr[0]+" "+tr[0]+" "+St[0],sr=rr[1]+" "+tr[1]+" "+St[1],ir=rr[2]+" "+tr[2]+" "+St[2];this.feFuncR.setAttribute("tableValues",nr),this.feFuncG.setAttribute("tableValues",sr),this.feFuncB.setAttribute("tableValues",ir)}};function SVGProLevelsFilter(er,St,tr,rr){this.filterManager=St;var nr=this.filterManager.effectElements,sr=createNS("feComponentTransfer");(nr[10].p.k||nr[10].p.v!==0||nr[11].p.k||nr[11].p.v!==1||nr[12].p.k||nr[12].p.v!==1||nr[13].p.k||nr[13].p.v!==0||nr[14].p.k||nr[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",sr)),(nr[17].p.k||nr[17].p.v!==0||nr[18].p.k||nr[18].p.v!==1||nr[19].p.k||nr[19].p.v!==1||nr[20].p.k||nr[20].p.v!==0||nr[21].p.k||nr[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",sr)),(nr[24].p.k||nr[24].p.v!==0||nr[25].p.k||nr[25].p.v!==1||nr[26].p.k||nr[26].p.v!==1||nr[27].p.k||nr[27].p.v!==0||nr[28].p.k||nr[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",sr)),(nr[31].p.k||nr[31].p.v!==0||nr[32].p.k||nr[32].p.v!==1||nr[33].p.k||nr[33].p.v!==1||nr[34].p.k||nr[34].p.v!==0||nr[35].p.k||nr[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",sr)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(sr.setAttribute("color-interpolation-filters","sRGB"),er.appendChild(sr)),(nr[3].p.k||nr[3].p.v!==0||nr[4].p.k||nr[4].p.v!==1||nr[5].p.k||nr[5].p.v!==1||nr[6].p.k||nr[6].p.v!==0||nr[7].p.k||nr[7].p.v!==1)&&(sr=createNS("feComponentTransfer"),sr.setAttribute("color-interpolation-filters","sRGB"),sr.setAttribute("result",rr),er.appendChild(sr),this.feFuncRComposed=this.createFeFunc("feFuncR",sr),this.feFuncGComposed=this.createFeFunc("feFuncG",sr),this.feFuncBComposed=this.createFeFunc("feFuncB",sr))}SVGProLevelsFilter.prototype.createFeFunc=function(er,St){var tr=createNS(er);return tr.setAttribute("type","table"),St.appendChild(tr),tr},SVGProLevelsFilter.prototype.getTableValue=function(er,St,tr,rr,nr){for(var sr=0,ir=256,ar,or=Math.min(er,St),lr=Math.max(er,St),cr=Array.call(null,{length:ir}),ur,dr=0,hr=nr-rr,Ar=St-er;sr<=256;)ar=sr/256,ar<=or?ur=Ar<0?nr:rr:ar>=lr?ur=Ar<0?rr:nr:ur=rr+hr*Math.pow((ar-er)/Ar,1/tr),cr[dr]=ur,dr+=1,sr+=256/(ir-1);return cr.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){var St,tr=this.filterManager.effectElements;this.feFuncRComposed&&(er||tr[3].p._mdf||tr[4].p._mdf||tr[5].p._mdf||tr[6].p._mdf||tr[7].p._mdf)&&(St=this.getTableValue(tr[3].p.v,tr[4].p.v,tr[5].p.v,tr[6].p.v,tr[7].p.v),this.feFuncRComposed.setAttribute("tableValues",St),this.feFuncGComposed.setAttribute("tableValues",St),this.feFuncBComposed.setAttribute("tableValues",St)),this.feFuncR&&(er||tr[10].p._mdf||tr[11].p._mdf||tr[12].p._mdf||tr[13].p._mdf||tr[14].p._mdf)&&(St=this.getTableValue(tr[10].p.v,tr[11].p.v,tr[12].p.v,tr[13].p.v,tr[14].p.v),this.feFuncR.setAttribute("tableValues",St)),this.feFuncG&&(er||tr[17].p._mdf||tr[18].p._mdf||tr[19].p._mdf||tr[20].p._mdf||tr[21].p._mdf)&&(St=this.getTableValue(tr[17].p.v,tr[18].p.v,tr[19].p.v,tr[20].p.v,tr[21].p.v),this.feFuncG.setAttribute("tableValues",St)),this.feFuncB&&(er||tr[24].p._mdf||tr[25].p._mdf||tr[26].p._mdf||tr[27].p._mdf||tr[28].p._mdf)&&(St=this.getTableValue(tr[24].p.v,tr[25].p.v,tr[26].p.v,tr[27].p.v,tr[28].p.v),this.feFuncB.setAttribute("tableValues",St)),this.feFuncA&&(er||tr[31].p._mdf||tr[32].p._mdf||tr[33].p._mdf||tr[34].p._mdf||tr[35].p._mdf)&&(St=this.getTableValue(tr[31].p.v,tr[32].p.v,tr[33].p.v,tr[34].p.v,tr[35].p.v),this.feFuncA.setAttribute("tableValues",St))}};function SVGDropShadowEffect(er,St,tr,rr,nr){var sr=St.container.globalData.renderConfig.filterSize,ir=St.data.fs||sr;er.setAttribute("x",ir.x||sr.x),er.setAttribute("y",ir.y||sr.y),er.setAttribute("width",ir.width||sr.width),er.setAttribute("height",ir.height||sr.height),this.filterManager=St;var ar=createNS("feGaussianBlur");ar.setAttribute("in","SourceAlpha"),ar.setAttribute("result",rr+"_drop_shadow_1"),ar.setAttribute("stdDeviation","0"),this.feGaussianBlur=ar,er.appendChild(ar);var or=createNS("feOffset");or.setAttribute("dx","25"),or.setAttribute("dy","0"),or.setAttribute("in",rr+"_drop_shadow_1"),or.setAttribute("result",rr+"_drop_shadow_2"),this.feOffset=or,er.appendChild(or);var lr=createNS("feFlood");lr.setAttribute("flood-color","#00ff00"),lr.setAttribute("flood-opacity","1"),lr.setAttribute("result",rr+"_drop_shadow_3"),this.feFlood=lr,er.appendChild(lr);var cr=createNS("feComposite");cr.setAttribute("in",rr+"_drop_shadow_3"),cr.setAttribute("in2",rr+"_drop_shadow_2"),cr.setAttribute("operator","in"),cr.setAttribute("result",rr+"_drop_shadow_4"),er.appendChild(cr);var ur=this.createMergeNode(rr,[rr+"_drop_shadow_4",nr]);er.appendChild(ur)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){if((er||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),er||this.filterManager.effectElements[0].p._mdf){var St=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(St[0]*255),Math.round(St[1]*255),Math.round(St[2]*255)))}if((er||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),er||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var tr=this.filterManager.effectElements[3].p.v,rr=(this.filterManager.effectElements[2].p.v-90)*degToRads,nr=tr*Math.cos(rr),sr=tr*Math.sin(rr);this.feOffset.setAttribute("dx",nr),this.feOffset.setAttribute("dy",sr)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(er,St,tr){this.initialized=!1,this.filterManager=St,this.filterElem=er,this.elem=tr,tr.matteElement=createNS("g"),tr.matteElement.appendChild(tr.layerElement),tr.matteElement.appendChild(tr.transformedElement),tr.baseElement=tr.matteElement}SVGMatte3Effect.prototype.findSymbol=function(er){for(var St=0,tr=_svgMatteSymbols.length;St<tr;){if(_svgMatteSymbols[St]===er)return _svgMatteSymbols[St];St+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(er,St){var tr=er.layerElement.parentNode;if(tr){for(var rr=tr.children,nr=0,sr=rr.length;nr<sr&&rr[nr]!==er.layerElement;)nr+=1;var ir;nr<=sr-2&&(ir=rr[nr+1]);var ar=createNS("use");ar.setAttribute("href","#"+St),ir?tr.insertBefore(ar,ir):tr.appendChild(ar)}},SVGMatte3Effect.prototype.setElementAsMask=function(er,St){if(!this.findSymbol(St)){var tr=createElementID(),rr=createNS("mask");rr.setAttribute("id",St.layerId),rr.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(St);var nr=er.globalData.defs;nr.appendChild(rr);var sr=createNS("symbol");sr.setAttribute("id",tr),this.replaceInParent(St,tr),sr.appendChild(St.layerElement),nr.appendChild(sr);var ir=createNS("use");ir.setAttribute("href","#"+tr),rr.appendChild(ir),St.data.hd=!1,St.show()}er.setMatte(St.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var er=this.filterManager.effectElements[0].p.v,St=this.elem.comp.elements,tr=0,rr=St.length;tr<rr;)St[tr]&&St[tr].data.ind===er&&this.setElementAsMask(this.elem,St[tr]),tr+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(er,St,tr,rr){er.setAttribute("x","-100%"),er.setAttribute("y","-100%"),er.setAttribute("width","300%"),er.setAttribute("height","300%"),this.filterManager=St;var nr=createNS("feGaussianBlur");nr.setAttribute("result",rr),er.appendChild(nr),this.feGaussianBlur=nr}SVGGaussianBlurEffect.prototype.renderFrame=function(er){if(er||this.filterManager._mdf){var St=.3,tr=this.filterManager.effectElements[0].p.v*St,rr=this.filterManager.effectElements[1].p.v,nr=rr==3?0:tr,sr=rr==2?0:tr;this.feGaussianBlur.setAttribute("stdDeviation",nr+" "+sr);var ir=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ir)}};function TransformEffect(){}TransformEffect.prototype.init=function(er){this.effectsManager=er,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(er){if(this._opMdf=!1,this._mdf=!1,er||this.effectsManager._mdf){var St=this.effectsManager.effectElements,tr=St[0].p.v,rr=St[1].p.v,nr=St[2].p.v===1,sr=St[3].p.v,ir=nr?sr:St[4].p.v,ar=St[5].p.v,or=St[6].p.v,lr=St[7].p.v;this.matrix.reset(),this.matrix.translate(-tr[0],-tr[1],tr[2]),this.matrix.scale(ir*.01,sr*.01,1),this.matrix.rotate(-lr*degToRads),this.matrix.skewFromAxis(-ar*degToRads,(or+90)*degToRads),this.matrix.translate(rr[0],rr[1],0),this._mdf=!0,this.opacity!==St[8].p.v&&(this.opacity=St[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(er,St){this.init(St)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(er){this.init(er)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(er,St){(St==null||St>er.length)&&(St=er.length);for(var tr=0,rr=Array(St);tr<St;tr++)rr[tr]=er[tr];return rr}function _arrayWithHoles(er){if(Array.isArray(er))return er}function _defineProperty$H(er,St,tr){return(St=_toPropertyKey$H(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _iterableToArrayLimit(er,St){var tr=er==null?null:typeof Symbol<"u"&&er[Symbol.iterator]||er["@@iterator"];if(tr!=null){var rr,nr,sr,ir,ar=[],or=!0,lr=!1;try{if(sr=(tr=tr.call(er)).next,St!==0)for(;!(or=(rr=sr.call(tr)).done)&&(ar.push(rr.value),ar.length!==St);or=!0);}catch(cr){lr=!0,nr=cr}finally{try{if(!or&&tr.return!=null&&(ir=tr.return(),Object(ir)!==ir))return}finally{if(lr)throw nr}}return ar}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$D(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread2(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$D(Object(tr),!0).forEach(function(rr){_defineProperty$H(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$D(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _objectWithoutProperties$p(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$p(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.includes(tr)||{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$p(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.includes(rr))continue;tr[rr]=er[rr]}return tr}function _slicedToArray$1(er,St){return _arrayWithHoles(er)||_iterableToArrayLimit(er,St)||_unsupportedIterableToArray(er,St)||_nonIterableRest()}function _toPrimitive$H(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _toPropertyKey$H(er){var St=_toPrimitive$H(er,"string");return typeof St=="symbol"?St:St+""}function _unsupportedIterableToArray(er,St){if(er){if(typeof er=="string")return _arrayLikeToArray(er,St);var tr={}.toString.call(er).slice(8,-1);return tr==="Object"&&er.constructor&&(tr=er.constructor.name),tr==="Map"||tr==="Set"?Array.from(er):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?_arrayLikeToArray(er,St):void 0}}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function er(St,tr){var rr=St.animationData,nr=St.loop,sr=St.autoplay,ir=St.initialSegment,ar=St.onComplete,or=St.onLoopComplete,lr=St.onEnterFrame,cr=St.onSegmentStart,ur=St.onConfigReady,dr=St.onDataReady,hr=St.onDataFailed,Ar=St.onLoadedImages,fr=St.onDOMLoaded,mr=St.onDestroy;St.lottieRef,St.renderer,St.name,St.assetsPath,St.rendererSettings;var pr=_objectWithoutProperties$p(St,_excluded$1$1),gr=reactExports.useState(!1),xr=_slicedToArray$1(gr,2),yr=xr[0],Er=xr[1],_r=reactExports.useRef(),Sr=reactExports.useRef(null),jr=function(){var Rr;(Rr=_r.current)===null||Rr===void 0||Rr.play()},Pr=function(){var Rr;(Rr=_r.current)===null||Rr===void 0||Rr.stop()},Mr=function(){var Rr;(Rr=_r.current)===null||Rr===void 0||Rr.pause()},Ir=function(Rr){var Or;(Or=_r.current)===null||Or===void 0||Or.setSpeed(Rr)},Lr=function(Rr,Or){var Hr;(Hr=_r.current)===null||Hr===void 0||Hr.goToAndPlay(Rr,Or)},Qr=function(Rr,Or){var Hr;(Hr=_r.current)===null||Hr===void 0||Hr.goToAndStop(Rr,Or)},Yr=function(Rr){var Or;(Or=_r.current)===null||Or===void 0||Or.setDirection(Rr)},Gr=function(Rr,Or){var Hr;(Hr=_r.current)===null||Hr===void 0||Hr.playSegments(Rr,Or)},$r=function(Rr){var Or;(Or=_r.current)===null||Or===void 0||Or.setSubframe(Rr)},Vr=function(Rr){var Or;return(Or=_r.current)===null||Or===void 0?void 0:Or.getDuration(Rr)},Tr=function(){var Rr;(Rr=_r.current)===null||Rr===void 0||Rr.destroy(),_r.current=void 0},Fr=function(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Or;if(Sr.current){(Or=_r.current)===null||Or===void 0||Or.destroy();var Hr=_objectSpread2(_objectSpread2(_objectSpread2({},St),Rr),{},{container:Sr.current});return _r.current=lottie.loadAnimation(Hr),Er(!!_r.current),function(){var zr;(zr=_r.current)===null||zr===void 0||zr.destroy(),_r.current=void 0}}};reactExports.useEffect(function(){var qr=Fr();return function(){return qr==null?void 0:qr()}},[rr,nr]),reactExports.useEffect(function(){_r.current&&(_r.current.autoplay=!!sr)},[sr]),reactExports.useEffect(function(){if(_r.current){if(!ir){_r.current.resetSegments(!0);return}!Array.isArray(ir)||!ir.length||((_r.current.currentRawFrame<ir[0]||_r.current.currentRawFrame>ir[1])&&(_r.current.currentRawFrame=ir[0]),_r.current.setSegment(ir[0],ir[1]))}},[ir]),reactExports.useEffect(function(){var qr=[{name:"complete",handler:ar},{name:"loopComplete",handler:or},{name:"enterFrame",handler:lr},{name:"segmentStart",handler:cr},{name:"config_ready",handler:ur},{name:"data_ready",handler:dr},{name:"data_failed",handler:hr},{name:"loaded_images",handler:Ar},{name:"DOMLoaded",handler:fr},{name:"destroy",handler:mr}],Rr=qr.filter(function(Hr){return Hr.handler!=null});if(Rr.length){var Or=Rr.map(function(Hr){var zr;return(zr=_r.current)===null||zr===void 0||zr.addEventListener(Hr.name,Hr.handler),function(){var Zr;(Zr=_r.current)===null||Zr===void 0||Zr.removeEventListener(Hr.name,Hr.handler)}});return function(){Or.forEach(function(Hr){return Hr()})}}},[ar,or,lr,cr,ur,dr,hr,Ar,fr,mr]);var Wr=React$3.createElement("div",_objectSpread2({style:tr,ref:Sr},pr));return{View:Wr,play:jr,stop:Pr,pause:Mr,setSpeed:Ir,goToAndStop:Qr,goToAndPlay:Lr,setDirection:Yr,playSegments:Gr,setSubframe:$r,getDuration:Vr,destroy:Tr,animationContainerRef:Sr,animationLoaded:yr,animationItem:_r.current}};function getContainerVisibility(er){var St=er.getBoundingClientRect(),tr=St.top,rr=St.height,nr=window.innerHeight-tr,sr=window.innerHeight+rr;return nr/sr}function getContainerCursorPosition(er,St,tr){var rr=er.getBoundingClientRect(),nr=rr.top,sr=rr.left,ir=rr.width,ar=rr.height,or=(St-sr)/ir,lr=(tr-nr)/ar;return{x:or,y:lr}}var useInitInteractivity=function er(St){var tr=St.wrapperRef,rr=St.animationItem,nr=St.mode,sr=St.actions;reactExports.useEffect(function(){var ir=tr.current;if(!(!ir||!rr||!sr.length)){rr.stop();var ar=function(){var cr=null,ur=function(){var hr=getContainerVisibility(ir),Ar=sr.find(function(mr){var pr=mr.visibility;return pr&&hr>=pr[0]&&hr<=pr[1]});if(Ar){if(Ar.type==="seek"&&Ar.visibility&&Ar.frames.length===2){var fr=Ar.frames[0]+Math.ceil((hr-Ar.visibility[0])/(Ar.visibility[1]-Ar.visibility[0])*Ar.frames[1]);//! goToAndStop must be relative to the start of the current segment
rr.goToAndStop(fr-rr.firstFrame-1,!0)}Ar.type==="loop"&&(cr===null||cr!==Ar.frames||rr.isPaused)&&(rr.playSegments(Ar.frames,!0),cr=Ar.frames),Ar.type==="play"&&rr.isPaused&&(rr.resetSegments(!0),rr.play()),Ar.type==="stop"&&rr.goToAndStop(Ar.frames[0]-rr.firstFrame-1,!0)}};return document.addEventListener("scroll",ur),function(){document.removeEventListener("scroll",ur)}},or=function(){var cr=function(Ar,fr){var mr=Ar,pr=fr;if(mr!==-1&&pr!==-1){var gr=getContainerCursorPosition(ir,mr,pr);mr=gr.x,pr=gr.y}var xr=sr.find(function(_r){var Sr=_r.position;return Sr&&Array.isArray(Sr.x)&&Array.isArray(Sr.y)?mr>=Sr.x[0]&&mr<=Sr.x[1]&&pr>=Sr.y[0]&&pr<=Sr.y[1]:Sr&&!Number.isNaN(Sr.x)&&!Number.isNaN(Sr.y)?mr===Sr.x&&pr===Sr.y:!1});if(xr){if(xr.type==="seek"&&xr.position&&Array.isArray(xr.position.x)&&Array.isArray(xr.position.y)&&xr.frames.length===2){var yr=(mr-xr.position.x[0])/(xr.position.x[1]-xr.position.x[0]),Er=(pr-xr.position.y[0])/(xr.position.y[1]-xr.position.y[0]);rr.playSegments(xr.frames,!0),rr.goToAndStop(Math.ceil((yr+Er)/2*(xr.frames[1]-xr.frames[0])),!0)}xr.type==="loop"&&rr.playSegments(xr.frames,!0),xr.type==="play"&&(rr.isPaused&&rr.resetSegments(!1),rr.playSegments(xr.frames)),xr.type==="stop"&&rr.goToAndStop(xr.frames[0],!0)}},ur=function(Ar){cr(Ar.clientX,Ar.clientY)},dr=function(){cr(-1,-1)};return ir.addEventListener("mousemove",ur),ir.addEventListener("mouseout",dr),function(){ir.removeEventListener("mousemove",ur),ir.removeEventListener("mouseout",dr)}};switch(nr){case"scroll":return ar();case"cursor":return or()}}},[nr,rr])},useLottieInteractivity=function er(St){var tr=St.actions,rr=St.mode,nr=St.lottieObj,sr=nr.animationItem,ir=nr.View,ar=nr.animationContainerRef;return useInitInteractivity({actions:tr,animationItem:sr,mode:rr,wrapperRef:ar}),ir},_excluded$p=["style","interactivity"],Lottie=function er(St){var tr,rr,nr,sr=St.style,ir=St.interactivity,ar=_objectWithoutProperties$p(St,_excluded$p),or=useLottie(ar,sr),lr=or.View,cr=or.play,ur=or.stop,dr=or.pause,hr=or.setSpeed,Ar=or.goToAndStop,fr=or.goToAndPlay,mr=or.setDirection,pr=or.playSegments,gr=or.setSubframe,xr=or.getDuration,yr=or.destroy,Er=or.animationContainerRef,_r=or.animationLoaded,Sr=or.animationItem;return reactExports.useEffect(function(){St.lottieRef&&(St.lottieRef.current={play:cr,stop:ur,pause:dr,setSpeed:hr,goToAndPlay:fr,goToAndStop:Ar,setDirection:mr,playSegments:pr,setSubframe:gr,getDuration:xr,destroy:yr,animationContainerRef:Er,animationLoaded:_r,animationItem:Sr})},[(tr=St.lottieRef)===null||tr===void 0?void 0:tr.current]),useLottieInteractivity({lottieObj:{View:lr,play:cr,stop:ur,pause:dr,setSpeed:hr,goToAndStop:Ar,goToAndPlay:fr,setDirection:mr,playSegments:pr,setSubframe:gr,getDuration:xr,destroy:yr,animationContainerRef:Er,animationLoaded:_r,animationItem:Sr},actions:(rr=ir==null?void 0:ir.actions)!==null&&rr!==void 0?rr:[],mode:(nr=ir==null?void 0:ir.mode)!==null&&nr!==void 0?nr:"scroll"})};function AdminSidebar(){const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(null),nr=useNavigate();reactExports.useEffect(()=>{fetch("/lottie/HeartCubePulseFinal.json").then(ar=>ar.json()).then(ar=>rr(ar)).catch(ar=>console.error("Failed to load animation:",ar))},[]);const sr=async()=>{await supabase.auth.signOut(),window.location.href="/login"},ir=(ar,or,lr)=>jsxRuntimeExports.jsxs("li",{onClick:()=>nr(or),className:"flex items-center gap-3 px-3 py-2 text-sm rounded-lg text-slate-700 hover:bg-sky-50 transition cursor-pointer font-medium",children:[lr,!er&&jsxRuntimeExports.jsx("span",{children:ar})]});return jsxRuntimeExports.jsxs("aside",{className:`bg-white/80 backdrop-blur-lg min-h-screen flex flex-col transition-all duration-300 border-r shadow-xl ${er?"w-16":"w-64"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center px-2 py-6 border-b border-gray-200",children:er?jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-cyan-400 rounded-full animate-pulse"}):tr?jsxRuntimeExports.jsx(Lottie,{animationData:tr,loop:!0,autoplay:!0,className:"w-36 h-36",style:{marginTop:"-12px"}}):jsxRuntimeExports.jsx("div",{className:"w-36 h-36 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-cyan-400 rounded-full animate-pulse"})})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 py-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>St(!er),className:"text-gray-400 hover:text-gray-600 transition",children:er?jsxRuntimeExports.jsx(Menu,{size:20}):jsxRuntimeExports.jsx(ChevronLeft,{size:20})})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-2",children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[ir("Dashboard","/admin",jsxRuntimeExports.jsx(Home,{size:18})),ir("Employers","/admin/employers",jsxRuntimeExports.jsx(Users,{size:18})),ir("Invoices","/admin/invoices",jsxRuntimeExports.jsx(DollarSign,{size:18})),ir("Settings","/admin/settings",jsxRuntimeExports.jsx(Settings,{size:18}))]})}),jsxRuntimeExports.jsx("div",{className:"mt-auto px-2 pb-6 border-t border-gray-200 pt-4",children:jsxRuntimeExports.jsxs("li",{onClick:sr,className:"flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-red-50 text-red-500 hover:text-red-600 cursor-pointer transition font-medium",children:[jsxRuntimeExports.jsx(LogOut,{size:18}),!er&&jsxRuntimeExports.jsx("span",{children:"Logout"})]})})]})}function AdminLayout({children:er}){return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen bg-gradient-to-b from-white to-gray-50",children:[jsxRuntimeExports.jsx(AdminSidebar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:er})]})}function AssistantBar(){return jsxRuntimeExports.jsx("button",{className:"bg-sky-600 text-white px-6 py-3 rounded-full shadow-xl hover:bg-sky-700 transition",children:" Ask AI"})}const TabsContext=reactExports.createContext(void 0);function Tabs({defaultValue:er,value:St,onValueChange:tr,className:rr,children:nr}){const[sr,ir]=reactExports.useState(er||""),ar=St??sr,or=reactExports.useCallback(lr=>{St||ir(lr),tr==null||tr(lr)},[St,tr]);return jsxRuntimeExports.jsx(TabsContext.Provider,{value:{value:ar,onValueChange:or},children:jsxRuntimeExports.jsx("div",{className:cn(rr),children:nr})})}function TabsList({className:er,children:St}){return jsxRuntimeExports.jsx("div",{className:cn("inline-flex h-10 items-center justify-center rounded-xl bg-white/30 backdrop-blur-md backdrop-saturate-150 border border-white/10 shadow-md p-1 transition-all duration-300",er),children:St})}function TabsTrigger({value:er,className:St,children:tr}){const rr=reactExports.useContext(TabsContext);if(!rr)throw new Error("TabsTrigger must be used within Tabs");const nr=rr.value===er;return jsxRuntimeExports.jsx("button",{onClick:()=>rr.onValueChange(er),className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out backdrop-blur-sm",nr?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg ring-2 ring-blue-300":"text-gray-700 hover:bg-blue-100",St),children:tr})}function TabsContent({value:er,className:St,children:tr}){const rr=reactExports.useContext(TabsContext);if(!rr)throw new Error("TabsContent must be used within Tabs");return rr.value!==er?null:jsxRuntimeExports.jsx("div",{className:cn("mt-4 rounded-2xl bg-white/30 backdrop-blur-md backdrop-saturate-150 p-6 shadow-xl border border-white/10 transition-all duration-300",St),children:tr})}function SimpleTabs({tabs:er,active:St,onSelect:tr}){return jsxRuntimeExports.jsx("div",{className:"flex border-b border-gray-200 mb-4 overflow-x-auto",children:er.map(rr=>jsxRuntimeExports.jsx("button",{onClick:()=>tr(rr),className:`whitespace-nowrap px-4 py-2 text-sm font-medium border-b-2 transition-colors ${St===rr?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-500 hover:border-blue-300"}`,children:rr},rr))})}const Card=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("div",{ref:tr,className:cn("rounded-2xl border bg-white/80 backdrop-blur shadow-xl hover:shadow-2xl transition-all",er),...St}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("div",{ref:tr,className:cn("flex flex-col space-y-1.5 p-6",er),...St}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("h3",{ref:tr,className:cn("font-semibold text-xl text-gray-800 tracking-tight",er),...St}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("p",{ref:tr,className:cn("text-sm text-gray-600",er),...St}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("div",{ref:tr,className:cn("p-6 pt-0",er),...St}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx("div",{ref:tr,className:cn("flex items-center p-6 pt-0",er),...St}));CardFooter.displayName="CardFooter";const fakeAuditLogs=[{user:"john@atlas.com",action:"AI Response Generated",model:"Gemini",date:"2025-07-30",status:""},{user:"ian@admin.com",action:"Invoice Generated",model:"-",date:"2025-07-29",status:""},{user:"tech@nova.com",action:"AI Response Failed",model:"OpenAI",date:"2025-07-28",status:""}];function AdminAuditLogPanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"System + AI Audit Logs"}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-slate-700",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b border-slate-300",children:[jsxRuntimeExports.jsx("th",{className:"py-2",children:"User"}),jsxRuntimeExports.jsx("th",{children:"Action"}),jsxRuntimeExports.jsx("th",{children:"Model"}),jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:fakeAuditLogs.map((er,St)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-white/60 transition",children:[jsxRuntimeExports.jsx("td",{className:"py-2",children:er.user}),jsxRuntimeExports.jsx("td",{children:er.action}),jsxRuntimeExports.jsx("td",{children:er.model}),jsxRuntimeExports.jsx("td",{children:er.date}),jsxRuntimeExports.jsx("td",{children:er.status})]},St))})]})]})})}const employers$3=[{name:"Techfinity",status:"Completed"},{name:"NovaHealth",status:"Pending Docs"},{name:"Atlas Inc",status:"Awaiting Payment"}];function EmployerOnboardingPanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Employer Onboarding Tracker"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:employers$3.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between border-b pb-2 border-slate-200",children:[jsxRuntimeExports.jsx("span",{children:er.name}),jsxRuntimeExports.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded-full ${er.status==="Completed"?"bg-green-100 text-green-700":er.status.includes("Pending")?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:er.status})]},St))})]})})}function MonthlyInvoicePanel(){const er=()=>{alert(" Monthly invoices queued for generation.")};return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Monthly Invoice Control"}),jsxRuntimeExports.jsx("button",{onClick:er,className:"bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-xl shadow",children:"Generate Now"}),jsxRuntimeExports.jsxs("p",{className:"mt-4 text-sm text-slate-600",children:["Last generated: ",jsxRuntimeExports.jsx("strong",{children:"July 31, 2025"})," at 4:12 PM"]})]})})}var i$b=Object.defineProperty,d$2=(er,St,tr)=>St in er?i$b(er,St,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[St]=tr,r$3=(er,St,tr)=>(d$2(er,typeof St!="symbol"?St+"":St,tr),tr);let o$9=class{constructor(){r$3(this,"current",this.detect()),r$3(this,"handoffState","pending"),r$3(this,"currentId",0)}set(St){this.current!==St&&(this.handoffState="pending",this.currentId=0,this.current=St)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$8=new o$9;function o$8(er){var St,tr;return s$8.isServer?null:er?"ownerDocument"in er?er.ownerDocument:"current"in er?(tr=(St=er.current)==null?void 0:St.ownerDocument)!=null?tr:document:null:document}function t$4(er){typeof queueMicrotask=="function"?queueMicrotask(er):Promise.resolve().then(er).catch(St=>setTimeout(()=>{throw St}))}function o$7(){let er=[],St={addEventListener(tr,rr,nr,sr){return tr.addEventListener(rr,nr,sr),St.add(()=>tr.removeEventListener(rr,nr,sr))},requestAnimationFrame(...tr){let rr=requestAnimationFrame(...tr);return St.add(()=>cancelAnimationFrame(rr))},nextFrame(...tr){return St.requestAnimationFrame(()=>St.requestAnimationFrame(...tr))},setTimeout(...tr){let rr=setTimeout(...tr);return St.add(()=>clearTimeout(rr))},microTask(...tr){let rr={current:!0};return t$4(()=>{rr.current&&tr[0]()}),St.add(()=>{rr.current=!1})},style(tr,rr,nr){let sr=tr.style.getPropertyValue(rr);return Object.assign(tr.style,{[rr]:nr}),this.add(()=>{Object.assign(tr.style,{[rr]:sr})})},group(tr){let rr=o$7();return tr(rr),this.add(()=>rr.dispose())},add(tr){return er.includes(tr)||er.push(tr),()=>{let rr=er.indexOf(tr);if(rr>=0)for(let nr of er.splice(rr,1))nr()}},dispose(){for(let tr of er.splice(0))tr()}};return St}function p$3(){let[er]=reactExports.useState(o$7);return reactExports.useEffect(()=>()=>er.dispose(),[er]),er}let n$7=(er,St)=>{s$8.isServer?reactExports.useEffect(er,St):reactExports.useLayoutEffect(er,St)};function s$7(er){let St=reactExports.useRef(er);return n$7(()=>{St.current=er},[er]),St}let o$6=function(er){let St=s$7(er);return React$3.useCallback((...tr)=>St.current(...tr),[St])},e$3=reactExports.createContext(void 0);function a$f(){return reactExports.useContext(e$3)}function t$3(...er){return Array.from(new Set(er.flatMap(St=>typeof St=="string"?St.split(" "):[]))).filter(Boolean).join(" ")}function u$8(er,St,...tr){if(er in St){let nr=St[er];return typeof nr=="function"?nr(...tr):nr}let rr=new Error(`Tried to handle "${er}" but there is no handler defined. Only defined handlers are: ${Object.keys(St).map(nr=>`"${nr}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(rr,u$8),rr}var O$3=(er=>(er[er.None=0]="None",er[er.RenderStrategy=1]="RenderStrategy",er[er.Static=2]="Static",er))(O$3||{}),A$3=(er=>(er[er.Unmount=0]="Unmount",er[er.Hidden=1]="Hidden",er))(A$3||{});function L$3(){let er=U$3();return reactExports.useCallback(St=>C$5({mergeRefs:er,...St}),[er])}function C$5({ourProps:er,theirProps:St,slot:tr,defaultTag:rr,features:nr,visible:sr=!0,name:ir,mergeRefs:ar}){ar=ar??$$3;let or=P$4(St,er);if(sr)return F$3(or,tr,rr,ir,ar);let lr=nr??0;if(lr&2){let{static:cr=!1,...ur}=or;if(cr)return F$3(ur,tr,rr,ir,ar)}if(lr&1){let{unmount:cr=!0,...ur}=or;return u$8(cr?0:1,{0(){return null},1(){return F$3({...ur,hidden:!0,style:{display:"none"}},tr,rr,ir,ar)}})}return F$3(or,tr,rr,ir,ar)}function F$3(er,St={},tr,rr,nr){let{as:sr=tr,children:ir,refName:ar="ref",...or}=h$4(er,["unmount","static"]),lr=er.ref!==void 0?{[ar]:er.ref}:{},cr=typeof ir=="function"?ir(St):ir;"className"in or&&or.className&&typeof or.className=="function"&&(or.className=or.className(St)),or["aria-labelledby"]&&or["aria-labelledby"]===or.id&&(or["aria-labelledby"]=void 0);let ur={};if(St){let dr=!1,hr=[];for(let[Ar,fr]of Object.entries(St))typeof fr=="boolean"&&(dr=!0),fr===!0&&hr.push(Ar.replace(/([A-Z])/g,mr=>`-${mr.toLowerCase()}`));if(dr){ur["data-headlessui-state"]=hr.join(" ");for(let Ar of hr)ur[`data-${Ar}`]=""}}if(sr===reactExports.Fragment&&(Object.keys(m$4(or)).length>0||Object.keys(m$4(ur)).length>0))if(!reactExports.isValidElement(cr)||Array.isArray(cr)&&cr.length>1){if(Object.keys(m$4(or)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${rr} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$4(or)).concat(Object.keys(m$4(ur))).map(dr=>`  - ${dr}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(dr=>`  - ${dr}`).join(`
`)].join(`
`))}else{let dr=cr.props,hr=dr==null?void 0:dr.className,Ar=typeof hr=="function"?(...pr)=>t$3(hr(...pr),or.className):t$3(hr,or.className),fr=Ar?{className:Ar}:{},mr=P$4(cr.props,m$4(h$4(or,["ref"])));for(let pr in ur)pr in mr&&delete ur[pr];return reactExports.cloneElement(cr,Object.assign({},mr,ur,lr,{ref:nr(H$5(cr),lr.ref)},fr))}return reactExports.createElement(sr,Object.assign({},h$4(or,["ref"]),sr!==reactExports.Fragment&&lr,sr!==reactExports.Fragment&&ur),cr)}function U$3(){let er=reactExports.useRef([]),St=reactExports.useCallback(tr=>{for(let rr of er.current)rr!=null&&(typeof rr=="function"?rr(tr):rr.current=tr)},[]);return(...tr)=>{if(!tr.every(rr=>rr==null))return er.current=tr,St}}function $$3(...er){return er.every(St=>St==null)?void 0:St=>{for(let tr of er)tr!=null&&(typeof tr=="function"?tr(St):tr.current=St)}}function P$4(...er){if(er.length===0)return{};if(er.length===1)return er[0];let St={},tr={};for(let rr of er)for(let nr in rr)nr.startsWith("on")&&typeof rr[nr]=="function"?(tr[nr]!=null||(tr[nr]=[]),tr[nr].push(rr[nr])):St[nr]=rr[nr];if(St.disabled||St["aria-disabled"])for(let rr in tr)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(rr)&&(tr[rr]=[nr=>{var sr;return(sr=nr==null?void 0:nr.preventDefault)==null?void 0:sr.call(nr)}]);for(let rr in tr)Object.assign(St,{[rr](nr,...sr){let ir=tr[rr];for(let ar of ir){if((nr instanceof Event||(nr==null?void 0:nr.nativeEvent)instanceof Event)&&nr.defaultPrevented)return;ar(nr,...sr)}}});return St}function K$1(er){var St;return Object.assign(reactExports.forwardRef(er),{displayName:(St=er.displayName)!=null?St:er.name})}function m$4(er){let St=Object.assign({},er);for(let tr in St)St[tr]===void 0&&delete St[tr];return St}function h$4(er,St=[]){let tr=Object.assign({},er);for(let rr of St)rr in tr&&delete tr[rr];return tr}function H$5(er){return React$3.version.split(".")[0]>="19"?er.props.ref:er.ref}let a$e="span";var s$6=(er=>(er[er.None=1]="None",er[er.Focusable=2]="Focusable",er[er.Hidden=4]="Hidden",er))(s$6||{});function l$4(er,St){var tr;let{features:rr=1,...nr}=er,sr={ref:St,"aria-hidden":(rr&2)===2?!0:(tr=nr["aria-hidden"])!=null?tr:void 0,hidden:(rr&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(rr&4)===4&&(rr&2)!==2&&{display:"none"}}};return L$3()({ourProps:sr,theirProps:nr,slot:{},defaultTag:a$e,name:"Hidden"})}let f$9=K$1(l$4);function o$5(er){return typeof er!="object"||er===null?!1:"nodeType"in er}function t$2(er){return o$5(er)&&"tagName"in er}function n$6(er){return t$2(er)&&"accessKey"in er}function i$a(er){return t$2(er)&&"tabIndex"in er}function r$2(er){return t$2(er)&&"style"in er}function u$7(er){return n$6(er)&&er.nodeName==="IFRAME"}function l$3(er){return n$6(er)&&er.nodeName==="INPUT"}let u$6=Symbol();function T$4(er,St=!0){return Object.assign(er,{[u$6]:St})}function y$7(...er){let St=reactExports.useRef(er);reactExports.useEffect(()=>{St.current=er},[er]);let tr=o$6(rr=>{for(let nr of St.current)nr!=null&&(typeof nr=="function"?nr(rr):nr.current=rr)});return er.every(rr=>rr==null||(rr==null?void 0:rr[u$6]))?void 0:tr}let a$d=reactExports.createContext(null);a$d.displayName="DescriptionContext";function f$8(){let er=reactExports.useContext(a$d);if(er===null){let St=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(St,f$8),St}return er}function w$6(){let[er,St]=reactExports.useState([]);return[er.length>0?er.join(" "):void 0,reactExports.useMemo(()=>function(tr){let rr=o$6(sr=>(St(ir=>[...ir,sr]),()=>St(ir=>{let ar=ir.slice(),or=ar.indexOf(sr);return or!==-1&&ar.splice(or,1),ar}))),nr=reactExports.useMemo(()=>({register:rr,slot:tr.slot,name:tr.name,props:tr.props,value:tr.value}),[rr,tr.slot,tr.name,tr.props,tr.value]);return React$3.createElement(a$d.Provider,{value:nr},tr.children)},[St])]}let S$4="p";function C$4(er,St){let tr=reactExports.useId(),rr=a$f(),{id:nr=`headlessui-description-${tr}`,...sr}=er,ir=f$8(),ar=y$7(St);n$7(()=>ir.register(nr),[nr,ir.register]);let or=rr||!1,lr=reactExports.useMemo(()=>({...ir.slot,disabled:or}),[ir.slot,or]),cr={ref:ar,...ir.props,id:nr};return L$3()({ourProps:cr,theirProps:sr,slot:lr,defaultTag:S$4,name:ir.name||"Description"})}let _$2=K$1(C$4),H$4=Object.assign(_$2,{});var o$4=(er=>(er.Space=" ",er.Enter="Enter",er.Escape="Escape",er.Backspace="Backspace",er.Delete="Delete",er.ArrowLeft="ArrowLeft",er.ArrowUp="ArrowUp",er.ArrowRight="ArrowRight",er.ArrowDown="ArrowDown",er.Home="Home",er.End="End",er.PageUp="PageUp",er.PageDown="PageDown",er.Tab="Tab",er))(o$4||{});let e$2=reactExports.createContext(()=>{});function C$3({value:er,children:St}){return React$3.createElement(e$2.Provider,{value:er},St)}let a$c=class extends Map{constructor(St){super(),this.factory=St}get(St){let tr=super.get(St);return tr===void 0&&(tr=this.factory(St),this.set(St,tr)),tr}};var h$3=Object.defineProperty,v$1=(er,St,tr)=>St in er?h$3(er,St,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[St]=tr,S$3=(er,St,tr)=>(v$1(er,St+"",tr),tr),b$3=(er,St,tr)=>{if(!St.has(er))throw TypeError("Cannot "+tr)},i$9=(er,St,tr)=>(b$3(er,St,"read from private field"),tr?tr.call(er):St.get(er)),c$5=(er,St,tr)=>{if(St.has(er))throw TypeError("Cannot add the same private member more than once");St instanceof WeakSet?St.add(er):St.set(er,tr)},u$5=(er,St,tr,rr)=>(b$3(er,St,"write to private field"),St.set(er,tr),tr),n$5,a$b,o$3;let x$6=class{constructor(St){c$5(this,n$5,{}),c$5(this,a$b,new a$c(()=>new Set)),c$5(this,o$3,new Set),S$3(this,"disposables",o$7()),u$5(this,n$5,St),s$8.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return i$9(this,n$5)}subscribe(St,tr){if(s$8.isServer)return()=>{};let rr={selector:St,callback:tr,current:St(i$9(this,n$5))};return i$9(this,o$3).add(rr),this.disposables.add(()=>{i$9(this,o$3).delete(rr)})}on(St,tr){return s$8.isServer?()=>{}:(i$9(this,a$b).get(St).add(tr),this.disposables.add(()=>{i$9(this,a$b).get(St).delete(tr)}))}send(St){let tr=this.reduce(i$9(this,n$5),St);if(tr!==i$9(this,n$5)){u$5(this,n$5,tr);for(let rr of i$9(this,o$3)){let nr=rr.selector(i$9(this,n$5));j$2(rr.current,nr)||(rr.current=nr,rr.callback(nr))}for(let rr of i$9(this,a$b).get(St.type))rr(i$9(this,n$5),St)}}};n$5=new WeakMap,a$b=new WeakMap,o$3=new WeakMap;function j$2(er,St){return Object.is(er,St)?!0:typeof er!="object"||er===null||typeof St!="object"||St===null?!1:Array.isArray(er)&&Array.isArray(St)?er.length!==St.length?!1:f$7(er[Symbol.iterator](),St[Symbol.iterator]()):er instanceof Map&&St instanceof Map||er instanceof Set&&St instanceof Set?er.size!==St.size?!1:f$7(er.entries(),St.entries()):y$6(er)&&y$6(St)?f$7(Object.entries(er)[Symbol.iterator](),Object.entries(St)[Symbol.iterator]()):!1}function f$7(er,St){do{let tr=er.next(),rr=St.next();if(tr.done&&rr.done)return!0;if(tr.done||rr.done||!Object.is(tr.value,rr.value))return!1}while(!0)}function y$6(er){if(Object.prototype.toString.call(er)!=="[object Object]")return!1;let St=Object.getPrototypeOf(er);return St===null||Object.getPrototypeOf(St)===null}var a$a=Object.defineProperty,r$1=(er,St,tr)=>St in er?a$a(er,St,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[St]=tr,p$2=(er,St,tr)=>(r$1(er,typeof St!="symbol"?St+"":St,tr),tr),k$4=(er=>(er[er.Push=0]="Push",er[er.Pop=1]="Pop",er))(k$4||{});let y$5={0(er,St){let tr=St.id,rr=er.stack,nr=er.stack.indexOf(tr);if(nr!==-1){let sr=er.stack.slice();return sr.splice(nr,1),sr.push(tr),rr=sr,{...er,stack:rr}}return{...er,stack:[...er.stack,tr]}},1(er,St){let tr=St.id,rr=er.stack.indexOf(tr);if(rr===-1)return er;let nr=er.stack.slice();return nr.splice(rr,1),{...er,stack:nr}}},o$2=class WT extends x$6{constructor(){super(...arguments),p$2(this,"actions",{push:St=>this.send({type:0,id:St}),pop:St=>this.send({type:1,id:St})}),p$2(this,"selectors",{isTop:(St,tr)=>St.stack[St.stack.length-1]===tr,inStack:(St,tr)=>St.stack.includes(tr)})}static new(){return new WT({stack:[]})}reduce(St,tr){return u$8(tr.type,y$5,St,tr)}};const x$5=new a$c(()=>o$2.new());var withSelector$1={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$2=reactExports;function is$3(er,St){return er===St&&(er!==0||1/er===1/St)||er!==er&&St!==St}var objectIs$2=typeof Object.is=="function"?Object.is:is$3,useSyncExternalStore$3=React$2.useSyncExternalStore,useRef$1=React$2.useRef,useEffect$2=React$2.useEffect,useMemo$1=React$2.useMemo,useDebugValue$2=React$2.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(er,St,tr,rr,nr){var sr=useRef$1(null);if(sr.current===null){var ir={hasValue:!1,value:null};sr.current=ir}else ir=sr.current;sr=useMemo$1(function(){function or(hr){if(!lr){if(lr=!0,cr=hr,hr=rr(hr),nr!==void 0&&ir.hasValue){var Ar=ir.value;if(nr(Ar,hr))return ur=Ar}return ur=hr}if(Ar=ur,objectIs$2(cr,hr))return Ar;var fr=rr(hr);return nr!==void 0&&nr(Ar,fr)?(cr=hr,Ar):(cr=hr,ur=fr)}var lr=!1,cr,ur,dr=tr===void 0?null:tr;return[function(){return or(St())},dr===null?void 0:function(){return or(dr())}]},[St,tr,rr,nr]);var ar=useSyncExternalStore$3(er,sr[0],sr[1]);return useEffect$2(function(){ir.hasValue=!0,ir.value=ar},[ar]),useDebugValue$2(ar),ar};withSelector$1.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports$1=withSelector$1.exports;function S$2(er,St,tr=j$2){return withSelectorExports$1.useSyncExternalStoreWithSelector(o$6(rr=>er.subscribe(s$5,rr)),o$6(()=>er.state),o$6(()=>er.state),o$6(St),tr)}function s$5(er){return er}function I$4(er,St){let tr=reactExports.useId(),rr=x$5.get(St),[nr,sr]=S$2(rr,reactExports.useCallback(ir=>[rr.selectors.isTop(ir,tr),rr.selectors.inStack(ir,tr)],[rr,tr]));return n$7(()=>{if(er)return rr.actions.push(tr),()=>rr.actions.pop(tr)},[rr,er,tr]),er?sr?nr:!0:!1}let f$6=new Map,u$4=new Map;function h$2(er){var St;let tr=(St=u$4.get(er))!=null?St:0;return u$4.set(er,tr+1),tr!==0?()=>m$3(er):(f$6.set(er,{"aria-hidden":er.getAttribute("aria-hidden"),inert:er.inert}),er.setAttribute("aria-hidden","true"),er.inert=!0,()=>m$3(er))}function m$3(er){var St;let tr=(St=u$4.get(er))!=null?St:1;if(tr===1?u$4.delete(er):u$4.set(er,tr-1),tr!==1)return;let rr=f$6.get(er);rr&&(rr["aria-hidden"]===null?er.removeAttribute("aria-hidden"):er.setAttribute("aria-hidden",rr["aria-hidden"]),er.inert=rr.inert,f$6.delete(er))}function y$4(er,{allowed:St,disallowed:tr}={}){let rr=I$4(er,"inert-others");n$7(()=>{var nr,sr;if(!rr)return;let ir=o$7();for(let or of(nr=tr==null?void 0:tr())!=null?nr:[])or&&ir.add(h$2(or));let ar=(sr=St==null?void 0:St())!=null?sr:[];for(let or of ar){if(!or)continue;let lr=o$8(or);if(!lr)continue;let cr=or.parentElement;for(;cr&&cr!==lr.body;){for(let ur of cr.children)ar.some(dr=>ur.contains(dr))||ir.add(h$2(ur));cr=cr.parentElement}}return ir.dispose},[rr,St,tr])}function p$1(er,St,tr){let rr=s$7(nr=>{let sr=nr.getBoundingClientRect();sr.x===0&&sr.y===0&&sr.width===0&&sr.height===0&&tr()});reactExports.useEffect(()=>{if(!er)return;let nr=St===null?null:n$6(St)?St:St.current;if(!nr)return;let sr=o$7();if(typeof ResizeObserver<"u"){let ir=new ResizeObserver(()=>rr.current(nr));ir.observe(nr),sr.add(()=>ir.disconnect())}if(typeof IntersectionObserver<"u"){let ir=new IntersectionObserver(()=>rr.current(nr));ir.observe(nr),sr.add(()=>ir.disconnect())}return()=>sr.dispose()},[St,rr,er])}let f$5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(er=>`${er}:not([tabindex='-1'])`).join(","),F$2=["[data-autofocus]"].map(er=>`${er}:not([tabindex='-1'])`).join(",");var T$3=(er=>(er[er.First=1]="First",er[er.Previous=2]="Previous",er[er.Next=4]="Next",er[er.Last=8]="Last",er[er.WrapAround=16]="WrapAround",er[er.NoScroll=32]="NoScroll",er[er.AutoFocus=64]="AutoFocus",er))(T$3||{}),y$3=(er=>(er[er.Error=0]="Error",er[er.Overflow=1]="Overflow",er[er.Success=2]="Success",er[er.Underflow=3]="Underflow",er))(y$3||{}),S$1=(er=>(er[er.Previous=-1]="Previous",er[er.Next=1]="Next",er))(S$1||{});function b$2(er=document.body){return er==null?[]:Array.from(er.querySelectorAll(f$5)).sort((St,tr)=>Math.sign((St.tabIndex||Number.MAX_SAFE_INTEGER)-(tr.tabIndex||Number.MAX_SAFE_INTEGER)))}function O$2(er=document.body){return er==null?[]:Array.from(er.querySelectorAll(F$2)).sort((St,tr)=>Math.sign((St.tabIndex||Number.MAX_SAFE_INTEGER)-(tr.tabIndex||Number.MAX_SAFE_INTEGER)))}var h$1=(er=>(er[er.Strict=0]="Strict",er[er.Loose=1]="Loose",er))(h$1||{});function A$2(er,St=0){var tr;return er===((tr=o$8(er))==null?void 0:tr.body)?!1:u$8(St,{0(){return er.matches(f$5)},1(){let rr=er;for(;rr!==null;){if(rr.matches(f$5))return!0;rr=rr.parentElement}return!1}})}var H$3=(er=>(er[er.Keyboard=0]="Keyboard",er[er.Mouse=1]="Mouse",er))(H$3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",er=>{er.metaKey||er.altKey||er.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",er=>{er.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:er.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$3(er){er==null||er.focus({preventScroll:!0})}let w$5=["textarea","input"].join(",");function _$1(er){var St,tr;return(tr=(St=er==null?void 0:er.matches)==null?void 0:St.call(er,w$5))!=null?tr:!1}function P$3(er,St=tr=>tr){return er.slice().sort((tr,rr)=>{let nr=St(tr),sr=St(rr);if(nr===null||sr===null)return 0;let ir=nr.compareDocumentPosition(sr);return ir&Node.DOCUMENT_POSITION_FOLLOWING?-1:ir&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function g$2(er,St,{sorted:tr=!0,relativeTo:rr=null,skipElements:nr=[]}={}){let sr=Array.isArray(er)?er.length>0?er[0].ownerDocument:document:er.ownerDocument,ir=Array.isArray(er)?tr?P$3(er):er:St&64?O$2(er):b$2(er);nr.length>0&&ir.length>1&&(ir=ir.filter(hr=>!nr.some(Ar=>Ar!=null&&"current"in Ar?(Ar==null?void 0:Ar.current)===hr:Ar===hr))),rr=rr??sr.activeElement;let ar=(()=>{if(St&5)return 1;if(St&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),or=(()=>{if(St&1)return 0;if(St&2)return Math.max(0,ir.indexOf(rr))-1;if(St&4)return Math.max(0,ir.indexOf(rr))+1;if(St&8)return ir.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),lr=St&32?{preventScroll:!0}:{},cr=0,ur=ir.length,dr;do{if(cr>=ur||cr+ur<=0)return 0;let hr=or+cr;if(St&16)hr=(hr+ur)%ur;else{if(hr<0)return 3;if(hr>=ur)return 1}dr=ir[hr],dr==null||dr.focus(lr),cr+=ar}while(dr!==sr.activeElement);return St&6&&_$1(dr)&&dr.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$8(){return/Android/gi.test(window.navigator.userAgent)}function n$4(){return t$1()||i$8()}function i$7(er,St,tr,rr){let nr=s$7(tr);reactExports.useEffect(()=>{if(!er)return;function sr(ir){nr.current(ir)}return document.addEventListener(St,sr,rr),()=>document.removeEventListener(St,sr,rr)},[er,St,rr])}function s$4(er,St,tr,rr){let nr=s$7(tr);reactExports.useEffect(()=>{if(!er)return;function sr(ir){nr.current(ir)}return window.addEventListener(St,sr,rr),()=>window.removeEventListener(St,sr,rr)},[er,St,rr])}const C$2=30;function k$3(er,St,tr){let rr=s$7(tr),nr=reactExports.useCallback(function(ar,or){if(ar.defaultPrevented)return;let lr=or(ar);if(lr===null||!lr.getRootNode().contains(lr)||!lr.isConnected)return;let cr=function ur(dr){return typeof dr=="function"?ur(dr()):Array.isArray(dr)||dr instanceof Set?dr:[dr]}(St);for(let ur of cr)if(ur!==null&&(ur.contains(lr)||ar.composed&&ar.composedPath().includes(ur)))return;return!A$2(lr,h$1.Loose)&&lr.tabIndex!==-1&&ar.preventDefault(),rr.current(ar,lr)},[rr,St]),sr=reactExports.useRef(null);i$7(er,"pointerdown",ar=>{var or,lr;n$4()||(sr.current=((lr=(or=ar.composedPath)==null?void 0:or.call(ar))==null?void 0:lr[0])||ar.target)},!0),i$7(er,"pointerup",ar=>{if(n$4()||!sr.current)return;let or=sr.current;return sr.current=null,nr(ar,()=>or)},!0);let ir=reactExports.useRef({x:0,y:0});i$7(er,"touchstart",ar=>{ir.current.x=ar.touches[0].clientX,ir.current.y=ar.touches[0].clientY},!0),i$7(er,"touchend",ar=>{let or={x:ar.changedTouches[0].clientX,y:ar.changedTouches[0].clientY};if(!(Math.abs(or.x-ir.current.x)>=C$2||Math.abs(or.y-ir.current.y)>=C$2))return nr(ar,()=>i$a(ar.target)?ar.target:null)},!0),s$4(er,"blur",ar=>nr(ar,()=>u$7(window.document.activeElement)?window.document.activeElement:null),!0)}function n$3(...er){return reactExports.useMemo(()=>o$8(...er),[...er])}function E$2(er,St,tr,rr){let nr=s$7(tr);reactExports.useEffect(()=>{er=er??window;function sr(ir){nr.current(ir)}return er.addEventListener(St,sr,rr),()=>er.removeEventListener(St,sr,rr)},[er,St,rr])}function o$1(er){return reactExports.useSyncExternalStore(er.subscribe,er.getSnapshot,er.getSnapshot)}function a$9(er,St){let tr=er(),rr=new Set;return{getSnapshot(){return tr},subscribe(nr){return rr.add(nr),()=>rr.delete(nr)},dispatch(nr,...sr){let ir=St[nr].call(tr,...sr);ir&&(tr=ir,rr.forEach(ar=>ar()))}}}function d$1(){let er;return{before({doc:St}){var tr;let rr=St.documentElement,nr=(tr=St.defaultView)!=null?tr:window;er=Math.max(0,nr.innerWidth-rr.clientWidth)},after({doc:St,d:tr}){let rr=St.documentElement,nr=Math.max(0,rr.clientWidth-rr.offsetWidth),sr=Math.max(0,er-nr);tr.style(rr,"paddingRight",`${sr}px`)}}}function w$4(){return t$1()?{before({doc:er,d:St,meta:tr}){function rr(nr){return tr.containers.flatMap(sr=>sr()).some(sr=>sr.contains(nr))}St.microTask(()=>{var nr;if(window.getComputedStyle(er.documentElement).scrollBehavior!=="auto"){let ar=o$7();ar.style(er.documentElement,"scrollBehavior","auto"),St.add(()=>St.microTask(()=>ar.dispose()))}let sr=(nr=window.scrollY)!=null?nr:window.pageYOffset,ir=null;St.addEventListener(er,"click",ar=>{if(i$a(ar.target))try{let or=ar.target.closest("a");if(!or)return;let{hash:lr}=new URL(or.href),cr=er.querySelector(lr);i$a(cr)&&!rr(cr)&&(ir=cr)}catch{}},!0),St.addEventListener(er,"touchstart",ar=>{if(i$a(ar.target)&&r$2(ar.target))if(rr(ar.target)){let or=ar.target;for(;or.parentElement&&rr(or.parentElement);)or=or.parentElement;St.style(or,"overscrollBehavior","contain")}else St.style(ar.target,"touchAction","none")}),St.addEventListener(er,"touchmove",ar=>{if(i$a(ar.target)){if(l$3(ar.target))return;if(rr(ar.target)){let or=ar.target;for(;or.parentElement&&or.dataset.headlessuiPortal!==""&&!(or.scrollHeight>or.clientHeight||or.scrollWidth>or.clientWidth);)or=or.parentElement;or.dataset.headlessuiPortal===""&&ar.preventDefault()}else ar.preventDefault()}},{passive:!1}),St.add(()=>{var ar;let or=(ar=window.scrollY)!=null?ar:window.pageYOffset;sr!==or&&window.scrollTo(0,sr),ir&&ir.isConnected&&(ir.scrollIntoView({block:"nearest"}),ir=null)})})}}:{}}function r(){return{before({doc:er,d:St}){St.style(er.documentElement,"overflow","hidden")}}}function m$2(er){let St={};for(let tr of er)Object.assign(St,tr(St));return St}let a$8=a$9(()=>new Map,{PUSH(er,St){var tr;let rr=(tr=this.get(er))!=null?tr:{doc:er,count:0,d:o$7(),meta:new Set};return rr.count++,rr.meta.add(St),this.set(er,rr),this},POP(er,St){let tr=this.get(er);return tr&&(tr.count--,tr.meta.delete(St)),this},SCROLL_PREVENT({doc:er,d:St,meta:tr}){let rr={doc:er,d:St,meta:m$2(tr)},nr=[w$4(),d$1(),r()];nr.forEach(({before:sr})=>sr==null?void 0:sr(rr)),nr.forEach(({after:sr})=>sr==null?void 0:sr(rr))},SCROLL_ALLOW({d:er}){er.dispose()},TEARDOWN({doc:er}){this.delete(er)}});a$8.subscribe(()=>{let er=a$8.getSnapshot(),St=new Map;for(let[tr]of er)St.set(tr,tr.documentElement.style.overflow);for(let tr of er.values()){let rr=St.get(tr.doc)==="hidden",nr=tr.count!==0;(nr&&!rr||!nr&&rr)&&a$8.dispatch(tr.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",tr),tr.count===0&&a$8.dispatch("TEARDOWN",tr)}});function a$7(er,St,tr=()=>({containers:[]})){let rr=o$1(a$8),nr=St?rr.get(St):void 0,sr=nr?nr.count>0:!1;return n$7(()=>{if(!(!St||!er))return a$8.dispatch("PUSH",St,tr),()=>a$8.dispatch("POP",St,tr)},[er,St]),sr}function f$4(er,St,tr=()=>[document.body]){let rr=I$4(er,"scroll-lock");a$7(rr,St,nr=>{var sr;return{containers:[...(sr=nr.containers)!=null?sr:[],tr]}})}function c$4(er=0){let[St,tr]=reactExports.useState(er),rr=reactExports.useCallback(or=>tr(or),[St]),nr=reactExports.useCallback(or=>tr(lr=>lr|or),[St]),sr=reactExports.useCallback(or=>(St&or)===or,[St]),ir=reactExports.useCallback(or=>tr(lr=>lr&~or),[tr]),ar=reactExports.useCallback(or=>tr(lr=>lr^or),[tr]);return{flags:St,setFlag:rr,addFlag:nr,hasFlag:sr,removeFlag:ir,toggleFlag:ar}}var define_process_env_default$1={},T$2,b$1;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T$2=process==null?void 0:define_process_env_default$1)==null?void 0:T$2.NODE_ENV)==="test"&&typeof((b$1=Element==null?void 0:Element.prototype)==null?void 0:b$1.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L$2=(er=>(er[er.None=0]="None",er[er.Closed=1]="Closed",er[er.Enter=2]="Enter",er[er.Leave=4]="Leave",er))(L$2||{});function R$1(er){let St={};for(let tr in er)er[tr]===!0&&(St[`data-${tr}`]="");return St}function x$4(er,St,tr,rr){let[nr,sr]=reactExports.useState(tr),{hasFlag:ir,addFlag:ar,removeFlag:or}=c$4(er&&nr?3:0),lr=reactExports.useRef(!1),cr=reactExports.useRef(!1),ur=p$3();return n$7(()=>{var dr;if(er){if(tr&&sr(!0),!St){tr&&ar(3);return}return(dr=rr==null?void 0:rr.start)==null||dr.call(rr,tr),C$1(St,{inFlight:lr,prepare(){cr.current?cr.current=!1:cr.current=lr.current,lr.current=!0,!cr.current&&(tr?(ar(3),or(4)):(ar(4),or(2)))},run(){cr.current?tr?(or(3),ar(4)):(or(4),ar(3)):tr?or(1):ar(1)},done(){var hr;cr.current&&typeof St.getAnimations=="function"&&St.getAnimations().length>0||(lr.current=!1,or(7),tr||sr(!1),(hr=rr==null?void 0:rr.end)==null||hr.call(rr,tr))}})}},[er,tr,St,ur]),er?[nr,{closed:ir(1),enter:ir(2),leave:ir(4),transition:ir(2)||ir(4)}]:[tr,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C$1(er,{prepare:St,run:tr,done:rr,inFlight:nr}){let sr=o$7();return j$1(er,{prepare:St,inFlight:nr}),sr.nextFrame(()=>{tr(),sr.requestAnimationFrame(()=>{sr.add(M$3(er,rr))})}),sr.dispose}function M$3(er,St){var tr,rr;let nr=o$7();if(!er)return nr.dispose;let sr=!1;nr.add(()=>{sr=!0});let ir=(rr=(tr=er.getAnimations)==null?void 0:tr.call(er).filter(ar=>ar instanceof CSSTransition))!=null?rr:[];return ir.length===0?(St(),nr.dispose):(Promise.allSettled(ir.map(ar=>ar.finished)).then(()=>{sr||St()}),nr.dispose)}function j$1(er,{inFlight:St,prepare:tr}){if(St!=null&&St.current){tr();return}let rr=er.style.transition;er.style.transition="none",tr(),er.offsetHeight,er.style.transition=rr}function m$1(er,St){let tr=reactExports.useRef([]),rr=o$6(er);reactExports.useEffect(()=>{let nr=[...tr.current];for(let[sr,ir]of St.entries())if(tr.current[sr]!==ir){let ar=rr(St,nr);return tr.current=St,ar}},[rr,...St])}function hasWindow(){return typeof window<"u"}function getNodeName(er){return isNode(er)?(er.nodeName||"").toLowerCase():"#document"}function getWindow(er){var St;return(er==null||(St=er.ownerDocument)==null?void 0:St.defaultView)||window}function getDocumentElement(er){var St;return(St=(isNode(er)?er.ownerDocument:er.document)||window.document)==null?void 0:St.documentElement}function isNode(er){return hasWindow()?er instanceof Node||er instanceof getWindow(er).Node:!1}function isElement(er){return hasWindow()?er instanceof Element||er instanceof getWindow(er).Element:!1}function isHTMLElement$2(er){return hasWindow()?er instanceof HTMLElement||er instanceof getWindow(er).HTMLElement:!1}function isShadowRoot(er){return!hasWindow()||typeof ShadowRoot>"u"?!1:er instanceof ShadowRoot||er instanceof getWindow(er).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(er){const{overflow:St,overflowX:tr,overflowY:rr,display:nr}=getComputedStyle$2(er);return/auto|scroll|overlay|hidden|clip/.test(St+rr+tr)&&!invalidOverflowDisplayValues.has(nr)}const tableElements=new Set(["table","td","th"]);function isTableElement(er){return tableElements.has(getNodeName(er))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(er){return topLayerSelectors.some(St=>{try{return er.matches(St)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(er){const St=isWebKit(),tr=isElement(er)?getComputedStyle$2(er):er;return transformProperties.some(rr=>tr[rr]?tr[rr]!=="none":!1)||(tr.containerType?tr.containerType!=="normal":!1)||!St&&(tr.backdropFilter?tr.backdropFilter!=="none":!1)||!St&&(tr.filter?tr.filter!=="none":!1)||willChangeValues.some(rr=>(tr.willChange||"").includes(rr))||containValues.some(rr=>(tr.contain||"").includes(rr))}function getContainingBlock(er){let St=getParentNode(er);for(;isHTMLElement$2(St)&&!isLastTraversableNode(St);){if(isContainingBlock(St))return St;if(isTopLayer(St))return null;St=getParentNode(St)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(er){return lastTraversableNodeNames.has(getNodeName(er))}function getComputedStyle$2(er){return getWindow(er).getComputedStyle(er)}function getNodeScroll(er){return isElement(er)?{scrollLeft:er.scrollLeft,scrollTop:er.scrollTop}:{scrollLeft:er.scrollX,scrollTop:er.scrollY}}function getParentNode(er){if(getNodeName(er)==="html")return er;const St=er.assignedSlot||er.parentNode||isShadowRoot(er)&&er.host||getDocumentElement(er);return isShadowRoot(St)?St.host:St}function getNearestOverflowAncestor(er){const St=getParentNode(er);return isLastTraversableNode(St)?er.ownerDocument?er.ownerDocument.body:er.body:isHTMLElement$2(St)&&isOverflowElement(St)?St:getNearestOverflowAncestor(St)}function getOverflowAncestors(er,St,tr){var rr;St===void 0&&(St=[]),tr===void 0&&(tr=!0);const nr=getNearestOverflowAncestor(er),sr=nr===((rr=er.ownerDocument)==null?void 0:rr.body),ir=getWindow(nr);if(sr){const ar=getFrameElement(ir);return St.concat(ir,ir.visualViewport||[],isOverflowElement(nr)?nr:[],ar&&tr?getOverflowAncestors(ar):[])}return St.concat(nr,getOverflowAncestors(nr,[],tr))}function getFrameElement(er){return er.parent&&Object.getPrototypeOf(er.parent)?er.frameElement:null}const sides=["top","right","bottom","left"],min$2=Math.min,max$3=Math.max,round$1=Math.round,floor=Math.floor,createCoords=er=>({x:er,y:er}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$2(er,St,tr){return max$3(er,min$2(St,tr))}function evaluate(er,St){return typeof er=="function"?er(St):er}function getSide(er){return er.split("-")[0]}function getAlignment(er){return er.split("-")[1]}function getOppositeAxis(er){return er==="x"?"y":"x"}function getAxisLength(er){return er==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(er){return yAxisSides.has(getSide(er))?"y":"x"}function getAlignmentAxis(er){return getOppositeAxis(getSideAxis(er))}function getAlignmentSides(er,St,tr){tr===void 0&&(tr=!1);const rr=getAlignment(er),nr=getAlignmentAxis(er),sr=getAxisLength(nr);let ir=nr==="x"?rr===(tr?"end":"start")?"right":"left":rr==="start"?"bottom":"top";return St.reference[sr]>St.floating[sr]&&(ir=getOppositePlacement(ir)),[ir,getOppositePlacement(ir)]}function getExpandedPlacements(er){const St=getOppositePlacement(er);return[getOppositeAlignmentPlacement(er),St,getOppositeAlignmentPlacement(St)]}function getOppositeAlignmentPlacement(er){return er.replace(/start|end/g,St=>oppositeAlignmentMap[St])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(er,St,tr){switch(er){case"top":case"bottom":return tr?St?rlPlacement:lrPlacement:St?lrPlacement:rlPlacement;case"left":case"right":return St?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(er,St,tr,rr){const nr=getAlignment(er);let sr=getSideList(getSide(er),tr==="start",rr);return nr&&(sr=sr.map(ir=>ir+"-"+nr),St&&(sr=sr.concat(sr.map(getOppositeAlignmentPlacement)))),sr}function getOppositePlacement(er){return er.replace(/left|right|bottom|top/g,St=>oppositeSideMap[St])}function expandPaddingObject(er){return{top:0,right:0,bottom:0,left:0,...er}}function getPaddingObject(er){return typeof er!="number"?expandPaddingObject(er):{top:er,right:er,bottom:er,left:er}}function rectToClientRect(er){const{x:St,y:tr,width:rr,height:nr}=er;return{width:rr,height:nr,top:tr,left:St,right:St+rr,bottom:tr+nr,x:St,y:tr}}function computeCoordsFromPlacement(er,St,tr){let{reference:rr,floating:nr}=er;const sr=getSideAxis(St),ir=getAlignmentAxis(St),ar=getAxisLength(ir),or=getSide(St),lr=sr==="y",cr=rr.x+rr.width/2-nr.width/2,ur=rr.y+rr.height/2-nr.height/2,dr=rr[ar]/2-nr[ar]/2;let hr;switch(or){case"top":hr={x:cr,y:rr.y-nr.height};break;case"bottom":hr={x:cr,y:rr.y+rr.height};break;case"right":hr={x:rr.x+rr.width,y:ur};break;case"left":hr={x:rr.x-nr.width,y:ur};break;default:hr={x:rr.x,y:rr.y}}switch(getAlignment(St)){case"start":hr[ir]-=dr*(tr&&lr?-1:1);break;case"end":hr[ir]+=dr*(tr&&lr?-1:1);break}return hr}const computePosition$1=async(er,St,tr)=>{const{placement:rr="bottom",strategy:nr="absolute",middleware:sr=[],platform:ir}=tr,ar=sr.filter(Boolean),or=await(ir.isRTL==null?void 0:ir.isRTL(St));let lr=await ir.getElementRects({reference:er,floating:St,strategy:nr}),{x:cr,y:ur}=computeCoordsFromPlacement(lr,rr,or),dr=rr,hr={},Ar=0;for(let fr=0;fr<ar.length;fr++){const{name:mr,fn:pr}=ar[fr],{x:gr,y:xr,data:yr,reset:Er}=await pr({x:cr,y:ur,initialPlacement:rr,placement:dr,strategy:nr,middlewareData:hr,rects:lr,platform:ir,elements:{reference:er,floating:St}});cr=gr??cr,ur=xr??ur,hr={...hr,[mr]:{...hr[mr],...yr}},Er&&Ar<=50&&(Ar++,typeof Er=="object"&&(Er.placement&&(dr=Er.placement),Er.rects&&(lr=Er.rects===!0?await ir.getElementRects({reference:er,floating:St,strategy:nr}):Er.rects),{x:cr,y:ur}=computeCoordsFromPlacement(lr,dr,or)),fr=-1)}return{x:cr,y:ur,placement:dr,strategy:nr,middlewareData:hr}};async function detectOverflow(er,St){var tr;St===void 0&&(St={});const{x:rr,y:nr,platform:sr,rects:ir,elements:ar,strategy:or}=er,{boundary:lr="clippingAncestors",rootBoundary:cr="viewport",elementContext:ur="floating",altBoundary:dr=!1,padding:hr=0}=evaluate(St,er),Ar=getPaddingObject(hr),mr=ar[dr?ur==="floating"?"reference":"floating":ur],pr=rectToClientRect(await sr.getClippingRect({element:(tr=await(sr.isElement==null?void 0:sr.isElement(mr)))==null||tr?mr:mr.contextElement||await(sr.getDocumentElement==null?void 0:sr.getDocumentElement(ar.floating)),boundary:lr,rootBoundary:cr,strategy:or})),gr=ur==="floating"?{x:rr,y:nr,width:ir.floating.width,height:ir.floating.height}:ir.reference,xr=await(sr.getOffsetParent==null?void 0:sr.getOffsetParent(ar.floating)),yr=await(sr.isElement==null?void 0:sr.isElement(xr))?await(sr.getScale==null?void 0:sr.getScale(xr))||{x:1,y:1}:{x:1,y:1},Er=rectToClientRect(sr.convertOffsetParentRelativeRectToViewportRelativeRect?await sr.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ar,rect:gr,offsetParent:xr,strategy:or}):gr);return{top:(pr.top-Er.top+Ar.top)/yr.y,bottom:(Er.bottom-pr.bottom+Ar.bottom)/yr.y,left:(pr.left-Er.left+Ar.left)/yr.x,right:(Er.right-pr.right+Ar.right)/yr.x}}const arrow$3=er=>({name:"arrow",options:er,async fn(St){const{x:tr,y:rr,placement:nr,rects:sr,platform:ir,elements:ar,middlewareData:or}=St,{element:lr,padding:cr=0}=evaluate(er,St)||{};if(lr==null)return{};const ur=getPaddingObject(cr),dr={x:tr,y:rr},hr=getAlignmentAxis(nr),Ar=getAxisLength(hr),fr=await ir.getDimensions(lr),mr=hr==="y",pr=mr?"top":"left",gr=mr?"bottom":"right",xr=mr?"clientHeight":"clientWidth",yr=sr.reference[Ar]+sr.reference[hr]-dr[hr]-sr.floating[Ar],Er=dr[hr]-sr.reference[hr],_r=await(ir.getOffsetParent==null?void 0:ir.getOffsetParent(lr));let Sr=_r?_r[xr]:0;(!Sr||!await(ir.isElement==null?void 0:ir.isElement(_r)))&&(Sr=ar.floating[xr]||sr.floating[Ar]);const jr=yr/2-Er/2,Pr=Sr/2-fr[Ar]/2-1,Mr=min$2(ur[pr],Pr),Ir=min$2(ur[gr],Pr),Lr=Mr,Qr=Sr-fr[Ar]-Ir,Yr=Sr/2-fr[Ar]/2+jr,Gr=clamp$2(Lr,Yr,Qr),$r=!or.arrow&&getAlignment(nr)!=null&&Yr!==Gr&&sr.reference[Ar]/2-(Yr<Lr?Mr:Ir)-fr[Ar]/2<0,Vr=$r?Yr<Lr?Yr-Lr:Yr-Qr:0;return{[hr]:dr[hr]+Vr,data:{[hr]:Gr,centerOffset:Yr-Gr-Vr,...$r&&{alignmentOffset:Vr}},reset:$r}}}),flip$2=function(er){return er===void 0&&(er={}),{name:"flip",options:er,async fn(St){var tr,rr;const{placement:nr,middlewareData:sr,rects:ir,initialPlacement:ar,platform:or,elements:lr}=St,{mainAxis:cr=!0,crossAxis:ur=!0,fallbackPlacements:dr,fallbackStrategy:hr="bestFit",fallbackAxisSideDirection:Ar="none",flipAlignment:fr=!0,...mr}=evaluate(er,St);if((tr=sr.arrow)!=null&&tr.alignmentOffset)return{};const pr=getSide(nr),gr=getSideAxis(ar),xr=getSide(ar)===ar,yr=await(or.isRTL==null?void 0:or.isRTL(lr.floating)),Er=dr||(xr||!fr?[getOppositePlacement(ar)]:getExpandedPlacements(ar)),_r=Ar!=="none";!dr&&_r&&Er.push(...getOppositeAxisPlacements(ar,fr,Ar,yr));const Sr=[ar,...Er],jr=await detectOverflow(St,mr),Pr=[];let Mr=((rr=sr.flip)==null?void 0:rr.overflows)||[];if(cr&&Pr.push(jr[pr]),ur){const Yr=getAlignmentSides(nr,ir,yr);Pr.push(jr[Yr[0]],jr[Yr[1]])}if(Mr=[...Mr,{placement:nr,overflows:Pr}],!Pr.every(Yr=>Yr<=0)){var Ir,Lr;const Yr=(((Ir=sr.flip)==null?void 0:Ir.index)||0)+1,Gr=Sr[Yr];if(Gr&&(!(ur==="alignment"?gr!==getSideAxis(Gr):!1)||Mr.every(Tr=>getSideAxis(Tr.placement)===gr?Tr.overflows[0]>0:!0)))return{data:{index:Yr,overflows:Mr},reset:{placement:Gr}};let $r=(Lr=Mr.filter(Vr=>Vr.overflows[0]<=0).sort((Vr,Tr)=>Vr.overflows[1]-Tr.overflows[1])[0])==null?void 0:Lr.placement;if(!$r)switch(hr){case"bestFit":{var Qr;const Vr=(Qr=Mr.filter(Tr=>{if(_r){const Fr=getSideAxis(Tr.placement);return Fr===gr||Fr==="y"}return!0}).map(Tr=>[Tr.placement,Tr.overflows.filter(Fr=>Fr>0).reduce((Fr,Wr)=>Fr+Wr,0)]).sort((Tr,Fr)=>Tr[1]-Fr[1])[0])==null?void 0:Qr[0];Vr&&($r=Vr);break}case"initialPlacement":$r=ar;break}if(nr!==$r)return{reset:{placement:$r}}}return{}}}};function getSideOffsets(er,St){return{top:er.top-St.height,right:er.right-St.width,bottom:er.bottom-St.height,left:er.left-St.width}}function isAnySideFullyClipped(er){return sides.some(St=>er[St]>=0)}const hide$2=function(er){return er===void 0&&(er={}),{name:"hide",options:er,async fn(St){const{rects:tr}=St,{strategy:rr="referenceHidden",...nr}=evaluate(er,St);switch(rr){case"referenceHidden":{const sr=await detectOverflow(St,{...nr,elementContext:"reference"}),ir=getSideOffsets(sr,tr.reference);return{data:{referenceHiddenOffsets:ir,referenceHidden:isAnySideFullyClipped(ir)}}}case"escaped":{const sr=await detectOverflow(St,{...nr,altBoundary:!0}),ir=getSideOffsets(sr,tr.floating);return{data:{escapedOffsets:ir,escaped:isAnySideFullyClipped(ir)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(er,St){const{placement:tr,platform:rr,elements:nr}=er,sr=await(rr.isRTL==null?void 0:rr.isRTL(nr.floating)),ir=getSide(tr),ar=getAlignment(tr),or=getSideAxis(tr)==="y",lr=originSides.has(ir)?-1:1,cr=sr&&or?-1:1,ur=evaluate(St,er);let{mainAxis:dr,crossAxis:hr,alignmentAxis:Ar}=typeof ur=="number"?{mainAxis:ur,crossAxis:0,alignmentAxis:null}:{mainAxis:ur.mainAxis||0,crossAxis:ur.crossAxis||0,alignmentAxis:ur.alignmentAxis};return ar&&typeof Ar=="number"&&(hr=ar==="end"?Ar*-1:Ar),or?{x:hr*cr,y:dr*lr}:{x:dr*lr,y:hr*cr}}const offset$2=function(er){return er===void 0&&(er=0),{name:"offset",options:er,async fn(St){var tr,rr;const{x:nr,y:sr,placement:ir,middlewareData:ar}=St,or=await convertValueToCoords(St,er);return ir===((tr=ar.offset)==null?void 0:tr.placement)&&(rr=ar.arrow)!=null&&rr.alignmentOffset?{}:{x:nr+or.x,y:sr+or.y,data:{...or,placement:ir}}}}},shift$2=function(er){return er===void 0&&(er={}),{name:"shift",options:er,async fn(St){const{x:tr,y:rr,placement:nr}=St,{mainAxis:sr=!0,crossAxis:ir=!1,limiter:ar={fn:mr=>{let{x:pr,y:gr}=mr;return{x:pr,y:gr}}},...or}=evaluate(er,St),lr={x:tr,y:rr},cr=await detectOverflow(St,or),ur=getSideAxis(getSide(nr)),dr=getOppositeAxis(ur);let hr=lr[dr],Ar=lr[ur];if(sr){const mr=dr==="y"?"top":"left",pr=dr==="y"?"bottom":"right",gr=hr+cr[mr],xr=hr-cr[pr];hr=clamp$2(gr,hr,xr)}if(ir){const mr=ur==="y"?"top":"left",pr=ur==="y"?"bottom":"right",gr=Ar+cr[mr],xr=Ar-cr[pr];Ar=clamp$2(gr,Ar,xr)}const fr=ar.fn({...St,[dr]:hr,[ur]:Ar});return{...fr,data:{x:fr.x-tr,y:fr.y-rr,enabled:{[dr]:sr,[ur]:ir}}}}}},limitShift$2=function(er){return er===void 0&&(er={}),{options:er,fn(St){const{x:tr,y:rr,placement:nr,rects:sr,middlewareData:ir}=St,{offset:ar=0,mainAxis:or=!0,crossAxis:lr=!0}=evaluate(er,St),cr={x:tr,y:rr},ur=getSideAxis(nr),dr=getOppositeAxis(ur);let hr=cr[dr],Ar=cr[ur];const fr=evaluate(ar,St),mr=typeof fr=="number"?{mainAxis:fr,crossAxis:0}:{mainAxis:0,crossAxis:0,...fr};if(or){const xr=dr==="y"?"height":"width",yr=sr.reference[dr]-sr.floating[xr]+mr.mainAxis,Er=sr.reference[dr]+sr.reference[xr]-mr.mainAxis;hr<yr?hr=yr:hr>Er&&(hr=Er)}if(lr){var pr,gr;const xr=dr==="y"?"width":"height",yr=originSides.has(getSide(nr)),Er=sr.reference[ur]-sr.floating[xr]+(yr&&((pr=ir.offset)==null?void 0:pr[ur])||0)+(yr?0:mr.crossAxis),_r=sr.reference[ur]+sr.reference[xr]+(yr?0:((gr=ir.offset)==null?void 0:gr[ur])||0)-(yr?mr.crossAxis:0);Ar<Er?Ar=Er:Ar>_r&&(Ar=_r)}return{[dr]:hr,[ur]:Ar}}}},size$2=function(er){return er===void 0&&(er={}),{name:"size",options:er,async fn(St){var tr,rr;const{placement:nr,rects:sr,platform:ir,elements:ar}=St,{apply:or=()=>{},...lr}=evaluate(er,St),cr=await detectOverflow(St,lr),ur=getSide(nr),dr=getAlignment(nr),hr=getSideAxis(nr)==="y",{width:Ar,height:fr}=sr.floating;let mr,pr;ur==="top"||ur==="bottom"?(mr=ur,pr=dr===(await(ir.isRTL==null?void 0:ir.isRTL(ar.floating))?"start":"end")?"left":"right"):(pr=ur,mr=dr==="end"?"top":"bottom");const gr=fr-cr.top-cr.bottom,xr=Ar-cr.left-cr.right,yr=min$2(fr-cr[mr],gr),Er=min$2(Ar-cr[pr],xr),_r=!St.middlewareData.shift;let Sr=yr,jr=Er;if((tr=St.middlewareData.shift)!=null&&tr.enabled.x&&(jr=xr),(rr=St.middlewareData.shift)!=null&&rr.enabled.y&&(Sr=gr),_r&&!dr){const Mr=max$3(cr.left,0),Ir=max$3(cr.right,0),Lr=max$3(cr.top,0),Qr=max$3(cr.bottom,0);hr?jr=Ar-2*(Mr!==0||Ir!==0?Mr+Ir:max$3(cr.left,cr.right)):Sr=fr-2*(Lr!==0||Qr!==0?Lr+Qr:max$3(cr.top,cr.bottom))}await or({...St,availableWidth:jr,availableHeight:Sr});const Pr=await ir.getDimensions(ar.floating);return Ar!==Pr.width||fr!==Pr.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(er){const St=getComputedStyle$2(er);let tr=parseFloat(St.width)||0,rr=parseFloat(St.height)||0;const nr=isHTMLElement$2(er),sr=nr?er.offsetWidth:tr,ir=nr?er.offsetHeight:rr,ar=round$1(tr)!==sr||round$1(rr)!==ir;return ar&&(tr=sr,rr=ir),{width:tr,height:rr,$:ar}}function unwrapElement(er){return isElement(er)?er:er.contextElement}function getScale(er){const St=unwrapElement(er);if(!isHTMLElement$2(St))return createCoords(1);const tr=St.getBoundingClientRect(),{width:rr,height:nr,$:sr}=getCssDimensions(St);let ir=(sr?round$1(tr.width):tr.width)/rr,ar=(sr?round$1(tr.height):tr.height)/nr;return(!ir||!Number.isFinite(ir))&&(ir=1),(!ar||!Number.isFinite(ar))&&(ar=1),{x:ir,y:ar}}const noOffsets=createCoords(0);function getVisualOffsets(er){const St=getWindow(er);return!isWebKit()||!St.visualViewport?noOffsets:{x:St.visualViewport.offsetLeft,y:St.visualViewport.offsetTop}}function shouldAddVisualOffsets(er,St,tr){return St===void 0&&(St=!1),!tr||St&&tr!==getWindow(er)?!1:St}function getBoundingClientRect(er,St,tr,rr){St===void 0&&(St=!1),tr===void 0&&(tr=!1);const nr=er.getBoundingClientRect(),sr=unwrapElement(er);let ir=createCoords(1);St&&(rr?isElement(rr)&&(ir=getScale(rr)):ir=getScale(er));const ar=shouldAddVisualOffsets(sr,tr,rr)?getVisualOffsets(sr):createCoords(0);let or=(nr.left+ar.x)/ir.x,lr=(nr.top+ar.y)/ir.y,cr=nr.width/ir.x,ur=nr.height/ir.y;if(sr){const dr=getWindow(sr),hr=rr&&isElement(rr)?getWindow(rr):rr;let Ar=dr,fr=getFrameElement(Ar);for(;fr&&rr&&hr!==Ar;){const mr=getScale(fr),pr=fr.getBoundingClientRect(),gr=getComputedStyle$2(fr),xr=pr.left+(fr.clientLeft+parseFloat(gr.paddingLeft))*mr.x,yr=pr.top+(fr.clientTop+parseFloat(gr.paddingTop))*mr.y;or*=mr.x,lr*=mr.y,cr*=mr.x,ur*=mr.y,or+=xr,lr+=yr,Ar=getWindow(fr),fr=getFrameElement(Ar)}}return rectToClientRect({width:cr,height:ur,x:or,y:lr})}function getWindowScrollBarX(er,St){const tr=getNodeScroll(er).scrollLeft;return St?St.left+tr:getBoundingClientRect(getDocumentElement(er)).left+tr}function getHTMLOffset(er,St,tr){tr===void 0&&(tr=!1);const rr=er.getBoundingClientRect(),nr=rr.left+St.scrollLeft-(tr?0:getWindowScrollBarX(er,rr)),sr=rr.top+St.scrollTop;return{x:nr,y:sr}}function convertOffsetParentRelativeRectToViewportRelativeRect(er){let{elements:St,rect:tr,offsetParent:rr,strategy:nr}=er;const sr=nr==="fixed",ir=getDocumentElement(rr),ar=St?isTopLayer(St.floating):!1;if(rr===ir||ar&&sr)return tr;let or={scrollLeft:0,scrollTop:0},lr=createCoords(1);const cr=createCoords(0),ur=isHTMLElement$2(rr);if((ur||!ur&&!sr)&&((getNodeName(rr)!=="body"||isOverflowElement(ir))&&(or=getNodeScroll(rr)),isHTMLElement$2(rr))){const hr=getBoundingClientRect(rr);lr=getScale(rr),cr.x=hr.x+rr.clientLeft,cr.y=hr.y+rr.clientTop}const dr=ir&&!ur&&!sr?getHTMLOffset(ir,or,!0):createCoords(0);return{width:tr.width*lr.x,height:tr.height*lr.y,x:tr.x*lr.x-or.scrollLeft*lr.x+cr.x+dr.x,y:tr.y*lr.y-or.scrollTop*lr.y+cr.y+dr.y}}function getClientRects(er){return Array.from(er.getClientRects())}function getDocumentRect(er){const St=getDocumentElement(er),tr=getNodeScroll(er),rr=er.ownerDocument.body,nr=max$3(St.scrollWidth,St.clientWidth,rr.scrollWidth,rr.clientWidth),sr=max$3(St.scrollHeight,St.clientHeight,rr.scrollHeight,rr.clientHeight);let ir=-tr.scrollLeft+getWindowScrollBarX(er);const ar=-tr.scrollTop;return getComputedStyle$2(rr).direction==="rtl"&&(ir+=max$3(St.clientWidth,rr.clientWidth)-nr),{width:nr,height:sr,x:ir,y:ar}}function getViewportRect(er,St){const tr=getWindow(er),rr=getDocumentElement(er),nr=tr.visualViewport;let sr=rr.clientWidth,ir=rr.clientHeight,ar=0,or=0;if(nr){sr=nr.width,ir=nr.height;const lr=isWebKit();(!lr||lr&&St==="fixed")&&(ar=nr.offsetLeft,or=nr.offsetTop)}return{width:sr,height:ir,x:ar,y:or}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(er,St){const tr=getBoundingClientRect(er,!0,St==="fixed"),rr=tr.top+er.clientTop,nr=tr.left+er.clientLeft,sr=isHTMLElement$2(er)?getScale(er):createCoords(1),ir=er.clientWidth*sr.x,ar=er.clientHeight*sr.y,or=nr*sr.x,lr=rr*sr.y;return{width:ir,height:ar,x:or,y:lr}}function getClientRectFromClippingAncestor(er,St,tr){let rr;if(St==="viewport")rr=getViewportRect(er,tr);else if(St==="document")rr=getDocumentRect(getDocumentElement(er));else if(isElement(St))rr=getInnerBoundingClientRect(St,tr);else{const nr=getVisualOffsets(er);rr={x:St.x-nr.x,y:St.y-nr.y,width:St.width,height:St.height}}return rectToClientRect(rr)}function hasFixedPositionAncestor(er,St){const tr=getParentNode(er);return tr===St||!isElement(tr)||isLastTraversableNode(tr)?!1:getComputedStyle$2(tr).position==="fixed"||hasFixedPositionAncestor(tr,St)}function getClippingElementAncestors(er,St){const tr=St.get(er);if(tr)return tr;let rr=getOverflowAncestors(er,[],!1).filter(ar=>isElement(ar)&&getNodeName(ar)!=="body"),nr=null;const sr=getComputedStyle$2(er).position==="fixed";let ir=sr?getParentNode(er):er;for(;isElement(ir)&&!isLastTraversableNode(ir);){const ar=getComputedStyle$2(ir),or=isContainingBlock(ir);!or&&ar.position==="fixed"&&(nr=null),(sr?!or&&!nr:!or&&ar.position==="static"&&!!nr&&absoluteOrFixed.has(nr.position)||isOverflowElement(ir)&&!or&&hasFixedPositionAncestor(er,ir))?rr=rr.filter(cr=>cr!==ir):nr=ar,ir=getParentNode(ir)}return St.set(er,rr),rr}function getClippingRect(er){let{element:St,boundary:tr,rootBoundary:rr,strategy:nr}=er;const ir=[...tr==="clippingAncestors"?isTopLayer(St)?[]:getClippingElementAncestors(St,this._c):[].concat(tr),rr],ar=ir[0],or=ir.reduce((lr,cr)=>{const ur=getClientRectFromClippingAncestor(St,cr,nr);return lr.top=max$3(ur.top,lr.top),lr.right=min$2(ur.right,lr.right),lr.bottom=min$2(ur.bottom,lr.bottom),lr.left=max$3(ur.left,lr.left),lr},getClientRectFromClippingAncestor(St,ar,nr));return{width:or.right-or.left,height:or.bottom-or.top,x:or.left,y:or.top}}function getDimensions(er){const{width:St,height:tr}=getCssDimensions(er);return{width:St,height:tr}}function getRectRelativeToOffsetParent(er,St,tr){const rr=isHTMLElement$2(St),nr=getDocumentElement(St),sr=tr==="fixed",ir=getBoundingClientRect(er,!0,sr,St);let ar={scrollLeft:0,scrollTop:0};const or=createCoords(0);function lr(){or.x=getWindowScrollBarX(nr)}if(rr||!rr&&!sr)if((getNodeName(St)!=="body"||isOverflowElement(nr))&&(ar=getNodeScroll(St)),rr){const hr=getBoundingClientRect(St,!0,sr,St);or.x=hr.x+St.clientLeft,or.y=hr.y+St.clientTop}else nr&&lr();sr&&!rr&&nr&&lr();const cr=nr&&!rr&&!sr?getHTMLOffset(nr,ar):createCoords(0),ur=ir.left+ar.scrollLeft-or.x-cr.x,dr=ir.top+ar.scrollTop-or.y-cr.y;return{x:ur,y:dr,width:ir.width,height:ir.height}}function isStaticPositioned(er){return getComputedStyle$2(er).position==="static"}function getTrueOffsetParent(er,St){if(!isHTMLElement$2(er)||getComputedStyle$2(er).position==="fixed")return null;if(St)return St(er);let tr=er.offsetParent;return getDocumentElement(er)===tr&&(tr=tr.ownerDocument.body),tr}function getOffsetParent(er,St){const tr=getWindow(er);if(isTopLayer(er))return tr;if(!isHTMLElement$2(er)){let nr=getParentNode(er);for(;nr&&!isLastTraversableNode(nr);){if(isElement(nr)&&!isStaticPositioned(nr))return nr;nr=getParentNode(nr)}return tr}let rr=getTrueOffsetParent(er,St);for(;rr&&isTableElement(rr)&&isStaticPositioned(rr);)rr=getTrueOffsetParent(rr,St);return rr&&isLastTraversableNode(rr)&&isStaticPositioned(rr)&&!isContainingBlock(rr)?tr:rr||getContainingBlock(er)||tr}const getElementRects=async function(er){const St=this.getOffsetParent||getOffsetParent,tr=this.getDimensions,rr=await tr(er.floating);return{reference:getRectRelativeToOffsetParent(er.reference,await St(er.floating),er.strategy),floating:{x:0,y:0,width:rr.width,height:rr.height}}};function isRTL(er){return getComputedStyle$2(er).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(er,St){return er.x===St.x&&er.y===St.y&&er.width===St.width&&er.height===St.height}function observeMove(er,St){let tr=null,rr;const nr=getDocumentElement(er);function sr(){var ar;clearTimeout(rr),(ar=tr)==null||ar.disconnect(),tr=null}function ir(ar,or){ar===void 0&&(ar=!1),or===void 0&&(or=1),sr();const lr=er.getBoundingClientRect(),{left:cr,top:ur,width:dr,height:hr}=lr;if(ar||St(),!dr||!hr)return;const Ar=floor(ur),fr=floor(nr.clientWidth-(cr+dr)),mr=floor(nr.clientHeight-(ur+hr)),pr=floor(cr),xr={rootMargin:-Ar+"px "+-fr+"px "+-mr+"px "+-pr+"px",threshold:max$3(0,min$2(1,or))||1};let yr=!0;function Er(_r){const Sr=_r[0].intersectionRatio;if(Sr!==or){if(!yr)return ir();Sr?ir(!1,Sr):rr=setTimeout(()=>{ir(!1,1e-7)},1e3)}Sr===1&&!rectsAreEqual(lr,er.getBoundingClientRect())&&ir(),yr=!1}try{tr=new IntersectionObserver(Er,{...xr,root:nr.ownerDocument})}catch{tr=new IntersectionObserver(Er,xr)}tr.observe(er)}return ir(!0),sr}function autoUpdate(er,St,tr,rr){rr===void 0&&(rr={});const{ancestorScroll:nr=!0,ancestorResize:sr=!0,elementResize:ir=typeof ResizeObserver=="function",layoutShift:ar=typeof IntersectionObserver=="function",animationFrame:or=!1}=rr,lr=unwrapElement(er),cr=nr||sr?[...lr?getOverflowAncestors(lr):[],...getOverflowAncestors(St)]:[];cr.forEach(pr=>{nr&&pr.addEventListener("scroll",tr,{passive:!0}),sr&&pr.addEventListener("resize",tr)});const ur=lr&&ar?observeMove(lr,tr):null;let dr=-1,hr=null;ir&&(hr=new ResizeObserver(pr=>{let[gr]=pr;gr&&gr.target===lr&&hr&&(hr.unobserve(St),cancelAnimationFrame(dr),dr=requestAnimationFrame(()=>{var xr;(xr=hr)==null||xr.observe(St)})),tr()}),lr&&!or&&hr.observe(lr),hr.observe(St));let Ar,fr=or?getBoundingClientRect(er):null;or&&mr();function mr(){const pr=getBoundingClientRect(er);fr&&!rectsAreEqual(fr,pr)&&tr(),fr=pr,Ar=requestAnimationFrame(mr)}return tr(),()=>{var pr;cr.forEach(gr=>{nr&&gr.removeEventListener("scroll",tr),sr&&gr.removeEventListener("resize",tr)}),ur==null||ur(),(pr=hr)==null||pr.disconnect(),hr=null,or&&cancelAnimationFrame(Ar)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(er,St,tr)=>{const rr=new Map,nr={platform,...tr},sr={...nr.platform,_c:rr};return computePosition$1(er,St,{...nr,platform:sr})};var isClient=typeof document<"u",noop$8=function er(){},index=isClient?reactExports.useLayoutEffect:noop$8;function deepEqual(er,St){if(er===St)return!0;if(typeof er!=typeof St)return!1;if(typeof er=="function"&&er.toString()===St.toString())return!0;let tr,rr,nr;if(er&&St&&typeof er=="object"){if(Array.isArray(er)){if(tr=er.length,tr!==St.length)return!1;for(rr=tr;rr--!==0;)if(!deepEqual(er[rr],St[rr]))return!1;return!0}if(nr=Object.keys(er),tr=nr.length,tr!==Object.keys(St).length)return!1;for(rr=tr;rr--!==0;)if(!{}.hasOwnProperty.call(St,nr[rr]))return!1;for(rr=tr;rr--!==0;){const sr=nr[rr];if(!(sr==="_owner"&&er.$$typeof)&&!deepEqual(er[sr],St[sr]))return!1}return!0}return er!==er&&St!==St}function getDPR(er){return typeof window>"u"?1:(er.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(er,St){const tr=getDPR(er);return Math.round(St*tr)/tr}function useLatestRef(er){const St=reactExports.useRef(er);return index(()=>{St.current=er}),St}function useFloating(er){er===void 0&&(er={});const{placement:St="bottom",strategy:tr="absolute",middleware:rr=[],platform:nr,elements:{reference:sr,floating:ir}={},transform:ar=!0,whileElementsMounted:or,open:lr}=er,[cr,ur]=reactExports.useState({x:0,y:0,strategy:tr,placement:St,middlewareData:{},isPositioned:!1}),[dr,hr]=reactExports.useState(rr);deepEqual(dr,rr)||hr(rr);const[Ar,fr]=reactExports.useState(null),[mr,pr]=reactExports.useState(null),gr=reactExports.useCallback(Tr=>{Tr!==_r.current&&(_r.current=Tr,fr(Tr))},[]),xr=reactExports.useCallback(Tr=>{Tr!==Sr.current&&(Sr.current=Tr,pr(Tr))},[]),yr=sr||Ar,Er=ir||mr,_r=reactExports.useRef(null),Sr=reactExports.useRef(null),jr=reactExports.useRef(cr),Pr=or!=null,Mr=useLatestRef(or),Ir=useLatestRef(nr),Lr=useLatestRef(lr),Qr=reactExports.useCallback(()=>{if(!_r.current||!Sr.current)return;const Tr={placement:St,strategy:tr,middleware:dr};Ir.current&&(Tr.platform=Ir.current),computePosition(_r.current,Sr.current,Tr).then(Fr=>{const Wr={...Fr,isPositioned:Lr.current!==!1};Yr.current&&!deepEqual(jr.current,Wr)&&(jr.current=Wr,reactDomExports.flushSync(()=>{ur(Wr)}))})},[dr,St,tr,Ir,Lr]);index(()=>{lr===!1&&jr.current.isPositioned&&(jr.current.isPositioned=!1,ur(Tr=>({...Tr,isPositioned:!1})))},[lr]);const Yr=reactExports.useRef(!1);index(()=>(Yr.current=!0,()=>{Yr.current=!1}),[]),index(()=>{if(yr&&(_r.current=yr),Er&&(Sr.current=Er),yr&&Er){if(Mr.current)return Mr.current(yr,Er,Qr);Qr()}},[yr,Er,Qr,Mr,Pr]);const Gr=reactExports.useMemo(()=>({reference:_r,floating:Sr,setReference:gr,setFloating:xr}),[gr,xr]),$r=reactExports.useMemo(()=>({reference:yr,floating:Er}),[yr,Er]),Vr=reactExports.useMemo(()=>{const Tr={position:tr,left:0,top:0};if(!$r.floating)return Tr;const Fr=roundByDPR($r.floating,cr.x),Wr=roundByDPR($r.floating,cr.y);return ar?{...Tr,transform:"translate("+Fr+"px, "+Wr+"px)",...getDPR($r.floating)>=1.5&&{willChange:"transform"}}:{position:tr,left:Fr,top:Wr}},[tr,ar,$r.floating,cr.x,cr.y]);return reactExports.useMemo(()=>({...cr,update:Qr,refs:Gr,elements:$r,floatingStyles:Vr}),[cr,Qr,Gr,$r,Vr])}const arrow$1=er=>{function St(tr){return{}.hasOwnProperty.call(tr,"current")}return{name:"arrow",options:er,fn(tr){const{element:rr,padding:nr}=typeof er=="function"?er(tr):er;return rr&&St(rr)?rr.current!=null?arrow$2({element:rr.current,padding:nr}).fn(tr):{}:rr?arrow$2({element:rr,padding:nr}).fn(tr):{}}}},offset=(er,St)=>({...offset$1(er),options:[er,St]}),shift=(er,St)=>({...shift$1(er),options:[er,St]}),limitShift=(er,St)=>({...limitShift$1(er),options:[er,St]}),flip=(er,St)=>({...flip$1(er),options:[er,St]}),size=(er,St)=>({...size$1(er),options:[er,St]}),hide=(er,St)=>({...hide$1(er),options:[er,St]}),arrow=(er,St)=>({...arrow$1(er),options:[er,St]});let n$2=reactExports.createContext(null);n$2.displayName="OpenClosedContext";var i$6=(er=>(er[er.Open=1]="Open",er[er.Closed=2]="Closed",er[er.Closing=4]="Closing",er[er.Opening=8]="Opening",er))(i$6||{});function u$3(){return reactExports.useContext(n$2)}function c$3({value:er,children:St}){return React$3.createElement(n$2.Provider,{value:er},St)}function s$3({children:er}){return React$3.createElement(n$2.Provider,{value:null},er)}function t(er){function St(){document.readyState!=="loading"&&(er(),document.removeEventListener("DOMContentLoaded",St))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",St),St())}let n$1=[];t(()=>{function er(St){if(!i$a(St.target)||St.target===document.body||n$1[0]===St.target)return;let tr=St.target;tr=tr.closest(f$5),n$1.unshift(tr??St.target),n$1=n$1.filter(rr=>rr!=null&&rr.isConnected),n$1.splice(10)}window.addEventListener("click",er,{capture:!0}),window.addEventListener("mousedown",er,{capture:!0}),window.addEventListener("focus",er,{capture:!0}),document.body.addEventListener("click",er,{capture:!0}),document.body.addEventListener("mousedown",er,{capture:!0}),document.body.addEventListener("focus",er,{capture:!0})});function c$2(er){let St=o$6(er),tr=reactExports.useRef(!1);reactExports.useEffect(()=>(tr.current=!1,()=>{tr.current=!0,t$4(()=>{tr.current&&St()})}),[St])}function s$2(){let er=typeof document>"u";return(St=>St.useSyncExternalStore)(React$4)(()=>()=>{},()=>!1,()=>!er)}function l$2(){let er=s$2(),[St,tr]=reactExports.useState(s$8.isHandoffComplete);return St&&s$8.isHandoffComplete===!1&&tr(!1),reactExports.useEffect(()=>{St!==!0&&tr(!0)},[St]),reactExports.useEffect(()=>s$8.handoff(),[]),er?!1:St}let e$1=reactExports.createContext(!1);function a$6(){return reactExports.useContext(e$1)}function l$1(er){return React$3.createElement(e$1.Provider,{value:er.force},er.children)}function I$2(er){let St=a$6(),tr=reactExports.useContext(H$2),[rr,nr]=reactExports.useState(()=>{var sr;if(!St&&tr!==null)return(sr=tr.current)!=null?sr:null;if(s$8.isServer)return null;let ir=er==null?void 0:er.getElementById("headlessui-portal-root");if(ir)return ir;if(er===null)return null;let ar=er.createElement("div");return ar.setAttribute("id","headlessui-portal-root"),er.body.appendChild(ar)});return reactExports.useEffect(()=>{rr!==null&&(er!=null&&er.body.contains(rr)||er==null||er.body.appendChild(rr))},[rr,er]),reactExports.useEffect(()=>{St||tr!==null&&nr(tr.current)},[tr,nr,St]),rr}let M$2=reactExports.Fragment,D$2=K$1(function(er,St){let{ownerDocument:tr=null,...rr}=er,nr=reactExports.useRef(null),sr=y$7(T$4(hr=>{nr.current=hr}),St),ir=n$3(nr),ar=tr??ir,or=I$2(ar),[lr]=reactExports.useState(()=>{var hr;return s$8.isServer?null:(hr=ar==null?void 0:ar.createElement("div"))!=null?hr:null}),cr=reactExports.useContext(g$1),ur=l$2();n$7(()=>{!or||!lr||or.contains(lr)||(lr.setAttribute("data-headlessui-portal",""),or.appendChild(lr))},[or,lr]),n$7(()=>{if(lr&&cr)return cr.register(lr)},[cr,lr]),c$2(()=>{var hr;!or||!lr||(o$5(lr)&&or.contains(lr)&&or.removeChild(lr),or.childNodes.length<=0&&((hr=or.parentElement)==null||hr.removeChild(or)))});let dr=L$3();return ur?!or||!lr?null:reactDomExports.createPortal(dr({ourProps:{ref:sr},theirProps:rr,slot:{},defaultTag:M$2,name:"Portal"}),lr):null});function J$1(er,St){let tr=y$7(St),{enabled:rr=!0,ownerDocument:nr,...sr}=er,ir=L$3();return rr?React$3.createElement(D$2,{...sr,ownerDocument:nr,ref:tr}):ir({ourProps:{ref:tr},theirProps:sr,slot:{},defaultTag:M$2,name:"Portal"})}let X$2=reactExports.Fragment,H$2=reactExports.createContext(null);function k$2(er,St){let{target:tr,...rr}=er,nr={ref:y$7(St)},sr=L$3();return React$3.createElement(H$2.Provider,{value:tr},sr({ourProps:nr,theirProps:rr,defaultTag:X$2,name:"Popover.Group"}))}let g$1=reactExports.createContext(null);function oe$1(){let er=reactExports.useContext(g$1),St=reactExports.useRef([]),tr=o$6(sr=>(St.current.push(sr),er&&er.register(sr),()=>rr(sr))),rr=o$6(sr=>{let ir=St.current.indexOf(sr);ir!==-1&&St.current.splice(ir,1),er&&er.unregister(sr)}),nr=reactExports.useMemo(()=>({register:tr,unregister:rr,portals:St}),[tr,rr,St]);return[St,reactExports.useMemo(()=>function({children:sr}){return React$3.createElement(g$1.Provider,{value:nr},sr)},[nr])]}let B$1=K$1(J$1),q$1=K$1(k$2),ne$2=Object.assign(B$1,{Group:q$1});function a$5(er,St=typeof document<"u"?document.defaultView:null,tr){let rr=I$4(er,"escape");E$2(St,"keydown",nr=>{rr&&(nr.defaultPrevented||nr.key===o$4.Escape&&tr(nr))})}function f$3(){var er;let[St]=reactExports.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[tr,rr]=reactExports.useState((er=St==null?void 0:St.matches)!=null?er:!1);return n$7(()=>{if(!St)return;function nr(sr){rr(sr.matches)}return St.addEventListener("change",nr),()=>St.removeEventListener("change",nr)},[St]),tr}function H$1({defaultContainers:er=[],portals:St,mainTreeNode:tr}={}){let rr=n$3(tr),nr=o$6(()=>{var sr,ir;let ar=[];for(let or of er)or!==null&&(t$2(or)?ar.push(or):"current"in or&&t$2(or.current)&&ar.push(or.current));if(St!=null&&St.current)for(let or of St.current)ar.push(or);for(let or of(sr=rr==null?void 0:rr.querySelectorAll("html > *, body > *"))!=null?sr:[])or!==document.body&&or!==document.head&&t$2(or)&&or.id!=="headlessui-portal-root"&&(tr&&(or.contains(tr)||or.contains((ir=tr==null?void 0:tr.getRootNode())==null?void 0:ir.host))||ar.some(lr=>or.contains(lr))||ar.push(or));return ar});return{resolveContainers:nr,contains:o$6(sr=>nr().some(ir=>ir.contains(sr)))}}let a$4=reactExports.createContext(null);function P$2({children:er,node:St}){let[tr,rr]=reactExports.useState(null),nr=y$2(St??tr);return React$3.createElement(a$4.Provider,{value:nr},er,nr===null&&React$3.createElement(f$9,{features:s$6.Hidden,ref:sr=>{var ir,ar;if(sr){for(let or of(ar=(ir=o$8(sr))==null?void 0:ir.querySelectorAll("html > *, body > *"))!=null?ar:[])if(or!==document.body&&or!==document.head&&t$2(or)&&or!=null&&or.contains(sr)){rr(or);break}}}}))}function y$2(er=null){var St;return(St=reactExports.useContext(a$4))!=null?St:er}function f$2(){let er=reactExports.useRef(!1);return n$7(()=>(er.current=!0,()=>{er.current=!1}),[]),er}var a$3=(er=>(er[er.Forwards=0]="Forwards",er[er.Backwards=1]="Backwards",er))(a$3||{});function u$2(){let er=reactExports.useRef(0);return s$4(!0,"keydown",St=>{St.key==="Tab"&&(er.current=St.shiftKey?1:0)},!0),er}function x$3(er){if(!er)return new Set;if(typeof er=="function")return new Set(er());let St=new Set;for(let tr of er.current)t$2(tr.current)&&St.add(tr.current);return St}let $$2="div";var G$1=(er=>(er[er.None=0]="None",er[er.InitialFocus=1]="InitialFocus",er[er.TabLock=2]="TabLock",er[er.FocusLock=4]="FocusLock",er[er.RestoreFocus=8]="RestoreFocus",er[er.AutoFocus=16]="AutoFocus",er))(G$1||{});function D$1(er,St){let tr=reactExports.useRef(null),rr=y$7(tr,St),{initialFocus:nr,initialFocusFallback:sr,containers:ir,features:ar=15,...or}=er;l$2()||(ar=0);let lr=n$3(tr);te$1(ar,{ownerDocument:lr});let cr=re$3(ar,{ownerDocument:lr,container:tr,initialFocus:nr,initialFocusFallback:sr});ne$1(ar,{ownerDocument:lr,container:tr,containers:ir,previousActiveElement:cr});let ur=u$2(),dr=o$6(gr=>{if(!n$6(tr.current))return;let xr=tr.current;(yr=>yr())(()=>{u$8(ur.current,{[a$3.Forwards]:()=>{g$2(xr,T$3.First,{skipElements:[gr.relatedTarget,sr]})},[a$3.Backwards]:()=>{g$2(xr,T$3.Last,{skipElements:[gr.relatedTarget,sr]})}})})}),hr=I$4(!!(ar&2),"focus-trap#tab-lock"),Ar=p$3(),fr=reactExports.useRef(!1),mr={ref:rr,onKeyDown(gr){gr.key=="Tab"&&(fr.current=!0,Ar.requestAnimationFrame(()=>{fr.current=!1}))},onBlur(gr){if(!(ar&4))return;let xr=x$3(ir);n$6(tr.current)&&xr.add(tr.current);let yr=gr.relatedTarget;i$a(yr)&&yr.dataset.headlessuiFocusGuard!=="true"&&(I$1(xr,yr)||(fr.current?g$2(tr.current,u$8(ur.current,{[a$3.Forwards]:()=>T$3.Next,[a$3.Backwards]:()=>T$3.Previous})|T$3.WrapAround,{relativeTo:gr.target}):i$a(gr.target)&&I$3(gr.target)))}},pr=L$3();return React$3.createElement(React$3.Fragment,null,hr&&React$3.createElement(f$9,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:s$6.Focusable}),pr({ourProps:mr,theirProps:or,defaultTag:$$2,name:"FocusTrap"}),hr&&React$3.createElement(f$9,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:s$6.Focusable}))}let w$3=K$1(D$1),Re=Object.assign(w$3,{features:G$1});function ee$1(er=!0){let St=reactExports.useRef(n$1.slice());return m$1(([tr],[rr])=>{rr===!0&&tr===!1&&t$4(()=>{St.current.splice(0)}),rr===!1&&tr===!0&&(St.current=n$1.slice())},[er,n$1,St]),o$6(()=>{var tr;return(tr=St.current.find(rr=>rr!=null&&rr.isConnected))!=null?tr:null})}function te$1(er,{ownerDocument:St}){let tr=!!(er&8),rr=ee$1(tr);m$1(()=>{tr||(St==null?void 0:St.activeElement)===(St==null?void 0:St.body)&&I$3(rr())},[tr]),c$2(()=>{tr&&I$3(rr())})}function re$3(er,{ownerDocument:St,container:tr,initialFocus:rr,initialFocusFallback:nr}){let sr=reactExports.useRef(null),ir=I$4(!!(er&1),"focus-trap#initial-focus"),ar=f$2();return m$1(()=>{if(er===0)return;if(!ir){nr!=null&&nr.current&&I$3(nr.current);return}let or=tr.current;or&&t$4(()=>{if(!ar.current)return;let lr=St==null?void 0:St.activeElement;if(rr!=null&&rr.current){if((rr==null?void 0:rr.current)===lr){sr.current=lr;return}}else if(or.contains(lr)){sr.current=lr;return}if(rr!=null&&rr.current)I$3(rr.current);else{if(er&16){if(g$2(or,T$3.First|T$3.AutoFocus)!==y$3.Error)return}else if(g$2(or,T$3.First)!==y$3.Error)return;if(nr!=null&&nr.current&&(I$3(nr.current),(St==null?void 0:St.activeElement)===nr.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}sr.current=St==null?void 0:St.activeElement})},[nr,ir,er]),sr}function ne$1(er,{ownerDocument:St,container:tr,containers:rr,previousActiveElement:nr}){let sr=f$2(),ir=!!(er&4);E$2(St==null?void 0:St.defaultView,"focus",ar=>{if(!ir||!sr.current)return;let or=x$3(rr);n$6(tr.current)&&or.add(tr.current);let lr=nr.current;if(!lr)return;let cr=ar.target;n$6(cr)?I$1(or,cr)?(nr.current=cr,I$3(cr)):(ar.preventDefault(),ar.stopPropagation(),I$3(lr)):I$3(nr.current)},!0)}function I$1(er,St){for(let tr of er)if(tr.contains(St))return!0;return!1}function ue$1(er){var St;return!!(er.enter||er.enterFrom||er.enterTo||er.leave||er.leaveFrom||er.leaveTo)||((St=er.as)!=null?St:de$1)!==reactExports.Fragment||React$3.Children.count(er.children)===1}let w$2=reactExports.createContext(null);w$2.displayName="TransitionContext";var _e=(er=>(er.Visible="visible",er.Hidden="hidden",er))(_e||{});function De(){let er=reactExports.useContext(w$2);if(er===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return er}function He$1(){let er=reactExports.useContext(M$1);if(er===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return er}let M$1=reactExports.createContext(null);M$1.displayName="NestingContext";function U$2(er){return"children"in er?U$2(er.children):er.current.filter(({el:St})=>St.current!==null).filter(({state:St})=>St==="visible").length>0}function Te(er,St){let tr=s$7(er),rr=reactExports.useRef([]),nr=f$2(),sr=p$3(),ir=o$6((hr,Ar=A$3.Hidden)=>{let fr=rr.current.findIndex(({el:mr})=>mr===hr);fr!==-1&&(u$8(Ar,{[A$3.Unmount](){rr.current.splice(fr,1)},[A$3.Hidden](){rr.current[fr].state="hidden"}}),sr.microTask(()=>{var mr;!U$2(rr)&&nr.current&&((mr=tr.current)==null||mr.call(tr))}))}),ar=o$6(hr=>{let Ar=rr.current.find(({el:fr})=>fr===hr);return Ar?Ar.state!=="visible"&&(Ar.state="visible"):rr.current.push({el:hr,state:"visible"}),()=>ir(hr,A$3.Unmount)}),or=reactExports.useRef([]),lr=reactExports.useRef(Promise.resolve()),cr=reactExports.useRef({enter:[],leave:[]}),ur=o$6((hr,Ar,fr)=>{or.current.splice(0),St&&(St.chains.current[Ar]=St.chains.current[Ar].filter(([mr])=>mr!==hr)),St==null||St.chains.current[Ar].push([hr,new Promise(mr=>{or.current.push(mr)})]),St==null||St.chains.current[Ar].push([hr,new Promise(mr=>{Promise.all(cr.current[Ar].map(([pr,gr])=>gr)).then(()=>mr())})]),Ar==="enter"?lr.current=lr.current.then(()=>St==null?void 0:St.wait.current).then(()=>fr(Ar)):fr(Ar)}),dr=o$6((hr,Ar,fr)=>{Promise.all(cr.current[Ar].splice(0).map(([mr,pr])=>pr)).then(()=>{var mr;(mr=or.current.shift())==null||mr()}).then(()=>fr(Ar))});return reactExports.useMemo(()=>({children:rr,register:ar,unregister:ir,onStart:ur,onStop:dr,wait:lr,chains:cr}),[ar,ir,rr,ur,dr,cr,lr])}let de$1=reactExports.Fragment,fe$1=O$3.RenderStrategy;function Ae(er,St){var tr,rr;let{transition:nr=!0,beforeEnter:sr,afterEnter:ir,beforeLeave:ar,afterLeave:or,enter:lr,enterFrom:cr,enterTo:ur,entered:dr,leave:hr,leaveFrom:Ar,leaveTo:fr,...mr}=er,[pr,gr]=reactExports.useState(null),xr=reactExports.useRef(null),yr=ue$1(er),Er=y$7(...yr?[xr,St,gr]:St===null?[]:[St]),_r=(tr=mr.unmount)==null||tr?A$3.Unmount:A$3.Hidden,{show:Sr,appear:jr,initial:Pr}=De(),[Mr,Ir]=reactExports.useState(Sr?"visible":"hidden"),Lr=He$1(),{register:Qr,unregister:Yr}=Lr;n$7(()=>Qr(xr),[Qr,xr]),n$7(()=>{if(_r===A$3.Hidden&&xr.current){if(Sr&&Mr!=="visible"){Ir("visible");return}return u$8(Mr,{hidden:()=>Yr(xr),visible:()=>Qr(xr)})}},[Mr,xr,Qr,Yr,Sr,_r]);let Gr=l$2();n$7(()=>{if(yr&&Gr&&Mr==="visible"&&xr.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[xr,Mr,Gr,yr]);let $r=Pr&&!jr,Vr=jr&&Sr&&Pr,Tr=reactExports.useRef(!1),Fr=Te(()=>{Tr.current||(Ir("hidden"),Yr(xr))},Lr),Wr=o$6(nn=>{Tr.current=!0;let vn=nn?"enter":"leave";Fr.onStart(xr,vn,hn=>{hn==="enter"?sr==null||sr():hn==="leave"&&(ar==null||ar())})}),qr=o$6(nn=>{let vn=nn?"enter":"leave";Tr.current=!1,Fr.onStop(xr,vn,hn=>{hn==="enter"?ir==null||ir():hn==="leave"&&(or==null||or())}),vn==="leave"&&!U$2(Fr)&&(Ir("hidden"),Yr(xr))});reactExports.useEffect(()=>{yr&&nr||(Wr(Sr),qr(Sr))},[Sr,yr,nr]);let Rr=!(!nr||!yr||!Gr||$r),[,Or]=x$4(Rr,pr,Sr,{start:Wr,end:qr}),Hr=m$4({ref:Er,className:((rr=t$3(mr.className,Vr&&lr,Vr&&cr,Or.enter&&lr,Or.enter&&Or.closed&&cr,Or.enter&&!Or.closed&&ur,Or.leave&&hr,Or.leave&&!Or.closed&&Ar,Or.leave&&Or.closed&&fr,!Or.transition&&Sr&&dr))==null?void 0:rr.trim())||void 0,...R$1(Or)}),zr=0;Mr==="visible"&&(zr|=i$6.Open),Mr==="hidden"&&(zr|=i$6.Closed),Sr&&Mr==="hidden"&&(zr|=i$6.Opening),!Sr&&Mr==="visible"&&(zr|=i$6.Closing);let Zr=L$3();return React$3.createElement(M$1.Provider,{value:Fr},React$3.createElement(c$3,{value:zr},Zr({ourProps:Hr,theirProps:mr,defaultTag:de$1,features:fe$1,visible:Mr==="visible",name:"Transition.Child"})))}function Ie(er,St){let{show:tr,appear:rr=!1,unmount:nr=!0,...sr}=er,ir=reactExports.useRef(null),ar=ue$1(er),or=y$7(...ar?[ir,St]:St===null?[]:[St]);l$2();let lr=u$3();if(tr===void 0&&lr!==null&&(tr=(lr&i$6.Open)===i$6.Open),tr===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[cr,ur]=reactExports.useState(tr?"visible":"hidden"),dr=Te(()=>{tr||ur("hidden")}),[hr,Ar]=reactExports.useState(!0),fr=reactExports.useRef([tr]);n$7(()=>{hr!==!1&&fr.current[fr.current.length-1]!==tr&&(fr.current.push(tr),Ar(!1))},[fr,tr]);let mr=reactExports.useMemo(()=>({show:tr,appear:rr,initial:hr}),[tr,rr,hr]);n$7(()=>{tr?ur("visible"):!U$2(dr)&&ir.current!==null&&ur("hidden")},[tr,dr]);let pr={unmount:nr},gr=o$6(()=>{var Er;hr&&Ar(!1),(Er=er.beforeEnter)==null||Er.call(er)}),xr=o$6(()=>{var Er;hr&&Ar(!1),(Er=er.beforeLeave)==null||Er.call(er)}),yr=L$3();return React$3.createElement(M$1.Provider,{value:dr},React$3.createElement(w$2.Provider,{value:mr},yr({ourProps:{...pr,as:reactExports.Fragment,children:React$3.createElement(me$1,{ref:or,...pr,...sr,beforeEnter:gr,beforeLeave:xr})},theirProps:{},defaultTag:reactExports.Fragment,features:fe$1,visible:cr==="visible",name:"Transition"})))}function Le$1(er,St){let tr=reactExports.useContext(w$2)!==null,rr=u$3()!==null;return React$3.createElement(React$3.Fragment,null,!tr&&rr?React$3.createElement(X$1,{ref:St,...er}):React$3.createElement(me$1,{ref:St,...er}))}let X$1=K$1(Ie),me$1=K$1(Ae),Fe=K$1(Le$1),ze$1=Object.assign(X$1,{Child:Fe,Root:X$1});var Ge=(er=>(er[er.Open=0]="Open",er[er.Closed=1]="Closed",er))(Ge||{}),we$1=(er=>(er[er.SetTitleId=0]="SetTitleId",er))(we$1||{});let Be={0(er,St){return er.titleId===St.id?er:{...er,titleId:St.id}}},w$1=reactExports.createContext(null);w$1.displayName="DialogContext";function O$1(er){let St=reactExports.useContext(w$1);if(St===null){let tr=new Error(`<${er} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tr,O$1),tr}return St}function Ue(er,St){return u$8(St.type,Be,er,St)}let z$2=K$1(function(er,St){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-${tr}`,open:nr,onClose:sr,initialFocus:ir,role:ar="dialog",autoFocus:or=!0,__demoMode:lr=!1,unmount:cr=!1,...ur}=er,dr=reactExports.useRef(!1);ar=function(){return ar==="dialog"||ar==="alertdialog"?ar:(dr.current||(dr.current=!0,console.warn(`Invalid role [${ar}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let hr=u$3();nr===void 0&&hr!==null&&(nr=(hr&i$6.Open)===i$6.Open);let Ar=reactExports.useRef(null),fr=y$7(Ar,St),mr=n$3(Ar),pr=nr?0:1,[gr,xr]=reactExports.useReducer(Ue,{titleId:null,descriptionId:null,panelRef:reactExports.createRef()}),yr=o$6(()=>sr(!1)),Er=o$6(Or=>xr({type:0,id:Or})),_r=l$2()?pr===0:!1,[Sr,jr]=oe$1(),Pr={get current(){var Or;return(Or=gr.panelRef.current)!=null?Or:Ar.current}},Mr=y$2(),{resolveContainers:Ir}=H$1({mainTreeNode:Mr,portals:Sr,defaultContainers:[Pr]}),Lr=hr!==null?(hr&i$6.Closing)===i$6.Closing:!1;y$4(lr||Lr?!1:_r,{allowed:o$6(()=>{var Or,Hr;return[(Hr=(Or=Ar.current)==null?void 0:Or.closest("[data-headlessui-portal]"))!=null?Hr:null]}),disallowed:o$6(()=>{var Or;return[(Or=Mr==null?void 0:Mr.closest("body > *:not(#headlessui-portal-root)"))!=null?Or:null]})});let Qr=x$5.get(null);n$7(()=>{if(_r)return Qr.actions.push(rr),()=>Qr.actions.pop(rr)},[Qr,rr,_r]);let Yr=S$2(Qr,reactExports.useCallback(Or=>Qr.selectors.isTop(Or,rr),[Qr,rr]));k$3(Yr,Ir,Or=>{Or.preventDefault(),yr()}),a$5(Yr,mr==null?void 0:mr.defaultView,Or=>{Or.preventDefault(),Or.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),yr()}),f$4(lr||Lr?!1:_r,mr,Ir),p$1(_r,Ar,yr);let[Gr,$r]=w$6(),Vr=reactExports.useMemo(()=>[{dialogState:pr,close:yr,setTitleId:Er,unmount:cr},gr],[pr,gr,yr,Er,cr]),Tr=reactExports.useMemo(()=>({open:pr===0}),[pr]),Fr={ref:fr,id:rr,role:ar,tabIndex:-1,"aria-modal":lr?void 0:pr===0?!0:void 0,"aria-labelledby":gr.titleId,"aria-describedby":Gr,unmount:cr},Wr=!f$3(),qr=G$1.None;_r&&!lr&&(qr|=G$1.RestoreFocus,qr|=G$1.TabLock,or&&(qr|=G$1.AutoFocus),Wr&&(qr|=G$1.InitialFocus));let Rr=L$3();return React$3.createElement(s$3,null,React$3.createElement(l$1,{force:!0},React$3.createElement(ne$2,null,React$3.createElement(w$1.Provider,{value:Vr},React$3.createElement(q$1,{target:Ar},React$3.createElement(l$1,{force:!1},React$3.createElement($r,{slot:Tr},React$3.createElement(jr,null,React$3.createElement(Re,{initialFocus:ir,initialFocusFallback:Ar,containers:Ir,features:qr},React$3.createElement(C$3,{value:yr},Rr({ourProps:Fr,theirProps:ur,slot:Tr,defaultTag:He,features:Ne$1,visible:pr===0,name:"Dialog"})))))))))))}),He="div",Ne$1=O$3.RenderStrategy|O$3.Static;function We(er,St){let{transition:tr=!1,open:rr,...nr}=er,sr=u$3(),ir=er.hasOwnProperty("open")||sr!==null,ar=er.hasOwnProperty("onClose");if(!ir&&!ar)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!ir)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!ar)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!sr&&typeof er.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${er.open}`);if(typeof er.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${er.onClose}`);return(rr!==void 0||tr)&&!nr.static?React$3.createElement(P$2,null,React$3.createElement(ze$1,{show:rr,transition:tr,unmount:nr.unmount},React$3.createElement(z$2,{ref:St,...nr}))):React$3.createElement(P$2,null,React$3.createElement(z$2,{ref:St,open:rr,...nr}))}let $e="div";function je(er,St){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-panel-${tr}`,transition:nr=!1,...sr}=er,[{dialogState:ir,unmount:ar},or]=O$1("Dialog.Panel"),lr=y$7(St,or.panelRef),cr=reactExports.useMemo(()=>({open:ir===0}),[ir]),ur=o$6(mr=>{mr.stopPropagation()}),dr={ref:lr,id:rr,onClick:ur},hr=nr?Fe:reactExports.Fragment,Ar=nr?{unmount:ar}:{},fr=L$3();return React$3.createElement(hr,{...Ar},fr({ourProps:dr,theirProps:sr,slot:cr,defaultTag:$e,name:"Dialog.Panel"}))}let Ye="div";function Je(er,St){let{transition:tr=!1,...rr}=er,[{dialogState:nr,unmount:sr}]=O$1("Dialog.Backdrop"),ir=reactExports.useMemo(()=>({open:nr===0}),[nr]),ar={ref:St,"aria-hidden":!0},or=tr?Fe:reactExports.Fragment,lr=tr?{unmount:sr}:{},cr=L$3();return React$3.createElement(or,{...lr},cr({ourProps:ar,theirProps:rr,slot:ir,defaultTag:Ye,name:"Dialog.Backdrop"}))}let Ke="h2";function Xe(er,St){let tr=reactExports.useId(),{id:rr=`headlessui-dialog-title-${tr}`,...nr}=er,[{dialogState:sr,setTitleId:ir}]=O$1("Dialog.Title"),ar=y$7(St);reactExports.useEffect(()=>(ir(rr),()=>ir(null)),[rr,ir]);let or=reactExports.useMemo(()=>({open:sr===0}),[sr]),lr={ref:ar,id:rr};return L$3()({ourProps:lr,theirProps:nr,slot:or,defaultTag:Ke,name:"Dialog.Title"})}let Ve=K$1(We),qe=K$1(je);K$1(Je);let ze=K$1(Xe),Lt$1=Object.assign(Ve,{Panel:qe,Title:ze,Description:H$4});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},DrawOPS={moveTo:0,lineTo:1,curveTo:2,closePath:3},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(er){Number.isInteger(er)&&(verbosity=er)}function getVerbosityLevel(){return verbosity}function info(er){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${er}`)}function warn$1(er){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${er}`)}function unreachable(er){throw new Error(er)}function assert(er,St){er||unreachable(St)}function _isValidProtocol(er){switch(er==null?void 0:er.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(er,St=null,tr=null){if(!er)return null;if(tr&&typeof er=="string"){if(tr.addDefaultProtocol&&er.startsWith("www.")){const nr=er.match(/\./g);(nr==null?void 0:nr.length)>=2&&(er=`http://${er}`)}if(tr.tryConvertEncoding)try{er=stringToUTF8String(er)}catch{}}const rr=St?URL.parse(er,St):URL.parse(er);return _isValidProtocol(rr)?rr:null}function updateUrlHash(er,St,tr=!1){const rr=URL.parse(er);return rr?(rr.hash=St,rr.href):tr&&createValidAbsoluteUrl(er,"http://example.com")?er.split("#",1)[0]+`${St?`#${St}`:""}`:""}function shadow(er,St,tr,rr=!1){return Object.defineProperty(er,St,{value:tr,enumerable:!rr,configurable:!0,writable:!1}),tr}const BaseException=function er(){function St(tr,rr){this.message=tr,this.name=rr}return St.prototype=new Error,St.constructor=St,St}();class PasswordException extends BaseException{constructor(St,tr){super(St,"PasswordException"),this.code=tr}}class UnknownErrorException extends BaseException{constructor(St,tr){super(St,"UnknownErrorException"),this.details=tr}}class InvalidPDFException extends BaseException{constructor(St){super(St,"InvalidPDFException")}}class ResponseException extends BaseException{constructor(St,tr,rr){super(St,"ResponseException"),this.status=tr,this.missing=rr}}class FormatError extends BaseException{constructor(St){super(St,"FormatError")}}class AbortException extends BaseException{constructor(St){super(St,"AbortException")}}function bytesToString(er){(typeof er!="object"||(er==null?void 0:er.length)===void 0)&&unreachable("Invalid argument for bytesToString");const St=er.length,tr=8192;if(St<tr)return String.fromCharCode.apply(null,er);const rr=[];for(let nr=0;nr<St;nr+=tr){const sr=Math.min(nr+tr,St),ir=er.subarray(nr,sr);rr.push(String.fromCharCode.apply(null,ir))}return rr.join("")}function stringToBytes(er){typeof er!="string"&&unreachable("Invalid argument for stringToBytes");const St=er.length,tr=new Uint8Array(St);for(let rr=0;rr<St;++rr)tr[rr]=er.charCodeAt(rr)&255;return tr}function string32(er){return String.fromCharCode(er>>24&255,er>>16&255,er>>8&255,er&255)}function isLittleEndian(){const er=new Uint8Array(4);return er[0]=1,new Uint32Array(er.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:St,userAgent:tr}=navigator;return shadow(this,"platform",{isAndroid:tr.includes("Android"),isLinux:St.includes("Linux"),isMac:St.includes("Mac"),isWindows:St.includes("Win"),isFirefox:tr.includes("Firefox")})}static get isCSSRoundSupported(){var St,tr;return shadow(this,"isCSSRoundSupported",(tr=(St=globalThis.CSS)==null?void 0:St.supports)==null?void 0:tr.call(St,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),er=>er.toString(16).padStart(2,"0"));var Hx,VS,BC;class Util{static makeHexColor(St,tr,rr){return`#${hexNumbers[St]}${hexNumbers[tr]}${hexNumbers[rr]}`}static scaleMinMax(St,tr){let rr;St[0]?(St[0]<0&&(rr=tr[0],tr[0]=tr[2],tr[2]=rr),tr[0]*=St[0],tr[2]*=St[0],St[3]<0&&(rr=tr[1],tr[1]=tr[3],tr[3]=rr),tr[1]*=St[3],tr[3]*=St[3]):(rr=tr[0],tr[0]=tr[1],tr[1]=rr,rr=tr[2],tr[2]=tr[3],tr[3]=rr,St[1]<0&&(rr=tr[1],tr[1]=tr[3],tr[3]=rr),tr[1]*=St[1],tr[3]*=St[1],St[2]<0&&(rr=tr[0],tr[0]=tr[2],tr[2]=rr),tr[0]*=St[2],tr[2]*=St[2]),tr[0]+=St[4],tr[1]+=St[5],tr[2]+=St[4],tr[3]+=St[5]}static transform(St,tr){return[St[0]*tr[0]+St[2]*tr[1],St[1]*tr[0]+St[3]*tr[1],St[0]*tr[2]+St[2]*tr[3],St[1]*tr[2]+St[3]*tr[3],St[0]*tr[4]+St[2]*tr[5]+St[4],St[1]*tr[4]+St[3]*tr[5]+St[5]]}static applyTransform(St,tr,rr=0){const nr=St[rr],sr=St[rr+1];St[rr]=nr*tr[0]+sr*tr[2]+tr[4],St[rr+1]=nr*tr[1]+sr*tr[3]+tr[5]}static applyTransformToBezier(St,tr,rr=0){const nr=tr[0],sr=tr[1],ir=tr[2],ar=tr[3],or=tr[4],lr=tr[5];for(let cr=0;cr<6;cr+=2){const ur=St[rr+cr],dr=St[rr+cr+1];St[rr+cr]=ur*nr+dr*ir+or,St[rr+cr+1]=ur*sr+dr*ar+lr}}static applyInverseTransform(St,tr){const rr=St[0],nr=St[1],sr=tr[0]*tr[3]-tr[1]*tr[2];St[0]=(rr*tr[3]-nr*tr[2]+tr[2]*tr[5]-tr[4]*tr[3])/sr,St[1]=(-rr*tr[1]+nr*tr[0]+tr[4]*tr[1]-tr[5]*tr[0])/sr}static axialAlignedBoundingBox(St,tr,rr){const nr=tr[0],sr=tr[1],ir=tr[2],ar=tr[3],or=tr[4],lr=tr[5],cr=St[0],ur=St[1],dr=St[2],hr=St[3];let Ar=nr*cr+or,fr=Ar,mr=nr*dr+or,pr=mr,gr=ar*ur+lr,xr=gr,yr=ar*hr+lr,Er=yr;if(sr!==0||ir!==0){const _r=sr*cr,Sr=sr*dr,jr=ir*ur,Pr=ir*hr;Ar+=jr,pr+=jr,mr+=Pr,fr+=Pr,gr+=_r,Er+=_r,yr+=Sr,xr+=Sr}rr[0]=Math.min(rr[0],Ar,mr,fr,pr),rr[1]=Math.min(rr[1],gr,yr,xr,Er),rr[2]=Math.max(rr[2],Ar,mr,fr,pr),rr[3]=Math.max(rr[3],gr,yr,xr,Er)}static inverseTransform(St){const tr=St[0]*St[3]-St[1]*St[2];return[St[3]/tr,-St[1]/tr,-St[2]/tr,St[0]/tr,(St[2]*St[5]-St[4]*St[3])/tr,(St[4]*St[1]-St[5]*St[0])/tr]}static singularValueDecompose2dScale(St,tr){const rr=St[0],nr=St[1],sr=St[2],ir=St[3],ar=rr**2+nr**2,or=rr*sr+nr*ir,lr=sr**2+ir**2,cr=(ar+lr)/2,ur=Math.sqrt(cr**2-(ar*lr-or**2));tr[0]=Math.sqrt(cr+ur||1),tr[1]=Math.sqrt(cr-ur||1)}static normalizeRect(St){const tr=St.slice(0);return St[0]>St[2]&&(tr[0]=St[2],tr[2]=St[0]),St[1]>St[3]&&(tr[1]=St[3],tr[3]=St[1]),tr}static intersect(St,tr){const rr=Math.max(Math.min(St[0],St[2]),Math.min(tr[0],tr[2])),nr=Math.min(Math.max(St[0],St[2]),Math.max(tr[0],tr[2]));if(rr>nr)return null;const sr=Math.max(Math.min(St[1],St[3]),Math.min(tr[1],tr[3])),ir=Math.min(Math.max(St[1],St[3]),Math.max(tr[1],tr[3]));return sr>ir?null:[rr,sr,nr,ir]}static pointBoundingBox(St,tr,rr){rr[0]=Math.min(rr[0],St),rr[1]=Math.min(rr[1],tr),rr[2]=Math.max(rr[2],St),rr[3]=Math.max(rr[3],tr)}static rectBoundingBox(St,tr,rr,nr,sr){sr[0]=Math.min(sr[0],St,rr),sr[1]=Math.min(sr[1],tr,nr),sr[2]=Math.max(sr[2],St,rr),sr[3]=Math.max(sr[3],tr,nr)}static bezierBoundingBox(St,tr,rr,nr,sr,ir,ar,or,lr){lr[0]=Math.min(lr[0],St,ar),lr[1]=Math.min(lr[1],tr,or),lr[2]=Math.max(lr[2],St,ar),lr[3]=Math.max(lr[3],tr,or),an(this,Hx,BC).call(this,St,rr,sr,ar,tr,nr,ir,or,3*(-St+3*(rr-sr)+ar),6*(St-2*rr+sr),3*(rr-St),lr),an(this,Hx,BC).call(this,St,rr,sr,ar,tr,nr,ir,or,3*(-tr+3*(nr-ir)+or),6*(tr-2*nr+ir),3*(nr-tr),lr)}}Hx=new WeakSet,VS=function(St,tr,rr,nr,sr,ir,ar,or,lr,cr){if(lr<=0||lr>=1)return;const ur=1-lr,dr=lr*lr,hr=dr*lr,Ar=ur*(ur*(ur*St+3*lr*tr)+3*dr*rr)+hr*nr,fr=ur*(ur*(ur*sr+3*lr*ir)+3*dr*ar)+hr*or;cr[0]=Math.min(cr[0],Ar),cr[1]=Math.min(cr[1],fr),cr[2]=Math.max(cr[2],Ar),cr[3]=Math.max(cr[3],fr)},BC=function(St,tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr){if(Math.abs(lr)<1e-12){Math.abs(cr)>=1e-12&&an(this,Hx,VS).call(this,St,tr,rr,nr,sr,ir,ar,or,-ur/cr,dr);return}const hr=cr**2-4*ur*lr;if(hr<0)return;const Ar=Math.sqrt(hr),fr=2*lr;an(this,Hx,VS).call(this,St,tr,rr,nr,sr,ir,ar,or,(-cr+Ar)/fr,dr),an(this,Hx,VS).call(this,St,tr,rr,nr,sr,ir,ar,or,(-cr-Ar)/fr,dr)},sn(Util,Hx);function stringToUTF8String(er){return decodeURIComponent(escape(er))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(er){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),er.replaceAll(NormalizeRegex,(St,tr,rr)=>tr?tr.normalize("NFKC"):NormalizationMap.get(rr))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const er=new Uint8Array(32);return crypto.getRandomValues(er),bytesToString(er)}const AnnotationPrefix="pdfjs_internal_id_";function _isValidExplicitDest(er,St,tr){if(!Array.isArray(tr)||tr.length<2)return!1;const[rr,nr,...sr]=tr;if(!er(rr)&&!Number.isInteger(rr)||!St(nr))return!1;const ir=sr.length;let ar=!0;switch(nr.name){case"XYZ":if(ir<2||ir>3)return!1;break;case"Fit":case"FitB":return ir===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(ir>1)return!1;break;case"FitR":if(ir!==4)return!1;ar=!1;break;default:return!1}for(const or of sr)if(!(typeof or=="number"||ar&&or===null))return!1;return!0}function MathClamp(er,St,tr){return Math.min(Math.max(er,St),tr)}function toBase64Util(er){return Uint8Array.prototype.toBase64?er.toBase64():btoa(bytesToString(er))}function fromBase64Util(er){return Uint8Array.fromBase64?Uint8Array.fromBase64(er):stringToBytes(atob(er))}typeof Promise.try!="function"&&(Promise.try=function(er,...St){return new Promise(tr=>{tr(er(...St))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(er){return er.reduce((St,tr)=>St+tr,0)});const SVG_NS="http://www.w3.org/2000/svg",Hv=class Hv{};ps(Hv,"CSS",96),ps(Hv,"PDF",72),ps(Hv,"PDF_TO_CSS_UNITS",Hv.CSS/Hv.PDF);let PixelsPerInch=Hv;async function fetchData(er,St="text"){if(isValidFetchUrl(er,document.baseURI)){const tr=await fetch(er);if(!tr.ok)throw new Error(tr.statusText);switch(St){case"arraybuffer":return tr.arrayBuffer();case"blob":return tr.blob();case"json":return tr.json()}return tr.text()}return new Promise((tr,rr)=>{const nr=new XMLHttpRequest;nr.open("GET",er,!0),nr.responseType=St,nr.onreadystatechange=()=>{if(nr.readyState===XMLHttpRequest.DONE){if(nr.status===200||nr.status===0){switch(St){case"arraybuffer":case"blob":case"json":tr(nr.response);return}tr(nr.responseText);return}rr(new Error(nr.statusText))}},nr.send(null)})}class PageViewport{constructor({viewBox:St,userUnit:tr,scale:rr,rotation:nr,offsetX:sr=0,offsetY:ir=0,dontFlip:ar=!1}){this.viewBox=St,this.userUnit=tr,this.scale=rr,this.rotation=nr,this.offsetX=sr,this.offsetY=ir,rr*=tr;const or=(St[2]+St[0])/2,lr=(St[3]+St[1])/2;let cr,ur,dr,hr;switch(nr%=360,nr<0&&(nr+=360),nr){case 180:cr=-1,ur=0,dr=0,hr=1;break;case 90:cr=0,ur=1,dr=1,hr=0;break;case 270:cr=0,ur=-1,dr=-1,hr=0;break;case 0:cr=1,ur=0,dr=0,hr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ar&&(dr=-dr,hr=-hr);let Ar,fr,mr,pr;cr===0?(Ar=Math.abs(lr-St[1])*rr+sr,fr=Math.abs(or-St[0])*rr+ir,mr=(St[3]-St[1])*rr,pr=(St[2]-St[0])*rr):(Ar=Math.abs(or-St[0])*rr+sr,fr=Math.abs(lr-St[1])*rr+ir,mr=(St[2]-St[0])*rr,pr=(St[3]-St[1])*rr),this.transform=[cr*rr,ur*rr,dr*rr,hr*rr,Ar-cr*rr*or-dr*rr*lr,fr-ur*rr*or-hr*rr*lr],this.width=mr,this.height=pr}get rawDims(){const St=this.viewBox;return shadow(this,"rawDims",{pageWidth:St[2]-St[0],pageHeight:St[3]-St[1],pageX:St[0],pageY:St[1]})}clone({scale:St=this.scale,rotation:tr=this.rotation,offsetX:rr=this.offsetX,offsetY:nr=this.offsetY,dontFlip:sr=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:St,rotation:tr,offsetX:rr,offsetY:nr,dontFlip:sr})}convertToViewportPoint(St,tr){const rr=[St,tr];return Util.applyTransform(rr,this.transform),rr}convertToViewportRectangle(St){const tr=[St[0],St[1]];Util.applyTransform(tr,this.transform);const rr=[St[2],St[3]];return Util.applyTransform(rr,this.transform),[tr[0],tr[1],rr[0],rr[1]]}convertToPdfPoint(St,tr){const rr=[St,tr];return Util.applyInverseTransform(rr,this.transform),rr}}class RenderingCancelledException extends BaseException{constructor(St,tr=0){super(St,"RenderingCancelledException"),this.extraDelay=tr}}function isDataScheme(er){const St=er.length;let tr=0;for(;tr<St&&er[tr].trim()==="";)tr++;return er.substring(tr,tr+5).toLowerCase()==="data:"}function isPdfFile(er){return typeof er=="string"&&/\.pdf$/i.test(er)}function getFilenameFromUrl(er){return[er]=er.split(/[#?]/,1),er.substring(er.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(er,St="document.pdf"){if(typeof er!="string")return St;if(isDataScheme(er))return warn$1('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),St;const tr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,rr=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,nr=tr.exec(er);let sr=rr.exec(nr[1])||rr.exec(nr[2])||rr.exec(nr[3]);if(sr&&(sr=sr[0],sr.includes("%")))try{sr=rr.exec(decodeURIComponent(sr))[0]}catch{}return sr||St}class StatTimer{constructor(){ps(this,"started",Object.create(null));ps(this,"times",[])}time(St){St in this.started&&warn$1(`Timer is already running for ${St}`),this.started[St]=Date.now()}timeEnd(St){St in this.started||warn$1(`Timer has not been started for ${St}`),this.times.push({name:St,start:this.started[St],end:Date.now()}),delete this.started[St]}toString(){const St=[];let tr=0;for(const{name:rr}of this.times)tr=Math.max(rr.length,tr);for(const{name:rr,start:nr,end:sr}of this.times)St.push(`${rr.padEnd(tr)} ${sr-nr}ms
`);return St.join("")}}function isValidFetchUrl(er,St){const tr=St?URL.parse(er,St):URL.parse(er);return(tr==null?void 0:tr.protocol)==="http:"||(tr==null?void 0:tr.protocol)==="https:"}function noContextMenu(er){er.preventDefault()}function stopEvent(er){er.preventDefault(),er.stopPropagation()}function deprecated(er){console.log("Deprecated API usage: "+er)}var Pw;class PDFDateString{static toDateObject(St){if(!St||typeof St!="string")return null;br(this,Pw)||Jr(this,Pw,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const tr=br(this,Pw).exec(St);if(!tr)return null;const rr=parseInt(tr[1],10);let nr=parseInt(tr[2],10);nr=nr>=1&&nr<=12?nr-1:0;let sr=parseInt(tr[3],10);sr=sr>=1&&sr<=31?sr:1;let ir=parseInt(tr[4],10);ir=ir>=0&&ir<=23?ir:0;let ar=parseInt(tr[5],10);ar=ar>=0&&ar<=59?ar:0;let or=parseInt(tr[6],10);or=or>=0&&or<=59?or:0;const lr=tr[7]||"Z";let cr=parseInt(tr[8],10);cr=cr>=0&&cr<=23?cr:0;let ur=parseInt(tr[9],10)||0;return ur=ur>=0&&ur<=59?ur:0,lr==="-"?(ir+=cr,ar+=ur):lr==="+"&&(ir-=cr,ar-=ur),new Date(Date.UTC(rr,nr,sr,ir,ar,or))}}Pw=new WeakMap,sn(PDFDateString,Pw);function getXfaPageViewport(er,{scale:St=1,rotation:tr=0}){const{width:rr,height:nr}=er.attributes.style,sr=[0,0,parseInt(rr),parseInt(nr)];return new PageViewport({viewBox:sr,userUnit:1,scale:St,rotation:tr})}function getRGB(er){if(er.startsWith("#")){const St=parseInt(er.slice(1),16);return[(St&16711680)>>16,(St&65280)>>8,St&255]}return er.startsWith("rgb(")?er.slice(4,-1).split(",").map(St=>parseInt(St)):er.startsWith("rgba(")?er.slice(5,-1).split(",").map(St=>parseInt(St)).slice(0,3):(warn$1(`Not a valid color format: "${er}"`),[0,0,0])}function getColorValues(er){const St=document.createElement("span");St.style.visibility="hidden",St.style.colorScheme="only light",document.body.append(St);for(const tr of er.keys()){St.style.color=tr;const rr=window.getComputedStyle(St).color;er.set(tr,getRGB(rr))}St.remove()}function getCurrentTransform(er){const{a:St,b:tr,c:rr,d:nr,e:sr,f:ir}=er.getTransform();return[St,tr,rr,nr,sr,ir]}function getCurrentTransformInverse(er){const{a:St,b:tr,c:rr,d:nr,e:sr,f:ir}=er.getTransform().invertSelf();return[St,tr,rr,nr,sr,ir]}function setLayerDimensions(er,St,tr=!1,rr=!0){if(St instanceof PageViewport){const{pageWidth:nr,pageHeight:sr}=St.rawDims,{style:ir}=er,ar=util_FeatureTest.isCSSRoundSupported,or=`var(--total-scale-factor) * ${nr}px`,lr=`var(--total-scale-factor) * ${sr}px`,cr=ar?`round(down, ${or}, var(--scale-round-x))`:`calc(${or})`,ur=ar?`round(down, ${lr}, var(--scale-round-y))`:`calc(${lr})`;!tr||St.rotation%180===0?(ir.width=cr,ir.height=ur):(ir.width=ur,ir.height=cr)}rr&&er.setAttribute("data-main-rotation",St.rotation)}class OutputScale{constructor(){const{pixelRatio:St}=OutputScale;this.sx=St,this.sy=St}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(St,tr,rr,nr,sr=-1){let ir=1/0,ar=1/0,or=1/0;rr=OutputScale.capPixels(rr,sr),rr>0&&(ir=Math.sqrt(rr/(St*tr))),nr!==-1&&(ar=nr/St,or=nr/tr);const lr=Math.min(ir,ar,or);return this.sx>lr||this.sy>lr?(this.sx=lr,this.sy=lr,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(St,tr){if(tr>=0){const rr=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+tr/100));return St>0?Math.min(St,rr):rr}return St}}const SupportedImageMimeTypes=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var E0,Wv,yp,w0,Nw,D1,Bw,y2,GT,Iu,KT,zT,dw,qT,QS;const cx=class cx{constructor(St){sn(this,Iu);sn(this,E0,null);sn(this,Wv,null);sn(this,yp);sn(this,w0,null);sn(this,Nw,null);sn(this,D1,null);Jr(this,yp,St),br(cx,Bw)||Jr(cx,Bw,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const St=Jr(this,E0,document.createElement("div"));St.classList.add("editToolbar","hidden"),St.setAttribute("role","toolbar");const tr=br(this,yp)._uiManager._signal;St.addEventListener("contextmenu",noContextMenu,{signal:tr}),St.addEventListener("pointerdown",an(cx,y2,GT),{signal:tr});const rr=Jr(this,w0,document.createElement("div"));rr.className="buttons",St.append(rr);const nr=br(this,yp).toolbarPosition;if(nr){const{style:sr}=St,ir=br(this,yp)._uiManager.direction==="ltr"?1-nr[0]:nr[0];sr.insetInlineEnd=`${100*ir}%`,sr.top=`calc(${100*nr[1]}% + var(--editor-toolbar-vert-offset))`}return an(this,Iu,qT).call(this),St}get div(){return br(this,E0)}hide(){var St;br(this,E0).classList.add("hidden"),(St=br(this,Wv))==null||St.hideDropdown()}show(){var St;br(this,E0).classList.remove("hidden"),(St=br(this,Nw))==null||St.shown()}async addAltText(St){const tr=await St.render();an(this,Iu,dw).call(this,tr),br(this,w0).prepend(tr,br(this,Iu,QS)),Jr(this,Nw,St)}addColorPicker(St){Jr(this,Wv,St);const tr=St.renderButton();an(this,Iu,dw).call(this,tr),br(this,w0).prepend(tr,br(this,Iu,QS))}async addEditSignatureButton(St){const tr=Jr(this,D1,await St.renderEditButton(br(this,yp)));an(this,Iu,dw).call(this,tr),br(this,w0).prepend(tr,br(this,Iu,QS))}updateEditSignatureButton(St){br(this,D1)&&(br(this,D1).title=St)}remove(){var St;br(this,E0).remove(),(St=br(this,Wv))==null||St.destroy(),Jr(this,Wv,null)}};E0=new WeakMap,Wv=new WeakMap,yp=new WeakMap,w0=new WeakMap,Nw=new WeakMap,D1=new WeakMap,Bw=new WeakMap,y2=new WeakSet,GT=function(St){St.stopPropagation()},Iu=new WeakSet,KT=function(St){br(this,yp)._focusEventsAllowed=!1,stopEvent(St)},zT=function(St){br(this,yp)._focusEventsAllowed=!0,stopEvent(St)},dw=function(St){const tr=br(this,yp)._uiManager._signal;St.addEventListener("focusin",an(this,Iu,KT).bind(this),{capture:!0,signal:tr}),St.addEventListener("focusout",an(this,Iu,zT).bind(this),{capture:!0,signal:tr}),St.addEventListener("contextmenu",noContextMenu,{signal:tr})},qT=function(){const{editorType:St,_uiManager:tr}=br(this,yp),rr=document.createElement("button");rr.className="delete",rr.tabIndex=0,rr.setAttribute("data-l10n-id",br(cx,Bw)[St]),an(this,Iu,dw).call(this,rr),rr.addEventListener("click",nr=>{tr.delete()},{signal:tr._signal}),br(this,w0).append(rr)},QS=function(){const St=document.createElement("div");return St.className="divider",St},sn(cx,y2),sn(cx,Bw,null);let EditorToolbar=cx;var Iw,Gv,Kv,sv,YT,XT,ZT;class HighlightToolbar{constructor(St){sn(this,sv);sn(this,Iw,null);sn(this,Gv,null);sn(this,Kv);Jr(this,Kv,St)}show(St,tr,rr){const[nr,sr]=an(this,sv,XT).call(this,tr,rr),{style:ir}=br(this,Gv)||Jr(this,Gv,an(this,sv,YT).call(this));St.append(br(this,Gv)),ir.insetInlineEnd=`${100*nr}%`,ir.top=`calc(${100*sr}% + var(--editor-toolbar-vert-offset))`}hide(){br(this,Gv).remove()}}Iw=new WeakMap,Gv=new WeakMap,Kv=new WeakMap,sv=new WeakSet,YT=function(){const St=Jr(this,Gv,document.createElement("div"));St.className="editToolbar",St.setAttribute("role","toolbar"),St.addEventListener("contextmenu",noContextMenu,{signal:br(this,Kv)._signal});const tr=Jr(this,Iw,document.createElement("div"));return tr.className="buttons",St.append(tr),an(this,sv,ZT).call(this),St},XT=function(St,tr){let rr=0,nr=0;for(const sr of St){const ir=sr.y+sr.height;if(ir<rr)continue;const ar=sr.x+(tr?sr.width:0);if(ir>rr){nr=ar,rr=ir;continue}tr?ar>nr&&(nr=ar):ar<nr&&(nr=ar)}return[tr?1-nr:nr,rr]},ZT=function(){const St=document.createElement("button");St.className="highlightButton",St.tabIndex=0,St.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const tr=document.createElement("span");St.append(tr),tr.className="visuallyHidden",tr.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const rr=br(this,Kv)._signal;St.addEventListener("contextmenu",noContextMenu,{signal:rr}),St.addEventListener("click",()=>{br(this,Kv).highlightSelection("floating_button")},{signal:rr}),br(this,Iw).append(St)};function bindEvents(er,St,tr){for(const rr of tr)St.addEventListener(rr,er[rr].bind(er))}var E2;class IdManager{constructor(){sn(this,E2,0)}get id(){return`${AnnotationEditorPrefix}${_f(this,E2)._++}`}}E2=new WeakMap;var M1,kw,Wu,$1,WS;const SR=class SR{constructor(){sn(this,$1);sn(this,M1,getUuid());sn(this,kw,0);sn(this,Wu,null)}static get _isSVGFittingCanvas(){const St='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',rr=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),nr=new Image;nr.src=St;const sr=nr.decode().then(()=>(rr.drawImage(nr,0,0,1,1,0,0,1,3),new Uint32Array(rr.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",sr)}async getFromFile(St){const{lastModified:tr,name:rr,size:nr,type:sr}=St;return an(this,$1,WS).call(this,`${tr}_${rr}_${nr}_${sr}`,St)}async getFromUrl(St){return an(this,$1,WS).call(this,St,St)}async getFromBlob(St,tr){const rr=await tr;return an(this,$1,WS).call(this,St,rr)}async getFromId(St){br(this,Wu)||Jr(this,Wu,new Map);const tr=br(this,Wu).get(St);if(!tr)return null;if(tr.bitmap)return tr.refCounter+=1,tr;if(tr.file)return this.getFromFile(tr.file);if(tr.blobPromise){const{blobPromise:rr}=tr;return delete tr.blobPromise,this.getFromBlob(tr.id,rr)}return this.getFromUrl(tr.url)}getFromCanvas(St,tr){br(this,Wu)||Jr(this,Wu,new Map);let rr=br(this,Wu).get(St);if(rr!=null&&rr.bitmap)return rr.refCounter+=1,rr;const nr=new OffscreenCanvas(tr.width,tr.height);return nr.getContext("2d").drawImage(tr,0,0),rr={bitmap:nr.transferToImageBitmap(),id:`image_${br(this,M1)}_${_f(this,kw)._++}`,refCounter:1,isSvg:!1},br(this,Wu).set(St,rr),br(this,Wu).set(rr.id,rr),rr}getSvgUrl(St){const tr=br(this,Wu).get(St);return tr!=null&&tr.isSvg?tr.svgUrl:null}deleteId(St){var nr;br(this,Wu)||Jr(this,Wu,new Map);const tr=br(this,Wu).get(St);if(!tr||(tr.refCounter-=1,tr.refCounter!==0))return;const{bitmap:rr}=tr;if(!tr.url&&!tr.file){const sr=new OffscreenCanvas(rr.width,rr.height);sr.getContext("bitmaprenderer").transferFromImageBitmap(rr),tr.blobPromise=sr.convertToBlob()}(nr=rr.close)==null||nr.call(rr),tr.bitmap=null}isValidId(St){return St.startsWith(`image_${br(this,M1)}_`)}};M1=new WeakMap,kw=new WeakMap,Wu=new WeakMap,$1=new WeakSet,WS=async function(St,tr){br(this,Wu)||Jr(this,Wu,new Map);let rr=br(this,Wu).get(St);if(rr===null)return null;if(rr!=null&&rr.bitmap)return rr.refCounter+=1,rr;try{rr||(rr={bitmap:null,id:`image_${br(this,M1)}_${_f(this,kw)._++}`,refCounter:0,isSvg:!1});let nr;if(typeof tr=="string"?(rr.url=tr,nr=await fetchData(tr,"blob")):tr instanceof File?nr=rr.file=tr:tr instanceof Blob&&(nr=tr),nr.type==="image/svg+xml"){const sr=SR._isSVGFittingCanvas,ir=new FileReader,ar=new Image,or=new Promise((lr,cr)=>{ar.onload=()=>{rr.bitmap=ar,rr.isSvg=!0,lr()},ir.onload=async()=>{const ur=rr.svgUrl=ir.result;ar.src=await sr?`${ur}#svgView(preserveAspectRatio(none))`:ur},ar.onerror=ir.onerror=cr});ir.readAsDataURL(nr),await or}else rr.bitmap=await createImageBitmap(nr);rr.refCounter=1}catch(nr){warn$1(nr),rr=null}return br(this,Wu).set(St,rr),rr&&br(this,Wu).set(rr.id,rr),rr};let ImageManager=SR;var _c,b0,Fw,Ul;class CommandManager{constructor(St=128){sn(this,_c,[]);sn(this,b0,!1);sn(this,Fw);sn(this,Ul,-1);Jr(this,Fw,St)}add({cmd:St,undo:tr,post:rr,mustExec:nr,type:sr=NaN,overwriteIfSameType:ir=!1,keepUndo:ar=!1}){if(nr&&St(),br(this,b0))return;const or={cmd:St,undo:tr,post:rr,type:sr};if(br(this,Ul)===-1){br(this,_c).length>0&&(br(this,_c).length=0),Jr(this,Ul,0),br(this,_c).push(or);return}if(ir&&br(this,_c)[br(this,Ul)].type===sr){ar&&(or.undo=br(this,_c)[br(this,Ul)].undo),br(this,_c)[br(this,Ul)]=or;return}const lr=br(this,Ul)+1;lr===br(this,Fw)?br(this,_c).splice(0,1):(Jr(this,Ul,lr),lr<br(this,_c).length&&br(this,_c).splice(lr)),br(this,_c).push(or)}undo(){if(br(this,Ul)===-1)return;Jr(this,b0,!0);const{undo:St,post:tr}=br(this,_c)[br(this,Ul)];St(),tr==null||tr(),Jr(this,b0,!1),Jr(this,Ul,br(this,Ul)-1)}redo(){if(br(this,Ul)<br(this,_c).length-1){Jr(this,Ul,br(this,Ul)+1),Jr(this,b0,!0);const{cmd:St,post:tr}=br(this,_c)[br(this,Ul)];St(),tr==null||tr(),Jr(this,b0,!1)}}hasSomethingToUndo(){return br(this,Ul)!==-1}hasSomethingToRedo(){return br(this,Ul)<br(this,_c).length-1}cleanType(St){if(br(this,Ul)!==-1){for(let tr=br(this,Ul);tr>=0;tr--)if(br(this,_c)[tr].type!==St){br(this,_c).splice(tr+1,br(this,Ul)-tr),Jr(this,Ul,tr);return}br(this,_c).length=0,Jr(this,Ul,-1)}}destroy(){Jr(this,_c,null)}}_c=new WeakMap,b0=new WeakMap,Fw=new WeakMap,Ul=new WeakMap;var w2,eP;class KeyboardManager{constructor(St){sn(this,w2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:tr}=util_FeatureTest.platform;for(const[rr,nr,sr={}]of St)for(const ir of rr){const ar=ir.startsWith("mac+");tr&&ar?(this.callbacks.set(ir.slice(4),{callback:nr,options:sr}),this.allKeys.add(ir.split("+").at(-1))):!tr&&!ar&&(this.callbacks.set(ir,{callback:nr,options:sr}),this.allKeys.add(ir.split("+").at(-1)))}}exec(St,tr){if(!this.allKeys.has(tr.key))return;const rr=this.callbacks.get(an(this,w2,eP).call(this,tr));if(!rr)return;const{callback:nr,options:{bubbles:sr=!1,args:ir=[],checker:ar=null}}=rr;ar&&!ar(St,tr)||(nr.bind(St,...ir,tr)(),sr||stopEvent(tr))}}w2=new WeakSet,eP=function(St){St.altKey&&this.buffer.push("alt"),St.ctrlKey&&this.buffer.push("ctrl"),St.metaKey&&this.buffer.push("meta"),St.shiftKey&&this.buffer.push("shift"),this.buffer.push(St.key);const tr=this.buffer.join("+");return this.buffer.length=0,tr};const b2=class b2{get _colors(){const St=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(St),shadow(this,"_colors",St)}convert(St){const tr=getRGB(St);if(!window.matchMedia("(forced-colors: active)").matches)return tr;for(const[rr,nr]of this._colors)if(nr.every((sr,ir)=>sr===tr[ir]))return b2._colorsMapping.get(rr);return tr}getHexCode(St){const tr=this._colors.get(St);return tr?Util.makeHexColor(...tr):St}};ps(b2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=b2;var U1,HA,uu,ju,H1,dx,V1,Ep,_0,S0,Q1,zv,Em,Gp,qv,Lw,Ow,W1,Dw,wm,C0,G1,j0,bm,_2,R0,Mw,T0,Yv,Xv,P0,$w,gu,Ho,hx,N0,Jv,Uw,Hw,B0,_m,fx,Vw,wp,Cs,GS,IC,tP,rP,KS,nP,sP,iP,kC,aP,FC,LC,oP,eA,ox,lP,cP,OC,uP,hw,DC;const L1=class L1{constructor(St,tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar){sn(this,Cs);sn(this,U1,new AbortController);sn(this,HA,null);sn(this,uu,new Map);sn(this,ju,new Map);sn(this,H1,null);sn(this,dx,null);sn(this,V1,null);sn(this,Ep,new CommandManager);sn(this,_0,null);sn(this,S0,null);sn(this,Q1,0);sn(this,zv,new Set);sn(this,Em,null);sn(this,Gp,null);sn(this,qv,new Set);ps(this,"_editorUndoBar",null);sn(this,Lw,!1);sn(this,Ow,!1);sn(this,W1,!1);sn(this,Dw,null);sn(this,wm,null);sn(this,C0,null);sn(this,G1,null);sn(this,j0,!1);sn(this,bm,null);sn(this,_2,new IdManager);sn(this,R0,!1);sn(this,Mw,!1);sn(this,T0,null);sn(this,Yv,null);sn(this,Xv,null);sn(this,P0,null);sn(this,$w,null);sn(this,gu,AnnotationEditorType.NONE);sn(this,Ho,new Set);sn(this,hx,null);sn(this,N0,null);sn(this,Jv,null);sn(this,Uw,null);sn(this,Hw,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});sn(this,B0,[0,0]);sn(this,_m,null);sn(this,fx,null);sn(this,Vw,null);sn(this,wp,null);const fr=this._signal=br(this,U1).signal;Jr(this,fx,St),Jr(this,Vw,tr),Jr(this,H1,rr),Jr(this,N0,nr),this._eventBus=sr,sr._on("editingaction",this.onEditingAction.bind(this),{signal:fr}),sr._on("pagechanging",this.onPageChanging.bind(this),{signal:fr}),sr._on("scalechanging",this.onScaleChanging.bind(this),{signal:fr}),sr._on("rotationchanging",this.onRotationChanging.bind(this),{signal:fr}),sr._on("setpreference",this.onSetPreference.bind(this),{signal:fr}),sr._on("switchannotationeditorparams",mr=>this.updateParams(mr.type,mr.value),{signal:fr}),an(this,Cs,nP).call(this),an(this,Cs,oP).call(this),an(this,Cs,kC).call(this),Jr(this,dx,ir.annotationStorage),Jr(this,Dw,ir.filterFactory),Jr(this,Jv,ar),Jr(this,G1,or||null),Jr(this,Lw,lr),Jr(this,Ow,cr),Jr(this,W1,ur),Jr(this,$w,dr||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=hr||null,this._supportsPinchToZoom=Ar!==!1}static get _keyboardManager(){const St=L1.prototype,tr=ir=>br(ir,fx).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&ir.hasSomethingToControl(),rr=(ir,{target:ar})=>{if(ar instanceof HTMLInputElement){const{type:or}=ar;return or!=="text"&&or!=="number"}return!0},nr=this.TRANSLATE_SMALL,sr=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],St.selectAll,{checker:rr}],[["ctrl+z","mac+meta+z"],St.undo,{checker:rr}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],St.redo,{checker:rr}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],St.delete,{checker:rr}],[["Enter","mac+Enter"],St.addNewEditorFromKeyboard,{checker:(ir,{target:ar})=>!(ar instanceof HTMLButtonElement)&&br(ir,fx).contains(ar)&&!ir.isEnterHandled}],[[" ","mac+ "],St.addNewEditorFromKeyboard,{checker:(ir,{target:ar})=>!(ar instanceof HTMLButtonElement)&&br(ir,fx).contains(document.activeElement)}],[["Escape","mac+Escape"],St.unselectAll],[["ArrowLeft","mac+ArrowLeft"],St.translateSelectedEditors,{args:[-nr,0],checker:tr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St.translateSelectedEditors,{args:[-sr,0],checker:tr}],[["ArrowRight","mac+ArrowRight"],St.translateSelectedEditors,{args:[nr,0],checker:tr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St.translateSelectedEditors,{args:[sr,0],checker:tr}],[["ArrowUp","mac+ArrowUp"],St.translateSelectedEditors,{args:[0,-nr],checker:tr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St.translateSelectedEditors,{args:[0,-sr],checker:tr}],[["ArrowDown","mac+ArrowDown"],St.translateSelectedEditors,{args:[0,nr],checker:tr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St.translateSelectedEditors,{args:[0,sr],checker:tr}]]))}destroy(){var St,tr,rr,nr,sr,ir,ar,or;(St=br(this,wp))==null||St.resolve(),Jr(this,wp,null),(tr=br(this,U1))==null||tr.abort(),Jr(this,U1,null),this._signal=null;for(const lr of br(this,ju).values())lr.destroy();br(this,ju).clear(),br(this,uu).clear(),br(this,qv).clear(),(rr=br(this,P0))==null||rr.clear(),Jr(this,HA,null),br(this,Ho).clear(),br(this,Ep).destroy(),(nr=br(this,H1))==null||nr.destroy(),(sr=br(this,N0))==null||sr.destroy(),(ir=br(this,bm))==null||ir.hide(),Jr(this,bm,null),(ar=br(this,Xv))==null||ar.destroy(),Jr(this,Xv,null),br(this,wm)&&(clearTimeout(br(this,wm)),Jr(this,wm,null)),br(this,_m)&&(clearTimeout(br(this,_m)),Jr(this,_m,null)),(or=this._editorUndoBar)==null||or.destroy()}combinedSignal(St){return AbortSignal.any([this._signal,St.signal])}get mlManager(){return br(this,$w)}get useNewAltTextFlow(){return br(this,Ow)}get useNewAltTextWhenAddingImage(){return br(this,W1)}get hcmFilter(){return shadow(this,"hcmFilter",br(this,Jv)?br(this,Dw).addHCMFilter(br(this,Jv).foreground,br(this,Jv).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(br(this,fx)).direction)}get highlightColors(){return shadow(this,"highlightColors",br(this,G1)?new Map(br(this,G1).split(",").map(St=>St.split("=").map(tr=>tr.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,St=>St.reverse())):null)}setCurrentDrawingSession(St){St?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Jr(this,S0,St)}setMainHighlightColorPicker(St){Jr(this,Xv,St)}editAltText(St,tr=!1){var rr;(rr=br(this,H1))==null||rr.editAltText(this,St,tr)}getSignature(St){var tr;(tr=br(this,N0))==null||tr.getSignature({uiManager:this,editor:St})}get signatureManager(){return br(this,N0)}switchToMode(St,tr){this._eventBus.on("annotationeditormodechanged",tr,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:St})}setPreference(St,tr){this._eventBus.dispatch("setpreference",{source:this,name:St,value:tr})}onSetPreference({name:St,value:tr}){switch(St){case"enableNewAltTextWhenAddingImage":Jr(this,W1,tr);break}}onPageChanging({pageNumber:St}){Jr(this,Q1,St-1)}focusMainContainer(){br(this,fx).focus()}findParent(St,tr){for(const rr of br(this,ju).values()){const{x:nr,y:sr,width:ir,height:ar}=rr.div.getBoundingClientRect();if(St>=nr&&St<=nr+ir&&tr>=sr&&tr<=sr+ar)return rr}return null}disableUserSelect(St=!1){br(this,Vw).classList.toggle("noUserSelect",St)}addShouldRescale(St){br(this,qv).add(St)}removeShouldRescale(St){br(this,qv).delete(St)}onScaleChanging({scale:St}){var tr;this.commitOrRemove(),this.viewParameters.realScale=St*PixelsPerInch.PDF_TO_CSS_UNITS;for(const rr of br(this,qv))rr.onScaleChanging();(tr=br(this,S0))==null||tr.onScaleChanging()}onRotationChanging({pagesRotation:St}){this.commitOrRemove(),this.viewParameters.rotation=St}highlightSelection(St=""){const tr=document.getSelection();if(!tr||tr.isCollapsed)return;const{anchorNode:rr,anchorOffset:nr,focusNode:sr,focusOffset:ir}=tr,ar=tr.toString(),lr=an(this,Cs,GS).call(this,tr).closest(".textLayer"),cr=this.getSelectionBoxes(lr);if(!cr)return;tr.empty();const ur=an(this,Cs,IC).call(this,lr),dr=br(this,gu)===AnnotationEditorType.NONE,hr=()=>{ur==null||ur.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:St,boxes:cr,anchorNode:rr,anchorOffset:nr,focusNode:sr,focusOffset:ir,text:ar}),dr&&this.showAllEditors("highlight",!0,!0)};if(dr){this.switchToMode(AnnotationEditorType.HIGHLIGHT,hr);return}hr()}addToAnnotationStorage(St){!St.isEmpty()&&br(this,dx)&&!br(this,dx).has(St.id)&&br(this,dx).setValue(St.id,St)}blur(){if(this.isShiftKeyDown=!1,br(this,j0)&&(Jr(this,j0,!1),an(this,Cs,KS).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:St}=document;for(const tr of br(this,Ho))if(tr.div.contains(St)){Jr(this,Yv,[tr,St]),tr._focusEventsAllowed=!1;break}}focus(){if(!br(this,Yv))return;const[St,tr]=br(this,Yv);Jr(this,Yv,null),tr.addEventListener("focusin",()=>{St._focusEventsAllowed=!0},{once:!0,signal:this._signal}),tr.focus()}addEditListeners(){an(this,Cs,kC).call(this),an(this,Cs,FC).call(this)}removeEditListeners(){an(this,Cs,aP).call(this),an(this,Cs,LC).call(this)}dragOver(St){for(const{type:tr}of St.dataTransfer.items)for(const rr of br(this,Gp))if(rr.isHandlingMimeForPasting(tr)){St.dataTransfer.dropEffect="copy",St.preventDefault();return}}drop(St){for(const tr of St.dataTransfer.items)for(const rr of br(this,Gp))if(rr.isHandlingMimeForPasting(tr.type)){rr.paste(tr,this.currentLayer),St.preventDefault();return}}copy(St){var rr;if(St.preventDefault(),(rr=br(this,HA))==null||rr.commitOrRemove(),!this.hasSelection)return;const tr=[];for(const nr of br(this,Ho)){const sr=nr.serialize(!0);sr&&tr.push(sr)}tr.length!==0&&St.clipboardData.setData("application/pdfjs",JSON.stringify(tr))}cut(St){this.copy(St),this.delete()}async paste(St){St.preventDefault();const{clipboardData:tr}=St;for(const sr of tr.items)for(const ir of br(this,Gp))if(ir.isHandlingMimeForPasting(sr.type)){ir.paste(sr,this.currentLayer);return}let rr=tr.getData("application/pdfjs");if(!rr)return;try{rr=JSON.parse(rr)}catch(sr){warn$1(`paste: "${sr.message}".`);return}if(!Array.isArray(rr))return;this.unselectAll();const nr=this.currentLayer;try{const sr=[];for(const or of rr){const lr=await nr.deserialize(or);if(!lr)return;sr.push(lr)}const ir=()=>{for(const or of sr)an(this,Cs,OC).call(this,or);an(this,Cs,DC).call(this,sr)},ar=()=>{for(const or of sr)or.remove()};this.addCommands({cmd:ir,undo:ar,mustExec:!0})}catch(sr){warn$1(`paste: "${sr.message}".`)}}keydown(St){!this.isShiftKeyDown&&St.key==="Shift"&&(this.isShiftKeyDown=!0),br(this,gu)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&L1._keyboardManager.exec(this,St)}keyup(St){this.isShiftKeyDown&&St.key==="Shift"&&(this.isShiftKeyDown=!1,br(this,j0)&&(Jr(this,j0,!1),an(this,Cs,KS).call(this,"main_toolbar")))}onEditingAction({name:St}){switch(St){case"undo":case"redo":case"delete":case"selectAll":this[St]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(St){St?(an(this,Cs,sP).call(this),an(this,Cs,FC).call(this),an(this,Cs,eA).call(this,{isEditing:br(this,gu)!==AnnotationEditorType.NONE,isEmpty:an(this,Cs,hw).call(this),hasSomethingToUndo:br(this,Ep).hasSomethingToUndo(),hasSomethingToRedo:br(this,Ep).hasSomethingToRedo(),hasSelectedEditor:!1})):(an(this,Cs,iP).call(this),an(this,Cs,LC).call(this),an(this,Cs,eA).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(St){if(!br(this,Gp)){Jr(this,Gp,St);for(const tr of br(this,Gp))an(this,Cs,ox).call(this,tr.defaultPropertiesToUpdate)}}getId(){return br(this,_2).id}get currentLayer(){return br(this,ju).get(br(this,Q1))}getLayer(St){return br(this,ju).get(St)}get currentPageIndex(){return br(this,Q1)}addLayer(St){br(this,ju).set(St.pageIndex,St),br(this,R0)?St.enable():St.disable()}removeLayer(St){br(this,ju).delete(St.pageIndex)}async updateMode(St,tr=null,rr=!1){var nr,sr,ir;if(br(this,gu)!==St&&!(br(this,wp)&&(await br(this,wp).promise,!br(this,wp)))){if(Jr(this,wp,Promise.withResolvers()),(nr=br(this,S0))==null||nr.commitOrRemove(),Jr(this,gu,St),St===AnnotationEditorType.NONE){this.setEditingState(!1),an(this,Cs,cP).call(this),(sr=this._editorUndoBar)==null||sr.hide(),br(this,wp).resolve();return}St===AnnotationEditorType.SIGNATURE&&await((ir=br(this,N0))==null?void 0:ir.loadSignatures()),this.setEditingState(!0),await an(this,Cs,lP).call(this),this.unselectAll();for(const ar of br(this,ju).values())ar.updateMode(St);if(!tr){rr&&this.addNewEditorFromKeyboard(),br(this,wp).resolve();return}for(const ar of br(this,uu).values())ar.annotationElementId===tr||ar.id===tr?(this.setSelected(ar),ar.enterInEditMode()):ar.unselect();br(this,wp).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(St){St.mode!==br(this,gu)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...St})}updateParams(St,tr){var rr;if(br(this,Gp)){switch(St){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor(tr);return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(rr=br(this,Xv))==null||rr.updateColor(tr);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(br(this,Uw)||Jr(this,Uw,new Map)).set(St,tr),this.showAllEditors("highlight",tr);break}for(const nr of br(this,Ho))nr.updateParams(St,tr);for(const nr of br(this,Gp))nr.updateDefaultParams(St,tr)}}showAllEditors(St,tr,rr=!1){var sr;for(const ir of br(this,uu).values())ir.editorType===St&&ir.show(tr);(((sr=br(this,Uw))==null?void 0:sr.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==tr&&an(this,Cs,ox).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,tr]])}enableWaiting(St=!1){if(br(this,Mw)!==St){Jr(this,Mw,St);for(const tr of br(this,ju).values())St?tr.disableClick():tr.enableClick(),tr.div.classList.toggle("waiting",St)}}getEditors(St){const tr=[];for(const rr of br(this,uu).values())rr.pageIndex===St&&tr.push(rr);return tr}getEditor(St){return br(this,uu).get(St)}addEditor(St){br(this,uu).set(St.id,St)}removeEditor(St){var tr,rr;St.div.contains(document.activeElement)&&(br(this,wm)&&clearTimeout(br(this,wm)),Jr(this,wm,setTimeout(()=>{this.focusMainContainer(),Jr(this,wm,null)},0))),br(this,uu).delete(St.id),St.annotationElementId&&((tr=br(this,P0))==null||tr.delete(St.annotationElementId)),this.unselect(St),(!St.annotationElementId||!br(this,zv).has(St.annotationElementId))&&((rr=br(this,dx))==null||rr.remove(St.id))}addDeletedAnnotationElement(St){br(this,zv).add(St.annotationElementId),this.addChangedExistingAnnotation(St),St.deleted=!0}isDeletedAnnotationElement(St){return br(this,zv).has(St)}removeDeletedAnnotationElement(St){br(this,zv).delete(St.annotationElementId),this.removeChangedExistingAnnotation(St),St.deleted=!1}setActiveEditor(St){br(this,HA)!==St&&(Jr(this,HA,St),St&&an(this,Cs,ox).call(this,St.propertiesToUpdate))}updateUI(St){br(this,Cs,uP)===St&&an(this,Cs,ox).call(this,St.propertiesToUpdate)}updateUIForDefaultProperties(St){an(this,Cs,ox).call(this,St.defaultPropertiesToUpdate)}toggleSelected(St){if(br(this,Ho).has(St)){br(this,Ho).delete(St),St.unselect(),an(this,Cs,eA).call(this,{hasSelectedEditor:this.hasSelection});return}br(this,Ho).add(St),St.select(),an(this,Cs,ox).call(this,St.propertiesToUpdate),an(this,Cs,eA).call(this,{hasSelectedEditor:!0})}setSelected(St){var tr;(tr=br(this,S0))==null||tr.commitOrRemove();for(const rr of br(this,Ho))rr!==St&&rr.unselect();br(this,Ho).clear(),br(this,Ho).add(St),St.select(),an(this,Cs,ox).call(this,St.propertiesToUpdate),an(this,Cs,eA).call(this,{hasSelectedEditor:!0})}isSelected(St){return br(this,Ho).has(St)}get firstSelectedEditor(){return br(this,Ho).values().next().value}unselect(St){St.unselect(),br(this,Ho).delete(St),an(this,Cs,eA).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return br(this,Ho).size!==0}get isEnterHandled(){return br(this,Ho).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var St;br(this,Ep).undo(),an(this,Cs,eA).call(this,{hasSomethingToUndo:br(this,Ep).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:an(this,Cs,hw).call(this)}),(St=this._editorUndoBar)==null||St.hide()}redo(){br(this,Ep).redo(),an(this,Cs,eA).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:br(this,Ep).hasSomethingToRedo(),isEmpty:an(this,Cs,hw).call(this)})}addCommands(St){br(this,Ep).add(St),an(this,Cs,eA).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:an(this,Cs,hw).call(this)})}cleanUndoStack(St){br(this,Ep).cleanType(St)}delete(){var sr;this.commitOrRemove();const St=(sr=this.currentLayer)==null?void 0:sr.endDrawingSession(!0);if(!this.hasSelection&&!St)return;const tr=St?[St]:[...br(this,Ho)],rr=()=>{var ir;(ir=this._editorUndoBar)==null||ir.show(nr,tr.length===1?tr[0].editorType:tr.length);for(const ar of tr)ar.remove()},nr=()=>{for(const ir of tr)an(this,Cs,OC).call(this,ir)};this.addCommands({cmd:rr,undo:nr,mustExec:!0})}commitOrRemove(){var St;(St=br(this,HA))==null||St.commitOrRemove()}hasSomethingToControl(){return br(this,HA)||this.hasSelection}selectAll(){for(const St of br(this,Ho))St.commit();an(this,Cs,DC).call(this,br(this,uu).values())}unselectAll(){var St;if(!(br(this,HA)&&(br(this,HA).commitOrRemove(),br(this,gu)!==AnnotationEditorType.NONE))&&!((St=br(this,S0))!=null&&St.commitOrRemove())&&this.hasSelection){for(const tr of br(this,Ho))tr.unselect();br(this,Ho).clear(),an(this,Cs,eA).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(St,tr,rr=!1){if(rr||this.commitOrRemove(),!this.hasSelection)return;br(this,B0)[0]+=St,br(this,B0)[1]+=tr;const[nr,sr]=br(this,B0),ir=[...br(this,Ho)],ar=1e3;br(this,_m)&&clearTimeout(br(this,_m)),Jr(this,_m,setTimeout(()=>{Jr(this,_m,null),br(this,B0)[0]=br(this,B0)[1]=0,this.addCommands({cmd:()=>{for(const or of ir)br(this,uu).has(or.id)&&(or.translateInPage(nr,sr),or.translationDone())},undo:()=>{for(const or of ir)br(this,uu).has(or.id)&&(or.translateInPage(-nr,-sr),or.translationDone())},mustExec:!1})},ar));for(const or of ir)or.translateInPage(St,tr),or.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Jr(this,Em,new Map);for(const St of br(this,Ho))br(this,Em).set(St,{savedX:St.x,savedY:St.y,savedPageIndex:St.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!br(this,Em))return!1;this.disableUserSelect(!1);const St=br(this,Em);Jr(this,Em,null);let tr=!1;for(const[{x:nr,y:sr,pageIndex:ir},ar]of St)ar.newX=nr,ar.newY=sr,ar.newPageIndex=ir,tr||(tr=nr!==ar.savedX||sr!==ar.savedY||ir!==ar.savedPageIndex);if(!tr)return!1;const rr=(nr,sr,ir,ar)=>{if(br(this,uu).has(nr.id)){const or=br(this,ju).get(ar);or?nr._setParentAndPosition(or,sr,ir):(nr.pageIndex=ar,nr.x=sr,nr.y=ir)}};return this.addCommands({cmd:()=>{for(const[nr,{newX:sr,newY:ir,newPageIndex:ar}]of St)rr(nr,sr,ir,ar)},undo:()=>{for(const[nr,{savedX:sr,savedY:ir,savedPageIndex:ar}]of St)rr(nr,sr,ir,ar)},mustExec:!0}),!0}dragSelectedEditors(St,tr){if(br(this,Em))for(const rr of br(this,Em).keys())rr.drag(St,tr)}rebuild(St){if(St.parent===null){const tr=this.getLayer(St.pageIndex);tr?(tr.changeParent(St),tr.addOrRebuild(St)):(this.addEditor(St),this.addToAnnotationStorage(St),St.rebuild())}else St.parent.addOrRebuild(St)}get isEditorHandlingKeyboard(){var St;return((St=this.getActive())==null?void 0:St.shouldGetKeyboardEvents())||br(this,Ho).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(St){return br(this,HA)===St}getActive(){return br(this,HA)}getMode(){return br(this,gu)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(St){if(!St)return null;const tr=document.getSelection();for(let lr=0,cr=tr.rangeCount;lr<cr;lr++)if(!St.contains(tr.getRangeAt(lr).commonAncestorContainer))return null;const{x:rr,y:nr,width:sr,height:ir}=St.getBoundingClientRect();let ar;switch(St.getAttribute("data-main-rotation")){case"90":ar=(lr,cr,ur,dr)=>({x:(cr-nr)/ir,y:1-(lr+ur-rr)/sr,width:dr/ir,height:ur/sr});break;case"180":ar=(lr,cr,ur,dr)=>({x:1-(lr+ur-rr)/sr,y:1-(cr+dr-nr)/ir,width:ur/sr,height:dr/ir});break;case"270":ar=(lr,cr,ur,dr)=>({x:1-(cr+dr-nr)/ir,y:(lr-rr)/sr,width:dr/ir,height:ur/sr});break;default:ar=(lr,cr,ur,dr)=>({x:(lr-rr)/sr,y:(cr-nr)/ir,width:ur/sr,height:dr/ir});break}const or=[];for(let lr=0,cr=tr.rangeCount;lr<cr;lr++){const ur=tr.getRangeAt(lr);if(!ur.collapsed)for(const{x:dr,y:hr,width:Ar,height:fr}of ur.getClientRects())Ar===0||fr===0||or.push(ar(dr,hr,Ar,fr))}return or.length===0?null:or}addChangedExistingAnnotation({annotationElementId:St,id:tr}){(br(this,V1)||Jr(this,V1,new Map)).set(St,tr)}removeChangedExistingAnnotation({annotationElementId:St}){var tr;(tr=br(this,V1))==null||tr.delete(St)}renderAnnotationElement(St){var nr;const tr=(nr=br(this,V1))==null?void 0:nr.get(St.data.id);if(!tr)return;const rr=br(this,dx).getRawValue(tr);rr&&(br(this,gu)===AnnotationEditorType.NONE&&!rr.hasBeenModified||rr.renderAnnotationElement(St))}setMissingCanvas(St,tr,rr){var sr;const nr=(sr=br(this,P0))==null?void 0:sr.get(St);nr&&(nr.setCanvas(tr,rr),br(this,P0).delete(St))}addMissingCanvas(St,tr){(br(this,P0)||Jr(this,P0,new Map)).set(St,tr)}};U1=new WeakMap,HA=new WeakMap,uu=new WeakMap,ju=new WeakMap,H1=new WeakMap,dx=new WeakMap,V1=new WeakMap,Ep=new WeakMap,_0=new WeakMap,S0=new WeakMap,Q1=new WeakMap,zv=new WeakMap,Em=new WeakMap,Gp=new WeakMap,qv=new WeakMap,Lw=new WeakMap,Ow=new WeakMap,W1=new WeakMap,Dw=new WeakMap,wm=new WeakMap,C0=new WeakMap,G1=new WeakMap,j0=new WeakMap,bm=new WeakMap,_2=new WeakMap,R0=new WeakMap,Mw=new WeakMap,T0=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,P0=new WeakMap,$w=new WeakMap,gu=new WeakMap,Ho=new WeakMap,hx=new WeakMap,N0=new WeakMap,Jv=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,B0=new WeakMap,_m=new WeakMap,fx=new WeakMap,Vw=new WeakMap,wp=new WeakMap,Cs=new WeakSet,GS=function({anchorNode:St}){return St.nodeType===Node.TEXT_NODE?St.parentElement:St},IC=function(St){const{currentLayer:tr}=this;if(tr.hasTextLayer(St))return tr;for(const rr of br(this,ju).values())if(rr.hasTextLayer(St))return rr;return null},tP=function(){const St=document.getSelection();if(!St||St.isCollapsed)return;const rr=an(this,Cs,GS).call(this,St).closest(".textLayer"),nr=this.getSelectionBoxes(rr);nr&&(br(this,bm)||Jr(this,bm,new HighlightToolbar(this)),br(this,bm).show(rr,nr,this.direction==="ltr"))},rP=function(){var sr,ir,ar;const St=document.getSelection();if(!St||St.isCollapsed){br(this,hx)&&((sr=br(this,bm))==null||sr.hide(),Jr(this,hx,null),an(this,Cs,eA).call(this,{hasSelectedText:!1}));return}const{anchorNode:tr}=St;if(tr===br(this,hx))return;const nr=an(this,Cs,GS).call(this,St).closest(".textLayer");if(!nr){br(this,hx)&&((ir=br(this,bm))==null||ir.hide(),Jr(this,hx,null),an(this,Cs,eA).call(this,{hasSelectedText:!1}));return}if((ar=br(this,bm))==null||ar.hide(),Jr(this,hx,tr),an(this,Cs,eA).call(this,{hasSelectedText:!0}),!(br(this,gu)!==AnnotationEditorType.HIGHLIGHT&&br(this,gu)!==AnnotationEditorType.NONE)&&(br(this,gu)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Jr(this,j0,this.isShiftKeyDown),!this.isShiftKeyDown)){const or=br(this,gu)===AnnotationEditorType.HIGHLIGHT?an(this,Cs,IC).call(this,nr):null;or==null||or.toggleDrawing();const lr=new AbortController,cr=this.combinedSignal(lr),ur=dr=>{dr.type==="pointerup"&&dr.button!==0||(lr.abort(),or==null||or.toggleDrawing(!0),dr.type==="pointerup"&&an(this,Cs,KS).call(this,"main_toolbar"))};window.addEventListener("pointerup",ur,{signal:cr}),window.addEventListener("blur",ur,{signal:cr})}},KS=function(St=""){br(this,gu)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(St):br(this,Lw)&&an(this,Cs,tP).call(this)},nP=function(){document.addEventListener("selectionchange",an(this,Cs,rP).bind(this),{signal:this._signal})},sP=function(){if(br(this,C0))return;Jr(this,C0,new AbortController);const St=this.combinedSignal(br(this,C0));window.addEventListener("focus",this.focus.bind(this),{signal:St}),window.addEventListener("blur",this.blur.bind(this),{signal:St})},iP=function(){var St;(St=br(this,C0))==null||St.abort(),Jr(this,C0,null)},kC=function(){if(br(this,T0))return;Jr(this,T0,new AbortController);const St=this.combinedSignal(br(this,T0));window.addEventListener("keydown",this.keydown.bind(this),{signal:St}),window.addEventListener("keyup",this.keyup.bind(this),{signal:St})},aP=function(){var St;(St=br(this,T0))==null||St.abort(),Jr(this,T0,null)},FC=function(){if(br(this,_0))return;Jr(this,_0,new AbortController);const St=this.combinedSignal(br(this,_0));document.addEventListener("copy",this.copy.bind(this),{signal:St}),document.addEventListener("cut",this.cut.bind(this),{signal:St}),document.addEventListener("paste",this.paste.bind(this),{signal:St})},LC=function(){var St;(St=br(this,_0))==null||St.abort(),Jr(this,_0,null)},oP=function(){const St=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:St}),document.addEventListener("drop",this.drop.bind(this),{signal:St})},eA=function(St){Object.entries(St).some(([rr,nr])=>br(this,Hw)[rr]!==nr)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(br(this,Hw),St)}),br(this,gu)===AnnotationEditorType.HIGHLIGHT&&St.hasSelectedEditor===!1&&an(this,Cs,ox).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},ox=function(St){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:St})},lP=async function(){if(!br(this,R0)){Jr(this,R0,!0);const St=[];for(const tr of br(this,ju).values())St.push(tr.enable());await Promise.all(St);for(const tr of br(this,uu).values())tr.enable()}},cP=function(){if(this.unselectAll(),br(this,R0)){Jr(this,R0,!1);for(const St of br(this,ju).values())St.disable();for(const St of br(this,uu).values())St.disable()}},OC=function(St){const tr=br(this,ju).get(St.pageIndex);tr?tr.addOrRebuild(St):(this.addEditor(St),this.addToAnnotationStorage(St))},uP=function(){let St=null;for(St of br(this,Ho));return St},hw=function(){if(br(this,uu).size===0)return!0;if(br(this,uu).size===1)for(const St of br(this,uu).values())return St.isEmpty();return!1},DC=function(St){for(const tr of br(this,Ho))tr.unselect();br(this,Ho).clear();for(const tr of St)tr.isEmpty()||(br(this,Ho).add(tr),tr.select());an(this,Cs,eA).call(this,{hasSelectedEditor:this.hasSelection})},ps(L1,"TRANSLATE_SMALL",1),ps(L1,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=L1;var xu,Sm,Kp,K1,Cm,VA,z1,jm,_A,Ax,Zv,Rm,I0,im,fw,zS;const tA=class tA{constructor(St){sn(this,im);sn(this,xu,null);sn(this,Sm,!1);sn(this,Kp,null);sn(this,K1,null);sn(this,Cm,null);sn(this,VA,null);sn(this,z1,!1);sn(this,jm,null);sn(this,_A,null);sn(this,Ax,null);sn(this,Zv,null);sn(this,Rm,!1);Jr(this,_A,St),Jr(this,Rm,St._uiManager.useNewAltTextFlow),br(tA,I0)||Jr(tA,I0,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(St){tA._l10n??(tA._l10n=St)}async render(){const St=Jr(this,Kp,document.createElement("button"));St.className="altText",St.tabIndex="0";const tr=Jr(this,K1,document.createElement("span"));St.append(tr),br(this,Rm)?(St.classList.add("new"),St.setAttribute("data-l10n-id",br(tA,I0).missing),tr.setAttribute("data-l10n-id",br(tA,I0)["missing-label"])):(St.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),tr.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const rr=br(this,_A)._uiManager._signal;St.addEventListener("contextmenu",noContextMenu,{signal:rr}),St.addEventListener("pointerdown",sr=>sr.stopPropagation(),{signal:rr});const nr=sr=>{sr.preventDefault(),br(this,_A)._uiManager.editAltText(br(this,_A)),br(this,Rm)&&br(this,_A)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:br(this,im,fw)}})};return St.addEventListener("click",nr,{capture:!0,signal:rr}),St.addEventListener("keydown",sr=>{sr.target===St&&sr.key==="Enter"&&(Jr(this,z1,!0),nr(sr))},{signal:rr}),await an(this,im,zS).call(this),St}finish(){br(this,Kp)&&(br(this,Kp).focus({focusVisible:br(this,z1)}),Jr(this,z1,!1))}isEmpty(){return br(this,Rm)?br(this,xu)===null:!br(this,xu)&&!br(this,Sm)}hasData(){return br(this,Rm)?br(this,xu)!==null||!!br(this,Ax):this.isEmpty()}get guessedText(){return br(this,Ax)}async setGuessedText(St){br(this,xu)===null&&(Jr(this,Ax,St),Jr(this,Zv,await tA._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:St})),an(this,im,zS).call(this))}toggleAltTextBadge(St=!1){var tr;if(!br(this,Rm)||br(this,xu)){(tr=br(this,jm))==null||tr.remove(),Jr(this,jm,null);return}if(!br(this,jm)){const rr=Jr(this,jm,document.createElement("div"));rr.className="noAltTextBadge",br(this,_A).div.append(rr)}br(this,jm).classList.toggle("hidden",!St)}serialize(St){let tr=br(this,xu);return!St&&br(this,Ax)===tr&&(tr=br(this,Zv)),{altText:tr,decorative:br(this,Sm),guessedText:br(this,Ax),textWithDisclaimer:br(this,Zv)}}get data(){return{altText:br(this,xu),decorative:br(this,Sm)}}set data({altText:St,decorative:tr,guessedText:rr,textWithDisclaimer:nr,cancel:sr=!1}){rr&&(Jr(this,Ax,rr),Jr(this,Zv,nr)),!(br(this,xu)===St&&br(this,Sm)===tr)&&(sr||(Jr(this,xu,St),Jr(this,Sm,tr)),an(this,im,zS).call(this))}toggle(St=!1){br(this,Kp)&&(!St&&br(this,VA)&&(clearTimeout(br(this,VA)),Jr(this,VA,null)),br(this,Kp).disabled=!St)}shown(){br(this,_A)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:br(this,im,fw)}})}destroy(){var St,tr;(St=br(this,Kp))==null||St.remove(),Jr(this,Kp,null),Jr(this,K1,null),Jr(this,Cm,null),(tr=br(this,jm))==null||tr.remove(),Jr(this,jm,null)}};xu=new WeakMap,Sm=new WeakMap,Kp=new WeakMap,K1=new WeakMap,Cm=new WeakMap,VA=new WeakMap,z1=new WeakMap,jm=new WeakMap,_A=new WeakMap,Ax=new WeakMap,Zv=new WeakMap,Rm=new WeakMap,I0=new WeakMap,im=new WeakSet,fw=function(){return br(this,xu)&&"added"||br(this,xu)===null&&this.guessedText&&"review"||"missing"},zS=async function(){var nr,sr,ir;const St=br(this,Kp);if(!St)return;if(br(this,Rm)){if(St.classList.toggle("done",!!br(this,xu)),St.setAttribute("data-l10n-id",br(tA,I0)[br(this,im,fw)]),(nr=br(this,K1))==null||nr.setAttribute("data-l10n-id",br(tA,I0)[`${br(this,im,fw)}-label`]),!br(this,xu)){(sr=br(this,Cm))==null||sr.remove();return}}else{if(!br(this,xu)&&!br(this,Sm)){St.classList.remove("done"),(ir=br(this,Cm))==null||ir.remove();return}St.classList.add("done"),St.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let tr=br(this,Cm);if(!tr){Jr(this,Cm,tr=document.createElement("span")),tr.className="tooltip",tr.setAttribute("role","tooltip"),tr.id=`alt-text-tooltip-${br(this,_A).id}`;const ar=100,or=br(this,_A)._uiManager._signal;or.addEventListener("abort",()=>{clearTimeout(br(this,VA)),Jr(this,VA,null)},{once:!0}),St.addEventListener("mouseenter",()=>{Jr(this,VA,setTimeout(()=>{Jr(this,VA,null),br(this,Cm).classList.add("show"),br(this,_A)._reportTelemetry({action:"alt_text_tooltip"})},ar))},{signal:or}),St.addEventListener("mouseleave",()=>{var lr;br(this,VA)&&(clearTimeout(br(this,VA)),Jr(this,VA,null)),(lr=br(this,Cm))==null||lr.classList.remove("show")},{signal:or})}br(this,Sm)?tr.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(tr.removeAttribute("data-l10n-id"),tr.textContent=br(this,xu)),tr.parentNode||St.append(tr);const rr=br(this,_A).getElementForAltText();rr==null||rr.setAttribute("aria-describedby",tr.id)},sn(tA,I0,null),ps(tA,"_l10n",null);let AltText=tA;var q1,ey,Qw,Ww,Gw,Kw,zw,mx,ty,gx,ry,xx,iv,dP,hP,fP;const jR=class jR{constructor({container:St,isPinchingDisabled:tr=null,isPinchingStopped:rr=null,onPinchStart:nr=null,onPinching:sr=null,onPinchEnd:ir=null,signal:ar}){sn(this,iv);sn(this,q1);sn(this,ey,!1);sn(this,Qw,null);sn(this,Ww);sn(this,Gw);sn(this,Kw);sn(this,zw);sn(this,mx,null);sn(this,ty);sn(this,gx,null);sn(this,ry);sn(this,xx,null);Jr(this,q1,St),Jr(this,Qw,rr),Jr(this,Ww,tr),Jr(this,Gw,nr),Jr(this,Kw,sr),Jr(this,zw,ir),Jr(this,ry,new AbortController),Jr(this,ty,AbortSignal.any([ar,br(this,ry).signal])),St.addEventListener("touchstart",an(this,iv,dP).bind(this),{passive:!1,signal:br(this,ty)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/OutputScale.pixelRatio}destroy(){var St,tr;(St=br(this,ry))==null||St.abort(),Jr(this,ry,null),(tr=br(this,mx))==null||tr.abort(),Jr(this,mx,null)}};q1=new WeakMap,ey=new WeakMap,Qw=new WeakMap,Ww=new WeakMap,Gw=new WeakMap,Kw=new WeakMap,zw=new WeakMap,mx=new WeakMap,ty=new WeakMap,gx=new WeakMap,ry=new WeakMap,xx=new WeakMap,iv=new WeakSet,dP=function(St){var nr,sr,ir;if((nr=br(this,Ww))!=null&&nr.call(this))return;if(St.touches.length===1){if(br(this,mx))return;const ar=Jr(this,mx,new AbortController),or=AbortSignal.any([br(this,ty),ar.signal]),lr=br(this,q1),cr={capture:!0,signal:or,passive:!1},ur=dr=>{var hr;dr.pointerType==="touch"&&((hr=br(this,mx))==null||hr.abort(),Jr(this,mx,null))};lr.addEventListener("pointerdown",dr=>{dr.pointerType==="touch"&&(stopEvent(dr),ur(dr))},cr),lr.addEventListener("pointerup",ur,cr),lr.addEventListener("pointercancel",ur,cr);return}if(!br(this,xx)){Jr(this,xx,new AbortController);const ar=AbortSignal.any([br(this,ty),br(this,xx).signal]),or=br(this,q1),lr={signal:ar,capture:!1,passive:!1};or.addEventListener("touchmove",an(this,iv,hP).bind(this),lr);const cr=an(this,iv,fP).bind(this);or.addEventListener("touchend",cr,lr),or.addEventListener("touchcancel",cr,lr),lr.capture=!0,or.addEventListener("pointerdown",stopEvent,lr),or.addEventListener("pointermove",stopEvent,lr),or.addEventListener("pointercancel",stopEvent,lr),or.addEventListener("pointerup",stopEvent,lr),(sr=br(this,Gw))==null||sr.call(this)}if(stopEvent(St),St.touches.length!==2||(ir=br(this,Qw))!=null&&ir.call(this)){Jr(this,gx,null);return}let[tr,rr]=St.touches;tr.identifier>rr.identifier&&([tr,rr]=[rr,tr]),Jr(this,gx,{touch0X:tr.screenX,touch0Y:tr.screenY,touch1X:rr.screenX,touch1Y:rr.screenY})},hP=function(St){var yr;if(!br(this,gx)||St.touches.length!==2)return;stopEvent(St);let[tr,rr]=St.touches;tr.identifier>rr.identifier&&([tr,rr]=[rr,tr]);const{screenX:nr,screenY:sr}=tr,{screenX:ir,screenY:ar}=rr,or=br(this,gx),{touch0X:lr,touch0Y:cr,touch1X:ur,touch1Y:dr}=or,hr=ur-lr,Ar=dr-cr,fr=ir-nr,mr=ar-sr,pr=Math.hypot(fr,mr)||1,gr=Math.hypot(hr,Ar)||1;if(!br(this,ey)&&Math.abs(gr-pr)<=jR.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(or.touch0X=nr,or.touch0Y=sr,or.touch1X=ir,or.touch1Y=ar,!br(this,ey)){Jr(this,ey,!0);return}const xr=[(nr+ir)/2,(sr+ar)/2];(yr=br(this,Kw))==null||yr.call(this,xr,gr,pr)},fP=function(St){var tr;St.touches.length>=2||(br(this,xx)&&(br(this,xx).abort(),Jr(this,xx,null),(tr=br(this,zw))==null||tr.call(this)),br(this,gx)&&(stopEvent(St),Jr(this,gx,null),Jr(this,ey,!1)))};let TouchManager=jR;var ny,zp,yl,Y1,k0,qw,sy,Ru,iy,vx,F0,Yw,ay,QA,Xw,oy,yx,Tm,X1,J1,bp,ly,Jw,S2,Js,MC,Zw,$C,qS,AP,pP,UC,YS,HC,mP,gP,xP,VC,vP,QC,yP,EP,wP,WC,Aw;const Ao=class Ao{constructor(St){sn(this,Js);sn(this,ny,null);sn(this,zp,null);sn(this,yl,null);sn(this,Y1,!1);sn(this,k0,null);sn(this,qw,"");sn(this,sy,!1);sn(this,Ru,null);sn(this,iy,null);sn(this,vx,null);sn(this,F0,null);sn(this,Yw,"");sn(this,ay,!1);sn(this,QA,null);sn(this,Xw,!1);sn(this,oy,!1);sn(this,yx,!1);sn(this,Tm,null);sn(this,X1,0);sn(this,J1,0);sn(this,bp,null);sn(this,ly,null);ps(this,"isSelected",!1);ps(this,"_isCopy",!1);ps(this,"_editToolbar",null);ps(this,"_initialOptions",Object.create(null));ps(this,"_initialData",null);ps(this,"_isVisible",!0);ps(this,"_uiManager",null);ps(this,"_focusEventsAllowed",!0);sn(this,Jw,!1);sn(this,S2,Ao._zIndex++);this.parent=St.parent,this.id=St.id,this.width=this.height=null,this.pageIndex=St.parent.pageIndex,this.name=St.name,this.div=null,this._uiManager=St.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=St.isCentered,this._structTreeParentId=null;const{rotation:tr,rawDims:{pageWidth:rr,pageHeight:nr,pageX:sr,pageY:ir}}=this.parent.viewport;this.rotation=tr,this.pageRotation=(360+tr-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[rr,nr],this.pageTranslation=[sr,ir];const[ar,or]=this.parentDimensions;this.x=St.x/ar,this.y=St.y/or,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const St=Ao.prototype._resizeWithKeyboard,tr=AnnotationEditorUIManager.TRANSLATE_SMALL,rr=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],St,{args:[-tr,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St,{args:[-rr,0]}],[["ArrowRight","mac+ArrowRight"],St,{args:[tr,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St,{args:[rr,0]}],[["ArrowUp","mac+ArrowUp"],St,{args:[0,-tr]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St,{args:[0,-rr]}],[["ArrowDown","mac+ArrowDown"],St,{args:[0,tr]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St,{args:[0,rr]}],[["Escape","mac+Escape"],Ao.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(St){const tr=new FakeEditor({id:St.parent.getNextId(),parent:St.parent,uiManager:St._uiManager});tr.annotationElementId=St.annotationElementId,tr.deleted=!0,tr._uiManager.addToAnnotationStorage(tr)}static initialize(St,tr){if(Ao._l10n??(Ao._l10n=St),Ao._l10nResizer||(Ao._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ao._borderLineWidth!==-1)return;const rr=getComputedStyle(document.documentElement);Ao._borderLineWidth=parseFloat(rr.getPropertyValue("--outline-width"))||0}static updateDefaultParams(St,tr){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(St){return!1}static paste(St,tr){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return br(this,Jw)}set _isDraggable(St){var tr;Jr(this,Jw,St),(tr=this.div)==null||tr.classList.toggle("draggable",St)}get isEnterHandled(){return!0}center(){const[St,tr]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*tr/(St*2),this.y+=this.width*St/(tr*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*tr/(St*2),this.y-=this.width*St/(tr*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(St){this._uiManager.addCommands(St)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=br(this,S2)}setParent(St){St!==null?(this.pageIndex=St.pageIndex,this.pageDimensions=St.pageDimensions):an(this,Js,Aw).call(this),this.parent=St}focusin(St){this._focusEventsAllowed&&(br(this,ay)?Jr(this,ay,!1):this.parent.setSelected(this))}focusout(St){var rr;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const tr=St.relatedTarget;tr!=null&&tr.closest(`#${this.id}`)||(St.preventDefault(),(rr=this.parent)!=null&&rr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(St,tr,rr,nr){const[sr,ir]=this.parentDimensions;[rr,nr]=this.screenToPageTranslation(rr,nr),this.x=(St+rr)/sr,this.y=(tr+nr)/ir,this.fixAndSetPosition()}_moveAfterPaste(St,tr){const[rr,nr]=this.parentDimensions;this.setAt(St*rr,tr*nr,this.width*rr,this.height*nr),this._onTranslated()}translate(St,tr){an(this,Js,MC).call(this,this.parentDimensions,St,tr)}translateInPage(St,tr){br(this,QA)||Jr(this,QA,[this.x,this.y,this.width,this.height]),an(this,Js,MC).call(this,this.pageDimensions,St,tr),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(St,tr){br(this,QA)||Jr(this,QA,[this.x,this.y,this.width,this.height]);const{div:rr,parentDimensions:[nr,sr]}=this;if(this.x+=St/nr,this.y+=tr/sr,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ur,y:dr}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ur,dr)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ir,y:ar}=this;const[or,lr]=this.getBaseTranslation();ir+=or,ar+=lr;const{style:cr}=rr;cr.left=`${(100*ir).toFixed(2)}%`,cr.top=`${(100*ar).toFixed(2)}%`,this._onTranslating(ir,ar),rr.scrollIntoView({block:"nearest"})}_onTranslating(St,tr){}_onTranslated(St,tr){}get _hasBeenMoved(){return!!br(this,QA)&&(br(this,QA)[0]!==this.x||br(this,QA)[1]!==this.y)}get _hasBeenResized(){return!!br(this,QA)&&(br(this,QA)[2]!==this.width||br(this,QA)[3]!==this.height)}getBaseTranslation(){const[St,tr]=this.parentDimensions,{_borderLineWidth:rr}=Ao,nr=rr/St,sr=rr/tr;switch(this.rotation){case 90:return[-nr,sr];case 180:return[nr,sr];case 270:return[nr,-sr];default:return[-nr,-sr]}}get _mustFixPosition(){return!0}fixAndSetPosition(St=this.rotation){const{div:{style:tr},pageDimensions:[rr,nr]}=this;let{x:sr,y:ir,width:ar,height:or}=this;if(ar*=rr,or*=nr,sr*=rr,ir*=nr,this._mustFixPosition)switch(St){case 0:sr=MathClamp(sr,0,rr-ar),ir=MathClamp(ir,0,nr-or);break;case 90:sr=MathClamp(sr,0,rr-or),ir=MathClamp(ir,ar,nr);break;case 180:sr=MathClamp(sr,ar,rr),ir=MathClamp(ir,or,nr);break;case 270:sr=MathClamp(sr,or,rr),ir=MathClamp(ir,0,nr-ar);break}this.x=sr/=rr,this.y=ir/=nr;const[lr,cr]=this.getBaseTranslation();sr+=lr,ir+=cr,tr.left=`${(100*sr).toFixed(2)}%`,tr.top=`${(100*ir).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(St,tr){var rr;return an(rr=Ao,Zw,$C).call(rr,St,tr,this.parentRotation)}pageTranslationToScreen(St,tr){var rr;return an(rr=Ao,Zw,$C).call(rr,St,tr,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:St,pageDimensions:[tr,rr]}=this;return[tr*St,rr*St]}setDims(St,tr){const[rr,nr]=this.parentDimensions,{style:sr}=this.div;sr.width=`${(100*St/rr).toFixed(2)}%`,br(this,sy)||(sr.height=`${(100*tr/nr).toFixed(2)}%`)}fixDims(){const{style:St}=this.div,{height:tr,width:rr}=St,nr=rr.endsWith("%"),sr=!br(this,sy)&&tr.endsWith("%");if(nr&&sr)return;const[ir,ar]=this.parentDimensions;nr||(St.width=`${(100*parseFloat(rr)/ir).toFixed(2)}%`),!br(this,sy)&&!sr&&(St.height=`${(100*parseFloat(tr)/ar).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(St){return Math.round(St*1e4)/1e4}_onResizing(){}altTextFinish(){var St;(St=br(this,yl))==null||St.finish()}async addEditToolbar(){return this._editToolbar||br(this,oy)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),br(this,yl)&&await this._editToolbar.addAltText(br(this,yl)),this._editToolbar)}removeEditToolbar(){var St;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(St=br(this,yl))==null||St.destroy())}addContainer(St){var rr;const tr=(rr=this._editToolbar)==null?void 0:rr.div;tr?tr.before(St):this.div.append(St)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){br(this,yl)||(AltText.initialize(Ao._l10n),Jr(this,yl,new AltText(this)),br(this,ny)&&(br(this,yl).data=br(this,ny),Jr(this,ny,null)),await this.addEditToolbar())}get altTextData(){var St;return(St=br(this,yl))==null?void 0:St.data}set altTextData(St){br(this,yl)&&(br(this,yl).data=St)}get guessedAltText(){var St;return(St=br(this,yl))==null?void 0:St.guessedText}async setGuessedAltText(St){var tr;await((tr=br(this,yl))==null?void 0:tr.setGuessedText(St))}serializeAltText(St){var tr;return(tr=br(this,yl))==null?void 0:tr.serialize(St)}hasAltText(){return!!br(this,yl)&&!br(this,yl).isEmpty()}hasAltTextData(){var St;return((St=br(this,yl))==null?void 0:St.hasData())??!1}render(){var ir;const St=this.div=document.createElement("div");St.setAttribute("data-editor-rotation",(360-this.rotation)%360),St.className=this.name,St.setAttribute("id",this.id),St.tabIndex=br(this,Y1)?-1:0,St.setAttribute("role","application"),this.defaultL10nId&&St.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||St.classList.add("hidden"),this.setInForeground(),an(this,Js,QC).call(this);const[tr,rr]=this.parentDimensions;this.parentRotation%180!==0&&(St.style.maxWidth=`${(100*rr/tr).toFixed(2)}%`,St.style.maxHeight=`${(100*tr/rr).toFixed(2)}%`);const[nr,sr]=this.getInitialTranslation();return this.translate(nr,sr),bindEvents(this,St,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(br(this,ly)||Jr(this,ly,new TouchManager({container:St,isPinchingDisabled:()=>!this.isSelected,onPinchStart:an(this,Js,mP).bind(this),onPinching:an(this,Js,gP).bind(this),onPinchEnd:an(this,Js,xP).bind(this),signal:this._uiManager._signal}))),(ir=this._uiManager._editorUndoBar)==null||ir.hide(),St}pointerdown(St){const{isMac:tr}=util_FeatureTest.platform;if(St.button!==0||St.ctrlKey&&tr){St.preventDefault();return}if(Jr(this,ay,!0),this._isDraggable){an(this,Js,vP).call(this,St);return}an(this,Js,VC).call(this,St)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){br(this,Tm)&&clearTimeout(br(this,Tm)),Jr(this,Tm,setTimeout(()=>{var St;Jr(this,Tm,null),(St=this.parent)==null||St.moveEditorInDOM(this)},0))}_setParentAndPosition(St,tr,rr){St.changeParent(this),this.x=tr,this.y=rr,this.fixAndSetPosition(),this._onTranslated()}getRect(St,tr,rr=this.rotation){const nr=this.parentScale,[sr,ir]=this.pageDimensions,[ar,or]=this.pageTranslation,lr=St/nr,cr=tr/nr,ur=this.x*sr,dr=this.y*ir,hr=this.width*sr,Ar=this.height*ir;switch(rr){case 0:return[ur+lr+ar,ir-dr-cr-Ar+or,ur+lr+hr+ar,ir-dr-cr+or];case 90:return[ur+cr+ar,ir-dr+lr+or,ur+cr+Ar+ar,ir-dr+lr+hr+or];case 180:return[ur-lr-hr+ar,ir-dr+cr+or,ur-lr+ar,ir-dr+cr+Ar+or];case 270:return[ur-cr-Ar+ar,ir-dr-lr-hr+or,ur-cr+ar,ir-dr-lr+or];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(St,tr){const[rr,nr,sr,ir]=St,ar=sr-rr,or=ir-nr;switch(this.rotation){case 0:return[rr,tr-ir,ar,or];case 90:return[rr,tr-nr,or,ar];case 180:return[sr,tr-nr,ar,or];case 270:return[sr,tr-ir,or,ar];default:throw new Error("Invalid rotation")}}onceAdded(St){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),Jr(this,oy,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),Jr(this,oy,!1),!0):!1}isInEditMode(){return br(this,oy)}shouldGetKeyboardEvents(){return br(this,yx)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:St,left:tr,bottom:rr,right:nr}=this.getClientDimensions(),{innerHeight:sr,innerWidth:ir}=window;return tr<ir&&nr>0&&St<sr&&rr>0}rebuild(){an(this,Js,QC).call(this)}rotate(St){}resize(){}serializeDeleted(){var St;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((St=this._initialData)==null?void 0:St.popupRef)||""}}serialize(St=!1,tr=null){unreachable("An editor must be serializable")}static async deserialize(St,tr,rr){const nr=new this.prototype.constructor({parent:tr,id:tr.getNextId(),uiManager:rr});nr.rotation=St.rotation,Jr(nr,ny,St.accessibilityData),nr._isCopy=St.isCopy||!1;const[sr,ir]=nr.pageDimensions,[ar,or,lr,cr]=nr.getRectInCurrentCoords(St.rect,ir);return nr.x=ar/sr,nr.y=or/ir,nr.width=lr/sr,nr.height=cr/ir,nr}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var St,tr;if((St=br(this,F0))==null||St.abort(),Jr(this,F0,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),br(this,Tm)&&(clearTimeout(br(this,Tm)),Jr(this,Tm,null)),an(this,Js,Aw).call(this),this.removeEditToolbar(),br(this,bp)){for(const rr of br(this,bp).values())clearTimeout(rr);Jr(this,bp,null)}this.parent=null,(tr=br(this,ly))==null||tr.destroy(),Jr(this,ly,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(an(this,Js,AP).call(this),br(this,Ru).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(St){if(!this.isResizable||St.target!==this.div||St.key!=="Enter")return;this._uiManager.setSelected(this),Jr(this,vx,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const tr=br(this,Ru).children;if(!br(this,zp)){Jr(this,zp,Array.from(tr));const ir=an(this,Js,yP).bind(this),ar=an(this,Js,EP).bind(this),or=this._uiManager._signal;for(const lr of br(this,zp)){const cr=lr.getAttribute("data-resizer-name");lr.setAttribute("role","spinbutton"),lr.addEventListener("keydown",ir,{signal:or}),lr.addEventListener("blur",ar,{signal:or}),lr.addEventListener("focus",an(this,Js,wP).bind(this,cr),{signal:or}),lr.setAttribute("data-l10n-id",Ao._l10nResizer[cr])}}const rr=br(this,zp)[0];let nr=0;for(const ir of tr){if(ir===rr)break;nr++}const sr=(360-this.rotation+this.parentRotation)%360/90*(br(this,zp).length/4);if(sr!==nr){if(sr<nr)for(let ar=0;ar<nr-sr;ar++)br(this,Ru).append(br(this,Ru).firstChild);else if(sr>nr)for(let ar=0;ar<sr-nr;ar++)br(this,Ru).firstChild.before(br(this,Ru).lastChild);let ir=0;for(const ar of tr){const lr=br(this,zp)[ir++].getAttribute("data-resizer-name");ar.setAttribute("data-l10n-id",Ao._l10nResizer[lr])}}an(this,Js,WC).call(this,0),Jr(this,yx,!0),br(this,Ru).firstChild.focus({focusVisible:!0}),St.preventDefault(),St.stopImmediatePropagation()}_resizeWithKeyboard(St,tr){br(this,yx)&&an(this,Js,HC).call(this,br(this,Yw),{deltaX:St,deltaY:tr,fromKeyboard:!0})}_stopResizingWithKeyboard(){an(this,Js,Aw).call(this),this.div.focus()}select(){var St,tr,rr;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(St=this.div)==null||St.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var nr,sr;(nr=this.div)!=null&&nr.classList.contains("selectedEditor")&&((sr=this._editToolbar)==null||sr.show())});return}(tr=this._editToolbar)==null||tr.show(),(rr=br(this,yl))==null||rr.toggleAltTextBadge(!1)}}unselect(){var St,tr,rr,nr,sr;this.isSelected&&(this.isSelected=!1,(St=br(this,Ru))==null||St.classList.add("hidden"),(tr=this.div)==null||tr.classList.remove("selectedEditor"),(rr=this.div)!=null&&rr.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(nr=this._editToolbar)==null||nr.hide(),(sr=br(this,yl))==null||sr.toggleAltTextBadge(!0))}updateParams(St,tr){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(St){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return br(this,Xw)}set isEditing(St){Jr(this,Xw,St),this.parent&&(St?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(St,tr){Jr(this,sy,!0);const rr=St/tr,{style:nr}=this.div;nr.aspectRatio=rr,nr.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(St,tr=!1){if(tr){br(this,bp)||Jr(this,bp,new Map);const{action:rr}=St;let nr=br(this,bp).get(rr);nr&&clearTimeout(nr),nr=setTimeout(()=>{this._reportTelemetry(St),br(this,bp).delete(rr),br(this,bp).size===0&&Jr(this,bp,null)},Ao._telemetryTimeout),br(this,bp).set(rr,nr);return}St.type||(St.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:St}})}show(St=this._isVisible){this.div.classList.toggle("hidden",!St),this._isVisible=St}enable(){this.div&&(this.div.tabIndex=0),Jr(this,Y1,!1)}disable(){this.div&&(this.div.tabIndex=-1),Jr(this,Y1,!0)}renderAnnotationElement(St){let tr=St.container.querySelector(".annotationContent");if(!tr)tr=document.createElement("div"),tr.classList.add("annotationContent",this.editorType),St.container.prepend(tr);else if(tr.nodeName==="CANVAS"){const rr=tr;tr=document.createElement("div"),tr.classList.add("annotationContent",this.editorType),rr.before(tr)}return tr}resetAnnotationElement(St){const{firstChild:tr}=St.container;(tr==null?void 0:tr.nodeName)==="DIV"&&tr.classList.contains("annotationContent")&&tr.remove()}};ny=new WeakMap,zp=new WeakMap,yl=new WeakMap,Y1=new WeakMap,k0=new WeakMap,qw=new WeakMap,sy=new WeakMap,Ru=new WeakMap,iy=new WeakMap,vx=new WeakMap,F0=new WeakMap,Yw=new WeakMap,ay=new WeakMap,QA=new WeakMap,Xw=new WeakMap,oy=new WeakMap,yx=new WeakMap,Tm=new WeakMap,X1=new WeakMap,J1=new WeakMap,bp=new WeakMap,ly=new WeakMap,Jw=new WeakMap,S2=new WeakMap,Js=new WeakSet,MC=function([St,tr],rr,nr){[rr,nr]=this.screenToPageTranslation(rr,nr),this.x+=rr/St,this.y+=nr/tr,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Zw=new WeakSet,$C=function(St,tr,rr){switch(rr){case 90:return[tr,-St];case 180:return[-St,-tr];case 270:return[-tr,St];default:return[St,tr]}},qS=function(St){switch(St){case 90:{const[tr,rr]=this.pageDimensions;return[0,-tr/rr,rr/tr,0]}case 180:return[-1,0,0,-1];case 270:{const[tr,rr]=this.pageDimensions;return[0,tr/rr,-rr/tr,0]}default:return[1,0,0,1]}},AP=function(){if(br(this,Ru))return;Jr(this,Ru,document.createElement("div")),br(this,Ru).classList.add("resizers");const St=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],tr=this._uiManager._signal;for(const rr of St){const nr=document.createElement("div");br(this,Ru).append(nr),nr.classList.add("resizer",rr),nr.setAttribute("data-resizer-name",rr),nr.addEventListener("pointerdown",an(this,Js,pP).bind(this,rr),{signal:tr}),nr.addEventListener("contextmenu",noContextMenu,{signal:tr}),nr.tabIndex=-1}this.div.prepend(br(this,Ru))},pP=function(St,tr){var cr;tr.preventDefault();const{isMac:rr}=util_FeatureTest.platform;if(tr.button!==0||tr.ctrlKey&&rr)return;(cr=br(this,yl))==null||cr.toggle(!1);const nr=this._isDraggable;this._isDraggable=!1,Jr(this,iy,[tr.screenX,tr.screenY]);const sr=new AbortController,ir=this._uiManager.combinedSignal(sr);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",an(this,Js,HC).bind(this,St),{passive:!0,capture:!0,signal:ir}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:ir}),window.addEventListener("contextmenu",noContextMenu,{signal:ir}),Jr(this,vx,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ar=this.parent.div.style.cursor,or=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(tr.target).cursor;const lr=()=>{var ur;sr.abort(),this.parent.togglePointerEvents(!0),(ur=br(this,yl))==null||ur.toggle(!0),this._isDraggable=nr,this.parent.div.style.cursor=ar,this.div.style.cursor=or,an(this,Js,YS).call(this)};window.addEventListener("pointerup",lr,{signal:ir}),window.addEventListener("blur",lr,{signal:ir})},UC=function(St,tr,rr,nr){this.width=rr,this.height=nr,this.x=St,this.y=tr;const[sr,ir]=this.parentDimensions;this.setDims(sr*rr,ir*nr),this.fixAndSetPosition(),this._onResized()},YS=function(){if(!br(this,vx))return;const{savedX:St,savedY:tr,savedWidth:rr,savedHeight:nr}=br(this,vx);Jr(this,vx,null);const sr=this.x,ir=this.y,ar=this.width,or=this.height;sr===St&&ir===tr&&ar===rr&&or===nr||this.addCommands({cmd:an(this,Js,UC).bind(this,sr,ir,ar,or),undo:an(this,Js,UC).bind(this,St,tr,rr,nr),mustExec:!0})},HC=function(St,tr){const[rr,nr]=this.parentDimensions,sr=this.x,ir=this.y,ar=this.width,or=this.height,lr=Ao.MIN_SIZE/rr,cr=Ao.MIN_SIZE/nr,ur=an(this,Js,qS).call(this,this.rotation),dr=($r,Vr)=>[ur[0]*$r+ur[2]*Vr,ur[1]*$r+ur[3]*Vr],hr=an(this,Js,qS).call(this,360-this.rotation),Ar=($r,Vr)=>[hr[0]*$r+hr[2]*Vr,hr[1]*$r+hr[3]*Vr];let fr,mr,pr=!1,gr=!1;switch(St){case"topLeft":pr=!0,fr=($r,Vr)=>[0,0],mr=($r,Vr)=>[$r,Vr];break;case"topMiddle":fr=($r,Vr)=>[$r/2,0],mr=($r,Vr)=>[$r/2,Vr];break;case"topRight":pr=!0,fr=($r,Vr)=>[$r,0],mr=($r,Vr)=>[0,Vr];break;case"middleRight":gr=!0,fr=($r,Vr)=>[$r,Vr/2],mr=($r,Vr)=>[0,Vr/2];break;case"bottomRight":pr=!0,fr=($r,Vr)=>[$r,Vr],mr=($r,Vr)=>[0,0];break;case"bottomMiddle":fr=($r,Vr)=>[$r/2,Vr],mr=($r,Vr)=>[$r/2,0];break;case"bottomLeft":pr=!0,fr=($r,Vr)=>[0,Vr],mr=($r,Vr)=>[$r,0];break;case"middleLeft":gr=!0,fr=($r,Vr)=>[0,Vr/2],mr=($r,Vr)=>[$r,Vr/2];break}const xr=fr(ar,or),yr=mr(ar,or);let Er=dr(...yr);const _r=Ao._round(sr+Er[0]),Sr=Ao._round(ir+Er[1]);let jr=1,Pr=1,Mr,Ir;if(tr.fromKeyboard)({deltaX:Mr,deltaY:Ir}=tr);else{const{screenX:$r,screenY:Vr}=tr,[Tr,Fr]=br(this,iy);[Mr,Ir]=this.screenToPageTranslation($r-Tr,Vr-Fr),br(this,iy)[0]=$r,br(this,iy)[1]=Vr}if([Mr,Ir]=Ar(Mr/rr,Ir/nr),pr){const $r=Math.hypot(ar,or);jr=Pr=Math.max(Math.min(Math.hypot(yr[0]-xr[0]-Mr,yr[1]-xr[1]-Ir)/$r,1/ar,1/or),lr/ar,cr/or)}else gr?jr=MathClamp(Math.abs(yr[0]-xr[0]-Mr),lr,1)/ar:Pr=MathClamp(Math.abs(yr[1]-xr[1]-Ir),cr,1)/or;const Lr=Ao._round(ar*jr),Qr=Ao._round(or*Pr);Er=dr(...mr(Lr,Qr));const Yr=_r-Er[0],Gr=Sr-Er[1];br(this,QA)||Jr(this,QA,[this.x,this.y,this.width,this.height]),this.width=Lr,this.height=Qr,this.x=Yr,this.y=Gr,this.setDims(rr*Lr,nr*Qr),this.fixAndSetPosition(),this._onResizing()},mP=function(){var St;Jr(this,vx,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(St=br(this,yl))==null||St.toggle(!1),this.parent.togglePointerEvents(!1)},gP=function(St,tr,rr){let sr=.7*(rr/tr)+1-.7;if(sr===1)return;const ir=an(this,Js,qS).call(this,this.rotation),ar=(_r,Sr)=>[ir[0]*_r+ir[2]*Sr,ir[1]*_r+ir[3]*Sr],[or,lr]=this.parentDimensions,cr=this.x,ur=this.y,dr=this.width,hr=this.height,Ar=Ao.MIN_SIZE/or,fr=Ao.MIN_SIZE/lr;sr=Math.max(Math.min(sr,1/dr,1/hr),Ar/dr,fr/hr);const mr=Ao._round(dr*sr),pr=Ao._round(hr*sr);if(mr===dr&&pr===hr)return;br(this,QA)||Jr(this,QA,[cr,ur,dr,hr]);const gr=ar(dr/2,hr/2),xr=Ao._round(cr+gr[0]),yr=Ao._round(ur+gr[1]),Er=ar(mr/2,pr/2);this.x=xr-Er[0],this.y=yr-Er[1],this.width=mr,this.height=pr,this.setDims(or*mr,lr*pr),this.fixAndSetPosition(),this._onResizing()},xP=function(){var St;(St=br(this,yl))==null||St.toggle(!0),this.parent.togglePointerEvents(!0),an(this,Js,YS).call(this)},VC=function(St){const{isMac:tr}=util_FeatureTest.platform;St.ctrlKey&&!tr||St.shiftKey||St.metaKey&&tr?this.parent.toggleSelected(this):this.parent.setSelected(this)},vP=function(St){const{isSelected:tr}=this;this._uiManager.setUpDragSession();let rr=!1;const nr=new AbortController,sr=this._uiManager.combinedSignal(nr),ir={capture:!0,passive:!1,signal:sr},ar=lr=>{nr.abort(),Jr(this,k0,null),Jr(this,ay,!1),this._uiManager.endDragSession()||an(this,Js,VC).call(this,lr),rr&&this._onStopDragging()};tr&&(Jr(this,X1,St.clientX),Jr(this,J1,St.clientY),Jr(this,k0,St.pointerId),Jr(this,qw,St.pointerType),window.addEventListener("pointermove",lr=>{rr||(rr=!0,this._onStartDragging());const{clientX:cr,clientY:ur,pointerId:dr}=lr;if(dr!==br(this,k0)){stopEvent(lr);return}const[hr,Ar]=this.screenToPageTranslation(cr-br(this,X1),ur-br(this,J1));Jr(this,X1,cr),Jr(this,J1,ur),this._uiManager.dragSelectedEditors(hr,Ar)},ir),window.addEventListener("touchmove",stopEvent,ir),window.addEventListener("pointerdown",lr=>{lr.pointerType===br(this,qw)&&(br(this,ly)||lr.isPrimary)&&ar(lr),stopEvent(lr)},ir));const or=lr=>{if(!br(this,k0)||br(this,k0)===lr.pointerId){ar(lr);return}stopEvent(lr)};window.addEventListener("pointerup",or,{signal:sr}),window.addEventListener("blur",or,{signal:sr})},QC=function(){if(br(this,F0)||!this.div)return;Jr(this,F0,new AbortController);const St=this._uiManager.combinedSignal(br(this,F0));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:St}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:St})},yP=function(St){Ao._resizerKeyboardManager.exec(this,St)},EP=function(St){var tr;br(this,yx)&&((tr=St.relatedTarget)==null?void 0:tr.parentNode)!==br(this,Ru)&&an(this,Js,Aw).call(this)},wP=function(St){Jr(this,Yw,br(this,yx)?St:"")},WC=function(St){if(br(this,zp))for(const tr of br(this,zp))tr.tabIndex=St},Aw=function(){Jr(this,yx,!1),an(this,Js,WC).call(this,-1),an(this,Js,YS).call(this)},sn(Ao,Zw),ps(Ao,"_l10n",null),ps(Ao,"_l10nResizer",null),ps(Ao,"_borderLineWidth",-1),ps(Ao,"_colorManager",new ColorManager),ps(Ao,"_zIndex",1),ps(Ao,"_telemetryTimeout",1e3);let AnnotationEditor=Ao;class FakeEditor extends AnnotationEditor{constructor(St){super(St),this.annotationElementId=St.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(St){this.h1=St?St&4294967295:SEED,this.h2=St?St&4294967295:SEED}update(St){let tr,rr;if(typeof St=="string"){tr=new Uint8Array(St.length*2),rr=0;for(let fr=0,mr=St.length;fr<mr;fr++){const pr=St.charCodeAt(fr);pr<=255?tr[rr++]=pr:(tr[rr++]=pr>>>8,tr[rr++]=pr&255)}}else if(ArrayBuffer.isView(St))tr=St.slice(),rr=tr.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const nr=rr>>2,sr=rr-nr*4,ir=new Uint32Array(tr.buffer,0,nr);let ar=0,or=0,lr=this.h1,cr=this.h2;const ur=3432918353,dr=461845907,hr=ur&MASK_LOW,Ar=dr&MASK_LOW;for(let fr=0;fr<nr;fr++)fr&1?(ar=ir[fr],ar=ar*ur&MASK_HIGH|ar*hr&MASK_LOW,ar=ar<<15|ar>>>17,ar=ar*dr&MASK_HIGH|ar*Ar&MASK_LOW,lr^=ar,lr=lr<<13|lr>>>19,lr=lr*5+3864292196):(or=ir[fr],or=or*ur&MASK_HIGH|or*hr&MASK_LOW,or=or<<15|or>>>17,or=or*dr&MASK_HIGH|or*Ar&MASK_LOW,cr^=or,cr=cr<<13|cr>>>19,cr=cr*5+3864292196);switch(ar=0,sr){case 3:ar^=tr[nr*4+2]<<16;case 2:ar^=tr[nr*4+1]<<8;case 1:ar^=tr[nr*4],ar=ar*ur&MASK_HIGH|ar*hr&MASK_LOW,ar=ar<<15|ar>>>17,ar=ar*dr&MASK_HIGH|ar*Ar&MASK_LOW,nr&1?lr^=ar:cr^=ar}this.h1=lr,this.h2=cr}hexdigest(){let St=this.h1,tr=this.h2;return St^=tr>>>1,St=St*3981806797&MASK_HIGH|St*36045&MASK_LOW,tr=tr*4283543511&MASK_HIGH|((tr<<16|St>>>16)*2950163797&MASK_HIGH)>>>16,St^=tr>>>1,St=St*444984403&MASK_HIGH|St*60499&MASK_LOW,tr=tr*3301882366&MASK_HIGH|((tr<<16|St>>>16)*3120437893&MASK_HIGH)>>>16,St^=tr>>>1,(St>>>0).toString(16).padStart(8,"0")+(tr>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var cy,uy,Tu,C2,bP;class AnnotationStorage{constructor(){sn(this,C2);sn(this,cy,!1);sn(this,uy,null);sn(this,Tu,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(St,tr){const rr=br(this,Tu).get(St);return rr===void 0?tr:Object.assign(tr,rr)}getRawValue(St){return br(this,Tu).get(St)}remove(St){if(br(this,Tu).delete(St),br(this,Tu).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const tr of br(this,Tu).values())if(tr instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(St,tr){const rr=br(this,Tu).get(St);let nr=!1;if(rr!==void 0)for(const[sr,ir]of Object.entries(tr))rr[sr]!==ir&&(nr=!0,rr[sr]=ir);else nr=!0,br(this,Tu).set(St,tr);nr&&an(this,C2,bP).call(this),tr instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(tr.constructor._type)}has(St){return br(this,Tu).has(St)}get size(){return br(this,Tu).size}resetModified(){br(this,cy)&&(Jr(this,cy,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(br(this,Tu).size===0)return SerializableEmpty;const St=new Map,tr=new MurmurHash3_64,rr=[],nr=Object.create(null);let sr=!1;for(const[ir,ar]of br(this,Tu)){const or=ar instanceof AnnotationEditor?ar.serialize(!1,nr):ar;or&&(St.set(ir,or),tr.update(`${ir}:${JSON.stringify(or)}`),sr||(sr=!!or.bitmap))}if(sr)for(const ir of St.values())ir.bitmap&&rr.push(ir.bitmap);return St.size>0?{map:St,hash:tr.hexdigest(),transfer:rr}:SerializableEmpty}get editorStats(){let St=null;const tr=new Map;for(const rr of br(this,Tu).values()){if(!(rr instanceof AnnotationEditor))continue;const nr=rr.telemetryFinalData;if(!nr)continue;const{type:sr}=nr;tr.has(sr)||tr.set(sr,Object.getPrototypeOf(rr).constructor),St||(St=Object.create(null));const ir=St[sr]||(St[sr]=new Map);for(const[ar,or]of Object.entries(nr)){if(ar==="type")continue;let lr=ir.get(ar);lr||(lr=new Map,ir.set(ar,lr));const cr=lr.get(or)??0;lr.set(or,cr+1)}}for(const[rr,nr]of tr)St[rr]=nr.computeTelemetryFinalData(St[rr]);return St}resetModifiedIds(){Jr(this,uy,null)}get modifiedIds(){if(br(this,uy))return br(this,uy);const St=[];for(const tr of br(this,Tu).values())!(tr instanceof AnnotationEditor)||!tr.annotationElementId||!tr.serialize()||St.push(tr.annotationElementId);return Jr(this,uy,{ids:new Set(St),hash:St.join(",")})}[Symbol.iterator](){return br(this,Tu).entries()}}cy=new WeakMap,uy=new WeakMap,Tu=new WeakMap,C2=new WeakSet,bP=function(){br(this,cy)||(Jr(this,cy,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var e_;class PrintAnnotationStorage extends AnnotationStorage{constructor(tr){super();sn(this,e_);const{map:rr,hash:nr,transfer:sr}=tr.serializable,ir=structuredClone(rr,sr?{transfer:sr}:null);Jr(this,e_,{map:ir,hash:nr,transfer:sr})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return br(this,e_)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}e_=new WeakMap;var Z1;class FontLoader{constructor({ownerDocument:St=globalThis.document,styleElement:tr=null}){sn(this,Z1,new Set);this._document=St,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(St){this.nativeFontFaces.add(St),this._document.fonts.add(St)}removeNativeFontFace(St){this.nativeFontFaces.delete(St),this._document.fonts.delete(St)}insertRule(St){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const tr=this.styleElement.sheet;tr.insertRule(St,tr.cssRules.length)}clear(){for(const St of this.nativeFontFaces)this._document.fonts.delete(St);this.nativeFontFaces.clear(),br(this,Z1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:St,disableFontFace:tr,_inspectFont:rr}){if(!(!St||br(this,Z1).has(St.loadedName))){if(assert(!tr,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:nr,src:sr,style:ir}=St,ar=new FontFace(nr,sr,ir);this.addNativeFontFace(ar);try{await ar.load(),br(this,Z1).add(nr),rr==null||rr(St)}catch{warn$1(`Cannot load system font: ${St.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ar)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(St){if(St.attached||St.missingFile&&!St.systemFontInfo)return;if(St.attached=!0,St.systemFontInfo){await this.loadSystemFont(St);return}if(this.isFontLoadingAPISupported){const rr=St.createNativeFontFace();if(rr){this.addNativeFontFace(rr);try{await rr.loaded}catch(nr){throw warn$1(`Failed to load font '${rr.family}': '${nr}'.`),St.disableFontFace=!0,nr}}return}const tr=St.createFontFaceRule();if(tr){if(this.insertRule(tr),this.isSyncFontLoadingSupported)return;await new Promise(rr=>{const nr=this._queueLoadingCallback(rr);this._prepareFontLoadEvent(St,nr)})}}get isFontLoadingAPISupported(){var tr;const St=!!((tr=this._document)!=null&&tr.fonts);return shadow(this,"isFontLoadingAPISupported",St)}get isSyncFontLoadingSupported(){return shadow(this,"isSyncFontLoadingSupported",isNodeJS||util_FeatureTest.platform.isFirefox)}_queueLoadingCallback(St){function tr(){for(assert(!nr.done,"completeRequest() cannot be called twice."),nr.done=!0;rr.length>0&&rr[0].done;){const sr=rr.shift();setTimeout(sr.callback,0)}}const{loadingRequests:rr}=this,nr={done:!1,complete:tr,callback:St};return rr.push(nr),nr}get _loadTestFont(){const St=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",St)}_prepareFontLoadEvent(St,tr){function rr(yr,Er){return yr.charCodeAt(Er)<<24|yr.charCodeAt(Er+1)<<16|yr.charCodeAt(Er+2)<<8|yr.charCodeAt(Er+3)&255}function nr(yr,Er,_r,Sr){const jr=yr.substring(0,Er),Pr=yr.substring(Er+_r);return jr+Sr+Pr}let sr,ir;const ar=this._document.createElement("canvas");ar.width=1,ar.height=1;const or=ar.getContext("2d");let lr=0;function cr(yr,Er){if(++lr>30){warn$1("Load test font never loaded."),Er();return}if(or.font="30px "+yr,or.fillText(".",0,20),or.getImageData(0,0,1,1).data[3]>0){Er();return}setTimeout(cr.bind(null,yr,Er))}const ur=`lt${Date.now()}${this.loadTestFontId++}`;let dr=this._loadTestFont;dr=nr(dr,976,ur.length,ur);const Ar=16,fr=1482184792;let mr=rr(dr,Ar);for(sr=0,ir=ur.length-3;sr<ir;sr+=4)mr=mr-fr+rr(ur,sr)|0;sr<ur.length&&(mr=mr-fr+rr(ur+"XXX",sr)|0),dr=nr(dr,Ar,4,string32(mr));const pr=`url(data:font/opentype;base64,${btoa(dr)});`,gr=`@font-face {font-family:"${ur}";src:${pr}}`;this.insertRule(gr);const xr=this._document.createElement("div");xr.style.visibility="hidden",xr.style.width=xr.style.height="10px",xr.style.position="absolute",xr.style.top=xr.style.left="0px";for(const yr of[St.loadedName,ur]){const Er=this._document.createElement("span");Er.textContent="Hi",Er.style.fontFamily=yr,xr.append(Er)}this._document.body.append(xr),cr(ur,()=>{xr.remove(),tr.complete()})}}Z1=new WeakMap;class FontFaceObject{constructor(St,tr=null){this.compiledGlyphs=Object.create(null);for(const rr in St)this[rr]=St[rr];this._inspectFont=tr}createNativeFontFace(){var tr;if(!this.data||this.disableFontFace)return null;let St;if(!this.cssFontInfo)St=new FontFace(this.loadedName,this.data,{});else{const rr={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(rr.style=`oblique ${this.cssFontInfo.italicAngle}deg`),St=new FontFace(this.cssFontInfo.fontFamily,this.data,rr)}return(tr=this._inspectFont)==null||tr.call(this,this),St}createFontFaceRule(){var rr;if(!this.data||this.disableFontFace)return null;const St=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let tr;if(!this.cssFontInfo)tr=`@font-face {font-family:"${this.loadedName}";src:${St}}`;else{let nr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(nr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),tr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${nr}src:${St}}`}return(rr=this._inspectFont)==null||rr.call(this,this,St),tr}getPathGenerator(St,tr){if(this.compiledGlyphs[tr]!==void 0)return this.compiledGlyphs[tr];const rr=this.loadedName+"_path_"+tr;let nr;try{nr=St.get(rr)}catch(ir){warn$1(`getPathGenerator - ignoring character: "${ir}".`)}const sr=new Path2D(nr||"");return this.fontExtraProperties||St.delete(rr),this.compiledGlyphs[tr]=sr}}function getUrlProp(er){if(er instanceof URL)return er.href;if(typeof er=="string"){if(isNodeJS)return er;const St=URL.parse(er,window.location);if(St)return St.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(er){if(isNodeJS&&typeof Buffer<"u"&&er instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(er instanceof Uint8Array&&er.byteLength===er.buffer.byteLength)return er;if(typeof er=="string")return stringToBytes(er);if(er instanceof ArrayBuffer||ArrayBuffer.isView(er)||typeof er=="object"&&!isNaN(er==null?void 0:er.length))return new Uint8Array(er);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function getFactoryUrlProp(er){if(typeof er!="string")return null;if(er.endsWith("/"))return er;throw new Error(`Invalid factory url: "${er}" must include trailing slash.`)}const isRefProxy=er=>typeof er=="object"&&Number.isInteger(er==null?void 0:er.num)&&er.num>=0&&Number.isInteger(er==null?void 0:er.gen)&&er.gen>=0,isNameProxy=er=>typeof er=="object"&&typeof(er==null?void 0:er.name)=="string",isValidExplicitDest=_isValidExplicitDest.bind(null,isRefProxy,isNameProxy);var Ex,j2;class LoopbackPort{constructor(){sn(this,Ex,new Map);sn(this,j2,Promise.resolve())}postMessage(St,tr){const rr={data:structuredClone(St,tr?{transfer:tr}:null)};br(this,j2).then(()=>{for(const[nr]of br(this,Ex))nr.call(this,rr)})}addEventListener(St,tr,rr=null){let nr=null;if((rr==null?void 0:rr.signal)instanceof AbortSignal){const{signal:sr}=rr;if(sr.aborted){warn$1("LoopbackPort - cannot use an `aborted` signal.");return}const ir=()=>this.removeEventListener(St,tr);nr=()=>sr.removeEventListener("abort",ir),sr.addEventListener("abort",ir)}br(this,Ex).set(tr,nr)}removeEventListener(St,tr){const rr=br(this,Ex).get(tr);rr==null||rr(),br(this,Ex).delete(tr)}terminate(){for(const[,St]of br(this,Ex))St==null||St();br(this,Ex).clear()}}Ex=new WeakMap,j2=new WeakMap;const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(er){if(er instanceof AbortException||er instanceof InvalidPDFException||er instanceof PasswordException||er instanceof ResponseException||er instanceof UnknownErrorException)return er;switch(er instanceof Error||typeof er=="object"&&er!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),er.name){case"AbortException":return new AbortException(er.message);case"InvalidPDFException":return new InvalidPDFException(er.message);case"PasswordException":return new PasswordException(er.message,er.code);case"ResponseException":return new ResponseException(er.message,er.status,er.missing);case"UnknownErrorException":return new UnknownErrorException(er.message,er.details)}return new UnknownErrorException(er.message,er.toString())}var eE,Tp,_P,jP,RP,XS;class MessageHandler{constructor(St,tr,rr){sn(this,Tp);sn(this,eE,new AbortController);this.sourceName=St,this.targetName=tr,this.comObj=rr,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),rr.addEventListener("message",an(this,Tp,_P).bind(this),{signal:br(this,eE).signal})}on(St,tr){const rr=this.actionHandler;if(rr[St])throw new Error(`There is already an actionName called "${St}"`);rr[St]=tr}send(St,tr,rr){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:St,data:tr},rr)}sendWithPromise(St,tr,rr){const nr=this.callbackId++,sr=Promise.withResolvers();this.callbackCapabilities[nr]=sr;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:St,callbackId:nr,data:tr},rr)}catch(ir){sr.reject(ir)}return sr.promise}sendWithStream(St,tr,rr,nr){const sr=this.streamId++,ir=this.sourceName,ar=this.targetName,or=this.comObj;return new ReadableStream({start:lr=>{const cr=Promise.withResolvers();return this.streamControllers[sr]={controller:lr,startCall:cr,pullCall:null,cancelCall:null,isClosed:!1},or.postMessage({sourceName:ir,targetName:ar,action:St,streamId:sr,data:tr,desiredSize:lr.desiredSize},nr),cr.promise},pull:lr=>{const cr=Promise.withResolvers();return this.streamControllers[sr].pullCall=cr,or.postMessage({sourceName:ir,targetName:ar,stream:StreamKind.PULL,streamId:sr,desiredSize:lr.desiredSize}),cr.promise},cancel:lr=>{assert(lr instanceof Error,"cancel must have a valid reason");const cr=Promise.withResolvers();return this.streamControllers[sr].cancelCall=cr,this.streamControllers[sr].isClosed=!0,or.postMessage({sourceName:ir,targetName:ar,stream:StreamKind.CANCEL,streamId:sr,reason:wrapReason(lr)}),cr.promise}},rr)}destroy(){var St;(St=br(this,eE))==null||St.abort(),Jr(this,eE,null)}}eE=new WeakMap,Tp=new WeakSet,_P=function({data:St}){if(St.targetName!==this.sourceName)return;if(St.stream){an(this,Tp,RP).call(this,St);return}if(St.callback){const rr=St.callbackId,nr=this.callbackCapabilities[rr];if(!nr)throw new Error(`Cannot resolve callback ${rr}`);if(delete this.callbackCapabilities[rr],St.callback===CallbackKind.DATA)nr.resolve(St.data);else if(St.callback===CallbackKind.ERROR)nr.reject(wrapReason(St.reason));else throw new Error("Unexpected callback case");return}const tr=this.actionHandler[St.action];if(!tr)throw new Error(`Unknown action from worker: ${St.action}`);if(St.callbackId){const rr=this.sourceName,nr=St.sourceName,sr=this.comObj;Promise.try(tr,St.data).then(function(ir){sr.postMessage({sourceName:rr,targetName:nr,callback:CallbackKind.DATA,callbackId:St.callbackId,data:ir})},function(ir){sr.postMessage({sourceName:rr,targetName:nr,callback:CallbackKind.ERROR,callbackId:St.callbackId,reason:wrapReason(ir)})});return}if(St.streamId){an(this,Tp,jP).call(this,St);return}tr(St.data)},jP=function(St){const tr=St.streamId,rr=this.sourceName,nr=St.sourceName,sr=this.comObj,ir=this,ar=this.actionHandler[St.action],or={enqueue(lr,cr=1,ur){if(this.isCancelled)return;const dr=this.desiredSize;this.desiredSize-=cr,dr>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.ENQUEUE,streamId:tr,chunk:lr},ur)},close(){this.isCancelled||(this.isCancelled=!0,sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.CLOSE,streamId:tr}),delete ir.streamSinks[tr])},error(lr){assert(lr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.ERROR,streamId:tr,reason:wrapReason(lr)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:St.desiredSize,ready:null};or.sinkCapability.resolve(),or.ready=or.sinkCapability.promise,this.streamSinks[tr]=or,Promise.try(ar,St.data,or).then(function(){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.START_COMPLETE,streamId:tr,success:!0})},function(lr){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.START_COMPLETE,streamId:tr,reason:wrapReason(lr)})})},RP=function(St){const tr=St.streamId,rr=this.sourceName,nr=St.sourceName,sr=this.comObj,ir=this.streamControllers[tr],ar=this.streamSinks[tr];switch(St.stream){case StreamKind.START_COMPLETE:St.success?ir.startCall.resolve():ir.startCall.reject(wrapReason(St.reason));break;case StreamKind.PULL_COMPLETE:St.success?ir.pullCall.resolve():ir.pullCall.reject(wrapReason(St.reason));break;case StreamKind.PULL:if(!ar){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.PULL_COMPLETE,streamId:tr,success:!0});break}ar.desiredSize<=0&&St.desiredSize>0&&ar.sinkCapability.resolve(),ar.desiredSize=St.desiredSize,Promise.try(ar.onPull||onFn).then(function(){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.PULL_COMPLETE,streamId:tr,success:!0})},function(lr){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.PULL_COMPLETE,streamId:tr,reason:wrapReason(lr)})});break;case StreamKind.ENQUEUE:if(assert(ir,"enqueue should have stream controller"),ir.isClosed)break;ir.controller.enqueue(St.chunk);break;case StreamKind.CLOSE:if(assert(ir,"close should have stream controller"),ir.isClosed)break;ir.isClosed=!0,ir.controller.close(),an(this,Tp,XS).call(this,ir,tr);break;case StreamKind.ERROR:assert(ir,"error should have stream controller"),ir.controller.error(wrapReason(St.reason)),an(this,Tp,XS).call(this,ir,tr);break;case StreamKind.CANCEL_COMPLETE:St.success?ir.cancelCall.resolve():ir.cancelCall.reject(wrapReason(St.reason)),an(this,Tp,XS).call(this,ir,tr);break;case StreamKind.CANCEL:if(!ar)break;const or=wrapReason(St.reason);Promise.try(ar.onCancel||onFn,or).then(function(){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.CANCEL_COMPLETE,streamId:tr,success:!0})},function(lr){sr.postMessage({sourceName:rr,targetName:nr,stream:StreamKind.CANCEL_COMPLETE,streamId:tr,reason:wrapReason(lr)})}),ar.sinkCapability.reject(or),ar.isCancelled=!0,delete this.streamSinks[tr];break;default:throw new Error("Unexpected stream case")}},XS=async function(St,tr){var rr,nr,sr;await Promise.allSettled([(rr=St.startCall)==null?void 0:rr.promise,(nr=St.pullCall)==null?void 0:nr.promise,(sr=St.cancelCall)==null?void 0:sr.promise]),delete this.streamControllers[tr]};var t_;class BaseCanvasFactory{constructor({enableHWA:St=!1}){sn(this,t_,!1);Jr(this,t_,St)}create(St,tr){if(St<=0||tr<=0)throw new Error("Invalid canvas size");const rr=this._createCanvas(St,tr);return{canvas:rr,context:rr.getContext("2d",{willReadFrequently:!br(this,t_)})}}reset(St,tr,rr){if(!St.canvas)throw new Error("Canvas is not specified");if(tr<=0||rr<=0)throw new Error("Invalid canvas size");St.canvas.width=tr,St.canvas.height=rr}destroy(St){if(!St.canvas)throw new Error("Canvas is not specified");St.canvas.width=0,St.canvas.height=0,St.canvas=null,St.context=null}_createCanvas(St,tr){unreachable("Abstract method `_createCanvas` called.")}}t_=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:St=globalThis.document,enableHWA:tr=!1}){super({enableHWA:tr}),this._document=St}_createCanvas(St,tr){const rr=this._document.createElement("canvas");return rr.width=St,rr.height=tr,rr}}class BaseCMapReaderFactory{constructor({baseUrl:St=null,isCompressed:tr=!0}){this.baseUrl=St,this.isCompressed=tr}async fetch({name:St}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!St)throw new Error("CMap name must be specified.");const tr=this.baseUrl+St+(this.isCompressed?".bcmap":"");return this._fetch(tr).then(rr=>({cMapData:rr,isCompressed:this.isCompressed})).catch(rr=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${tr}`)})}async _fetch(St){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(St){const tr=await fetchData(St,this.isCompressed?"arraybuffer":"text");return tr instanceof ArrayBuffer?new Uint8Array(tr):stringToBytes(tr)}}class BaseFilterFactory{addFilter(St){return"none"}addHCMFilter(St,tr){return"none"}addAlphaFilter(St){return"none"}addLuminosityFilter(St){return"none"}addHighlightHCMFilter(St,tr,rr,nr,sr){return"none"}destroy(St=!1){}}var dy,tE,wx,bx,Gu,hy,fy,Is,Qu,pw,N1,JS,B1,TP,GC,I1,mw,gw,KC,xw;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:tr,ownerDocument:rr=globalThis.document}){super();sn(this,Is);sn(this,dy);sn(this,tE);sn(this,wx);sn(this,bx);sn(this,Gu);sn(this,hy);sn(this,fy,0);Jr(this,bx,tr),Jr(this,Gu,rr)}addFilter(tr){if(!tr)return"none";let rr=br(this,Is,Qu).get(tr);if(rr)return rr;const[nr,sr,ir]=an(this,Is,JS).call(this,tr),ar=tr.length===1?nr:`${nr}${sr}${ir}`;if(rr=br(this,Is,Qu).get(ar),rr)return br(this,Is,Qu).set(tr,rr),rr;const or=`g_${br(this,bx)}_transfer_map_${_f(this,fy)._++}`,lr=an(this,Is,B1).call(this,or);br(this,Is,Qu).set(tr,lr),br(this,Is,Qu).set(ar,lr);const cr=an(this,Is,I1).call(this,or);return an(this,Is,gw).call(this,nr,sr,ir,cr),lr}addHCMFilter(tr,rr){var Ar;const nr=`${tr}-${rr}`,sr="base";let ir=br(this,Is,pw).get(sr);if((ir==null?void 0:ir.key)===nr||(ir?((Ar=ir.filter)==null||Ar.remove(),ir.key=nr,ir.url="none",ir.filter=null):(ir={key:nr,url:"none",filter:null},br(this,Is,pw).set(sr,ir)),!tr||!rr))return ir.url;const ar=an(this,Is,xw).call(this,tr);tr=Util.makeHexColor(...ar);const or=an(this,Is,xw).call(this,rr);if(rr=Util.makeHexColor(...or),br(this,Is,N1).style.color="",tr==="#000000"&&rr==="#ffffff"||tr===rr)return ir.url;const lr=new Array(256);for(let fr=0;fr<=255;fr++){const mr=fr/255;lr[fr]=mr<=.03928?mr/12.92:((mr+.055)/1.055)**2.4}const cr=lr.join(","),ur=`g_${br(this,bx)}_hcm_filter`,dr=ir.filter=an(this,Is,I1).call(this,ur);an(this,Is,gw).call(this,cr,cr,cr,dr),an(this,Is,GC).call(this,dr);const hr=(fr,mr)=>{const pr=ar[fr]/255,gr=or[fr]/255,xr=new Array(mr+1);for(let yr=0;yr<=mr;yr++)xr[yr]=pr+yr/mr*(gr-pr);return xr.join(",")};return an(this,Is,gw).call(this,hr(0,5),hr(1,5),hr(2,5),dr),ir.url=an(this,Is,B1).call(this,ur),ir.url}addAlphaFilter(tr){let rr=br(this,Is,Qu).get(tr);if(rr)return rr;const[nr]=an(this,Is,JS).call(this,[tr]),sr=`alpha_${nr}`;if(rr=br(this,Is,Qu).get(sr),rr)return br(this,Is,Qu).set(tr,rr),rr;const ir=`g_${br(this,bx)}_alpha_map_${_f(this,fy)._++}`,ar=an(this,Is,B1).call(this,ir);br(this,Is,Qu).set(tr,ar),br(this,Is,Qu).set(sr,ar);const or=an(this,Is,I1).call(this,ir);return an(this,Is,KC).call(this,nr,or),ar}addLuminosityFilter(tr){let rr=br(this,Is,Qu).get(tr||"luminosity");if(rr)return rr;let nr,sr;if(tr?([nr]=an(this,Is,JS).call(this,[tr]),sr=`luminosity_${nr}`):sr="luminosity",rr=br(this,Is,Qu).get(sr),rr)return br(this,Is,Qu).set(tr,rr),rr;const ir=`g_${br(this,bx)}_luminosity_map_${_f(this,fy)._++}`,ar=an(this,Is,B1).call(this,ir);br(this,Is,Qu).set(tr,ar),br(this,Is,Qu).set(sr,ar);const or=an(this,Is,I1).call(this,ir);return an(this,Is,TP).call(this,or),tr&&an(this,Is,KC).call(this,nr,or),ar}addHighlightHCMFilter(tr,rr,nr,sr,ir){var gr;const ar=`${rr}-${nr}-${sr}-${ir}`;let or=br(this,Is,pw).get(tr);if((or==null?void 0:or.key)===ar||(or?((gr=or.filter)==null||gr.remove(),or.key=ar,or.url="none",or.filter=null):(or={key:ar,url:"none",filter:null},br(this,Is,pw).set(tr,or)),!rr||!nr))return or.url;const[lr,cr]=[rr,nr].map(an(this,Is,xw).bind(this));let ur=Math.round(.2126*lr[0]+.7152*lr[1]+.0722*lr[2]),dr=Math.round(.2126*cr[0]+.7152*cr[1]+.0722*cr[2]),[hr,Ar]=[sr,ir].map(an(this,Is,xw).bind(this));dr<ur&&([ur,dr,hr,Ar]=[dr,ur,Ar,hr]),br(this,Is,N1).style.color="";const fr=(xr,yr,Er)=>{const _r=new Array(256),Sr=(dr-ur)/Er,jr=xr/255,Pr=(yr-xr)/(255*Er);let Mr=0;for(let Ir=0;Ir<=Er;Ir++){const Lr=Math.round(ur+Ir*Sr),Qr=jr+Ir*Pr;for(let Yr=Mr;Yr<=Lr;Yr++)_r[Yr]=Qr;Mr=Lr+1}for(let Ir=Mr;Ir<256;Ir++)_r[Ir]=_r[Mr-1];return _r.join(",")},mr=`g_${br(this,bx)}_hcm_${tr}_filter`,pr=or.filter=an(this,Is,I1).call(this,mr);return an(this,Is,GC).call(this,pr),an(this,Is,gw).call(this,fr(hr[0],Ar[0],5),fr(hr[1],Ar[1],5),fr(hr[2],Ar[2],5),pr),or.url=an(this,Is,B1).call(this,mr),or.url}destroy(tr=!1){var rr,nr,sr,ir;tr&&((rr=br(this,hy))!=null&&rr.size)||((nr=br(this,wx))==null||nr.parentNode.parentNode.remove(),Jr(this,wx,null),(sr=br(this,tE))==null||sr.clear(),Jr(this,tE,null),(ir=br(this,hy))==null||ir.clear(),Jr(this,hy,null),Jr(this,fy,0))}}dy=new WeakMap,tE=new WeakMap,wx=new WeakMap,bx=new WeakMap,Gu=new WeakMap,hy=new WeakMap,fy=new WeakMap,Is=new WeakSet,Qu=function(){return br(this,tE)||Jr(this,tE,new Map)},pw=function(){return br(this,hy)||Jr(this,hy,new Map)},N1=function(){if(!br(this,wx)){const tr=br(this,Gu).createElement("div"),{style:rr}=tr;rr.visibility="hidden",rr.contain="strict",rr.width=rr.height=0,rr.position="absolute",rr.top=rr.left=0,rr.zIndex=-1;const nr=br(this,Gu).createElementNS(SVG_NS,"svg");nr.setAttribute("width",0),nr.setAttribute("height",0),Jr(this,wx,br(this,Gu).createElementNS(SVG_NS,"defs")),tr.append(nr),nr.append(br(this,wx)),br(this,Gu).body.append(tr)}return br(this,wx)},JS=function(tr){if(tr.length===1){const lr=tr[0],cr=new Array(256);for(let dr=0;dr<256;dr++)cr[dr]=lr[dr]/255;const ur=cr.join(",");return[ur,ur,ur]}const[rr,nr,sr]=tr,ir=new Array(256),ar=new Array(256),or=new Array(256);for(let lr=0;lr<256;lr++)ir[lr]=rr[lr]/255,ar[lr]=nr[lr]/255,or[lr]=sr[lr]/255;return[ir.join(","),ar.join(","),or.join(",")]},B1=function(tr){if(br(this,dy)===void 0){Jr(this,dy,"");const rr=br(this,Gu).URL;rr!==br(this,Gu).baseURI&&(isDataScheme(rr)?warn$1('#createUrl: ignore "data:"-URL for performance reasons.'):Jr(this,dy,updateUrlHash(rr,"")))}return`url(${br(this,dy)}#${tr})`},TP=function(tr){const rr=br(this,Gu).createElementNS(SVG_NS,"feColorMatrix");rr.setAttribute("type","matrix"),rr.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),tr.append(rr)},GC=function(tr){const rr=br(this,Gu).createElementNS(SVG_NS,"feColorMatrix");rr.setAttribute("type","matrix"),rr.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),tr.append(rr)},I1=function(tr){const rr=br(this,Gu).createElementNS(SVG_NS,"filter");return rr.setAttribute("color-interpolation-filters","sRGB"),rr.setAttribute("id",tr),br(this,Is,N1).append(rr),rr},mw=function(tr,rr,nr){const sr=br(this,Gu).createElementNS(SVG_NS,rr);sr.setAttribute("type","discrete"),sr.setAttribute("tableValues",nr),tr.append(sr)},gw=function(tr,rr,nr,sr){const ir=br(this,Gu).createElementNS(SVG_NS,"feComponentTransfer");sr.append(ir),an(this,Is,mw).call(this,ir,"feFuncR",tr),an(this,Is,mw).call(this,ir,"feFuncG",rr),an(this,Is,mw).call(this,ir,"feFuncB",nr)},KC=function(tr,rr){const nr=br(this,Gu).createElementNS(SVG_NS,"feComponentTransfer");rr.append(nr),an(this,Is,mw).call(this,nr,"feFuncA",tr)},xw=function(tr){return br(this,Is,N1).style.color=tr,getRGB(getComputedStyle(br(this,Is,N1)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:St=null}){this.baseUrl=St}async fetch({filename:St}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!St)throw new Error("Font filename must be specified.");const tr=`${this.baseUrl}${St}`;return this._fetch(tr).catch(rr=>{throw new Error(`Unable to load font data at: ${tr}`)})}async _fetch(St){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(St){const tr=await fetchData(St,"arraybuffer");return new Uint8Array(tr)}}class BaseWasmFactory{constructor({baseUrl:St=null}){this.baseUrl=St}async fetch({filename:St}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!St)throw new Error("Wasm filename must be specified.");const tr=`${this.baseUrl}${St}`;return this._fetch(tr).catch(rr=>{throw new Error(`Unable to load wasm data at: ${tr}`)})}async _fetch(St){unreachable("Abstract method `_fetch` called.")}}class DOMWasmFactory extends BaseWasmFactory{async _fetch(St){const tr=await fetchData(St,"arraybuffer");return new Uint8Array(tr)}}isNodeJS&&warn$1("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(er){const tr=await process.getBuiltinModule("fs").promises.readFile(er);return new Uint8Array(tr)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(St,tr){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(St,tr)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(St){return node_utils_fetchData(St)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(St){return node_utils_fetchData(St)}}class NodeWasmFactory extends BaseWasmFactory{async _fetch(St){return node_utils_fetchData(St)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(er,St){if(!St)return;const tr=St[2]-St[0],rr=St[3]-St[1],nr=new Path2D;nr.rect(St[0],St[1],tr,rr),er.clip(nr)}class BaseShadingPattern{isModifyingCurrentTransform(){return!1}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(St){super(),this._type=St[1],this._bbox=St[2],this._colorStops=St[3],this._p0=St[4],this._p1=St[5],this._r0=St[6],this._r1=St[7],this.matrix=null}_createGradient(St){let tr;this._type==="axial"?tr=St.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(tr=St.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const rr of this._colorStops)tr.addColorStop(rr[0],rr[1]);return tr}getPattern(St,tr,rr,nr){let sr;if(nr===PathType.STROKE||nr===PathType.FILL){const ir=tr.current.getClippedPathBoundingBox(nr,getCurrentTransform(St))||[0,0,0,0],ar=Math.ceil(ir[2]-ir[0])||1,or=Math.ceil(ir[3]-ir[1])||1,lr=tr.cachedCanvases.getCanvas("pattern",ar,or),cr=lr.context;cr.clearRect(0,0,cr.canvas.width,cr.canvas.height),cr.beginPath(),cr.rect(0,0,cr.canvas.width,cr.canvas.height),cr.translate(-ir[0],-ir[1]),rr=Util.transform(rr,[1,0,0,1,ir[0],ir[1]]),cr.transform(...tr.baseTransform),this.matrix&&cr.transform(...this.matrix),applyBoundingBox(cr,this._bbox),cr.fillStyle=this._createGradient(cr),cr.fill(),sr=St.createPattern(lr.canvas,"no-repeat");const ur=new DOMMatrix(rr);sr.setTransform(ur)}else applyBoundingBox(St,this._bbox),sr=this._createGradient(St);return sr}}function drawTriangle(er,St,tr,rr,nr,sr,ir,ar){const or=St.coords,lr=St.colors,cr=er.data,ur=er.width*4;let dr;or[tr+1]>or[rr+1]&&(dr=tr,tr=rr,rr=dr,dr=sr,sr=ir,ir=dr),or[rr+1]>or[nr+1]&&(dr=rr,rr=nr,nr=dr,dr=ir,ir=ar,ar=dr),or[tr+1]>or[rr+1]&&(dr=tr,tr=rr,rr=dr,dr=sr,sr=ir,ir=dr);const hr=(or[tr]+St.offsetX)*St.scaleX,Ar=(or[tr+1]+St.offsetY)*St.scaleY,fr=(or[rr]+St.offsetX)*St.scaleX,mr=(or[rr+1]+St.offsetY)*St.scaleY,pr=(or[nr]+St.offsetX)*St.scaleX,gr=(or[nr+1]+St.offsetY)*St.scaleY;if(Ar>=gr)return;const xr=lr[sr],yr=lr[sr+1],Er=lr[sr+2],_r=lr[ir],Sr=lr[ir+1],jr=lr[ir+2],Pr=lr[ar],Mr=lr[ar+1],Ir=lr[ar+2],Lr=Math.round(Ar),Qr=Math.round(gr);let Yr,Gr,$r,Vr,Tr,Fr,Wr,qr;for(let Rr=Lr;Rr<=Qr;Rr++){if(Rr<mr){const nn=Rr<Ar?0:(Ar-Rr)/(Ar-mr);Yr=hr-(hr-fr)*nn,Gr=xr-(xr-_r)*nn,$r=yr-(yr-Sr)*nn,Vr=Er-(Er-jr)*nn}else{let nn;Rr>gr?nn=1:mr===gr?nn=0:nn=(mr-Rr)/(mr-gr),Yr=fr-(fr-pr)*nn,Gr=_r-(_r-Pr)*nn,$r=Sr-(Sr-Mr)*nn,Vr=jr-(jr-Ir)*nn}let Or;Rr<Ar?Or=0:Rr>gr?Or=1:Or=(Ar-Rr)/(Ar-gr),Tr=hr-(hr-pr)*Or,Fr=xr-(xr-Pr)*Or,Wr=yr-(yr-Mr)*Or,qr=Er-(Er-Ir)*Or;const Hr=Math.round(Math.min(Yr,Tr)),zr=Math.round(Math.max(Yr,Tr));let Zr=ur*Rr+Hr*4;for(let nn=Hr;nn<=zr;nn++)Or=(Yr-nn)/(Yr-Tr),Or<0?Or=0:Or>1&&(Or=1),cr[Zr++]=Gr-(Gr-Fr)*Or|0,cr[Zr++]=$r-($r-Wr)*Or|0,cr[Zr++]=Vr-(Vr-qr)*Or|0,cr[Zr++]=255}}function drawFigure(er,St,tr){const rr=St.coords,nr=St.colors;let sr,ir;switch(St.type){case"lattice":const ar=St.verticesPerRow,or=Math.floor(rr.length/ar)-1,lr=ar-1;for(sr=0;sr<or;sr++){let cr=sr*ar;for(let ur=0;ur<lr;ur++,cr++)drawTriangle(er,tr,rr[cr],rr[cr+1],rr[cr+ar],nr[cr],nr[cr+1],nr[cr+ar]),drawTriangle(er,tr,rr[cr+ar+1],rr[cr+1],rr[cr+ar],nr[cr+ar+1],nr[cr+1],nr[cr+ar])}break;case"triangles":for(sr=0,ir=rr.length;sr<ir;sr+=3)drawTriangle(er,tr,rr[sr],rr[sr+1],rr[sr+2],nr[sr],nr[sr+1],nr[sr+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(St){super(),this._coords=St[2],this._colors=St[3],this._figures=St[4],this._bounds=St[5],this._bbox=St[6],this._background=St[7],this.matrix=null}_createMeshCanvas(St,tr,rr){const ar=Math.floor(this._bounds[0]),or=Math.floor(this._bounds[1]),lr=Math.ceil(this._bounds[2])-ar,cr=Math.ceil(this._bounds[3])-or,ur=Math.min(Math.ceil(Math.abs(lr*St[0]*1.1)),3e3),dr=Math.min(Math.ceil(Math.abs(cr*St[1]*1.1)),3e3),hr=lr/ur,Ar=cr/dr,fr={coords:this._coords,colors:this._colors,offsetX:-ar,offsetY:-or,scaleX:1/hr,scaleY:1/Ar},mr=ur+2*2,pr=dr+2*2,gr=rr.getCanvas("mesh",mr,pr),xr=gr.context,yr=xr.createImageData(ur,dr);if(tr){const _r=yr.data;for(let Sr=0,jr=_r.length;Sr<jr;Sr+=4)_r[Sr]=tr[0],_r[Sr+1]=tr[1],_r[Sr+2]=tr[2],_r[Sr+3]=255}for(const _r of this._figures)drawFigure(yr,_r,fr);return xr.putImageData(yr,2,2),{canvas:gr.canvas,offsetX:ar-2*hr,offsetY:or-2*Ar,scaleX:hr,scaleY:Ar}}isModifyingCurrentTransform(){return!0}getPattern(St,tr,rr,nr){applyBoundingBox(St,this._bbox);const sr=new Float32Array(2);if(nr===PathType.SHADING)Util.singularValueDecompose2dScale(getCurrentTransform(St),sr);else if(this.matrix){Util.singularValueDecompose2dScale(this.matrix,sr);const[ar,or]=sr;Util.singularValueDecompose2dScale(tr.baseTransform,sr),sr[0]*=ar,sr[1]*=or}else Util.singularValueDecompose2dScale(tr.baseTransform,sr);const ir=this._createMeshCanvas(sr,nr===PathType.SHADING?null:this._background,tr.cachedCanvases);return nr!==PathType.SHADING&&(St.setTransform(...tr.baseTransform),this.matrix&&St.transform(...this.matrix)),St.translate(ir.offsetX,ir.offsetY),St.scale(ir.scaleX,ir.scaleY),St.createPattern(ir.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(er){switch(er[0]){case"RadialAxial":return new RadialAxialShadingPattern(er);case"Mesh":return new MeshShadingPattern(er);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${er[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},R2=class R2{constructor(St,tr,rr,nr){this.color=St[1],this.operatorList=St[2],this.matrix=St[3],this.bbox=St[4],this.xstep=St[5],this.ystep=St[6],this.paintType=St[7],this.tilingType=St[8],this.ctx=tr,this.canvasGraphicsFactory=rr,this.baseTransform=nr}createPatternCanvas(St){const{bbox:tr,operatorList:rr,paintType:nr,tilingType:sr,color:ir,canvasGraphicsFactory:ar}=this;let{xstep:or,ystep:lr}=this;or=Math.abs(or),lr=Math.abs(lr),info("TilingType: "+sr);const cr=tr[0],ur=tr[1],dr=tr[2],hr=tr[3],Ar=dr-cr,fr=hr-ur,mr=new Float32Array(2);Util.singularValueDecompose2dScale(this.matrix,mr);const[pr,gr]=mr;Util.singularValueDecompose2dScale(this.baseTransform,mr);const xr=pr*mr[0],yr=gr*mr[1];let Er=Ar,_r=fr,Sr=!1,jr=!1;const Pr=Math.ceil(or*xr),Mr=Math.ceil(lr*yr),Ir=Math.ceil(Ar*xr),Lr=Math.ceil(fr*yr);Pr>=Ir?Er=or:Sr=!0,Mr>=Lr?_r=lr:jr=!0;const Qr=this.getSizeAndScale(Er,this.ctx.canvas.width,xr),Yr=this.getSizeAndScale(_r,this.ctx.canvas.height,yr),Gr=St.cachedCanvases.getCanvas("pattern",Qr.size,Yr.size),$r=Gr.context,Vr=ar.createCanvasGraphics($r);if(Vr.groupLevel=St.groupLevel,this.setFillAndStrokeStyleToContext(Vr,nr,ir),$r.translate(-Qr.scale*cr,-Yr.scale*ur),Vr.transform(Qr.scale,0,0,Yr.scale,0,0),$r.save(),this.clipBbox(Vr,cr,ur,dr,hr),Vr.baseTransform=getCurrentTransform(Vr.ctx),Vr.executeOperatorList(rr),Vr.endDrawing(),$r.restore(),Sr||jr){const Tr=Gr.canvas;Sr&&(Er=or),jr&&(_r=lr);const Fr=this.getSizeAndScale(Er,this.ctx.canvas.width,xr),Wr=this.getSizeAndScale(_r,this.ctx.canvas.height,yr),qr=Fr.size,Rr=Wr.size,Or=St.cachedCanvases.getCanvas("pattern-workaround",qr,Rr),Hr=Or.context,zr=Sr?Math.floor(Ar/or):0,Zr=jr?Math.floor(fr/lr):0;for(let nn=0;nn<=zr;nn++)for(let vn=0;vn<=Zr;vn++)Hr.drawImage(Tr,qr*nn,Rr*vn,qr,Rr,0,0,qr,Rr);return{canvas:Or.canvas,scaleX:Fr.scale,scaleY:Wr.scale,offsetX:cr,offsetY:ur}}return{canvas:Gr.canvas,scaleX:Qr.scale,scaleY:Yr.scale,offsetX:cr,offsetY:ur}}getSizeAndScale(St,tr,rr){const nr=Math.max(R2.MAX_PATTERN_SIZE,tr);let sr=Math.ceil(St*rr);return sr>=nr?sr=nr:rr=sr/St,{scale:rr,size:sr}}clipBbox(St,tr,rr,nr,sr){const ir=nr-tr,ar=sr-rr;St.ctx.rect(tr,rr,ir,ar),Util.axialAlignedBoundingBox([tr,rr,nr,sr],getCurrentTransform(St.ctx),St.current.minMax),St.clip(),St.endPath()}setFillAndStrokeStyleToContext(St,tr,rr){const nr=St.ctx,sr=St.current;switch(tr){case PaintType.COLORED:const{fillStyle:ir,strokeStyle:ar}=this.ctx;nr.fillStyle=sr.fillColor=ir,nr.strokeStyle=sr.strokeColor=ar;break;case PaintType.UNCOLORED:nr.fillStyle=nr.strokeStyle=rr,sr.fillColor=sr.strokeColor=rr;break;default:throw new FormatError(`Unsupported paint type: ${tr}`)}}isModifyingCurrentTransform(){return!1}getPattern(St,tr,rr,nr){let sr=rr;nr!==PathType.SHADING&&(sr=Util.transform(sr,tr.baseTransform),this.matrix&&(sr=Util.transform(sr,this.matrix)));const ir=this.createPatternCanvas(tr);let ar=new DOMMatrix(sr);ar=ar.translate(ir.offsetX,ir.offsetY),ar=ar.scale(1/ir.scaleX,1/ir.scaleY);const or=St.createPattern(ir.canvas,"repeat");return or.setTransform(ar),or}};ps(R2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=R2;function convertBlackAndWhiteToRGBA({src:er,srcPos:St=0,dest:tr,width:rr,height:nr,nonBlackColor:sr=4294967295,inverseDecode:ir=!1}){const ar=util_FeatureTest.isLittleEndian?4278190080:255,[or,lr]=ir?[sr,ar]:[ar,sr],cr=rr>>3,ur=rr&7,dr=er.length;tr=new Uint32Array(tr.buffer);let hr=0;for(let Ar=0;Ar<nr;Ar++){for(const mr=St+cr;St<mr;St++){const pr=St<dr?er[St]:255;tr[hr++]=pr&128?lr:or,tr[hr++]=pr&64?lr:or,tr[hr++]=pr&32?lr:or,tr[hr++]=pr&16?lr:or,tr[hr++]=pr&8?lr:or,tr[hr++]=pr&4?lr:or,tr[hr++]=pr&2?lr:or,tr[hr++]=pr&1?lr:or}if(ur===0)continue;const fr=St<dr?er[St++]:255;for(let mr=0;mr<ur;mr++)tr[hr++]=fr&1<<7-mr?lr:or}return{srcPos:St,destPos:hr}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,FULL_CHUNK_HEIGHT=16,SCALE_MATRIX=new DOMMatrix,XY=new Float32Array(2),MIN_MAX_INIT=new Float32Array([1/0,1/0,-1/0,-1/0]);function mirrorContextOperations(er,St){if(er._removeMirroring)throw new Error("Context is already forwarding operations.");er.__originalSave=er.save,er.__originalRestore=er.restore,er.__originalRotate=er.rotate,er.__originalScale=er.scale,er.__originalTranslate=er.translate,er.__originalTransform=er.transform,er.__originalSetTransform=er.setTransform,er.__originalResetTransform=er.resetTransform,er.__originalClip=er.clip,er.__originalMoveTo=er.moveTo,er.__originalLineTo=er.lineTo,er.__originalBezierCurveTo=er.bezierCurveTo,er.__originalRect=er.rect,er.__originalClosePath=er.closePath,er.__originalBeginPath=er.beginPath,er._removeMirroring=()=>{er.save=er.__originalSave,er.restore=er.__originalRestore,er.rotate=er.__originalRotate,er.scale=er.__originalScale,er.translate=er.__originalTranslate,er.transform=er.__originalTransform,er.setTransform=er.__originalSetTransform,er.resetTransform=er.__originalResetTransform,er.clip=er.__originalClip,er.moveTo=er.__originalMoveTo,er.lineTo=er.__originalLineTo,er.bezierCurveTo=er.__originalBezierCurveTo,er.rect=er.__originalRect,er.closePath=er.__originalClosePath,er.beginPath=er.__originalBeginPath,delete er._removeMirroring},er.save=function(){St.save(),this.__originalSave()},er.restore=function(){St.restore(),this.__originalRestore()},er.translate=function(tr,rr){St.translate(tr,rr),this.__originalTranslate(tr,rr)},er.scale=function(tr,rr){St.scale(tr,rr),this.__originalScale(tr,rr)},er.transform=function(tr,rr,nr,sr,ir,ar){St.transform(tr,rr,nr,sr,ir,ar),this.__originalTransform(tr,rr,nr,sr,ir,ar)},er.setTransform=function(tr,rr,nr,sr,ir,ar){St.setTransform(tr,rr,nr,sr,ir,ar),this.__originalSetTransform(tr,rr,nr,sr,ir,ar)},er.resetTransform=function(){St.resetTransform(),this.__originalResetTransform()},er.rotate=function(tr){St.rotate(tr),this.__originalRotate(tr)},er.clip=function(tr){St.clip(tr),this.__originalClip(tr)},er.moveTo=function(tr,rr){St.moveTo(tr,rr),this.__originalMoveTo(tr,rr)},er.lineTo=function(tr,rr){St.lineTo(tr,rr),this.__originalLineTo(tr,rr)},er.bezierCurveTo=function(tr,rr,nr,sr,ir,ar){St.bezierCurveTo(tr,rr,nr,sr,ir,ar),this.__originalBezierCurveTo(tr,rr,nr,sr,ir,ar)},er.rect=function(tr,rr,nr,sr){St.rect(tr,rr,nr,sr),this.__originalRect(tr,rr,nr,sr)},er.closePath=function(){St.closePath(),this.__originalClosePath()},er.beginPath=function(){St.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(St){this.canvasFactory=St,this.cache=Object.create(null)}getCanvas(St,tr,rr){let nr;return this.cache[St]!==void 0?(nr=this.cache[St],this.canvasFactory.reset(nr,tr,rr)):(nr=this.canvasFactory.create(tr,rr),this.cache[St]=nr),nr}delete(St){delete this.cache[St]}clear(){for(const St in this.cache){const tr=this.cache[St];this.canvasFactory.destroy(tr),delete this.cache[St]}}}function drawImageAtIntegerCoords(er,St,tr,rr,nr,sr,ir,ar,or,lr){const[cr,ur,dr,hr,Ar,fr]=getCurrentTransform(er);if(ur===0&&dr===0){const gr=ir*cr+Ar,xr=Math.round(gr),yr=ar*hr+fr,Er=Math.round(yr),_r=(ir+or)*cr+Ar,Sr=Math.abs(Math.round(_r)-xr)||1,jr=(ar+lr)*hr+fr,Pr=Math.abs(Math.round(jr)-Er)||1;return er.setTransform(Math.sign(cr),0,0,Math.sign(hr),xr,Er),er.drawImage(St,tr,rr,nr,sr,0,0,Sr,Pr),er.setTransform(cr,ur,dr,hr,Ar,fr),[Sr,Pr]}if(cr===0&&hr===0){const gr=ar*dr+Ar,xr=Math.round(gr),yr=ir*ur+fr,Er=Math.round(yr),_r=(ar+lr)*dr+Ar,Sr=Math.abs(Math.round(_r)-xr)||1,jr=(ir+or)*ur+fr,Pr=Math.abs(Math.round(jr)-Er)||1;return er.setTransform(0,Math.sign(ur),Math.sign(dr),0,xr,Er),er.drawImage(St,tr,rr,nr,sr,0,0,Pr,Sr),er.setTransform(cr,ur,dr,hr,Ar,fr),[Pr,Sr]}er.drawImage(St,tr,rr,nr,sr,ir,ar,or,lr);const mr=Math.hypot(cr,ur),pr=Math.hypot(dr,hr);return[mr*or,pr*lr]}class CanvasExtraState{constructor(St,tr){ps(this,"alphaIsShape",!1);ps(this,"fontSize",0);ps(this,"fontSizeScale",1);ps(this,"textMatrix",null);ps(this,"textMatrixScale",1);ps(this,"fontMatrix",FONT_IDENTITY_MATRIX);ps(this,"leading",0);ps(this,"x",0);ps(this,"y",0);ps(this,"lineX",0);ps(this,"lineY",0);ps(this,"charSpacing",0);ps(this,"wordSpacing",0);ps(this,"textHScale",1);ps(this,"textRenderingMode",TextRenderingMode.FILL);ps(this,"textRise",0);ps(this,"fillColor","#000000");ps(this,"strokeColor","#000000");ps(this,"patternFill",!1);ps(this,"patternStroke",!1);ps(this,"fillAlpha",1);ps(this,"strokeAlpha",1);ps(this,"lineWidth",1);ps(this,"activeSMask",null);ps(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,St,tr]),this.minMax=MIN_MAX_INIT.slice()}clone(){const St=Object.create(this);return St.clipBox=this.clipBox.slice(),St.minMax=this.minMax.slice(),St}getPathBoundingBox(St=PathType.FILL,tr=null){const rr=this.minMax.slice();if(St===PathType.STROKE){tr||unreachable("Stroke bounding box must include transform."),Util.singularValueDecompose2dScale(tr,XY);const nr=XY[0]*this.lineWidth/2,sr=XY[1]*this.lineWidth/2;rr[0]-=nr,rr[1]-=sr,rr[2]+=nr,rr[3]+=sr}return rr}updateClipFromPath(){const St=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(St||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(St){this.clipBox.set(St,0),this.minMax.set(MIN_MAX_INIT,0)}getClippedPathBoundingBox(St=PathType.FILL,tr=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(St,tr))}}function putBinaryImageData(er,St){if(St instanceof ImageData){er.putImageData(St,0,0);return}const tr=St.height,rr=St.width,nr=tr%FULL_CHUNK_HEIGHT,sr=(tr-nr)/FULL_CHUNK_HEIGHT,ir=nr===0?sr:sr+1,ar=er.createImageData(rr,FULL_CHUNK_HEIGHT);let or=0,lr;const cr=St.data,ur=ar.data;let dr,hr,Ar,fr;if(St.kind===util_ImageKind.GRAYSCALE_1BPP){const mr=cr.byteLength,pr=new Uint32Array(ur.buffer,0,ur.byteLength>>2),gr=pr.length,xr=rr+7>>3,yr=4294967295,Er=util_FeatureTest.isLittleEndian?4278190080:255;for(dr=0;dr<ir;dr++){for(Ar=dr<sr?FULL_CHUNK_HEIGHT:nr,lr=0,hr=0;hr<Ar;hr++){const _r=mr-or;let Sr=0;const jr=_r>xr?rr:_r*8-7,Pr=jr&-8;let Mr=0,Ir=0;for(;Sr<Pr;Sr+=8)Ir=cr[or++],pr[lr++]=Ir&128?yr:Er,pr[lr++]=Ir&64?yr:Er,pr[lr++]=Ir&32?yr:Er,pr[lr++]=Ir&16?yr:Er,pr[lr++]=Ir&8?yr:Er,pr[lr++]=Ir&4?yr:Er,pr[lr++]=Ir&2?yr:Er,pr[lr++]=Ir&1?yr:Er;for(;Sr<jr;Sr++)Mr===0&&(Ir=cr[or++],Mr=128),pr[lr++]=Ir&Mr?yr:Er,Mr>>=1}for(;lr<gr;)pr[lr++]=0;er.putImageData(ar,0,dr*FULL_CHUNK_HEIGHT)}}else if(St.kind===util_ImageKind.RGBA_32BPP){for(hr=0,fr=rr*FULL_CHUNK_HEIGHT*4,dr=0;dr<sr;dr++)ur.set(cr.subarray(or,or+fr)),or+=fr,er.putImageData(ar,0,hr),hr+=FULL_CHUNK_HEIGHT;dr<ir&&(fr=rr*nr*4,ur.set(cr.subarray(or,or+fr)),er.putImageData(ar,0,hr))}else if(St.kind===util_ImageKind.RGB_24BPP)for(Ar=FULL_CHUNK_HEIGHT,fr=rr*Ar,dr=0;dr<ir;dr++){for(dr>=sr&&(Ar=nr,fr=rr*Ar),lr=0,hr=fr;hr--;)ur[lr++]=cr[or++],ur[lr++]=cr[or++],ur[lr++]=cr[or++],ur[lr++]=255;er.putImageData(ar,0,dr*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${St.kind}`)}function putBinaryImageMask(er,St){if(St.bitmap){er.drawImage(St.bitmap,0,0);return}const tr=St.height,rr=St.width,nr=tr%FULL_CHUNK_HEIGHT,sr=(tr-nr)/FULL_CHUNK_HEIGHT,ir=nr===0?sr:sr+1,ar=er.createImageData(rr,FULL_CHUNK_HEIGHT);let or=0;const lr=St.data,cr=ar.data;for(let ur=0;ur<ir;ur++){const dr=ur<sr?FULL_CHUNK_HEIGHT:nr;({srcPos:or}=convertBlackAndWhiteToRGBA({src:lr,srcPos:or,dest:cr,width:rr,height:dr,nonBlackColor:0})),er.putImageData(ar,0,ur*FULL_CHUNK_HEIGHT)}}function copyCtxState(er,St){const tr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const rr of tr)er[rr]!==void 0&&(St[rr]=er[rr]);er.setLineDash!==void 0&&(St.setLineDash(er.getLineDash()),St.lineDashOffset=er.lineDashOffset)}function resetCtxToDefault(er){er.strokeStyle=er.fillStyle="#000000",er.fillRule="nonzero",er.globalAlpha=1,er.lineWidth=1,er.lineCap="butt",er.lineJoin="miter",er.miterLimit=10,er.globalCompositeOperation="source-over",er.font="10px sans-serif",er.setLineDash!==void 0&&(er.setLineDash([]),er.lineDashOffset=0);const{filter:St}=er;St!=="none"&&St!==""&&(er.filter="none")}function getImageSmoothingEnabled(er,St){if(St)return!0;Util.singularValueDecompose2dScale(er,XY);const tr=Math.fround(OutputScale.pixelRatio*PixelsPerInch.PDF_TO_CSS_UNITS);return XY[0]<=tr&&XY[1]<=tr}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var am,zC,qC,YC;const RR=class RR{constructor(St,tr,rr,nr,sr,{optionalContentConfig:ir,markedContentStack:ar=null},or,lr){sn(this,am);this.ctx=St,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=tr,this.objs=rr,this.canvasFactory=nr,this.filterFactory=sr,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ar||[],this.optionalContentConfig=ir,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=or,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=lr,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(St,tr=null){return typeof St=="string"?St.startsWith("g_")?this.commonObjs.get(St):this.objs.get(St):tr}beginDrawing({transform:St,viewport:tr,transparency:rr=!1,background:nr=null}){const sr=this.ctx.canvas.width,ir=this.ctx.canvas.height,ar=this.ctx.fillStyle;if(this.ctx.fillStyle=nr||"#ffffff",this.ctx.fillRect(0,0,sr,ir),this.ctx.fillStyle=ar,rr){const or=this.cachedCanvases.getCanvas("transparent",sr,ir);this.compositeCtx=this.ctx,this.transparentCanvas=or.canvas,this.ctx=or.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),St&&(this.ctx.transform(...St),this.outputScaleX=St[0],this.outputScaleY=St[0]),this.ctx.transform(...tr.transform),this.viewportScale=tr.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(St,tr,rr,nr){const sr=St.argsArray,ir=St.fnArray;let ar=tr||0;const or=sr.length;if(or===ar)return ar;const lr=or-ar>EXECUTION_STEPS&&typeof rr=="function",cr=lr?Date.now()+EXECUTION_TIME:0;let ur=0;const dr=this.commonObjs,hr=this.objs;let Ar;for(;;){if(nr!==void 0&&ar===nr.nextBreakPoint)return nr.breakIt(ar,rr),ar;if(Ar=ir[ar],Ar!==OPS.dependency)this[Ar].apply(this,sr[ar]);else for(const fr of sr[ar]){const mr=fr.startsWith("g_")?dr:hr;if(!mr.has(fr))return mr.get(fr,rr),ar}if(ar++,ar===or)return ar;if(lr&&++ur>EXECUTION_STEPS){if(Date.now()>cr)return rr(),ar;ur=0}}}endDrawing(){an(this,am,zC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const St of this._cachedBitmapsMap.values()){for(const tr of St.values())typeof HTMLCanvasElement<"u"&&tr instanceof HTMLCanvasElement&&(tr.width=tr.height=0);St.clear()}this._cachedBitmapsMap.clear(),an(this,am,qC).call(this)}_scaleImage(St,tr){const rr=St.width??St.displayWidth,nr=St.height??St.displayHeight;let sr=Math.max(Math.hypot(tr[0],tr[1]),1),ir=Math.max(Math.hypot(tr[2],tr[3]),1),ar=rr,or=nr,lr="prescale1",cr,ur;for(;sr>2&&ar>1||ir>2&&or>1;){let dr=ar,hr=or;sr>2&&ar>1&&(dr=ar>=16384?Math.floor(ar/2)-1||1:Math.ceil(ar/2),sr/=ar/dr),ir>2&&or>1&&(hr=or>=16384?Math.floor(or/2)-1||1:Math.ceil(or)/2,ir/=or/hr),cr=this.cachedCanvases.getCanvas(lr,dr,hr),ur=cr.context,ur.clearRect(0,0,dr,hr),ur.drawImage(St,0,0,ar,or,0,0,dr,hr),St=cr.canvas,ar=dr,or=hr,lr=lr==="prescale1"?"prescale2":"prescale1"}return{img:St,paintWidth:ar,paintHeight:or}}_createMaskCanvas(St){const tr=this.ctx,{width:rr,height:nr}=St,sr=this.current.fillColor,ir=this.current.patternFill,ar=getCurrentTransform(tr);let or,lr,cr,ur;if((St.bitmap||St.data)&&St.count>1){const Pr=St.bitmap||St.data.buffer;lr=JSON.stringify(ir?ar:[ar.slice(0,4),sr]),or=this._cachedBitmapsMap.get(Pr),or||(or=new Map,this._cachedBitmapsMap.set(Pr,or));const Mr=or.get(lr);if(Mr&&!ir){const Ir=Math.round(Math.min(ar[0],ar[2])+ar[4]),Lr=Math.round(Math.min(ar[1],ar[3])+ar[5]);return{canvas:Mr,offsetX:Ir,offsetY:Lr}}cr=Mr}cr||(ur=this.cachedCanvases.getCanvas("maskCanvas",rr,nr),putBinaryImageMask(ur.context,St));let dr=Util.transform(ar,[1/rr,0,0,-1/nr,0,0]);dr=Util.transform(dr,[1,0,0,1,0,-nr]);const hr=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,rr,nr],dr,hr);const[Ar,fr,mr,pr]=hr,gr=Math.round(mr-Ar)||1,xr=Math.round(pr-fr)||1,yr=this.cachedCanvases.getCanvas("fillCanvas",gr,xr),Er=yr.context,_r=Ar,Sr=fr;Er.translate(-_r,-Sr),Er.transform(...dr),cr||(cr=this._scaleImage(ur.canvas,getCurrentTransformInverse(Er)),cr=cr.img,or&&ir&&or.set(lr,cr)),Er.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Er),St.interpolate),drawImageAtIntegerCoords(Er,cr,0,0,cr.width,cr.height,0,0,rr,nr),Er.globalCompositeOperation="source-in";const jr=Util.transform(getCurrentTransformInverse(Er),[1,0,0,1,-_r,-Sr]);return Er.fillStyle=ir?sr.getPattern(tr,this,jr,PathType.FILL):sr,Er.fillRect(0,0,rr,nr),or&&!ir&&(this.cachedCanvases.delete("fillCanvas"),or.set(lr,yr.canvas)),{canvas:yr.canvas,offsetX:Math.round(_r),offsetY:Math.round(Sr)}}setLineWidth(St){St!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=St,this.ctx.lineWidth=St}setLineCap(St){this.ctx.lineCap=LINE_CAP_STYLES[St]}setLineJoin(St){this.ctx.lineJoin=LINE_JOIN_STYLES[St]}setMiterLimit(St){this.ctx.miterLimit=St}setDash(St,tr){const rr=this.ctx;rr.setLineDash!==void 0&&(rr.setLineDash(St),rr.lineDashOffset=tr)}setRenderingIntent(St){}setFlatness(St){}setGState(St){for(const[tr,rr]of St)switch(tr){case"LW":this.setLineWidth(rr);break;case"LC":this.setLineCap(rr);break;case"LJ":this.setLineJoin(rr);break;case"ML":this.setMiterLimit(rr);break;case"D":this.setDash(rr[0],rr[1]);break;case"RI":this.setRenderingIntent(rr);break;case"FL":this.setFlatness(rr);break;case"Font":this.setFont(rr[0],rr[1]);break;case"CA":this.current.strokeAlpha=rr;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=rr;break;case"BM":this.ctx.globalCompositeOperation=rr;break;case"SMask":this.current.activeSMask=rr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(rr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const St=this.inSMaskMode;this.current.activeSMask&&!St?this.beginSMaskMode():!this.current.activeSMask&&St&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const St=this.ctx.canvas.width,tr=this.ctx.canvas.height,rr="smaskGroupAt"+this.groupLevel,nr=this.cachedCanvases.getCanvas(rr,St,tr);this.suspendedCtx=this.ctx;const sr=this.ctx=nr.context;sr.setTransform(this.suspendedCtx.getTransform()),copyCtxState(this.suspendedCtx,sr),mirrorContextOperations(sr,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(St){if(!this.current.activeSMask)return;St?(St[0]=Math.floor(St[0]),St[1]=Math.floor(St[1]),St[2]=Math.ceil(St[2]),St[3]=Math.ceil(St[3])):St=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const tr=this.current.activeSMask,rr=this.suspendedCtx;this.composeSMask(rr,tr,this.ctx,St),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(St,tr,rr,nr){const sr=nr[0],ir=nr[1],ar=nr[2]-sr,or=nr[3]-ir;ar===0||or===0||(this.genericComposeSMask(tr.context,rr,ar,or,tr.subtype,tr.backdrop,tr.transferMap,sr,ir,tr.offsetX,tr.offsetY),St.save(),St.globalAlpha=1,St.globalCompositeOperation="source-over",St.setTransform(1,0,0,1,0,0),St.drawImage(rr.canvas,0,0),St.restore())}genericComposeSMask(St,tr,rr,nr,sr,ir,ar,or,lr,cr,ur){let dr=St.canvas,hr=or-cr,Ar=lr-ur;if(ir)if(hr<0||Ar<0||hr+rr>dr.width||Ar+nr>dr.height){const mr=this.cachedCanvases.getCanvas("maskExtension",rr,nr),pr=mr.context;pr.drawImage(dr,-hr,-Ar),pr.globalCompositeOperation="destination-atop",pr.fillStyle=ir,pr.fillRect(0,0,rr,nr),pr.globalCompositeOperation="source-over",dr=mr.canvas,hr=Ar=0}else{St.save(),St.globalAlpha=1,St.setTransform(1,0,0,1,0,0);const mr=new Path2D;mr.rect(hr,Ar,rr,nr),St.clip(mr),St.globalCompositeOperation="destination-atop",St.fillStyle=ir,St.fillRect(hr,Ar,rr,nr),St.restore()}tr.save(),tr.globalAlpha=1,tr.setTransform(1,0,0,1,0,0),sr==="Alpha"&&ar?tr.filter=this.filterFactory.addAlphaFilter(ar):sr==="Luminosity"&&(tr.filter=this.filterFactory.addLuminosityFilter(ar));const fr=new Path2D;fr.rect(or,lr,rr,nr),tr.clip(fr),tr.globalCompositeOperation="destination-in",tr.drawImage(dr,hr,Ar,rr,nr,or,lr,rr,nr),tr.restore()}save(){this.inSMaskMode&&copyCtxState(this.ctx,this.suspendedCtx),this.ctx.save();const St=this.current;this.stateStack.push(St),this.current=St.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&copyCtxState(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(St,tr,rr,nr,sr,ir){this.ctx.transform(St,tr,rr,nr,sr,ir),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(St,tr,rr){let[nr]=tr;if(!rr){nr||(nr=tr[0]=new Path2D),this[St](nr);return}if(!(nr instanceof Path2D)){const sr=tr[0]=new Path2D;for(let ir=0,ar=nr.length;ir<ar;)switch(nr[ir++]){case DrawOPS.moveTo:sr.moveTo(nr[ir++],nr[ir++]);break;case DrawOPS.lineTo:sr.lineTo(nr[ir++],nr[ir++]);break;case DrawOPS.curveTo:sr.bezierCurveTo(nr[ir++],nr[ir++],nr[ir++],nr[ir++],nr[ir++],nr[ir++]);break;case DrawOPS.closePath:sr.closePath();break;default:warn$1(`Unrecognized drawing path operator: ${nr[ir-1]}`);break}nr=sr}Util.axialAlignedBoundingBox(rr,getCurrentTransform(this.ctx),this.current.minMax),this[St](nr)}closePath(){this.ctx.closePath()}stroke(St,tr=!0){const rr=this.ctx,nr=this.current.strokeColor;if(rr.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof nr=="object"&&(nr!=null&&nr.getPattern)){const sr=nr.isModifyingCurrentTransform()?rr.getTransform():null;if(rr.save(),rr.strokeStyle=nr.getPattern(rr,this,getCurrentTransformInverse(rr),PathType.STROKE),sr){const ir=new Path2D;ir.addPath(St,rr.getTransform().invertSelf().multiplySelf(sr)),St=ir}this.rescaleAndStroke(St,!1),rr.restore()}else this.rescaleAndStroke(St,!0);tr&&this.consumePath(St,this.current.getClippedPathBoundingBox(PathType.STROKE,getCurrentTransform(this.ctx))),rr.globalAlpha=this.current.fillAlpha}closeStroke(St){this.stroke(St)}fill(St,tr=!0){const rr=this.ctx,nr=this.current.fillColor,sr=this.current.patternFill;let ir=!1;if(sr){const or=nr.isModifyingCurrentTransform()?rr.getTransform():null;if(rr.save(),rr.fillStyle=nr.getPattern(rr,this,getCurrentTransformInverse(rr),PathType.FILL),or){const lr=new Path2D;lr.addPath(St,rr.getTransform().invertSelf().multiplySelf(or)),St=lr}ir=!0}const ar=this.current.getClippedPathBoundingBox();this.contentVisible&&ar!==null&&(this.pendingEOFill?(rr.fill(St,"evenodd"),this.pendingEOFill=!1):rr.fill(St)),ir&&rr.restore(),tr&&this.consumePath(St,ar)}eoFill(St){this.pendingEOFill=!0,this.fill(St)}fillStroke(St){this.fill(St,!1),this.stroke(St,!1),this.consumePath(St)}eoFillStroke(St){this.pendingEOFill=!0,this.fillStroke(St)}closeFillStroke(St){this.fillStroke(St)}closeEOFillStroke(St){this.pendingEOFill=!0,this.fillStroke(St)}endPath(St){this.consumePath(St)}rawFillPath(St){this.ctx.fill(St)}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const St=this.pendingTextPaths,tr=this.ctx;if(St===void 0)return;const rr=new Path2D,nr=tr.getTransform().invertSelf();for(const{transform:sr,x:ir,y:ar,fontSize:or,path:lr}of St)rr.addPath(lr,new DOMMatrix(sr).preMultiplySelf(nr).translate(ir,ar).scale(or,-or));tr.clip(rr),delete this.pendingTextPaths}setCharSpacing(St){this.current.charSpacing=St}setWordSpacing(St){this.current.wordSpacing=St}setHScale(St){this.current.textHScale=St/100}setLeading(St){this.current.leading=-St}setFont(St,tr){var cr;const rr=this.commonObjs.get(St),nr=this.current;if(!rr)throw new Error(`Can't find font for ${St}`);if(nr.fontMatrix=rr.fontMatrix||FONT_IDENTITY_MATRIX,(nr.fontMatrix[0]===0||nr.fontMatrix[3]===0)&&warn$1("Invalid font matrix for font "+St),tr<0?(tr=-tr,nr.fontDirection=-1):nr.fontDirection=1,this.current.font=rr,this.current.fontSize=tr,rr.isType3Font)return;const sr=rr.loadedName||"sans-serif",ir=((cr=rr.systemFontInfo)==null?void 0:cr.css)||`"${sr}", ${rr.fallbackName}`;let ar="normal";rr.black?ar="900":rr.bold&&(ar="bold");const or=rr.italic?"italic":"normal";let lr=tr;tr<MIN_FONT_SIZE?lr=MIN_FONT_SIZE:tr>MAX_FONT_SIZE&&(lr=MAX_FONT_SIZE),this.current.fontSizeScale=tr/lr,this.ctx.font=`${or} ${ar} ${lr}px ${ir}`}setTextRenderingMode(St){this.current.textRenderingMode=St}setTextRise(St){this.current.textRise=St}moveText(St,tr){this.current.x=this.current.lineX+=St,this.current.y=this.current.lineY+=tr}setLeadingMoveText(St,tr){this.setLeading(-tr),this.moveText(St,tr)}setTextMatrix(St){const{current:tr}=this;tr.textMatrix=St,tr.textMatrixScale=Math.hypot(St[0],St[1]),tr.x=tr.lineX=0,tr.y=tr.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(St,tr,rr,nr,sr){const ir=this.ctx,ar=this.current,or=ar.font,lr=ar.textRenderingMode,cr=ar.fontSize/ar.fontSizeScale,ur=lr&TextRenderingMode.FILL_STROKE_MASK,dr=!!(lr&TextRenderingMode.ADD_TO_PATH_FLAG),hr=ar.patternFill&&!or.missingFile,Ar=ar.patternStroke&&!or.missingFile;let fr;if((or.disableFontFace||dr||hr||Ar)&&(fr=or.getPathGenerator(this.commonObjs,St)),or.disableFontFace||hr||Ar){ir.save(),ir.translate(tr,rr),ir.scale(cr,-cr);let mr;if((ur===TextRenderingMode.FILL||ur===TextRenderingMode.FILL_STROKE)&&(nr?(mr=ir.getTransform(),ir.setTransform(...nr),ir.fill(an(this,am,YC).call(this,fr,mr,nr))):ir.fill(fr)),ur===TextRenderingMode.STROKE||ur===TextRenderingMode.FILL_STROKE)if(sr){mr||(mr=ir.getTransform()),ir.setTransform(...sr);const{a:pr,b:gr,c:xr,d:yr}=mr,Er=Util.inverseTransform(sr),_r=Util.transform([pr,gr,xr,yr,0,0],Er);Util.singularValueDecompose2dScale(_r,XY),ir.lineWidth*=Math.max(XY[0],XY[1])/cr,ir.stroke(an(this,am,YC).call(this,fr,mr,sr))}else ir.lineWidth/=cr,ir.stroke(fr);ir.restore()}else(ur===TextRenderingMode.FILL||ur===TextRenderingMode.FILL_STROKE)&&ir.fillText(St,tr,rr),(ur===TextRenderingMode.STROKE||ur===TextRenderingMode.FILL_STROKE)&&ir.strokeText(St,tr,rr);dr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(ir),x:tr,y:rr,fontSize:cr,path:fr})}get isFontSubpixelAAEnabled(){const{context:St}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);St.scale(1.5,1),St.fillText("I",0,10);const tr=St.getImageData(0,0,10,10).data;let rr=!1;for(let nr=3;nr<tr.length;nr+=4)if(tr[nr]>0&&tr[nr]<255){rr=!0;break}return shadow(this,"isFontSubpixelAAEnabled",rr)}showText(St){const tr=this.current,rr=tr.font;if(rr.isType3Font)return this.showType3Text(St);const nr=tr.fontSize;if(nr===0)return;const sr=this.ctx,ir=tr.fontSizeScale,ar=tr.charSpacing,or=tr.wordSpacing,lr=tr.fontDirection,cr=tr.textHScale*lr,ur=St.length,dr=rr.vertical,hr=dr?1:-1,Ar=rr.defaultVMetrics,fr=nr*tr.fontMatrix[0],mr=tr.textRenderingMode===TextRenderingMode.FILL&&!rr.disableFontFace&&!tr.patternFill;sr.save(),tr.textMatrix&&sr.transform(...tr.textMatrix),sr.translate(tr.x,tr.y+tr.textRise),lr>0?sr.scale(cr,-1):sr.scale(cr,1);let pr,gr;if(tr.patternFill){sr.save();const Sr=tr.fillColor.getPattern(sr,this,getCurrentTransformInverse(sr),PathType.FILL);pr=getCurrentTransform(sr),sr.restore(),sr.fillStyle=Sr}if(tr.patternStroke){sr.save();const Sr=tr.strokeColor.getPattern(sr,this,getCurrentTransformInverse(sr),PathType.STROKE);gr=getCurrentTransform(sr),sr.restore(),sr.strokeStyle=Sr}let xr=tr.lineWidth;const yr=tr.textMatrixScale;if(yr===0||xr===0){const Sr=tr.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Sr===TextRenderingMode.STROKE||Sr===TextRenderingMode.FILL_STROKE)&&(xr=this.getSinglePixelWidth())}else xr/=yr;if(ir!==1&&(sr.scale(ir,ir),xr/=ir),sr.lineWidth=xr,rr.isInvalidPDFjsFont){const Sr=[];let jr=0;for(const Pr of St)Sr.push(Pr.unicode),jr+=Pr.width;sr.fillText(Sr.join(""),0,0),tr.x+=jr*fr*cr,sr.restore(),this.compose();return}let Er=0,_r;for(_r=0;_r<ur;++_r){const Sr=St[_r];if(typeof Sr=="number"){Er+=hr*Sr*nr/1e3;continue}let jr=!1;const Pr=(Sr.isSpace?or:0)+ar,Mr=Sr.fontChar,Ir=Sr.accent;let Lr,Qr,Yr=Sr.width;if(dr){const $r=Sr.vmetric||Ar,Vr=-(Sr.vmetric?$r[1]:Yr*.5)*fr,Tr=$r[2]*fr;Yr=$r?-$r[0]:Yr,Lr=Vr/ir,Qr=(Er+Tr)/ir}else Lr=Er/ir,Qr=0;if(rr.remeasure&&Yr>0){const $r=sr.measureText(Mr).width*1e3/nr*ir;if(Yr<$r&&this.isFontSubpixelAAEnabled){const Vr=Yr/$r;jr=!0,sr.save(),sr.scale(Vr,1),Lr/=Vr}else Yr!==$r&&(Lr+=(Yr-$r)/2e3*nr/ir)}if(this.contentVisible&&(Sr.isInFont||rr.missingFile)){if(mr&&!Ir)sr.fillText(Mr,Lr,Qr);else if(this.paintChar(Mr,Lr,Qr,pr,gr),Ir){const $r=Lr+nr*Ir.offset.x/ir,Vr=Qr-nr*Ir.offset.y/ir;this.paintChar(Ir.fontChar,$r,Vr,pr,gr)}}const Gr=dr?Yr*fr-Pr*lr:Yr*fr+Pr*lr;Er+=Gr,jr&&sr.restore()}dr?tr.y-=Er:tr.x+=Er*cr,sr.restore(),this.compose()}showType3Text(St){const tr=this.ctx,rr=this.current,nr=rr.font,sr=rr.fontSize,ir=rr.fontDirection,ar=nr.vertical?1:-1,or=rr.charSpacing,lr=rr.wordSpacing,cr=rr.textHScale*ir,ur=rr.fontMatrix||FONT_IDENTITY_MATRIX,dr=St.length,hr=rr.textRenderingMode===TextRenderingMode.INVISIBLE;let Ar,fr,mr,pr;if(!(hr||sr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,tr.save(),rr.textMatrix&&tr.transform(...rr.textMatrix),tr.translate(rr.x,rr.y+rr.textRise),tr.scale(cr,ir),Ar=0;Ar<dr;++Ar){if(fr=St[Ar],typeof fr=="number"){pr=ar*fr*sr/1e3,this.ctx.translate(pr,0),rr.x+=pr*cr;continue}const gr=(fr.isSpace?lr:0)+or,xr=nr.charProcOperatorList[fr.operatorListId];xr?this.contentVisible&&(this.save(),tr.scale(sr,sr),tr.transform(...ur),this.executeOperatorList(xr),this.restore()):warn$1(`Type3 character "${fr.operatorListId}" is not available.`);const yr=[fr.width,0];Util.applyTransform(yr,ur),mr=yr[0]*sr+gr,tr.translate(mr,0),rr.x+=mr*cr}tr.restore()}}setCharWidth(St,tr){}setCharWidthAndBounds(St,tr,rr,nr,sr,ir){const ar=new Path2D;ar.rect(rr,nr,sr-rr,ir-nr),this.ctx.clip(ar),this.endPath()}getColorN_Pattern(St){let tr;if(St[0]==="TilingPattern"){const rr=this.baseTransform||getCurrentTransform(this.ctx),nr={createCanvasGraphics:sr=>new RR(sr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};tr=new TilingPattern(St,this.ctx,nr,rr)}else tr=this._getPattern(St[1],St[2]);return tr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(St){this.ctx.strokeStyle=this.current.strokeColor=St,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(St){this.ctx.fillStyle=this.current.fillColor=St,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(St,tr=null){let rr;return this.cachedPatterns.has(St)?rr=this.cachedPatterns.get(St):(rr=getShadingPattern(this.getObject(St)),this.cachedPatterns.set(St,rr)),tr&&(rr.matrix=tr),rr}shadingFill(St){if(!this.contentVisible)return;const tr=this.ctx;this.save();const rr=this._getPattern(St);tr.fillStyle=rr.getPattern(tr,this,getCurrentTransformInverse(tr),PathType.SHADING);const nr=getCurrentTransformInverse(tr);if(nr){const{width:sr,height:ir}=tr.canvas,ar=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,sr,ir],nr,ar);const[or,lr,cr,ur]=ar;this.ctx.fillRect(or,lr,cr-or,ur-lr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(St,tr){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),St&&this.transform(...St),this.baseTransform=getCurrentTransform(this.ctx),tr)){Util.axialAlignedBoundingBox(tr,this.baseTransform,this.current.minMax);const[rr,nr,sr,ir]=tr,ar=new Path2D;ar.rect(rr,nr,sr-rr,ir-nr),this.ctx.clip(ar),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(St){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const tr=this.ctx;St.isolated||info("TODO: Support non-isolated groups."),St.knockout&&warn$1("Knockout groups not supported.");const rr=getCurrentTransform(tr);if(St.matrix&&tr.transform(...St.matrix),!St.bbox)throw new Error("Bounding box is required.");let nr=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox(St.bbox,getCurrentTransform(tr),nr);const sr=[0,0,tr.canvas.width,tr.canvas.height];nr=Util.intersect(nr,sr)||[0,0,0,0];const ir=Math.floor(nr[0]),ar=Math.floor(nr[1]),or=Math.max(Math.ceil(nr[2])-ir,1),lr=Math.max(Math.ceil(nr[3])-ar,1);this.current.startNewPathAndClipBox([0,0,or,lr]);let cr="groupAt"+this.groupLevel;St.smask&&(cr+="_smask_"+this.smaskCounter++%2);const ur=this.cachedCanvases.getCanvas(cr,or,lr),dr=ur.context;dr.translate(-ir,-ar),dr.transform(...rr);let hr=new Path2D;const[Ar,fr,mr,pr]=St.bbox;if(hr.rect(Ar,fr,mr-Ar,pr-fr),St.matrix){const gr=new Path2D;gr.addPath(hr,new DOMMatrix(St.matrix)),hr=gr}dr.clip(hr),St.smask?this.smaskStack.push({canvas:ur.canvas,context:dr,offsetX:ir,offsetY:ar,subtype:St.smask.subtype,backdrop:St.smask.backdrop,transferMap:St.smask.transferMap||null,startTransformInverse:null}):(tr.setTransform(1,0,0,1,0,0),tr.translate(ir,ar),tr.save()),copyCtxState(tr,dr),this.ctx=dr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(tr),this.groupLevel++}endGroup(St){if(!this.contentVisible)return;this.groupLevel--;const tr=this.ctx,rr=this.groupStack.pop();if(this.ctx=rr,this.ctx.imageSmoothingEnabled=!1,St.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const nr=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...nr);const sr=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,tr.canvas.width,tr.canvas.height],nr,sr),this.ctx.drawImage(tr.canvas,0,0),this.ctx.restore(),this.compose(sr)}}beginAnnotation(St,tr,rr,nr,sr){if(an(this,am,zC).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),tr){const ir=tr[2]-tr[0],ar=tr[3]-tr[1];if(sr&&this.annotationCanvasMap){rr=rr.slice(),rr[4]-=tr[0],rr[5]-=tr[1],tr=tr.slice(),tr[0]=tr[1]=0,tr[2]=ir,tr[3]=ar,Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx),XY);const{viewportScale:or}=this,lr=Math.ceil(ir*this.outputScaleX*or),cr=Math.ceil(ar*this.outputScaleY*or);this.annotationCanvas=this.canvasFactory.create(lr,cr);const{canvas:ur,context:dr}=this.annotationCanvas;this.annotationCanvasMap.set(St,ur),this.annotationCanvas.savedCtx=this.ctx,this.ctx=dr,this.ctx.save(),this.ctx.setTransform(XY[0],0,0,-XY[1],0,ar*XY[1]),resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx),this.endPath();const or=new Path2D;or.rect(tr[0],tr[1],ir,ar),this.ctx.clip(or)}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...rr),this.transform(...nr)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),an(this,am,qC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(St){if(!this.contentVisible)return;const tr=St.count;St=this.getObject(St.data,St),St.count=tr;const rr=this.ctx,nr=this._createMaskCanvas(St),sr=nr.canvas;rr.save(),rr.setTransform(1,0,0,1,0,0),rr.drawImage(sr,nr.offsetX,nr.offsetY),rr.restore(),this.compose()}paintImageMaskXObjectRepeat(St,tr,rr=0,nr=0,sr,ir){if(!this.contentVisible)return;St=this.getObject(St.data,St);const ar=this.ctx;ar.save();const or=getCurrentTransform(ar);ar.transform(tr,rr,nr,sr,0,0);const lr=this._createMaskCanvas(St);ar.setTransform(1,0,0,1,lr.offsetX-or[4],lr.offsetY-or[5]);for(let cr=0,ur=ir.length;cr<ur;cr+=2){const dr=Util.transform(or,[tr,rr,nr,sr,ir[cr],ir[cr+1]]);ar.drawImage(lr.canvas,dr[4],dr[5])}ar.restore(),this.compose()}paintImageMaskXObjectGroup(St){if(!this.contentVisible)return;const tr=this.ctx,rr=this.current.fillColor,nr=this.current.patternFill;for(const sr of St){const{data:ir,width:ar,height:or,transform:lr}=sr,cr=this.cachedCanvases.getCanvas("maskCanvas",ar,or),ur=cr.context;ur.save();const dr=this.getObject(ir,sr);putBinaryImageMask(ur,dr),ur.globalCompositeOperation="source-in",ur.fillStyle=nr?rr.getPattern(ur,this,getCurrentTransformInverse(tr),PathType.FILL):rr,ur.fillRect(0,0,ar,or),ur.restore(),tr.save(),tr.transform(...lr),tr.scale(1,-1),drawImageAtIntegerCoords(tr,cr.canvas,0,0,ar,or,0,-1,1,1),tr.restore()}this.compose()}paintImageXObject(St){if(!this.contentVisible)return;const tr=this.getObject(St);if(!tr){warn$1("Dependent image isn't ready yet");return}this.paintInlineImageXObject(tr)}paintImageXObjectRepeat(St,tr,rr,nr){if(!this.contentVisible)return;const sr=this.getObject(St);if(!sr){warn$1("Dependent image isn't ready yet");return}const ir=sr.width,ar=sr.height,or=[];for(let lr=0,cr=nr.length;lr<cr;lr+=2)or.push({transform:[tr,0,0,rr,nr[lr],nr[lr+1]],x:0,y:0,w:ir,h:ar});this.paintInlineImageXObjectGroup(sr,or)}applyTransferMapsToCanvas(St){return this.current.transferMaps!=="none"&&(St.filter=this.current.transferMaps,St.drawImage(St.canvas,0,0),St.filter="none"),St.canvas}applyTransferMapsToBitmap(St){if(this.current.transferMaps==="none")return St.bitmap;const{bitmap:tr,width:rr,height:nr}=St,sr=this.cachedCanvases.getCanvas("inlineImage",rr,nr),ir=sr.context;return ir.filter=this.current.transferMaps,ir.drawImage(tr,0,0),ir.filter="none",sr.canvas}paintInlineImageXObject(St){if(!this.contentVisible)return;const tr=St.width,rr=St.height,nr=this.ctx;this.save();const{filter:sr}=nr;sr!=="none"&&sr!==""&&(nr.filter="none"),nr.scale(1/tr,-1/rr);let ir;if(St.bitmap)ir=this.applyTransferMapsToBitmap(St);else if(typeof HTMLElement=="function"&&St instanceof HTMLElement||!St.data)ir=St;else{const lr=this.cachedCanvases.getCanvas("inlineImage",tr,rr).context;putBinaryImageData(lr,St),ir=this.applyTransferMapsToCanvas(lr)}const ar=this._scaleImage(ir,getCurrentTransformInverse(nr));nr.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(nr),St.interpolate),drawImageAtIntegerCoords(nr,ar.img,0,0,ar.paintWidth,ar.paintHeight,0,-rr,tr,rr),this.compose(),this.restore()}paintInlineImageXObjectGroup(St,tr){if(!this.contentVisible)return;const rr=this.ctx;let nr;if(St.bitmap)nr=St.bitmap;else{const sr=St.width,ir=St.height,or=this.cachedCanvases.getCanvas("inlineImage",sr,ir).context;putBinaryImageData(or,St),nr=this.applyTransferMapsToCanvas(or)}for(const sr of tr)rr.save(),rr.transform(...sr.transform),rr.scale(1,-1),drawImageAtIntegerCoords(rr,nr,sr.x,sr.y,sr.w,sr.h,0,-1,1,1),rr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(St){}markPointProps(St,tr){}beginMarkedContent(St){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(St,tr){St==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(tr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(St,tr){const rr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(tr);const nr=this.ctx;this.pendingClip&&(rr||(this.pendingClip===EO_CLIP?nr.clip(St,"evenodd"):nr.clip(St)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const St=getCurrentTransform(this.ctx);if(St[1]===0&&St[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(St[0]),Math.abs(St[3]));else{const tr=Math.abs(St[0]*St[3]-St[2]*St[1]),rr=Math.hypot(St[0],St[2]),nr=Math.hypot(St[1],St[3]);this._cachedGetSinglePixelWidth=Math.max(rr,nr)/tr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:St}=this.current,{a:tr,b:rr,c:nr,d:sr}=this.ctx.getTransform();let ir,ar;if(rr===0&&nr===0){const or=Math.abs(tr),lr=Math.abs(sr);if(or===lr)if(St===0)ir=ar=1/or;else{const cr=or*St;ir=ar=cr<1?1/cr:1}else if(St===0)ir=1/or,ar=1/lr;else{const cr=or*St,ur=lr*St;ir=cr<1?1/cr:1,ar=ur<1?1/ur:1}}else{const or=Math.abs(tr*sr-rr*nr),lr=Math.hypot(tr,rr),cr=Math.hypot(nr,sr);if(St===0)ir=cr/or,ar=lr/or;else{const ur=St*or;ir=cr>ur?cr/ur:1,ar=lr>ur?lr/ur:1}}this._cachedScaleForStroking[0]=ir,this._cachedScaleForStroking[1]=ar}return this._cachedScaleForStroking}rescaleAndStroke(St,tr){const{ctx:rr,current:{lineWidth:nr}}=this,[sr,ir]=this.getScaleForStroking();if(sr===ir){rr.lineWidth=(nr||1)*sr,rr.stroke(St);return}const ar=rr.getLineDash();tr&&rr.save(),rr.scale(sr,ir),SCALE_MATRIX.a=1/sr,SCALE_MATRIX.d=1/ir;const or=new Path2D;if(or.addPath(St,SCALE_MATRIX),ar.length>0){const lr=Math.max(sr,ir);rr.setLineDash(ar.map(cr=>cr/lr)),rr.lineDashOffset/=lr}rr.lineWidth=nr||1,rr.stroke(or),tr&&rr.restore()}isContentVisible(){for(let St=this.markedContentStack.length-1;St>=0;St--)if(!this.markedContentStack[St].visible)return!1;return!0}};am=new WeakSet,zC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qC=function(){if(this.pageColors){const St=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(St!=="none"){const tr=this.ctx.filter;this.ctx.filter=St,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=tr}}},YC=function(St,tr,rr){const nr=new Path2D;return nr.addPath(St,new DOMMatrix(rr).invertSelf().multiplySelf(tr)),nr};let CanvasGraphics=RR;for(const er in OPS)CanvasGraphics.prototype[er]!==void 0&&(CanvasGraphics.prototype[OPS[er]]=CanvasGraphics.prototype[er]);var r_,n_;class GlobalWorkerOptions{static get workerPort(){return br(this,r_)}static set workerPort(St){if(!(typeof Worker<"u"&&St instanceof Worker)&&St!==null)throw new Error("Invalid `workerPort` type.");Jr(this,r_,St)}static get workerSrc(){return br(this,n_)}static set workerSrc(St){if(typeof St!="string")throw new Error("Invalid `workerSrc` type.");Jr(this,n_,St)}}r_=new WeakMap,n_=new WeakMap,sn(GlobalWorkerOptions,r_,null),sn(GlobalWorkerOptions,n_,"");var rE,s_;class Metadata{constructor({parsedData:St,rawData:tr}){sn(this,rE);sn(this,s_);Jr(this,rE,St),Jr(this,s_,tr)}getRaw(){return br(this,s_)}get(St){return br(this,rE).get(St)??null}[Symbol.iterator](){return br(this,rE).entries()}}rE=new WeakMap,s_=new WeakMap;const INTERNAL=Symbol("INTERNAL");var i_,a_,o_,nE;class OptionalContentGroup{constructor(St,{name:tr,intent:rr,usage:nr,rbGroups:sr}){sn(this,i_,!1);sn(this,a_,!1);sn(this,o_,!1);sn(this,nE,!0);Jr(this,i_,!!(St&RenderingIntentFlag.DISPLAY)),Jr(this,a_,!!(St&RenderingIntentFlag.PRINT)),this.name=tr,this.intent=rr,this.usage=nr,this.rbGroups=sr}get visible(){if(br(this,o_))return br(this,nE);if(!br(this,nE))return!1;const{print:St,view:tr}=this.usage;return br(this,i_)?(tr==null?void 0:tr.viewState)!=="OFF":br(this,a_)?(St==null?void 0:St.printState)!=="OFF":!0}_setVisible(St,tr,rr=!1){St!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Jr(this,o_,rr),Jr(this,nE,tr)}}i_=new WeakMap,a_=new WeakMap,o_=new WeakMap,nE=new WeakMap;var L0,Wo,sE,iE,l_,XC;class OptionalContentConfig{constructor(St,tr=RenderingIntentFlag.DISPLAY){sn(this,l_);sn(this,L0,null);sn(this,Wo,new Map);sn(this,sE,null);sn(this,iE,null);if(this.renderingIntent=tr,this.name=null,this.creator=null,St!==null){this.name=St.name,this.creator=St.creator,Jr(this,iE,St.order);for(const rr of St.groups)br(this,Wo).set(rr.id,new OptionalContentGroup(tr,rr));if(St.baseState==="OFF")for(const rr of br(this,Wo).values())rr._setVisible(INTERNAL,!1);for(const rr of St.on)br(this,Wo).get(rr)._setVisible(INTERNAL,!0);for(const rr of St.off)br(this,Wo).get(rr)._setVisible(INTERNAL,!1);Jr(this,sE,this.getHash())}}isVisible(St){if(br(this,Wo).size===0)return!0;if(!St)return info("Optional content group not defined."),!0;if(St.type==="OCG")return br(this,Wo).has(St.id)?br(this,Wo).get(St.id).visible:(warn$1(`Optional content group not found: ${St.id}`),!0);if(St.type==="OCMD"){if(St.expression)return an(this,l_,XC).call(this,St.expression);if(!St.policy||St.policy==="AnyOn"){for(const tr of St.ids){if(!br(this,Wo).has(tr))return warn$1(`Optional content group not found: ${tr}`),!0;if(br(this,Wo).get(tr).visible)return!0}return!1}else if(St.policy==="AllOn"){for(const tr of St.ids){if(!br(this,Wo).has(tr))return warn$1(`Optional content group not found: ${tr}`),!0;if(!br(this,Wo).get(tr).visible)return!1}return!0}else if(St.policy==="AnyOff"){for(const tr of St.ids){if(!br(this,Wo).has(tr))return warn$1(`Optional content group not found: ${tr}`),!0;if(!br(this,Wo).get(tr).visible)return!0}return!1}else if(St.policy==="AllOff"){for(const tr of St.ids){if(!br(this,Wo).has(tr))return warn$1(`Optional content group not found: ${tr}`),!0;if(br(this,Wo).get(tr).visible)return!1}return!0}return warn$1(`Unknown optional content policy ${St.policy}.`),!0}return warn$1(`Unknown group type ${St.type}.`),!0}setVisibility(St,tr=!0,rr=!0){var sr;const nr=br(this,Wo).get(St);if(!nr){warn$1(`Optional content group not found: ${St}`);return}if(rr&&tr&&nr.rbGroups.length)for(const ir of nr.rbGroups)for(const ar of ir)ar!==St&&((sr=br(this,Wo).get(ar))==null||sr._setVisible(INTERNAL,!1,!0));nr._setVisible(INTERNAL,!!tr,!0),Jr(this,L0,null)}setOCGState({state:St,preserveRB:tr}){let rr;for(const nr of St){switch(nr){case"ON":case"OFF":case"Toggle":rr=nr;continue}const sr=br(this,Wo).get(nr);if(sr)switch(rr){case"ON":this.setVisibility(nr,!0,tr);break;case"OFF":this.setVisibility(nr,!1,tr);break;case"Toggle":this.setVisibility(nr,!sr.visible,tr);break}}Jr(this,L0,null)}get hasInitialVisibility(){return br(this,sE)===null||this.getHash()===br(this,sE)}getOrder(){return br(this,Wo).size?br(this,iE)?br(this,iE).slice():[...br(this,Wo).keys()]:null}getGroup(St){return br(this,Wo).get(St)||null}getHash(){if(br(this,L0)!==null)return br(this,L0);const St=new MurmurHash3_64;for(const[tr,rr]of br(this,Wo))St.update(`${tr}:${rr.visible}`);return Jr(this,L0,St.hexdigest())}[Symbol.iterator](){return br(this,Wo).entries()}}L0=new WeakMap,Wo=new WeakMap,sE=new WeakMap,iE=new WeakMap,l_=new WeakSet,XC=function(St){const tr=St.length;if(tr<2)return!0;const rr=St[0];for(let nr=1;nr<tr;nr++){const sr=St[nr];let ir;if(Array.isArray(sr))ir=an(this,l_,XC).call(this,sr);else if(br(this,Wo).has(sr))ir=br(this,Wo).get(sr).visible;else return warn$1(`Optional content group not found: ${sr}`),!0;switch(rr){case"And":if(!ir)return!1;break;case"Or":if(ir)return!0;break;case"Not":return!ir;default:return!0}}return rr==="And"};class PDFDataTransportStream{constructor(St,{disableRange:tr=!1,disableStream:rr=!1}){assert(St,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:nr,initialData:sr,progressiveDone:ir,contentDispositionFilename:ar}=St;if(this._queuedChunks=[],this._progressiveDone=ir,this._contentDispositionFilename=ar,(sr==null?void 0:sr.length)>0){const or=sr instanceof Uint8Array&&sr.byteLength===sr.buffer.byteLength?sr.buffer:new Uint8Array(sr).buffer;this._queuedChunks.push(or)}this._pdfDataRangeTransport=St,this._isStreamingSupported=!rr,this._isRangeSupported=!tr,this._contentLength=nr,this._fullRequestReader=null,this._rangeReaders=[],St.addRangeListener((or,lr)=>{this._onReceiveData({begin:or,chunk:lr})}),St.addProgressListener((or,lr)=>{this._onProgress({loaded:or,total:lr})}),St.addProgressiveReadListener(or=>{this._onReceiveData({chunk:or})}),St.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),St.transportReady()}_onReceiveData({begin:St,chunk:tr}){const rr=tr instanceof Uint8Array&&tr.byteLength===tr.buffer.byteLength?tr.buffer:new Uint8Array(tr).buffer;if(St===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(rr):this._queuedChunks.push(rr);else{const nr=this._rangeReaders.some(function(sr){return sr._begin!==St?!1:(sr._enqueue(rr),!0)});assert(nr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var St;return((St=this._fullRequestReader)==null?void 0:St._loaded)??0}_onProgress(St){var tr,rr,nr,sr;St.total===void 0?(rr=(tr=this._rangeReaders[0])==null?void 0:tr.onProgress)==null||rr.call(tr,{loaded:St.loaded}):(sr=(nr=this._fullRequestReader)==null?void 0:nr.onProgress)==null||sr.call(nr,{loaded:St.loaded,total:St.total})}_onProgressiveDone(){var St;(St=this._fullRequestReader)==null||St.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(St){const tr=this._rangeReaders.indexOf(St);tr>=0&&this._rangeReaders.splice(tr,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const St=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,St,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(St,tr){if(tr<=this._progressiveDataLength)return null;const rr=new PDFDataTransportStreamRangeReader(this,St,tr);return this._pdfDataRangeTransport.requestDataRange(St,tr),this._rangeReaders.push(rr),rr}cancelAllRequests(St){var tr;(tr=this._fullRequestReader)==null||tr.cancel(St);for(const rr of this._rangeReaders.slice(0))rr.cancel(St);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(St,tr,rr=!1,nr=null){this._stream=St,this._done=rr||!1,this._filename=isPdfFile(nr)?nr:null,this._queuedChunks=tr||[],this._loaded=0;for(const sr of this._queuedChunks)this._loaded+=sr.byteLength;this._requests=[],this._headersReady=Promise.resolve(),St._fullRequestReader=this,this.onProgress=null}_enqueue(St){this._done||(this._requests.length>0?this._requests.shift().resolve({value:St,done:!1}):this._queuedChunks.push(St),this._loaded+=St.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const St=Promise.withResolvers();return this._requests.push(St),St.promise}cancel(St){this._done=!0;for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(St,tr,rr){this._stream=St,this._begin=tr,this._end=rr,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(St){if(!this._done){if(this._requests.length===0)this._queuedChunk=St;else{this._requests.shift().resolve({value:St,done:!1});for(const rr of this._requests)rr.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const tr=this._queuedChunk;return this._queuedChunk=null,{value:tr,done:!1}}if(this._done)return{value:void 0,done:!0};const St=Promise.withResolvers();return this._requests.push(St),St.promise}cancel(St){this._done=!0;for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(er){let St=!0,tr=rr("filename\\*","i").exec(er);if(tr){tr=tr[1];let cr=ar(tr);return cr=unescape(cr),cr=or(cr),cr=lr(cr),sr(cr)}if(tr=ir(er),tr){const cr=lr(tr);return sr(cr)}if(tr=rr("filename","i").exec(er),tr){tr=tr[1];let cr=ar(tr);return cr=lr(cr),sr(cr)}function rr(cr,ur){return new RegExp("(?:^|;)\\s*"+cr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ur)}function nr(cr,ur){if(cr){if(!/^[\x00-\xFF]+$/.test(ur))return ur;try{const dr=new TextDecoder(cr,{fatal:!0}),hr=stringToBytes(ur);ur=dr.decode(hr),St=!1}catch{}}return ur}function sr(cr){return St&&/[\x80-\xff]/.test(cr)&&(cr=nr("utf-8",cr),St&&(cr=nr("iso-8859-1",cr))),cr}function ir(cr){const ur=[];let dr;const hr=rr("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(dr=hr.exec(cr))!==null;){let[,fr,mr,pr]=dr;if(fr=parseInt(fr,10),fr in ur){if(fr===0)break;continue}ur[fr]=[mr,pr]}const Ar=[];for(let fr=0;fr<ur.length&&fr in ur;++fr){let[mr,pr]=ur[fr];pr=ar(pr),mr&&(pr=unescape(pr),fr===0&&(pr=or(pr))),Ar.push(pr)}return Ar.join("")}function ar(cr){if(cr.startsWith('"')){const ur=cr.slice(1).split('\\"');for(let dr=0;dr<ur.length;++dr){const hr=ur[dr].indexOf('"');hr!==-1&&(ur[dr]=ur[dr].slice(0,hr),ur.length=dr+1),ur[dr]=ur[dr].replaceAll(/\\(.)/g,"$1")}cr=ur.join('"')}return cr}function or(cr){const ur=cr.indexOf("'");if(ur===-1)return cr;const dr=cr.slice(0,ur),Ar=cr.slice(ur+1).replace(/^[^']*'/,"");return nr(dr,Ar)}function lr(cr){return!cr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(cr)?cr:cr.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ur,dr,hr,Ar){if(hr==="q"||hr==="Q")return Ar=Ar.replaceAll("_"," "),Ar=Ar.replaceAll(/=([0-9a-fA-F]{2})/g,function(fr,mr){return String.fromCharCode(parseInt(mr,16))}),nr(dr,Ar);try{Ar=atob(Ar)}catch{}return nr(dr,Ar)})}return""}function createHeaders(er,St){const tr=new Headers;if(!er||!St||typeof St!="object")return tr;for(const rr in St){const nr=St[rr];nr!==void 0&&tr.append(rr,nr)}return tr}function getResponseOrigin(er){var St;return((St=URL.parse(er))==null?void 0:St.origin)??null}function validateRangeRequestCapabilities({responseHeaders:er,isHttp:St,rangeChunkSize:tr,disableRange:rr}){const nr={allowRangeRequests:!1,suggestedLength:void 0},sr=parseInt(er.get("Content-Length"),10);return!Number.isInteger(sr)||(nr.suggestedLength=sr,sr<=2*tr)||rr||!St||er.get("Accept-Ranges")!=="bytes"||(er.get("Content-Encoding")||"identity")!=="identity"||(nr.allowRangeRequests=!0),nr}function extractFilenameFromHeader(er){const St=er.get("Content-Disposition");if(St){let tr=getFilenameFromContentDispositionHeader(St);if(tr.includes("%"))try{tr=decodeURIComponent(tr)}catch{}if(isPdfFile(tr))return tr}return null}function createResponseError(er,St){return new ResponseException(`Unexpected server response (${er}) while retrieving PDF "${St}".`,er,er===404||er===0&&St.startsWith("file:"))}function validateResponseStatus(er){return er===200||er===206}function createFetchOptions(er,St,tr){return{method:"GET",headers:er,signal:tr.signal,mode:"cors",credentials:St?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(er){return er instanceof Uint8Array?er.buffer:er instanceof ArrayBuffer?er:(warn$1(`getArrayBuffer - unexpected data format: ${er}`),new Uint8Array(er).buffer)}class PDFFetchStream{constructor(St){ps(this,"_responseOrigin",null);this.source=St,this.isHttp=/^https?:/i.test(St.url),this.headers=createHeaders(this.isHttp,St.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var St;return((St=this._fullRequestReader)==null?void 0:St._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(St,tr){if(tr<=this._progressiveDataLength)return null;const rr=new PDFFetchStreamRangeReader(this,St,tr);return this._rangeRequestReaders.push(rr),rr}cancelAllRequests(St){var tr;(tr=this._fullRequestReader)==null||tr.cancel(St);for(const rr of this._rangeRequestReaders.slice(0))rr.cancel(St)}}class PDFFetchStreamReader{constructor(St){this._stream=St,this._reader=null,this._loaded=0,this._filename=null;const tr=St.source;this._withCredentials=tr.withCredentials||!1,this._contentLength=tr.length,this._headersCapability=Promise.withResolvers(),this._disableRange=tr.disableRange||!1,this._rangeChunkSize=tr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tr.disableStream,this._isRangeSupported=!tr.disableRange;const rr=new Headers(St.headers),nr=tr.url;fetch(nr,createFetchOptions(rr,this._withCredentials,this._abortController)).then(sr=>{if(St._responseOrigin=getResponseOrigin(sr.url),!validateResponseStatus(sr.status))throw createResponseError(sr.status,nr);this._reader=sr.body.getReader(),this._headersCapability.resolve();const ir=sr.headers,{allowRangeRequests:ar,suggestedLength:or}=validateRangeRequestCapabilities({responseHeaders:ir,isHttp:St.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ar,this._contentLength=or||this._contentLength,this._filename=extractFilenameFromHeader(ir),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rr;await this._headersCapability.promise;const{value:St,done:tr}=await this._reader.read();return tr?{value:St,done:tr}:(this._loaded+=St.byteLength,(rr=this.onProgress)==null||rr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(St),done:!1})}cancel(St){var tr;(tr=this._reader)==null||tr.cancel(St),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(St,tr,rr){this._stream=St,this._reader=null,this._loaded=0;const nr=St.source;this._withCredentials=nr.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!nr.disableStream,this._abortController=new AbortController;const sr=new Headers(St.headers);sr.append("Range",`bytes=${tr}-${rr-1}`);const ir=nr.url;fetch(ir,createFetchOptions(sr,this._withCredentials,this._abortController)).then(ar=>{const or=getResponseOrigin(ar.url);if(or!==St._responseOrigin)throw new Error(`Expected range response-origin "${or}" to match "${St._responseOrigin}".`);if(!validateResponseStatus(ar.status))throw createResponseError(ar.status,ir);this._readCapability.resolve(),this._reader=ar.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rr;await this._readCapability.promise;const{value:St,done:tr}=await this._reader.read();return tr?{value:St,done:tr}:(this._loaded+=St.byteLength,(rr=this.onProgress)==null||rr.call(this,{loaded:this._loaded}),{value:getArrayBuffer(St),done:!1})}cancel(St){var tr;(tr=this._reader)==null||tr.cancel(St),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(er){const St=er.response;return typeof St!="string"?St:stringToBytes(St).buffer}class NetworkManager{constructor({url:St,httpHeaders:tr,withCredentials:rr}){ps(this,"_responseOrigin",null);this.url=St,this.isHttp=/^https?:/i.test(St),this.headers=createHeaders(this.isHttp,tr),this.withCredentials=rr||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(St){const tr=new XMLHttpRequest,rr=this.currXhrId++,nr=this.pendingRequests[rr]={xhr:tr};tr.open("GET",this.url),tr.withCredentials=this.withCredentials;for(const[sr,ir]of this.headers)tr.setRequestHeader(sr,ir);return this.isHttp&&"begin"in St&&"end"in St?(tr.setRequestHeader("Range",`bytes=${St.begin}-${St.end-1}`),nr.expectedStatus=PARTIAL_CONTENT_RESPONSE):nr.expectedStatus=OK_RESPONSE,tr.responseType="arraybuffer",assert(St.onError,"Expected `onError` callback to be provided."),tr.onerror=()=>{St.onError(tr.status)},tr.onreadystatechange=this.onStateChange.bind(this,rr),tr.onprogress=this.onProgress.bind(this,rr),nr.onHeadersReceived=St.onHeadersReceived,nr.onDone=St.onDone,nr.onError=St.onError,nr.onProgress=St.onProgress,tr.send(null),rr}onProgress(St,tr){var nr;const rr=this.pendingRequests[St];rr&&((nr=rr.onProgress)==null||nr.call(rr,tr))}onStateChange(St,tr){const rr=this.pendingRequests[St];if(!rr)return;const nr=rr.xhr;if(nr.readyState>=2&&rr.onHeadersReceived&&(rr.onHeadersReceived(),delete rr.onHeadersReceived),nr.readyState!==4||!(St in this.pendingRequests))return;if(delete this.pendingRequests[St],nr.status===0&&this.isHttp){rr.onError(nr.status);return}const sr=nr.status||OK_RESPONSE;if(!(sr===OK_RESPONSE&&rr.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&sr!==rr.expectedStatus){rr.onError(nr.status);return}const ar=network_getArrayBuffer(nr);if(sr===PARTIAL_CONTENT_RESPONSE){const or=nr.getResponseHeader("Content-Range"),lr=/bytes (\d+)-(\d+)\/(\d+)/.exec(or);lr?rr.onDone({begin:parseInt(lr[1],10),chunk:ar}):(warn$1('Missing or invalid "Content-Range" header.'),rr.onError(0))}else ar?rr.onDone({begin:0,chunk:ar}):rr.onError(nr.status)}getRequestXhr(St){return this.pendingRequests[St].xhr}isPendingRequest(St){return St in this.pendingRequests}abortRequest(St){const tr=this.pendingRequests[St].xhr;delete this.pendingRequests[St],tr.abort()}}class PDFNetworkStream{constructor(St){this._source=St,this._manager=new NetworkManager(St),this._rangeChunkSize=St.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(St){const tr=this._rangeRequestReaders.indexOf(St);tr>=0&&this._rangeRequestReaders.splice(tr,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(St,tr){const rr=new PDFNetworkStreamRangeRequestReader(this._manager,St,tr);return rr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(rr),rr}cancelAllRequests(St){var tr;(tr=this._fullRequestReader)==null||tr.cancel(St);for(const rr of this._rangeRequestReaders.slice(0))rr.cancel(St)}}class PDFNetworkStreamFullRequestReader{constructor(St,tr){this._manager=St,this._url=tr.url,this._fullRequestId=St.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=tr.disableRange||!1,this._contentLength=tr.length,this._rangeChunkSize=tr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const St=this._fullRequestId,tr=this._manager.getRequestXhr(St);this._manager._responseOrigin=getResponseOrigin(tr.responseURL);const rr=tr.getAllResponseHeaders(),nr=new Headers(rr?rr.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(ar=>{const[or,...lr]=ar.split(": ");return[or,lr.join(": ")]}):[]),{allowRangeRequests:sr,suggestedLength:ir}=validateRangeRequestCapabilities({responseHeaders:nr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});sr&&(this._isRangeSupported=!0),this._contentLength=ir||this._contentLength,this._filename=extractFilenameFromHeader(nr),this._isRangeSupported&&this._manager.abortRequest(St),this._headersCapability.resolve()}_onDone(St){if(St&&(this._requests.length>0?this._requests.shift().resolve({value:St.chunk,done:!1}):this._cachedChunks.push(St.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(St){this._storedError=createResponseError(St,this._url),this._headersCapability.reject(this._storedError);for(const tr of this._requests)tr.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(St){var tr;(tr=this.onProgress)==null||tr.call(this,{loaded:St.loaded,total:St.lengthComputable?St.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const St=Promise.withResolvers();return this._requests.push(St),St.promise}cancel(St){this._done=!0,this._headersCapability.reject(St);for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(St,tr,rr){this._manager=St,this._url=St.url,this._requestId=St.request({begin:tr,end:rr,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var tr;const St=getResponseOrigin((tr=this._manager.getRequestXhr(this._requestId))==null?void 0:tr.responseURL);St!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${St}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var St;(St=this.onClosed)==null||St.call(this,this)}_onDone(St){const tr=St.chunk;this._requests.length>0?this._requests.shift().resolve({value:tr,done:!1}):this._queuedChunk=tr,this._done=!0;for(const rr of this._requests)rr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(St){this._storedError??(this._storedError=createResponseError(St,this._url));for(const tr of this._requests)tr.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(St){var tr;this.isStreamingSupported||(tr=this.onProgress)==null||tr.call(this,{loaded:St.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const tr=this._queuedChunk;return this._queuedChunk=null,{value:tr,done:!1}}if(this._done)return{value:void 0,done:!0};const St=Promise.withResolvers();return this._requests.push(St),St.promise}cancel(St){this._done=!0;for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(er){if(urlRegex.test(er))return new URL(er);const St=process.getBuiltinModule("url");return new URL(St.pathToFileURL(er))}class PDFNodeStream{constructor(St){this.source=St,this.url=parseUrlOrPath(St.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var St;return((St=this._fullRequestReader)==null?void 0:St._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(St,tr){if(tr<=this._progressiveDataLength)return null;const rr=new PDFNodeStreamFsRangeReader(this,St,tr);return this._rangeRequestReaders.push(rr),rr}cancelAllRequests(St){var tr;(tr=this._fullRequestReader)==null||tr.cancel(St);for(const rr of this._rangeRequestReaders.slice(0))rr.cancel(St)}}class PDFNodeStreamFsFullReader{constructor(St){this._url=St.url,this._done=!1,this._storedError=null,this.onProgress=null;const tr=St.source;this._contentLength=tr.length,this._loaded=0,this._filename=null,this._disableRange=tr.disableRange||!1,this._rangeChunkSize=tr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!tr.disableStream,this._isRangeSupported=!tr.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const rr=process.getBuiltinModule("fs");rr.promises.lstat(this._url).then(nr=>{this._contentLength=nr.size,this._setReadableStream(rr.createReadStream(this._url)),this._headersCapability.resolve()},nr=>{nr.code==="ENOENT"&&(nr=createResponseError(0,this._url.href)),this._storedError=nr,this._headersCapability.reject(nr)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const St=this._readableStream.read();return St===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=St.length,(rr=this.onProgress)==null||rr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(St).buffer,done:!1})}cancel(St){if(!this._readableStream){this._error(St);return}this._readableStream.destroy(St)}_error(St){this._storedError=St,this._readCapability.resolve()}_setReadableStream(St){this._readableStream=St,St.on("readable",()=>{this._readCapability.resolve()}),St.on("end",()=>{St.destroy(),this._done=!0,this._readCapability.resolve()}),St.on("error",tr=>{this._error(tr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(St,tr,rr){this._url=St.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const nr=St.source;this._isStreamingSupported=!nr.disableStream;const sr=process.getBuiltinModule("fs");this._setReadableStream(sr.createReadStream(this._url,{start:tr,end:rr-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const St=this._readableStream.read();return St===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=St.length,(rr=this.onProgress)==null||rr.call(this,{loaded:this._loaded}),{value:new Uint8Array(St).buffer,done:!1})}cancel(St){if(!this._readableStream){this._error(St);return}this._readableStream.destroy(St)}_error(St){this._storedError=St,this._readCapability.resolve()}_setReadableStream(St){this._readableStream=St,St.on("readable",()=>{this._readCapability.resolve()}),St.on("end",()=>{St.destroy(),this._done=!0,this._readCapability.resolve()}),St.on("error",tr=>{this._error(tr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const INITIAL_DATA=Symbol("INITIAL_DATA");var WA,c_,JC;class PDFObjects{constructor(){sn(this,c_);sn(this,WA,Object.create(null))}get(St,tr=null){if(tr){const nr=an(this,c_,JC).call(this,St);return nr.promise.then(()=>tr(nr.data)),null}const rr=br(this,WA)[St];if(!rr||rr.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${St}.`);return rr.data}has(St){const tr=br(this,WA)[St];return!!tr&&tr.data!==INITIAL_DATA}delete(St){const tr=br(this,WA)[St];return!tr||tr.data===INITIAL_DATA?!1:(delete br(this,WA)[St],!0)}resolve(St,tr=null){const rr=an(this,c_,JC).call(this,St);rr.data=tr,rr.resolve()}clear(){var St;for(const tr in br(this,WA)){const{data:rr}=br(this,WA)[tr];(St=rr==null?void 0:rr.bitmap)==null||St.close()}Jr(this,WA,Object.create(null))}*[Symbol.iterator](){for(const St in br(this,WA)){const{data:tr}=br(this,WA)[St];tr!==INITIAL_DATA&&(yield[St,tr])}}}WA=new WeakMap,c_=new WeakSet,JC=function(St){var tr;return(tr=br(this,WA))[St]||(tr[St]={...Promise.withResolvers(),data:INITIAL_DATA})};const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30;var HT,O0,CA,u_,d_,Ay,_x,h_,f_,py,aE,oE,D0,lE,A_,cE,my,p_,m_,zl,uE,gy,g_,M0,dE,Qx,PP,NP,ZC,rp,ZS,_j,BP,IP;let TextLayer$1=(zl=class{constructor({textContentSource:St,container:tr,viewport:rr}){sn(this,Qx);sn(this,O0,Promise.withResolvers());sn(this,CA,null);sn(this,u_,!1);sn(this,d_,!!((HT=globalThis.FontInspector)!=null&&HT.enabled));sn(this,Ay,null);sn(this,_x,null);sn(this,h_,0);sn(this,f_,0);sn(this,py,null);sn(this,aE,null);sn(this,oE,0);sn(this,D0,0);sn(this,lE,Object.create(null));sn(this,A_,[]);sn(this,cE,null);sn(this,my,[]);sn(this,p_,new WeakMap);sn(this,m_,null);var or;if(St instanceof ReadableStream)Jr(this,cE,St);else if(typeof St=="object")Jr(this,cE,new ReadableStream({start(lr){lr.enqueue(St),lr.close()}}));else throw new Error('No "textContentSource" parameter specified.');Jr(this,CA,Jr(this,aE,tr)),Jr(this,D0,rr.scale*OutputScale.pixelRatio),Jr(this,oE,rr.rotation),Jr(this,_x,{div:null,properties:null,ctx:null});const{pageWidth:nr,pageHeight:sr,pageX:ir,pageY:ar}=rr.rawDims;Jr(this,m_,[1,0,0,-1,-ir,ar+sr]),Jr(this,f_,nr),Jr(this,h_,sr),an(or=zl,rp,BP).call(or),setLayerDimensions(tr,rr),br(this,O0).promise.finally(()=>{br(zl,dE).delete(this),Jr(this,_x,null),Jr(this,lE,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:St,isFirefox:tr}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${St&&tr?"Calibri, ":""}sans-serif`],["monospace",`${St&&tr?"Lucida Console, ":""}monospace`]]))}render(){const St=()=>{br(this,py).read().then(({value:tr,done:rr})=>{if(rr){br(this,O0).resolve();return}br(this,Ay)??Jr(this,Ay,tr.lang),Object.assign(br(this,lE),tr.styles),an(this,Qx,PP).call(this,tr.items),St()},br(this,O0).reject)};return Jr(this,py,br(this,cE).getReader()),br(zl,dE).add(this),St(),br(this,O0).promise}update({viewport:St,onBefore:tr=null}){var sr;const rr=St.scale*OutputScale.pixelRatio,nr=St.rotation;if(nr!==br(this,oE)&&(tr==null||tr(),Jr(this,oE,nr),setLayerDimensions(br(this,aE),{rotation:nr})),rr!==br(this,D0)){tr==null||tr(),Jr(this,D0,rr);const ir={div:null,properties:null,ctx:an(sr=zl,rp,ZS).call(sr,br(this,Ay))};for(const ar of br(this,my))ir.properties=br(this,p_).get(ar),ir.div=ar,an(this,Qx,ZC).call(this,ir)}}cancel(){var tr;const St=new AbortException("TextLayer task cancelled.");(tr=br(this,py))==null||tr.cancel(St).catch(()=>{}),Jr(this,py,null),br(this,O0).reject(St)}get textDivs(){return br(this,my)}get textContentItemsStr(){return br(this,A_)}static cleanup(){if(!(br(this,dE).size>0)){br(this,uE).clear();for(const{canvas:St}of br(this,gy).values())St.remove();br(this,gy).clear()}}},O0=new WeakMap,CA=new WeakMap,u_=new WeakMap,d_=new WeakMap,Ay=new WeakMap,_x=new WeakMap,h_=new WeakMap,f_=new WeakMap,py=new WeakMap,aE=new WeakMap,oE=new WeakMap,D0=new WeakMap,lE=new WeakMap,A_=new WeakMap,cE=new WeakMap,my=new WeakMap,p_=new WeakMap,m_=new WeakMap,uE=new WeakMap,gy=new WeakMap,g_=new WeakMap,M0=new WeakMap,dE=new WeakMap,Qx=new WeakSet,PP=function(St){var nr,sr;if(br(this,u_))return;(sr=br(this,_x)).ctx??(sr.ctx=an(nr=zl,rp,ZS).call(nr,br(this,Ay)));const tr=br(this,my),rr=br(this,A_);for(const ir of St){if(tr.length>MAX_TEXT_DIVS_TO_RENDER){warn$1("Ignoring additional textDivs for performance reasons."),Jr(this,u_,!0);return}if(ir.str===void 0){if(ir.type==="beginMarkedContentProps"||ir.type==="beginMarkedContent"){const ar=br(this,CA);Jr(this,CA,document.createElement("span")),br(this,CA).classList.add("markedContent"),ir.id!==null&&br(this,CA).setAttribute("id",`${ir.id}`),ar.append(br(this,CA))}else ir.type==="endMarkedContent"&&Jr(this,CA,br(this,CA).parentNode);continue}rr.push(ir.str),an(this,Qx,NP).call(this,ir)}},NP=function(St){var fr;const tr=document.createElement("span"),rr={angle:0,canvasWidth:0,hasText:St.str!=="",hasEOL:St.hasEOL,fontSize:0};br(this,my).push(tr);const nr=Util.transform(br(this,m_),St.transform);let sr=Math.atan2(nr[1],nr[0]);const ir=br(this,lE)[St.fontName];ir.vertical&&(sr+=Math.PI/2);let ar=br(this,d_)&&ir.fontSubstitution||ir.fontFamily;ar=zl.fontFamilyMap.get(ar)||ar;const or=Math.hypot(nr[2],nr[3]),lr=or*an(fr=zl,rp,IP).call(fr,ar,ir,br(this,Ay));let cr,ur;sr===0?(cr=nr[4],ur=nr[5]-lr):(cr=nr[4]+lr*Math.sin(sr),ur=nr[5]-lr*Math.cos(sr));const dr="calc(var(--total-scale-factor) *",hr=tr.style;br(this,CA)===br(this,aE)?(hr.left=`${(100*cr/br(this,f_)).toFixed(2)}%`,hr.top=`${(100*ur/br(this,h_)).toFixed(2)}%`):(hr.left=`${dr}${cr.toFixed(2)}px)`,hr.top=`${dr}${ur.toFixed(2)}px)`),hr.fontSize=`${dr}${(br(zl,M0)*or).toFixed(2)}px)`,hr.fontFamily=ar,rr.fontSize=or,tr.setAttribute("role","presentation"),tr.textContent=St.str,tr.dir=St.dir,br(this,d_)&&(tr.dataset.fontName=ir.fontSubstitutionLoadedName||St.fontName),sr!==0&&(rr.angle=sr*(180/Math.PI));let Ar=!1;if(St.str.length>1)Ar=!0;else if(St.str!==" "&&St.transform[0]!==St.transform[3]){const mr=Math.abs(St.transform[0]),pr=Math.abs(St.transform[3]);mr!==pr&&Math.max(mr,pr)/Math.min(mr,pr)>1.5&&(Ar=!0)}if(Ar&&(rr.canvasWidth=ir.vertical?St.height:St.width),br(this,p_).set(tr,rr),br(this,_x).div=tr,br(this,_x).properties=rr,an(this,Qx,ZC).call(this,br(this,_x)),rr.hasText&&br(this,CA).append(tr),rr.hasEOL){const mr=document.createElement("br");mr.setAttribute("role","presentation"),br(this,CA).append(mr)}},ZC=function(St){var ar;const{div:tr,properties:rr,ctx:nr}=St,{style:sr}=tr;let ir="";if(br(zl,M0)>1&&(ir=`scale(${1/br(zl,M0)})`),rr.canvasWidth!==0&&rr.hasText){const{fontFamily:or}=sr,{canvasWidth:lr,fontSize:cr}=rr;an(ar=zl,rp,_j).call(ar,nr,cr*br(this,D0),or);const{width:ur}=nr.measureText(tr.textContent);ur>0&&(ir=`scaleX(${lr*br(this,D0)/ur}) ${ir}`)}rr.angle!==0&&(ir=`rotate(${rr.angle}deg) ${ir}`),ir.length>0&&(sr.transform=ir)},rp=new WeakSet,ZS=function(St=null){let tr=br(this,gy).get(St||(St=""));if(!tr){const rr=document.createElement("canvas");rr.className="hiddenCanvasElement",rr.lang=St,document.body.append(rr),tr=rr.getContext("2d",{alpha:!1,willReadFrequently:!0}),br(this,gy).set(St,tr),br(this,g_).set(tr,{size:0,family:""})}return tr},_j=function(St,tr,rr){const nr=br(this,g_).get(St);tr===nr.size&&rr===nr.family||(St.font=`${tr}px ${rr}`,nr.size=tr,nr.family=rr)},BP=function(){if(br(this,M0)!==null)return;const St=document.createElement("div");St.style.opacity=0,St.style.lineHeight=1,St.style.fontSize="1px",St.style.position="absolute",St.textContent="X",document.body.append(St),Jr(this,M0,St.getBoundingClientRect().height),St.remove()},IP=function(St,tr,rr){const nr=br(this,uE).get(St);if(nr)return nr;const sr=an(this,rp,ZS).call(this,rr);sr.canvas.width=sr.canvas.height=DEFAULT_FONT_SIZE,an(this,rp,_j).call(this,sr,DEFAULT_FONT_SIZE,St);const ir=sr.measureText(""),ar=ir.fontBoundingBoxAscent,or=Math.abs(ir.fontBoundingBoxDescent);sr.canvas.width=sr.canvas.height=0;let lr=.8;return ar?lr=ar/(ar+or):(util_FeatureTest.platform.isFirefox&&warn$1("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),tr.ascent?lr=tr.ascent:tr.descent&&(lr=1+tr.descent)),br(this,uE).set(St,lr),lr},sn(zl,rp),sn(zl,uE,new Map),sn(zl,gy,new Map),sn(zl,g_,new WeakMap),sn(zl,M0,null),sn(zl,dE,new Set),zl);class XfaText{static textContent(St){const tr=[],rr={items:tr,styles:Object.create(null)};function nr(sr){var or;if(!sr)return;let ir=null;const ar=sr.name;if(ar==="#text")ir=sr.value;else if(XfaText.shouldBuildText(ar))(or=sr==null?void 0:sr.attributes)!=null&&or.textContent?ir=sr.attributes.textContent:sr.value&&(ir=sr.value);else return;if(ir!==null&&tr.push({str:ir}),!!sr.children)for(const lr of sr.children)nr(lr)}return nr(St),rr}static shouldBuildText(St){return!(St==="textarea"||St==="input"||St==="option"||St==="select")}}const RENDERING_CANCELLED_TIMEOUT=100;function getDocument(er={}){typeof er=="string"||er instanceof URL?er={url:er}:(er instanceof ArrayBuffer||ArrayBuffer.isView(er))&&(er={data:er});const St=new PDFDocumentLoadingTask,{docId:tr}=St,rr=er.url?getUrlProp(er.url):null,nr=er.data?getDataProp(er.data):null,sr=er.httpHeaders||null,ir=er.withCredentials===!0,ar=er.password??null,or=er.range instanceof PDFDataRangeTransport$1?er.range:null,lr=Number.isInteger(er.rangeChunkSize)&&er.rangeChunkSize>0?er.rangeChunkSize:2**16;let cr=er.worker instanceof PDFWorker?er.worker:null;const ur=er.verbosity,dr=typeof er.docBaseUrl=="string"&&!isDataScheme(er.docBaseUrl)?er.docBaseUrl:null,hr=getFactoryUrlProp(er.cMapUrl),Ar=er.cMapPacked!==!1,fr=er.CMapReaderFactory||(isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory),mr=getFactoryUrlProp(er.iccUrl),pr=getFactoryUrlProp(er.standardFontDataUrl),gr=er.StandardFontDataFactory||(isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory),xr=getFactoryUrlProp(er.wasmUrl),yr=er.WasmFactory||(isNodeJS?NodeWasmFactory:DOMWasmFactory),Er=er.stopAtErrors!==!0,_r=Number.isInteger(er.maxImageSize)&&er.maxImageSize>-1?er.maxImageSize:-1,Sr=er.isEvalSupported!==!1,jr=typeof er.isOffscreenCanvasSupported=="boolean"?er.isOffscreenCanvasSupported:!isNodeJS,Pr=typeof er.isImageDecoderSupported=="boolean"?er.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),Mr=Number.isInteger(er.canvasMaxAreaInBytes)?er.canvasMaxAreaInBytes:-1,Ir=typeof er.disableFontFace=="boolean"?er.disableFontFace:isNodeJS,Lr=er.fontExtraProperties===!0,Qr=er.enableXfa===!0,Yr=er.ownerDocument||globalThis.document,Gr=er.disableRange===!0,$r=er.disableStream===!0,Vr=er.disableAutoFetch===!0,Tr=er.pdfBug===!0,Fr=er.CanvasFactory||(isNodeJS?NodeCanvasFactory:DOMCanvasFactory),Wr=er.FilterFactory||(isNodeJS?NodeFilterFactory:DOMFilterFactory),qr=er.enableHWA===!0,Rr=er.useWasm!==!1,Or=or?or.length:er.length??NaN,Hr=typeof er.useSystemFonts=="boolean"?er.useSystemFonts:!isNodeJS&&!Ir,zr=typeof er.useWorkerFetch=="boolean"?er.useWorkerFetch:!!(fr===DOMCMapReaderFactory&&gr===DOMStandardFontDataFactory&&yr===DOMWasmFactory&&hr&&pr&&xr&&isValidFetchUrl(hr,document.baseURI)&&isValidFetchUrl(pr,document.baseURI)&&isValidFetchUrl(xr,document.baseURI)),Zr=null;setVerbosityLevel(ur);const nn={canvasFactory:new Fr({ownerDocument:Yr,enableHWA:qr}),filterFactory:new Wr({docId:tr,ownerDocument:Yr}),cMapReaderFactory:zr?null:new fr({baseUrl:hr,isCompressed:Ar}),standardFontDataFactory:zr?null:new gr({baseUrl:pr}),wasmFactory:zr?null:new yr({baseUrl:xr})};cr||(cr=PDFWorker.create({verbosity:ur,port:GlobalWorkerOptions.workerPort}),St._worker=cr);const vn={docId:tr,apiVersion:"5.3.31",data:nr,password:ar,disableAutoFetch:Vr,rangeChunkSize:lr,length:Or,docBaseUrl:dr,enableXfa:Qr,evaluatorOptions:{maxImageSize:_r,disableFontFace:Ir,ignoreErrors:Er,isEvalSupported:Sr,isOffscreenCanvasSupported:jr,isImageDecoderSupported:Pr,canvasMaxAreaInBytes:Mr,fontExtraProperties:Lr,useSystemFonts:Hr,useWasm:Rr,useWorkerFetch:zr,cMapUrl:hr,iccUrl:mr,standardFontDataUrl:pr,wasmUrl:xr}},hn={ownerDocument:Yr,pdfBug:Tr,styleElement:Zr,loadingParams:{disableAutoFetch:Vr,enableXfa:Qr}};return cr.promise.then(function(){if(St.destroyed)throw new Error("Loading aborted");if(cr.destroyed)throw new Error("Worker was destroyed");const En=cr.messageHandler.sendWithPromise("GetDocRequest",vn,nr?[nr.buffer]:null);let Tn;if(or)Tn=new PDFDataTransportStream(or,{disableRange:Gr,disableStream:$r});else if(!nr){if(!rr)throw new Error("getDocument - no `url` parameter provided.");const bn=isValidFetchUrl(rr)?PDFFetchStream:isNodeJS?PDFNodeStream:PDFNetworkStream;Tn=new bn({url:rr,length:Or,httpHeaders:sr,withCredentials:ir,rangeChunkSize:lr,disableRange:Gr,disableStream:$r})}return En.then(bn=>{if(St.destroyed)throw new Error("Loading aborted");if(cr.destroyed)throw new Error("Worker was destroyed");const Mn=new MessageHandler(tr,bn,cr.port),Rn=new WorkerTransport(Mn,St,Tn,hn,nn);St._transport=Rn,Mn.send("Ready",null)})}).catch(St._capability.reject),St}var T2;const P2=class P2{constructor(){ps(this,"_capability",Promise.withResolvers());ps(this,"_transport",null);ps(this,"_worker",null);ps(this,"docId",`d${_f(P2,T2)._++}`);ps(this,"destroyed",!1);ps(this,"onPassword",null);ps(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var St,tr,rr,nr;this.destroyed=!0;try{(St=this._worker)!=null&&St.port&&(this._worker._pendingDestroy=!0),await((tr=this._transport)==null?void 0:tr.destroy())}catch(sr){throw(rr=this._worker)!=null&&rr.port&&delete this._worker._pendingDestroy,sr}this._transport=null,(nr=this._worker)==null||nr.destroy(),this._worker=null}async getData(){return this._transport.getData()}};T2=new WeakMap,sn(P2,T2,0);let PDFDocumentLoadingTask=P2;var xy,x_,v_,y_,E_,VT;let PDFDataRangeTransport$1=(VT=class{constructor(St,tr,rr=!1,nr=null){sn(this,xy,Promise.withResolvers());sn(this,x_,[]);sn(this,v_,[]);sn(this,y_,[]);sn(this,E_,[]);this.length=St,this.initialData=tr,this.progressiveDone=rr,this.contentDispositionFilename=nr}addRangeListener(St){br(this,E_).push(St)}addProgressListener(St){br(this,y_).push(St)}addProgressiveReadListener(St){br(this,v_).push(St)}addProgressiveDoneListener(St){br(this,x_).push(St)}onDataRange(St,tr){for(const rr of br(this,E_))rr(St,tr)}onDataProgress(St,tr){br(this,xy).promise.then(()=>{for(const rr of br(this,y_))rr(St,tr)})}onDataProgressiveRead(St){br(this,xy).promise.then(()=>{for(const tr of br(this,v_))tr(St)})}onDataProgressiveDone(){br(this,xy).promise.then(()=>{for(const St of br(this,x_))St()})}transportReady(){br(this,xy).resolve()}requestDataRange(St,tr){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},xy=new WeakMap,x_=new WeakMap,v_=new WeakMap,y_=new WeakMap,E_=new WeakMap,VT);class PDFDocumentProxy{constructor(St,tr){this._pdfInfo=St,this._transport=tr}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(St){return this._transport.getPage(St)}getPageIndex(St){return this._transport.getPageIndex(St)}getDestinations(){return this._transport.getDestinations()}getDestination(St){return this._transport.getDestination(St)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:St="display"}={}){const{renderingIntent:tr}=this._transport.getRenderingIntent(St);return this._transport.getOptionalContentConfig(tr)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(St=!1){return this._transport.startCleanup(St||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(St){return this._transport.cachedPageNumber(St)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sx,vy,yw;class PDFPageProxy{constructor(St,tr,rr,nr=!1){sn(this,vy);sn(this,Sx,!1);this._pageIndex=St,this._pageInfo=tr,this._transport=rr,this._stats=nr?new StatTimer:null,this._pdfBug=nr,this.commonObjs=rr.commonObjs,this.objs=new PDFObjects,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:St,rotation:tr=this.rotate,offsetX:rr=0,offsetY:nr=0,dontFlip:sr=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:St,rotation:tr,offsetX:rr,offsetY:nr,dontFlip:sr})}getAnnotations({intent:St="display"}={}){const{renderingIntent:tr}=this._transport.getRenderingIntent(St);return this._transport.getAnnotations(this._pageIndex,tr)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var St;return((St=this._transport._htmlForXfa)==null?void 0:St.children[this._pageIndex])||null}render({canvasContext:St,viewport:tr,intent:rr="display",annotationMode:nr=AnnotationMode.ENABLE,transform:sr=null,background:ir=null,optionalContentConfigPromise:ar=null,annotationCanvasMap:or=null,pageColors:lr=null,printAnnotationStorage:cr=null,isEditing:ur=!1}){var yr,Er;(yr=this._stats)==null||yr.time("Overall");const dr=this._transport.getRenderingIntent(rr,nr,cr,ur),{renderingIntent:hr,cacheKey:Ar}=dr;Jr(this,Sx,!1),ar||(ar=this._transport.getOptionalContentConfig(hr));let fr=this._intentStates.get(Ar);fr||(fr=Object.create(null),this._intentStates.set(Ar,fr)),fr.streamReaderCancelTimeout&&(clearTimeout(fr.streamReaderCancelTimeout),fr.streamReaderCancelTimeout=null);const mr=!!(hr&RenderingIntentFlag.PRINT);fr.displayReadyCapability||(fr.displayReadyCapability=Promise.withResolvers(),fr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Er=this._stats)==null||Er.time("Page Request"),this._pumpOperatorList(dr));const pr=_r=>{var Sr;fr.renderTasks.delete(gr),mr&&Jr(this,Sx,!0),an(this,vy,yw).call(this),_r?(gr.capability.reject(_r),this._abortOperatorList({intentState:fr,reason:_r instanceof Error?_r:new Error(_r)})):gr.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Sr=globalThis.Stats)!=null&&Sr.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},gr=new InternalRenderTask({callback:pr,params:{canvasContext:St,viewport:tr,transform:sr,background:ir},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:or,operatorList:fr.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!mr,pdfBug:this._pdfBug,pageColors:lr});(fr.renderTasks||(fr.renderTasks=new Set)).add(gr);const xr=gr.task;return Promise.all([fr.displayReadyCapability.promise,ar]).then(([_r,Sr])=>{var jr;if(this.destroyed){pr();return}if((jr=this._stats)==null||jr.time("Rendering"),!(Sr.renderingIntent&hr))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");gr.initializeGraphics({transparency:_r,optionalContentConfig:Sr}),gr.operatorListChanged()}).catch(pr),xr}getOperatorList({intent:St="display",annotationMode:tr=AnnotationMode.ENABLE,printAnnotationStorage:rr=null,isEditing:nr=!1}={}){var lr;function sr(){ar.operatorList.lastChunk&&(ar.opListReadCapability.resolve(ar.operatorList),ar.renderTasks.delete(or))}const ir=this._transport.getRenderingIntent(St,tr,rr,nr,!0);let ar=this._intentStates.get(ir.cacheKey);ar||(ar=Object.create(null),this._intentStates.set(ir.cacheKey,ar));let or;return ar.opListReadCapability||(or=Object.create(null),or.operatorListChanged=sr,ar.opListReadCapability=Promise.withResolvers(),(ar.renderTasks||(ar.renderTasks=new Set)).add(or),ar.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(lr=this._stats)==null||lr.time("Page Request"),this._pumpOperatorList(ir)),ar.opListReadCapability.promise}streamTextContent({includeMarkedContent:St=!1,disableNormalization:tr=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:St===!0,disableNormalization:tr===!0},{highWaterMark:100,size(nr){return nr.items.length}})}getTextContent(St={}){if(this._transport._htmlForXfa)return this.getXfa().then(rr=>XfaText.textContent(rr));const tr=this.streamTextContent(St);return new Promise(function(rr,nr){function sr(){ir.read().then(function({value:or,done:lr}){if(lr){rr(ar);return}ar.lang??(ar.lang=or.lang),Object.assign(ar.styles,or.styles),ar.items.push(...or.items),sr()},nr)}const ir=tr.getReader(),ar={items:[],styles:Object.create(null),lang:null};sr()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const St=[];for(const tr of this._intentStates.values())if(this._abortOperatorList({intentState:tr,reason:new Error("Page was destroyed."),force:!0}),!tr.opListReadCapability)for(const rr of tr.renderTasks)St.push(rr.completed),rr.cancel();return this.objs.clear(),Jr(this,Sx,!1),Promise.all(St)}cleanup(St=!1){Jr(this,Sx,!0);const tr=an(this,vy,yw).call(this);return St&&tr&&this._stats&&(this._stats=new StatTimer),tr}_startRenderPage(St,tr){var nr,sr;const rr=this._intentStates.get(tr);rr&&((nr=this._stats)==null||nr.timeEnd("Page Request"),(sr=rr.displayReadyCapability)==null||sr.resolve(St))}_renderPageChunk(St,tr){for(let rr=0,nr=St.length;rr<nr;rr++)tr.operatorList.fnArray.push(St.fnArray[rr]),tr.operatorList.argsArray.push(St.argsArray[rr]);tr.operatorList.lastChunk=St.lastChunk,tr.operatorList.separateAnnots=St.separateAnnots;for(const rr of tr.renderTasks)rr.operatorListChanged();St.lastChunk&&an(this,vy,yw).call(this)}_pumpOperatorList({renderingIntent:St,cacheKey:tr,annotationStorageSerializable:rr,modifiedIds:nr}){const{map:sr,transfer:ir}=rr,or=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:St,cacheKey:tr,annotationStorage:sr,modifiedIds:nr},ir).getReader(),lr=this._intentStates.get(tr);lr.streamReader=or;const cr=()=>{or.read().then(({value:ur,done:dr})=>{if(dr){lr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ur,lr),cr())},ur=>{if(lr.streamReader=null,!this._transport.destroyed){if(lr.operatorList){lr.operatorList.lastChunk=!0;for(const dr of lr.renderTasks)dr.operatorListChanged();an(this,vy,yw).call(this)}if(lr.displayReadyCapability)lr.displayReadyCapability.reject(ur);else if(lr.opListReadCapability)lr.opListReadCapability.reject(ur);else throw ur}})};cr()}_abortOperatorList({intentState:St,reason:tr,force:rr=!1}){if(St.streamReader){if(St.streamReaderCancelTimeout&&(clearTimeout(St.streamReaderCancelTimeout),St.streamReaderCancelTimeout=null),!rr){if(St.renderTasks.size>0)return;if(tr instanceof RenderingCancelledException){let nr=RENDERING_CANCELLED_TIMEOUT;tr.extraDelay>0&&tr.extraDelay<1e3&&(nr+=tr.extraDelay),St.streamReaderCancelTimeout=setTimeout(()=>{St.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:St,reason:tr,force:!0})},nr);return}}if(St.streamReader.cancel(new AbortException(tr.message)).catch(()=>{}),St.streamReader=null,!this._transport.destroyed){for(const[nr,sr]of this._intentStates)if(sr===St){this._intentStates.delete(nr);break}this.cleanup()}}}get stats(){return this._stats}}Sx=new WeakMap,vy=new WeakSet,yw=function(){if(!br(this,Sx)||this.destroyed)return!1;for(const{renderTasks:St,operatorList:tr}of this._intentStates.values())if(St.size>0||!tr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Jr(this,Sx,!1),!0};var $0,qp,Cx,yy,N2,Ey,wy,iA,t2,kP,FP,Ew,hE,r2;const Bl=class Bl{constructor({name:St=null,port:tr=null,verbosity:rr=getVerbosityLevel()}={}){sn(this,iA);sn(this,$0,Promise.withResolvers());sn(this,qp,null);sn(this,Cx,null);sn(this,yy,null);if(this.name=St,this.destroyed=!1,this.verbosity=rr,tr){if(br(Bl,wy).has(tr))throw new Error("Cannot use more than one PDFWorker per port.");br(Bl,wy).set(tr,this),an(this,iA,kP).call(this,tr)}else an(this,iA,FP).call(this)}get promise(){return br(this,$0).promise}get port(){return br(this,Cx)}get messageHandler(){return br(this,qp)}destroy(){var St,tr;this.destroyed=!0,(St=br(this,yy))==null||St.terminate(),Jr(this,yy,null),br(Bl,wy).delete(br(this,Cx)),Jr(this,Cx,null),(tr=br(this,qp))==null||tr.destroy(),Jr(this,qp,null)}static create(St){const tr=br(this,wy).get(St==null?void 0:St.port);if(tr){if(tr._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return tr}return new Bl(St)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>br(this,hE,r2)?br(this,hE,r2):(await import(this.workerSrc)).WorkerMessageHandler)())}};$0=new WeakMap,qp=new WeakMap,Cx=new WeakMap,yy=new WeakMap,N2=new WeakMap,Ey=new WeakMap,wy=new WeakMap,iA=new WeakSet,t2=function(){br(this,$0).resolve(),br(this,qp).send("configure",{verbosity:this.verbosity})},kP=function(St){Jr(this,Cx,St),Jr(this,qp,new MessageHandler("main","worker",St)),br(this,qp).on("ready",()=>{}),an(this,iA,t2).call(this)},FP=function(){if(br(Bl,Ey)||br(Bl,hE,r2)){an(this,iA,Ew).call(this);return}let{workerSrc:St}=Bl;try{Bl._isSameOrigin(window.location,St)||(St=Bl._createCDNWrapper(new URL(St,window.location).href));const tr=new Worker(St,{type:"module"}),rr=new MessageHandler("main","worker",tr),nr=()=>{sr.abort(),rr.destroy(),tr.terminate(),this.destroyed?br(this,$0).reject(new Error("Worker was destroyed")):an(this,iA,Ew).call(this)},sr=new AbortController;tr.addEventListener("error",()=>{br(this,yy)||nr()},{signal:sr.signal}),rr.on("test",ar=>{if(sr.abort(),this.destroyed||!ar){nr();return}Jr(this,qp,rr),Jr(this,Cx,tr),Jr(this,yy,tr),an(this,iA,t2).call(this)}),rr.on("ready",ar=>{if(sr.abort(),this.destroyed){nr();return}try{ir()}catch{an(this,iA,Ew).call(this)}});const ir=()=>{const ar=new Uint8Array;rr.send("test",ar,[ar.buffer])};ir();return}catch{info("The worker has been disabled.")}an(this,iA,Ew).call(this)},Ew=function(){br(Bl,Ey)||(warn$1("Setting up fake worker."),Jr(Bl,Ey,!0)),Bl._setupFakeWorkerGlobal.then(St=>{if(this.destroyed){br(this,$0).reject(new Error("Worker was destroyed"));return}const tr=new LoopbackPort;Jr(this,Cx,tr);const rr=`fake${_f(Bl,N2)._++}`,nr=new MessageHandler(rr+"_worker",rr,tr);St.setup(nr,tr),Jr(this,qp,new MessageHandler(rr,rr+"_worker",tr)),an(this,iA,t2).call(this)}).catch(St=>{br(this,$0).reject(new Error(`Setting up fake worker failed: "${St.message}".`))})},hE=new WeakSet,r2=function(){var St;try{return((St=globalThis.pdfjsWorker)==null?void 0:St.WorkerMessageHandler)||null}catch{return null}},sn(Bl,hE),sn(Bl,N2,0),sn(Bl,Ey,!1),sn(Bl,wy,new WeakMap),isNodeJS&&(Jr(Bl,Ey,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),Bl._isSameOrigin=(St,tr)=>{const rr=URL.parse(St);if(!(rr!=null&&rr.origin)||rr.origin==="null")return!1;const nr=new URL(tr,rr);return rr.origin===nr.origin},Bl._createCDNWrapper=St=>{const tr=`await import("${St}");`;return URL.createObjectURL(new Blob([tr],{type:"text/javascript"}))},Bl.fromPort=St=>{if(deprecated("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(St!=null&&St.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Bl.create(St)};let PDFWorker=Bl;var jx,Pm,fE,AE,Rx,by,ww;class WorkerTransport{constructor(St,tr,rr,nr,sr){sn(this,by);sn(this,jx,new Map);sn(this,Pm,new Map);sn(this,fE,new Map);sn(this,AE,new Map);sn(this,Rx,null);this.messageHandler=St,this.loadingTask=tr,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:nr.ownerDocument,styleElement:nr.styleElement}),this.loadingParams=nr.loadingParams,this._params=nr,this.canvasFactory=sr.canvasFactory,this.filterFactory=sr.filterFactory,this.cMapReaderFactory=sr.cMapReaderFactory,this.standardFontDataFactory=sr.standardFontDataFactory,this.wasmFactory=sr.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=rr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(St,tr=AnnotationMode.ENABLE,rr=null,nr=!1,sr=!1){let ir=RenderingIntentFlag.DISPLAY,ar=SerializableEmpty;switch(St){case"any":ir=RenderingIntentFlag.ANY;break;case"display":break;case"print":ir=RenderingIntentFlag.PRINT;break;default:warn$1(`getRenderingIntent - invalid intent: ${St}`)}const or=ir&RenderingIntentFlag.PRINT&&rr instanceof PrintAnnotationStorage?rr:this.annotationStorage;switch(tr){case AnnotationMode.DISABLE:ir+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:ir+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:ir+=RenderingIntentFlag.ANNOTATIONS_STORAGE,ar=or.serializable;break;default:warn$1(`getRenderingIntent - invalid annotationMode: ${tr}`)}nr&&(ir+=RenderingIntentFlag.IS_EDITING),sr&&(ir+=RenderingIntentFlag.OPLIST);const{ids:lr,hash:cr}=or.modifiedIds,ur=[ir,ar.hash,cr];return{renderingIntent:ir,cacheKey:ur.join("_"),annotationStorageSerializable:ar,modifiedIds:lr}}destroy(){var rr;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(rr=br(this,Rx))==null||rr.reject(new Error("Worker was destroyed during onPassword callback"));const St=[];for(const nr of br(this,Pm).values())St.push(nr._destroy());br(this,Pm).clear(),br(this,fE).clear(),br(this,AE).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const tr=this.messageHandler.sendWithPromise("Terminate",null);return St.push(tr),Promise.all(St).then(()=>{var nr,sr;this.commonObjs.clear(),this.fontLoader.clear(),br(this,jx).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(nr=this._networkStream)==null||nr.cancelAllRequests(new AbortException("Worker was terminated.")),(sr=this.messageHandler)==null||sr.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:St,loadingTask:tr}=this;St.on("GetReader",(rr,nr)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=sr=>{this._lastProgress={loaded:sr.loaded,total:sr.total}},nr.onPull=()=>{this._fullReader.read().then(function({value:sr,done:ir}){if(ir){nr.close();return}assert(sr instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),nr.enqueue(new Uint8Array(sr),1,[sr])}).catch(sr=>{nr.error(sr)})},nr.onCancel=sr=>{this._fullReader.cancel(sr),nr.ready.catch(ir=>{if(!this.destroyed)throw ir})}}),St.on("ReaderHeadersReady",async rr=>{var ar;await this._fullReader.headersReady;const{isStreamingSupported:nr,isRangeSupported:sr,contentLength:ir}=this._fullReader;return(!nr||!sr)&&(this._lastProgress&&((ar=tr.onProgress)==null||ar.call(tr,this._lastProgress)),this._fullReader.onProgress=or=>{var lr;(lr=tr.onProgress)==null||lr.call(tr,{loaded:or.loaded,total:or.total})}),{isStreamingSupported:nr,isRangeSupported:sr,contentLength:ir}}),St.on("GetRangeReader",(rr,nr)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const sr=this._networkStream.getRangeReader(rr.begin,rr.end);if(!sr){nr.close();return}nr.onPull=()=>{sr.read().then(function({value:ir,done:ar}){if(ar){nr.close();return}assert(ir instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),nr.enqueue(new Uint8Array(ir),1,[ir])}).catch(ir=>{nr.error(ir)})},nr.onCancel=ir=>{sr.cancel(ir),nr.ready.catch(ar=>{if(!this.destroyed)throw ar})}}),St.on("GetDoc",({pdfInfo:rr})=>{this._numPages=rr.numPages,this._htmlForXfa=rr.htmlForXfa,delete rr.htmlForXfa,tr._capability.resolve(new PDFDocumentProxy(rr,this))}),St.on("DocException",rr=>{tr._capability.reject(wrapReason(rr))}),St.on("PasswordRequest",rr=>{Jr(this,Rx,Promise.withResolvers());try{if(!tr.onPassword)throw wrapReason(rr);const nr=sr=>{sr instanceof Error?br(this,Rx).reject(sr):br(this,Rx).resolve({password:sr})};tr.onPassword(nr,rr.code)}catch(nr){br(this,Rx).reject(nr)}return br(this,Rx).promise}),St.on("DataLoaded",rr=>{var nr;(nr=tr.onProgress)==null||nr.call(tr,{loaded:rr.length,total:rr.length}),this.downloadInfoCapability.resolve(rr)}),St.on("StartRenderPage",rr=>{if(this.destroyed)return;br(this,Pm).get(rr.pageIndex)._startRenderPage(rr.transparency,rr.cacheKey)}),St.on("commonobj",([rr,nr,sr])=>{var ir;if(this.destroyed||this.commonObjs.has(rr))return null;switch(nr){case"Font":if("error"in sr){const cr=sr.error;warn$1(`Error during font loading: ${cr}`),this.commonObjs.resolve(rr,cr);break}const ar=this._params.pdfBug&&((ir=globalThis.FontInspector)!=null&&ir.enabled)?(cr,ur)=>globalThis.FontInspector.fontAdded(cr,ur):null,or=new FontFaceObject(sr,ar);this.fontLoader.bind(or).catch(()=>St.sendWithPromise("FontFallback",{id:rr})).finally(()=>{!or.fontExtraProperties&&or.data&&(or.data=null),this.commonObjs.resolve(rr,or)});break;case"CopyLocalImage":const{imageRef:lr}=sr;assert(lr,"The imageRef must be defined.");for(const cr of br(this,Pm).values())for(const[,ur]of cr.objs)if((ur==null?void 0:ur.ref)===lr)return ur.dataLen?(this.commonObjs.resolve(rr,structuredClone(ur)),ur.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(rr,sr);break;default:throw new Error(`Got unknown common object type ${nr}`)}return null}),St.on("obj",([rr,nr,sr,ir])=>{var or;if(this.destroyed)return;const ar=br(this,Pm).get(nr);if(!ar.objs.has(rr)){if(ar._intentStates.size===0){(or=ir==null?void 0:ir.bitmap)==null||or.close();return}switch(sr){case"Image":case"Pattern":ar.objs.resolve(rr,ir);break;default:throw new Error(`Got unknown object type ${sr}`)}}}),St.on("DocProgress",rr=>{var nr;this.destroyed||(nr=tr.onProgress)==null||nr.call(tr,{loaded:rr.loaded,total:rr.total})}),St.on("FetchBinaryData",async rr=>{if(this.destroyed)throw new Error("Worker was destroyed.");const nr=this[rr.type];if(!nr)throw new Error(`${rr.type} not initialized, see the \`useWorkerFetch\` parameter.`);return nr.fetch(rr)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var rr;this.annotationStorage.size<=0&&warn$1("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:St,transfer:tr}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:St,filename:((rr=this._fullReader)==null?void 0:rr.filename)??null},tr).finally(()=>{this.annotationStorage.resetModified()})}getPage(St){if(!Number.isInteger(St)||St<=0||St>this._numPages)return Promise.reject(new Error("Invalid page request."));const tr=St-1,rr=br(this,fE).get(tr);if(rr)return rr;const nr=this.messageHandler.sendWithPromise("GetPage",{pageIndex:tr}).then(sr=>{if(this.destroyed)throw new Error("Transport destroyed");sr.refStr&&br(this,AE).set(sr.refStr,St);const ir=new PDFPageProxy(tr,sr,this,this._params.pdfBug);return br(this,Pm).set(tr,ir),ir});return br(this,fE).set(tr,nr),nr}getPageIndex(St){return isRefProxy(St)?this.messageHandler.sendWithPromise("GetPageIndex",{num:St.num,gen:St.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(St,tr){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:St,intent:tr})}getFieldObjects(){return an(this,by,ww).call(this,"GetFieldObjects")}hasJSActions(){return an(this,by,ww).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(St){return typeof St!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:St})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return an(this,by,ww).call(this,"GetDocJSActions")}getPageJSActions(St){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:St})}getStructTree(St){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:St})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(St){return an(this,by,ww).call(this,"GetOptionalContentConfig").then(tr=>new OptionalContentConfig(tr,St))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const St="GetMetadata",tr=br(this,jx).get(St);if(tr)return tr;const rr=this.messageHandler.sendWithPromise(St,null).then(nr=>{var sr,ir;return{info:nr[0],metadata:nr[1]?new Metadata(nr[1]):null,contentDispositionFilename:((sr=this._fullReader)==null?void 0:sr.filename)??null,contentLength:((ir=this._fullReader)==null?void 0:ir.contentLength)??null}});return br(this,jx).set(St,rr),rr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(St=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const tr of br(this,Pm).values())if(!tr.cleanup())throw new Error(`startCleanup: Page ${tr.pageNumber} is currently rendering.`);this.commonObjs.clear(),St||this.fontLoader.clear(),br(this,jx).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(St){if(!isRefProxy(St))return null;const tr=St.gen===0?`${St.num}R`:`${St.num}R${St.gen}`;return br(this,AE).get(tr)??null}}jx=new WeakMap,Pm=new WeakMap,fE=new WeakMap,AE=new WeakMap,Rx=new WeakMap,by=new WeakSet,ww=function(St,tr=null){const rr=br(this,jx).get(St);if(rr)return rr;const nr=this.messageHandler.sendWithPromise(St,tr);return br(this,jx).set(St,nr),nr};var U0;class RenderTask{constructor(St){sn(this,U0,null);ps(this,"onContinue",null);ps(this,"onError",null);Jr(this,U0,St)}get promise(){return br(this,U0).capability.promise}cancel(St=0){br(this,U0).cancel(null,St)}get separateAnnots(){const{separateAnnots:St}=br(this,U0).operatorList;if(!St)return!1;const{annotationCanvasMap:tr}=br(this,U0);return St.form||St.canvas&&(tr==null?void 0:tr.size)>0}}U0=new WeakMap;var H0,_y;const Vv=class Vv{constructor({callback:St,params:tr,objs:rr,commonObjs:nr,annotationCanvasMap:sr,operatorList:ir,pageIndex:ar,canvasFactory:or,filterFactory:lr,useRequestAnimationFrame:cr=!1,pdfBug:ur=!1,pageColors:dr=null}){sn(this,H0,null);this.callback=St,this.params=tr,this.objs=rr,this.commonObjs=nr,this.annotationCanvasMap=sr,this.operatorListIdx=null,this.operatorList=ir,this._pageIndex=ar,this.canvasFactory=or,this.filterFactory=lr,this._pdfBug=ur,this.pageColors=dr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=cr===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=tr.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:St=!1,optionalContentConfig:tr}){var ar,or;if(this.cancelled)return;if(this._canvas){if(br(Vv,_y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");br(Vv,_y).add(this._canvas)}this._pdfBug&&((ar=globalThis.StepperManager)!=null&&ar.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:rr,viewport:nr,transform:sr,background:ir}=this.params;this.gfx=new CanvasGraphics(rr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:tr},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:sr,viewport:nr,transparency:St,background:ir}),this.operatorListIdx=0,this.graphicsReady=!0,(or=this.graphicsReadyCallback)==null||or.call(this)}cancel(St=null,tr=0){var rr,nr,sr;this.running=!1,this.cancelled=!0,(rr=this.gfx)==null||rr.endDrawing(),br(this,H0)&&(window.cancelAnimationFrame(br(this,H0)),Jr(this,H0,null)),br(Vv,_y).delete(this._canvas),St||(St=new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,tr)),this.callback(St),(sr=(nr=this.task).onError)==null||sr.call(nr,St)}operatorListChanged(){var St;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(St=this.stepper)==null||St.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Jr(this,H0,window.requestAnimationFrame(()=>{Jr(this,H0,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),br(Vv,_y).delete(this._canvas),this.callback())))}};H0=new WeakMap,_y=new WeakMap,sn(Vv,_y,new WeakSet);let InternalRenderTask=Vv;const version="5.3.31",build="47ad820d9";function makeColorComp(er){return Math.floor(Math.max(0,Math.min(1,er))*255).toString(16).padStart(2,"0")}function scaleAndClamp(er){return Math.max(0,Math.min(255,255*er))}class ColorConverters{static CMYK_G([St,tr,rr,nr]){return["G",1-Math.min(1,.3*St+.59*rr+.11*tr+nr)]}static G_CMYK([St]){return["CMYK",0,0,0,1-St]}static G_RGB([St]){return["RGB",St,St,St]}static G_rgb([St]){return St=scaleAndClamp(St),[St,St,St]}static G_HTML([St]){const tr=makeColorComp(St);return`#${tr}${tr}${tr}`}static RGB_G([St,tr,rr]){return["G",.3*St+.59*tr+.11*rr]}static RGB_rgb(St){return St.map(scaleAndClamp)}static RGB_HTML(St){return`#${St.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([St,tr,rr,nr]){return["RGB",1-Math.min(1,St+nr),1-Math.min(1,rr+nr),1-Math.min(1,tr+nr)]}static CMYK_rgb([St,tr,rr,nr]){return[scaleAndClamp(1-Math.min(1,St+nr)),scaleAndClamp(1-Math.min(1,rr+nr)),scaleAndClamp(1-Math.min(1,tr+nr))]}static CMYK_HTML(St){const tr=this.CMYK_RGB(St).slice(1);return this.RGB_HTML(tr)}static RGB_CMYK([St,tr,rr]){const nr=1-St,sr=1-tr,ir=1-rr,ar=Math.min(nr,sr,ir);return["CMYK",nr,sr,ir,ar]}}class BaseSVGFactory{create(St,tr,rr=!1){if(St<=0||tr<=0)throw new Error("Invalid SVG dimensions");const nr=this._createSVG("svg:svg");return nr.setAttribute("version","1.1"),rr||(nr.setAttribute("width",`${St}px`),nr.setAttribute("height",`${tr}px`)),nr.setAttribute("preserveAspectRatio","none"),nr.setAttribute("viewBox",`0 0 ${St} ${tr}`),nr}createElement(St){if(typeof St!="string")throw new Error("Invalid SVG element type");return this._createSVG(St)}_createSVG(St){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(St){return document.createElementNS(SVG_NS,St)}}class XfaLayer{static setupStorage(St,tr,rr,nr,sr){const ir=nr.getValue(tr,{value:null});switch(rr.name){case"textarea":if(ir.value!==null&&(St.textContent=ir.value),sr==="print")break;St.addEventListener("input",ar=>{nr.setValue(tr,{value:ar.target.value})});break;case"input":if(rr.attributes.type==="radio"||rr.attributes.type==="checkbox"){if(ir.value===rr.attributes.xfaOn?St.setAttribute("checked",!0):ir.value===rr.attributes.xfaOff&&St.removeAttribute("checked"),sr==="print")break;St.addEventListener("change",ar=>{nr.setValue(tr,{value:ar.target.checked?ar.target.getAttribute("xfaOn"):ar.target.getAttribute("xfaOff")})})}else{if(ir.value!==null&&St.setAttribute("value",ir.value),sr==="print")break;St.addEventListener("input",ar=>{nr.setValue(tr,{value:ar.target.value})})}break;case"select":if(ir.value!==null){St.setAttribute("value",ir.value);for(const ar of rr.children)ar.attributes.value===ir.value?ar.attributes.selected=!0:ar.attributes.hasOwnProperty("selected")&&delete ar.attributes.selected}St.addEventListener("input",ar=>{const or=ar.target.options,lr=or.selectedIndex===-1?"":or[or.selectedIndex].value;nr.setValue(tr,{value:lr})});break}}static setAttributes({html:St,element:tr,storage:rr=null,intent:nr,linkService:sr}){const{attributes:ir}=tr,ar=St instanceof HTMLAnchorElement;ir.type==="radio"&&(ir.name=`${ir.name}-${nr}`);for(const[or,lr]of Object.entries(ir))if(lr!=null)switch(or){case"class":lr.length&&St.setAttribute(or,lr.join(" "));break;case"dataId":break;case"id":St.setAttribute("data-element-id",lr);break;case"style":Object.assign(St.style,lr);break;case"textContent":St.textContent=lr;break;default:(!ar||or!=="href"&&or!=="newWindow")&&St.setAttribute(or,lr)}ar&&sr.addLinkAttributes(St,ir.href,ir.newWindow),rr&&ir.dataId&&this.setupStorage(St,ir.dataId,tr,rr)}static render(St){var ur,dr;const tr=St.annotationStorage,rr=St.linkService,nr=St.xfaHtml,sr=St.intent||"display",ir=document.createElement(nr.name);nr.attributes&&this.setAttributes({html:ir,element:nr,intent:sr,linkService:rr});const ar=sr!=="richText",or=St.div;if(or.append(ir),St.viewport){const hr=`matrix(${St.viewport.transform.join(",")})`;or.style.transform=hr}ar&&or.setAttribute("class","xfaLayer xfaFont");const lr=[];if(nr.children.length===0){if(nr.value){const hr=document.createTextNode(nr.value);ir.append(hr),ar&&XfaText.shouldBuildText(nr.name)&&lr.push(hr)}return{textDivs:lr}}const cr=[[nr,-1,ir]];for(;cr.length>0;){const[hr,Ar,fr]=cr.at(-1);if(Ar+1===hr.children.length){cr.pop();continue}const mr=hr.children[++cr.at(-1)[1]];if(mr===null)continue;const{name:pr}=mr;if(pr==="#text"){const xr=document.createTextNode(mr.value);lr.push(xr),fr.append(xr);continue}const gr=(ur=mr==null?void 0:mr.attributes)!=null&&ur.xmlns?document.createElementNS(mr.attributes.xmlns,pr):document.createElement(pr);if(fr.append(gr),mr.attributes&&this.setAttributes({html:gr,element:mr,storage:tr,intent:sr,linkService:rr}),((dr=mr.children)==null?void 0:dr.length)>0)cr.push([mr,-1,gr]);else if(mr.value){const xr=document.createTextNode(mr.value);ar&&XfaText.shouldBuildText(pr)&&lr.push(xr),gr.append(xr)}}for(const hr of or.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))hr.setAttribute("readOnly",!0);return{textDivs:lr}}static update(St){const tr=`matrix(${St.viewport.transform.join(",")})`;St.div.style.transform=tr,St.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;class AnnotationElementFactory{static create(St){switch(St.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(St);case AnnotationType.TEXT:return new TextAnnotationElement(St);case AnnotationType.WIDGET:switch(St.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(St);case"Btn":return St.data.radioButton?new RadioButtonWidgetAnnotationElement(St):St.data.checkBox?new CheckboxWidgetAnnotationElement(St):new PushButtonWidgetAnnotationElement(St);case"Ch":return new ChoiceWidgetAnnotationElement(St);case"Sig":return new SignatureWidgetAnnotationElement(St)}return new WidgetAnnotationElement(St);case AnnotationType.POPUP:return new PopupAnnotationElement(St);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(St);case AnnotationType.LINE:return new LineAnnotationElement(St);case AnnotationType.SQUARE:return new SquareAnnotationElement(St);case AnnotationType.CIRCLE:return new CircleAnnotationElement(St);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(St);case AnnotationType.CARET:return new CaretAnnotationElement(St);case AnnotationType.INK:return new InkAnnotationElement(St);case AnnotationType.POLYGON:return new PolygonAnnotationElement(St);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(St);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(St);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(St);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(St);case AnnotationType.STAMP:return new StampAnnotationElement(St);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(St);default:return new AnnotationElement(St)}}}var Sy,pE,mE,w_,$j;const TR=class TR{constructor(St,{isRenderable:tr=!1,ignoreBorder:rr=!1,createQuadrilaterals:nr=!1}={}){sn(this,w_);sn(this,Sy,null);sn(this,pE,!1);sn(this,mE,null);this.isRenderable=tr,this.data=St.data,this.layer=St.layer,this.linkService=St.linkService,this.downloadManager=St.downloadManager,this.imageResourcesPath=St.imageResourcesPath,this.renderForms=St.renderForms,this.svgFactory=St.svgFactory,this.annotationStorage=St.annotationStorage,this.enableScripting=St.enableScripting,this.hasJSActions=St.hasJSActions,this._fieldObjects=St.fieldObjects,this.parent=St.parent,tr&&(this.container=this._createContainer(rr)),nr&&this._createQuadrilaterals()}static _hasPopupData({titleObj:St,contentsObj:tr,richText:rr}){return!!(St!=null&&St.str||tr!=null&&tr.str||rr!=null&&rr.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return TR._hasPopupData(this.data)}updateEdited(St){var rr;if(!this.container)return;br(this,Sy)||Jr(this,Sy,{rect:this.data.rect.slice(0)});const{rect:tr}=St;tr&&an(this,w_,$j).call(this,tr),(rr=br(this,mE))==null||rr.popup.updateEdited(St)}resetEdited(){var St;br(this,Sy)&&(an(this,w_,$j).call(this,br(this,Sy).rect),(St=br(this,mE))==null||St.popup.resetEdited(),Jr(this,Sy,null))}_createContainer(St){const{data:tr,parent:{page:rr,viewport:nr}}=this,sr=document.createElement("section");sr.setAttribute("data-annotation-id",tr.id),this instanceof WidgetAnnotationElement||(sr.tabIndex=DEFAULT_TAB_INDEX);const{style:ir}=sr;if(ir.zIndex=this.parent.zIndex++,tr.alternativeText&&(sr.title=tr.alternativeText),tr.noRotate&&sr.classList.add("norotate"),!tr.rect||this instanceof PopupAnnotationElement){const{rotation:fr}=tr;return!tr.hasOwnCanvas&&fr!==0&&this.setRotation(fr,sr),sr}const{width:ar,height:or}=this;if(!St&&tr.borderStyle.width>0){ir.borderWidth=`${tr.borderStyle.width}px`;const fr=tr.borderStyle.horizontalCornerRadius,mr=tr.borderStyle.verticalCornerRadius;if(fr>0||mr>0){const gr=`calc(${fr}px * var(--total-scale-factor)) / calc(${mr}px * var(--total-scale-factor))`;ir.borderRadius=gr}else if(this instanceof RadioButtonWidgetAnnotationElement){const gr=`calc(${ar}px * var(--total-scale-factor)) / calc(${or}px * var(--total-scale-factor))`;ir.borderRadius=gr}switch(tr.borderStyle.style){case AnnotationBorderStyleType.SOLID:ir.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:ir.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn$1("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn$1("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:ir.borderBottomStyle="solid";break}const pr=tr.borderColor||null;pr?(Jr(this,pE,!0),ir.borderColor=Util.makeHexColor(pr[0]|0,pr[1]|0,pr[2]|0)):ir.borderWidth=0}const lr=Util.normalizeRect([tr.rect[0],rr.view[3]-tr.rect[1]+rr.view[1],tr.rect[2],rr.view[3]-tr.rect[3]+rr.view[1]]),{pageWidth:cr,pageHeight:ur,pageX:dr,pageY:hr}=nr.rawDims;ir.left=`${100*(lr[0]-dr)/cr}%`,ir.top=`${100*(lr[1]-hr)/ur}%`;const{rotation:Ar}=tr;return tr.hasOwnCanvas||Ar===0?(ir.width=`${100*ar/cr}%`,ir.height=`${100*or/ur}%`):this.setRotation(Ar,sr),sr}setRotation(St,tr=this.container){if(!this.data.rect)return;const{pageWidth:rr,pageHeight:nr}=this.parent.viewport.rawDims;let{width:sr,height:ir}=this;St%180!==0&&([sr,ir]=[ir,sr]),tr.style.width=`${100*sr/rr}%`,tr.style.height=`${100*ir/nr}%`,tr.setAttribute("data-main-rotation",(360-St)%360)}get _commonActions(){const St=(tr,rr,nr)=>{const sr=nr.detail[tr],ir=sr[0],ar=sr.slice(1);nr.target.style[rr]=ColorConverters[`${ir}_HTML`](ar),this.annotationStorage.setValue(this.data.id,{[rr]:ColorConverters[`${ir}_rgb`](ar)})};return shadow(this,"_commonActions",{display:tr=>{const{display:rr}=tr.detail,nr=rr%2===1;this.container.style.visibility=nr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:nr,noPrint:rr===1||rr===2})},print:tr=>{this.annotationStorage.setValue(this.data.id,{noPrint:!tr.detail.print})},hidden:tr=>{const{hidden:rr}=tr.detail;this.container.style.visibility=rr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:rr,noView:rr})},focus:tr=>{setTimeout(()=>tr.target.focus({preventScroll:!1}),0)},userName:tr=>{tr.target.title=tr.detail.userName},readonly:tr=>{tr.target.disabled=tr.detail.readonly},required:tr=>{this._setRequired(tr.target,tr.detail.required)},bgColor:tr=>{St("bgColor","backgroundColor",tr)},fillColor:tr=>{St("fillColor","backgroundColor",tr)},fgColor:tr=>{St("fgColor","color",tr)},textColor:tr=>{St("textColor","color",tr)},borderColor:tr=>{St("borderColor","borderColor",tr)},strokeColor:tr=>{St("strokeColor","borderColor",tr)},rotation:tr=>{const rr=tr.detail.rotation;this.setRotation(rr),this.annotationStorage.setValue(this.data.id,{rotation:rr})}})}_dispatchEventFromSandbox(St,tr){const rr=this._commonActions;for(const nr of Object.keys(tr.detail)){const sr=St[nr]||rr[nr];sr==null||sr(tr)}}_setDefaultPropertiesFromJS(St){if(!this.enableScripting)return;const tr=this.annotationStorage.getRawValue(this.data.id);if(!tr)return;const rr=this._commonActions;for(const[nr,sr]of Object.entries(tr)){const ir=rr[nr];if(ir){const ar={detail:{[nr]:sr},target:St};ir(ar),delete tr[nr]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:St}=this.data;if(!St)return;const[tr,rr,nr,sr]=this.data.rect.map(fr=>Math.fround(fr));if(St.length===8){const[fr,mr,pr,gr]=St.subarray(2,6);if(nr===fr&&sr===mr&&tr===pr&&rr===gr)return}const{style:ir}=this.container;let ar;if(br(this,pE)){const{borderColor:fr,borderWidth:mr}=ir;ir.borderWidth=0,ar=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${fr}" stroke-width="${mr}">`],this.container.classList.add("hasBorder")}const or=nr-tr,lr=sr-rr,{svgFactory:cr}=this,ur=cr.createElement("svg");ur.classList.add("quadrilateralsContainer"),ur.setAttribute("width",0),ur.setAttribute("height",0);const dr=cr.createElement("defs");ur.append(dr);const hr=cr.createElement("clipPath"),Ar=`clippath_${this.data.id}`;hr.setAttribute("id",Ar),hr.setAttribute("clipPathUnits","objectBoundingBox"),dr.append(hr);for(let fr=2,mr=St.length;fr<mr;fr+=8){const pr=St[fr],gr=St[fr+1],xr=St[fr+2],yr=St[fr+3],Er=cr.createElement("rect"),_r=(xr-tr)/or,Sr=(sr-gr)/lr,jr=(pr-xr)/or,Pr=(gr-yr)/lr;Er.setAttribute("x",_r),Er.setAttribute("y",Sr),Er.setAttribute("width",jr),Er.setAttribute("height",Pr),hr.append(Er),ar==null||ar.push(`<rect vector-effect="non-scaling-stroke" x="${_r}" y="${Sr}" width="${jr}" height="${Pr}"/>`)}br(this,pE)&&(ar.push("</g></svg>')"),ir.backgroundImage=ar.join("")),this.container.append(ur),this.container.style.clipPath=`url(#${Ar})`}_createPopup(){const{data:St}=this,tr=Jr(this,mE,new PopupAnnotationElement({data:{color:St.color,titleObj:St.titleObj,modificationDate:St.modificationDate,contentsObj:St.contentsObj,richText:St.richText,parentRect:St.rect,borderStyle:0,id:`popup_${St.id}`,rotation:St.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(tr.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(St,tr=null){const rr=[];if(this._fieldObjects){const nr=this._fieldObjects[St];if(nr)for(const{page:sr,id:ir,exportValues:ar}of nr){if(sr===-1||ir===tr)continue;const or=typeof ar=="string"?ar:null,lr=document.querySelector(`[data-element-id="${ir}"]`);if(lr&&!GetElementsByNameSet.has(lr)){warn$1(`_getElementsByName - element not allowed: ${ir}`);continue}rr.push({id:ir,exportValue:or,domElement:lr})}return rr}for(const nr of document.getElementsByName(St)){const{exportValue:sr}=nr,ir=nr.getAttribute("data-element-id");ir!==tr&&GetElementsByNameSet.has(nr)&&rr.push({id:ir,exportValue:sr,domElement:nr})}return rr}show(){var St;this.container&&(this.container.hidden=!1),(St=this.popup)==null||St.maybeShow()}hide(){var St;this.container&&(this.container.hidden=!0),(St=this.popup)==null||St.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const St=this.getElementsToTriggerPopup();if(Array.isArray(St))for(const tr of St)tr.classList.add("highlightArea");else St.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:St,data:{id:tr}}=this;this.container.addEventListener("dblclick",()=>{var rr;(rr=this.linkService.eventBus)==null||rr.dispatch("switchannotationeditormode",{source:this,mode:St,editId:tr})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Sy=new WeakMap,pE=new WeakMap,mE=new WeakMap,w_=new WeakSet,$j=function(St){const{container:{style:tr},data:{rect:rr,rotation:nr},parent:{viewport:{rawDims:{pageWidth:sr,pageHeight:ir,pageX:ar,pageY:or}}}}=this;rr==null||rr.splice(0,4,...St),tr.left=`${100*(St[0]-ar)/sr}%`,tr.top=`${100*(ir-St[3]+or)/ir}%`,nr===0?(tr.width=`${100*(St[2]-St[0])/sr}%`,tr.height=`${100*(St[3]-St[1])/ir}%`):this.setRotation(nr)};let AnnotationElement=TR;var tp,Mv,LP,DP;class LinkAnnotationElement extends AnnotationElement{constructor(tr,rr=null){super(tr,{isRenderable:!0,ignoreBorder:!!(rr!=null&&rr.ignoreBorder),createQuadrilaterals:!0});sn(this,tp);this.isTooltipOnly=tr.data.isTooltipOnly}render(){const{data:tr,linkService:rr}=this,nr=document.createElement("a");nr.setAttribute("data-element-id",tr.id);let sr=!1;return tr.url?(rr.addLinkAttributes(nr,tr.url,tr.newWindow),sr=!0):tr.action?(this._bindNamedAction(nr,tr.action),sr=!0):tr.attachment?(an(this,tp,LP).call(this,nr,tr.attachment,tr.attachmentDest),sr=!0):tr.setOCGState?(an(this,tp,DP).call(this,nr,tr.setOCGState),sr=!0):tr.dest?(this._bindLink(nr,tr.dest),sr=!0):(tr.actions&&(tr.actions.Action||tr.actions["Mouse Up"]||tr.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(nr,tr),sr=!0),tr.resetForm?(this._bindResetFormAction(nr,tr.resetForm),sr=!0):this.isTooltipOnly&&!sr&&(this._bindLink(nr,""),sr=!0)),this.container.classList.add("linkAnnotation"),sr&&this.container.append(nr),this.container}_bindLink(tr,rr){tr.href=this.linkService.getDestinationHash(rr),tr.onclick=()=>(rr&&this.linkService.goToDestination(rr),!1),(rr||rr==="")&&an(this,tp,Mv).call(this)}_bindNamedAction(tr,rr){tr.href=this.linkService.getAnchorUrl(""),tr.onclick=()=>(this.linkService.executeNamedAction(rr),!1),an(this,tp,Mv).call(this)}_bindJSAction(tr,rr){tr.href=this.linkService.getAnchorUrl("");const nr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const sr of Object.keys(rr.actions)){const ir=nr.get(sr);ir&&(tr[ir]=()=>{var ar;return(ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr.id,name:sr}}),!1})}tr.onclick||(tr.onclick=()=>!1),an(this,tp,Mv).call(this)}_bindResetFormAction(tr,rr){const nr=tr.onclick;if(nr||(tr.href=this.linkService.getAnchorUrl("")),an(this,tp,Mv).call(this),!this._fieldObjects){warn$1('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),nr||(tr.onclick=()=>!1);return}tr.onclick=()=>{var ur;nr==null||nr();const{fields:sr,refs:ir,include:ar}=rr,or=[];if(sr.length!==0||ir.length!==0){const dr=new Set(ir);for(const hr of sr){const Ar=this._fieldObjects[hr]||[];for(const{id:fr}of Ar)dr.add(fr)}for(const hr of Object.values(this._fieldObjects))for(const Ar of hr)dr.has(Ar.id)===ar&&or.push(Ar)}else for(const dr of Object.values(this._fieldObjects))or.push(...dr);const lr=this.annotationStorage,cr=[];for(const dr of or){const{id:hr}=dr;switch(cr.push(hr),dr.type){case"text":{const fr=dr.defaultValue||"";lr.setValue(hr,{value:fr});break}case"checkbox":case"radiobutton":{const fr=dr.defaultValue===dr.exportValues;lr.setValue(hr,{value:fr});break}case"combobox":case"listbox":{const fr=dr.defaultValue||"";lr.setValue(hr,{value:fr});break}default:continue}const Ar=document.querySelector(`[data-element-id="${hr}"]`);if(Ar){if(!GetElementsByNameSet.has(Ar)){warn$1(`_bindResetFormAction - element not allowed: ${hr}`);continue}}else continue;Ar.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ur=this.linkService.eventBus)==null||ur.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:cr,name:"ResetForm"}})),!1}}}tp=new WeakSet,Mv=function(){this.container.setAttribute("data-internal-link","")},LP=function(tr,rr,nr=null){tr.href=this.linkService.getAnchorUrl(""),rr.description&&(tr.title=rr.description),tr.onclick=()=>{var sr;return(sr=this.downloadManager)==null||sr.openOrDownloadData(rr.content,rr.filename,nr),!1},an(this,tp,Mv).call(this)},DP=function(tr,rr){tr.href=this.linkService.getAnchorUrl(""),tr.onclick=()=>(this.linkService.executeSetOCGState(rr),!1),an(this,tp,Mv).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const St=document.createElement("img");return St.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",St.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),St.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(St),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(St){var tr;this.data.hasOwnCanvas&&(((tr=St.previousSibling)==null?void 0:tr.nodeName)==="CANVAS"&&(St.previousSibling.hidden=!0),St.hidden=!1)}_getKeyModifier(St){return util_FeatureTest.platform.isMac?St.metaKey:St.ctrlKey}_setEventListener(St,tr,rr,nr,sr){rr.includes("mouse")?St.addEventListener(rr,ir=>{var ar;(ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:nr,value:sr(ir),shift:ir.shiftKey,modifier:this._getKeyModifier(ir)}})}):St.addEventListener(rr,ir=>{var ar;if(rr==="blur"){if(!tr.focused||!ir.relatedTarget)return;tr.focused=!1}else if(rr==="focus"){if(tr.focused)return;tr.focused=!0}sr&&((ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:nr,value:sr(ir)}}))})}_setEventListeners(St,tr,rr,nr){var sr,ir,ar;for(const[or,lr]of rr)(lr==="Action"||(sr=this.data.actions)!=null&&sr[lr])&&((lr==="Focus"||lr==="Blur")&&(tr||(tr={focused:!1})),this._setEventListener(St,tr,or,lr,nr),lr==="Focus"&&!((ir=this.data.actions)!=null&&ir.Blur)?this._setEventListener(St,tr,"blur","Blur",null):lr==="Blur"&&!((ar=this.data.actions)!=null&&ar.Focus)&&this._setEventListener(St,tr,"focus","Focus",null))}_setBackgroundColor(St){const tr=this.data.backgroundColor||null;St.style.backgroundColor=tr===null?"transparent":Util.makeHexColor(tr[0],tr[1],tr[2])}_setTextStyle(St){const tr=["left","center","right"],{fontColor:rr}=this.data.defaultAppearanceData,nr=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,sr=St.style;let ir;const ar=2,or=lr=>Math.round(10*lr)/10;if(this.data.multiLine){const lr=Math.abs(this.data.rect[3]-this.data.rect[1]-ar),cr=Math.round(lr/(LINE_FACTOR*nr))||1,ur=lr/cr;ir=Math.min(nr,or(ur/LINE_FACTOR))}else{const lr=Math.abs(this.data.rect[3]-this.data.rect[1]-ar);ir=Math.min(nr,or(lr/LINE_FACTOR))}sr.fontSize=`calc(${ir}px * var(--total-scale-factor))`,sr.color=Util.makeHexColor(rr[0],rr[1],rr[2]),this.data.textAlignment!==null&&(sr.textAlign=tr[this.data.textAlignment])}_setRequired(St,tr){tr?St.setAttribute("required",!0):St.removeAttribute("required"),St.setAttribute("aria-required",tr)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(St){const tr=St.renderForms||St.data.hasOwnCanvas||!St.data.hasAppearance&&!!St.data.fieldValue;super(St,{isRenderable:tr})}setPropertyOnSiblings(St,tr,rr,nr){const sr=this.annotationStorage;for(const ir of this._getElementsByName(St.name,St.id))ir.domElement&&(ir.domElement[tr]=rr),sr.setValue(ir.id,{[nr]:rr})}render(){var nr,sr;const St=this.annotationStorage,tr=this.data.id;this.container.classList.add("textWidgetAnnotation");let rr=null;if(this.renderForms){const ir=St.getValue(tr,{value:this.data.fieldValue});let ar=ir.value||"";const or=St.getValue(tr,{charLimit:this.data.maxLen}).charLimit;or&&ar.length>or&&(ar=ar.slice(0,or));let lr=ir.formattedValue||((nr=this.data.textContent)==null?void 0:nr.join(`
`))||null;lr&&this.data.comb&&(lr=lr.replaceAll(/\s+/g,""));const cr={userValue:ar,formattedValue:lr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(rr=document.createElement("textarea"),rr.textContent=lr??ar,this.data.doNotScroll&&(rr.style.overflowY="hidden")):(rr=document.createElement("input"),rr.type=this.data.password?"password":"text",rr.setAttribute("value",lr??ar),this.data.doNotScroll&&(rr.style.overflowX="hidden")),this.data.hasOwnCanvas&&(rr.hidden=!0),GetElementsByNameSet.add(rr),rr.setAttribute("data-element-id",tr),rr.disabled=this.data.readOnly,rr.name=this.data.fieldName,rr.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(rr,this.data.required),or&&(rr.maxLength=or),rr.addEventListener("input",dr=>{St.setValue(tr,{value:dr.target.value}),this.setPropertyOnSiblings(rr,"value",dr.target.value,"value"),cr.formattedValue=null}),rr.addEventListener("resetform",dr=>{const hr=this.data.defaultFieldValue??"";rr.value=cr.userValue=hr,cr.formattedValue=null});let ur=dr=>{const{formattedValue:hr}=cr;hr!=null&&(dr.target.value=hr),dr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){rr.addEventListener("focus",hr=>{var fr;if(cr.focused)return;const{target:Ar}=hr;cr.userValue&&(Ar.value=cr.userValue),cr.lastCommittedValue=Ar.value,cr.commitKey=1,(fr=this.data.actions)!=null&&fr.Focus||(cr.focused=!0)}),rr.addEventListener("updatefromsandbox",hr=>{this.showElementAndHideCanvas(hr.target);const Ar={value(fr){cr.userValue=fr.detail.value??"",St.setValue(tr,{value:cr.userValue.toString()}),fr.target.value=cr.userValue},formattedValue(fr){const{formattedValue:mr}=fr.detail;cr.formattedValue=mr,mr!=null&&fr.target!==document.activeElement&&(fr.target.value=mr),St.setValue(tr,{formattedValue:mr})},selRange(fr){fr.target.setSelectionRange(...fr.detail.selRange)},charLimit:fr=>{var xr;const{charLimit:mr}=fr.detail,{target:pr}=fr;if(mr===0){pr.removeAttribute("maxLength");return}pr.setAttribute("maxLength",mr);let gr=cr.userValue;!gr||gr.length<=mr||(gr=gr.slice(0,mr),pr.value=cr.userValue=gr,St.setValue(tr,{value:gr}),(xr=this.linkService.eventBus)==null||xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tr,name:"Keystroke",value:gr,willCommit:!0,commitKey:1,selStart:pr.selectionStart,selEnd:pr.selectionEnd}}))}};this._dispatchEventFromSandbox(Ar,hr)}),rr.addEventListener("keydown",hr=>{var mr;cr.commitKey=1;let Ar=-1;if(hr.key==="Escape"?Ar=0:hr.key==="Enter"&&!this.data.multiLine?Ar=2:hr.key==="Tab"&&(cr.commitKey=3),Ar===-1)return;const{value:fr}=hr.target;cr.lastCommittedValue!==fr&&(cr.lastCommittedValue=fr,cr.userValue=fr,(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tr,name:"Keystroke",value:fr,willCommit:!0,commitKey:Ar,selStart:hr.target.selectionStart,selEnd:hr.target.selectionEnd}}))});const dr=ur;ur=null,rr.addEventListener("blur",hr=>{var fr,mr;if(!cr.focused||!hr.relatedTarget)return;(fr=this.data.actions)!=null&&fr.Blur||(cr.focused=!1);const{value:Ar}=hr.target;cr.userValue=Ar,cr.lastCommittedValue!==Ar&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tr,name:"Keystroke",value:Ar,willCommit:!0,commitKey:cr.commitKey,selStart:hr.target.selectionStart,selEnd:hr.target.selectionEnd}})),dr(hr)}),(sr=this.data.actions)!=null&&sr.Keystroke&&rr.addEventListener("beforeinput",hr=>{var Er;cr.lastCommittedValue=null;const{data:Ar,target:fr}=hr,{value:mr,selectionStart:pr,selectionEnd:gr}=fr;let xr=pr,yr=gr;switch(hr.inputType){case"deleteWordBackward":{const _r=mr.substring(0,pr).match(/\w*[^\w]*$/);_r&&(xr-=_r[0].length);break}case"deleteWordForward":{const _r=mr.substring(pr).match(/^[^\w]*\w*/);_r&&(yr+=_r[0].length);break}case"deleteContentBackward":pr===gr&&(xr-=1);break;case"deleteContentForward":pr===gr&&(yr+=1);break}hr.preventDefault(),(Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tr,name:"Keystroke",value:mr,change:Ar||"",willCommit:!1,selStart:xr,selEnd:yr}})}),this._setEventListeners(rr,cr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],hr=>hr.target.value)}if(ur&&rr.addEventListener("blur",ur),this.data.comb){const hr=(this.data.rect[2]-this.data.rect[0])/or;rr.classList.add("comb"),rr.style.letterSpacing=`calc(${hr}px * var(--total-scale-factor) - 1ch)`}}else rr=document.createElement("div"),rr.textContent=this.data.fieldValue,rr.style.verticalAlign="middle",rr.style.display="table-cell",this.data.hasOwnCanvas&&(rr.hidden=!0);return this._setTextStyle(rr),this._setBackgroundColor(rr),this._setDefaultPropertiesFromJS(rr),this.container.append(rr),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(St){super(St,{isRenderable:!!St.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(St){super(St,{isRenderable:St.renderForms})}render(){const St=this.annotationStorage,tr=this.data,rr=tr.id;let nr=St.getValue(rr,{value:tr.exportValue===tr.fieldValue}).value;typeof nr=="string"&&(nr=nr!=="Off",St.setValue(rr,{value:nr})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const sr=document.createElement("input");return GetElementsByNameSet.add(sr),sr.setAttribute("data-element-id",rr),sr.disabled=tr.readOnly,this._setRequired(sr,this.data.required),sr.type="checkbox",sr.name=tr.fieldName,nr&&sr.setAttribute("checked",!0),sr.setAttribute("exportValue",tr.exportValue),sr.tabIndex=DEFAULT_TAB_INDEX,sr.addEventListener("change",ir=>{const{name:ar,checked:or}=ir.target;for(const lr of this._getElementsByName(ar,rr)){const cr=or&&lr.exportValue===tr.exportValue;lr.domElement&&(lr.domElement.checked=cr),St.setValue(lr.id,{value:cr})}St.setValue(rr,{value:or})}),sr.addEventListener("resetform",ir=>{const ar=tr.defaultFieldValue||"Off";ir.target.checked=ar===tr.exportValue}),this.enableScripting&&this.hasJSActions&&(sr.addEventListener("updatefromsandbox",ir=>{const ar={value(or){or.target.checked=or.detail.value!=="Off",St.setValue(rr,{value:or.target.checked})}};this._dispatchEventFromSandbox(ar,ir)}),this._setEventListeners(sr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ir=>ir.target.checked)),this._setBackgroundColor(sr),this._setDefaultPropertiesFromJS(sr),this.container.append(sr),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(St){super(St,{isRenderable:St.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const St=this.annotationStorage,tr=this.data,rr=tr.id;let nr=St.getValue(rr,{value:tr.fieldValue===tr.buttonValue}).value;if(typeof nr=="string"&&(nr=nr!==tr.buttonValue,St.setValue(rr,{value:nr})),nr)for(const ir of this._getElementsByName(tr.fieldName,rr))St.setValue(ir.id,{value:!1});const sr=document.createElement("input");if(GetElementsByNameSet.add(sr),sr.setAttribute("data-element-id",rr),sr.disabled=tr.readOnly,this._setRequired(sr,this.data.required),sr.type="radio",sr.name=tr.fieldName,nr&&sr.setAttribute("checked",!0),sr.tabIndex=DEFAULT_TAB_INDEX,sr.addEventListener("change",ir=>{const{name:ar,checked:or}=ir.target;for(const lr of this._getElementsByName(ar,rr))St.setValue(lr.id,{value:!1});St.setValue(rr,{value:or})}),sr.addEventListener("resetform",ir=>{const ar=tr.defaultFieldValue;ir.target.checked=ar!=null&&ar===tr.buttonValue}),this.enableScripting&&this.hasJSActions){const ir=tr.buttonValue;sr.addEventListener("updatefromsandbox",ar=>{const or={value:lr=>{const cr=ir===lr.detail.value;for(const ur of this._getElementsByName(lr.target.name)){const dr=cr&&ur.id===rr;ur.domElement&&(ur.domElement.checked=dr),St.setValue(ur.id,{value:dr})}}};this._dispatchEventFromSandbox(or,ar)}),this._setEventListeners(sr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ar=>ar.target.checked)}return this._setBackgroundColor(sr),this._setDefaultPropertiesFromJS(sr),this.container.append(sr),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(St){super(St,{ignoreBorder:St.data.hasAppearance})}render(){const St=super.render();St.classList.add("buttonWidgetAnnotation","pushButton");const tr=St.lastChild;return this.enableScripting&&this.hasJSActions&&tr&&(this._setDefaultPropertiesFromJS(tr),tr.addEventListener("updatefromsandbox",rr=>{this._dispatchEventFromSandbox({},rr)})),St}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(St){super(St,{isRenderable:St.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const St=this.annotationStorage,tr=this.data.id,rr=St.getValue(tr,{value:this.data.fieldValue}),nr=document.createElement("select");GetElementsByNameSet.add(nr),nr.setAttribute("data-element-id",tr),nr.disabled=this.data.readOnly,this._setRequired(nr,this.data.required),nr.name=this.data.fieldName,nr.tabIndex=DEFAULT_TAB_INDEX;let sr=this.data.combo&&this.data.options.length>0;this.data.combo||(nr.size=this.data.options.length,this.data.multiSelect&&(nr.multiple=!0)),nr.addEventListener("resetform",cr=>{const ur=this.data.defaultFieldValue;for(const dr of nr.options)dr.selected=dr.value===ur});for(const cr of this.data.options){const ur=document.createElement("option");ur.textContent=cr.displayValue,ur.value=cr.exportValue,rr.value.includes(cr.exportValue)&&(ur.setAttribute("selected",!0),sr=!1),nr.append(ur)}let ir=null;if(sr){const cr=document.createElement("option");cr.value=" ",cr.setAttribute("hidden",!0),cr.setAttribute("selected",!0),nr.prepend(cr),ir=()=>{cr.remove(),nr.removeEventListener("input",ir),ir=null},nr.addEventListener("input",ir)}const ar=cr=>{const ur=cr?"value":"textContent",{options:dr,multiple:hr}=nr;return hr?Array.prototype.filter.call(dr,Ar=>Ar.selected).map(Ar=>Ar[ur]):dr.selectedIndex===-1?null:dr[dr.selectedIndex][ur]};let or=ar(!1);const lr=cr=>{const ur=cr.target.options;return Array.prototype.map.call(ur,dr=>({displayValue:dr.textContent,exportValue:dr.value}))};return this.enableScripting&&this.hasJSActions?(nr.addEventListener("updatefromsandbox",cr=>{const ur={value(dr){ir==null||ir();const hr=dr.detail.value,Ar=new Set(Array.isArray(hr)?hr:[hr]);for(const fr of nr.options)fr.selected=Ar.has(fr.value);St.setValue(tr,{value:ar(!0)}),or=ar(!1)},multipleSelection(dr){nr.multiple=!0},remove(dr){const hr=nr.options,Ar=dr.detail.remove;hr[Ar].selected=!1,nr.remove(Ar),hr.length>0&&Array.prototype.findIndex.call(hr,mr=>mr.selected)===-1&&(hr[0].selected=!0),St.setValue(tr,{value:ar(!0),items:lr(dr)}),or=ar(!1)},clear(dr){for(;nr.length!==0;)nr.remove(0);St.setValue(tr,{value:null,items:[]}),or=ar(!1)},insert(dr){const{index:hr,displayValue:Ar,exportValue:fr}=dr.detail.insert,mr=nr.children[hr],pr=document.createElement("option");pr.textContent=Ar,pr.value=fr,mr?mr.before(pr):nr.append(pr),St.setValue(tr,{value:ar(!0),items:lr(dr)}),or=ar(!1)},items(dr){const{items:hr}=dr.detail;for(;nr.length!==0;)nr.remove(0);for(const Ar of hr){const{displayValue:fr,exportValue:mr}=Ar,pr=document.createElement("option");pr.textContent=fr,pr.value=mr,nr.append(pr)}nr.options.length>0&&(nr.options[0].selected=!0),St.setValue(tr,{value:ar(!0),items:lr(dr)}),or=ar(!1)},indices(dr){const hr=new Set(dr.detail.indices);for(const Ar of dr.target.options)Ar.selected=hr.has(Ar.index);St.setValue(tr,{value:ar(!0)}),or=ar(!1)},editable(dr){dr.target.disabled=!dr.detail.editable}};this._dispatchEventFromSandbox(ur,cr)}),nr.addEventListener("input",cr=>{var hr;const ur=ar(!0),dr=ar(!1);St.setValue(tr,{value:ur}),cr.preventDefault(),(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tr,name:"Keystroke",value:or,change:dr,changeEx:ur,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(nr,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],cr=>cr.target.value)):nr.addEventListener("input",function(cr){St.setValue(tr,{value:ar(!0)})}),this.data.combo&&this._setTextStyle(nr),this._setBackgroundColor(nr),this._setDefaultPropertiesFromJS(nr),this.container.append(nr),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(St){const{data:tr,elements:rr}=St;super(St,{isRenderable:AnnotationElement._hasPopupData(tr)}),this.elements=rr,this.popup=null}render(){this.container.classList.add("popupAnnotation");const St=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),tr=[];for(const rr of this.elements)rr.popup=St,rr.container.ariaHasPopup="dialog",tr.push(rr.data.id),rr.addHighlightArea();return this.container.setAttribute("aria-controls",tr.map(rr=>`${AnnotationPrefix}${rr}`).join(",")),this.container}}var gE,I2,k2,xE,vE,Kl,Tx,yE,b_,__,EE,Px,Yp,Nx,S_,Bx,C_,Cy,jy,Ko,n2,eR,MP,$P,UP,HP,s2,i2,tR;class PopupElement{constructor({container:St,color:tr,elements:rr,titleObj:nr,modificationDate:sr,contentsObj:ir,richText:ar,parent:or,rect:lr,parentRect:cr,open:ur}){sn(this,Ko);sn(this,gE,an(this,Ko,UP).bind(this));sn(this,I2,an(this,Ko,tR).bind(this));sn(this,k2,an(this,Ko,i2).bind(this));sn(this,xE,an(this,Ko,s2).bind(this));sn(this,vE,null);sn(this,Kl,null);sn(this,Tx,null);sn(this,yE,null);sn(this,b_,null);sn(this,__,null);sn(this,EE,null);sn(this,Px,!1);sn(this,Yp,null);sn(this,Nx,null);sn(this,S_,null);sn(this,Bx,null);sn(this,C_,null);sn(this,Cy,null);sn(this,jy,!1);var dr;Jr(this,Kl,St),Jr(this,C_,nr),Jr(this,Tx,ir),Jr(this,Bx,ar),Jr(this,__,or),Jr(this,vE,tr),Jr(this,S_,lr),Jr(this,EE,cr),Jr(this,b_,rr),Jr(this,yE,PDFDateString.toDateObject(sr)),this.trigger=rr.flatMap(hr=>hr.getElementsToTriggerPopup());for(const hr of this.trigger)hr.addEventListener("click",br(this,xE)),hr.addEventListener("mouseenter",br(this,k2)),hr.addEventListener("mouseleave",br(this,I2)),hr.classList.add("popupTriggerArea");for(const hr of rr)(dr=hr.container)==null||dr.addEventListener("keydown",br(this,gE));br(this,Kl).hidden=!0,ur&&an(this,Ko,s2).call(this)}render(){if(br(this,Yp))return;const St=Jr(this,Yp,document.createElement("div"));if(St.className="popup",br(this,vE)){const sr=St.style.outlineColor=Util.makeHexColor(...br(this,vE));St.style.backgroundColor=`color-mix(in srgb, ${sr} 30%, white)`}const tr=document.createElement("span");tr.className="header";const rr=document.createElement("h1");if(tr.append(rr),{dir:rr.dir,str:rr.textContent}=br(this,C_),St.append(tr),br(this,yE)){const sr=document.createElement("span");sr.classList.add("popupDate"),sr.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),sr.setAttribute("data-l10n-args",JSON.stringify({dateObj:br(this,yE).valueOf()})),tr.append(sr)}const nr=br(this,Ko,n2);if(nr)XfaLayer.render({xfaHtml:nr,intent:"richText",div:St}),St.lastChild.classList.add("richText","popupContent");else{const sr=this._formatContents(br(this,Tx));St.append(sr)}br(this,Kl).append(St)}_formatContents({str:St,dir:tr}){const rr=document.createElement("p");rr.classList.add("popupContent"),rr.dir=tr;const nr=St.split(/(?:\r\n?|\n)/);for(let sr=0,ir=nr.length;sr<ir;++sr){const ar=nr[sr];rr.append(document.createTextNode(ar)),sr<ir-1&&rr.append(document.createElement("br"))}return rr}updateEdited({rect:St,popupContent:tr}){var rr;br(this,Cy)||Jr(this,Cy,{contentsObj:br(this,Tx),richText:br(this,Bx)}),St&&Jr(this,Nx,null),tr&&(Jr(this,Bx,an(this,Ko,$P).call(this,tr)),Jr(this,Tx,null)),(rr=br(this,Yp))==null||rr.remove(),Jr(this,Yp,null)}resetEdited(){var St;br(this,Cy)&&({contentsObj:_f(this,Tx)._,richText:_f(this,Bx)._}=br(this,Cy),Jr(this,Cy,null),(St=br(this,Yp))==null||St.remove(),Jr(this,Yp,null),Jr(this,Nx,null))}forceHide(){Jr(this,jy,this.isVisible),br(this,jy)&&(br(this,Kl).hidden=!0)}maybeShow(){br(this,jy)&&(br(this,Yp)||an(this,Ko,i2).call(this),Jr(this,jy,!1),br(this,Kl).hidden=!1)}get isVisible(){return br(this,Kl).hidden===!1}}gE=new WeakMap,I2=new WeakMap,k2=new WeakMap,xE=new WeakMap,vE=new WeakMap,Kl=new WeakMap,Tx=new WeakMap,yE=new WeakMap,b_=new WeakMap,__=new WeakMap,EE=new WeakMap,Px=new WeakMap,Yp=new WeakMap,Nx=new WeakMap,S_=new WeakMap,Bx=new WeakMap,C_=new WeakMap,Cy=new WeakMap,jy=new WeakMap,Ko=new WeakSet,n2=function(){const St=br(this,Bx),tr=br(this,Tx);return St!=null&&St.str&&(!(tr!=null&&tr.str)||tr.str===St.str)&&br(this,Bx).html||null},eR=function(){var St,tr,rr;return((rr=(tr=(St=br(this,Ko,n2))==null?void 0:St.attributes)==null?void 0:tr.style)==null?void 0:rr.fontSize)||0},MP=function(){var St,tr,rr;return((rr=(tr=(St=br(this,Ko,n2))==null?void 0:St.attributes)==null?void 0:tr.style)==null?void 0:rr.color)||null},$P=function(St){const tr=[],rr={str:St,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:tr}]}},nr={style:{color:br(this,Ko,MP),fontSize:br(this,Ko,eR)?`calc(${br(this,Ko,eR)}px * var(--total-scale-factor))`:""}};for(const sr of St.split(`
`))tr.push({name:"span",value:sr,attributes:nr});return rr},UP=function(St){St.altKey||St.shiftKey||St.ctrlKey||St.metaKey||(St.key==="Enter"||St.key==="Escape"&&br(this,Px))&&an(this,Ko,s2).call(this)},HP=function(){if(br(this,Nx)!==null)return;const{page:{view:St},viewport:{rawDims:{pageWidth:tr,pageHeight:rr,pageX:nr,pageY:sr}}}=br(this,__);let ir=!!br(this,EE),ar=ir?br(this,EE):br(this,S_);for(const Ar of br(this,b_))if(!ar||Util.intersect(Ar.data.rect,ar)!==null){ar=Ar.data.rect,ir=!0;break}const or=Util.normalizeRect([ar[0],St[3]-ar[1]+St[1],ar[2],St[3]-ar[3]+St[1]]),cr=ir?ar[2]-ar[0]+5:0,ur=or[0]+cr,dr=or[1];Jr(this,Nx,[100*(ur-nr)/tr,100*(dr-sr)/rr]);const{style:hr}=br(this,Kl);hr.left=`${br(this,Nx)[0]}%`,hr.top=`${br(this,Nx)[1]}%`},s2=function(){Jr(this,Px,!br(this,Px)),br(this,Px)?(an(this,Ko,i2).call(this),br(this,Kl).addEventListener("click",br(this,xE)),br(this,Kl).addEventListener("keydown",br(this,gE))):(an(this,Ko,tR).call(this),br(this,Kl).removeEventListener("click",br(this,xE)),br(this,Kl).removeEventListener("keydown",br(this,gE)))},i2=function(){br(this,Yp)||this.render(),this.isVisible?br(this,Px)&&br(this,Kl).classList.add("focused"):(an(this,Ko,HP).call(this),br(this,Kl).hidden=!1,br(this,Kl).style.zIndex=parseInt(br(this,Kl).style.zIndex)+1e3)},tR=function(){br(this,Kl).classList.remove("focused"),!(br(this,Px)||!this.isVisible)&&(br(this,Kl).hidden=!0,br(this,Kl).style.zIndex=parseInt(br(this,Kl).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0}),this.textContent=St.data.textContent,this.textPosition=St.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const St=document.createElement("div");St.classList.add("annotationTextContent"),St.setAttribute("role","comment");for(const tr of this.textContent){const rr=document.createElement("span");rr.textContent=tr,St.append(rr)}this.container.append(St)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var j_;class LineAnnotationElement extends AnnotationElement{constructor(tr){super(tr,{isRenderable:!0,ignoreBorder:!0});sn(this,j_,null)}render(){this.container.classList.add("lineAnnotation");const{data:tr,width:rr,height:nr}=this,sr=this.svgFactory.create(rr,nr,!0),ir=Jr(this,j_,this.svgFactory.createElement("svg:line"));return ir.setAttribute("x1",tr.rect[2]-tr.lineCoordinates[0]),ir.setAttribute("y1",tr.rect[3]-tr.lineCoordinates[1]),ir.setAttribute("x2",tr.rect[2]-tr.lineCoordinates[2]),ir.setAttribute("y2",tr.rect[3]-tr.lineCoordinates[3]),ir.setAttribute("stroke-width",tr.borderStyle.width||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),sr.append(ir),this.container.append(sr),!tr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return br(this,j_)}addHighlightArea(){this.container.classList.add("highlightArea")}}j_=new WeakMap;var R_;class SquareAnnotationElement extends AnnotationElement{constructor(tr){super(tr,{isRenderable:!0,ignoreBorder:!0});sn(this,R_,null)}render(){this.container.classList.add("squareAnnotation");const{data:tr,width:rr,height:nr}=this,sr=this.svgFactory.create(rr,nr,!0),ir=tr.borderStyle.width,ar=Jr(this,R_,this.svgFactory.createElement("svg:rect"));return ar.setAttribute("x",ir/2),ar.setAttribute("y",ir/2),ar.setAttribute("width",rr-ir),ar.setAttribute("height",nr-ir),ar.setAttribute("stroke-width",ir||1),ar.setAttribute("stroke","transparent"),ar.setAttribute("fill","transparent"),sr.append(ar),this.container.append(sr),!tr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return br(this,R_)}addHighlightArea(){this.container.classList.add("highlightArea")}}R_=new WeakMap;var T_;class CircleAnnotationElement extends AnnotationElement{constructor(tr){super(tr,{isRenderable:!0,ignoreBorder:!0});sn(this,T_,null)}render(){this.container.classList.add("circleAnnotation");const{data:tr,width:rr,height:nr}=this,sr=this.svgFactory.create(rr,nr,!0),ir=tr.borderStyle.width,ar=Jr(this,T_,this.svgFactory.createElement("svg:ellipse"));return ar.setAttribute("cx",rr/2),ar.setAttribute("cy",nr/2),ar.setAttribute("rx",rr/2-ir/2),ar.setAttribute("ry",nr/2-ir/2),ar.setAttribute("stroke-width",ir||1),ar.setAttribute("stroke","transparent"),ar.setAttribute("fill","transparent"),sr.append(ar),this.container.append(sr),!tr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return br(this,T_)}addHighlightArea(){this.container.classList.add("highlightArea")}}T_=new WeakMap;var P_;class PolylineAnnotationElement extends AnnotationElement{constructor(tr){super(tr,{isRenderable:!0,ignoreBorder:!0});sn(this,P_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:tr,vertices:rr,borderStyle:nr,popupRef:sr},width:ir,height:ar}=this;if(!rr)return this.container;const or=this.svgFactory.create(ir,ar,!0);let lr=[];for(let ur=0,dr=rr.length;ur<dr;ur+=2){const hr=rr[ur]-tr[0],Ar=tr[3]-rr[ur+1];lr.push(`${hr},${Ar}`)}lr=lr.join(" ");const cr=Jr(this,P_,this.svgFactory.createElement(this.svgElementName));return cr.setAttribute("points",lr),cr.setAttribute("stroke-width",nr.width||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),or.append(cr),this.container.append(or),!sr&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return br(this,P_)}addHighlightArea(){this.container.classList.add("highlightArea")}}P_=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(St){super(St),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var N_,Ry,B_,rR;class InkAnnotationElement extends AnnotationElement{constructor(tr){super(tr,{isRenderable:!0,ignoreBorder:!0});sn(this,B_);sn(this,N_,null);sn(this,Ry,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:tr,rotation:rr,inkLists:nr,borderStyle:sr,popupRef:ir}}=this,{transform:ar,width:or,height:lr}=an(this,B_,rR).call(this,rr,tr),cr=this.svgFactory.create(or,lr,!0),ur=Jr(this,N_,this.svgFactory.createElement("svg:g"));cr.append(ur),ur.setAttribute("stroke-width",sr.width||1),ur.setAttribute("stroke-linecap","round"),ur.setAttribute("stroke-linejoin","round"),ur.setAttribute("stroke-miterlimit",10),ur.setAttribute("stroke","transparent"),ur.setAttribute("fill","transparent"),ur.setAttribute("transform",ar);for(let dr=0,hr=nr.length;dr<hr;dr++){const Ar=this.svgFactory.createElement(this.svgElementName);br(this,Ry).push(Ar),Ar.setAttribute("points",nr[dr].join(",")),ur.append(Ar)}return!ir&&this.hasPopupData&&this._createPopup(),this.container.append(cr),this._editOnDoubleClick(),this.container}updateEdited(tr){super.updateEdited(tr);const{thickness:rr,points:nr,rect:sr}=tr,ir=br(this,N_);if(rr>=0&&ir.setAttribute("stroke-width",rr||1),nr)for(let ar=0,or=br(this,Ry).length;ar<or;ar++)br(this,Ry)[ar].setAttribute("points",nr[ar].join(","));if(sr){const{transform:ar,width:or,height:lr}=an(this,B_,rR).call(this,this.data.rotation,sr);ir.parentElement.setAttribute("viewBox",`0 0 ${or} ${lr}`),ir.setAttribute("transform",ar)}}getElementsToTriggerPopup(){return br(this,Ry)}addHighlightArea(){this.container.classList.add("highlightArea")}}N_=new WeakMap,Ry=new WeakMap,B_=new WeakSet,rR=function(tr,rr){switch(tr){case 90:return{transform:`rotate(90) translate(${-rr[0]},${rr[1]}) scale(1,-1)`,width:rr[3]-rr[1],height:rr[2]-rr[0]};case 180:return{transform:`rotate(180) translate(${-rr[2]},${rr[1]}) scale(1,-1)`,width:rr[2]-rr[0],height:rr[3]-rr[1]};case 270:return{transform:`rotate(270) translate(${-rr[2]},${rr[3]}) scale(1,-1)`,width:rr[3]-rr[1],height:rr[2]-rr[0]};default:return{transform:`translate(${-rr[0]},${rr[3]}) scale(1,-1)`,width:rr[2]-rr[0],height:rr[3]-rr[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(St){super(St,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var I_,k_,nR;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(tr){var nr;super(tr,{isRenderable:!0});sn(this,k_);sn(this,I_,null);const{file:rr}=this.data;this.filename=rr.filename,this.content=rr.content,(nr=this.linkService.eventBus)==null||nr.dispatch("fileattachmentannotation",{source:this,...rr})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:tr,data:rr}=this;let nr;rr.hasAppearance||rr.fillAlpha===0?nr=document.createElement("div"):(nr=document.createElement("img"),nr.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(rr.name)?"paperclip":"pushpin"}.svg`,rr.fillAlpha&&rr.fillAlpha<1&&(nr.style=`filter: opacity(${Math.round(rr.fillAlpha*100)}%);`)),nr.addEventListener("dblclick",an(this,k_,nR).bind(this)),Jr(this,I_,nr);const{isMac:sr}=util_FeatureTest.platform;return tr.addEventListener("keydown",ir=>{ir.key==="Enter"&&(sr?ir.metaKey:ir.ctrlKey)&&an(this,k_,nR).call(this)}),!rr.popupRef&&this.hasPopupData?this._createPopup():nr.classList.add("popupTriggerArea"),tr.append(nr),tr}getElementsToTriggerPopup(){return br(this,I_)}addHighlightArea(){this.container.classList.add("highlightArea")}}I_=new WeakMap,k_=new WeakSet,nR=function(){var tr;(tr=this.downloadManager)==null||tr.openOrDownloadData(this.content,this.filename)};var F_,Ty,V0,L_,av,sR,iR,wE;let AnnotationLayer$1=(wE=class{constructor({div:St,accessibilityManager:tr,annotationCanvasMap:rr,annotationEditorUIManager:nr,page:sr,viewport:ir,structTreeLayer:ar}){sn(this,av);sn(this,F_,null);sn(this,Ty,null);sn(this,V0,new Map);sn(this,L_,null);this.div=St,Jr(this,F_,tr),Jr(this,Ty,rr),Jr(this,L_,ar||null),this.page=sr,this.viewport=ir,this.zIndex=0,this._annotationEditorUIManager=nr}hasEditableAnnotations(){return br(this,V0).size>0}async render(St){var ir;const{annotations:tr}=St,rr=this.div;setLayerDimensions(rr,this.viewport);const nr=new Map,sr={data:null,layer:rr,linkService:St.linkService,downloadManager:St.downloadManager,imageResourcesPath:St.imageResourcesPath||"",renderForms:St.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:St.annotationStorage||new AnnotationStorage,enableScripting:St.enableScripting===!0,hasJSActions:St.hasJSActions,fieldObjects:St.fieldObjects,parent:this,elements:null};for(const ar of tr){if(ar.noHTML)continue;const or=ar.annotationType===AnnotationType.POPUP;if(or){const ur=nr.get(ar.id);if(!ur)continue;sr.elements=ur}else if(ar.rect[2]===ar.rect[0]||ar.rect[3]===ar.rect[1])continue;sr.data=ar;const lr=AnnotationElementFactory.create(sr);if(!lr.isRenderable)continue;if(!or&&ar.popupRef){const ur=nr.get(ar.popupRef);ur?ur.push(lr):nr.set(ar.popupRef,[lr])}const cr=lr.render();ar.hidden&&(cr.style.visibility="hidden"),await an(this,av,sR).call(this,cr,ar.id),lr._isEditable&&(br(this,V0).set(lr.data.id,lr),(ir=this._annotationEditorUIManager)==null||ir.renderAnnotationElement(lr))}an(this,av,iR).call(this)}async addLinkAnnotations(St,tr){const rr={data:null,layer:this.div,linkService:tr,svgFactory:new DOMSVGFactory,parent:this};for(const nr of St){nr.borderStyle||(nr.borderStyle=wE._defaultBorderStyle),rr.data=nr;const sr=AnnotationElementFactory.create(rr);if(!sr.isRenderable)continue;const ir=sr.render();await an(this,av,sR).call(this,ir,nr.id)}}update({viewport:St}){const tr=this.div;this.viewport=St,setLayerDimensions(tr,{rotation:St.rotation}),an(this,av,iR).call(this),tr.hidden=!1}getEditableAnnotations(){return Array.from(br(this,V0).values())}getEditableAnnotation(St){return br(this,V0).get(St)}static get _defaultBorderStyle(){return shadow(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:AnnotationBorderStyleType.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},F_=new WeakMap,Ty=new WeakMap,V0=new WeakMap,L_=new WeakMap,av=new WeakSet,sR=async function(St,tr){var ir,ar;const rr=St.firstChild||St,nr=rr.id=`${AnnotationPrefix}${tr}`,sr=await((ir=br(this,L_))==null?void 0:ir.getAriaAttributes(nr));if(sr)for(const[or,lr]of sr)rr.setAttribute(or,lr);this.div.append(St),(ar=br(this,F_))==null||ar.moveElementInDOM(this.div,St,rr,!1)},iR=function(){var tr;if(!br(this,Ty))return;const St=this.div;for(const[rr,nr]of br(this,Ty)){const sr=St.querySelector(`[data-annotation-id="${rr}"]`);if(!sr)continue;nr.className="annotationContent";const{firstChild:ir}=sr;ir?ir.nodeName==="CANVAS"?ir.replaceWith(nr):ir.classList.contains("annotationContent")?ir.after(nr):ir.before(nr):sr.append(nr);const ar=br(this,V0).get(rr);ar&&(ar._hasNoCanvas?((tr=this._annotationEditorUIManager)==null||tr.setMissingCanvas(rr,sr.id,nr),ar._hasNoCanvas=!1):ar.canvas=nr)}br(this,Ty).clear()},wE);const EOL_PATTERN=/\r\n?|\n/g;var Xp,GA,O_,Py,KA,iu,VP,QP,WP,a2,Vx,o2,l2,GP,aR,KP;const Zo=class Zo extends AnnotationEditor{constructor(tr){super({...tr,name:"freeTextEditor"});sn(this,iu);sn(this,Xp);sn(this,GA,"");sn(this,O_,`${this.id}-editor`);sn(this,Py,null);sn(this,KA);Jr(this,Xp,tr.color||Zo._defaultColor||AnnotationEditor._defaultLineColor),Jr(this,KA,tr.fontSize||Zo._defaultFontSize)}static get _keyboardManager(){const tr=Zo.prototype,rr=ir=>ir.isEmpty(),nr=AnnotationEditorUIManager.TRANSLATE_SMALL,sr=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],tr.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],tr.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],tr._translateEmpty,{args:[-nr,0],checker:rr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],tr._translateEmpty,{args:[-sr,0],checker:rr}],[["ArrowRight","mac+ArrowRight"],tr._translateEmpty,{args:[nr,0],checker:rr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],tr._translateEmpty,{args:[sr,0],checker:rr}],[["ArrowUp","mac+ArrowUp"],tr._translateEmpty,{args:[0,-nr],checker:rr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],tr._translateEmpty,{args:[0,-sr],checker:rr}],[["ArrowDown","mac+ArrowDown"],tr._translateEmpty,{args:[0,nr],checker:rr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],tr._translateEmpty,{args:[0,sr],checker:rr}]]))}static initialize(tr,rr){AnnotationEditor.initialize(tr,rr);const nr=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nr.getPropertyValue("--freetext-padding"))}static updateDefaultParams(tr,rr){switch(tr){case AnnotationEditorParamsType.FREETEXT_SIZE:Zo._defaultFontSize=rr;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Zo._defaultColor=rr;break}}updateParams(tr,rr){switch(tr){case AnnotationEditorParamsType.FREETEXT_SIZE:an(this,iu,VP).call(this,rr);break;case AnnotationEditorParamsType.FREETEXT_COLOR:an(this,iu,QP).call(this,rr);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Zo._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Zo._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,br(this,KA)],[AnnotationEditorParamsType.FREETEXT_COLOR,br(this,Xp)]]}_translateEmpty(tr,rr){this._uiManager.translateSelectedEditors(tr,rr,!0)}getInitialTranslation(){const tr=this.parentScale;return[-Zo._internalPadding*tr,-(Zo._internalPadding+br(this,KA))*tr]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Jr(this,Py,new AbortController);const tr=this._uiManager.combinedSignal(br(this,Py));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:tr}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:tr}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:tr}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:tr}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:tr}),!0}disableEditMode(){var tr;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",br(this,O_)),this._isDraggable=!0,(tr=br(this,Py))==null||tr.abort(),Jr(this,Py,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(tr){this._focusEventsAllowed&&(super.focusin(tr),tr.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(tr){var rr;this.width||(this.enableEditMode(),tr&&this.editorDiv.focus(),(rr=this._initialOptions)!=null&&rr.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const tr=br(this,GA),rr=Jr(this,GA,an(this,iu,WP).call(this).trimEnd());if(tr===rr)return;const nr=sr=>{if(Jr(this,GA,sr),!sr){this.remove();return}an(this,iu,l2).call(this),this._uiManager.rebuild(this),an(this,iu,a2).call(this)};this.addCommands({cmd:()=>{nr(rr)},undo:()=>{nr(tr)},mustExec:!1}),an(this,iu,a2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(tr){tr.target===this.div&&tr.key==="Enter"&&(this.enterInEditMode(),tr.preventDefault())}editorDivKeydown(tr){Zo._keyboardManager.exec(this,tr)}editorDivFocus(tr){this.isEditing=!0}editorDivBlur(tr){this.isEditing=!1}editorDivInput(tr){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let tr,rr;(this._isCopy||this.annotationElementId)&&(tr=this.x,rr=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",br(this,O_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:nr}=this.editorDiv;if(nr.fontSize=`calc(${br(this,KA)}px * var(--total-scale-factor))`,nr.color=br(this,Xp),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[sr,ir]=this.parentDimensions;if(this.annotationElementId){const{position:ar}=this._initialData;let[or,lr]=this.getInitialTranslation();[or,lr]=this.pageTranslationToScreen(or,lr);const[cr,ur]=this.pageDimensions,[dr,hr]=this.pageTranslation;let Ar,fr;switch(this.rotation){case 0:Ar=tr+(ar[0]-dr)/cr,fr=rr+this.height-(ar[1]-hr)/ur;break;case 90:Ar=tr+(ar[0]-dr)/cr,fr=rr-(ar[1]-hr)/ur,[or,lr]=[lr,-or];break;case 180:Ar=tr-this.width+(ar[0]-dr)/cr,fr=rr-(ar[1]-hr)/ur,[or,lr]=[-or,-lr];break;case 270:Ar=tr+(ar[0]-dr-this.height*ur)/cr,fr=rr+(ar[1]-hr-this.width*cr)/ur,[or,lr]=[-lr,or];break}this.setAt(Ar*sr,fr*ir,or,lr)}else this._moveAfterPaste(tr,rr);an(this,iu,l2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(tr){var Ar,fr,mr;const rr=tr.clipboardData||window.clipboardData,{types:nr}=rr;if(nr.length===1&&nr[0]==="text/plain")return;tr.preventDefault();const sr=an(Ar=Zo,Vx,aR).call(Ar,rr.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!sr)return;const ir=window.getSelection();if(!ir.rangeCount)return;this.editorDiv.normalize(),ir.deleteFromDocument();const ar=ir.getRangeAt(0);if(!sr.includes(`
`)){ar.insertNode(document.createTextNode(sr)),this.editorDiv.normalize(),ir.collapseToStart();return}const{startContainer:or,startOffset:lr}=ar,cr=[],ur=[];if(or.nodeType===Node.TEXT_NODE){const pr=or.parentElement;if(ur.push(or.nodeValue.slice(lr).replaceAll(EOL_PATTERN,"")),pr!==this.editorDiv){let gr=cr;for(const xr of this.editorDiv.childNodes){if(xr===pr){gr=ur;continue}gr.push(an(fr=Zo,Vx,o2).call(fr,xr))}}cr.push(or.nodeValue.slice(0,lr).replaceAll(EOL_PATTERN,""))}else if(or===this.editorDiv){let pr=cr,gr=0;for(const xr of this.editorDiv.childNodes)gr++===lr&&(pr=ur),pr.push(an(mr=Zo,Vx,o2).call(mr,xr))}Jr(this,GA,`${cr.join(`
`)}${sr}${ur.join(`
`)}`),an(this,iu,l2).call(this);const dr=new Range;let hr=Math.sumPrecise(cr.map(pr=>pr.length));for(const{firstChild:pr}of this.editorDiv.childNodes)if(pr.nodeType===Node.TEXT_NODE){const gr=pr.nodeValue.length;if(hr<=gr){dr.setStart(pr,hr),dr.setEnd(pr,hr);break}hr-=gr}ir.removeAllRanges(),ir.addRange(dr)}get contentDiv(){return this.editorDiv}static async deserialize(tr,rr,nr){var ar;let sr=null;if(tr instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:or,fontColor:lr},rect:cr,rotation:ur,id:dr,popupRef:hr},textContent:Ar,textPosition:fr,parent:{page:{pageNumber:mr}}}=tr;if(!Ar||Ar.length===0)return null;sr=tr={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(lr),fontSize:or,value:Ar.join(`
`),position:fr,pageIndex:mr-1,rect:cr.slice(0),rotation:ur,id:dr,deleted:!1,popupRef:hr}}const ir=await super.deserialize(tr,rr,nr);return Jr(ir,KA,tr.fontSize),Jr(ir,Xp,Util.makeHexColor(...tr.color)),Jr(ir,GA,an(ar=Zo,Vx,aR).call(ar,tr.value)),ir.annotationElementId=tr.id||null,ir._initialData=sr,ir}serialize(tr=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const rr=Zo._internalPadding*this.parentScale,nr=this.getRect(rr,rr),sr=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:br(this,Xp)),ir={annotationType:AnnotationEditorType.FREETEXT,color:sr,fontSize:br(this,KA),value:an(this,iu,GP).call(this),pageIndex:this.pageIndex,rect:nr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return tr?(ir.isCopy=!0,ir):this.annotationElementId&&!an(this,iu,KP).call(this,ir)?null:(ir.id=this.annotationElementId,ir)}renderAnnotationElement(tr){const rr=super.renderAnnotationElement(tr);if(this.deleted)return rr;const{style:nr}=rr;nr.fontSize=`calc(${br(this,KA)}px * var(--total-scale-factor))`,nr.color=br(this,Xp),rr.replaceChildren();for(const ir of br(this,GA).split(`
`)){const ar=document.createElement("div");ar.append(ir?document.createTextNode(ir):document.createElement("br")),rr.append(ar)}const sr=Zo._internalPadding*this.parentScale;return tr.updateEdited({rect:this.getRect(sr,sr),popupContent:br(this,GA)}),rr}resetAnnotationElement(tr){super.resetAnnotationElement(tr),tr.resetEdited()}};Xp=new WeakMap,GA=new WeakMap,O_=new WeakMap,Py=new WeakMap,KA=new WeakMap,iu=new WeakSet,VP=function(tr){const rr=sr=>{this.editorDiv.style.fontSize=`calc(${sr}px * var(--total-scale-factor))`,this.translate(0,-(sr-br(this,KA))*this.parentScale),Jr(this,KA,sr),an(this,iu,a2).call(this)},nr=br(this,KA);this.addCommands({cmd:rr.bind(this,tr),undo:rr.bind(this,nr),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},QP=function(tr){const rr=sr=>{Jr(this,Xp,this.editorDiv.style.color=sr)},nr=br(this,Xp);this.addCommands({cmd:rr.bind(this,tr),undo:rr.bind(this,nr),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},WP=function(){var nr;const tr=[];this.editorDiv.normalize();let rr=null;for(const sr of this.editorDiv.childNodes)(rr==null?void 0:rr.nodeType)===Node.TEXT_NODE&&sr.nodeName==="BR"||(tr.push(an(nr=Zo,Vx,o2).call(nr,sr)),rr=sr);return tr.join(`
`)},a2=function(){const[tr,rr]=this.parentDimensions;let nr;if(this.isAttachedToDOM)nr=this.div.getBoundingClientRect();else{const{currentLayer:sr,div:ir}=this,ar=ir.style.display,or=ir.classList.contains("hidden");ir.classList.remove("hidden"),ir.style.display="hidden",sr.div.append(this.div),nr=ir.getBoundingClientRect(),ir.remove(),ir.style.display=ar,ir.classList.toggle("hidden",or)}this.rotation%180===this.parentRotation%180?(this.width=nr.width/tr,this.height=nr.height/rr):(this.width=nr.height/tr,this.height=nr.width/rr),this.fixAndSetPosition()},Vx=new WeakSet,o2=function(tr){return(tr.nodeType===Node.TEXT_NODE?tr.nodeValue:tr.innerText).replaceAll(EOL_PATTERN,"")},l2=function(){if(this.editorDiv.replaceChildren(),!!br(this,GA))for(const tr of br(this,GA).split(`
`)){const rr=document.createElement("div");rr.append(tr?document.createTextNode(tr):document.createElement("br")),this.editorDiv.append(rr)}},GP=function(){return br(this,GA).replaceAll(""," ")},aR=function(tr){return tr.replaceAll(" ","")},KP=function(tr){const{value:rr,fontSize:nr,color:sr,pageIndex:ir}=this._initialData;return this._hasBeenMoved||tr.value!==rr||tr.fontSize!==nr||tr.color.some((ar,or)=>ar!==sr[or])||tr.pageIndex!==ir},sn(Zo,Vx),ps(Zo,"_freeTextDefaultContent",""),ps(Zo,"_internalPadding",0),ps(Zo,"_defaultColor",null),ps(Zo,"_defaultFontSize",10),ps(Zo,"_type","freetext"),ps(Zo,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Zo;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(St,tr){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(St,tr,rr,nr,sr,ir){ir||(ir=new Float32Array(St.length));for(let ar=0,or=St.length;ar<or;ar+=2)ir[ar]=tr+St[ar]*nr,ir[ar+1]=rr+St[ar+1]*sr;return ir}static _rescaleAndSwap(St,tr,rr,nr,sr,ir){ir||(ir=new Float32Array(St.length));for(let ar=0,or=St.length;ar<or;ar+=2)ir[ar]=tr+St[ar+1]*nr,ir[ar+1]=rr+St[ar]*sr;return ir}static _translate(St,tr,rr,nr){nr||(nr=new Float32Array(St.length));for(let sr=0,ir=St.length;sr<ir;sr+=2)nr[sr]=tr+St[sr],nr[sr+1]=rr+St[sr+1];return nr}static svgRound(St){return Math.round(St*1e4)}static _normalizePoint(St,tr,rr,nr,sr){switch(sr){case 90:return[1-tr/rr,St/nr];case 180:return[1-St/rr,1-tr/nr];case 270:return[tr/rr,1-St/nr];default:return[St/rr,tr/nr]}}static _normalizePagePoint(St,tr,rr){switch(rr){case 90:return[1-tr,St];case 180:return[1-St,1-tr];case 270:return[tr,1-St];default:return[St,tr]}}static createBezierPoints(St,tr,rr,nr,sr,ir){return[(St+5*rr)/6,(tr+5*nr)/6,(5*rr+sr)/6,(5*nr+ir)/6,(rr+sr)/2,(nr+ir)/2]}}ps(Outline,"PRECISION",1e-4);var zA,Jp,bE,_E,Nm,go,Ny,By,D_,M_,SE,CE,Q0,$_,F2,L2,hu,bw,zP,qP,YP,XP,JP,ZP;const ux=class ux{constructor({x:St,y:tr},rr,nr,sr,ir,ar=0){sn(this,hu);sn(this,zA);sn(this,Jp,[]);sn(this,bE);sn(this,_E);sn(this,Nm,[]);sn(this,go,new Float32Array(18));sn(this,Ny);sn(this,By);sn(this,D_);sn(this,M_);sn(this,SE);sn(this,CE);sn(this,Q0,[]);Jr(this,zA,rr),Jr(this,CE,sr*nr),Jr(this,_E,ir),br(this,go).set([NaN,NaN,NaN,NaN,St,tr],6),Jr(this,bE,ar),Jr(this,M_,br(ux,$_)*nr),Jr(this,D_,br(ux,L2)*nr),Jr(this,SE,nr),br(this,Q0).push(St,tr)}isEmpty(){return isNaN(br(this,go)[8])}add({x:St,y:tr}){var Pr;Jr(this,Ny,St),Jr(this,By,tr);const[rr,nr,sr,ir]=br(this,zA);let[ar,or,lr,cr]=br(this,go).subarray(8,12);const ur=St-lr,dr=tr-cr,hr=Math.hypot(ur,dr);if(hr<br(this,D_))return!1;const Ar=hr-br(this,M_),fr=Ar/hr,mr=fr*ur,pr=fr*dr;let gr=ar,xr=or;ar=lr,or=cr,lr+=mr,cr+=pr,(Pr=br(this,Q0))==null||Pr.push(St,tr);const yr=-pr/Ar,Er=mr/Ar,_r=yr*br(this,CE),Sr=Er*br(this,CE);return br(this,go).set(br(this,go).subarray(2,8),0),br(this,go).set([lr+_r,cr+Sr],4),br(this,go).set(br(this,go).subarray(14,18),12),br(this,go).set([lr-_r,cr-Sr],16),isNaN(br(this,go)[6])?(br(this,Nm).length===0&&(br(this,go).set([ar+_r,or+Sr],2),br(this,Nm).push(NaN,NaN,NaN,NaN,(ar+_r-rr)/sr,(or+Sr-nr)/ir),br(this,go).set([ar-_r,or-Sr],14),br(this,Jp).push(NaN,NaN,NaN,NaN,(ar-_r-rr)/sr,(or-Sr-nr)/ir)),br(this,go).set([gr,xr,ar,or,lr,cr],6),!this.isEmpty()):(br(this,go).set([gr,xr,ar,or,lr,cr],6),Math.abs(Math.atan2(xr-or,gr-ar)-Math.atan2(pr,mr))<Math.PI/2?([ar,or,lr,cr]=br(this,go).subarray(2,6),br(this,Nm).push(NaN,NaN,NaN,NaN,((ar+lr)/2-rr)/sr,((or+cr)/2-nr)/ir),[ar,or,gr,xr]=br(this,go).subarray(14,18),br(this,Jp).push(NaN,NaN,NaN,NaN,((gr+ar)/2-rr)/sr,((xr+or)/2-nr)/ir),!0):([gr,xr,ar,or,lr,cr]=br(this,go).subarray(0,6),br(this,Nm).push(((gr+5*ar)/6-rr)/sr,((xr+5*or)/6-nr)/ir,((5*ar+lr)/6-rr)/sr,((5*or+cr)/6-nr)/ir,((ar+lr)/2-rr)/sr,((or+cr)/2-nr)/ir),[lr,cr,ar,or,gr,xr]=br(this,go).subarray(12,18),br(this,Jp).push(((gr+5*ar)/6-rr)/sr,((xr+5*or)/6-nr)/ir,((5*ar+lr)/6-rr)/sr,((5*or+cr)/6-nr)/ir,((ar+lr)/2-rr)/sr,((or+cr)/2-nr)/ir),!0))}toSVGPath(){if(this.isEmpty())return"";const St=br(this,Nm),tr=br(this,Jp);if(isNaN(br(this,go)[6])&&!this.isEmpty())return an(this,hu,zP).call(this);const rr=[];rr.push(`M${St[4]} ${St[5]}`);for(let nr=6;nr<St.length;nr+=6)isNaN(St[nr])?rr.push(`L${St[nr+4]} ${St[nr+5]}`):rr.push(`C${St[nr]} ${St[nr+1]} ${St[nr+2]} ${St[nr+3]} ${St[nr+4]} ${St[nr+5]}`);an(this,hu,YP).call(this,rr);for(let nr=tr.length-6;nr>=6;nr-=6)isNaN(tr[nr])?rr.push(`L${tr[nr+4]} ${tr[nr+5]}`):rr.push(`C${tr[nr]} ${tr[nr+1]} ${tr[nr+2]} ${tr[nr+3]} ${tr[nr+4]} ${tr[nr+5]}`);return an(this,hu,qP).call(this,rr),rr.join(" ")}newFreeDrawOutline(St,tr,rr,nr,sr,ir){return new FreeDrawOutline(St,tr,rr,nr,sr,ir)}getOutlines(){var ur;const St=br(this,Nm),tr=br(this,Jp),rr=br(this,go),[nr,sr,ir,ar]=br(this,zA),or=new Float32Array((((ur=br(this,Q0))==null?void 0:ur.length)??0)+2);for(let dr=0,hr=or.length-2;dr<hr;dr+=2)or[dr]=(br(this,Q0)[dr]-nr)/ir,or[dr+1]=(br(this,Q0)[dr+1]-sr)/ar;if(or[or.length-2]=(br(this,Ny)-nr)/ir,or[or.length-1]=(br(this,By)-sr)/ar,isNaN(rr[6])&&!this.isEmpty())return an(this,hu,XP).call(this,or);const lr=new Float32Array(br(this,Nm).length+24+br(this,Jp).length);let cr=St.length;for(let dr=0;dr<cr;dr+=2){if(isNaN(St[dr])){lr[dr]=lr[dr+1]=NaN;continue}lr[dr]=St[dr],lr[dr+1]=St[dr+1]}cr=an(this,hu,ZP).call(this,lr,cr);for(let dr=tr.length-6;dr>=6;dr-=6)for(let hr=0;hr<6;hr+=2){if(isNaN(tr[dr+hr])){lr[cr]=lr[cr+1]=NaN,cr+=2;continue}lr[cr]=tr[dr+hr],lr[cr+1]=tr[dr+hr+1],cr+=2}return an(this,hu,JP).call(this,lr,cr),this.newFreeDrawOutline(lr,or,br(this,zA),br(this,SE),br(this,bE),br(this,_E))}};zA=new WeakMap,Jp=new WeakMap,bE=new WeakMap,_E=new WeakMap,Nm=new WeakMap,go=new WeakMap,Ny=new WeakMap,By=new WeakMap,D_=new WeakMap,M_=new WeakMap,SE=new WeakMap,CE=new WeakMap,Q0=new WeakMap,$_=new WeakMap,F2=new WeakMap,L2=new WeakMap,hu=new WeakSet,bw=function(){const St=br(this,go).subarray(4,6),tr=br(this,go).subarray(16,18),[rr,nr,sr,ir]=br(this,zA);return[(br(this,Ny)+(St[0]-tr[0])/2-rr)/sr,(br(this,By)+(St[1]-tr[1])/2-nr)/ir,(br(this,Ny)+(tr[0]-St[0])/2-rr)/sr,(br(this,By)+(tr[1]-St[1])/2-nr)/ir]},zP=function(){const[St,tr,rr,nr]=br(this,zA),[sr,ir,ar,or]=an(this,hu,bw).call(this);return`M${(br(this,go)[2]-St)/rr} ${(br(this,go)[3]-tr)/nr} L${(br(this,go)[4]-St)/rr} ${(br(this,go)[5]-tr)/nr} L${sr} ${ir} L${ar} ${or} L${(br(this,go)[16]-St)/rr} ${(br(this,go)[17]-tr)/nr} L${(br(this,go)[14]-St)/rr} ${(br(this,go)[15]-tr)/nr} Z`},qP=function(St){const tr=br(this,Jp);St.push(`L${tr[4]} ${tr[5]} Z`)},YP=function(St){const[tr,rr,nr,sr]=br(this,zA),ir=br(this,go).subarray(4,6),ar=br(this,go).subarray(16,18),[or,lr,cr,ur]=an(this,hu,bw).call(this);St.push(`L${(ir[0]-tr)/nr} ${(ir[1]-rr)/sr} L${or} ${lr} L${cr} ${ur} L${(ar[0]-tr)/nr} ${(ar[1]-rr)/sr}`)},XP=function(St){const tr=br(this,go),[rr,nr,sr,ir]=br(this,zA),[ar,or,lr,cr]=an(this,hu,bw).call(this),ur=new Float32Array(36);return ur.set([NaN,NaN,NaN,NaN,(tr[2]-rr)/sr,(tr[3]-nr)/ir,NaN,NaN,NaN,NaN,(tr[4]-rr)/sr,(tr[5]-nr)/ir,NaN,NaN,NaN,NaN,ar,or,NaN,NaN,NaN,NaN,lr,cr,NaN,NaN,NaN,NaN,(tr[16]-rr)/sr,(tr[17]-nr)/ir,NaN,NaN,NaN,NaN,(tr[14]-rr)/sr,(tr[15]-nr)/ir],0),this.newFreeDrawOutline(ur,St,br(this,zA),br(this,SE),br(this,bE),br(this,_E))},JP=function(St,tr){const rr=br(this,Jp);return St.set([NaN,NaN,NaN,NaN,rr[4],rr[5]],tr),tr+=6},ZP=function(St,tr){const rr=br(this,go).subarray(4,6),nr=br(this,go).subarray(16,18),[sr,ir,ar,or]=br(this,zA),[lr,cr,ur,dr]=an(this,hu,bw).call(this);return St.set([NaN,NaN,NaN,NaN,(rr[0]-sr)/ar,(rr[1]-ir)/or,NaN,NaN,NaN,NaN,lr,cr,NaN,NaN,NaN,NaN,ur,dr,NaN,NaN,NaN,NaN,(nr[0]-sr)/ar,(nr[1]-ir)/or],tr),tr+=24},sn(ux,$_,8),sn(ux,F2,2),sn(ux,L2,br(ux,$_)+br(ux,F2));let FreeDrawOutliner=ux;var jE,Iy,Ix,U_,qA,H_,eu,O2,eN;class FreeDrawOutline extends Outline{constructor(tr,rr,nr,sr,ir,ar){super();sn(this,O2);sn(this,jE);sn(this,Iy,new Float32Array(4));sn(this,Ix);sn(this,U_);sn(this,qA);sn(this,H_);sn(this,eu);Jr(this,eu,tr),Jr(this,qA,rr),Jr(this,jE,nr),Jr(this,H_,sr),Jr(this,Ix,ir),Jr(this,U_,ar),this.lastPoint=[NaN,NaN],an(this,O2,eN).call(this,ar);const[or,lr,cr,ur]=br(this,Iy);for(let dr=0,hr=tr.length;dr<hr;dr+=2)tr[dr]=(tr[dr]-or)/cr,tr[dr+1]=(tr[dr+1]-lr)/ur;for(let dr=0,hr=rr.length;dr<hr;dr+=2)rr[dr]=(rr[dr]-or)/cr,rr[dr+1]=(rr[dr+1]-lr)/ur}toSVGPath(){const tr=[`M${br(this,eu)[4]} ${br(this,eu)[5]}`];for(let rr=6,nr=br(this,eu).length;rr<nr;rr+=6){if(isNaN(br(this,eu)[rr])){tr.push(`L${br(this,eu)[rr+4]} ${br(this,eu)[rr+5]}`);continue}tr.push(`C${br(this,eu)[rr]} ${br(this,eu)[rr+1]} ${br(this,eu)[rr+2]} ${br(this,eu)[rr+3]} ${br(this,eu)[rr+4]} ${br(this,eu)[rr+5]}`)}return tr.push("Z"),tr.join(" ")}serialize([tr,rr,nr,sr],ir){const ar=nr-tr,or=sr-rr;let lr,cr;switch(ir){case 0:lr=Outline._rescale(br(this,eu),tr,sr,ar,-or),cr=Outline._rescale(br(this,qA),tr,sr,ar,-or);break;case 90:lr=Outline._rescaleAndSwap(br(this,eu),tr,rr,ar,or),cr=Outline._rescaleAndSwap(br(this,qA),tr,rr,ar,or);break;case 180:lr=Outline._rescale(br(this,eu),nr,rr,-ar,or),cr=Outline._rescale(br(this,qA),nr,rr,-ar,or);break;case 270:lr=Outline._rescaleAndSwap(br(this,eu),nr,sr,-ar,-or),cr=Outline._rescaleAndSwap(br(this,qA),nr,sr,-ar,-or);break}return{outline:Array.from(lr),points:[Array.from(cr)]}}get box(){return br(this,Iy)}newOutliner(tr,rr,nr,sr,ir,ar=0){return new FreeDrawOutliner(tr,rr,nr,sr,ir,ar)}getNewOutline(tr,rr){const[nr,sr,ir,ar]=br(this,Iy),[or,lr,cr,ur]=br(this,jE),dr=ir*cr,hr=ar*ur,Ar=nr*cr+or,fr=sr*ur+lr,mr=this.newOutliner({x:br(this,qA)[0]*dr+Ar,y:br(this,qA)[1]*hr+fr},br(this,jE),br(this,H_),tr,br(this,U_),rr??br(this,Ix));for(let pr=2;pr<br(this,qA).length;pr+=2)mr.add({x:br(this,qA)[pr]*dr+Ar,y:br(this,qA)[pr+1]*hr+fr});return mr.getOutlines()}}jE=new WeakMap,Iy=new WeakMap,Ix=new WeakMap,U_=new WeakMap,qA=new WeakMap,H_=new WeakMap,eu=new WeakMap,O2=new WeakSet,eN=function(tr){const rr=br(this,eu);let nr=rr[4],sr=rr[5];const ir=[nr,sr,nr,sr];let ar=nr,or=sr;const lr=tr?Math.max:Math.min;for(let ur=6,dr=rr.length;ur<dr;ur+=6){const hr=rr[ur+4],Ar=rr[ur+5];if(isNaN(rr[ur]))Util.pointBoundingBox(hr,Ar,ir),or<Ar?(ar=hr,or=Ar):or===Ar&&(ar=lr(ar,hr));else{const fr=[1/0,1/0,-1/0,-1/0];Util.bezierBoundingBox(nr,sr,...rr.slice(ur,ur+6),fr),Util.rectBoundingBox(...fr,ir),or<fr[3]?(ar=fr[2],or=fr[3]):or===fr[3]&&(ar=lr(ar,fr[2]))}nr=hr,sr=Ar}const cr=br(this,Iy);cr[0]=ir[0]-br(this,Ix),cr[1]=ir[1]-br(this,Ix),cr[2]=ir[2]-ir[0]+2*br(this,Ix),cr[3]=ir[3]-ir[1]+2*br(this,Ix),this.lastPoint=[ar,or]};var V_,Q_,W0,Zp,aA,tN,c2,rN,nN,oR;class HighlightOutliner{constructor(St,tr=0,rr=0,nr=!0){sn(this,aA);sn(this,V_);sn(this,Q_);sn(this,W0,[]);sn(this,Zp,[]);const sr=[1/0,1/0,-1/0,-1/0],ir=10**-4;for(const{x:hr,y:Ar,width:fr,height:mr}of St){const pr=Math.floor((hr-tr)/ir)*ir,gr=Math.ceil((hr+fr+tr)/ir)*ir,xr=Math.floor((Ar-tr)/ir)*ir,yr=Math.ceil((Ar+mr+tr)/ir)*ir,Er=[pr,xr,yr,!0],_r=[gr,xr,yr,!1];br(this,W0).push(Er,_r),Util.rectBoundingBox(pr,xr,gr,yr,sr)}const ar=sr[2]-sr[0]+2*rr,or=sr[3]-sr[1]+2*rr,lr=sr[0]-rr,cr=sr[1]-rr,ur=br(this,W0).at(nr?-1:-2),dr=[ur[0],ur[2]];for(const hr of br(this,W0)){const[Ar,fr,mr]=hr;hr[0]=(Ar-lr)/ar,hr[1]=(fr-cr)/or,hr[2]=(mr-cr)/or}Jr(this,V_,new Float32Array([lr,cr,ar,or])),Jr(this,Q_,dr)}getOutlines(){br(this,W0).sort((tr,rr)=>tr[0]-rr[0]||tr[1]-rr[1]||tr[2]-rr[2]);const St=[];for(const tr of br(this,W0))tr[3]?(St.push(...an(this,aA,oR).call(this,tr)),an(this,aA,rN).call(this,tr)):(an(this,aA,nN).call(this,tr),St.push(...an(this,aA,oR).call(this,tr)));return an(this,aA,tN).call(this,St)}}V_=new WeakMap,Q_=new WeakMap,W0=new WeakMap,Zp=new WeakMap,aA=new WeakSet,tN=function(St){const tr=[],rr=new Set;for(const ir of St){const[ar,or,lr]=ir;tr.push([ar,or,ir],[ar,lr,ir])}tr.sort((ir,ar)=>ir[1]-ar[1]||ir[0]-ar[0]);for(let ir=0,ar=tr.length;ir<ar;ir+=2){const or=tr[ir][2],lr=tr[ir+1][2];or.push(lr),lr.push(or),rr.add(or),rr.add(lr)}const nr=[];let sr;for(;rr.size>0;){const ir=rr.values().next().value;let[ar,or,lr,cr,ur]=ir;rr.delete(ir);let dr=ar,hr=or;for(sr=[ar,lr],nr.push(sr);;){let Ar;if(rr.has(cr))Ar=cr;else if(rr.has(ur))Ar=ur;else break;rr.delete(Ar),[ar,or,lr,cr,ur]=Ar,dr!==ar&&(sr.push(dr,hr,ar,hr===or?or:lr),dr=ar),hr=hr===or?lr:or}sr.push(dr,hr)}return new HighlightOutline(nr,br(this,V_),br(this,Q_))},c2=function(St){const tr=br(this,Zp);let rr=0,nr=tr.length-1;for(;rr<=nr;){const sr=rr+nr>>1,ir=tr[sr][0];if(ir===St)return sr;ir<St?rr=sr+1:nr=sr-1}return nr+1},rN=function([,St,tr]){const rr=an(this,aA,c2).call(this,St);br(this,Zp).splice(rr,0,[St,tr])},nN=function([,St,tr]){const rr=an(this,aA,c2).call(this,St);for(let nr=rr;nr<br(this,Zp).length;nr++){const[sr,ir]=br(this,Zp)[nr];if(sr!==St)break;if(sr===St&&ir===tr){br(this,Zp).splice(nr,1);return}}for(let nr=rr-1;nr>=0;nr--){const[sr,ir]=br(this,Zp)[nr];if(sr!==St)break;if(sr===St&&ir===tr){br(this,Zp).splice(nr,1);return}}},oR=function(St){const[tr,rr,nr]=St,sr=[[tr,rr,nr]],ir=an(this,aA,c2).call(this,nr);for(let ar=0;ar<ir;ar++){const[or,lr]=br(this,Zp)[ar];for(let cr=0,ur=sr.length;cr<ur;cr++){const[,dr,hr]=sr[cr];if(!(lr<=dr||hr<=or)){if(dr>=or){if(hr>lr)sr[cr][1]=lr;else{if(ur===1)return[];sr.splice(cr,1),cr--,ur--}continue}sr[cr][2]=or,hr>lr&&sr.push([tr,lr,hr])}}}return sr};var W_,RE;class HighlightOutline extends Outline{constructor(tr,rr,nr){super();sn(this,W_);sn(this,RE);Jr(this,RE,tr),Jr(this,W_,rr),this.lastPoint=nr}toSVGPath(){const tr=[];for(const rr of br(this,RE)){let[nr,sr]=rr;tr.push(`M${nr} ${sr}`);for(let ir=2;ir<rr.length;ir+=2){const ar=rr[ir],or=rr[ir+1];ar===nr?(tr.push(`V${or}`),sr=or):or===sr&&(tr.push(`H${ar}`),nr=ar)}tr.push("Z")}return tr.join(" ")}serialize([tr,rr,nr,sr],ir){const ar=[],or=nr-tr,lr=sr-rr;for(const cr of br(this,RE)){const ur=new Array(cr.length);for(let dr=0;dr<cr.length;dr+=2)ur[dr]=tr+cr[dr]*or,ur[dr+1]=sr-cr[dr+1]*lr;ar.push(ur)}return ar}get box(){return br(this,W_)}get classNamesForOutlining(){return["highlightOutline"]}}W_=new WeakMap,RE=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(St,tr,rr,nr,sr,ir){return new FreeHighlightOutline(St,tr,rr,nr,sr,ir)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(St,tr,rr,nr,sr,ir=0){return new FreeHighlightOutliner(St,tr,rr,nr,sr,ir)}}var em,Fy,TE,du,G_,PE,K_,z_,G0,tm,NE,q_,Go,lR,cR,uR,$v,sN,y0;const bA=class bA{constructor({editor:St=null,uiManager:tr=null}){sn(this,Go);sn(this,em,null);sn(this,Fy,null);sn(this,TE);sn(this,du,null);sn(this,G_,!1);sn(this,PE,!1);sn(this,K_,null);sn(this,z_);sn(this,G0,null);sn(this,tm,null);sn(this,NE);var rr;St?(Jr(this,PE,!1),Jr(this,NE,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Jr(this,K_,St)):(Jr(this,PE,!0),Jr(this,NE,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Jr(this,tm,(St==null?void 0:St._uiManager)||tr),Jr(this,z_,br(this,tm)._eventBus),Jr(this,TE,(St==null?void 0:St.color)||((rr=br(this,tm))==null?void 0:rr.highlightColors.values().next().value)||"#FFFF98"),br(bA,q_)||Jr(bA,q_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],bA.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bA.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bA.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bA.prototype._moveToPrevious],[["Home","mac+Home"],bA.prototype._moveToBeginning],[["End","mac+End"],bA.prototype._moveToEnd]]))}renderButton(){const St=Jr(this,em,document.createElement("button"));St.className="colorPicker",St.tabIndex="0",St.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),St.setAttribute("aria-haspopup",!0);const tr=br(this,tm)._signal;St.addEventListener("click",an(this,Go,$v).bind(this),{signal:tr}),St.addEventListener("keydown",an(this,Go,uR).bind(this),{signal:tr});const rr=Jr(this,Fy,document.createElement("span"));return rr.className="swatch",rr.setAttribute("aria-hidden",!0),rr.style.backgroundColor=br(this,TE),St.append(rr),St}renderMainDropdown(){const St=Jr(this,du,an(this,Go,lR).call(this));return St.setAttribute("aria-orientation","horizontal"),St.setAttribute("aria-labelledby","highlightColorPickerLabel"),St}_colorSelectFromKeyboard(St){if(St.target===br(this,em)){an(this,Go,$v).call(this,St);return}const tr=St.target.getAttribute("data-color");tr&&an(this,Go,cR).call(this,tr,St)}_moveToNext(St){var tr,rr;if(!br(this,Go,y0)){an(this,Go,$v).call(this,St);return}if(St.target===br(this,em)){(tr=br(this,du).firstChild)==null||tr.focus();return}(rr=St.target.nextSibling)==null||rr.focus()}_moveToPrevious(St){var tr,rr;if(St.target===((tr=br(this,du))==null?void 0:tr.firstChild)||St.target===br(this,em)){br(this,Go,y0)&&this._hideDropdownFromKeyboard();return}br(this,Go,y0)||an(this,Go,$v).call(this,St),(rr=St.target.previousSibling)==null||rr.focus()}_moveToBeginning(St){var tr;if(!br(this,Go,y0)){an(this,Go,$v).call(this,St);return}(tr=br(this,du).firstChild)==null||tr.focus()}_moveToEnd(St){var tr;if(!br(this,Go,y0)){an(this,Go,$v).call(this,St);return}(tr=br(this,du).lastChild)==null||tr.focus()}hideDropdown(){var St,tr;(St=br(this,du))==null||St.classList.add("hidden"),(tr=br(this,G0))==null||tr.abort(),Jr(this,G0,null)}_hideDropdownFromKeyboard(){var St;if(!br(this,PE)){if(!br(this,Go,y0)){(St=br(this,K_))==null||St.unselect();return}this.hideDropdown(),br(this,em).focus({preventScroll:!0,focusVisible:br(this,G_)})}}updateColor(St){if(br(this,Fy)&&(br(this,Fy).style.backgroundColor=St),!br(this,du))return;const tr=br(this,tm).highlightColors.values();for(const rr of br(this,du).children)rr.setAttribute("aria-selected",tr.next().value===St)}destroy(){var St,tr;(St=br(this,em))==null||St.remove(),Jr(this,em,null),Jr(this,Fy,null),(tr=br(this,du))==null||tr.remove(),Jr(this,du,null)}};em=new WeakMap,Fy=new WeakMap,TE=new WeakMap,du=new WeakMap,G_=new WeakMap,PE=new WeakMap,K_=new WeakMap,z_=new WeakMap,G0=new WeakMap,tm=new WeakMap,NE=new WeakMap,q_=new WeakMap,Go=new WeakSet,lR=function(){const St=document.createElement("div"),tr=br(this,tm)._signal;St.addEventListener("contextmenu",noContextMenu,{signal:tr}),St.className="dropdown",St.role="listbox",St.setAttribute("aria-multiselectable",!1),St.setAttribute("aria-orientation","vertical"),St.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[rr,nr]of br(this,tm).highlightColors){const sr=document.createElement("button");sr.tabIndex="0",sr.role="option",sr.setAttribute("data-color",nr),sr.title=rr,sr.setAttribute("data-l10n-id",br(bA,q_)[rr]);const ir=document.createElement("span");sr.append(ir),ir.className="swatch",ir.style.backgroundColor=nr,sr.setAttribute("aria-selected",nr===br(this,TE)),sr.addEventListener("click",an(this,Go,cR).bind(this,nr),{signal:tr}),St.append(sr)}return St.addEventListener("keydown",an(this,Go,uR).bind(this),{signal:tr}),St},cR=function(St,tr){tr.stopPropagation(),br(this,z_).dispatch("switchannotationeditorparams",{source:this,type:br(this,NE),value:St})},uR=function(St){bA._keyboardManager.exec(this,St)},$v=function(St){if(br(this,Go,y0)){this.hideDropdown();return}if(Jr(this,G_,St.detail===0),br(this,G0)||(Jr(this,G0,new AbortController),window.addEventListener("pointerdown",an(this,Go,sN).bind(this),{signal:br(this,tm).combinedSignal(br(this,G0))})),br(this,du)){br(this,du).classList.remove("hidden");return}const tr=Jr(this,du,an(this,Go,lR).call(this));br(this,em).append(tr)},sN=function(St){var tr;(tr=br(this,du))!=null&&tr.contains(St.target)||this.hideDropdown()},y0=function(){return br(this,du)&&!br(this,du).classList.contains("hidden")},sn(bA,q_,null);let ColorPicker=bA;var BE,Y_,Fx,Ly,IE,jA,X_,J_,Oy,_p,YA,Pu,kE,Lx,Ku,FE,Sp,Z_,co,dR,u2,iN,aN,oN,hR,Uv,Rp,k1,lN,d2,_w,cN,uN,dN,hN,fN;const Lo=class Lo extends AnnotationEditor{constructor(tr){super({...tr,name:"highlightEditor"});sn(this,co);sn(this,BE,null);sn(this,Y_,0);sn(this,Fx);sn(this,Ly,null);sn(this,IE,null);sn(this,jA,null);sn(this,X_,null);sn(this,J_,0);sn(this,Oy,null);sn(this,_p,null);sn(this,YA,null);sn(this,Pu,!1);sn(this,kE,null);sn(this,Lx);sn(this,Ku,null);sn(this,FE,"");sn(this,Sp);sn(this,Z_,"");this.color=tr.color||Lo._defaultColor,Jr(this,Sp,tr.thickness||Lo._defaultThickness),Jr(this,Lx,tr.opacity||Lo._defaultOpacity),Jr(this,Fx,tr.boxes||null),Jr(this,Z_,tr.methodOfCreation||""),Jr(this,FE,tr.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",tr.highlightId>-1?(Jr(this,Pu,!0),an(this,co,u2).call(this,tr),an(this,co,Uv).call(this)):br(this,Fx)&&(Jr(this,BE,tr.anchorNode),Jr(this,Y_,tr.anchorOffset),Jr(this,X_,tr.focusNode),Jr(this,J_,tr.focusOffset),an(this,co,dR).call(this),an(this,co,Uv).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const tr=Lo.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],tr._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],tr._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],tr._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],tr._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:br(this,Pu)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:br(this,Sp),methodOfCreation:br(this,Z_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(tr){return{numberOfColors:tr.get("color").size}}static initialize(tr,rr){var nr;AnnotationEditor.initialize(tr,rr),Lo._defaultColor||(Lo._defaultColor=((nr=rr.highlightColors)==null?void 0:nr.values().next().value)||"#fff066")}static updateDefaultParams(tr,rr){switch(tr){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Lo._defaultColor=rr;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Lo._defaultThickness=rr;break}}translateInPage(tr,rr){}get toolbarPosition(){return br(this,kE)}updateParams(tr,rr){switch(tr){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:an(this,co,iN).call(this,rr);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:an(this,co,aN).call(this,rr);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Lo._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Lo._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Lo._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,br(this,Sp)||Lo._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,br(this,Pu)]]}async addEditToolbar(){const tr=await super.addEditToolbar();return tr?(this._uiManager.highlightColors&&(Jr(this,IE,new ColorPicker({editor:this})),tr.addColorPicker(br(this,IE))),tr):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(an(this,co,_w).call(this))}getBaseTranslation(){return[0,0]}getRect(tr,rr){return super.getRect(tr,rr,an(this,co,_w).call(this))}onceAdded(tr){this.annotationElementId||this.parent.addUndoableEditor(this),tr&&this.div.focus()}remove(){an(this,co,hR).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(an(this,co,Uv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(tr){var nr;let rr=!1;this.parent&&!tr?an(this,co,hR).call(this):tr&&(an(this,co,Uv).call(this,tr),rr=!this.parent&&((nr=this.div)==null?void 0:nr.classList.contains("selectedEditor"))),super.setParent(tr),this.show(this._isVisible),rr&&this.select()}rotate(tr){var sr,ir,ar;const{drawLayer:rr}=this.parent;let nr;br(this,Pu)?(tr=(tr-this.rotation+360)%360,nr=an(sr=Lo,Rp,k1).call(sr,br(this,_p).box,tr)):nr=an(ir=Lo,Rp,k1).call(ir,[this.x,this.y,this.width,this.height],tr),rr.updateProperties(br(this,YA),{bbox:nr,root:{"data-main-rotation":tr}}),rr.updateProperties(br(this,Ku),{bbox:an(ar=Lo,Rp,k1).call(ar,br(this,jA).box,tr),root:{"data-main-rotation":tr}})}render(){if(this.div)return this.div;const tr=super.render();br(this,FE)&&(tr.setAttribute("aria-label",br(this,FE)),tr.setAttribute("role","mark")),br(this,Pu)?tr.classList.add("free"):this.div.addEventListener("keydown",an(this,co,lN).bind(this),{signal:this._uiManager._signal});const rr=Jr(this,Oy,document.createElement("div"));tr.append(rr),rr.setAttribute("aria-hidden","true"),rr.className="internal",rr.style.clipPath=br(this,Ly);const[nr,sr]=this.parentDimensions;return this.setDims(this.width*nr,this.height*sr),bindEvents(this,br(this,Oy),["pointerover","pointerleave"]),this.enableEditing(),tr}pointerover(){var tr;this.isSelected||(tr=this.parent)==null||tr.drawLayer.updateProperties(br(this,Ku),{rootClass:{hovered:!0}})}pointerleave(){var tr;this.isSelected||(tr=this.parent)==null||tr.drawLayer.updateProperties(br(this,Ku),{rootClass:{hovered:!1}})}_moveCaret(tr){switch(this.parent.unselect(this),tr){case 0:case 2:an(this,co,d2).call(this,!0);break;case 1:case 3:an(this,co,d2).call(this,!1);break}}select(){var tr;super.select(),br(this,Ku)&&((tr=this.parent)==null||tr.drawLayer.updateProperties(br(this,Ku),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var tr;super.unselect(),br(this,Ku)&&((tr=this.parent)==null||tr.drawLayer.updateProperties(br(this,Ku),{rootClass:{selected:!1}}),br(this,Pu)||an(this,co,d2).call(this,!1))}get _mustFixPosition(){return!br(this,Pu)}show(tr=this._isVisible){super.show(tr),this.parent&&(this.parent.drawLayer.updateProperties(br(this,YA),{rootClass:{hidden:!tr}}),this.parent.drawLayer.updateProperties(br(this,Ku),{rootClass:{hidden:!tr}}))}static startHighlighting(tr,rr,{target:nr,x:sr,y:ir}){const{x:ar,y:or,width:lr,height:cr}=nr.getBoundingClientRect(),ur=new AbortController,dr=tr.combinedSignal(ur),hr=Ar=>{ur.abort(),an(this,Rp,hN).call(this,tr,Ar)};window.addEventListener("blur",hr,{signal:dr}),window.addEventListener("pointerup",hr,{signal:dr}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:dr}),window.addEventListener("contextmenu",noContextMenu,{signal:dr}),nr.addEventListener("pointermove",an(this,Rp,dN).bind(this,tr),{signal:dr}),this._freeHighlight=new FreeHighlightOutliner({x:sr,y:ir},[ar,or,lr,cr],tr.scale,this._defaultThickness/2,rr,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=tr.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(tr,rr,nr){var fr,mr,pr,gr;let sr=null;if(tr instanceof HighlightAnnotationElement){const{data:{quadPoints:xr,rect:yr,rotation:Er,id:_r,color:Sr,opacity:jr,popupRef:Pr},parent:{page:{pageNumber:Mr}}}=tr;sr=tr={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(Sr),opacity:jr,quadPoints:xr,boxes:null,pageIndex:Mr-1,rect:yr.slice(0),rotation:Er,id:_r,deleted:!1,popupRef:Pr}}else if(tr instanceof InkAnnotationElement){const{data:{inkLists:xr,rect:yr,rotation:Er,id:_r,color:Sr,borderStyle:{rawWidth:jr},popupRef:Pr},parent:{page:{pageNumber:Mr}}}=tr;sr=tr={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(Sr),thickness:jr,inkLists:xr,boxes:null,pageIndex:Mr-1,rect:yr.slice(0),rotation:Er,id:_r,deleted:!1,popupRef:Pr}}const{color:ir,quadPoints:ar,inkLists:or,opacity:lr}=tr,cr=await super.deserialize(tr,rr,nr);cr.color=Util.makeHexColor(...ir),Jr(cr,Lx,lr||1),or&&Jr(cr,Sp,tr.thickness),cr.annotationElementId=tr.id||null,cr._initialData=sr;const[ur,dr]=cr.pageDimensions,[hr,Ar]=cr.pageTranslation;if(ar){const xr=Jr(cr,Fx,[]);for(let yr=0;yr<ar.length;yr+=8)xr.push({x:(ar[yr]-hr)/ur,y:1-(ar[yr+1]-Ar)/dr,width:(ar[yr+2]-ar[yr])/ur,height:(ar[yr+1]-ar[yr+5])/dr});an(fr=cr,co,dR).call(fr),an(mr=cr,co,Uv).call(mr),cr.rotate(cr.rotation)}else if(or){Jr(cr,Pu,!0);const xr=or[0],yr={x:xr[0]-hr,y:dr-(xr[1]-Ar)},Er=new FreeHighlightOutliner(yr,[0,0,ur,dr],1,br(cr,Sp)/2,!0,.001);for(let jr=0,Pr=xr.length;jr<Pr;jr+=2)yr.x=xr[jr]-hr,yr.y=dr-(xr[jr+1]-Ar),Er.add(yr);const{id:_r,clipPathId:Sr}=rr.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:cr.color,"fill-opacity":cr._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:Er.toSVGPath()}},!0,!0);an(pr=cr,co,u2).call(pr,{highlightOutlines:Er.getOutlines(),highlightId:_r,clipPathId:Sr}),an(gr=cr,co,Uv).call(gr),cr.rotate(cr.parentRotation)}return cr}serialize(tr=!1){if(this.isEmpty()||tr)return null;if(this.deleted)return this.serializeDeleted();const rr=this.getRect(0,0),nr=AnnotationEditor._colorManager.convert(this.color),sr={annotationType:AnnotationEditorType.HIGHLIGHT,color:nr,opacity:br(this,Lx),thickness:br(this,Sp),quadPoints:an(this,co,cN).call(this),outlines:an(this,co,uN).call(this,rr),pageIndex:this.pageIndex,rect:rr,rotation:an(this,co,_w).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!an(this,co,fN).call(this,sr)?null:(sr.id=this.annotationElementId,sr)}renderAnnotationElement(tr){return tr.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};BE=new WeakMap,Y_=new WeakMap,Fx=new WeakMap,Ly=new WeakMap,IE=new WeakMap,jA=new WeakMap,X_=new WeakMap,J_=new WeakMap,Oy=new WeakMap,_p=new WeakMap,YA=new WeakMap,Pu=new WeakMap,kE=new WeakMap,Lx=new WeakMap,Ku=new WeakMap,FE=new WeakMap,Sp=new WeakMap,Z_=new WeakMap,co=new WeakSet,dR=function(){const tr=new HighlightOutliner(br(this,Fx),.001);Jr(this,_p,tr.getOutlines()),[this.x,this.y,this.width,this.height]=br(this,_p).box;const rr=new HighlightOutliner(br(this,Fx),.0025,.001,this._uiManager.direction==="ltr");Jr(this,jA,rr.getOutlines());const{lastPoint:nr}=br(this,jA);Jr(this,kE,[(nr[0]-this.x)/this.width,(nr[1]-this.y)/this.height])},u2=function({highlightOutlines:tr,highlightId:rr,clipPathId:nr}){var ur,dr;if(Jr(this,_p,tr),Jr(this,jA,tr.getNewOutline(br(this,Sp)/2+1.5,.0025)),rr>=0)Jr(this,YA,rr),Jr(this,Ly,nr),this.parent.drawLayer.finalizeDraw(rr,{bbox:tr.box,path:{d:tr.toSVGPath()}}),Jr(this,Ku,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:br(this,jA).box,path:{d:br(this,jA).toSVGPath()}},!0));else if(this.parent){const hr=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(br(this,YA),{bbox:an(ur=Lo,Rp,k1).call(ur,br(this,_p).box,(hr-this.rotation+360)%360),path:{d:tr.toSVGPath()}}),this.parent.drawLayer.updateProperties(br(this,Ku),{bbox:an(dr=Lo,Rp,k1).call(dr,br(this,jA).box,hr),path:{d:br(this,jA).toSVGPath()}})}const[ir,ar,or,lr]=tr.box;switch(this.rotation){case 0:this.x=ir,this.y=ar,this.width=or,this.height=lr;break;case 90:{const[hr,Ar]=this.parentDimensions;this.x=ar,this.y=1-ir,this.width=or*Ar/hr,this.height=lr*hr/Ar;break}case 180:this.x=1-ir,this.y=1-ar,this.width=or,this.height=lr;break;case 270:{const[hr,Ar]=this.parentDimensions;this.x=1-ar,this.y=ir,this.width=or*Ar/hr,this.height=lr*hr/Ar;break}}const{lastPoint:cr}=br(this,jA);Jr(this,kE,[(cr[0]-ir)/or,(cr[1]-ar)/lr])},iN=function(tr){const rr=(ir,ar)=>{var or,lr;this.color=ir,Jr(this,Lx,ar),(or=this.parent)==null||or.drawLayer.updateProperties(br(this,YA),{root:{fill:ir,"fill-opacity":ar}}),(lr=br(this,IE))==null||lr.updateColor(ir)},nr=this.color,sr=br(this,Lx);this.addCommands({cmd:rr.bind(this,tr,Lo._defaultOpacity),undo:rr.bind(this,nr,sr),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(tr)},!0)},aN=function(tr){const rr=br(this,Sp),nr=sr=>{Jr(this,Sp,sr),an(this,co,oN).call(this,sr)};this.addCommands({cmd:nr.bind(this,tr),undo:nr.bind(this,rr),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:tr},!0)},oN=function(tr){if(!br(this,Pu))return;an(this,co,u2).call(this,{highlightOutlines:br(this,_p).getNewOutline(tr/2)}),this.fixAndSetPosition();const[rr,nr]=this.parentDimensions;this.setDims(this.width*rr,this.height*nr)},hR=function(){br(this,YA)===null||!this.parent||(this.parent.drawLayer.remove(br(this,YA)),Jr(this,YA,null),this.parent.drawLayer.remove(br(this,Ku)),Jr(this,Ku,null))},Uv=function(tr=this.parent){br(this,YA)===null&&({id:_f(this,YA)._,clipPathId:_f(this,Ly)._}=tr.drawLayer.draw({bbox:br(this,_p).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":br(this,Lx)},rootClass:{highlight:!0,free:br(this,Pu)},path:{d:br(this,_p).toSVGPath()}},!1,!0),Jr(this,Ku,tr.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:br(this,Pu)},bbox:br(this,jA).box,path:{d:br(this,jA).toSVGPath()}},br(this,Pu))),br(this,Oy)&&(br(this,Oy).style.clipPath=br(this,Ly)))},Rp=new WeakSet,k1=function([tr,rr,nr,sr],ir){switch(ir){case 90:return[1-rr-sr,tr,sr,nr];case 180:return[1-tr-nr,1-rr-sr,nr,sr];case 270:return[rr,1-tr-nr,sr,nr]}return[tr,rr,nr,sr]},lN=function(tr){Lo._keyboardManager.exec(this,tr)},d2=function(tr){if(!br(this,BE))return;const rr=window.getSelection();tr?rr.setPosition(br(this,BE),br(this,Y_)):rr.setPosition(br(this,X_),br(this,J_))},_w=function(){return br(this,Pu)?this.rotation:0},cN=function(){if(br(this,Pu))return null;const[tr,rr]=this.pageDimensions,[nr,sr]=this.pageTranslation,ir=br(this,Fx),ar=new Float32Array(ir.length*8);let or=0;for(const{x:lr,y:cr,width:ur,height:dr}of ir){const hr=lr*tr+nr,Ar=(1-cr)*rr+sr;ar[or]=ar[or+4]=hr,ar[or+1]=ar[or+3]=Ar,ar[or+2]=ar[or+6]=hr+ur*tr,ar[or+5]=ar[or+7]=Ar-dr*rr,or+=8}return ar},uN=function(tr){return br(this,_p).serialize(tr,an(this,co,_w).call(this))},dN=function(tr,rr){this._freeHighlight.add(rr)&&tr.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},hN=function(tr,rr){this._freeHighlight.isEmpty()?tr.drawLayer.remove(this._freeHighlightId):tr.createAndAddNewEditor(rr,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},fN=function(tr){const{color:rr}=this._initialData;return tr.color.some((nr,sr)=>nr!==rr[sr])},sn(Lo,Rp),ps(Lo,"_defaultColor",null),ps(Lo,"_defaultOpacity",1),ps(Lo,"_defaultThickness",12),ps(Lo,"_type","highlight"),ps(Lo,"_editorType",AnnotationEditorType.HIGHLIGHT),ps(Lo,"_freeHighlightId",-1),ps(Lo,"_freeHighlight",null),ps(Lo,"_freeHighlightClipId","");let HighlightEditor=Lo;var Dy;class DrawingOptions{constructor(){sn(this,Dy,Object.create(null))}updateProperty(St,tr){this[St]=tr,this.updateSVGProperty(St,tr)}updateProperties(St){if(St)for(const[tr,rr]of Object.entries(St))tr.startsWith("_")||this.updateProperty(tr,rr)}updateSVGProperty(St,tr){br(this,Dy)[St]=tr}toSVGProperties(){const St=br(this,Dy);return Jr(this,Dy,Object.create(null)),{root:St}}reset(){Jr(this,Dy,Object.create(null))}updateAll(St=this){this.updateProperties(St)}clone(){unreachable("Not implemented")}}Dy=new WeakMap;var XA,LE,vu,My,$y,K0,z0,q0,Uy,Co,fR,AR,pR,Sw,AN,h2,Cw,F1;const Ls=class Ls extends AnnotationEditor{constructor(tr){super(tr);sn(this,Co);sn(this,XA,null);sn(this,LE);ps(this,"_drawId",null);Jr(this,LE,tr.mustBeCommitted||!1),this._addOutlines(tr)}_addOutlines(tr){tr.drawOutlines&&(an(this,Co,fR).call(this,tr),an(this,Co,Sw).call(this))}static _mergeSVGProperties(tr,rr){const nr=new Set(Object.keys(tr));for(const[sr,ir]of Object.entries(rr))nr.has(sr)?Object.assign(tr[sr],ir):tr[sr]=ir;return tr}static getDefaultDrawingOptions(tr){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(tr,rr){const nr=this.typesMap.get(tr);nr&&this._defaultDrawingOptions.updateProperty(nr,rr),this._currentParent&&(br(Ls,vu).updateProperty(nr,rr),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(tr,rr){const nr=this.constructor.typesMap.get(tr);nr&&this._updateProperty(tr,nr,rr)}static get defaultPropertiesToUpdate(){const tr=[],rr=this._defaultDrawingOptions;for(const[nr,sr]of this.typesMap)tr.push([nr,rr[sr]]);return tr}get propertiesToUpdate(){const tr=[],{_drawingOptions:rr}=this;for(const[nr,sr]of this.constructor.typesMap)tr.push([nr,rr[sr]]);return tr}_updateProperty(tr,rr,nr){const sr=this._drawingOptions,ir=sr[rr],ar=or=>{var cr;sr.updateProperty(rr,or);const lr=br(this,XA).updateProperty(rr,or);lr&&an(this,Co,Cw).call(this,lr),(cr=this.parent)==null||cr.drawLayer.updateProperties(this._drawId,sr.toSVGProperties())};this.addCommands({cmd:ar.bind(this,nr),undo:ar.bind(this,ir),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:tr,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var tr;(tr=this.parent)==null||tr.drawLayer.updateProperties(this._drawId,Ls._mergeSVGProperties(br(this,XA).getPathResizingSVGProperties(an(this,Co,h2).call(this)),{bbox:an(this,Co,F1).call(this)}))}_onResized(){var tr;(tr=this.parent)==null||tr.drawLayer.updateProperties(this._drawId,Ls._mergeSVGProperties(br(this,XA).getPathResizedSVGProperties(an(this,Co,h2).call(this)),{bbox:an(this,Co,F1).call(this)}))}_onTranslating(tr,rr){var nr;(nr=this.parent)==null||nr.drawLayer.updateProperties(this._drawId,{bbox:an(this,Co,F1).call(this)})}_onTranslated(){var tr;(tr=this.parent)==null||tr.drawLayer.updateProperties(this._drawId,Ls._mergeSVGProperties(br(this,XA).getPathTranslatedSVGProperties(an(this,Co,h2).call(this),this.parentDimensions),{bbox:an(this,Co,F1).call(this)}))}_onStartDragging(){var tr;(tr=this.parent)==null||tr.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var tr;(tr=this.parent)==null||tr.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(tr){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,br(this,LE)&&(Jr(this,LE,!1),this.commit(),this.parent.setSelected(this),tr&&this.isOnScreen&&this.div.focus())}remove(){an(this,Co,pR).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(an(this,Co,Sw).call(this),an(this,Co,Cw).call(this,br(this,XA).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(tr){var nr;let rr=!1;this.parent&&!tr?(this._uiManager.removeShouldRescale(this),an(this,Co,pR).call(this)):tr&&(this._uiManager.addShouldRescale(this),an(this,Co,Sw).call(this,tr),rr=!this.parent&&((nr=this.div)==null?void 0:nr.classList.contains("selectedEditor"))),super.setParent(tr),rr&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ls._mergeSVGProperties({bbox:an(this,Co,F1).call(this)},br(this,XA).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&an(this,Co,Cw).call(this,br(this,XA).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let tr,rr;this._isCopy&&(tr=this.x,rr=this.y);const nr=super.render();nr.classList.add("draw");const sr=document.createElement("div");nr.append(sr),sr.setAttribute("aria-hidden","true"),sr.className="internal";const[ir,ar]=this.parentDimensions;return this.setDims(this.width*ir,this.height*ar),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(tr,rr),nr}static createDrawerInstance(tr,rr,nr,sr,ir){unreachable("Not implemented")}static startDrawing(tr,rr,nr,sr){var mr;const{target:ir,offsetX:ar,offsetY:or,pointerId:lr,pointerType:cr}=sr;if(br(Ls,z0)&&br(Ls,z0)!==cr)return;const{viewport:{rotation:ur}}=tr,{width:dr,height:hr}=ir.getBoundingClientRect(),Ar=Jr(Ls,My,new AbortController),fr=tr.combinedSignal(Ar);if(br(Ls,K0)||Jr(Ls,K0,lr),br(Ls,z0)??Jr(Ls,z0,cr),window.addEventListener("pointerup",pr=>{var gr;br(Ls,K0)===pr.pointerId?this._endDraw(pr):(gr=br(Ls,q0))==null||gr.delete(pr.pointerId)},{signal:fr}),window.addEventListener("pointercancel",pr=>{var gr;br(Ls,K0)===pr.pointerId?this._currentParent.endDrawingSession():(gr=br(Ls,q0))==null||gr.delete(pr.pointerId)},{signal:fr}),window.addEventListener("pointerdown",pr=>{br(Ls,z0)===pr.pointerType&&((br(Ls,q0)||Jr(Ls,q0,new Set)).add(pr.pointerId),br(Ls,vu).isCancellable()&&(br(Ls,vu).removeLastElement(),br(Ls,vu).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:fr}),window.addEventListener("contextmenu",noContextMenu,{signal:fr}),ir.addEventListener("pointermove",this._drawMove.bind(this),{signal:fr}),ir.addEventListener("touchmove",pr=>{pr.timeStamp===br(Ls,Uy)&&stopEvent(pr)},{signal:fr}),tr.toggleDrawing(),(mr=rr._editorUndoBar)==null||mr.hide(),br(Ls,vu)){tr.drawLayer.updateProperties(this._currentDrawId,br(Ls,vu).startNew(ar,or,dr,hr,ur));return}rr.updateUIForDefaultProperties(this),Jr(Ls,vu,this.createDrawerInstance(ar,or,dr,hr,ur)),Jr(Ls,$y,this.getDefaultDrawingOptions()),this._currentParent=tr,{id:this._currentDrawId}=tr.drawLayer.draw(this._mergeSVGProperties(br(Ls,$y).toSVGProperties(),br(Ls,vu).defaultSVGProperties),!0,!1)}static _drawMove(tr){var ir;if(Jr(Ls,Uy,-1),!br(Ls,vu))return;const{offsetX:rr,offsetY:nr,pointerId:sr}=tr;if(br(Ls,K0)===sr){if(((ir=br(Ls,q0))==null?void 0:ir.size)>=1){this._endDraw(tr);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,br(Ls,vu).add(rr,nr)),Jr(Ls,Uy,tr.timeStamp),stopEvent(tr)}}static _cleanup(tr){tr&&(this._currentDrawId=-1,this._currentParent=null,Jr(Ls,vu,null),Jr(Ls,$y,null),Jr(Ls,z0,null),Jr(Ls,Uy,NaN)),br(Ls,My)&&(br(Ls,My).abort(),Jr(Ls,My,null),Jr(Ls,K0,NaN),Jr(Ls,q0,null))}static _endDraw(tr){const rr=this._currentParent;if(rr){if(rr.toggleDrawing(!0),this._cleanup(!1),(tr==null?void 0:tr.target)===rr.div&&rr.drawLayer.updateProperties(this._currentDrawId,br(Ls,vu).end(tr.offsetX,tr.offsetY)),this.supportMultipleDrawings){const nr=br(Ls,vu),sr=this._currentDrawId,ir=nr.getLastElement();rr.addCommands({cmd:()=>{rr.drawLayer.updateProperties(sr,nr.setLastElement(ir))},undo:()=>{rr.drawLayer.updateProperties(sr,nr.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(tr){const rr=this._currentParent;if(!rr)return null;if(rr.toggleDrawing(!0),rr.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!br(Ls,vu).isEmpty()){const{pageDimensions:[nr,sr],scale:ir}=rr,ar=rr.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:br(Ls,vu).getOutlines(nr*ir,sr*ir,ir,this._INNER_MARGIN),drawingOptions:br(Ls,$y),mustBeCommitted:!tr});return this._cleanup(!0),ar}return rr.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(tr){}static deserializeDraw(tr,rr,nr,sr,ir,ar){unreachable("Not implemented")}static async deserialize(tr,rr,nr){var ur,dr;const{rawDims:{pageWidth:sr,pageHeight:ir,pageX:ar,pageY:or}}=rr.viewport,lr=this.deserializeDraw(ar,or,sr,ir,this._INNER_MARGIN,tr),cr=await super.deserialize(tr,rr,nr);return cr.createDrawingOptions(tr),an(ur=cr,Co,fR).call(ur,{drawOutlines:lr}),an(dr=cr,Co,Sw).call(dr),cr.onScaleChanging(),cr.rotate(),cr}serializeDraw(tr){const[rr,nr]=this.pageTranslation,[sr,ir]=this.pageDimensions;return br(this,XA).serialize([rr,nr,sr,ir],tr)}renderAnnotationElement(tr){return tr.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};XA=new WeakMap,LE=new WeakMap,vu=new WeakMap,My=new WeakMap,$y=new WeakMap,K0=new WeakMap,z0=new WeakMap,q0=new WeakMap,Uy=new WeakMap,Co=new WeakSet,fR=function({drawOutlines:tr,drawId:rr,drawingOptions:nr}){Jr(this,XA,tr),this._drawingOptions||(this._drawingOptions=nr),rr>=0?(this._drawId=rr,this.parent.drawLayer.finalizeDraw(rr,tr.defaultProperties)):this._drawId=an(this,Co,AR).call(this,tr,this.parent),an(this,Co,Cw).call(this,tr.box)},AR=function(tr,rr){const{id:nr}=rr.drawLayer.draw(Ls._mergeSVGProperties(this._drawingOptions.toSVGProperties(),tr.defaultSVGProperties),!1,!1);return nr},pR=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Sw=function(tr=this.parent){if(!(this._drawId!==null&&this.parent===tr)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,tr.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=an(this,Co,AR).call(this,br(this,XA),tr)}},AN=function([tr,rr,nr,sr]){const{parentDimensions:[ir,ar],rotation:or}=this;switch(or){case 90:return[rr,1-tr,nr*(ar/ir),sr*(ir/ar)];case 180:return[1-tr,1-rr,nr,sr];case 270:return[1-rr,tr,nr*(ar/ir),sr*(ir/ar)];default:return[tr,rr,nr,sr]}},h2=function(){const{x:tr,y:rr,width:nr,height:sr,parentDimensions:[ir,ar],rotation:or}=this;switch(or){case 90:return[1-rr,tr,nr*(ir/ar),sr*(ar/ir)];case 180:return[1-tr,1-rr,nr,sr];case 270:return[rr,1-tr,nr*(ir/ar),sr*(ar/ir)];default:return[tr,rr,nr,sr]}},Cw=function(tr){if([this.x,this.y,this.width,this.height]=an(this,Co,AN).call(this,tr),this.div){this.fixAndSetPosition();const[rr,nr]=this.parentDimensions;this.setDims(this.width*rr,this.height*nr)}this._onResized()},F1=function(){const{x:tr,y:rr,width:nr,height:sr,rotation:ir,parentRotation:ar,parentDimensions:[or,lr]}=this;switch((ir*4+ar)/90){case 1:return[1-rr-sr,tr,sr,nr];case 2:return[1-tr-nr,1-rr-sr,nr,sr];case 3:return[rr,1-tr-nr,sr,nr];case 4:return[tr,rr-nr*(or/lr),sr*(lr/or),nr*(or/lr)];case 5:return[1-rr,tr,nr*(or/lr),sr*(lr/or)];case 6:return[1-tr-sr*(lr/or),1-rr,sr*(lr/or),nr*(or/lr)];case 7:return[rr-nr*(or/lr),1-tr-sr*(lr/or),nr*(or/lr),sr*(lr/or)];case 8:return[tr-nr,rr-sr,nr,sr];case 9:return[1-rr,tr-nr,sr,nr];case 10:return[1-tr,1-rr,nr,sr];case 11:return[rr-sr,1-tr,sr,nr];case 12:return[tr-sr*(lr/or),rr,sr*(lr/or),nr*(or/lr)];case 13:return[1-rr-nr*(or/lr),tr-sr*(lr/or),nr*(or/lr),sr*(lr/or)];case 14:return[1-tr,1-rr-nr*(or/lr),sr*(lr/or),nr*(or/lr)];case 15:return[rr,1-tr,nr*(or/lr),sr*(lr/or)];default:return[tr,rr,nr,sr]}},ps(Ls,"_currentDrawId",-1),ps(Ls,"_currentParent",null),sn(Ls,vu,null),sn(Ls,My,null),sn(Ls,$y,null),sn(Ls,K0,NaN),sn(Ls,z0,null),sn(Ls,q0,null),sn(Ls,Uy,NaN),ps(Ls,"_INNER_MARGIN",3);let DrawingEditor=Ls;var Bm,yu,Eu,Hy,OE,rA,Nu,Cp,Vy,Qy,Wy,DE,f2;class InkDrawOutliner{constructor(St,tr,rr,nr,sr,ir){sn(this,DE);sn(this,Bm,new Float64Array(6));sn(this,yu);sn(this,Eu);sn(this,Hy);sn(this,OE);sn(this,rA);sn(this,Nu,"");sn(this,Cp,0);sn(this,Vy,new InkDrawOutline);sn(this,Qy);sn(this,Wy);Jr(this,Qy,rr),Jr(this,Wy,nr),Jr(this,Hy,sr),Jr(this,OE,ir),[St,tr]=an(this,DE,f2).call(this,St,tr);const ar=Jr(this,yu,[NaN,NaN,NaN,NaN,St,tr]);Jr(this,rA,[St,tr]),Jr(this,Eu,[{line:ar,points:br(this,rA)}]),br(this,Bm).set(ar,0)}updateProperty(St,tr){St==="stroke-width"&&Jr(this,OE,tr)}isEmpty(){return!br(this,Eu)||br(this,Eu).length===0}isCancellable(){return br(this,rA).length<=10}add(St,tr){[St,tr]=an(this,DE,f2).call(this,St,tr);const[rr,nr,sr,ir]=br(this,Bm).subarray(2,6),ar=St-sr,or=tr-ir;return Math.hypot(br(this,Qy)*ar,br(this,Wy)*or)<=2?null:(br(this,rA).push(St,tr),isNaN(rr)?(br(this,Bm).set([sr,ir,St,tr],2),br(this,yu).push(NaN,NaN,NaN,NaN,St,tr),{path:{d:this.toSVGPath()}}):(isNaN(br(this,Bm)[0])&&br(this,yu).splice(6,6),br(this,Bm).set([rr,nr,sr,ir,St,tr],0),br(this,yu).push(...Outline.createBezierPoints(rr,nr,sr,ir,St,tr)),{path:{d:this.toSVGPath()}}))}end(St,tr){const rr=this.add(St,tr);return rr||(br(this,rA).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(St,tr,rr,nr,sr){Jr(this,Qy,rr),Jr(this,Wy,nr),Jr(this,Hy,sr),[St,tr]=an(this,DE,f2).call(this,St,tr);const ir=Jr(this,yu,[NaN,NaN,NaN,NaN,St,tr]);Jr(this,rA,[St,tr]);const ar=br(this,Eu).at(-1);return ar&&(ar.line=new Float32Array(ar.line),ar.points=new Float32Array(ar.points)),br(this,Eu).push({line:ir,points:br(this,rA)}),br(this,Bm).set(ir,0),Jr(this,Cp,0),this.toSVGPath(),null}getLastElement(){return br(this,Eu).at(-1)}setLastElement(St){return br(this,Eu)?(br(this,Eu).push(St),Jr(this,yu,St.line),Jr(this,rA,St.points),Jr(this,Cp,0),{path:{d:this.toSVGPath()}}):br(this,Vy).setLastElement(St)}removeLastElement(){if(!br(this,Eu))return br(this,Vy).removeLastElement();br(this,Eu).pop(),Jr(this,Nu,"");for(let St=0,tr=br(this,Eu).length;St<tr;St++){const{line:rr,points:nr}=br(this,Eu)[St];Jr(this,yu,rr),Jr(this,rA,nr),Jr(this,Cp,0),this.toSVGPath()}return{path:{d:br(this,Nu)}}}toSVGPath(){const St=Outline.svgRound(br(this,yu)[4]),tr=Outline.svgRound(br(this,yu)[5]);if(br(this,rA).length===2)return Jr(this,Nu,`${br(this,Nu)} M ${St} ${tr} Z`),br(this,Nu);if(br(this,rA).length<=6){const nr=br(this,Nu).lastIndexOf("M");Jr(this,Nu,`${br(this,Nu).slice(0,nr)} M ${St} ${tr}`),Jr(this,Cp,6)}if(br(this,rA).length===4){const nr=Outline.svgRound(br(this,yu)[10]),sr=Outline.svgRound(br(this,yu)[11]);return Jr(this,Nu,`${br(this,Nu)} L ${nr} ${sr}`),Jr(this,Cp,12),br(this,Nu)}const rr=[];br(this,Cp)===0&&(rr.push(`M ${St} ${tr}`),Jr(this,Cp,6));for(let nr=br(this,Cp),sr=br(this,yu).length;nr<sr;nr+=6){const[ir,ar,or,lr,cr,ur]=br(this,yu).slice(nr,nr+6).map(Outline.svgRound);rr.push(`C${ir} ${ar} ${or} ${lr} ${cr} ${ur}`)}return Jr(this,Nu,br(this,Nu)+rr.join(" ")),Jr(this,Cp,br(this,yu).length),br(this,Nu)}getOutlines(St,tr,rr,nr){const sr=br(this,Eu).at(-1);return sr.line=new Float32Array(sr.line),sr.points=new Float32Array(sr.points),br(this,Vy).build(br(this,Eu),St,tr,rr,br(this,Hy),br(this,OE),nr),Jr(this,Bm,null),Jr(this,yu,null),Jr(this,Eu,null),Jr(this,Nu,null),br(this,Vy)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Bm=new WeakMap,yu=new WeakMap,Eu=new WeakMap,Hy=new WeakMap,OE=new WeakMap,rA=new WeakMap,Nu=new WeakMap,Cp=new WeakMap,Vy=new WeakMap,Qy=new WeakMap,Wy=new WeakMap,DE=new WeakSet,f2=function(St,tr){return Outline._normalizePoint(St,tr,br(this,Qy),br(this,Wy),br(this,Hy))};var nA,eS,tS,JA,Im,km,ME,$E,Gy,Bu,lx,pN,mN,gN;class InkDrawOutline extends Outline{constructor(){super(...arguments);sn(this,Bu);sn(this,nA);sn(this,eS,0);sn(this,tS);sn(this,JA);sn(this,Im);sn(this,km);sn(this,ME);sn(this,$E);sn(this,Gy)}build(tr,rr,nr,sr,ir,ar,or){Jr(this,Im,rr),Jr(this,km,nr),Jr(this,ME,sr),Jr(this,$E,ir),Jr(this,Gy,ar),Jr(this,tS,or??0),Jr(this,JA,tr),an(this,Bu,mN).call(this)}get thickness(){return br(this,Gy)}setLastElement(tr){return br(this,JA).push(tr),{path:{d:this.toSVGPath()}}}removeLastElement(){return br(this,JA).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const tr=[];for(const{line:rr}of br(this,JA)){if(tr.push(`M${Outline.svgRound(rr[4])} ${Outline.svgRound(rr[5])}`),rr.length===6){tr.push("Z");continue}if(rr.length===12&&isNaN(rr[6])){tr.push(`L${Outline.svgRound(rr[10])} ${Outline.svgRound(rr[11])}`);continue}for(let nr=6,sr=rr.length;nr<sr;nr+=6){const[ir,ar,or,lr,cr,ur]=rr.subarray(nr,nr+6).map(Outline.svgRound);tr.push(`C${ir} ${ar} ${or} ${lr} ${cr} ${ur}`)}}return tr.join("")}serialize([tr,rr,nr,sr],ir){const ar=[],or=[],[lr,cr,ur,dr]=an(this,Bu,pN).call(this);let hr,Ar,fr,mr,pr,gr,xr,yr,Er;switch(br(this,$E)){case 0:Er=Outline._rescale,hr=tr,Ar=rr+sr,fr=nr,mr=-sr,pr=tr+lr*nr,gr=rr+(1-cr-dr)*sr,xr=tr+(lr+ur)*nr,yr=rr+(1-cr)*sr;break;case 90:Er=Outline._rescaleAndSwap,hr=tr,Ar=rr,fr=nr,mr=sr,pr=tr+cr*nr,gr=rr+lr*sr,xr=tr+(cr+dr)*nr,yr=rr+(lr+ur)*sr;break;case 180:Er=Outline._rescale,hr=tr+nr,Ar=rr,fr=-nr,mr=sr,pr=tr+(1-lr-ur)*nr,gr=rr+cr*sr,xr=tr+(1-lr)*nr,yr=rr+(cr+dr)*sr;break;case 270:Er=Outline._rescaleAndSwap,hr=tr+nr,Ar=rr+sr,fr=-nr,mr=-sr,pr=tr+(1-cr-dr)*nr,gr=rr+(1-lr-ur)*sr,xr=tr+(1-cr)*nr,yr=rr+(1-lr)*sr;break}for(const{line:_r,points:Sr}of br(this,JA))ar.push(Er(_r,hr,Ar,fr,mr,ir?new Array(_r.length):null)),or.push(Er(Sr,hr,Ar,fr,mr,ir?new Array(Sr.length):null));return{lines:ar,points:or,rect:[pr,gr,xr,yr]}}static deserialize(tr,rr,nr,sr,ir,{paths:{lines:ar,points:or},rotation:lr,thickness:cr}){const ur=[];let dr,hr,Ar,fr,mr;switch(lr){case 0:mr=Outline._rescale,dr=-tr/nr,hr=rr/sr+1,Ar=1/nr,fr=-1/sr;break;case 90:mr=Outline._rescaleAndSwap,dr=-rr/sr,hr=-tr/nr,Ar=1/sr,fr=1/nr;break;case 180:mr=Outline._rescale,dr=tr/nr+1,hr=-rr/sr,Ar=-1/nr,fr=1/sr;break;case 270:mr=Outline._rescaleAndSwap,dr=rr/sr+1,hr=tr/nr+1,Ar=-1/sr,fr=-1/nr;break}if(!ar){ar=[];for(const gr of or){const xr=gr.length;if(xr===2){ar.push(new Float32Array([NaN,NaN,NaN,NaN,gr[0],gr[1]]));continue}if(xr===4){ar.push(new Float32Array([NaN,NaN,NaN,NaN,gr[0],gr[1],NaN,NaN,NaN,NaN,gr[2],gr[3]]));continue}const yr=new Float32Array(3*(xr-2));ar.push(yr);let[Er,_r,Sr,jr]=gr.subarray(0,4);yr.set([NaN,NaN,NaN,NaN,Er,_r],0);for(let Pr=4;Pr<xr;Pr+=2){const Mr=gr[Pr],Ir=gr[Pr+1];yr.set(Outline.createBezierPoints(Er,_r,Sr,jr,Mr,Ir),(Pr-2)*3),[Er,_r,Sr,jr]=[Sr,jr,Mr,Ir]}}}for(let gr=0,xr=ar.length;gr<xr;gr++)ur.push({line:mr(ar[gr].map(yr=>yr??NaN),dr,hr,Ar,fr),points:mr(or[gr].map(yr=>yr??NaN),dr,hr,Ar,fr)});const pr=new this.prototype.constructor;return pr.build(ur,nr,sr,1,lr,cr,ir),pr}get box(){return br(this,nA)}updateProperty(tr,rr){return tr==="stroke-width"?an(this,Bu,gN).call(this,rr):null}updateParentDimensions([tr,rr],nr){const[sr,ir]=an(this,Bu,lx).call(this);Jr(this,Im,tr),Jr(this,km,rr),Jr(this,ME,nr);const[ar,or]=an(this,Bu,lx).call(this),lr=ar-sr,cr=or-ir,ur=br(this,nA);return ur[0]-=lr,ur[1]-=cr,ur[2]+=2*lr,ur[3]+=2*cr,ur}updateRotation(tr){return Jr(this,eS,tr),{path:{transform:this.rotationTransform}}}get viewBox(){return br(this,nA).map(Outline.svgRound).join(" ")}get defaultProperties(){const[tr,rr]=br(this,nA);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(tr)} ${Outline.svgRound(rr)}`}}}get rotationTransform(){const[,,tr,rr]=br(this,nA);let nr=0,sr=0,ir=0,ar=0,or=0,lr=0;switch(br(this,eS)){case 90:sr=rr/tr,ir=-tr/rr,or=tr;break;case 180:nr=-1,ar=-1,or=tr,lr=rr;break;case 270:sr=-rr/tr,ir=tr/rr,lr=rr;break;default:return""}return`matrix(${nr} ${sr} ${ir} ${ar} ${Outline.svgRound(or)} ${Outline.svgRound(lr)})`}getPathResizingSVGProperties([tr,rr,nr,sr]){const[ir,ar]=an(this,Bu,lx).call(this),[or,lr,cr,ur]=br(this,nA);if(Math.abs(cr-ir)<=Outline.PRECISION||Math.abs(ur-ar)<=Outline.PRECISION){const mr=tr+nr/2-(or+cr/2),pr=rr+sr/2-(lr+ur/2);return{path:{"transform-origin":`${Outline.svgRound(tr)} ${Outline.svgRound(rr)}`,transform:`${this.rotationTransform} translate(${mr} ${pr})`}}}const dr=(nr-2*ir)/(cr-2*ir),hr=(sr-2*ar)/(ur-2*ar),Ar=cr/nr,fr=ur/sr;return{path:{"transform-origin":`${Outline.svgRound(or)} ${Outline.svgRound(lr)}`,transform:`${this.rotationTransform} scale(${Ar} ${fr}) translate(${Outline.svgRound(ir)} ${Outline.svgRound(ar)}) scale(${dr} ${hr}) translate(${Outline.svgRound(-ir)} ${Outline.svgRound(-ar)})`}}}getPathResizedSVGProperties([tr,rr,nr,sr]){const[ir,ar]=an(this,Bu,lx).call(this),or=br(this,nA),[lr,cr,ur,dr]=or;if(or[0]=tr,or[1]=rr,or[2]=nr,or[3]=sr,Math.abs(ur-ir)<=Outline.PRECISION||Math.abs(dr-ar)<=Outline.PRECISION){const pr=tr+nr/2-(lr+ur/2),gr=rr+sr/2-(cr+dr/2);for(const{line:xr,points:yr}of br(this,JA))Outline._translate(xr,pr,gr,xr),Outline._translate(yr,pr,gr,yr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(tr)} ${Outline.svgRound(rr)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const hr=(nr-2*ir)/(ur-2*ir),Ar=(sr-2*ar)/(dr-2*ar),fr=-hr*(lr+ir)+tr+ir,mr=-Ar*(cr+ar)+rr+ar;if(hr!==1||Ar!==1||fr!==0||mr!==0)for(const{line:pr,points:gr}of br(this,JA))Outline._rescale(pr,fr,mr,hr,Ar,pr),Outline._rescale(gr,fr,mr,hr,Ar,gr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(tr)} ${Outline.svgRound(rr)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([tr,rr],nr){const[sr,ir]=nr,ar=br(this,nA),or=tr-ar[0],lr=rr-ar[1];if(br(this,Im)===sr&&br(this,km)===ir)for(const{line:cr,points:ur}of br(this,JA))Outline._translate(cr,or,lr,cr),Outline._translate(ur,or,lr,ur);else{const cr=br(this,Im)/sr,ur=br(this,km)/ir;Jr(this,Im,sr),Jr(this,km,ir);for(const{line:dr,points:hr}of br(this,JA))Outline._rescale(dr,or,lr,cr,ur,dr),Outline._rescale(hr,or,lr,cr,ur,hr);ar[2]*=cr,ar[3]*=ur}return ar[0]=tr,ar[1]=rr,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(tr)} ${Outline.svgRound(rr)}`}}}get defaultSVGProperties(){const tr=br(this,nA);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(tr[0])} ${Outline.svgRound(tr[1])}`,transform:this.rotationTransform||null},bbox:tr}}}nA=new WeakMap,eS=new WeakMap,tS=new WeakMap,JA=new WeakMap,Im=new WeakMap,km=new WeakMap,ME=new WeakMap,$E=new WeakMap,Gy=new WeakMap,Bu=new WeakSet,lx=function(tr=br(this,Gy)){const rr=br(this,tS)+tr/2*br(this,ME);return br(this,$E)%180===0?[rr/br(this,Im),rr/br(this,km)]:[rr/br(this,km),rr/br(this,Im)]},pN=function(){const[tr,rr,nr,sr]=br(this,nA),[ir,ar]=an(this,Bu,lx).call(this,0);return[tr+ir,rr+ar,nr-2*ir,sr-2*ar]},mN=function(){const tr=Jr(this,nA,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:sr}of br(this,JA)){if(sr.length<=12){for(let or=4,lr=sr.length;or<lr;or+=6)Util.pointBoundingBox(sr[or],sr[or+1],tr);continue}let ir=sr[4],ar=sr[5];for(let or=6,lr=sr.length;or<lr;or+=6){const[cr,ur,dr,hr,Ar,fr]=sr.subarray(or,or+6);Util.bezierBoundingBox(ir,ar,cr,ur,dr,hr,Ar,fr,tr),ir=Ar,ar=fr}}const[rr,nr]=an(this,Bu,lx).call(this);tr[0]=MathClamp(tr[0]-rr,0,1),tr[1]=MathClamp(tr[1]-nr,0,1),tr[2]=MathClamp(tr[2]+rr,0,1),tr[3]=MathClamp(tr[3]+nr,0,1),tr[2]-=tr[0],tr[3]-=tr[1]},gN=function(tr){const[rr,nr]=an(this,Bu,lx).call(this);Jr(this,Gy,tr);const[sr,ir]=an(this,Bu,lx).call(this),[ar,or]=[sr-rr,ir-nr],lr=br(this,nA);return lr[0]-=ar,lr[1]-=or,lr[2]+=2*ar,lr[3]+=2*or,lr};class InkDrawingOptions extends DrawingOptions{constructor(St){super(),this._viewParameters=St,super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(St,tr){St==="stroke-width"&&(tr??(tr=this["stroke-width"]),tr*=this._viewParameters.realScale),super.updateSVGProperty(St,tr)}clone(){const St=new InkDrawingOptions(this._viewParameters);return St.updateAll(this),St}}var D2,xN;const O1=class O1 extends DrawingEditor{constructor(tr){super({...tr,name:"inkEditor"});sn(this,D2);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(tr,rr){AnnotationEditor.initialize(tr,rr),this._defaultDrawingOptions=new InkDrawingOptions(rr.viewParameters)}static getDefaultDrawingOptions(tr){const rr=this._defaultDrawingOptions.clone();return rr.updateProperties(tr),rr}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(tr,rr,nr,sr,ir){return new InkDrawOutliner(tr,rr,nr,sr,ir,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(tr,rr,nr,sr,ir,ar){return InkDrawOutline.deserialize(tr,rr,nr,sr,ir,ar)}static async deserialize(tr,rr,nr){let sr=null;if(tr instanceof InkAnnotationElement){const{data:{inkLists:ar,rect:or,rotation:lr,id:cr,color:ur,opacity:dr,borderStyle:{rawWidth:hr},popupRef:Ar},parent:{page:{pageNumber:fr}}}=tr;sr=tr={annotationType:AnnotationEditorType.INK,color:Array.from(ur),thickness:hr,opacity:dr,paths:{points:ar},boxes:null,pageIndex:fr-1,rect:or.slice(0),rotation:lr,id:cr,deleted:!1,popupRef:Ar}}const ir=await super.deserialize(tr,rr,nr);return ir.annotationElementId=tr.id||null,ir._initialData=sr,ir}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:tr,_drawingOptions:rr,parent:nr}=this;rr.updateSVGProperty("stroke-width"),nr.drawLayer.updateProperties(tr,rr.toSVGProperties())}static onScaleChangingWhenDrawing(){const tr=this._currentParent;tr&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),tr.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:tr,thickness:rr,opacity:nr}){this._drawingOptions=O1.getDefaultDrawingOptions({stroke:Util.makeHexColor(...tr),"stroke-width":rr,"stroke-opacity":nr})}serialize(tr=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:rr,points:nr,rect:sr}=this.serializeDraw(tr),{_drawingOptions:{stroke:ir,"stroke-opacity":ar,"stroke-width":or}}=this,lr={annotationType:AnnotationEditorType.INK,color:AnnotationEditor._colorManager.convert(ir),opacity:ar,thickness:or,paths:{lines:rr,points:nr},pageIndex:this.pageIndex,rect:sr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return tr?(lr.isCopy=!0,lr):this.annotationElementId&&!an(this,D2,xN).call(this,lr)?null:(lr.id=this.annotationElementId,lr)}renderAnnotationElement(tr){const{points:rr,rect:nr}=this.serializeDraw(!1);return tr.updateEdited({rect:nr,thickness:this._drawingOptions["stroke-width"],points:rr}),null}};D2=new WeakSet,xN=function(tr){const{color:rr,thickness:nr,opacity:sr,pageIndex:ir}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||tr.color.some((ar,or)=>ar!==rr[or])||tr.thickness!==nr||tr.opacity!==sr||tr.pageIndex!==ir},ps(O1,"_type","ink"),ps(O1,"_editorType",AnnotationEditorType.INK),ps(O1,"_defaultDrawingOptions",null);let InkEditor=O1;class ContourDrawOutline extends InkDrawOutline{toSVGPath(){let St=super.toSVGPath();return St.endsWith("Z")||(St+="Z"),St}}const BASE_HEADER_LENGTH=8,POINTS_PROPERTIES_NUMBER=3;var Ky,Mo,mR,rm,vN,yN,gR,A2,EN,wN,bN,xR,vR,_N;class SignatureExtractor{static extractContoursFromText(St,{fontFamily:tr,fontStyle:rr,fontWeight:nr},sr,ir,ar,or){let lr=new OffscreenCanvas(1,1),cr=lr.getContext("2d",{alpha:!1});const ur=200,dr=cr.font=`${rr} ${nr} ${ur}px ${tr}`,{actualBoundingBoxLeft:hr,actualBoundingBoxRight:Ar,actualBoundingBoxAscent:fr,actualBoundingBoxDescent:mr,fontBoundingBoxAscent:pr,fontBoundingBoxDescent:gr,width:xr}=cr.measureText(St),yr=1.5,Er=Math.ceil(Math.max(Math.abs(hr)+Math.abs(Ar)||0,xr)*yr),_r=Math.ceil(Math.max(Math.abs(fr)+Math.abs(mr)||ur,Math.abs(pr)+Math.abs(gr)||ur)*yr);lr=new OffscreenCanvas(Er,_r),cr=lr.getContext("2d",{alpha:!0,willReadFrequently:!0}),cr.font=dr,cr.filter="grayscale(1)",cr.fillStyle="white",cr.fillRect(0,0,Er,_r),cr.fillStyle="black",cr.fillText(St,Er*(yr-1)/2,_r*(3-yr)/2);const Sr=an(this,Mo,xR).call(this,cr.getImageData(0,0,Er,_r).data),jr=an(this,Mo,bN).call(this,Sr),Pr=an(this,Mo,vR).call(this,jr),Mr=an(this,Mo,gR).call(this,Sr,Er,_r,Pr);return this.processDrawnLines({lines:{curves:Mr,width:Er,height:_r},pageWidth:sr,pageHeight:ir,rotation:ar,innerMargin:or,mustSmooth:!0,areContours:!0})}static process(St,tr,rr,nr,sr){const[ir,ar,or]=an(this,Mo,_N).call(this,St),[lr,cr]=an(this,Mo,wN).call(this,ir,ar,or,Math.hypot(ar,or)*br(this,Ky).sigmaSFactor,br(this,Ky).sigmaR,br(this,Ky).kernelSize),ur=an(this,Mo,vR).call(this,cr),dr=an(this,Mo,gR).call(this,lr,ar,or,ur);return this.processDrawnLines({lines:{curves:dr,width:ar,height:or},pageWidth:tr,pageHeight:rr,rotation:nr,innerMargin:sr,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:St,pageWidth:tr,pageHeight:rr,rotation:nr,innerMargin:sr,mustSmooth:ir,areContours:ar}){nr%180!==0&&([tr,rr]=[rr,tr]);const{curves:or,width:lr,height:cr}=St,ur=St.thickness??0,dr=[],hr=Math.min(tr/lr,rr/cr),Ar=hr/tr,fr=hr/rr,mr=[];for(const{points:gr}of or){const xr=ir?an(this,Mo,EN).call(this,gr):gr;if(!xr)continue;mr.push(xr);const yr=xr.length,Er=new Float32Array(yr),_r=new Float32Array(3*(yr===2?2:yr-2));if(dr.push({line:_r,points:Er}),yr===2){Er[0]=xr[0]*Ar,Er[1]=xr[1]*fr,_r.set([NaN,NaN,NaN,NaN,Er[0],Er[1]],0);continue}let[Sr,jr,Pr,Mr]=xr;Sr*=Ar,jr*=fr,Pr*=Ar,Mr*=fr,Er.set([Sr,jr,Pr,Mr],0),_r.set([NaN,NaN,NaN,NaN,Sr,jr],0);for(let Ir=4;Ir<yr;Ir+=2){const Lr=Er[Ir]=xr[Ir]*Ar,Qr=Er[Ir+1]=xr[Ir+1]*fr;_r.set(Outline.createBezierPoints(Sr,jr,Pr,Mr,Lr,Qr),(Ir-2)*3),[Sr,jr,Pr,Mr]=[Pr,Mr,Lr,Qr]}}if(dr.length===0)return null;const pr=ar?new ContourDrawOutline:new InkDrawOutline;return pr.build(dr,tr,rr,1,nr,ar?0:ur,sr),{outline:pr,newCurves:mr,areContours:ar,thickness:ur,width:lr,height:cr}}static async compressSignature({outlines:St,areContours:tr,thickness:rr,width:nr,height:sr}){let ir=1/0,ar=-1/0,or=0;for(const xr of St){or+=xr.length;for(let yr=2,Er=xr.length;yr<Er;yr++){const _r=xr[yr]-xr[yr-2];ir=Math.min(ir,_r),ar=Math.max(ar,_r)}}let lr;ir>=-128&&ar<=127?lr=Int8Array:ir>=-32768&&ar<=32767?lr=Int16Array:lr=Int32Array;const cr=St.length,ur=BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*cr,dr=new Uint32Array(ur);let hr=0;dr[hr++]=ur*Uint32Array.BYTES_PER_ELEMENT+(or-2*cr)*lr.BYTES_PER_ELEMENT,dr[hr++]=0,dr[hr++]=nr,dr[hr++]=sr,dr[hr++]=tr?0:1,dr[hr++]=Math.max(0,Math.floor(rr??0)),dr[hr++]=cr,dr[hr++]=lr.BYTES_PER_ELEMENT;for(const xr of St)dr[hr++]=xr.length-2,dr[hr++]=xr[0],dr[hr++]=xr[1];const Ar=new CompressionStream("deflate-raw"),fr=Ar.writable.getWriter();await fr.ready,fr.write(dr);const mr=lr.prototype.constructor;for(const xr of St){const yr=new mr(xr.length-2);for(let Er=2,_r=xr.length;Er<_r;Er++)yr[Er-2]=xr[Er]-xr[Er-2];fr.write(yr)}fr.close();const pr=await new Response(Ar.readable).arrayBuffer(),gr=new Uint8Array(pr);return toBase64Util(gr)}static async decompressSignature(St){try{const tr=fromBase64Util(St),{readable:rr,writable:nr}=new DecompressionStream("deflate-raw"),sr=nr.getWriter();await sr.ready,sr.write(tr).then(async()=>{await sr.ready,await sr.close()}).catch(()=>{});let ir=null,ar=0;for await(const xr of rr)ir||(ir=new Uint8Array(new Uint32Array(xr.buffer,0,4)[0])),ir.set(xr,ar),ar+=xr.length;const or=new Uint32Array(ir.buffer,0,ir.length>>2),lr=or[1];if(lr!==0)throw new Error(`Invalid version: ${lr}`);const cr=or[2],ur=or[3],dr=or[4]===0,hr=or[5],Ar=or[6],fr=or[7],mr=[],pr=(BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*Ar)*Uint32Array.BYTES_PER_ELEMENT;let gr;switch(fr){case Int8Array.BYTES_PER_ELEMENT:gr=new Int8Array(ir.buffer,pr);break;case Int16Array.BYTES_PER_ELEMENT:gr=new Int16Array(ir.buffer,pr);break;case Int32Array.BYTES_PER_ELEMENT:gr=new Int32Array(ir.buffer,pr);break}ar=0;for(let xr=0;xr<Ar;xr++){const yr=or[POINTS_PROPERTIES_NUMBER*xr+BASE_HEADER_LENGTH],Er=new Float32Array(yr+2);mr.push(Er);for(let _r=0;_r<POINTS_PROPERTIES_NUMBER-1;_r++)Er[_r]=or[POINTS_PROPERTIES_NUMBER*xr+BASE_HEADER_LENGTH+_r+1];for(let _r=0;_r<yr;_r++)Er[_r+2]=Er[_r]+gr[ar++]}return{areContours:dr,thickness:hr,outlines:mr,width:cr,height:ur}}catch(tr){return warn$1(`decompressSignature: ${tr}`),null}}}Ky=new WeakMap,Mo=new WeakSet,mR=function(St,tr,rr,nr){return rr-=St,nr-=tr,rr===0?nr>0?0:4:rr===1?nr+6:2-nr},rm=new WeakMap,vN=function(St,tr,rr,nr,sr,ir,ar){const or=an(this,Mo,mR).call(this,rr,nr,sr,ir);for(let lr=0;lr<8;lr++){const cr=(-lr+or-ar+16)%8,ur=br(this,rm)[2*cr],dr=br(this,rm)[2*cr+1];if(St[(rr+ur)*tr+(nr+dr)]!==0)return cr}return-1},yN=function(St,tr,rr,nr,sr,ir,ar){const or=an(this,Mo,mR).call(this,rr,nr,sr,ir);for(let lr=0;lr<8;lr++){const cr=(lr+or+ar+16)%8,ur=br(this,rm)[2*cr],dr=br(this,rm)[2*cr+1];if(St[(rr+ur)*tr+(nr+dr)]!==0)return cr}return-1},gR=function(St,tr,rr,nr){const sr=St.length,ir=new Int32Array(sr);for(let cr=0;cr<sr;cr++)ir[cr]=St[cr]<=nr?1:0;for(let cr=1;cr<rr-1;cr++)ir[cr*tr]=ir[cr*tr+tr-1]=0;for(let cr=0;cr<tr;cr++)ir[cr]=ir[tr*rr-1-cr]=0;let ar=1,or;const lr=[];for(let cr=1;cr<rr-1;cr++){or=1;for(let ur=1;ur<tr-1;ur++){const dr=cr*tr+ur,hr=ir[dr];if(hr===0)continue;let Ar=cr,fr=ur;if(hr===1&&ir[dr-1]===0)ar+=1,fr-=1;else if(hr>=1&&ir[dr+1]===0)ar+=1,fr+=1,hr>1&&(or=hr);else{hr!==1&&(or=Math.abs(hr));continue}const mr=[ur,cr],pr=fr===ur+1,gr={isHole:pr,points:mr,id:ar,parent:0};lr.push(gr);let xr;for(const Ir of lr)if(Ir.id===or){xr=Ir;break}xr?xr.isHole?gr.parent=pr?xr.parent:or:gr.parent=pr?or:xr.parent:gr.parent=pr?or:0;const yr=an(this,Mo,vN).call(this,ir,tr,cr,ur,Ar,fr,0);if(yr===-1){ir[dr]=-ar,ir[dr]!==1&&(or=Math.abs(ir[dr]));continue}let Er=br(this,rm)[2*yr],_r=br(this,rm)[2*yr+1];const Sr=cr+Er,jr=ur+_r;Ar=Sr,fr=jr;let Pr=cr,Mr=ur;for(;;){const Ir=an(this,Mo,yN).call(this,ir,tr,Pr,Mr,Ar,fr,1);Er=br(this,rm)[2*Ir],_r=br(this,rm)[2*Ir+1];const Lr=Pr+Er,Qr=Mr+_r;mr.push(Qr,Lr);const Yr=Pr*tr+Mr;if(ir[Yr+1]===0?ir[Yr]=-ar:ir[Yr]===1&&(ir[Yr]=ar),Lr===cr&&Qr===ur&&Pr===Sr&&Mr===jr){ir[dr]!==1&&(or=Math.abs(ir[dr]));break}else Ar=Pr,fr=Mr,Pr=Lr,Mr=Qr}}}return lr},A2=function(St,tr,rr,nr){if(rr-tr<=4){for(let Sr=tr;Sr<rr-2;Sr+=2)nr.push(St[Sr],St[Sr+1]);return}const sr=St[tr],ir=St[tr+1],ar=St[rr-4]-sr,or=St[rr-3]-ir,lr=Math.hypot(ar,or),cr=ar/lr,ur=or/lr,dr=cr*ir-ur*sr,hr=or/ar,Ar=1/lr,fr=Math.atan(hr),mr=Math.cos(fr),pr=Math.sin(fr),gr=Ar*(Math.abs(mr)+Math.abs(pr)),xr=Ar*(1-gr+gr**2),yr=Math.max(Math.atan(Math.abs(pr+mr)*xr),Math.atan(Math.abs(pr-mr)*xr));let Er=0,_r=tr;for(let Sr=tr+2;Sr<rr-2;Sr+=2){const jr=Math.abs(dr-cr*St[Sr+1]+ur*St[Sr]);jr>Er&&(_r=Sr,Er=jr)}Er>(lr*yr)**2?(an(this,Mo,A2).call(this,St,tr,_r+2,nr),an(this,Mo,A2).call(this,St,_r,rr,nr)):nr.push(sr,ir)},EN=function(St){const tr=[],rr=St.length;return an(this,Mo,A2).call(this,St,0,rr,tr),tr.push(St[rr-2],St[rr-1]),tr.length<=4?null:tr},wN=function(St,tr,rr,nr,sr,ir){const ar=new Float32Array(ir**2),or=-2*nr**2,lr=ir>>1;for(let fr=0;fr<ir;fr++){const mr=(fr-lr)**2;for(let pr=0;pr<ir;pr++)ar[fr*ir+pr]=Math.exp((mr+(pr-lr)**2)/or)}const cr=new Float32Array(256),ur=-2*sr**2;for(let fr=0;fr<256;fr++)cr[fr]=Math.exp(fr**2/ur);const dr=St.length,hr=new Uint8Array(dr),Ar=new Uint32Array(256);for(let fr=0;fr<rr;fr++)for(let mr=0;mr<tr;mr++){const pr=fr*tr+mr,gr=St[pr];let xr=0,yr=0;for(let _r=0;_r<ir;_r++){const Sr=fr+_r-lr;if(!(Sr<0||Sr>=rr))for(let jr=0;jr<ir;jr++){const Pr=mr+jr-lr;if(Pr<0||Pr>=tr)continue;const Mr=St[Sr*tr+Pr],Ir=ar[_r*ir+jr]*cr[Math.abs(Mr-gr)];xr+=Mr*Ir,yr+=Ir}}const Er=hr[pr]=Math.round(xr/yr);Ar[Er]++}return[hr,Ar]},bN=function(St){const tr=new Uint32Array(256);for(const rr of St)tr[rr]++;return tr},xR=function(St){const tr=St.length,rr=new Uint8ClampedArray(tr>>2);let nr=-1/0,sr=1/0;for(let ar=0,or=rr.length;ar<or;ar++){if(St[(ar<<2)+3]===0){nr=rr[ar]=255;continue}const cr=rr[ar]=St[ar<<2];cr>nr&&(nr=cr),cr<sr&&(sr=cr)}const ir=255/(nr-sr);for(let ar=0;ar<tr;ar++)rr[ar]=(rr[ar]-sr)*ir;return rr},vR=function(St){let tr,rr=-1/0,nr=-1/0;const sr=St.findIndex(or=>or!==0);let ir=sr,ar=sr;for(tr=sr;tr<256;tr++){const or=St[tr];or>rr&&(tr-ir>nr&&(nr=tr-ir,ar=tr-1),rr=or,ir=tr)}for(tr=ar-1;tr>=0&&!(St[tr]>St[tr+1]);tr--);return tr},_N=function(St){const tr=St,{width:rr,height:nr}=St,{maxDim:sr}=br(this,Ky);let ir=rr,ar=nr;if(rr>sr||nr>sr){let dr=rr,hr=nr,Ar=Math.log2(Math.max(rr,nr)/sr);const fr=Math.floor(Ar);Ar=Ar===fr?fr-1:fr;for(let pr=0;pr<Ar;pr++){ir=Math.ceil(dr/2),ar=Math.ceil(hr/2);const gr=new OffscreenCanvas(ir,ar);gr.getContext("2d").drawImage(St,0,0,dr,hr,0,0,ir,ar),dr=ir,hr=ar,St!==tr&&St.close(),St=gr.transferToImageBitmap()}const mr=Math.min(sr/ir,sr/ar);ir=Math.round(ir*mr),ar=Math.round(ar*mr)}const lr=new OffscreenCanvas(ir,ar).getContext("2d",{willReadFrequently:!0});lr.filter="grayscale(1)",lr.drawImage(St,0,0,St.width,St.height,0,0,ir,ar);const cr=lr.getImageData(0,0,ir,ar).data;return[an(this,Mo,xR).call(this,cr),ir,ar]},sn(SignatureExtractor,Mo),sn(SignatureExtractor,Ky,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),sn(SignatureExtractor,rm,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class SignatureOptions extends DrawingOptions{constructor(){super(),super.updateProperties({fill:AnnotationEditor._defaultLineColor,"stroke-width":0})}clone(){const St=new SignatureOptions;return St.updateAll(this),St}}class DrawnSignatureOptions extends InkDrawingOptions{constructor(St){super(St),super.updateProperties({stroke:AnnotationEditor._defaultLineColor,"stroke-width":1})}clone(){const St=new DrawnSignatureOptions(this._viewParameters);return St.updateAll(this),St}}var Y0,ZA,X0,J0;const UA=class UA extends DrawingEditor{constructor(tr){super({...tr,mustBeCommitted:!0,name:"signatureEditor"});sn(this,Y0,!1);sn(this,ZA,null);sn(this,X0,null);sn(this,J0,null);this._willKeepAspectRatio=!0,Jr(this,X0,tr.signatureData||null),Jr(this,ZA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(tr,rr){AnnotationEditor.initialize(tr,rr),this._defaultDrawingOptions=new SignatureOptions,this._defaultDrawnSignatureOptions=new DrawnSignatureOptions(rr.viewParameters)}static getDefaultDrawingOptions(tr){const rr=this._defaultDrawingOptions.clone();return rr.updateProperties(tr),rr}static get supportMultipleDrawings(){return!1}static get typesMap(){return shadow(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!br(this,ZA)}}static computeTelemetryFinalData(tr){const rr=tr.get("hasDescription");return{hasAltText:rr.get(!0)??0,hasNoAltText:rr.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let tr,rr;const{_isCopy:nr}=this;if(nr&&(this._isCopy=!1,tr=this.x,rr=this.y),super.render(),this._drawId===null)if(br(this,X0)){const{lines:sr,mustSmooth:ir,areContours:ar,description:or,uuid:lr,heightInPage:cr}=br(this,X0),{rawDims:{pageWidth:ur,pageHeight:dr},rotation:hr}=this.parent.viewport,Ar=SignatureExtractor.processDrawnLines({lines:sr,pageWidth:ur,pageHeight:dr,rotation:hr,innerMargin:UA._INNER_MARGIN,mustSmooth:ir,areContours:ar});this.addSignature(Ar,cr,or,lr)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return nr&&(this._isCopy=!0,this._moveAfterPaste(tr,rr)),this.div}setUuid(tr){Jr(this,J0,tr),this.addEditToolbar()}getUuid(){return br(this,J0)}get description(){return br(this,ZA)}set description(tr){Jr(this,ZA,tr),super.addEditToolbar().then(rr=>{rr==null||rr.updateEditSignatureButton(tr)})}getSignaturePreview(){const{newCurves:tr,areContours:rr,thickness:nr,width:sr,height:ir}=br(this,X0),ar=Math.max(sr,ir),or=SignatureExtractor.processDrawnLines({lines:{curves:tr.map(lr=>({points:lr})),thickness:nr,width:sr,height:ir},pageWidth:ar,pageHeight:ar,rotation:0,innerMargin:0,mustSmooth:!1,areContours:rr});return{areContours:rr,outline:or.outline}}async addEditToolbar(){const tr=await super.addEditToolbar();return tr?(this._uiManager.signatureManager&&br(this,ZA)!==null&&(await tr.addEditSignatureButton(this._uiManager.signatureManager,br(this,J0),br(this,ZA)),tr.show()),tr):null}addSignature(tr,rr,nr,sr){const{x:ir,y:ar}=this,{outline:or}=Jr(this,X0,tr);Jr(this,Y0,or instanceof ContourDrawOutline),Jr(this,ZA,nr),this.div.setAttribute("data-l10n-args",JSON.stringify({description:nr}));let lr;br(this,Y0)?lr=UA.getDefaultDrawingOptions():(lr=UA._defaultDrawnSignatureOptions.clone(),lr.updateProperties({"stroke-width":or.thickness})),this._addOutlines({drawOutlines:or,drawingOptions:lr});const[cr,ur]=this.parentDimensions,[,dr]=this.pageDimensions;let hr=rr/dr;hr=hr>=1?.5:hr,this.width*=hr/this.height,this.width>=1&&(hr*=.9/this.width,this.width=.9),this.height=hr,this.setDims(cr*this.width,ur*this.height),this.x=ir,this.y=ar,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(sr),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!sr,hasDescription:!!nr}}),this.div.hidden=!1}getFromImage(tr){const{rawDims:{pageWidth:rr,pageHeight:nr},rotation:sr}=this.parent.viewport;return SignatureExtractor.process(tr,rr,nr,sr,UA._INNER_MARGIN)}getFromText(tr,rr){const{rawDims:{pageWidth:nr,pageHeight:sr},rotation:ir}=this.parent.viewport;return SignatureExtractor.extractContoursFromText(tr,rr,nr,sr,ir,UA._INNER_MARGIN)}getDrawnSignature(tr){const{rawDims:{pageWidth:rr,pageHeight:nr},rotation:sr}=this.parent.viewport;return SignatureExtractor.processDrawnLines({lines:tr,pageWidth:rr,pageHeight:nr,rotation:sr,innerMargin:UA._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:tr,thickness:rr}){tr?this._drawingOptions=UA.getDefaultDrawingOptions():(this._drawingOptions=UA._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":rr}))}serialize(tr=!1){if(this.isEmpty())return null;const{lines:rr,points:nr,rect:sr}=this.serializeDraw(tr),{_drawingOptions:{"stroke-width":ir}}=this,ar={annotationType:AnnotationEditorType.SIGNATURE,isSignature:!0,areContours:br(this,Y0),color:[0,0,0],thickness:br(this,Y0)?0:ir,pageIndex:this.pageIndex,rect:sr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return tr?(ar.paths={lines:rr,points:nr},ar.uuid=br(this,J0),ar.isCopy=!0):ar.lines=rr,br(this,ZA)&&(ar.accessibilityData={type:"Figure",alt:br(this,ZA)}),ar}static deserializeDraw(tr,rr,nr,sr,ir,ar){return ar.areContours?ContourDrawOutline.deserialize(tr,rr,nr,sr,ir,ar):InkDrawOutline.deserialize(tr,rr,nr,sr,ir,ar)}static async deserialize(tr,rr,nr){var ir;const sr=await super.deserialize(tr,rr,nr);return Jr(sr,Y0,tr.areContours),Jr(sr,ZA,((ir=tr.accessibilityData)==null?void 0:ir.alt)||""),Jr(sr,J0,tr.uuid),sr}};Y0=new WeakMap,ZA=new WeakMap,X0=new WeakMap,J0=new WeakMap,ps(UA,"_type","signature"),ps(UA,"_editorType",AnnotationEditorType.SIGNATURE),ps(UA,"_defaultDrawingOptions",null);let SignatureEditor=UA;var Il,wu,Z0,Ox,ev,UE,Dx,zy,Fm,ep,HE,jo,jw,Rw,p2,m2,g2,yR,x2,SN;class StampEditor extends AnnotationEditor{constructor(tr){super({...tr,name:"stampEditor"});sn(this,jo);sn(this,Il,null);sn(this,wu,null);sn(this,Z0,null);sn(this,Ox,null);sn(this,ev,null);sn(this,UE,"");sn(this,Dx,null);sn(this,zy,!1);sn(this,Fm,null);sn(this,ep,!1);sn(this,HE,!1);Jr(this,Ox,tr.bitmapUrl),Jr(this,ev,tr.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(tr,rr){AnnotationEditor.initialize(tr,rr)}static isHandlingMimeForPasting(tr){return SupportedImageMimeTypes.includes(tr)}static paste(tr,rr){rr.pasteEditor({mode:AnnotationEditorType.STAMP},{bitmapFile:tr.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var tr;return{type:"stamp",hasAltText:!!((tr=this.altTextData)!=null&&tr.altText)}}static computeTelemetryFinalData(tr){const rr=tr.get("hasAltText");return{hasAltText:rr.get(!0)??0,hasNoAltText:rr.get(!1)??0}}async mlGuessAltText(tr=null,rr=!0){if(this.hasAltTextData())return null;const{mlManager:nr}=this._uiManager;if(!nr)throw new Error("No ML.");if(!await nr.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:sr,width:ir,height:ar}=tr||this.copyCanvas(null,null,!0).imageData,or=await nr.guess({name:"altText",request:{data:sr,width:ir,height:ar,channels:sr.length/(ir*ar)}});if(!or)throw new Error("No response from the AI service.");if(or.error)throw new Error("Error from the AI service.");if(or.cancel)return null;if(!or.output)throw new Error("No valid response from the AI service.");const lr=or.output;return await this.setGuessedAltText(lr),rr&&!this.hasAltTextData()&&(this.altTextData={alt:lr,decorative:!1}),lr}remove(){var tr;br(this,wu)&&(Jr(this,Il,null),this._uiManager.imageManager.deleteId(br(this,wu)),(tr=br(this,Dx))==null||tr.remove(),Jr(this,Dx,null),br(this,Fm)&&(clearTimeout(br(this,Fm)),Jr(this,Fm,null))),super.remove()}rebuild(){if(!this.parent){br(this,wu)&&an(this,jo,p2).call(this);return}super.rebuild(),this.div!==null&&(br(this,wu)&&br(this,Dx)===null&&an(this,jo,p2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(tr){this._isDraggable=!0,tr&&this.div.focus()}isEmpty(){return!(br(this,Z0)||br(this,Il)||br(this,Ox)||br(this,ev)||br(this,wu)||br(this,zy))}get isResizable(){return!0}render(){if(this.div)return this.div;let tr,rr;return this._isCopy&&(tr=this.x,rr=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),br(this,zy)||(br(this,Il)?an(this,jo,m2).call(this):an(this,jo,p2).call(this)),this._isCopy&&this._moveAfterPaste(tr,rr),this._uiManager.addShouldRescale(this),this.div}setCanvas(tr,rr){const{id:nr,bitmap:sr}=this._uiManager.imageManager.getFromCanvas(tr,rr);rr.remove(),nr&&this._uiManager.imageManager.isValidId(nr)&&(Jr(this,wu,nr),sr&&Jr(this,Il,sr),Jr(this,zy,!1),an(this,jo,m2).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;br(this,Fm)!==null&&clearTimeout(br(this,Fm)),Jr(this,Fm,setTimeout(()=>{Jr(this,Fm,null),an(this,jo,yR).call(this)},200))}copyCanvas(tr,rr,nr=!1){var hr;tr||(tr=224);const{width:sr,height:ir}=br(this,Il),ar=new OutputScale;let or=br(this,Il),lr=sr,cr=ir,ur=null;if(rr){if(sr>rr||ir>rr){const jr=Math.min(rr/sr,rr/ir);lr=Math.floor(sr*jr),cr=Math.floor(ir*jr)}ur=document.createElement("canvas");const Ar=ur.width=Math.ceil(lr*ar.sx),fr=ur.height=Math.ceil(cr*ar.sy);br(this,ep)||(or=an(this,jo,g2).call(this,Ar,fr));const mr=ur.getContext("2d");mr.filter=this._uiManager.hcmFilter;let pr="white",gr="#cfcfd8";this._uiManager.hcmFilter!=="none"?gr="black":(hr=window.matchMedia)!=null&&hr.call(window,"(prefers-color-scheme: dark)").matches&&(pr="#8f8f9d",gr="#42414d");const xr=15,yr=xr*ar.sx,Er=xr*ar.sy,_r=new OffscreenCanvas(yr*2,Er*2),Sr=_r.getContext("2d");Sr.fillStyle=pr,Sr.fillRect(0,0,yr*2,Er*2),Sr.fillStyle=gr,Sr.fillRect(0,0,yr,Er),Sr.fillRect(yr,Er,yr,Er),mr.fillStyle=mr.createPattern(_r,"repeat"),mr.fillRect(0,0,Ar,fr),mr.drawImage(or,0,0,or.width,or.height,0,0,Ar,fr)}let dr=null;if(nr){let Ar,fr;if(ar.symmetric&&or.width<tr&&or.height<tr)Ar=or.width,fr=or.height;else if(or=br(this,Il),sr>tr||ir>tr){const gr=Math.min(tr/sr,tr/ir);Ar=Math.floor(sr*gr),fr=Math.floor(ir*gr),br(this,ep)||(or=an(this,jo,g2).call(this,Ar,fr))}const pr=new OffscreenCanvas(Ar,fr).getContext("2d",{willReadFrequently:!0});pr.drawImage(or,0,0,or.width,or.height,0,0,Ar,fr),dr={width:Ar,height:fr,data:pr.getImageData(0,0,Ar,fr).data}}return{canvas:ur,width:lr,height:cr,imageData:dr}}static async deserialize(tr,rr,nr){var mr;let sr=null,ir=!1;if(tr instanceof StampAnnotationElement){const{data:{rect:pr,rotation:gr,id:xr,structParent:yr,popupRef:Er},container:_r,parent:{page:{pageNumber:Sr}},canvas:jr}=tr;let Pr,Mr;jr?(delete tr.canvas,{id:Pr,bitmap:Mr}=nr.imageManager.getFromCanvas(_r.id,jr),jr.remove()):(ir=!0,tr._hasNoCanvas=!0);const Ir=((mr=await rr._structTree.getAriaAttributes(`${AnnotationPrefix}${xr}`))==null?void 0:mr.get("aria-label"))||"";sr=tr={annotationType:AnnotationEditorType.STAMP,bitmapId:Pr,bitmap:Mr,pageIndex:Sr-1,rect:pr.slice(0),rotation:gr,id:xr,deleted:!1,accessibilityData:{decorative:!1,altText:Ir},isSvg:!1,structParent:yr,popupRef:Er}}const ar=await super.deserialize(tr,rr,nr),{rect:or,bitmap:lr,bitmapUrl:cr,bitmapId:ur,isSvg:dr,accessibilityData:hr}=tr;ir?(nr.addMissingCanvas(tr.id,ar),Jr(ar,zy,!0)):ur&&nr.imageManager.isValidId(ur)?(Jr(ar,wu,ur),lr&&Jr(ar,Il,lr)):Jr(ar,Ox,cr),Jr(ar,ep,dr);const[Ar,fr]=ar.pageDimensions;return ar.width=(or[2]-or[0])/Ar,ar.height=(or[3]-or[1])/fr,ar.annotationElementId=tr.id||null,hr&&(ar.altTextData=hr),ar._initialData=sr,Jr(ar,HE,!!sr),ar}serialize(tr=!1,rr=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const nr={annotationType:AnnotationEditorType.STAMP,bitmapId:br(this,wu),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:br(this,ep),structTreeParentId:this._structTreeParentId};if(tr)return nr.bitmapUrl=an(this,jo,x2).call(this,!0),nr.accessibilityData=this.serializeAltText(!0),nr.isCopy=!0,nr;const{decorative:sr,altText:ir}=this.serializeAltText(!1);if(!sr&&ir&&(nr.accessibilityData={type:"Figure",alt:ir}),this.annotationElementId){const or=an(this,jo,SN).call(this,nr);if(or.isSame)return null;or.isSameAltText?delete nr.accessibilityData:nr.accessibilityData.structParent=this._initialData.structParent??-1}if(nr.id=this.annotationElementId,rr===null)return nr;rr.stamps||(rr.stamps=new Map);const ar=br(this,ep)?(nr.rect[2]-nr.rect[0])*(nr.rect[3]-nr.rect[1]):null;if(!rr.stamps.has(br(this,wu)))rr.stamps.set(br(this,wu),{area:ar,serialized:nr}),nr.bitmap=an(this,jo,x2).call(this,!1);else if(br(this,ep)){const or=rr.stamps.get(br(this,wu));ar>or.area&&(or.area=ar,or.serialized.bitmap.close(),or.serialized.bitmap=an(this,jo,x2).call(this,!1))}return nr}renderAnnotationElement(tr){return tr.updateEdited({rect:this.getRect(0,0)}),null}}Il=new WeakMap,wu=new WeakMap,Z0=new WeakMap,Ox=new WeakMap,ev=new WeakMap,UE=new WeakMap,Dx=new WeakMap,zy=new WeakMap,Fm=new WeakMap,ep=new WeakMap,HE=new WeakMap,jo=new WeakSet,jw=function(tr,rr=!1){if(!tr){this.remove();return}Jr(this,Il,tr.bitmap),rr||(Jr(this,wu,tr.id),Jr(this,ep,tr.isSvg)),tr.file&&Jr(this,UE,tr.file.name),an(this,jo,m2).call(this)},Rw=function(){if(Jr(this,Z0,null),this._uiManager.enableWaiting(!1),!!br(this,Dx)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&br(this,Il)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&br(this,Il)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},p2=function(){if(br(this,wu)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(br(this,wu)).then(nr=>an(this,jo,jw).call(this,nr,!0)).finally(()=>an(this,jo,Rw).call(this));return}if(br(this,Ox)){const nr=br(this,Ox);Jr(this,Ox,null),this._uiManager.enableWaiting(!0),Jr(this,Z0,this._uiManager.imageManager.getFromUrl(nr).then(sr=>an(this,jo,jw).call(this,sr)).finally(()=>an(this,jo,Rw).call(this)));return}if(br(this,ev)){const nr=br(this,ev);Jr(this,ev,null),this._uiManager.enableWaiting(!0),Jr(this,Z0,this._uiManager.imageManager.getFromFile(nr).then(sr=>an(this,jo,jw).call(this,sr)).finally(()=>an(this,jo,Rw).call(this)));return}const tr=document.createElement("input");tr.type="file",tr.accept=SupportedImageMimeTypes.join(",");const rr=this._uiManager._signal;Jr(this,Z0,new Promise(nr=>{tr.addEventListener("change",async()=>{if(!tr.files||tr.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const sr=await this._uiManager.imageManager.getFromFile(tr.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),an(this,jo,jw).call(this,sr)}nr()},{signal:rr}),tr.addEventListener("cancel",()=>{this.remove(),nr()},{signal:rr})}).finally(()=>an(this,jo,Rw).call(this))),tr.click()},m2=function(){var ur;const{div:tr}=this;let{width:rr,height:nr}=br(this,Il);const[sr,ir]=this.pageDimensions,ar=.75;if(this.width)rr=this.width*sr,nr=this.height*ir;else if(rr>ar*sr||nr>ar*ir){const dr=Math.min(ar*sr/rr,ar*ir/nr);rr*=dr,nr*=dr}const[or,lr]=this.parentDimensions;this.setDims(rr*or/sr,nr*lr/ir),this._uiManager.enableWaiting(!1);const cr=Jr(this,Dx,document.createElement("canvas"));cr.setAttribute("role","img"),this.addContainer(cr),this.width=rr/sr,this.height=nr/ir,(ur=this._initialOptions)!=null&&ur.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(tr.hidden=!1),an(this,jo,yR).call(this),br(this,HE)||(this.parent.addUndoableEditor(this),Jr(this,HE,!0)),this._reportTelemetry({action:"inserted_image"}),br(this,UE)&&this.div.setAttribute("aria-description",br(this,UE))},g2=function(tr,rr){const{width:nr,height:sr}=br(this,Il);let ir=nr,ar=sr,or=br(this,Il);for(;ir>2*tr||ar>2*rr;){const lr=ir,cr=ar;ir>2*tr&&(ir=ir>=16384?Math.floor(ir/2)-1:Math.ceil(ir/2)),ar>2*rr&&(ar=ar>=16384?Math.floor(ar/2)-1:Math.ceil(ar/2));const ur=new OffscreenCanvas(ir,ar);ur.getContext("2d").drawImage(or,0,0,lr,cr,0,0,ir,ar),or=ur.transferToImageBitmap()}return or},yR=function(){const[tr,rr]=this.parentDimensions,{width:nr,height:sr}=this,ir=new OutputScale,ar=Math.ceil(nr*tr*ir.sx),or=Math.ceil(sr*rr*ir.sy),lr=br(this,Dx);if(!lr||lr.width===ar&&lr.height===or)return;lr.width=ar,lr.height=or;const cr=br(this,ep)?br(this,Il):an(this,jo,g2).call(this,ar,or),ur=lr.getContext("2d");ur.filter=this._uiManager.hcmFilter,ur.drawImage(cr,0,0,cr.width,cr.height,0,0,ar,or)},x2=function(tr){if(tr){if(br(this,ep)){const sr=this._uiManager.imageManager.getSvgUrl(br(this,wu));if(sr)return sr}const rr=document.createElement("canvas");return{width:rr.width,height:rr.height}=br(this,Il),rr.getContext("2d").drawImage(br(this,Il),0,0),rr.toDataURL()}if(br(this,ep)){const[rr,nr]=this.pageDimensions,sr=Math.round(this.width*rr*PixelsPerInch.PDF_TO_CSS_UNITS),ir=Math.round(this.height*nr*PixelsPerInch.PDF_TO_CSS_UNITS),ar=new OffscreenCanvas(sr,ir);return ar.getContext("2d").drawImage(br(this,Il),0,0,br(this,Il).width,br(this,Il).height,0,0,sr,ir),ar.transferToImageBitmap()}return structuredClone(br(this,Il))},SN=function(tr){var ar;const{pageIndex:rr,accessibilityData:{altText:nr}}=this._initialData,sr=tr.pageIndex===rr,ir=(((ar=tr.accessibilityData)==null?void 0:ar.alt)||"")===nr;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&sr&&ir,isSameAltText:ir}},ps(StampEditor,"_type","stamp"),ps(StampEditor,"_editorType",AnnotationEditorType.STAMP);var qy,VE,Lm,tv,Mx,jp,rv,QE,Yy,nm,$x,zu,Ux,Ks,nv,Fl,CN,ym,ER,wR,v2;const Wp=class Wp{constructor({uiManager:St,pageIndex:tr,div:rr,structTreeLayer:nr,accessibilityManager:sr,annotationLayer:ir,drawLayer:ar,textLayer:or,viewport:lr,l10n:cr}){sn(this,Fl);sn(this,qy);sn(this,VE,!1);sn(this,Lm,null);sn(this,tv,null);sn(this,Mx,null);sn(this,jp,new Map);sn(this,rv,!1);sn(this,QE,!1);sn(this,Yy,!1);sn(this,nm,null);sn(this,$x,null);sn(this,zu,null);sn(this,Ux,null);sn(this,Ks);const ur=[...br(Wp,nv).values()];if(!Wp._initialized){Wp._initialized=!0;for(const dr of ur)dr.initialize(cr,St)}St.registerEditorTypes(ur),Jr(this,Ks,St),this.pageIndex=tr,this.div=rr,Jr(this,qy,sr),Jr(this,Lm,ir),this.viewport=lr,Jr(this,zu,or),this.drawLayer=ar,this._structTree=nr,br(this,Ks).addLayer(this)}get isEmpty(){return br(this,jp).size===0}get isInvisible(){return this.isEmpty&&br(this,Ks).getMode()===AnnotationEditorType.NONE}updateToolbar(St){br(this,Ks).updateToolbar(St)}updateMode(St=br(this,Ks).getMode()){switch(an(this,Fl,v2).call(this),St){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:tr}=this.div;for(const rr of br(Wp,nv).values())tr.toggle(`${rr._type}Editing`,St===rr._editorType);this.div.hidden=!1}hasTextLayer(St){var tr;return St===((tr=br(this,zu))==null?void 0:tr.div)}setEditingState(St){br(this,Ks).setEditingState(St)}addCommands(St){br(this,Ks).addCommands(St)}cleanUndoStack(St){br(this,Ks).cleanUndoStack(St)}toggleDrawing(St=!1){this.div.classList.toggle("drawing",!St)}togglePointerEvents(St=!1){this.div.classList.toggle("disabled",!St)}toggleAnnotationLayerPointerEvents(St=!1){var tr;(tr=br(this,Lm))==null||tr.div.classList.toggle("disabled",!St)}async enable(){Jr(this,Yy,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const St=new Set;for(const rr of br(this,jp).values())rr.enableEditing(),rr.show(!0),rr.annotationElementId&&(br(this,Ks).removeChangedExistingAnnotation(rr),St.add(rr.annotationElementId));if(!br(this,Lm)){Jr(this,Yy,!1);return}const tr=br(this,Lm).getEditableAnnotations();for(const rr of tr){if(rr.hide(),br(this,Ks).isDeletedAnnotationElement(rr.data.id)||St.has(rr.data.id))continue;const nr=await this.deserialize(rr);nr&&(this.addOrRebuild(nr),nr.enableEditing())}Jr(this,Yy,!1)}disable(){var nr;Jr(this,QE,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const St=new Map,tr=new Map;for(const sr of br(this,jp).values())if(sr.disableEditing(),!!sr.annotationElementId){if(sr.serialize()!==null){St.set(sr.annotationElementId,sr);continue}else tr.set(sr.annotationElementId,sr);(nr=this.getEditableAnnotation(sr.annotationElementId))==null||nr.show(),sr.remove()}if(br(this,Lm)){const sr=br(this,Lm).getEditableAnnotations();for(const ir of sr){const{id:ar}=ir.data;if(br(this,Ks).isDeletedAnnotationElement(ar))continue;let or=tr.get(ar);if(or){or.resetAnnotationElement(ir),or.show(!1),ir.show();continue}or=St.get(ar),or&&(br(this,Ks).addChangedExistingAnnotation(or),or.renderAnnotationElement(ir)&&or.show(!1)),ir.show()}}an(this,Fl,v2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:rr}=this.div;for(const sr of br(Wp,nv).values())rr.remove(`${sr._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Jr(this,QE,!1)}getEditableAnnotation(St){var tr;return((tr=br(this,Lm))==null?void 0:tr.getEditableAnnotation(St))||null}setActiveEditor(St){br(this,Ks).getActive()!==St&&br(this,Ks).setActiveEditor(St)}enableTextSelection(){var St;if(this.div.tabIndex=-1,(St=br(this,zu))!=null&&St.div&&!br(this,Ux)){Jr(this,Ux,new AbortController);const tr=br(this,Ks).combinedSignal(br(this,Ux));br(this,zu).div.addEventListener("pointerdown",an(this,Fl,CN).bind(this),{signal:tr}),br(this,zu).div.classList.add("highlighting")}}disableTextSelection(){var St;this.div.tabIndex=0,(St=br(this,zu))!=null&&St.div&&br(this,Ux)&&(br(this,Ux).abort(),Jr(this,Ux,null),br(this,zu).div.classList.remove("highlighting"))}enableClick(){if(br(this,tv))return;Jr(this,tv,new AbortController);const St=br(this,Ks).combinedSignal(br(this,tv));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:St});const tr=this.pointerup.bind(this);this.div.addEventListener("pointerup",tr,{signal:St}),this.div.addEventListener("pointercancel",tr,{signal:St})}disableClick(){var St;(St=br(this,tv))==null||St.abort(),Jr(this,tv,null)}attach(St){br(this,jp).set(St.id,St);const{annotationElementId:tr}=St;tr&&br(this,Ks).isDeletedAnnotationElement(tr)&&br(this,Ks).removeDeletedAnnotationElement(St)}detach(St){var tr;br(this,jp).delete(St.id),(tr=br(this,qy))==null||tr.removePointerInTextLayer(St.contentDiv),!br(this,QE)&&St.annotationElementId&&br(this,Ks).addDeletedAnnotationElement(St)}remove(St){this.detach(St),br(this,Ks).removeEditor(St),St.div.remove(),St.isAttachedToDOM=!1}changeParent(St){var tr;St.parent!==this&&(St.parent&&St.annotationElementId&&(br(this,Ks).addDeletedAnnotationElement(St.annotationElementId),AnnotationEditor.deleteAnnotationElement(St),St.annotationElementId=null),this.attach(St),(tr=St.parent)==null||tr.detach(St),St.setParent(this),St.div&&St.isAttachedToDOM&&(St.div.remove(),this.div.append(St.div)))}add(St){if(!(St.parent===this&&St.isAttachedToDOM)){if(this.changeParent(St),br(this,Ks).addEditor(St),this.attach(St),!St.isAttachedToDOM){const tr=St.render();this.div.append(tr),St.isAttachedToDOM=!0}St.fixAndSetPosition(),St.onceAdded(!br(this,Yy)),br(this,Ks).addToAnnotationStorage(St),St._reportTelemetry(St.telemetryInitialData)}}moveEditorInDOM(St){var rr;if(!St.isAttachedToDOM)return;const{activeElement:tr}=document;St.div.contains(tr)&&!br(this,Mx)&&(St._focusEventsAllowed=!1,Jr(this,Mx,setTimeout(()=>{Jr(this,Mx,null),St.div.contains(document.activeElement)?St._focusEventsAllowed=!0:(St.div.addEventListener("focusin",()=>{St._focusEventsAllowed=!0},{once:!0,signal:br(this,Ks)._signal}),tr.focus())},0))),St._structTreeParentId=(rr=br(this,qy))==null?void 0:rr.moveElementInDOM(this.div,St.div,St.contentDiv,!0)}addOrRebuild(St){St.needsToBeRebuilt()?(St.parent||(St.parent=this),St.rebuild(),St.show()):this.add(St)}addUndoableEditor(St){const tr=()=>St._uiManager.rebuild(St),rr=()=>{St.remove()};this.addCommands({cmd:tr,undo:rr,mustExec:!1})}getNextId(){return br(this,Ks).getId()}combinedSignal(St){return br(this,Ks).combinedSignal(St)}canCreateNewEmptyEditor(){var St;return(St=br(this,Fl,ym))==null?void 0:St.canCreateNewEmptyEditor()}async pasteEditor(St,tr){this.updateToolbar(St),await br(this,Ks).updateMode(St.mode);const{offsetX:rr,offsetY:nr}=an(this,Fl,wR).call(this),sr=this.getNextId(),ir=an(this,Fl,ER).call(this,{parent:this,id:sr,x:rr,y:nr,uiManager:br(this,Ks),isCentered:!0,...tr});ir&&this.add(ir)}async deserialize(St){var tr;return await((tr=br(Wp,nv).get(St.annotationType??St.annotationEditorType))==null?void 0:tr.deserialize(St,this,br(this,Ks)))||null}createAndAddNewEditor(St,tr,rr={}){const nr=this.getNextId(),sr=an(this,Fl,ER).call(this,{parent:this,id:nr,x:St.offsetX,y:St.offsetY,uiManager:br(this,Ks),isCentered:tr,...rr});return sr&&this.add(sr),sr}addNewEditor(St={}){this.createAndAddNewEditor(an(this,Fl,wR).call(this),!0,St)}setSelected(St){br(this,Ks).setSelected(St)}toggleSelected(St){br(this,Ks).toggleSelected(St)}unselect(St){br(this,Ks).unselect(St)}pointerup(St){var nr;const{isMac:tr}=util_FeatureTest.platform;if(St.button!==0||St.ctrlKey&&tr||St.target!==this.div||!br(this,rv)||(Jr(this,rv,!1),(nr=br(this,Fl,ym))!=null&&nr.isDrawer&&br(this,Fl,ym).supportMultipleDrawings))return;if(!br(this,VE)){Jr(this,VE,!0);return}const rr=br(this,Ks).getMode();if(rr===AnnotationEditorType.STAMP||rr===AnnotationEditorType.SIGNATURE){br(this,Ks).unselectAll();return}this.createAndAddNewEditor(St,!1)}pointerdown(St){var nr;if(br(this,Ks).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),br(this,rv)){Jr(this,rv,!1);return}const{isMac:tr}=util_FeatureTest.platform;if(St.button!==0||St.ctrlKey&&tr||St.target!==this.div)return;if(Jr(this,rv,!0),(nr=br(this,Fl,ym))!=null&&nr.isDrawer){this.startDrawingSession(St);return}const rr=br(this,Ks).getActive();Jr(this,VE,!rr||rr.isEmpty())}startDrawingSession(St){if(this.div.focus({preventScroll:!0}),br(this,nm)){br(this,Fl,ym).startDrawing(this,br(this,Ks),!1,St);return}br(this,Ks).setCurrentDrawingSession(this),Jr(this,nm,new AbortController);const tr=br(this,Ks).combinedSignal(br(this,nm));this.div.addEventListener("blur",({relatedTarget:rr})=>{rr&&!this.div.contains(rr)&&(Jr(this,$x,null),this.commitOrRemove())},{signal:tr}),br(this,Fl,ym).startDrawing(this,br(this,Ks),!1,St)}pause(St){if(St){const{activeElement:tr}=document;this.div.contains(tr)&&Jr(this,$x,tr);return}br(this,$x)&&setTimeout(()=>{var tr;(tr=br(this,$x))==null||tr.focus(),Jr(this,$x,null)},0)}endDrawingSession(St=!1){return br(this,nm)?(br(this,Ks).setCurrentDrawingSession(null),br(this,nm).abort(),Jr(this,nm,null),Jr(this,$x,null),br(this,Fl,ym).endDrawing(St)):null}findNewParent(St,tr,rr){const nr=br(this,Ks).findParent(tr,rr);return nr===null||nr===this?!1:(nr.changeParent(St),!0)}commitOrRemove(){return br(this,nm)?(this.endDrawingSession(),!0):!1}onScaleChanging(){br(this,nm)&&br(this,Fl,ym).onScaleChangingWhenDrawing(this)}destroy(){var St,tr;this.commitOrRemove(),((St=br(this,Ks).getActive())==null?void 0:St.parent)===this&&(br(this,Ks).commitOrRemove(),br(this,Ks).setActiveEditor(null)),br(this,Mx)&&(clearTimeout(br(this,Mx)),Jr(this,Mx,null));for(const rr of br(this,jp).values())(tr=br(this,qy))==null||tr.removePointerInTextLayer(rr.contentDiv),rr.setParent(null),rr.isAttachedToDOM=!1,rr.div.remove();this.div=null,br(this,jp).clear(),br(this,Ks).removeLayer(this)}render({viewport:St}){this.viewport=St,setLayerDimensions(this.div,St);for(const tr of br(this,Ks).getEditors(this.pageIndex))this.add(tr),tr.rebuild();this.updateMode()}update({viewport:St}){br(this,Ks).commitOrRemove(),an(this,Fl,v2).call(this);const tr=this.viewport.rotation,rr=St.rotation;if(this.viewport=St,setLayerDimensions(this.div,{rotation:rr}),tr!==rr)for(const nr of br(this,jp).values())nr.rotate(rr)}get pageDimensions(){const{pageWidth:St,pageHeight:tr}=this.viewport.rawDims;return[St,tr]}get scale(){return br(this,Ks).viewParameters.realScale}};qy=new WeakMap,VE=new WeakMap,Lm=new WeakMap,tv=new WeakMap,Mx=new WeakMap,jp=new WeakMap,rv=new WeakMap,QE=new WeakMap,Yy=new WeakMap,nm=new WeakMap,$x=new WeakMap,zu=new WeakMap,Ux=new WeakMap,Ks=new WeakMap,nv=new WeakMap,Fl=new WeakSet,CN=function(St){br(this,Ks).unselectAll();const{target:tr}=St;if(tr===br(this,zu).div||(tr.getAttribute("role")==="img"||tr.classList.contains("endOfContent"))&&br(this,zu).div.contains(tr)){const{isMac:rr}=util_FeatureTest.platform;if(St.button!==0||St.ctrlKey&&rr)return;br(this,Ks).showAllEditors("highlight",!0,!0),br(this,zu).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,br(this,Ks).direction==="ltr",{target:br(this,zu).div,x:St.x,y:St.y}),br(this,zu).div.addEventListener("pointerup",()=>{br(this,zu).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:br(this,Ks)._signal}),St.preventDefault()}},ym=function(){return br(Wp,nv).get(br(this,Ks).getMode())},ER=function(St){const tr=br(this,Fl,ym);return tr?new tr.prototype.constructor(St):null},wR=function(){const{x:St,y:tr,width:rr,height:nr}=this.div.getBoundingClientRect(),sr=Math.max(0,St),ir=Math.max(0,tr),ar=Math.min(window.innerWidth,St+rr),or=Math.min(window.innerHeight,tr+nr),lr=(sr+ar)/2-St,cr=(ir+or)/2-tr,[ur,dr]=this.viewport.rotation%180===0?[lr,cr]:[cr,lr];return{offsetX:ur,offsetY:dr}},v2=function(){for(const St of br(this,jp).values())St.isEmpty()&&St.remove()},ps(Wp,"_initialized",!1),sn(Wp,nv,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor,SignatureEditor].map(St=>[St._editorType,St])));let AnnotationEditorLayer=Wp;var sm,sA,Xy,rS,M2,jN,Om,bR,RN,_R;const cu=class cu{constructor({pageIndex:St}){sn(this,Om);sn(this,sm,null);sn(this,sA,new Map);sn(this,Xy,new Map);this.pageIndex=St}setParent(St){if(!br(this,sm)){Jr(this,sm,St);return}if(br(this,sm)!==St){if(br(this,sA).size>0)for(const tr of br(this,sA).values())tr.remove(),St.append(tr);Jr(this,sm,St)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(St,tr=!1,rr=!1){const nr=_f(cu,rS)._++,sr=an(this,Om,bR).call(this),ir=cu._svgFactory.createElement("defs");sr.append(ir);const ar=cu._svgFactory.createElement("path");ir.append(ar);const or=`path_p${this.pageIndex}_${nr}`;ar.setAttribute("id",or),ar.setAttribute("vector-effect","non-scaling-stroke"),tr&&br(this,Xy).set(nr,ar);const lr=rr?an(this,Om,RN).call(this,ir,or):null,cr=cu._svgFactory.createElement("use");return sr.append(cr),cr.setAttribute("href",`#${or}`),this.updateProperties(sr,St),br(this,sA).set(nr,sr),{id:nr,clipPathId:`url(#${lr})`}}drawOutline(St,tr){const rr=_f(cu,rS)._++,nr=an(this,Om,bR).call(this),sr=cu._svgFactory.createElement("defs");nr.append(sr);const ir=cu._svgFactory.createElement("path");sr.append(ir);const ar=`path_p${this.pageIndex}_${rr}`;ir.setAttribute("id",ar),ir.setAttribute("vector-effect","non-scaling-stroke");let or;if(tr){const ur=cu._svgFactory.createElement("mask");sr.append(ur),or=`mask_p${this.pageIndex}_${rr}`,ur.setAttribute("id",or),ur.setAttribute("maskUnits","objectBoundingBox");const dr=cu._svgFactory.createElement("rect");ur.append(dr),dr.setAttribute("width","1"),dr.setAttribute("height","1"),dr.setAttribute("fill","white");const hr=cu._svgFactory.createElement("use");ur.append(hr),hr.setAttribute("href",`#${ar}`),hr.setAttribute("stroke","none"),hr.setAttribute("fill","black"),hr.setAttribute("fill-rule","nonzero"),hr.classList.add("mask")}const lr=cu._svgFactory.createElement("use");nr.append(lr),lr.setAttribute("href",`#${ar}`),or&&lr.setAttribute("mask",`url(#${or})`);const cr=lr.cloneNode();return nr.append(cr),lr.classList.add("mainOutline"),cr.classList.add("secondaryOutline"),this.updateProperties(nr,St),br(this,sA).set(rr,nr),rr}finalizeDraw(St,tr){br(this,Xy).delete(St),this.updateProperties(St,tr)}updateProperties(St,tr){var or;if(!tr)return;const{root:rr,bbox:nr,rootClass:sr,path:ir}=tr,ar=typeof St=="number"?br(this,sA).get(St):St;if(ar){if(rr&&an(this,Om,_R).call(this,ar,rr),nr&&an(or=cu,M2,jN).call(or,ar,nr),sr){const{classList:lr}=ar;for(const[cr,ur]of Object.entries(sr))lr.toggle(cr,ur)}if(ir){const cr=ar.firstChild.firstChild;an(this,Om,_R).call(this,cr,ir)}}}updateParent(St,tr){if(tr===this)return;const rr=br(this,sA).get(St);rr&&(br(tr,sm).append(rr),br(this,sA).delete(St),br(tr,sA).set(St,rr))}remove(St){br(this,Xy).delete(St),br(this,sm)!==null&&(br(this,sA).get(St).remove(),br(this,sA).delete(St))}destroy(){Jr(this,sm,null);for(const St of br(this,sA).values())St.remove();br(this,sA).clear(),br(this,Xy).clear()}};sm=new WeakMap,sA=new WeakMap,Xy=new WeakMap,rS=new WeakMap,M2=new WeakSet,jN=function(St,[tr,rr,nr,sr]){const{style:ir}=St;ir.top=`${100*rr}%`,ir.left=`${100*tr}%`,ir.width=`${100*nr}%`,ir.height=`${100*sr}%`},Om=new WeakSet,bR=function(){const St=cu._svgFactory.create(1,1,!0);return br(this,sm).append(St),St.setAttribute("aria-hidden",!0),St},RN=function(St,tr){const rr=cu._svgFactory.createElement("clipPath");St.append(rr);const nr=`clip_${tr}`;rr.setAttribute("id",nr),rr.setAttribute("clipPathUnits","objectBoundingBox");const sr=cu._svgFactory.createElement("use");return rr.append(sr),sr.setAttribute("href",`#${tr}`),sr.classList.add("clip"),nr},_R=function(St,tr){for(const[rr,nr]of Object.entries(tr))nr===null?St.removeAttribute(rr):St.setAttribute(rr,nr)},sn(cu,M2),sn(cu,rS,0);let DrawLayer=cu;globalThis._pdfjsTestingUtils={HighlightOutliner};globalThis.pdfjsLib={AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,build,ColorPicker,createValidAbsoluteUrl,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,fetchData,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getUuid,getXfaPageViewport,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,isDataScheme,isPdfFile,isValidExplicitDest,MathClamp,noContextMenu,normalizeUnicode,OPS,OutputScale,PasswordResponses:PasswordResponses$1,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,setLayerDimensions,shadow,SignatureExtractor,stopEvent,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,updateUrlHash,Util,VerbosityLevel,version,XfaLayer};const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,ColorPicker,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,MathClamp,OPS,OutputScale,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PasswordResponses:PasswordResponses$1,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,SignatureExtractor,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,Util,VerbosityLevel,XfaLayer,build,createValidAbsoluteUrl,fetchData,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getUuid,getXfaPageViewport,isDataScheme,isPdfFile,isValidExplicitDest,noContextMenu,normalizeUnicode,setLayerDimensions,shadow,stopEvent,updateUrlHash,version},Symbol.toStringTag,{value:"Module"})),clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=[...clipboardEvents,...compositionEvents,...focusEvents,...formEvents,...imageEvents,...keyboardEvents,...mediaEvents,...mouseEvents,...dragEvents,...selectionEvents,...touchEvents,...pointerEvents,...uiEvents,...wheelEvents,...animationEvents,...transitionEvents,...changeEvents,...otherEvents];function makeEventProps(er,St){const tr={};for(const rr of allEvents){const nr=er[rr];nr&&(St?tr[rr]=sr=>nr(sr,St(rr)):tr[rr]=nr)}return tr}function makeCancellablePromise(er){let St=!1;return{promise:new Promise((rr,nr)=>{er.then(sr=>!St&&rr(sr)).catch(sr=>!St&&nr(sr))}),cancel(){St=!0}}}var prefix="Invariant failed";function invariant$1(er,St){if(!er)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has$2=Object.prototype.hasOwnProperty;function find(er,St,tr){for(tr of er.keys())if(dequal(tr,St))return tr}function dequal(er,St){var tr,rr,nr;if(er===St)return!0;if(er&&St&&(tr=er.constructor)===St.constructor){if(tr===Date)return er.getTime()===St.getTime();if(tr===RegExp)return er.toString()===St.toString();if(tr===Array){if((rr=er.length)===St.length)for(;rr--&&dequal(er[rr],St[rr]););return rr===-1}if(tr===Set){if(er.size!==St.size)return!1;for(rr of er)if(nr=rr,nr&&typeof nr=="object"&&(nr=find(St,nr),!nr)||!St.has(nr))return!1;return!0}if(tr===Map){if(er.size!==St.size)return!1;for(rr of er)if(nr=rr[0],nr&&typeof nr=="object"&&(nr=find(St,nr),!nr)||!dequal(rr[1],St.get(nr)))return!1;return!0}if(tr===ArrayBuffer)er=new Uint8Array(er),St=new Uint8Array(St);else if(tr===DataView){if((rr=er.byteLength)===St.byteLength)for(;rr--&&er.getInt8(rr)===St.getInt8(rr););return rr===-1}if(ArrayBuffer.isView(er)){if((rr=er.byteLength)===St.byteLength)for(;rr--&&er[rr]===St[rr];);return rr===-1}if(!tr||typeof er=="object"){rr=0;for(tr in er)if(has$2.call(er,tr)&&++rr&&!has$2.call(St,tr)||!(tr in St)||!dequal(er[tr],St[tr]))return!1;return Object.keys(St).length===rr}}return er!==er&&St!==St}const documentContext=reactExports.createContext(null);function Message({children:er,type:St}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${St}`,children:er})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(St){this.pdfDocument=St}setViewer(St){this.pdfViewer=St}setExternalLinkRel(St){this.externalLinkRel=St}setExternalLinkTarget(St){this.externalLinkTarget=St}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(St){invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber=St}get rotation(){return 0}set rotation(St){}goToDestination(St){return new Promise(tr=>{invariant$1(this.pdfDocument),invariant$1(St),typeof St=="string"?this.pdfDocument.getDestination(St).then(tr):Array.isArray(St)?tr(St):St.then(tr)}).then(tr=>{invariant$1(Array.isArray(tr));const rr=tr[0];new Promise(nr=>{invariant$1(this.pdfDocument),rr instanceof Object?this.pdfDocument.getPageIndex(rr).then(sr=>{nr(sr)}).catch(()=>{invariant$1(!1)}):typeof rr=="number"?nr(rr):invariant$1(!1)}).then(nr=>{const sr=nr+1;invariant$1(this.pdfViewer),invariant$1(sr>=1&&sr<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:tr,pageIndex:nr,pageNumber:sr})})})}navigateTo(St){this.goToDestination(St)}goToPage(St){const tr=St-1;invariant$1(this.pdfViewer),invariant$1(St>=1&&St<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:tr,pageNumber:St})}addLinkAttributes(St,tr,rr){St.href=tr,St.rel=this.externalLinkRel||DEFAULT_LINK_REL,St.target=rr?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser$1=typeof window<"u",isLocalFileSystem=isBrowser$1&&window.location.protocol==="file:";function isDefined(er){return typeof er<"u"}function isProvided(er){return isDefined(er)&&er!==null}function isString$1(er){return typeof er=="string"}function isArrayBuffer(er){return er instanceof ArrayBuffer}function isBlob(er){return invariant$1(isBrowser$1),er instanceof Blob}function isDataURI(er){return isString$1(er)&&/^data:/.test(er)}function dataURItoByteString(er){invariant$1(isDataURI(er));const[St="",tr=""]=er.split(",");return St.split(";").indexOf("base64")!==-1?atob(tr):unescape(tr)}function getDevicePixelRatio(){return isBrowser$1&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(er){er!=null&&er.cancel&&er.cancel()}function makePageCallback(er,St){return Object.defineProperty(er,"width",{get(){return this.view[2]*St},configurable:!0}),Object.defineProperty(er,"height",{get(){return this.view[3]*St},configurable:!0}),Object.defineProperty(er,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(er,"originalHeight",{get(){return this.view[3]},configurable:!0}),er}function isCancelException(er){return er.name==="RenderingCancelledException"}function loadFromFile(er){return new Promise((St,tr)=>{const rr=new FileReader;rr.onload=()=>{if(!rr.result)return tr(new Error("Error while reading a file."));St(rr.result)},rr.onerror=nr=>{if(!nr.target)return tr(new Error("Error while reading a file."));const{error:sr}=nr.target;if(!sr)return tr(new Error("Error while reading a file."));switch(sr.code){case sr.NOT_FOUND_ERR:return tr(new Error("Error while reading a file: File not found."));case sr.SECURITY_ERR:return tr(new Error("Error while reading a file: Security error."));case sr.ABORT_ERR:return tr(new Error("Error while reading a file: Aborted."));default:return tr(new Error("Error while reading a file."))}},rr.readAsArrayBuffer(er)})}function reducer(er,St){switch(St.type){case"RESOLVE":return{value:St.value,error:void 0};case"REJECT":return{value:!1,error:St.error};case"RESET":return{value:void 0,error:void 0};default:return er}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __rest$d=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(er,St)=>{switch(St){case PasswordResponses.NEED_PASSWORD:{const tr=prompt("Enter the password to open this PDF file.");er(tr);break}case PasswordResponses.INCORRECT_PASSWORD:{const tr=prompt("Invalid password. Please try again.");er(tr);break}}};function isParameterObject(er){return typeof er=="object"&&er!==null&&("data"in er||"range"in er||"url"in er)}const Document=reactExports.forwardRef(function er(St,tr){var{children:rr,className:nr,error:sr="Failed to load PDF file.",externalLinkRel:ir,externalLinkTarget:ar,file:or,inputRef:lr,imageResourcesPath:cr,loading:ur="Loading PDF",noData:dr="No PDF file specified.",onItemClick:hr,onLoadError:Ar,onLoadProgress:fr,onLoadSuccess:mr,onPassword:pr=defaultOnPassword,onSourceError:gr,onSourceSuccess:xr,options:yr,renderMode:Er,rotate:_r,scale:Sr}=St,jr=__rest$d(St,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[Pr,Mr]=useResolver(),{value:Ir,error:Lr}=Pr,[Qr,Yr]=useResolver(),{value:Gr,error:$r}=Qr,Vr=reactExports.useRef(new LinkService),Tr=reactExports.useRef([]),Fr=reactExports.useRef(void 0),Wr=reactExports.useRef(void 0);or&&or!==Fr.current&&isParameterObject(or)&&(warning$1(!dequal(or,Fr.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Fr.current=or),yr&&yr!==Wr.current&&(warning$1(!dequal(yr,Wr.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Wr.current=yr);const qr=reactExports.useRef({scrollPageIntoView:Rn=>{const{dest:Nn,pageNumber:pn,pageIndex:Gn=pn-1}=Rn;if(hr){hr({dest:Nn,pageIndex:Gn,pageNumber:pn});return}const os=Tr.current[Gn];if(os){os.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${pn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(tr,()=>({linkService:Vr,pages:Tr,viewer:qr}),[]);function Rr(){xr&&xr()}function Or(){Lr&&(warning$1(!1,Lr.toString()),gr&&gr(Lr))}function Hr(){Mr({type:"RESET"})}reactExports.useEffect(Hr,[or,Mr]);const zr=reactExports.useCallback(async()=>{if(!or)return null;if(typeof or=="string")return isDataURI(or)?{data:dataURItoByteString(or)}:(displayCORSWarning(),{url:or});if(or instanceof PDFDataRangeTransport)return{range:or};if(isArrayBuffer(or))return{data:or};if(isBrowser$1&&isBlob(or))return{data:await loadFromFile(or)};if(invariant$1(typeof or=="object"),invariant$1(isParameterObject(or)),"url"in or&&typeof or.url=="string"){if(isDataURI(or.url)){const{url:Rn}=or,Nn=__rest$d(or,["url"]),pn=dataURItoByteString(Rn);return Object.assign({data:pn},Nn)}displayCORSWarning()}return or},[or]);reactExports.useEffect(()=>{const Rn=makeCancellablePromise(zr());return Rn.promise.then(Nn=>{Mr({type:"RESOLVE",value:Nn})}).catch(Nn=>{Mr({type:"REJECT",error:Nn})}),()=>{cancelRunningTask(Rn)}},[zr,Mr]),reactExports.useEffect(()=>{if(!(typeof Ir>"u")){if(Ir===!1){Or();return}Rr()}},[Ir]);function Zr(){Gr&&(mr&&mr(Gr),Tr.current=new Array(Gr.numPages),Vr.current.setDocument(Gr))}function nn(){$r&&(warning$1(!1,$r.toString()),Ar&&Ar($r))}reactExports.useEffect(function(){Yr({type:"RESET"})},[Yr,Ir]),reactExports.useEffect(function(){if(!Ir)return;const Nn=yr?Object.assign(Object.assign({},Ir),yr):Ir,pn=getDocument(Nn);fr&&(pn.onProgress=fr),pr&&(pn.onPassword=pr);const Gn=pn,os=Gn.promise.then(es=>{Yr({type:"RESOLVE",value:es})}).catch(es=>{Gn.destroyed||Yr({type:"REJECT",error:es})});return()=>{os.finally(()=>Gn.destroy())}},[yr,Yr,Ir]),reactExports.useEffect(()=>{if(!(typeof Gr>"u")){if(Gr===!1){nn();return}Zr()}},[Gr]),reactExports.useEffect(function(){Vr.current.setViewer(qr.current),Vr.current.setExternalLinkRel(ir),Vr.current.setExternalLinkTarget(ar)},[ir,ar]);const vn=reactExports.useCallback((Rn,Nn)=>{Tr.current[Rn]=Nn},[]),hn=reactExports.useCallback(Rn=>{delete Tr.current[Rn]},[]),En=reactExports.useMemo(()=>({imageResourcesPath:cr,linkService:Vr.current,onItemClick:hr,pdf:Gr,registerPage:vn,renderMode:Er,rotate:_r,scale:Sr,unregisterPage:hn}),[cr,hr,Gr,vn,Er,_r,Sr,hn]),Tn=reactExports.useMemo(()=>makeEventProps(jr,()=>Gr),[jr,Gr]);function bn(){return jsxRuntimeExports.jsx(documentContext.Provider,{value:En,children:rr})}function Mn(){return or?Gr==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof ur=="function"?ur():ur}):Gr===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof sr=="function"?sr():sr}):bn():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof dr=="function"?dr():dr})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",nr),ref:lr},Tn,{children:Mn()}))});function useDocumentContext(){return reactExports.useContext(documentContext)}function mergeRefs(){for(var er=[],St=0;St<arguments.length;St++)er[St]=arguments[St];var tr=er.filter(Boolean);if(tr.length<=1){var rr=tr[0];return rr||null}return function(sr){for(var ir=0,ar=tr;ir<ar.length;ir++){var or=ar[ir];typeof or=="function"?or(sr):or&&(or.current=sr)}}}const pageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(er){return er in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(er){return"children"in er}function isStructTreeNodeWithOnlyContentChild(er){return isStructTreeNode(er)?er.children.length===1&&0 in er.children&&"id"in er.children[0]:!1}function getRoleAttributes(er){const St={};if(isStructTreeNode(er)){const{role:tr}=er,rr=tr.match(HEADING_PATTERN);if(rr)St.role="heading",St["aria-level"]=Number(rr[1]);else if(isPdfRole(tr)){const nr=PDF_ROLE_TO_HTML_ROLE[tr];nr&&(St.role=nr)}}return St}function getBaseAttributes(er){const St={};if(isStructTreeNode(er)){if(er.alt!==void 0&&(St["aria-label"]=er.alt),er.lang!==void 0&&(St.lang=er.lang),isStructTreeNodeWithOnlyContentChild(er)){const[tr]=er.children;if(tr){const rr=getBaseAttributes(tr);return Object.assign(Object.assign({},St),rr)}}}else"id"in er&&(St["aria-owns"]=er.id);return St}function getAttributes(er){return er?Object.assign(Object.assign({},getRoleAttributes(er)),getBaseAttributes(er)):null}function StructTreeItem({className:er,node:St}){const tr=reactExports.useMemo(()=>getAttributes(St),[St]),rr=reactExports.useMemo(()=>!isStructTreeNode(St)||isStructTreeNodeWithOnlyContentChild(St)?null:St.children.map((nr,sr)=>jsxRuntimeExports.jsx(StructTreeItem,{node:nr},sr)),[St]);return jsxRuntimeExports.jsx("span",Object.assign({className:er},tr,{children:rr}))}function usePageContext(){return reactExports.useContext(pageContext)}function StructTree(){const er=usePageContext();invariant$1(er);const{onGetStructTreeError:St,onGetStructTreeSuccess:tr}=er,[rr,nr]=useResolver(),{value:sr,error:ir}=rr,{customTextRenderer:ar,page:or}=er;function lr(){sr&&tr&&tr(sr)}function cr(){ir&&(warning$1(!1,ir.toString()),St&&St(ir))}return reactExports.useEffect(function(){nr({type:"RESET"})},[nr,or]),reactExports.useEffect(function(){if(ar||!or)return;const dr=makeCancellablePromise(or.getStructTree()),hr=dr;return dr.promise.then(Ar=>{nr({type:"RESOLVE",value:Ar})}).catch(Ar=>{nr({type:"REJECT",error:Ar})}),()=>cancelRunningTask(hr)},[ar,or,nr]),reactExports.useEffect(()=>{if(sr!==void 0){if(sr===!1){cr();return}lr()}},[sr]),sr?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:sr}):null}const ANNOTATION_MODE=AnnotationMode;function Canvas(er){const St=usePageContext();invariant$1(St);const tr=Object.assign(Object.assign({},St),er),{_className:rr,canvasBackground:nr,devicePixelRatio:sr=getDevicePixelRatio(),onRenderError:ir,onRenderSuccess:ar,page:or,renderForms:lr,renderTextLayer:cr,rotate:ur,scale:dr}=tr,{canvasRef:hr}=er;invariant$1(or);const Ar=reactExports.useRef(null);function fr(){or&&ar&&ar(makePageCallback(or,dr))}function mr(yr){isCancelException(yr)||(warning$1(!1,yr.toString()),ir&&ir(yr))}const pr=reactExports.useMemo(()=>or.getViewport({scale:dr*sr,rotation:ur}),[sr,or,ur,dr]),gr=reactExports.useMemo(()=>or.getViewport({scale:dr,rotation:ur}),[or,ur,dr]);reactExports.useEffect(function(){if(!or)return;or.cleanup();const{current:Er}=Ar;if(!Er)return;Er.width=pr.width,Er.height=pr.height,Er.style.width=`${Math.floor(gr.width)}px`,Er.style.height=`${Math.floor(gr.height)}px`,Er.style.visibility="hidden";const _r={annotationMode:lr?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:Er.getContext("2d",{alpha:!1}),viewport:pr};nr&&(_r.background=nr);const Sr=or.render(_r),jr=Sr;return Sr.promise.then(()=>{Er.style.visibility="",fr()}).catch(mr),()=>cancelRunningTask(jr)},[nr,or,lr,pr,gr]);const xr=reactExports.useCallback(()=>{const{current:yr}=Ar;yr&&(yr.width=0,yr.height=0)},[]);return reactExports.useEffect(()=>xr,[xr]),jsxRuntimeExports.jsx("canvas",{className:`${rr}__canvas`,dir:"ltr",ref:mergeRefs(hr,Ar),style:{display:"block",userSelect:"none"},children:cr?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(er){return"str"in er}function TextLayer(){const er=usePageContext();invariant$1(er);const{customTextRenderer:St,onGetTextError:tr,onGetTextSuccess:rr,onRenderTextLayerError:nr,onRenderTextLayerSuccess:sr,page:ir,pageIndex:ar,pageNumber:or,rotate:lr,scale:cr}=er;invariant$1(ir);const[ur,dr]=useResolver(),{value:hr,error:Ar}=ur,fr=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function mr(){hr&&rr&&rr(hr)}function pr(){Ar&&(warning$1(!1,Ar.toString()),tr&&tr(Ar))}reactExports.useEffect(function(){dr({type:"RESET"})},[ir,dr]),reactExports.useEffect(function(){if(!ir)return;const jr=makeCancellablePromise(ir.getTextContent()),Pr=jr;return jr.promise.then(Mr=>{dr({type:"RESOLVE",value:Mr})}).catch(Mr=>{dr({type:"REJECT",error:Mr})}),()=>cancelRunningTask(Pr)},[ir,dr]),reactExports.useEffect(()=>{if(hr!==void 0){if(hr===!1){pr();return}mr()}},[hr]);const gr=reactExports.useCallback(()=>{sr&&sr()},[sr]),xr=reactExports.useCallback(Sr=>{warning$1(!1,Sr.toString()),nr&&nr(Sr)},[nr]);function yr(){const Sr=fr.current;Sr&&Sr.classList.add("selecting")}function Er(){const Sr=fr.current;Sr&&Sr.classList.remove("selecting")}const _r=reactExports.useMemo(()=>ir.getViewport({scale:cr,rotation:lr}),[ir,lr,cr]);return reactExports.useLayoutEffect(function(){if(!ir||!hr)return;const{current:jr}=fr;if(!jr)return;jr.innerHTML="";const Pr=ir.streamTextContent({includeMarkedContent:!0}),Mr={container:jr,textContentSource:Pr,viewport:_r},Ir=new TextLayer$1(Mr),Lr=Ir;return Ir.render().then(()=>{const Qr=document.createElement("div");Qr.className="endOfContent",jr.append(Qr);const Yr=jr.querySelectorAll('[role="presentation"]');if(St){let Gr=0;hr.items.forEach(($r,Vr)=>{if(!isTextItem($r))return;const Tr=Yr[Gr];if(!Tr)return;const Fr=St(Object.assign({pageIndex:ar,pageNumber:or,itemIndex:Vr},$r));Tr.innerHTML=Fr,Gr+=$r.str&&$r.hasEOL?2:1})}gr()}).catch(xr),()=>cancelRunningTask(Lr)},[St,xr,gr,ir,ar,or,hr,_r]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:Er,onMouseDown:yr,ref:fr})}function AnnotationLayer(){const er=useDocumentContext(),St=usePageContext();invariant$1(St);const tr=Object.assign(Object.assign({},er),St),{imageResourcesPath:rr,linkService:nr,onGetAnnotationsError:sr,onGetAnnotationsSuccess:ir,onRenderAnnotationLayerError:ar,onRenderAnnotationLayerSuccess:or,page:lr,pdf:cr,renderForms:ur,rotate:dr,scale:hr=1}=tr;invariant$1(cr),invariant$1(lr),invariant$1(nr);const[Ar,fr]=useResolver(),{value:mr,error:pr}=Ar,gr=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function xr(){mr&&ir&&ir(mr)}function yr(){pr&&(warning$1(!1,pr.toString()),sr&&sr(pr))}reactExports.useEffect(function(){fr({type:"RESET"})},[fr,lr]),reactExports.useEffect(function(){if(!lr)return;const Pr=makeCancellablePromise(lr.getAnnotations()),Mr=Pr;return Pr.promise.then(Ir=>{fr({type:"RESOLVE",value:Ir})}).catch(Ir=>{fr({type:"REJECT",error:Ir})}),()=>{cancelRunningTask(Mr)}},[fr,lr]),reactExports.useEffect(()=>{if(mr!==void 0){if(mr===!1){yr();return}xr()}},[mr]);function Er(){or&&or()}function _r(jr){warning$1(!1,`${jr}`),ar&&ar(jr)}const Sr=reactExports.useMemo(()=>lr.getViewport({scale:hr,rotation:dr}),[lr,dr,hr]);return reactExports.useEffect(function(){if(!cr||!lr||!nr||!mr)return;const{current:Pr}=gr;if(!Pr)return;const Mr=Sr.clone({dontFlip:!0}),Ir={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Pr,l10n:null,page:lr,structTreeLayer:null,viewport:Mr},Lr={annotations:mr,annotationStorage:cr.annotationStorage,div:Pr,imageResourcesPath:rr,linkService:nr,page:lr,renderForms:ur,viewport:Mr};Pr.innerHTML="";try{new AnnotationLayer$1(Ir).render(Lr),Er()}catch(Qr){_r(Qr)}return()=>{}},[mr,rr,nr,lr,cr,ur,Sr]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:gr})}var __rest$c=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};const defaultScale=1;function Page(er){const St=useDocumentContext(),tr=Object.assign(Object.assign({},St),er),{_className:rr="react-pdf__Page",_enableRegisterUnregisterPage:nr=!0,canvasBackground:sr,canvasRef:ir,children:ar,className:or,customRenderer:lr,customTextRenderer:cr,devicePixelRatio:ur,error:dr="Failed to load the page.",height:hr,inputRef:Ar,loading:fr="Loading page",noData:mr="No page specified.",onGetAnnotationsError:pr,onGetAnnotationsSuccess:gr,onGetStructTreeError:xr,onGetStructTreeSuccess:yr,onGetTextError:Er,onGetTextSuccess:_r,onLoadError:Sr,onLoadSuccess:jr,onRenderAnnotationLayerError:Pr,onRenderAnnotationLayerSuccess:Mr,onRenderError:Ir,onRenderSuccess:Lr,onRenderTextLayerError:Qr,onRenderTextLayerSuccess:Yr,pageIndex:Gr,pageNumber:$r,pdf:Vr,registerPage:Tr,renderAnnotationLayer:Fr=!0,renderForms:Wr=!1,renderMode:qr="canvas",renderTextLayer:Rr=!0,rotate:Or,scale:Hr=defaultScale,unregisterPage:zr,width:Zr}=tr,nn=__rest$c(tr,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[vn,hn]=useResolver(),{value:En,error:Tn}=vn,bn=reactExports.useRef(null);invariant$1(Vr);const Mn=isProvided($r)?$r-1:Gr??null,Rn=$r??(isProvided(Gr)?Gr+1:null),Nn=Or??(En?En.rotate:null),pn=reactExports.useMemo(()=>{if(!En)return null;let Fs=1;const Vs=Hr??defaultScale;if(Zr||hr){const Ts=En.getViewport({scale:1,rotation:Nn});Zr?Fs=Zr/Ts.width:hr&&(Fs=hr/Ts.height)}return Vs*Fs},[hr,En,Nn,Hr,Zr]);reactExports.useEffect(function(){return()=>{isProvided(Mn)&&nr&&zr&&zr(Mn)}},[nr,Vr,Mn,zr]);function Gn(){if(jr){if(!En||!pn)return;jr(makePageCallback(En,pn))}if(nr&&Tr){if(!isProvided(Mn)||!bn.current)return;Tr(Mn,bn.current)}}function os(){Tn&&(warning$1(!1,Tn.toString()),Sr&&Sr(Tn))}reactExports.useEffect(function(){hn({type:"RESET"})},[hn,Vr,Mn]),reactExports.useEffect(function(){if(!Vr||!Rn)return;const Vs=makeCancellablePromise(Vr.getPage(Rn)),Ts=Vs;return Vs.promise.then(Ds=>{hn({type:"RESOLVE",value:Ds})}).catch(Ds=>{hn({type:"REJECT",error:Ds})}),()=>cancelRunningTask(Ts)},[hn,Vr,Rn]),reactExports.useEffect(()=>{if(En!==void 0){if(En===!1){os();return}Gn()}},[En,pn]);const es=reactExports.useMemo(()=>En&&isProvided(Mn)&&Rn&&isProvided(Nn)&&isProvided(pn)?{_className:rr,canvasBackground:sr,customTextRenderer:cr,devicePixelRatio:ur,onGetAnnotationsError:pr,onGetAnnotationsSuccess:gr,onGetStructTreeError:xr,onGetStructTreeSuccess:yr,onGetTextError:Er,onGetTextSuccess:_r,onRenderAnnotationLayerError:Pr,onRenderAnnotationLayerSuccess:Mr,onRenderError:Ir,onRenderSuccess:Lr,onRenderTextLayerError:Qr,onRenderTextLayerSuccess:Yr,page:En,pageIndex:Mn,pageNumber:Rn,renderForms:Wr,renderTextLayer:Rr,rotate:Nn,scale:pn}:null,[rr,sr,cr,ur,pr,gr,xr,yr,Er,_r,Pr,Mr,Ir,Lr,Qr,Yr,En,Mn,Rn,Wr,Rr,Nn,pn]),cs=reactExports.useMemo(()=>makeEventProps(nn,()=>En&&(pn?makePageCallback(En,pn):void 0)),[nn,En,pn]),ts=`${Mn}@${pn}/${Nn}`;function fs(){switch(qr){case"custom":return invariant$1(lr),jsxRuntimeExports.jsx(lr,{},`${ts}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:ir},`${ts}_canvas`)}}function vs(){return Rr?jsxRuntimeExports.jsx(TextLayer,{},`${ts}_text`):null}function ws(){return Fr?jsxRuntimeExports.jsx(AnnotationLayer,{},`${ts}_annotations`):null}function Rs(){return jsxRuntimeExports.jsxs(pageContext.Provider,{value:es,children:[fs(),vs(),ws(),ar]})}function ks(){return Rn?Vr===null||En===void 0||En===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof fr=="function"?fr():fr}):Vr===!1||En===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof dr=="function"?dr():dr}):Rs():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof mr=="function"?mr():mr})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(rr,or),"data-page-number":Rn,ref:mergeRefs(Ar,bn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${pn}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:sr||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},cs,{children:ks()}))}displayWorkerWarning();GlobalWorkerOptions.workerSrc="pdf.worker.mjs";function PdfModal({url:er,open:St,setOpen:tr}){return jsxRuntimeExports.jsxs(Lt$1,{open:St,onClose:()=>tr(!1),className:"relative z-50",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lt$1.Panel,{className:"w-[90vw] h-[90vh] bg-white rounded-xl p-4 shadow-xl overflow-auto",children:jsxRuntimeExports.jsx(Document,{file:er,children:jsxRuntimeExports.jsx(Page,{pageNumber:1,width:800})})})})]})}const invoices$2=[{employer:"Techfinity",month:"July 2025",amount:22850,link:"/pdf/invoices/techfinity-july.pdf"},{employer:"NovaHealth",month:"July 2025",amount:18600,link:"/pdf/invoices/novahealth-july.pdf"}];function EmployerInvoiceViewer(){const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(null),nr=sr=>{rr(sr),St(!0)};return jsxRuntimeExports.jsxs(Card,{className:"glass-card",children:[jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Invoices"}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:invoices$2.map((sr,ir)=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center border-b pb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:sr.employer}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:sr.month})]}),jsxRuntimeExports.jsx("button",{onClick:()=>nr(sr.link),className:"text-sm text-blue-600 underline hover:text-blue-800",children:"Preview PDF"})]},ir))})]}),er&&tr&&jsxRuntimeExports.jsx(PdfModal,{url:tr,open:er,setOpen:St})]})}async function getEmployerSettings(er){const{data:St,error:tr}=await supabase.from("employer_settings").select("*").eq("employer_id",er).single();return tr&&console.error(tr),St}async function updateVoice(er,St){const{error:tr}=await supabase.from("employer_settings").upsert({employer_id:er,default_voice:St},{onConflict:"employer_id"});tr&&console.error(tr)}const employers$2=[{id:"e1",name:"Techfinity"},{id:"e2",name:"NovaHealth"}],voices$2=["Rachel","Bella","Adam"];function VoiceBrandingSelector(){const[er,St]=reactExports.useState({});reactExports.useEffect(()=>{Promise.all(employers$2.map(rr=>getEmployerSettings(rr.id))).then(rr=>{const nr={};rr.forEach((sr,ir)=>nr[employers$2[ir].id]=(sr==null?void 0:sr.default_voice)||"Rachel"),St(nr)})},[]);const tr=(rr,nr)=>{St(sr=>({...sr,[rr]:nr})),updateVoice(rr,nr)};return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Voice Branding"}),employers$2.map((rr,nr)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:rr.name}),jsxRuntimeExports.jsx("select",{value:er[rr.id],onChange:sr=>tr(employers$2[nr].id,sr.target.value),className:"bg-white/40 backdrop-blur px-3 py-1 rounded-lg border",children:voices$2.map(sr=>jsxRuntimeExports.jsx("option",{children:sr},sr))})]},nr))]})})}const employers$1=[{name:"Techfinity",features:{AI:!0,Video:!1,Chat:!0}},{name:"NovaHealth",features:{AI:!0,Video:!0,Chat:!0}}];function FeatureTogglePanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Employer Feature Toggles"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b border-slate-300",children:[jsxRuntimeExports.jsx("th",{children:"Employer"}),jsxRuntimeExports.jsx("th",{children:"AI"}),jsxRuntimeExports.jsx("th",{children:"Video"}),jsxRuntimeExports.jsx("th",{children:"Chat"})]})}),jsxRuntimeExports.jsx("tbody",{children:employers$1.map((er,St)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200",children:[jsxRuntimeExports.jsx("td",{className:"py-2",children:er.name}),Object.entries(er.features).map(([tr,rr])=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr,onChange:()=>{}})},tr))]},St))})]})})]})})}const aiFeed=[{user:"john@atlas.com",prompt:"Show me last lab results",outputLength:422,model:"Gemini",time:"4:18 PM"},{user:"sara@nova.com",prompt:"Book an appointment with Dr. Chu",outputLength:189,model:"OpenAI",time:"4:06 PM"},{user:"ian@admin.com",prompt:"Generate invoice summary",outputLength:312,model:"Gemini",time:"3:58 PM"}];function AdminAiActivityFeed(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" AI Assistant Activity Feed"}),jsxRuntimeExports.jsx("ul",{className:"space-y-4 max-h-[320px] overflow-y-auto pr-2",children:aiFeed.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"border-b pb-2 border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-600 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:er.user})," at ",er.time]}),jsxRuntimeExports.jsxs("div",{className:"text-slate-800 italic text-sm",children:['"',er.prompt,'"']}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Model: ",er.model,"  Response: ",er.outputLength," chars"]})]},St))})]})})}const timelineEvents=[{type:"ai",label:"AI Response Triggered",detail:"Gemini used for lab summary",time:"4:11 PM"},{type:"upload",label:"File Uploaded",detail:"CT Scan added to Patient #433",time:"3:47 PM"},{type:"access",label:"Record Accessed",detail:"Provider viewed Timeline of Patient #901",time:"3:12 PM"}],icon={ai:"",upload:"",access:""};function AdminTimeline(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" System Timeline"}),jsxRuntimeExports.jsx("ol",{className:"relative border-l border-slate-300 pl-4 space-y-6",children:timelineEvents.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute -left-[14px] bg-white w-6 h-6 rounded-full border-2 border-slate-300 flex items-center justify-center text-sm",children:icon[er.type]}),jsxRuntimeExports.jsxs("div",{className:"ml-2",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-slate-800",children:er.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:er.detail}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-400 mt-1",children:er.time})]})]},St))})]})})}var get$2={},isUnsafeProperty={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr==="__proto__"}er.isUnsafeProperty=St})(isUnsafeProperty);var isDeepKey={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){switch(typeof tr){case"number":case"symbol":return!1;case"string":return tr.includes(".")||tr.includes("[")||tr.includes("]")}}er.isDeepKey=St})(isDeepKey);var toKey={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){var rr;return typeof tr=="string"||typeof tr=="symbol"?tr:Object.is((rr=tr==null?void 0:tr.valueOf)==null?void 0:rr.call(tr),-0)?"-0":String(tr)}er.toKey=St})(toKey);var toPath={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){const rr=[],nr=tr.length;if(nr===0)return rr;let sr=0,ir="",ar="",or=!1;for(tr.charCodeAt(0)===46&&(rr.push(""),sr++);sr<nr;){const lr=tr[sr];ar?lr==="\\"&&sr+1<nr?(sr++,ir+=tr[sr]):lr===ar?ar="":ir+=lr:or?lr==='"'||lr==="'"?ar=lr:lr==="]"?(or=!1,rr.push(ir),ir=""):ir+=lr:lr==="["?(or=!0,ir&&(rr.push(ir),ir="")):lr==="."?ir&&(rr.push(ir),ir=""):ir+=lr,sr++}return ir&&rr.push(ir),rr}er.toPath=St})(toPath);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isUnsafeProperty,tr=isDeepKey,rr=toKey,nr=toPath;function sr(ar,or,lr){if(ar==null)return lr;switch(typeof or){case"string":{if(St.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?tr.isDeepKey(or)?sr(ar,nr.toPath(or),lr):lr:cr}case"number":case"symbol":{typeof or=="number"&&(or=rr.toKey(or));const cr=ar[or];return cr===void 0?lr:cr}default:{if(Array.isArray(or))return ir(ar,or,lr);if(Object.is(or==null?void 0:or.valueOf(),-0)?or="-0":or=String(or),St.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?lr:cr}}}function ir(ar,or,lr){if(or.length===0)return lr;let cr=ar;for(let ur=0;ur<or.length;ur++){if(cr==null||St.isUnsafeProperty(or[ur]))return lr;cr=cr[or[ur]]}return cr===void 0?lr:cr}er.get=sr})(get$2);var get=get$2.get;const get$1=getDefaultExportFromCjs(get);var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(er){if(typeof er=="object"&&er!==null){var St=er.$$typeof;switch(St){case REACT_ELEMENT_TYPE:switch(er=er.type,er){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return er;default:switch(er=er&&er.$$typeof,er){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return er;case REACT_CONSUMER_TYPE:return er;default:return St}}case REACT_PORTAL_TYPE:return St}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(er){return typeOf(er)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(er){return typeOf(er)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(er){return typeof er=="object"&&er!==null&&er.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(er){return typeOf(er)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(er){return typeOf(er)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(er){return typeOf(er)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(er){return typeOf(er)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(er){return typeOf(er)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(er){return typeOf(er)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(er){return typeOf(er)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(er){return typeOf(er)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(er){return typeOf(er)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(er){return typeof er=="string"||typeof er=="function"||er===REACT_FRAGMENT_TYPE||er===REACT_PROFILER_TYPE||er===REACT_STRICT_MODE_TYPE||er===REACT_SUSPENSE_TYPE||er===REACT_SUSPENSE_LIST_TYPE||typeof er=="object"&&er!==null&&(er.$$typeof===REACT_LAZY_TYPE||er.$$typeof===REACT_MEMO_TYPE||er.$$typeof===REACT_CONTEXT_TYPE||er.$$typeof===REACT_CONSUMER_TYPE||er.$$typeof===REACT_FORWARD_REF_TYPE||er.$$typeof===REACT_CLIENT_REFERENCE||er.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs.exports=reactIs_production;var reactIsExports=reactIs.exports,mathSign=er=>er===0?0:er>0?1:-1,isNan=er=>typeof er=="number"&&er!=+er,isPercent=er=>typeof er=="string"&&er.indexOf("%")===er.length-1,isNumber=er=>(typeof er=="number"||er instanceof Number)&&!isNan(er),isNumOrStr=er=>isNumber(er)||typeof er=="string",idCounter$1=0,uniqueId=er=>{var St=++idCounter$1;return"".concat(er||"").concat(St)},getPercentValue=function er(St,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(St)&&typeof St!="string")return rr;var sr;if(isPercent(St)){if(tr==null)return rr;var ir=St.indexOf("%");sr=tr*parseFloat(St.slice(0,ir))/100}else sr=+St;return isNan(sr)&&(sr=rr),nr&&tr!=null&&sr>tr&&(sr=tr),sr},hasDuplicate=er=>{if(!Array.isArray(er))return!1;for(var St=er.length,tr={},rr=0;rr<St;rr++)if(!tr[er[rr]])tr[er[rr]]=!0;else return!0;return!1},interpolateNumber$1=(er,St)=>isNumber(er)&&isNumber(St)?tr=>er+tr*(St-er):()=>St;function interpolate$2(er,St,tr){return isNumber(er)&&isNumber(St)?er+tr*(St-er):St}function findEntryInArray(er,St,tr){if(!(!er||!er.length))return er.find(rr=>rr&&(typeof St=="function"?St(rr):get$1(rr,St))===tr)}var isNullish$1=er=>er===null||typeof er>"u",upperFirst=er=>isNullish$1(er)?er:"".concat(er.charAt(0).toUpperCase()).concat(er.slice(1)),SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=(er,St)=>{if(!er||typeof er=="function"||typeof er=="boolean")return null;var tr=er;if(reactExports.isValidElement(er)&&(tr=er.props),typeof tr!="object"&&typeof tr!="function")return null;var rr={};return Object.keys(tr).forEach(nr=>{EventKeys.includes(nr)&&(rr[nr]=sr=>tr[nr](tr,sr))}),rr},getEventHandlerOfChild=(er,St,tr)=>rr=>(er(St,tr,rr),null),adaptEventsOfChild=(er,St,tr)=>{if(er===null||typeof er!="object"&&typeof er!="function")return null;var rr=null;return Object.keys(er).forEach(nr=>{var sr=er[nr];EventKeys.includes(nr)&&typeof sr=="function"&&(rr||(rr={}),rr[nr]=getEventHandlerOfChild(sr,St,tr))}),rr},getDisplayName=er=>typeof er=="string"?er:er?er.displayName||er.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=er=>{if(er===lastChildren&&Array.isArray(lastResult))return lastResult;var St=[];return reactExports.Children.forEach(er,tr=>{isNullish$1(tr)||(reactIsExports.isFragment(tr)?St=St.concat(toArray$1(tr.props.children)):St.push(tr))}),lastResult=St,lastChildren=er,St};function findAllByType(er,St){var tr=[],rr=[];return Array.isArray(St)?rr=St.map(nr=>getDisplayName(nr)):rr=[getDisplayName(St)],toArray$1(er).forEach(nr=>{var sr=get$1(nr,"type.displayName")||get$1(nr,"type.name");rr.indexOf(sr)!==-1&&tr.push(nr)}),tr}var isClipDot=er=>er&&typeof er=="object"&&"clipDot"in er?!!er.clipDot:!0,isValidSpreadableProp=(er,St,tr,rr)=>{var nr,sr=(nr=rr&&(FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[rr]))!==null&&nr!==void 0?nr:[];return St.startsWith("data-")||typeof er!="function"&&(rr&&sr.includes(St)||SVGElementPropKeys.includes(St))||tr&&EventKeys.includes(St)},filterProps$1=(er,St,tr)=>{if(!er||typeof er=="function"||typeof er=="boolean")return null;var rr=er;if(reactExports.isValidElement(er)&&(rr=er.props),typeof rr!="object"&&typeof rr!="function")return null;var nr={};return Object.keys(rr).forEach(sr=>{var ir;isValidSpreadableProp((ir=rr)===null||ir===void 0?void 0:ir[sr],sr,St,tr)&&(nr[sr]=rr[sr])}),nr},_excluded$o=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$t.apply(null,arguments)}function _objectWithoutProperties$o(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$o(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$o(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Surface=reactExports.forwardRef((er,St)=>{var{children:tr,width:rr,height:nr,viewBox:sr,className:ir,style:ar,title:or,desc:lr}=er,cr=_objectWithoutProperties$o(er,_excluded$o),ur=sr||{width:rr,height:nr,x:0,y:0},dr=clsx("recharts-surface",ir);return reactExports.createElement("svg",_extends$t({},filterProps$1(cr,!0,"svg"),{className:dr,width:rr,height:nr,style:ar,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height),ref:St}),reactExports.createElement("title",null,or),reactExports.createElement("desc",null,lr),tr)}),_excluded$n=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$s.apply(null,arguments)}function _objectWithoutProperties$n(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$n(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$n(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Layer=reactExports.forwardRef((er,St)=>{var{children:tr,className:rr}=er,nr=_objectWithoutProperties$n(er,_excluded$n),sr=clsx("recharts-layer",rr);return reactExports.createElement("g",_extends$s({className:sr},filterProps$1(nr,!0),{ref:St}),tr)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(er){return function(){return er}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(er){this._+=er[0];for(let St=1,tr=er.length;St<tr;++St)this._+=arguments[St]+er[St]}function appendRound(er){let St=Math.floor(er);if(!(St>=0))throw new Error(`invalid digits: ${er}`);if(St>15)return append;const tr=10**St;return function(rr){this._+=rr[0];for(let nr=1,sr=rr.length;nr<sr;++nr)this._+=Math.round(arguments[nr]*tr)/tr+rr[nr]}}class Path{constructor(St){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=St==null?append:appendRound(St)}moveTo(St,tr){this._append`M${this._x0=this._x1=+St},${this._y0=this._y1=+tr}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(St,tr){this._append`L${this._x1=+St},${this._y1=+tr}`}quadraticCurveTo(St,tr,rr,nr){this._append`Q${+St},${+tr},${this._x1=+rr},${this._y1=+nr}`}bezierCurveTo(St,tr,rr,nr,sr,ir){this._append`C${+St},${+tr},${+rr},${+nr},${this._x1=+sr},${this._y1=+ir}`}arcTo(St,tr,rr,nr,sr){if(St=+St,tr=+tr,rr=+rr,nr=+nr,sr=+sr,sr<0)throw new Error(`negative radius: ${sr}`);let ir=this._x1,ar=this._y1,or=rr-St,lr=nr-tr,cr=ir-St,ur=ar-tr,dr=cr*cr+ur*ur;if(this._x1===null)this._append`M${this._x1=St},${this._y1=tr}`;else if(dr>epsilon)if(!(Math.abs(ur*or-lr*cr)>epsilon)||!sr)this._append`L${this._x1=St},${this._y1=tr}`;else{let hr=rr-ir,Ar=nr-ar,fr=or*or+lr*lr,mr=hr*hr+Ar*Ar,pr=Math.sqrt(fr),gr=Math.sqrt(dr),xr=sr*Math.tan((pi-Math.acos((fr+dr-mr)/(2*pr*gr)))/2),yr=xr/gr,Er=xr/pr;Math.abs(yr-1)>epsilon&&this._append`L${St+yr*cr},${tr+yr*ur}`,this._append`A${sr},${sr},0,0,${+(ur*hr>cr*Ar)},${this._x1=St+Er*or},${this._y1=tr+Er*lr}`}}arc(St,tr,rr,nr,sr,ir){if(St=+St,tr=+tr,rr=+rr,ir=!!ir,rr<0)throw new Error(`negative radius: ${rr}`);let ar=rr*Math.cos(nr),or=rr*Math.sin(nr),lr=St+ar,cr=tr+or,ur=1^ir,dr=ir?nr-sr:sr-nr;this._x1===null?this._append`M${lr},${cr}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-cr)>epsilon)&&this._append`L${lr},${cr}`,rr&&(dr<0&&(dr=dr%tau+tau),dr>tauEpsilon?this._append`A${rr},${rr},0,1,${ur},${St-ar},${tr-or}A${rr},${rr},0,1,${ur},${this._x1=lr},${this._y1=cr}`:dr>epsilon&&this._append`A${rr},${rr},0,${+(dr>=pi)},${ur},${this._x1=St+rr*Math.cos(sr)},${this._y1=tr+rr*Math.sin(sr)}`)}rect(St,tr,rr,nr){this._append`M${this._x0=this._x1=+St},${this._y0=this._y1=+tr}h${rr=+rr}v${+nr}h${-rr}Z`}toString(){return this._}}function withPath(er){let St=3;return er.digits=function(tr){if(!arguments.length)return St;if(tr==null)St=null;else{const rr=Math.floor(tr);if(!(rr>=0))throw new RangeError(`invalid digits: ${tr}`);St=rr}return er},()=>new Path(St)}function array(er){return typeof er=="object"&&"length"in er?er:Array.from(er)}function Linear(er){this._context=er}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,St){switch(er=+er,St=+St,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,St):this._context.moveTo(er,St);break;case 1:this._point=2;default:this._context.lineTo(er,St);break}}};function curveLinear(er){return new Linear(er)}function x$2(er){return er[0]}function y$1(er){return er[1]}function shapeLine(er,St){var tr=constant$1(!0),rr=null,nr=curveLinear,sr=null,ir=withPath(ar);er=typeof er=="function"?er:er===void 0?x$2:constant$1(er),St=typeof St=="function"?St:St===void 0?y$1:constant$1(St);function ar(or){var lr,cr=(or=array(or)).length,ur,dr=!1,hr;for(rr==null&&(sr=nr(hr=ir())),lr=0;lr<=cr;++lr)!(lr<cr&&tr(ur=or[lr],lr,or))===dr&&((dr=!dr)?sr.lineStart():sr.lineEnd()),dr&&sr.point(+er(ur,lr,or),+St(ur,lr,or));if(hr)return sr=null,hr+""||null}return ar.x=function(or){return arguments.length?(er=typeof or=="function"?or:constant$1(+or),ar):er},ar.y=function(or){return arguments.length?(St=typeof or=="function"?or:constant$1(+or),ar):St},ar.defined=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$1(!!or),ar):tr},ar.curve=function(or){return arguments.length?(nr=or,rr!=null&&(sr=nr(rr)),ar):nr},ar.context=function(or){return arguments.length?(or==null?rr=sr=null:sr=nr(rr=or),ar):rr},ar}function shapeArea(er,St,tr){var rr=null,nr=constant$1(!0),sr=null,ir=curveLinear,ar=null,or=withPath(lr);er=typeof er=="function"?er:er===void 0?x$2:constant$1(+er),St=typeof St=="function"?St:constant$1(St===void 0?0:+St),tr=typeof tr=="function"?tr:tr===void 0?y$1:constant$1(+tr);function lr(ur){var dr,hr,Ar,fr=(ur=array(ur)).length,mr,pr=!1,gr,xr=new Array(fr),yr=new Array(fr);for(sr==null&&(ar=ir(gr=or())),dr=0;dr<=fr;++dr){if(!(dr<fr&&nr(mr=ur[dr],dr,ur))===pr)if(pr=!pr)hr=dr,ar.areaStart(),ar.lineStart();else{for(ar.lineEnd(),ar.lineStart(),Ar=dr-1;Ar>=hr;--Ar)ar.point(xr[Ar],yr[Ar]);ar.lineEnd(),ar.areaEnd()}pr&&(xr[dr]=+er(mr,dr,ur),yr[dr]=+St(mr,dr,ur),ar.point(rr?+rr(mr,dr,ur):xr[dr],tr?+tr(mr,dr,ur):yr[dr]))}if(gr)return ar=null,gr+""||null}function cr(){return shapeLine().defined(nr).curve(ir).context(sr)}return lr.x=function(ur){return arguments.length?(er=typeof ur=="function"?ur:constant$1(+ur),rr=null,lr):er},lr.x0=function(ur){return arguments.length?(er=typeof ur=="function"?ur:constant$1(+ur),lr):er},lr.x1=function(ur){return arguments.length?(rr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):rr},lr.y=function(ur){return arguments.length?(St=typeof ur=="function"?ur:constant$1(+ur),tr=null,lr):St},lr.y0=function(ur){return arguments.length?(St=typeof ur=="function"?ur:constant$1(+ur),lr):St},lr.y1=function(ur){return arguments.length?(tr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):tr},lr.lineX0=lr.lineY0=function(){return cr().x(er).y(St)},lr.lineY1=function(){return cr().x(er).y(tr)},lr.lineX1=function(){return cr().x(rr).y(St)},lr.defined=function(ur){return arguments.length?(nr=typeof ur=="function"?ur:constant$1(!!ur),lr):nr},lr.curve=function(ur){return arguments.length?(ir=ur,sr!=null&&(ar=ir(sr)),lr):ir},lr.context=function(ur){return arguments.length?(ur==null?sr=ar=null:ar=ir(sr=ur),lr):sr},lr}class Bump{constructor(St,tr){this._context=St,this._x=tr}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(St,tr){switch(St=+St,tr=+tr,this._point){case 0:{this._point=1,this._line?this._context.lineTo(St,tr):this._context.moveTo(St,tr);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+St)/2,this._y0,this._x0,tr,St,tr):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+tr)/2,St,this._y0,St,tr);break}}this._x0=St,this._y0=tr}}function bumpX(er){return new Bump(er,!0)}function bumpY(er){return new Bump(er,!1)}const symbolCircle={draw(er,St){const tr=sqrt$1(St/pi$1);er.moveTo(tr,0),er.arc(0,0,tr,0,tau$1)}},symbolCross={draw(er,St){const tr=sqrt$1(St/5)/2;er.moveTo(-3*tr,-tr),er.lineTo(-tr,-tr),er.lineTo(-tr,-3*tr),er.lineTo(tr,-3*tr),er.lineTo(tr,-tr),er.lineTo(3*tr,-tr),er.lineTo(3*tr,tr),er.lineTo(tr,tr),er.lineTo(tr,3*tr),er.lineTo(-tr,3*tr),er.lineTo(-tr,tr),er.lineTo(-3*tr,tr),er.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(er,St){const tr=sqrt$1(St/tan30_2),rr=tr*tan30;er.moveTo(0,-tr),er.lineTo(rr,0),er.lineTo(0,tr),er.lineTo(-rr,0),er.closePath()}},symbolSquare={draw(er,St){const tr=sqrt$1(St),rr=-tr/2;er.rect(rr,rr,tr,tr)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(er,St){const tr=sqrt$1(St*ka),rr=kx*tr,nr=ky*tr;er.moveTo(0,-tr),er.lineTo(rr,nr);for(let sr=1;sr<5;++sr){const ir=tau$1*sr/5,ar=cos(ir),or=sin(ir);er.lineTo(or*tr,-ar*tr),er.lineTo(ar*rr-or*nr,or*rr+ar*nr)}er.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(er,St){const tr=-sqrt$1(St/(sqrt3*3));er.moveTo(0,tr*2),er.lineTo(-sqrt3*tr,-tr),er.lineTo(sqrt3*tr,-tr),er.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$2=(k$1/2+1)*3,symbolWye={draw(er,St){const tr=sqrt$1(St/a$2),rr=tr/2,nr=tr*k$1,sr=rr,ir=tr*k$1+tr,ar=-sr,or=ir;er.moveTo(rr,nr),er.lineTo(sr,ir),er.lineTo(ar,or),er.lineTo(c$1*rr-s$1*nr,s$1*rr+c$1*nr),er.lineTo(c$1*sr-s$1*ir,s$1*sr+c$1*ir),er.lineTo(c$1*ar-s$1*or,s$1*ar+c$1*or),er.lineTo(c$1*rr+s$1*nr,c$1*nr-s$1*rr),er.lineTo(c$1*sr+s$1*ir,c$1*ir-s$1*sr),er.lineTo(c$1*ar+s$1*or,c$1*or-s$1*ar),er.closePath()}};function Symbol$1(er,St){let tr=null,rr=withPath(nr);er=typeof er=="function"?er:constant$1(er||symbolCircle),St=typeof St=="function"?St:constant$1(St===void 0?64:+St);function nr(){let sr;if(tr||(tr=sr=rr()),er.apply(this,arguments).draw(tr,+St.apply(this,arguments)),sr)return tr=null,sr+""||null}return nr.type=function(sr){return arguments.length?(er=typeof sr=="function"?sr:constant$1(sr),nr):er},nr.size=function(sr){return arguments.length?(St=typeof sr=="function"?sr:constant$1(+sr),nr):St},nr.context=function(sr){return arguments.length?(tr=sr??null,nr):tr},nr}function noop$7(){}function point$2(er,St,tr){er._context.bezierCurveTo((2*er._x0+er._x1)/3,(2*er._y0+er._y1)/3,(er._x0+2*er._x1)/3,(er._y0+2*er._y1)/3,(er._x0+4*er._x1+St)/6,(er._y0+4*er._y1+tr)/6)}function Basis(er){this._context=er}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,St){switch(er=+er,St=+St,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,St):this._context.moveTo(er,St);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,er,St);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=St}};function curveBasis(er){return new Basis(er)}function BasisClosed(er){this._context=er}BasisClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(er,St){switch(er=+er,St=+St,this._point){case 0:this._point=1,this._x2=er,this._y2=St;break;case 1:this._point=2,this._x3=er,this._y3=St;break;case 2:this._point=3,this._x4=er,this._y4=St,this._context.moveTo((this._x0+4*this._x1+er)/6,(this._y0+4*this._y1+St)/6);break;default:point$2(this,er,St);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=St}};function curveBasisClosed(er){return new BasisClosed(er)}function BasisOpen(er){this._context=er}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(er,St){switch(er=+er,St=+St,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var tr=(this._x0+4*this._x1+er)/6,rr=(this._y0+4*this._y1+St)/6;this._line?this._context.lineTo(tr,rr):this._context.moveTo(tr,rr);break;case 3:this._point=4;default:point$2(this,er,St);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=St}};function curveBasisOpen(er){return new BasisOpen(er)}function LinearClosed(er){this._context=er}LinearClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(er,St){er=+er,St=+St,this._point?this._context.lineTo(er,St):(this._point=1,this._context.moveTo(er,St))}};function curveLinearClosed(er){return new LinearClosed(er)}function sign(er){return er<0?-1:1}function slope3(er,St,tr){var rr=er._x1-er._x0,nr=St-er._x1,sr=(er._y1-er._y0)/(rr||nr<0&&-0),ir=(tr-er._y1)/(nr||rr<0&&-0),ar=(sr*nr+ir*rr)/(rr+nr);return(sign(sr)+sign(ir))*Math.min(Math.abs(sr),Math.abs(ir),.5*Math.abs(ar))||0}function slope2(er,St){var tr=er._x1-er._x0;return tr?(3*(er._y1-er._y0)/tr-St)/2:St}function point$1(er,St,tr){var rr=er._x0,nr=er._y0,sr=er._x1,ir=er._y1,ar=(sr-rr)/3;er._context.bezierCurveTo(rr+ar,nr+ar*St,sr-ar,ir-ar*tr,sr,ir)}function MonotoneX(er){this._context=er}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,St){var tr=NaN;if(er=+er,St=+St,!(er===this._x1&&St===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(er,St):this._context.moveTo(er,St);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,tr=slope3(this,er,St)),tr);break;default:point$1(this,this._t0,tr=slope3(this,er,St));break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=St,this._t0=tr}}};function MonotoneY(er){this._context=new ReflectContext(er)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(er,St){MonotoneX.prototype.point.call(this,St,er)};function ReflectContext(er){this._context=er}ReflectContext.prototype={moveTo:function(er,St){this._context.moveTo(St,er)},closePath:function(){this._context.closePath()},lineTo:function(er,St){this._context.lineTo(St,er)},bezierCurveTo:function(er,St,tr,rr,nr,sr){this._context.bezierCurveTo(St,er,rr,tr,sr,nr)}};function monotoneX(er){return new MonotoneX(er)}function monotoneY(er){return new MonotoneY(er)}function Natural(er){this._context=er}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var er=this._x,St=this._y,tr=er.length;if(tr)if(this._line?this._context.lineTo(er[0],St[0]):this._context.moveTo(er[0],St[0]),tr===2)this._context.lineTo(er[1],St[1]);else for(var rr=controlPoints(er),nr=controlPoints(St),sr=0,ir=1;ir<tr;++sr,++ir)this._context.bezierCurveTo(rr[0][sr],nr[0][sr],rr[1][sr],nr[1][sr],er[ir],St[ir]);(this._line||this._line!==0&&tr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(er,St){this._x.push(+er),this._y.push(+St)}};function controlPoints(er){var St,tr=er.length-1,rr,nr=new Array(tr),sr=new Array(tr),ir=new Array(tr);for(nr[0]=0,sr[0]=2,ir[0]=er[0]+2*er[1],St=1;St<tr-1;++St)nr[St]=1,sr[St]=4,ir[St]=4*er[St]+2*er[St+1];for(nr[tr-1]=2,sr[tr-1]=7,ir[tr-1]=8*er[tr-1]+er[tr],St=1;St<tr;++St)rr=nr[St]/sr[St-1],sr[St]-=rr,ir[St]-=rr*ir[St-1];for(nr[tr-1]=ir[tr-1]/sr[tr-1],St=tr-2;St>=0;--St)nr[St]=(ir[St]-nr[St+1])/sr[St];for(sr[tr-1]=(er[tr]+nr[tr-1])/2,St=0;St<tr-1;++St)sr[St]=2*er[St+1]-nr[St+1];return[nr,sr]}function curveNatural(er){return new Natural(er)}function Step(er,St){this._context=er,this._t=St}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(er,St){switch(er=+er,St=+St,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,St):this._context.moveTo(er,St);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,St),this._context.lineTo(er,St);else{var tr=this._x*(1-this._t)+er*this._t;this._context.lineTo(tr,this._y),this._context.lineTo(tr,St)}break}}this._x=er,this._y=St}};function curveStep(er){return new Step(er,.5)}function stepBefore(er){return new Step(er,0)}function stepAfter(er){return new Step(er,1)}function stackOffsetNone(er,St){if((ir=er.length)>1)for(var tr=1,rr,nr,sr=er[St[0]],ir,ar=sr.length;tr<ir;++tr)for(nr=sr,sr=er[St[tr]],rr=0;rr<ar;++rr)sr[rr][1]+=sr[rr][0]=isNaN(nr[rr][1])?nr[rr][0]:nr[rr][1]}function stackOrderNone(er){for(var St=er.length,tr=new Array(St);--St>=0;)tr[St]=St;return tr}function stackValue(er,St){return er[St]}function stackSeries(er){const St=[];return St.key=er,St}function shapeStack(){var er=constant$1([]),St=stackOrderNone,tr=stackOffsetNone,rr=stackValue;function nr(sr){var ir=Array.from(er.apply(this,arguments),stackSeries),ar,or=ir.length,lr=-1,cr;for(const ur of sr)for(ar=0,++lr;ar<or;++ar)(ir[ar][lr]=[0,+rr(ur,ir[ar].key,lr,sr)]).data=ur;for(ar=0,cr=array(St(ir));ar<or;++ar)ir[cr[ar]].index=ar;return tr(ir,cr),ir}return nr.keys=function(sr){return arguments.length?(er=typeof sr=="function"?sr:constant$1(Array.from(sr)),nr):er},nr.value=function(sr){return arguments.length?(rr=typeof sr=="function"?sr:constant$1(+sr),nr):rr},nr.order=function(sr){return arguments.length?(St=sr==null?stackOrderNone:typeof sr=="function"?sr:constant$1(Array.from(sr)),nr):St},nr.offset=function(sr){return arguments.length?(tr=sr??stackOffsetNone,nr):tr},nr}function stackOffsetExpand(er,St){if((rr=er.length)>0){for(var tr,rr,nr=0,sr=er[0].length,ir;nr<sr;++nr){for(ir=tr=0;tr<rr;++tr)ir+=er[tr][nr][1]||0;if(ir)for(tr=0;tr<rr;++tr)er[tr][nr][1]/=ir}stackOffsetNone(er,St)}}function stackOffsetSilhouette(er,St){if((nr=er.length)>0){for(var tr=0,rr=er[St[0]],nr,sr=rr.length;tr<sr;++tr){for(var ir=0,ar=0;ir<nr;++ir)ar+=er[ir][tr][1]||0;rr[tr][1]+=rr[tr][0]=-ar/2}stackOffsetNone(er,St)}}function stackOffsetWiggle(er,St){if(!(!((ir=er.length)>0)||!((sr=(nr=er[St[0]]).length)>0))){for(var tr=0,rr=1,nr,sr,ir;rr<sr;++rr){for(var ar=0,or=0,lr=0;ar<ir;++ar){for(var cr=er[St[ar]],ur=cr[rr][1]||0,dr=cr[rr-1][1]||0,hr=(ur-dr)/2,Ar=0;Ar<ar;++Ar){var fr=er[St[Ar]],mr=fr[rr][1]||0,pr=fr[rr-1][1]||0;hr+=mr-pr}or+=ur,lr+=hr*ur}nr[rr-1][1]+=nr[rr-1][0]=tr,or&&(tr-=lr/or)}nr[rr-1][1]+=nr[rr-1][0]=tr,stackOffsetNone(er,St)}}var _excluded$m=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$r.apply(null,arguments)}function ownKeys$C(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$C(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$C(Object(tr),!0).forEach(function(rr){_defineProperty$G(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$C(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$G(er,St,tr){return(St=_toPropertyKey$G(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$G(er){var St=_toPrimitive$G(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$G(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$m(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$m(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$m(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=er=>{var St="symbol".concat(upperFirst(er));return symbolFactories[St]||symbolCircle},calculateAreaSize=(er,St,tr)=>{if(St==="area")return er;switch(tr){case"cross":return 5*er*er/9;case"diamond":return .5*er*er/Math.sqrt(3);case"square":return er*er;case"star":{var rr=18*RADIAN$1;return 1.25*er*er*(Math.tan(rr)-Math.tan(rr*2)*Math.tan(rr)**2)}case"triangle":return Math.sqrt(3)*er*er/4;case"wye":return(21-10*Math.sqrt(3))*er*er/8;default:return Math.PI*er*er/4}},registerSymbol=(er,St)=>{symbolFactories["symbol".concat(upperFirst(er))]=St},Symbols=er=>{var{type:St="circle",size:tr=64,sizeType:rr="area"}=er,nr=_objectWithoutProperties$m(er,_excluded$m),sr=_objectSpread$C(_objectSpread$C({},nr),{},{type:St,size:tr,sizeType:rr}),ir=()=>{var ur=getSymbolFactory(St),dr=Symbol$1().type(ur).size(calculateAreaSize(tr,rr,St));return dr()},{className:ar,cx:or,cy:lr}=sr,cr=filterProps$1(sr,!0);return or===+or&&lr===+lr&&tr===+tr?reactExports.createElement("path",_extends$r({},cr,{className:clsx("recharts-symbols",ar),transform:"translate(".concat(or,", ").concat(lr,")"),d:ir()})):null};Symbols.registerSymbol=registerSymbol;function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$q.apply(null,arguments)}function ownKeys$B(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$B(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$B(Object(tr),!0).forEach(function(rr){_defineProperty$F(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$B(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$F(er,St,tr){return(St=_toPropertyKey$F(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$F(er){var St=_toPrimitive$F(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$F(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(St,tr){var{inactiveColor:rr}=this.props,nr=SIZE/2,sr=SIZE/6,ir=SIZE/3,ar=St.inactive?rr:St.color,or=tr??St.type;if(or==="none")return null;if(or==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:ar,strokeDasharray:St.payload.strokeDasharray,x1:0,y1:nr,x2:SIZE,y2:nr,className:"recharts-legend-icon"});if(or==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:ar,d:"M0,".concat(nr,"h").concat(ir,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(2*ir,",").concat(nr,`
            H`).concat(SIZE,"M").concat(2*ir,",").concat(nr,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(ir,",").concat(nr),className:"recharts-legend-icon"});if(or==="rect")return reactExports.createElement("path",{stroke:"none",fill:ar,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(St.legendIcon)){var lr=_objectSpread$B({},St);return delete lr.legendIcon,reactExports.cloneElement(St.legendIcon,lr)}return reactExports.createElement(Symbols,{fill:ar,cx:nr,cy:nr,size:SIZE,sizeType:"diameter",type:or})}renderItems(){var{payload:St,iconSize:tr,layout:rr,formatter:nr,inactiveColor:sr,iconType:ir}=this.props,ar={x:0,y:0,width:SIZE,height:SIZE},or={display:rr==="horizontal"?"inline-block":"block",marginRight:10},lr={display:"inline-block",verticalAlign:"middle",marginRight:4};return St.map((cr,ur)=>{var dr=cr.formatter||nr,hr=clsx({"recharts-legend-item":!0,["legend-item-".concat(ur)]:!0,inactive:cr.inactive});if(cr.type==="none")return null;var Ar=cr.inactive?sr:cr.color,fr=dr?dr(cr.value,cr,ur):cr.value;return reactExports.createElement("li",_extends$q({className:hr,style:or,key:"legend-item-".concat(ur)},adaptEventsOfChild(this.props,cr,ur)),reactExports.createElement(Surface,{width:tr,height:tr,viewBox:ar,style:lr,"aria-label":"".concat(fr," legend icon")},this.renderIcon(cr,ir)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:Ar}},fr))})}render(){var{payload:St,layout:tr,align:rr}=this.props;if(!St||!St.length)return null;var nr={padding:0,margin:0,textAlign:tr==="horizontal"?rr:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:nr},this.renderItems())}}_defineProperty$F(DefaultLegendContent,"displayName","Legend");_defineProperty$F(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr,rr){const nr=new Map;for(let sr=0;sr<tr.length;sr++){const ir=tr[sr],ar=rr(ir);nr.has(ar)||nr.set(ar,ir)}return Array.from(nr.values())}er.uniqBy=St})(uniqBy$2);var identity$4={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr}er.identity=St})(identity$4);var isArrayLikeObject={},isArrayLike={},isLength$1={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return Number.isSafeInteger(tr)&&tr>=0}er.isLength=St})(isLength$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isLength$1;function tr(rr){return rr!=null&&typeof rr!="function"&&St.isLength(rr.length)}er.isArrayLike=tr})(isArrayLike);var isObjectLike={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return typeof tr=="object"&&tr!==null}er.isObjectLike=St})(isObjectLike);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isArrayLike,tr=isObjectLike;function rr(nr){return tr.isObjectLike(nr)&&St.isArrayLike(nr)}er.isArrayLikeObject=rr})(isArrayLikeObject);var iteratee={},property={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=get$2;function tr(rr){return function(nr){return St.get(nr,rr)}}er.property=tr})(property);var matches={},isMatch={},isMatchWith={},isObject$1={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr!==null&&(typeof tr=="object"||typeof tr=="function")}er.isObject=St})(isObject$1);var isPrimitive={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr==null||typeof tr!="object"&&typeof tr!="function"}er.isPrimitive=St})(isPrimitive);var eq={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr,rr){return tr===rr||Number.isNaN(tr)&&Number.isNaN(rr)}er.eq=St})(eq);var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=requireIsMatch(),tr=isObject$1,rr=isPrimitive,nr=eq;function sr(ur,dr,hr){return typeof hr!="function"?St.isMatch(ur,dr):ir(ur,dr,function Ar(fr,mr,pr,gr,xr,yr){const Er=hr(fr,mr,pr,gr,xr,yr);return Er!==void 0?!!Er:ir(fr,mr,Ar,yr)},new Map)}function ir(ur,dr,hr,Ar){if(dr===ur)return!0;switch(typeof dr){case"object":return ar(ur,dr,hr,Ar);case"function":return Object.keys(dr).length>0?ir(ur,{...dr},hr,Ar):nr.eq(ur,dr);default:return tr.isObject(ur)?typeof dr=="string"?dr==="":!0:nr.eq(ur,dr)}}function ar(ur,dr,hr,Ar){if(dr==null)return!0;if(Array.isArray(dr))return lr(ur,dr,hr,Ar);if(dr instanceof Map)return or(ur,dr,hr,Ar);if(dr instanceof Set)return cr(ur,dr,hr,Ar);const fr=Object.keys(dr);if(ur==null)return fr.length===0;if(fr.length===0)return!0;if(Ar&&Ar.has(dr))return Ar.get(dr)===ur;Ar&&Ar.set(dr,ur);try{for(let mr=0;mr<fr.length;mr++){const pr=fr[mr];if(!rr.isPrimitive(ur)&&!(pr in ur)||dr[pr]===void 0&&ur[pr]!==void 0||dr[pr]===null&&ur[pr]!==null||!hr(ur[pr],dr[pr],pr,ur,dr,Ar))return!1}return!0}finally{Ar&&Ar.delete(dr)}}function or(ur,dr,hr,Ar){if(dr.size===0)return!0;if(!(ur instanceof Map))return!1;for(const[fr,mr]of dr.entries()){const pr=ur.get(fr);if(hr(pr,mr,fr,ur,dr,Ar)===!1)return!1}return!0}function lr(ur,dr,hr,Ar){if(dr.length===0)return!0;if(!Array.isArray(ur))return!1;const fr=new Set;for(let mr=0;mr<dr.length;mr++){const pr=dr[mr];let gr=!1;for(let xr=0;xr<ur.length;xr++){if(fr.has(xr))continue;const yr=ur[xr];let Er=!1;if(hr(yr,pr,mr,ur,dr,Ar)&&(Er=!0),Er){fr.add(xr),gr=!0;break}}if(!gr)return!1}return!0}function cr(ur,dr,hr,Ar){return dr.size===0?!0:ur instanceof Set?lr([...ur],[...dr],hr,Ar):!1}er.isMatchWith=sr,er.isSetMatch=cr}(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=requireIsMatchWith();function tr(rr,nr){return St.isMatchWith(rr,nr,()=>{})}er.isMatch=tr}(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return Object.getOwnPropertySymbols(tr).filter(rr=>Object.prototype.propertyIsEnumerable.call(tr,rr))}er.getSymbols=St})(getSymbols);var getTag={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr==null?tr===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(tr)}er.getTag=St})(getTag);var tags={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St="[object RegExp]",tr="[object String]",rr="[object Number]",nr="[object Boolean]",sr="[object Arguments]",ir="[object Symbol]",ar="[object Date]",or="[object Map]",lr="[object Set]",cr="[object Array]",ur="[object Function]",dr="[object ArrayBuffer]",hr="[object Object]",Ar="[object Error]",fr="[object DataView]",mr="[object Uint8Array]",pr="[object Uint8ClampedArray]",gr="[object Uint16Array]",xr="[object Uint32Array]",yr="[object BigUint64Array]",Er="[object Int8Array]",_r="[object Int16Array]",Sr="[object Int32Array]",jr="[object BigInt64Array]",Pr="[object Float32Array]",Mr="[object Float64Array]";er.argumentsTag=sr,er.arrayBufferTag=dr,er.arrayTag=cr,er.bigInt64ArrayTag=jr,er.bigUint64ArrayTag=yr,er.booleanTag=nr,er.dataViewTag=fr,er.dateTag=ar,er.errorTag=Ar,er.float32ArrayTag=Pr,er.float64ArrayTag=Mr,er.functionTag=ur,er.int16ArrayTag=_r,er.int32ArrayTag=Sr,er.int8ArrayTag=Er,er.mapTag=or,er.numberTag=rr,er.objectTag=hr,er.regexpTag=St,er.setTag=lr,er.stringTag=tr,er.symbolTag=ir,er.uint16ArrayTag=gr,er.uint32ArrayTag=xr,er.uint8ArrayTag=mr,er.uint8ClampedArrayTag=pr})(tags);var isTypedArray={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}er.isTypedArray=St})(isTypedArray);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=getSymbols,tr=getTag,rr=tags,nr=isPrimitive,sr=isTypedArray;function ir(cr,ur){return ar(cr,void 0,cr,new Map,ur)}function ar(cr,ur,dr,hr=new Map,Ar=void 0){const fr=Ar==null?void 0:Ar(cr,ur,dr,hr);if(fr!=null)return fr;if(nr.isPrimitive(cr))return cr;if(hr.has(cr))return hr.get(cr);if(Array.isArray(cr)){const mr=new Array(cr.length);hr.set(cr,mr);for(let pr=0;pr<cr.length;pr++)mr[pr]=ar(cr[pr],pr,dr,hr,Ar);return Object.hasOwn(cr,"index")&&(mr.index=cr.index),Object.hasOwn(cr,"input")&&(mr.input=cr.input),mr}if(cr instanceof Date)return new Date(cr.getTime());if(cr instanceof RegExp){const mr=new RegExp(cr.source,cr.flags);return mr.lastIndex=cr.lastIndex,mr}if(cr instanceof Map){const mr=new Map;hr.set(cr,mr);for(const[pr,gr]of cr)mr.set(pr,ar(gr,pr,dr,hr,Ar));return mr}if(cr instanceof Set){const mr=new Set;hr.set(cr,mr);for(const pr of cr)mr.add(ar(pr,void 0,dr,hr,Ar));return mr}if(typeof Buffer<"u"&&Buffer.isBuffer(cr))return cr.subarray();if(sr.isTypedArray(cr)){const mr=new(Object.getPrototypeOf(cr)).constructor(cr.length);hr.set(cr,mr);for(let pr=0;pr<cr.length;pr++)mr[pr]=ar(cr[pr],pr,dr,hr,Ar);return mr}if(cr instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&cr instanceof SharedArrayBuffer)return cr.slice(0);if(cr instanceof DataView){const mr=new DataView(cr.buffer.slice(0),cr.byteOffset,cr.byteLength);return hr.set(cr,mr),or(mr,cr,dr,hr,Ar),mr}if(typeof File<"u"&&cr instanceof File){const mr=new File([cr],cr.name,{type:cr.type});return hr.set(cr,mr),or(mr,cr,dr,hr,Ar),mr}if(cr instanceof Blob){const mr=new Blob([cr],{type:cr.type});return hr.set(cr,mr),or(mr,cr,dr,hr,Ar),mr}if(cr instanceof Error){const mr=new cr.constructor;return hr.set(cr,mr),mr.message=cr.message,mr.name=cr.name,mr.stack=cr.stack,mr.cause=cr.cause,or(mr,cr,dr,hr,Ar),mr}if(typeof cr=="object"&&lr(cr)){const mr=Object.create(Object.getPrototypeOf(cr));return hr.set(cr,mr),or(mr,cr,dr,hr,Ar),mr}return cr}function or(cr,ur,dr=cr,hr,Ar){const fr=[...Object.keys(ur),...St.getSymbols(ur)];for(let mr=0;mr<fr.length;mr++){const pr=fr[mr],gr=Object.getOwnPropertyDescriptor(cr,pr);(gr==null||gr.writable)&&(cr[pr]=ar(ur[pr],pr,dr,hr,Ar))}}function lr(cr){switch(tr.getTag(cr)){case rr.argumentsTag:case rr.arrayTag:case rr.arrayBufferTag:case rr.dataViewTag:case rr.booleanTag:case rr.dateTag:case rr.float32ArrayTag:case rr.float64ArrayTag:case rr.int8ArrayTag:case rr.int16ArrayTag:case rr.int32ArrayTag:case rr.mapTag:case rr.numberTag:case rr.objectTag:case rr.regexpTag:case rr.setTag:case rr.stringTag:case rr.symbolTag:case rr.uint8ArrayTag:case rr.uint8ClampedArrayTag:case rr.uint16ArrayTag:case rr.uint32ArrayTag:return!0;default:return!1}}er.cloneDeepWith=ir,er.cloneDeepWithImpl=ar,er.copyProperties=or})(cloneDeepWith$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=cloneDeepWith$1;function tr(rr){return St.cloneDeepWithImpl(rr,void 0,rr,new Map,void 0)}er.cloneDeep=tr})(cloneDeep$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=requireIsMatch(),tr=cloneDeep$1;function rr(nr){return nr=tr.cloneDeep(nr),sr=>St.isMatch(sr,nr)}er.matches=rr})(matches);var matchesProperty={},cloneDeep={},cloneDeepWith={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=cloneDeepWith$1,tr=tags;function rr(nr,sr){return St.cloneDeepWith(nr,(ir,ar,or,lr)=>{const cr=sr==null?void 0:sr(ir,ar,or,lr);if(cr!=null)return cr;if(typeof nr=="object")switch(Object.prototype.toString.call(nr)){case tr.numberTag:case tr.stringTag:case tr.booleanTag:{const ur=new nr.constructor(nr==null?void 0:nr.valueOf());return St.copyProperties(ur,nr),ur}case tr.argumentsTag:{const ur={};return St.copyProperties(ur,nr),ur.length=nr.length,ur[Symbol.iterator]=nr[Symbol.iterator],ur}default:return}})}er.cloneDeepWith=rr})(cloneDeepWith);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=cloneDeepWith;function tr(rr){return St.cloneDeepWith(rr)}er.cloneDeep=tr})(cloneDeep);var has$1={},isIndex={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=/^(?:0|[1-9]\d*)$/;function tr(rr,nr=Number.MAX_SAFE_INTEGER){switch(typeof rr){case"number":return Number.isInteger(rr)&&rr>=0&&rr<nr;case"symbol":return!1;case"string":return St.test(rr)}}er.isIndex=tr})(isIndex);var isArguments={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=getTag;function tr(rr){return rr!==null&&typeof rr=="object"&&St.getTag(rr)==="[object Arguments]"}er.isArguments=tr})(isArguments);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isDeepKey,tr=isIndex,rr=isArguments,nr=toPath;function sr(ir,ar){let or;if(Array.isArray(ar)?or=ar:typeof ar=="string"&&St.isDeepKey(ar)&&(ir==null?void 0:ir[ar])==null?or=nr.toPath(ar):or=[ar],or.length===0)return!1;let lr=ir;for(let cr=0;cr<or.length;cr++){const ur=or[cr];if((lr==null||!Object.hasOwn(lr,ur))&&!((Array.isArray(lr)||rr.isArguments(lr))&&tr.isIndex(ur)&&ur<lr.length))return!1;lr=lr[ur]}return!0}er.has=sr})(has$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=requireIsMatch(),tr=toKey,rr=cloneDeep,nr=get$2,sr=has$1;function ir(ar,or){switch(typeof ar){case"object":{Object.is(ar==null?void 0:ar.valueOf(),-0)&&(ar="-0");break}case"number":{ar=tr.toKey(ar);break}}return or=rr.cloneDeep(or),function(lr){const cr=nr.get(lr,ar);return cr===void 0?sr.has(lr,ar):or===void 0?cr===void 0:St.isMatch(cr,or)}}er.matchesProperty=ir})(matchesProperty);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=identity$4,tr=property,rr=matches,nr=matchesProperty;function sr(ir){if(ir==null)return St.identity;switch(typeof ir){case"function":return ir;case"object":return Array.isArray(ir)&&ir.length===2?nr.matchesProperty(ir[0],ir[1]):rr.matches(ir);case"string":case"symbol":case"number":return tr.property(ir)}}er.iteratee=sr})(iteratee);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=uniqBy$2,tr=identity$4,rr=isArrayLikeObject,nr=iteratee;function sr(ir,ar=tr.identity){return rr.isArrayLikeObject(ir)?St.uniqBy(Array.from(ir),nr.iteratee(ar)):[]}er.uniqBy=sr})(uniqBy$3);var uniqBy=uniqBy$3.uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy);function getUniqPayload(er,St,tr){return St===!0?uniqBy$1(er,tr):typeof St=="function"?uniqBy$1(er,St):er}var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(er,St){return er===St&&(er!==0||1/er===1/St)||er!==er&&St!==St}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(er,St){var tr=St(),rr=useState({inst:{value:tr,getSnapshot:St}}),nr=rr[0].inst,sr=rr[1];return useLayoutEffect(function(){nr.value=tr,nr.getSnapshot=St,checkIfSnapshotChanged(nr)&&sr({inst:nr})},[er,tr,St]),useEffect$1(function(){return checkIfSnapshotChanged(nr)&&sr({inst:nr}),er(function(){checkIfSnapshotChanged(nr)&&sr({inst:nr})})},[er]),useDebugValue$1(tr),tr}function checkIfSnapshotChanged(er){var St=er.getSnapshot;er=er.value;try{var tr=St();return!objectIs$1(er,tr)}catch{return!0}}function useSyncExternalStore$1(er,St){return St()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(er,St){return er===St&&(er!==0||1/er===1/St)||er!==er&&St!==St}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(er,St,tr,rr,nr){var sr=useRef(null);if(sr.current===null){var ir={hasValue:!1,value:null};sr.current=ir}else ir=sr.current;sr=useMemo(function(){function or(hr){if(!lr){if(lr=!0,cr=hr,hr=rr(hr),nr!==void 0&&ir.hasValue){var Ar=ir.value;if(nr(Ar,hr))return ur=Ar}return ur=hr}if(Ar=ur,objectIs(cr,hr))return Ar;var fr=rr(hr);return nr!==void 0&&nr(Ar,fr)?(cr=hr,Ar):(cr=hr,ur=fr)}var lr=!1,cr,ur,dr=tr===void 0?null:tr;return[function(){return or(St())},dr===null?void 0:function(){return or(dr())}]},[St,tr,rr,nr]);var ar=useSyncExternalStore(er,sr[0],sr[1]);return useEffect(function(){ir.hasValue=!0,ir.value=ar},[ar]),useDebugValue(ar),ar};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports,RechartsReduxContext=reactExports.createContext(null),noopDispatch=er=>er,useAppDispatch=()=>{var er=reactExports.useContext(RechartsReduxContext);return er?er.store.dispatch:noopDispatch},noop$6=()=>{},addNestedSubNoop=()=>noop$6,refEquality=(er,St)=>er===St;function useAppSelector(er){var St=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(St?St.subscription.addNestedSub:addNestedSubNoop,St?St.store.getState:noop$6,St?St.store.getState:noop$6,St?er:noop$6,refEquality)}function assertIsFunction(er,St=`expected a function, instead received ${typeof er}`){if(typeof er!="function")throw new TypeError(St)}function assertIsObject(er,St=`expected an object, instead received ${typeof er}`){if(typeof er!="object")throw new TypeError(St)}function assertIsArrayOfFunctions(er,St="expected all items to be functions, instead received the following types: "){if(!er.every(tr=>typeof tr=="function")){const tr=er.map(rr=>typeof rr=="function"?`function ${rr.name||"unnamed"}()`:typeof rr).join(", ");throw new TypeError(`${St}[${tr}]`)}}var ensureIsArray=er=>Array.isArray(er)?er:[er];function getDependencies(er){const St=Array.isArray(er[0])?er[0]:er;return assertIsArrayOfFunctions(St,"createSelector expects all input-selectors to be functions, but received the following types: "),St}function collectInputSelectorResults(er,St){const tr=[],{length:rr}=er;for(let nr=0;nr<rr;nr++)tr.push(er[nr].apply(null,St));return tr}var StrongRef=class{constructor(er){this.value=er}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(er,St={}){let tr=createCacheNode();const{resultEqualityCheck:rr}=St;let nr,sr=0;function ir(){var ur;let ar=tr;const{length:or}=arguments;for(let dr=0,hr=or;dr<hr;dr++){const Ar=arguments[dr];if(typeof Ar=="function"||typeof Ar=="object"&&Ar!==null){let fr=ar.o;fr===null&&(ar.o=fr=new WeakMap);const mr=fr.get(Ar);mr===void 0?(ar=createCacheNode(),fr.set(Ar,ar)):ar=mr}else{let fr=ar.p;fr===null&&(ar.p=fr=new Map);const mr=fr.get(Ar);mr===void 0?(ar=createCacheNode(),fr.set(Ar,ar)):ar=mr}}const lr=ar;let cr;if(ar.s===TERMINATED)cr=ar.v;else if(cr=er.apply(null,arguments),sr++,rr){const dr=((ur=nr==null?void 0:nr.deref)==null?void 0:ur.call(nr))??nr;dr!=null&&rr(dr,cr)&&(cr=dr,sr!==0&&sr--),nr=typeof cr=="object"&&cr!==null||typeof cr=="function"?new Ref(cr):cr}return lr.s=TERMINATED,lr.v=cr,cr}return ir.clearCache=()=>{tr=createCacheNode(),ir.resetResultsCount()},ir.resultsCount=()=>sr,ir.resetResultsCount=()=>{sr=0},ir}function createSelectorCreator(er,...St){const tr=typeof er=="function"?{memoize:er,memoizeOptions:St}:er,rr=(...nr)=>{let sr=0,ir=0,ar,or={},lr=nr.pop();typeof lr=="object"&&(or=lr,lr=nr.pop()),assertIsFunction(lr,`createSelector expects an output function after the inputs, but received: [${typeof lr}]`);const cr={...tr,...or},{memoize:ur,memoizeOptions:dr=[],argsMemoize:hr=weakMapMemoize,argsMemoizeOptions:Ar=[]}=cr,fr=ensureIsArray(dr),mr=ensureIsArray(Ar),pr=getDependencies(nr),gr=ur(function(){return sr++,lr.apply(null,arguments)},...fr),xr=hr(function(){ir++;const Er=collectInputSelectorResults(pr,arguments);return ar=gr.apply(null,Er),ar},...mr);return Object.assign(xr,{resultFunc:lr,memoizedResultFunc:gr,dependencies:pr,dependencyRecomputations:()=>ir,resetDependencyRecomputations:()=>{ir=0},lastResult:()=>ar,recomputations:()=>sr,resetRecomputations:()=>{sr=0},memoize:ur,argsMemoize:hr})};return Object.assign(rr,{withTypes:()=>rr}),rr}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((er,St=createSelector)=>{assertIsObject(er,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof er}`);const tr=Object.keys(er),rr=tr.map(sr=>er[sr]);return St(rr,(...sr)=>sr.reduce((ir,ar,or)=>(ir[tr[or]]=ar,ir),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(rr){return typeof rr=="symbol"?1:rr===null?2:rr===void 0?3:rr!==rr?4:0}const tr=(rr,nr,sr)=>{if(rr!==nr){const ir=St(rr),ar=St(nr);if(ir===ar&&ir===0){if(rr<nr)return sr==="desc"?1:-1;if(rr>nr)return sr==="desc"?-1:1}return sr==="desc"?ar-ir:ir-ar}return 0};er.compareValues=tr})(compareValues);var isKey={},isSymbol={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return typeof tr=="symbol"||tr instanceof Symbol}er.isSymbol=St})(isSymbol);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isSymbol,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/;function nr(sr,ir){return Array.isArray(sr)?!1:typeof sr=="number"||typeof sr=="boolean"||sr==null||St.isSymbol(sr)?!0:typeof sr=="string"&&(rr.test(sr)||!tr.test(sr))||ir!=null&&Object.hasOwn(ir,sr)}er.isKey=nr})(isKey);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=compareValues,tr=isKey,rr=toPath;function nr(sr,ir,ar,or){if(sr==null)return[];ar=or?void 0:ar,Array.isArray(sr)||(sr=Object.values(sr)),Array.isArray(ir)||(ir=ir==null?[null]:[ir]),ir.length===0&&(ir=[null]),Array.isArray(ar)||(ar=ar==null?[]:[ar]),ar=ar.map(hr=>String(hr));const lr=(hr,Ar)=>{let fr=hr;for(let mr=0;mr<Ar.length&&fr!=null;++mr)fr=fr[Ar[mr]];return fr},cr=(hr,Ar)=>Ar==null||hr==null?Ar:typeof hr=="object"&&"key"in hr?Object.hasOwn(Ar,hr.key)?Ar[hr.key]:lr(Ar,hr.path):typeof hr=="function"?hr(Ar):Array.isArray(hr)?lr(Ar,hr):typeof Ar=="object"?Ar[hr]:Ar,ur=ir.map(hr=>(Array.isArray(hr)&&hr.length===1&&(hr=hr[0]),hr==null||typeof hr=="function"||Array.isArray(hr)||tr.isKey(hr)?hr:{key:hr,path:rr.toPath(hr)}));return sr.map(hr=>({original:hr,criteria:ur.map(Ar=>cr(Ar,hr))})).slice().sort((hr,Ar)=>{for(let fr=0;fr<ur.length;fr++){const mr=St.compareValues(hr.criteria[fr],Ar.criteria[fr],ar[fr]);if(mr!==0)return mr}return 0}).map(hr=>hr.original)}er.orderBy=nr})(orderBy);var flatten={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr,rr=1){const nr=[],sr=Math.floor(rr),ir=(ar,or)=>{for(let lr=0;lr<ar.length;lr++){const cr=ar[lr];Array.isArray(cr)&&or<sr?ir(cr,or+1):nr.push(cr)}};return ir(tr,0),nr}er.flatten=St})(flatten);var isIterateeCall={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isIndex,tr=isArrayLike,rr=isObject$1,nr=eq;function sr(ir,ar,or){return rr.isObject(or)&&(typeof ar=="number"&&tr.isArrayLike(or)&&St.isIndex(ar)&&ar<or.length||typeof ar=="string"&&ar in or)?nr.eq(or[ar],ir):!1}er.isIterateeCall=sr})(isIterateeCall);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=orderBy,tr=flatten,rr=isIterateeCall;function nr(sr,...ir){const ar=ir.length;return ar>1&&rr.isIterateeCall(sr,ir[0],ir[1])?ir=[]:ar>2&&rr.isIterateeCall(ir[0],ir[1],ir[2])&&(ir=[ir[0]]),St.orderBy(sr,tr.flatten(ir),["asc"])}er.sortBy=nr})(sortBy$2);var sortBy=sortBy$2.sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy);var selectLegendSettings=er=>er.legend.settings,selectLegendSize=er=>er.legend.size,selectAllLegendPayload2DArray=er=>er.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(er,St)=>{var{itemSorter:tr}=St,rr=er.flat(1);return tr?sortBy$1(rr,tr):rr});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[St,tr]=reactExports.useState({height:0,left:0,top:0,width:0}),rr=reactExports.useCallback(nr=>{if(nr!=null){var sr=nr.getBoundingClientRect(),ir={height:sr.height,left:sr.left,top:sr.top,width:sr.width};(Math.abs(ir.height-St.height)>EPS$1||Math.abs(ir.left-St.left)>EPS$1||Math.abs(ir.top-St.top)>EPS$1||Math.abs(ir.width-St.width)>EPS$1)&&tr({height:ir.height,left:ir.left,top:ir.top,width:ir.width})}},[St.width,St.height,St.top,St.left,...er]);return[St,rr]}function formatProdErrorMessage$1(er){return`Minified Redux error #${er}; visit https://redux.js.org/Errors?code=${er} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$5(er){if(typeof er!="object"||er===null)return!1;let St=er;for(;Object.getPrototypeOf(St)!==null;)St=Object.getPrototypeOf(St);return Object.getPrototypeOf(er)===St||Object.getPrototypeOf(er)===null}function createStore(er,St,tr){if(typeof er!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof St=="function"&&typeof tr=="function"||typeof tr=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof St=="function"&&typeof tr>"u"&&(tr=St,St=void 0),typeof tr<"u"){if(typeof tr!="function")throw new Error(formatProdErrorMessage$1(1));return tr(createStore)(er,St)}let rr=er,nr=St,sr=new Map,ir=sr,ar=0,or=!1;function lr(){ir===sr&&(ir=new Map,sr.forEach((mr,pr)=>{ir.set(pr,mr)}))}function cr(){if(or)throw new Error(formatProdErrorMessage$1(3));return nr}function ur(mr){if(typeof mr!="function")throw new Error(formatProdErrorMessage$1(4));if(or)throw new Error(formatProdErrorMessage$1(5));let pr=!0;lr();const gr=ar++;return ir.set(gr,mr),function(){if(pr){if(or)throw new Error(formatProdErrorMessage$1(6));pr=!1,lr(),ir.delete(gr),sr=null}}}function dr(mr){if(!isPlainObject$5(mr))throw new Error(formatProdErrorMessage$1(7));if(typeof mr.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof mr.type!="string")throw new Error(formatProdErrorMessage$1(17));if(or)throw new Error(formatProdErrorMessage$1(9));try{or=!0,nr=rr(nr,mr)}finally{or=!1}return(sr=ir).forEach(gr=>{gr()}),mr}function hr(mr){if(typeof mr!="function")throw new Error(formatProdErrorMessage$1(10));rr=mr,dr({type:actionTypes_default.REPLACE})}function Ar(){const mr=ur;return{subscribe(pr){if(typeof pr!="object"||pr===null)throw new Error(formatProdErrorMessage$1(11));function gr(){const yr=pr;yr.next&&yr.next(cr())}return gr(),{unsubscribe:mr(gr)}},[symbol_observable_default](){return this}}}return dr({type:actionTypes_default.INIT}),{dispatch:dr,subscribe:ur,getState:cr,replaceReducer:hr,[symbol_observable_default]:Ar}}function assertReducerShape(er){Object.keys(er).forEach(St=>{const tr=er[St];if(typeof tr(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof tr(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(er){const St=Object.keys(er),tr={};for(let sr=0;sr<St.length;sr++){const ir=St[sr];typeof er[ir]=="function"&&(tr[ir]=er[ir])}const rr=Object.keys(tr);let nr;try{assertReducerShape(tr)}catch(sr){nr=sr}return function(ir={},ar){if(nr)throw nr;let or=!1;const lr={};for(let cr=0;cr<rr.length;cr++){const ur=rr[cr],dr=tr[ur],hr=ir[ur],Ar=dr(hr,ar);if(typeof Ar>"u")throw ar&&ar.type,new Error(formatProdErrorMessage$1(14));lr[ur]=Ar,or=or||Ar!==hr}return or=or||rr.length!==Object.keys(ir).length,or?lr:ir}}function compose$1(...er){return er.length===0?St=>St:er.length===1?er[0]:er.reduce((St,tr)=>(...rr)=>St(tr(...rr)))}function applyMiddleware(...er){return St=>(tr,rr)=>{const nr=St(tr,rr);let sr=()=>{throw new Error(formatProdErrorMessage$1(15))};const ir={getState:nr.getState,dispatch:(or,...lr)=>sr(or,...lr)},ar=er.map(or=>or(ir));return sr=compose$1(...ar)(nr.dispatch),{...nr,dispatch:sr}}}function isAction(er){return isPlainObject$5(er)&&"type"in er&&typeof er.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(er,...St){throw new Error(`[Immer] minified error nr: ${er}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(er){return!!er&&!!er[DRAFT_STATE]}function isDraftable(er){var St;return er?isPlainObject$4(er)||Array.isArray(er)||!!er[DRAFTABLE]||!!((St=er.constructor)!=null&&St[DRAFTABLE])||isMap(er)||isSet(er):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$4(er){if(!er||typeof er!="object")return!1;const St=getPrototypeOf(er);if(St===null)return!0;const tr=Object.hasOwnProperty.call(St,"constructor")&&St.constructor;return tr===Object?!0:typeof tr=="function"&&Function.toString.call(tr)===objectCtorString}function each(er,St){getArchtype(er)===0?Reflect.ownKeys(er).forEach(tr=>{St(tr,er[tr],er)}):er.forEach((tr,rr)=>St(rr,tr,er))}function getArchtype(er){const St=er[DRAFT_STATE];return St?St.type_:Array.isArray(er)?1:isMap(er)?2:isSet(er)?3:0}function has(er,St){return getArchtype(er)===2?er.has(St):Object.prototype.hasOwnProperty.call(er,St)}function set(er,St,tr){const rr=getArchtype(er);rr===2?er.set(St,tr):rr===3?er.add(tr):er[St]=tr}function is(er,St){return er===St?er!==0||1/er===1/St:er!==er&&St!==St}function isMap(er){return er instanceof Map}function isSet(er){return er instanceof Set}function latest(er){return er.copy_||er.base_}function shallowCopy(er,St){if(isMap(er))return new Map(er);if(isSet(er))return new Set(er);if(Array.isArray(er))return Array.prototype.slice.call(er);const tr=isPlainObject$4(er);if(St===!0||St==="class_only"&&!tr){const rr=Object.getOwnPropertyDescriptors(er);delete rr[DRAFT_STATE];let nr=Reflect.ownKeys(rr);for(let sr=0;sr<nr.length;sr++){const ir=nr[sr],ar=rr[ir];ar.writable===!1&&(ar.writable=!0,ar.configurable=!0),(ar.get||ar.set)&&(rr[ir]={configurable:!0,writable:!0,enumerable:ar.enumerable,value:er[ir]})}return Object.create(getPrototypeOf(er),rr)}else{const rr=getPrototypeOf(er);if(rr!==null&&tr)return{...er};const nr=Object.create(rr);return Object.assign(nr,er)}}function freeze(er,St=!1){return isFrozen(er)||isDraft(er)||!isDraftable(er)||(getArchtype(er)>1&&(er.set=er.add=er.clear=er.delete=dontMutateFrozenCollections),Object.freeze(er),St&&Object.entries(er).forEach(([tr,rr])=>freeze(rr,!0))),er}function dontMutateFrozenCollections(){die(2)}function isFrozen(er){return Object.isFrozen(er)}var plugins={};function getPlugin(er){const St=plugins[er];return St||die(0,er),St}var currentScope;function getCurrentScope(){return currentScope}function createScope(er,St){return{drafts_:[],parent_:er,immer_:St,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(er,St){St&&(getPlugin("Patches"),er.patches_=[],er.inversePatches_=[],er.patchListener_=St)}function revokeScope(er){leaveScope(er),er.drafts_.forEach(revokeDraft),er.drafts_=null}function leaveScope(er){er===currentScope&&(currentScope=er.parent_)}function enterScope(er){return currentScope=createScope(currentScope,er)}function revokeDraft(er){const St=er[DRAFT_STATE];St.type_===0||St.type_===1?St.revoke_():St.revoked_=!0}function processResult(er,St){St.unfinalizedDrafts_=St.drafts_.length;const tr=St.drafts_[0];return er!==void 0&&er!==tr?(tr[DRAFT_STATE].modified_&&(revokeScope(St),die(4)),isDraftable(er)&&(er=finalize(St,er),St.parent_||maybeFreeze(St,er)),St.patches_&&getPlugin("Patches").generateReplacementPatches_(tr[DRAFT_STATE].base_,er,St.patches_,St.inversePatches_)):er=finalize(St,tr,[]),revokeScope(St),St.patches_&&St.patchListener_(St.patches_,St.inversePatches_),er!==NOTHING?er:void 0}function finalize(er,St,tr){if(isFrozen(St))return St;const rr=St[DRAFT_STATE];if(!rr)return each(St,(nr,sr)=>finalizeProperty(er,rr,St,nr,sr,tr)),St;if(rr.scope_!==er)return St;if(!rr.modified_)return maybeFreeze(er,rr.base_,!0),rr.base_;if(!rr.finalized_){rr.finalized_=!0,rr.scope_.unfinalizedDrafts_--;const nr=rr.copy_;let sr=nr,ir=!1;rr.type_===3&&(sr=new Set(nr),nr.clear(),ir=!0),each(sr,(ar,or)=>finalizeProperty(er,rr,nr,ar,or,tr,ir)),maybeFreeze(er,nr,!1),tr&&er.patches_&&getPlugin("Patches").generatePatches_(rr,tr,er.patches_,er.inversePatches_)}return rr.copy_}function finalizeProperty(er,St,tr,rr,nr,sr,ir){if(isDraft(nr)){const ar=sr&&St&&St.type_!==3&&!has(St.assigned_,rr)?sr.concat(rr):void 0,or=finalize(er,nr,ar);if(set(tr,rr,or),isDraft(or))er.canAutoFreeze_=!1;else return}else ir&&tr.add(nr);if(isDraftable(nr)&&!isFrozen(nr)){if(!er.immer_.autoFreeze_&&er.unfinalizedDrafts_<1)return;finalize(er,nr),(!St||!St.scope_.parent_)&&typeof rr!="symbol"&&Object.prototype.propertyIsEnumerable.call(tr,rr)&&maybeFreeze(er,nr)}}function maybeFreeze(er,St,tr=!1){!er.parent_&&er.immer_.autoFreeze_&&er.canAutoFreeze_&&freeze(St,tr)}function createProxyProxy(er,St){const tr=Array.isArray(er),rr={type_:tr?1:0,scope_:St?St.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:St,base_:er,draft_:null,copy_:null,revoke_:null,isManual_:!1};let nr=rr,sr=objectTraps;tr&&(nr=[rr],sr=arrayTraps);const{revoke:ir,proxy:ar}=Proxy.revocable(nr,sr);return rr.draft_=ar,rr.revoke_=ir,ar}var objectTraps={get(er,St){if(St===DRAFT_STATE)return er;const tr=latest(er);if(!has(tr,St))return readPropFromProto(er,tr,St);const rr=tr[St];return er.finalized_||!isDraftable(rr)?rr:rr===peek(er.base_,St)?(prepareCopy(er),er.copy_[St]=createProxy(rr,er)):rr},has(er,St){return St in latest(er)},ownKeys(er){return Reflect.ownKeys(latest(er))},set(er,St,tr){const rr=getDescriptorFromProto(latest(er),St);if(rr!=null&&rr.set)return rr.set.call(er.draft_,tr),!0;if(!er.modified_){const nr=peek(latest(er),St),sr=nr==null?void 0:nr[DRAFT_STATE];if(sr&&sr.base_===tr)return er.copy_[St]=tr,er.assigned_[St]=!1,!0;if(is(tr,nr)&&(tr!==void 0||has(er.base_,St)))return!0;prepareCopy(er),markChanged(er)}return er.copy_[St]===tr&&(tr!==void 0||St in er.copy_)||Number.isNaN(tr)&&Number.isNaN(er.copy_[St])||(er.copy_[St]=tr,er.assigned_[St]=!0),!0},deleteProperty(er,St){return peek(er.base_,St)!==void 0||St in er.base_?(er.assigned_[St]=!1,prepareCopy(er),markChanged(er)):delete er.assigned_[St],er.copy_&&delete er.copy_[St],!0},getOwnPropertyDescriptor(er,St){const tr=latest(er),rr=Reflect.getOwnPropertyDescriptor(tr,St);return rr&&{writable:!0,configurable:er.type_!==1||St!=="length",enumerable:rr.enumerable,value:tr[St]}},defineProperty(){die(11)},getPrototypeOf(er){return getPrototypeOf(er.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(er,St)=>{arrayTraps[er]=function(){return arguments[0]=arguments[0][0],St.apply(this,arguments)}});arrayTraps.deleteProperty=function(er,St){return arrayTraps.set.call(this,er,St,void 0)};arrayTraps.set=function(er,St,tr){return objectTraps.set.call(this,er[0],St,tr,er[0])};function peek(er,St){const tr=er[DRAFT_STATE];return(tr?latest(tr):er)[St]}function readPropFromProto(er,St,tr){var nr;const rr=getDescriptorFromProto(St,tr);return rr?"value"in rr?rr.value:(nr=rr.get)==null?void 0:nr.call(er.draft_):void 0}function getDescriptorFromProto(er,St){if(!(St in er))return;let tr=getPrototypeOf(er);for(;tr;){const rr=Object.getOwnPropertyDescriptor(tr,St);if(rr)return rr;tr=getPrototypeOf(tr)}}function markChanged(er){er.modified_||(er.modified_=!0,er.parent_&&markChanged(er.parent_))}function prepareCopy(er){er.copy_||(er.copy_=shallowCopy(er.base_,er.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(er){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(St,tr,rr)=>{if(typeof St=="function"&&typeof tr!="function"){const sr=tr;tr=St;const ir=this;return function(or=sr,...lr){return ir.produce(or,cr=>tr.call(this,cr,...lr))}}typeof tr!="function"&&die(6),rr!==void 0&&typeof rr!="function"&&die(7);let nr;if(isDraftable(St)){const sr=enterScope(this),ir=createProxy(St,void 0);let ar=!0;try{nr=tr(ir),ar=!1}finally{ar?revokeScope(sr):leaveScope(sr)}return usePatchesInScope(sr,rr),processResult(nr,sr)}else if(!St||typeof St!="object"){if(nr=tr(St),nr===void 0&&(nr=St),nr===NOTHING&&(nr=void 0),this.autoFreeze_&&freeze(nr,!0),rr){const sr=[],ir=[];getPlugin("Patches").generateReplacementPatches_(St,nr,sr,ir),rr(sr,ir)}return nr}else die(1,St)},this.produceWithPatches=(St,tr)=>{if(typeof St=="function")return(ir,...ar)=>this.produceWithPatches(ir,or=>St(or,...ar));let rr,nr;return[this.produce(St,tr,(ir,ar)=>{rr=ir,nr=ar}),rr,nr]},typeof(er==null?void 0:er.autoFreeze)=="boolean"&&this.setAutoFreeze(er.autoFreeze),typeof(er==null?void 0:er.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(er.useStrictShallowCopy)}createDraft(er){isDraftable(er)||die(8),isDraft(er)&&(er=current(er));const St=enterScope(this),tr=createProxy(er,void 0);return tr[DRAFT_STATE].isManual_=!0,leaveScope(St),tr}finishDraft(er,St){const tr=er&&er[DRAFT_STATE];(!tr||!tr.isManual_)&&die(9);const{scope_:rr}=tr;return usePatchesInScope(rr,St),processResult(void 0,rr)}setAutoFreeze(er){this.autoFreeze_=er}setUseStrictShallowCopy(er){this.useStrictShallowCopy_=er}applyPatches(er,St){let tr;for(tr=St.length-1;tr>=0;tr--){const nr=St[tr];if(nr.path.length===0&&nr.op==="replace"){er=nr.value;break}}tr>-1&&(St=St.slice(tr+1));const rr=getPlugin("Patches").applyPatches_;return isDraft(er)?rr(er,St):this.produce(er,nr=>rr(nr,St))}};function createProxy(er,St){const tr=isMap(er)?getPlugin("MapSet").proxyMap_(er,St):isSet(er)?getPlugin("MapSet").proxySet_(er,St):createProxyProxy(er,St);return(St?St.scope_:getCurrentScope()).drafts_.push(tr),tr}function current(er){return isDraft(er)||die(10,er),currentImpl(er)}function currentImpl(er){if(!isDraftable(er)||isFrozen(er))return er;const St=er[DRAFT_STATE];let tr;if(St){if(!St.modified_)return St.base_;St.finalized_=!0,tr=shallowCopy(er,St.scope_.immer_.useStrictShallowCopy_)}else tr=shallowCopy(er,!0);return each(tr,(rr,nr)=>{set(tr,rr,currentImpl(nr))}),St&&(St.finalized_=!1),tr}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(er){return er}function createThunkMiddleware(er){return({dispatch:tr,getState:rr})=>nr=>sr=>typeof sr=="function"?sr(tr,rr,er):nr(sr)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(er,St){function tr(...rr){if(St){let nr=St(...rr);if(!nr)throw new Error(formatProdErrorMessage(0));return{type:er,payload:nr.payload,..."meta"in nr&&{meta:nr.meta},..."error"in nr&&{error:nr.error}}}return{type:er,payload:rr[0]}}return tr.toString=()=>`${er}`,tr.type=er,tr.match=rr=>isAction(rr)&&rr.type===er,tr}var Tuple=class Tw extends Array{constructor(...St){super(...St),Object.setPrototypeOf(this,Tw.prototype)}static get[Symbol.species](){return Tw}concat(...St){return super.concat.apply(this,St)}prepend(...St){return St.length===1&&Array.isArray(St[0])?new Tw(...St[0].concat(this)):new Tw(...St.concat(this))}};function freezeDraftable(er){return isDraftable(er)?produce(er,()=>{}):er}function getOrInsertComputed(er,St,tr){return er.has(St)?er.get(St):er.set(St,tr(St)).get(St)}function isBoolean(er){return typeof er=="boolean"}var buildGetDefaultMiddleware=()=>function(St){const{thunk:tr=!0,immutableCheck:rr=!0,serializableCheck:nr=!0,actionCreatorCheck:sr=!0}=St??{};let ir=new Tuple;return tr&&(isBoolean(tr)?ir.push(thunk):ir.push(withExtraArgument(tr.extraArgument))),ir},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=er=>St=>{setTimeout(St,er)},autoBatchEnhancer=(er={type:"raf"})=>St=>(...tr)=>{const rr=St(...tr);let nr=!0,sr=!1,ir=!1;const ar=new Set,or=er.type==="tick"?queueMicrotask:er.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):er.type==="callback"?er.queueNotification:createQueueWithTimer(er.timeout),lr=()=>{ir=!1,sr&&(sr=!1,ar.forEach(cr=>cr()))};return Object.assign({},rr,{subscribe(cr){const ur=()=>nr&&cr(),dr=rr.subscribe(ur);return ar.add(cr),()=>{dr(),ar.delete(cr)}},dispatch(cr){var ur;try{return nr=!((ur=cr==null?void 0:cr.meta)!=null&&ur[SHOULD_AUTOBATCH]),sr=!nr,sr&&(ir||(ir=!0,or(lr))),rr.dispatch(cr)}finally{nr=!0}}})},buildGetDefaultEnhancers=er=>function(tr){const{autoBatch:rr=!0}=tr??{};let nr=new Tuple(er);return rr&&nr.push(autoBatchEnhancer(typeof rr=="object"?rr:void 0)),nr};function configureStore(er){const St=buildGetDefaultMiddleware(),{reducer:tr=void 0,middleware:rr,devTools:nr=!0,preloadedState:sr=void 0,enhancers:ir=void 0}=er||{};let ar;if(typeof tr=="function")ar=tr;else if(isPlainObject$5(tr))ar=combineReducers(tr);else throw new Error(formatProdErrorMessage(1));let or;typeof rr=="function"?or=rr(St):or=St();let lr=compose$1;nr&&(lr=composeWithDevTools({trace:!1,...typeof nr=="object"&&nr}));const cr=applyMiddleware(...or),ur=buildGetDefaultEnhancers(cr);let dr=typeof ir=="function"?ir(ur):ur();const hr=lr(...dr);return createStore(ar,sr,hr)}function executeReducerBuilderCallback(er){const St={},tr=[];let rr;const nr={addCase(sr,ir){const ar=typeof sr=="string"?sr:sr.type;if(!ar)throw new Error(formatProdErrorMessage(28));if(ar in St)throw new Error(formatProdErrorMessage(29));return St[ar]=ir,nr},addMatcher(sr,ir){return tr.push({matcher:sr,reducer:ir}),nr},addDefaultCase(sr){return rr=sr,nr}};return er(nr),[St,tr,rr]}function isStateFunction(er){return typeof er=="function"}function createReducer(er,St){let[tr,rr,nr]=executeReducerBuilderCallback(St),sr;if(isStateFunction(er))sr=()=>freezeDraftable(er());else{const ar=freezeDraftable(er);sr=()=>ar}function ir(ar=sr(),or){let lr=[tr[or.type],...rr.filter(({matcher:cr})=>cr(or)).map(({reducer:cr})=>cr)];return lr.filter(cr=>!!cr).length===0&&(lr=[nr]),lr.reduce((cr,ur)=>{if(ur)if(isDraft(cr)){const hr=ur(cr,or);return hr===void 0?cr:hr}else{if(isDraftable(cr))return produce(cr,dr=>ur(dr,or));{const dr=ur(cr,or);if(dr===void 0){if(cr===null)return cr;throw Error("A case reducer on a non-draftable value must not return undefined")}return dr}}return cr},ar)}return ir.getInitialState=sr,ir}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(er=21)=>{let St="",tr=er;for(;tr--;)St+=urlAlphabet[Math.random()*64|0];return St},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(er,St){return`${er}/${St}`}function buildCreateSlice({creators:er}={}){var tr;const St=(tr=er==null?void 0:er.asyncThunk)==null?void 0:tr[asyncThunkSymbol];return function(nr){const{name:sr,reducerPath:ir=sr}=nr;if(!sr)throw new Error(formatProdErrorMessage(11));const ar=(typeof nr.reducers=="function"?nr.reducers(buildReducerCreators()):nr.reducers)||{},or=Object.keys(ar),lr={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},cr={addCase(yr,Er){const _r=typeof yr=="string"?yr:yr.type;if(!_r)throw new Error(formatProdErrorMessage(12));if(_r in lr.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return lr.sliceCaseReducersByType[_r]=Er,cr},addMatcher(yr,Er){return lr.sliceMatchers.push({matcher:yr,reducer:Er}),cr},exposeAction(yr,Er){return lr.actionCreators[yr]=Er,cr},exposeCaseReducer(yr,Er){return lr.sliceCaseReducersByName[yr]=Er,cr}};or.forEach(yr=>{const Er=ar[yr],_r={reducerName:yr,type:getType(sr,yr),createNotation:typeof nr.reducers=="function"};isAsyncThunkSliceReducerDefinition(Er)?handleThunkCaseReducerDefinition(_r,Er,cr,St):handleNormalReducerDefinition(_r,Er,cr)});function ur(){const[yr={},Er=[],_r=void 0]=typeof nr.extraReducers=="function"?executeReducerBuilderCallback(nr.extraReducers):[nr.extraReducers],Sr={...yr,...lr.sliceCaseReducersByType};return createReducer(nr.initialState,jr=>{for(let Pr in Sr)jr.addCase(Pr,Sr[Pr]);for(let Pr of lr.sliceMatchers)jr.addMatcher(Pr.matcher,Pr.reducer);for(let Pr of Er)jr.addMatcher(Pr.matcher,Pr.reducer);_r&&jr.addDefaultCase(_r)})}const dr=yr=>yr,hr=new Map,Ar=new WeakMap;let fr;function mr(yr,Er){return fr||(fr=ur()),fr(yr,Er)}function pr(){return fr||(fr=ur()),fr.getInitialState()}function gr(yr,Er=!1){function _r(jr){let Pr=jr[yr];return typeof Pr>"u"&&Er&&(Pr=getOrInsertComputed(Ar,_r,pr)),Pr}function Sr(jr=dr){const Pr=getOrInsertComputed(hr,Er,()=>new WeakMap);return getOrInsertComputed(Pr,jr,()=>{const Mr={};for(const[Ir,Lr]of Object.entries(nr.selectors??{}))Mr[Ir]=wrapSelector(Lr,jr,()=>getOrInsertComputed(Ar,jr,pr),Er);return Mr})}return{reducerPath:yr,getSelectors:Sr,get selectors(){return Sr(_r)},selectSlice:_r}}const xr={name:sr,reducer:mr,actions:lr.actionCreators,caseReducers:lr.sliceCaseReducersByName,getInitialState:pr,...gr(ir),injectInto(yr,{reducerPath:Er,..._r}={}){const Sr=Er??ir;return yr.inject({reducerPath:Sr,reducer:mr},_r),{...xr,...gr(Sr,!0)}}};return xr}}function wrapSelector(er,St,tr,rr){function nr(sr,...ir){let ar=St(sr);return typeof ar>"u"&&rr&&(ar=tr()),er(ar,...ir)}return nr.unwrapped=er,nr}var createSlice=buildCreateSlice();function buildReducerCreators(){function er(St,tr){return{_reducerDefinitionType:"asyncThunk",payloadCreator:St,...tr}}return er.withTypes=()=>er,{reducer(St){return Object.assign({[St.name](...tr){return St(...tr)}}[St.name],{_reducerDefinitionType:"reducer"})},preparedReducer(St,tr){return{_reducerDefinitionType:"reducerWithPrepare",prepare:St,reducer:tr}},asyncThunk:er}}function handleNormalReducerDefinition({type:er,reducerName:St,createNotation:tr},rr,nr){let sr,ir;if("reducer"in rr){if(tr&&!isCaseReducerWithPrepareDefinition(rr))throw new Error(formatProdErrorMessage(17));sr=rr.reducer,ir=rr.prepare}else sr=rr;nr.addCase(er,sr).exposeCaseReducer(St,sr).exposeAction(St,ir?createAction(er,ir):createAction(er))}function isAsyncThunkSliceReducerDefinition(er){return er._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(er){return er._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:er,reducerName:St},tr,rr,nr){if(!nr)throw new Error(formatProdErrorMessage(18));const{payloadCreator:sr,fulfilled:ir,pending:ar,rejected:or,settled:lr,options:cr}=tr,ur=nr(er,sr,cr);rr.exposeAction(St,ur),ir&&rr.addCase(ur.fulfilled,ir),ar&&rr.addCase(ur.pending,ar),or&&rr.addCase(ur.rejected,or),lr&&rr.addMatcher(ur.settled,lr),rr.exposeCaseReducer(St,{fulfilled:ir||noop$5,pending:ar||noop$5,rejected:or||noop$5,settled:lr||noop$5})}function noop$5(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(er){ps(this,"name","TaskAbortError");ps(this,"message");this.code=er,this.message=`${task} ${cancelled} (reason: ${er})`}},assertFunction=(er,St)=>{if(typeof er!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(er,St=noop2)=>(er.catch(St),er),addAbortSignalListener=(er,St)=>(er.addEventListener("abort",St,{once:!0}),()=>er.removeEventListener("abort",St)),abortControllerWithReason=(er,St)=>{const tr=er.signal;tr.aborted||("reason"in tr||Object.defineProperty(tr,"reason",{enumerable:!0,value:St,configurable:!0,writable:!0}),er.abort(St))},validateActive=er=>{if(er.aborted){const{reason:St}=er;throw new TaskAbortError(St)}};function raceWithSignal(er,St){let tr=noop2;return new Promise((rr,nr)=>{const sr=()=>nr(new TaskAbortError(er.reason));if(er.aborted){sr();return}tr=addAbortSignalListener(er,sr),St.finally(()=>tr()).then(rr,nr)}).finally(()=>{tr=noop2})}var runTask=async(er,St)=>{try{return await Promise.resolve(),{status:"ok",value:await er()}}catch(tr){return{status:tr instanceof TaskAbortError?"cancelled":"rejected",error:tr}}finally{St==null||St()}},createPause=er=>St=>catchRejection(raceWithSignal(er,St).then(tr=>(validateActive(er),tr))),createDelay=er=>{const St=createPause(er);return tr=>St(new Promise(rr=>setTimeout(rr,tr)))},{assign:assign$1}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(er,St)=>{const tr=rr=>addAbortSignalListener(er,()=>abortControllerWithReason(rr,er.reason));return(rr,nr)=>{assertFunction(rr);const sr=new AbortController;tr(sr);const ir=runTask(async()=>{validateActive(er),validateActive(sr.signal);const ar=await rr({pause:createPause(sr.signal),delay:createDelay(sr.signal),signal:sr.signal});return validateActive(sr.signal),ar},()=>abortControllerWithReason(sr,taskCompleted));return nr!=null&&nr.autoJoin&&St.push(ir.catch(noop2)),{result:createPause(er)(ir),cancel(){abortControllerWithReason(sr,taskCancelled)}}}},createTakePattern=(er,St)=>{const tr=async(rr,nr)=>{validateActive(St);let sr=()=>{};const ar=[new Promise((or,lr)=>{let cr=er({predicate:rr,effect:(ur,dr)=>{dr.unsubscribe(),or([ur,dr.getState(),dr.getOriginalState()])}});sr=()=>{cr(),lr()}})];nr!=null&&ar.push(new Promise(or=>setTimeout(or,nr,null)));try{const or=await raceWithSignal(St,Promise.race(ar));return validateActive(St),or}finally{sr()}};return(rr,nr)=>catchRejection(tr(rr,nr))},getListenerEntryPropsFrom=er=>{let{type:St,actionCreator:tr,matcher:rr,predicate:nr,effect:sr}=er;if(St)nr=createAction(St).match;else if(tr)St=tr.type,nr=tr.match;else if(rr)nr=rr;else if(!nr)throw new Error(formatProdErrorMessage(21));return assertFunction(sr),{predicate:nr,type:St,effect:sr}},createListenerEntry=assign$1(er=>{const{type:St,predicate:tr,effect:rr}=getListenerEntryPropsFrom(er);return{id:nanoid(),effect:rr,type:St,predicate:tr,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(er,St)=>{const{type:tr,effect:rr,predicate:nr}=getListenerEntryPropsFrom(St);return Array.from(er.values()).find(sr=>(typeof tr=="string"?sr.type===tr:sr.predicate===nr)&&sr.effect===rr)},cancelActiveListeners=er=>{er.pending.forEach(St=>{abortControllerWithReason(St,listenerCancelled)})},createClearListenerMiddleware=er=>()=>{er.forEach(cancelActiveListeners),er.clear()},safelyNotifyError=(er,St,tr)=>{try{er(St,tr)}catch(rr){setTimeout(()=>{throw rr},0)}},addListener=assign$1(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign$1(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...er)=>{console.error(`${alm}/error`,...er)},createListenerMiddleware=(er={})=>{const St=new Map,{extra:tr,onError:rr=defaultErrorHandler}=er;assertFunction(rr);const nr=cr=>(cr.unsubscribe=()=>St.delete(cr.id),St.set(cr.id,cr),ur=>{cr.unsubscribe(),ur!=null&&ur.cancelActive&&cancelActiveListeners(cr)}),sr=cr=>{const ur=findListenerEntry(St,cr)??createListenerEntry(cr);return nr(ur)};assign$1(sr,{withTypes:()=>sr});const ir=cr=>{const ur=findListenerEntry(St,cr);return ur&&(ur.unsubscribe(),cr.cancelActive&&cancelActiveListeners(ur)),!!ur};assign$1(ir,{withTypes:()=>ir});const ar=async(cr,ur,dr,hr)=>{const Ar=new AbortController,fr=createTakePattern(sr,Ar.signal),mr=[];try{cr.pending.add(Ar),await Promise.resolve(cr.effect(ur,assign$1({},dr,{getOriginalState:hr,condition:(pr,gr)=>fr(pr,gr).then(Boolean),take:fr,delay:createDelay(Ar.signal),pause:createPause(Ar.signal),extra:tr,signal:Ar.signal,fork:createFork(Ar.signal,mr),unsubscribe:cr.unsubscribe,subscribe:()=>{St.set(cr.id,cr)},cancelActiveListeners:()=>{cr.pending.forEach((pr,gr,xr)=>{pr!==Ar&&(abortControllerWithReason(pr,listenerCancelled),xr.delete(pr))})},cancel:()=>{abortControllerWithReason(Ar,listenerCancelled),cr.pending.delete(Ar)},throwIfCancelled:()=>{validateActive(Ar.signal)}})))}catch(pr){pr instanceof TaskAbortError||safelyNotifyError(rr,pr,{raisedBy:"effect"})}finally{await Promise.all(mr),abortControllerWithReason(Ar,listenerCompleted),cr.pending.delete(Ar)}},or=createClearListenerMiddleware(St);return{middleware:cr=>ur=>dr=>{if(!isAction(dr))return ur(dr);if(addListener.match(dr))return sr(dr.payload);if(clearAllListeners.match(dr)){or();return}if(removeListener.match(dr))return ir(dr.payload);let hr=cr.getState();const Ar=()=>{if(hr===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return hr};let fr;try{if(fr=ur(dr),St.size>0){const mr=cr.getState(),pr=Array.from(St.values());for(const gr of pr){let xr=!1;try{xr=gr.predicate(dr,mr,hr)}catch(yr){xr=!1,safelyNotifyError(rr,yr,{raisedBy:"predicate"})}xr&&ar(gr,dr,cr,Ar)}}}finally{hr=INTERNAL_NIL_TOKEN}return fr},startListening:sr,stopListening:ir,clearListeners:or}};function formatProdErrorMessage(er){return`Minified Redux Toolkit error #${er}; visit https://redux-toolkit.js.org/Errors?code=${er} for the full message or use the non-minified dev environment for full errors. `}var initialState$9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$9,reducers:{setLayout(er,St){er.layoutType=St.payload},setChartSize(er,St){er.width=St.payload.width,er.height=St.payload.height},setMargin(er,St){er.margin.top=St.payload.top,er.margin.right=St.payload.right,er.margin.bottom=St.payload.bottom,er.margin.left=St.payload.left},setScale(er,St){er.scale=St.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$A(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$A(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$A(Object(tr),!0).forEach(function(rr){_defineProperty$E(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$A(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$E(er,St,tr){return(St=_toPropertyKey$E(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$E(er){var St=_toPrimitive$E(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$E(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var RADIAN=Math.PI/180,radianToDegree=er=>er*180/Math.PI,polarToCartesian=(er,St,tr,rr)=>({x:er+Math.cos(-RADIAN*rr)*tr,y:St+Math.sin(-RADIAN*rr)*tr}),getMaxRadius=function er(St,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(St-(rr.left||0)-(rr.right||0)),Math.abs(tr-(rr.top||0)-(rr.bottom||0)))/2},distanceBetweenPoints=(er,St)=>{var{x:tr,y:rr}=er,{x:nr,y:sr}=St;return Math.sqrt((tr-nr)**2+(rr-sr)**2)},getAngleOfPoint=(er,St)=>{var{x:tr,y:rr}=er,{cx:nr,cy:sr}=St,ir=distanceBetweenPoints({x:tr,y:rr},{x:nr,y:sr});if(ir<=0)return{radius:ir,angle:0};var ar=(tr-nr)/ir,or=Math.acos(ar);return rr>sr&&(or=2*Math.PI-or),{radius:ir,angle:radianToDegree(or),angleInRadian:or}},formatAngleOfSector=er=>{var{startAngle:St,endAngle:tr}=er,rr=Math.floor(St/360),nr=Math.floor(tr/360),sr=Math.min(rr,nr);return{startAngle:St-sr*360,endAngle:tr-sr*360}},reverseFormatAngleOfSector=(er,St)=>{var{startAngle:tr,endAngle:rr}=St,nr=Math.floor(tr/360),sr=Math.floor(rr/360),ir=Math.min(nr,sr);return er+ir*360},inRangeOfSector=(er,St)=>{var{x:tr,y:rr}=er,{radius:nr,angle:sr}=getAngleOfPoint({x:tr,y:rr},St),{innerRadius:ir,outerRadius:ar}=St;if(nr<ir||nr>ar||nr===0)return null;var{startAngle:or,endAngle:lr}=formatAngleOfSector(St),cr=sr,ur;if(or<=lr){for(;cr>lr;)cr-=360;for(;cr<or;)cr+=360;ur=cr>=or&&cr<=lr}else{for(;cr>or;)cr-=360;for(;cr<lr;)cr+=360;ur=cr>=lr&&cr<=or}return ur?_objectSpread$A(_objectSpread$A({},St),{},{radius:nr,angle:reverseFormatAngleOfSector(cr,St)}):null};function ownKeys$z(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$z(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$z(Object(tr),!0).forEach(function(rr){_defineProperty$D(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$z(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$D(er,St,tr){return(St=_toPropertyKey$D(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$D(er){var St=_toPrimitive$D(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$D(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function getValueByDataKey(er,St,tr){return isNullish$1(er)||isNullish$1(St)?tr:isNumOrStr(St)?get$1(er,St,tr):typeof St=="function"?St(er):tr}var calculateActiveTickIndex=(er,St,tr,rr,nr)=>{var sr,ir=-1,ar=(sr=St==null?void 0:St.length)!==null&&sr!==void 0?sr:0;if(ar<=1||er==null)return 0;if(rr==="angleAxis"&&nr!=null&&Math.abs(Math.abs(nr[1]-nr[0])-360)<=1e-6)for(var or=0;or<ar;or++){var lr=or>0?tr[or-1].coordinate:tr[ar-1].coordinate,cr=tr[or].coordinate,ur=or>=ar-1?tr[0].coordinate:tr[or+1].coordinate,dr=void 0;if(mathSign(cr-lr)!==mathSign(ur-cr)){var hr=[];if(mathSign(ur-cr)===mathSign(nr[1]-nr[0])){dr=ur;var Ar=cr+nr[1]-nr[0];hr[0]=Math.min(Ar,(Ar+lr)/2),hr[1]=Math.max(Ar,(Ar+lr)/2)}else{dr=lr;var fr=ur+nr[1]-nr[0];hr[0]=Math.min(cr,(fr+cr)/2),hr[1]=Math.max(cr,(fr+cr)/2)}var mr=[Math.min(cr,(dr+cr)/2),Math.max(cr,(dr+cr)/2)];if(er>mr[0]&&er<=mr[1]||er>=hr[0]&&er<=hr[1]){({index:ir}=tr[or]);break}}else{var pr=Math.min(lr,ur),gr=Math.max(lr,ur);if(er>(pr+cr)/2&&er<=(gr+cr)/2){({index:ir}=tr[or]);break}}}else if(St){for(var xr=0;xr<ar;xr++)if(xr===0&&er<=(St[xr].coordinate+St[xr+1].coordinate)/2||xr>0&&xr<ar-1&&er>(St[xr].coordinate+St[xr-1].coordinate)/2&&er<=(St[xr].coordinate+St[xr+1].coordinate)/2||xr===ar-1&&er>(St[xr].coordinate+St[xr-1].coordinate)/2){({index:ir}=St[xr]);break}}return ir},appendOffsetOfLegend=(er,St,tr)=>{if(St&&tr){var{width:rr,height:nr}=tr,{align:sr,verticalAlign:ir,layout:ar}=St;if((ar==="vertical"||ar==="horizontal"&&ir==="middle")&&sr!=="center"&&isNumber(er[sr]))return _objectSpread$z(_objectSpread$z({},er),{},{[sr]:er[sr]+(rr||0)});if((ar==="horizontal"||ar==="vertical"&&sr==="center")&&ir!=="middle"&&isNumber(er[ir]))return _objectSpread$z(_objectSpread$z({},er),{},{[ir]:er[ir]+(nr||0)})}return er},isCategoricalAxis=(er,St)=>er==="horizontal"&&St==="xAxis"||er==="vertical"&&St==="yAxis"||er==="centric"&&St==="angleAxis"||er==="radial"&&St==="radiusAxis",getCoordinatesOfGrid=(er,St,tr,rr)=>{if(rr)return er.map(ar=>ar.coordinate);var nr,sr,ir=er.map(ar=>(ar.coordinate===St&&(nr=!0),ar.coordinate===tr&&(sr=!0),ar.coordinate));return nr||ir.push(St),sr||ir.push(tr),ir},getTicksOfAxis=(er,St,tr)=>{if(!er)return null;var{duplicateDomain:rr,type:nr,range:sr,scale:ir,realScaleType:ar,isCategorical:or,categoricalDomain:lr,tickCount:cr,ticks:ur,niceTicks:dr,axisType:hr}=er;if(!ir)return null;var Ar=ar==="scaleBand"&&ir.bandwidth?ir.bandwidth()/2:2,fr=nr==="category"&&ir.bandwidth?ir.bandwidth()/Ar:0;if(fr=hr==="angleAxis"&&sr&&sr.length>=2?mathSign(sr[0]-sr[1])*2*fr:fr,ur||dr){var mr=(ur||dr||[]).map((pr,gr)=>{var xr=rr?rr.indexOf(pr):pr;return{coordinate:ir(xr)+fr,value:pr,offset:fr,index:gr}});return mr.filter(pr=>!isNan(pr.coordinate))}return or&&lr?lr.map((pr,gr)=>({coordinate:ir(pr)+fr,value:pr,index:gr,offset:fr})):ir.ticks&&cr!=null?ir.ticks(cr).map((pr,gr)=>({coordinate:ir(pr)+fr,value:pr,offset:fr,index:gr})):ir.domain().map((pr,gr)=>({coordinate:ir(pr)+fr,value:rr?rr[pr]:pr,index:gr,offset:fr}))},EPS=1e-4,checkDomainOfScale=er=>{var St=er.domain();if(!(!St||St.length<=2)){var tr=St.length,rr=er.range(),nr=Math.min(rr[0],rr[1])-EPS,sr=Math.max(rr[0],rr[1])+EPS,ir=er(St[0]),ar=er(St[tr-1]);(ir<nr||ir>sr||ar<nr||ar>sr)&&er.domain([St[0],St[tr-1]])}},truncateByDomain=(er,St)=>{if(!St||St.length!==2||!isNumber(St[0])||!isNumber(St[1]))return er;var tr=Math.min(St[0],St[1]),rr=Math.max(St[0],St[1]),nr=[er[0],er[1]];return(!isNumber(er[0])||er[0]<tr)&&(nr[0]=tr),(!isNumber(er[1])||er[1]>rr)&&(nr[1]=rr),nr[0]>rr&&(nr[0]=rr),nr[1]<tr&&(nr[1]=tr),nr},offsetSign=er=>{var St=er.length;if(!(St<=0))for(var tr=0,rr=er[0].length;tr<rr;++tr)for(var nr=0,sr=0,ir=0;ir<St;++ir){var ar=isNan(er[ir][tr][1])?er[ir][tr][0]:er[ir][tr][1];ar>=0?(er[ir][tr][0]=nr,er[ir][tr][1]=nr+ar,nr=er[ir][tr][1]):(er[ir][tr][0]=sr,er[ir][tr][1]=sr+ar,sr=er[ir][tr][1])}},offsetPositive=er=>{var St=er.length;if(!(St<=0))for(var tr=0,rr=er[0].length;tr<rr;++tr)for(var nr=0,sr=0;sr<St;++sr){var ir=isNan(er[sr][tr][1])?er[sr][tr][0]:er[sr][tr][1];ir>=0?(er[sr][tr][0]=nr,er[sr][tr][1]=nr+ir,nr=er[sr][tr][1]):(er[sr][tr][0]=0,er[sr][tr][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(er,St,tr)=>{var rr=STACK_OFFSET_MAP[tr],nr=shapeStack().keys(St).value((sr,ir)=>+getValueByDataKey(sr,ir,0)).order(stackOrderNone).offset(rr);return nr(er)};function getNormalizedStackId(er){return er==null?void 0:String(er)}function getCateCoordinateOfLine(er){var{axis:St,ticks:tr,bandSize:rr,entry:nr,index:sr,dataKey:ir}=er;if(St.type==="category"){if(!St.allowDuplicatedCategory&&St.dataKey&&!isNullish$1(nr[St.dataKey])){var ar=findEntryInArray(tr,"value",nr[St.dataKey]);if(ar)return ar.coordinate+rr/2}return tr[sr]?tr[sr].coordinate+rr/2:null}var or=getValueByDataKey(nr,isNullish$1(ir)?St.dataKey:ir);return isNullish$1(or)?null:St.scale(or)}var getCateCoordinateOfBar=er=>{var{axis:St,ticks:tr,offset:rr,bandSize:nr,entry:sr,index:ir}=er;if(St.type==="category")return tr[ir]?tr[ir].coordinate+rr:null;var ar=getValueByDataKey(sr,St.dataKey,St.scale.domain()[ir]);return isNullish$1(ar)?null:St.scale(ar)-nr/2+rr},getBaseValueOfBar=er=>{var{numericAxis:St}=er,tr=St.scale.domain();if(St.type==="number"){var rr=Math.min(tr[0],tr[1]),nr=Math.max(tr[0],tr[1]);return rr<=0&&nr>=0?0:nr<0?nr:rr}return tr[0]},getDomainOfSingle=er=>{var St=er.flat(2).filter(isNumber);return[Math.min(...St),Math.max(...St)]},makeDomainFinite=er=>[er[0]===1/0?0:er[0],er[1]===-1/0?0:er[1]],getDomainOfStackGroups=(er,St,tr)=>{if(er!=null)return makeDomainFinite(Object.keys(er).reduce((rr,nr)=>{var sr=er[nr],{stackedData:ir}=sr,ar=ir.reduce((or,lr)=>{var cr=getDomainOfSingle(lr.slice(St,tr+1));return[Math.min(or[0],cr[0]),Math.max(or[1],cr[1])]},[1/0,-1/0]);return[Math.min(ar[0],rr[0]),Math.max(ar[1],rr[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(er,St,tr)=>{if(er&&er.scale&&er.scale.bandwidth){var rr=er.scale.bandwidth();if(!tr||rr>0)return rr}if(er&&St&&St.length>=2){for(var nr=sortBy$1(St,cr=>cr.coordinate),sr=1/0,ir=1,ar=nr.length;ir<ar;ir++){var or=nr[ir],lr=nr[ir-1];sr=Math.min((or.coordinate||0)-(lr.coordinate||0),sr)}return sr===1/0?0:sr}return tr?void 0:0};function getTooltipEntry(er){var{tooltipEntrySettings:St,dataKey:tr,payload:rr,value:nr,name:sr}=er;return _objectSpread$z(_objectSpread$z({},St),{},{dataKey:tr,payload:rr,value:nr,name:sr})}function getTooltipNameProp(er,St){if(er)return String(er);if(typeof St=="string")return St}function inRange(er,St,tr,rr,nr){if(tr==="horizontal"||tr==="vertical"){var sr=er>=nr.left&&er<=nr.left+nr.width&&St>=nr.top&&St<=nr.top+nr.height;return sr?{x:er,y:St}:null}return rr?inRangeOfSector({x:er,y:St},rr):null}var getActiveCoordinate=(er,St,tr,rr)=>{var nr=St.find(lr=>lr&&lr.index===tr);if(nr){if(er==="horizontal")return{x:nr.coordinate,y:rr.y};if(er==="vertical")return{x:rr.x,y:nr.coordinate};if(er==="centric"){var sr=nr.coordinate,{radius:ir}=rr;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},rr),polarToCartesian(rr.cx,rr.cy,ir,sr)),{},{angle:sr,radius:ir})}var ar=nr.coordinate,{angle:or}=rr;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},rr),polarToCartesian(rr.cx,rr.cy,ar,or)),{},{angle:or,radius:ar})}return{x:0,y:0}},calculateTooltipPos=(er,St)=>St==="horizontal"?er.x:St==="vertical"?er.y:St==="centric"?er.angle:er.radius,selectChartWidth=er=>er.layout.width,selectChartHeight=er=>er.layout.height,selectContainerScale=er=>er.layout.scale,selectMargin=er=>er.layout.margin,selectAllXAxes=createSelector(er=>er.cartesianAxis.xAxis,er=>Object.values(er)),selectAllYAxes=createSelector(er=>er.cartesianAxis.yAxis,er=>Object.values(er)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$y(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$y(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$y(Object(tr),!0).forEach(function(rr){_defineProperty$C(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$y(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$C(er,St,tr){return(St=_toPropertyKey$C(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$C(er){var St=_toPrimitive$C(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$C(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var selectBrushHeight=er=>er.brush.height,selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectAllXAxes,selectAllYAxes,selectLegendSettings,selectLegendSize],(er,St,tr,rr,nr,sr,ir,ar)=>{var or=sr.reduce((Ar,fr)=>{var{orientation:mr}=fr;if(!fr.mirror&&!fr.hide){var pr=typeof fr.width=="number"?fr.width:DEFAULT_Y_AXIS_WIDTH;return _objectSpread$y(_objectSpread$y({},Ar),{},{[mr]:Ar[mr]+pr})}return Ar},{left:tr.left||0,right:tr.right||0}),lr=nr.reduce((Ar,fr)=>{var{orientation:mr}=fr;return!fr.mirror&&!fr.hide?_objectSpread$y(_objectSpread$y({},Ar),{},{[mr]:get$1(Ar,"".concat(mr))+fr.height}):Ar},{top:tr.top||0,bottom:tr.bottom||0}),cr=_objectSpread$y(_objectSpread$y({},lr),or),ur=cr.bottom;cr.bottom+=rr,cr=appendOffsetOfLegend(cr,ir,ar);var dr=er-cr.left-cr.right,hr=St-cr.top-cr.bottom;return _objectSpread$y(_objectSpread$y({brushBottom:ur},cr),{},{width:Math.max(dr,0),height:Math.max(hr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,er=>({x:er.left,y:er.top,width:er.width,height:er.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(er,St)=>({x:0,y:0,width:er,height:St})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=er=>er.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(er,St,tr)=>({height:er.height,x:isNumber(er.x)?er.x:St.left,y:isNumber(er.y)?er.y:St.top+St.height+St.brushBottom-((tr==null?void 0:tr.bottom)||0),width:isNumber(er.width)?er.width:St.width})),useViewBox=()=>{var er,St=useIsPanorama(),tr=useAppSelector(selectChartViewBox),rr=useAppSelector(selectBrushDimensions),nr=(er=useAppSelector(selectBrushSettings))===null||er===void 0?void 0:er.padding;return!St||!rr||!nr?tr:{width:rr.width-nr.left-nr.right,height:rr.height-nr.top-nr.bottom,x:nr.left,y:nr.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var er;return(er=useAppSelector(selectChartOffsetInternal))!==null&&er!==void 0?er:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),manyComponentsThrowErrorsIfMarginIsUndefined={top:0,right:0,bottom:0,left:0},useMargin=()=>{var er;return(er=useAppSelector(St=>St.layout.margin))!==null&&er!==void 0?er:manyComponentsThrowErrorsIfMarginIsUndefined},selectChartLayout=er=>er.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$8,reducers:{setLegendSize(er,St){er.size.width=St.payload.width,er.size.height=St.payload.height},setLegendSettings(er,St){er.settings.align=St.payload.align,er.settings.layout=St.payload.layout,er.settings.verticalAlign=St.payload.verticalAlign,er.settings.itemSorter=St.payload.itemSorter},addLegendPayload(er,St){er.payload.push(St.payload)},removeLegendPayload(er,St){var tr=current(er).payload.indexOf(St.payload);tr>-1&&er.payload.splice(tr,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$l=["contextPayload"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$p.apply(null,arguments)}function ownKeys$x(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$x(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$x(Object(tr),!0).forEach(function(rr){_defineProperty$B(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$x(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$B(er,St,tr){return(St=_toPropertyKey$B(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$B(er){var St=_toPrimitive$B(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$B(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$l(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$l(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$l(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function defaultUniqBy$1(er){return er.value}function LegendContent(er){var{contextPayload:St}=er,tr=_objectWithoutProperties$l(er,_excluded$l),rr=getUniqPayload(St,er.payloadUniqBy,defaultUniqBy$1),nr=_objectSpread$x(_objectSpread$x({},tr),{},{payload:rr});return reactExports.isValidElement(er.content)?reactExports.cloneElement(er.content,nr):typeof er.content=="function"?reactExports.createElement(er.content,nr):reactExports.createElement(DefaultLegendContent,nr)}function getDefaultPosition(er,St,tr,rr,nr,sr){var{layout:ir,align:ar,verticalAlign:or}=St,lr,cr;return(!er||(er.left===void 0||er.left===null)&&(er.right===void 0||er.right===null))&&(ar==="center"&&ir==="vertical"?lr={left:((rr||0)-sr.width)/2}:lr=ar==="right"?{right:tr&&tr.right||0}:{left:tr&&tr.left||0}),(!er||(er.top===void 0||er.top===null)&&(er.bottom===void 0||er.bottom===null))&&(or==="middle"?cr={top:((nr||0)-sr.height)/2}:cr=or==="bottom"?{bottom:tr&&tr.bottom||0}:{top:tr&&tr.top||0}),_objectSpread$x(_objectSpread$x({},lr),cr)}function LegendSettingsDispatcher(er){var St=useAppDispatch();return reactExports.useEffect(()=>{St(setLegendSettings(er))},[St,er]),null}function LegendSizeDispatcher(er){var St=useAppDispatch();return reactExports.useEffect(()=>(St(setLegendSize(er)),()=>{St(setLegendSize({width:0,height:0}))}),[St,er]),null}function LegendWrapper(er){var St=useLegendPayload(),tr=useLegendPortal(),rr=useMargin(),{width:nr,height:sr,wrapperStyle:ir,portal:ar}=er,[or,lr]=useElementOffset([St]),cr=useChartWidth(),ur=useChartHeight(),dr=cr-(rr.left||0)-(rr.right||0),hr=Legend.getWidthOrHeight(er.layout,sr,nr,dr),Ar=ar?ir:_objectSpread$x(_objectSpread$x({position:"absolute",width:(hr==null?void 0:hr.width)||nr||"auto",height:(hr==null?void 0:hr.height)||sr||"auto"},getDefaultPosition(ir,er,rr,cr,ur,or)),ir),fr=ar??tr;if(fr==null)return null;var mr=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:Ar,ref:lr},reactExports.createElement(LegendSettingsDispatcher,{layout:er.layout,align:er.align,verticalAlign:er.verticalAlign,itemSorter:er.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:or.width,height:or.height}),reactExports.createElement(LegendContent,_extends$p({},er,hr,{margin:rr,chartWidth:cr,chartHeight:ur,contextPayload:St})));return reactDomExports.createPortal(mr,fr)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(St,tr,rr,nr){return St==="vertical"&&isNumber(tr)?{height:tr}:St==="horizontal"?{width:rr||nr}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$B(Legend,"displayName","Legend");_defineProperty$B(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$o.apply(null,arguments)}function ownKeys$w(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$w(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$w(Object(tr),!0).forEach(function(rr){_defineProperty$A(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$w(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$A(er,St,tr){return(St=_toPropertyKey$A(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$A(er){var St=_toPrimitive$A(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$A(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function defaultFormatter(er){return Array.isArray(er)&&isNumOrStr(er[0])&&isNumOrStr(er[1])?er.join(" ~ "):er}var DefaultTooltipContent=er=>{var{separator:St=" : ",contentStyle:tr={},itemStyle:rr={},labelStyle:nr={},payload:sr,formatter:ir,itemSorter:ar,wrapperClassName:or,labelClassName:lr,label:cr,labelFormatter:ur,accessibilityLayer:dr=!1}=er,hr=()=>{if(sr&&sr.length){var Er={padding:0,margin:0},_r=(ar?sortBy$1(sr,ar):sr).map((Sr,jr)=>{if(Sr.type==="none")return null;var Pr=Sr.formatter||ir||defaultFormatter,{value:Mr,name:Ir}=Sr,Lr=Mr,Qr=Ir;if(Pr){var Yr=Pr(Mr,Ir,Sr,jr,sr);if(Array.isArray(Yr))[Lr,Qr]=Yr;else if(Yr!=null)Lr=Yr;else return null}var Gr=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:Sr.color||"#000"},rr);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(jr),style:Gr},isNumOrStr(Qr)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Qr):null,isNumOrStr(Qr)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},St):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Lr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},Sr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Er},_r)}return null},Ar=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},tr),fr=_objectSpread$w({margin:0},nr),mr=!isNullish$1(cr),pr=mr?cr:"",gr=clsx("recharts-default-tooltip",or),xr=clsx("recharts-tooltip-label",lr);mr&&ur&&sr!==void 0&&sr!==null&&(pr=ur(cr,sr));var yr=dr?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$o({className:gr,style:Ar},yr),reactExports.createElement("p",{className:xr,style:fr},reactExports.isValidElement(pr)?pr:"".concat(pr)),hr())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(er){var{coordinate:St,translateX:tr,translateY:rr}=er;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(tr)&&St&&isNumber(St.x)&&tr>=St.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(tr)&&St&&isNumber(St.x)&&tr<St.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(rr)&&St&&isNumber(St.y)&&rr>=St.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(rr)&&St&&isNumber(St.y)&&rr<St.y})}function getTooltipTranslateXY(er){var{allowEscapeViewBox:St,coordinate:tr,key:rr,offsetTopLeft:nr,position:sr,reverseDirection:ir,tooltipDimension:ar,viewBox:or,viewBoxDimension:lr}=er;if(sr&&isNumber(sr[rr]))return sr[rr];var cr=tr[rr]-ar-(nr>0?nr:0),ur=tr[rr]+nr;if(St[rr])return ir[rr]?cr:ur;var dr=or[rr];if(dr==null)return 0;if(ir[rr]){var hr=cr,Ar=dr;return hr<Ar?Math.max(ur,dr):Math.max(cr,dr)}if(lr==null)return 0;var fr=ur+ar,mr=dr+lr;return fr>mr?Math.max(cr,dr):Math.max(ur,dr)}function getTransformStyle(er){var{translateX:St,translateY:tr,useTranslate3d:rr}=er;return{transform:rr?"translate3d(".concat(St,"px, ").concat(tr,"px, 0)"):"translate(".concat(St,"px, ").concat(tr,"px)")}}function getTooltipTranslate(er){var{allowEscapeViewBox:St,coordinate:tr,offsetTopLeft:rr,position:nr,reverseDirection:sr,tooltipBox:ir,useTranslate3d:ar,viewBox:or}=er,lr,cr,ur;return ir.height>0&&ir.width>0&&tr?(cr=getTooltipTranslateXY({allowEscapeViewBox:St,coordinate:tr,key:"x",offsetTopLeft:rr,position:nr,reverseDirection:sr,tooltipDimension:ir.width,viewBox:or,viewBoxDimension:or.width}),ur=getTooltipTranslateXY({allowEscapeViewBox:St,coordinate:tr,key:"y",offsetTopLeft:rr,position:nr,reverseDirection:sr,tooltipDimension:ir.height,viewBox:or,viewBoxDimension:or.height}),lr=getTransformStyle({translateX:cr,translateY:ur,useTranslate3d:ar})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:cr,translateY:ur,coordinate:tr})}}function ownKeys$v(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$v(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$v(Object(tr),!0).forEach(function(rr){_defineProperty$z(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$v(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$z(er,St,tr){return(St=_toPropertyKey$z(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$z(er){var St=_toPrimitive$z(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$z(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$z(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$z(this,"handleKeyDown",St=>{if(St.key==="Escape"){var tr,rr,nr,sr;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(tr=(rr=this.props.coordinate)===null||rr===void 0?void 0:rr.x)!==null&&tr!==void 0?tr:0,y:(nr=(sr=this.props.coordinate)===null||sr===void 0?void 0:sr.y)!==null&&nr!==void 0?nr:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var St,tr;this.state.dismissed&&(((St=this.props.coordinate)===null||St===void 0?void 0:St.x)!==this.state.dismissedAtCoordinate.x||((tr=this.props.coordinate)===null||tr===void 0?void 0:tr.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:St,allowEscapeViewBox:tr,animationDuration:rr,animationEasing:nr,children:sr,coordinate:ir,hasPayload:ar,isAnimationActive:or,offset:lr,position:cr,reverseDirection:ur,useTranslate3d:dr,viewBox:hr,wrapperStyle:Ar,lastBoundingBox:fr,innerRef:mr,hasPortalFromProps:pr}=this.props,{cssClasses:gr,cssProperties:xr}=getTooltipTranslate({allowEscapeViewBox:tr,coordinate:ir,offsetTopLeft:lr,position:cr,reverseDirection:ur,tooltipBox:{height:fr.height,width:fr.width},useTranslate3d:dr,viewBox:hr}),yr=pr?{}:_objectSpread$v(_objectSpread$v({transition:or&&St?"transform ".concat(rr,"ms ").concat(nr):void 0},xr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&St&&ar?"visible":"hidden",position:"absolute",top:0,left:0}),Er=_objectSpread$v(_objectSpread$v({},yr),{},{visibility:!this.state.dismissed&&St&&ar?"visible":"hidden"},Ar);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:gr,style:Er,ref:mr},sr)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(er=>er.rootProps.accessibilityLayer);function isWellBehavedNumber(er){return Number.isFinite(er)}function isPositiveNumber(er){return typeof er=="number"&&er>0&&Number.isFinite(er)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$n.apply(null,arguments)}function ownKeys$u(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$u(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$u(Object(tr),!0).forEach(function(rr){_defineProperty$y(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$u(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$y(er,St,tr){return(St=_toPropertyKey$y(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$y(er){var St=_toPrimitive$y(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$y(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=er=>isWellBehavedNumber(er.x)&&isWellBehavedNumber(er.y),getX=er=>er.x,getY=er=>er.y,getCurveFactory=(er,St)=>{if(typeof er=="function")return er;var tr="curve".concat(upperFirst(er));return(tr==="curveMonotone"||tr==="curveBump")&&St?CURVE_FACTORIES["".concat(tr).concat(St==="vertical"?"Y":"X")]:CURVE_FACTORIES[tr]||curveLinear},getPath$1=er=>{var{type:St="linear",points:tr=[],baseLine:rr,layout:nr,connectNulls:sr=!1}=er,ir=getCurveFactory(St,nr),ar=sr?tr.filter(defined):tr,or;if(Array.isArray(rr)){var lr=sr?rr.filter(ur=>defined(ur)):rr,cr=ar.map((ur,dr)=>_objectSpread$u(_objectSpread$u({},ur),{},{base:lr[dr]}));return nr==="vertical"?or=shapeArea().y(getY).x1(getX).x0(ur=>ur.base.x):or=shapeArea().x(getX).y1(getY).y0(ur=>ur.base.y),or.defined(defined).curve(ir),or(cr)}return nr==="vertical"&&isNumber(rr)?or=shapeArea().y(getY).x1(getX).x0(rr):isNumber(rr)?or=shapeArea().x(getX).y1(getY).y0(rr):or=shapeLine().x(getX).y(getY),or.defined(defined).curve(ir),or(ar)},Curve=er=>{var{className:St,points:tr,path:rr,pathRef:nr}=er;if((!tr||!tr.length)&&!rr)return null;var sr=tr&&tr.length?getPath$1(er):rr;return reactExports.createElement("path",_extends$n({},filterProps$1(er,!1),adaptEventHandlers(er),{className:clsx("recharts-curve",St),d:sr===null?void 0:sr,ref:nr}))},_excluded$k=["x","y","top","left","width","height","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$m.apply(null,arguments)}function ownKeys$t(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$t(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$t(Object(tr),!0).forEach(function(rr){_defineProperty$x(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$t(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$x(er,St,tr){return(St=_toPropertyKey$x(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$x(er){var St=_toPrimitive$x(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$x(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$k(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$k(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$k(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var getPath=(er,St,tr,rr,nr,sr)=>"M".concat(er,",").concat(nr,"v").concat(rr,"M").concat(sr,",").concat(St,"h").concat(tr),Cross=er=>{var{x:St=0,y:tr=0,top:rr=0,left:nr=0,width:sr=0,height:ir=0,className:ar}=er,or=_objectWithoutProperties$k(er,_excluded$k),lr=_objectSpread$t({x:St,y:tr,top:rr,left:nr,width:sr,height:ir},or);return!isNumber(St)||!isNumber(tr)||!isNumber(sr)||!isNumber(ir)||!isNumber(rr)||!isNumber(nr)?null:reactExports.createElement("path",_extends$m({},filterProps$1(lr,!0),{className:clsx("recharts-cross",ar),d:getPath(St,tr,sr,ir,rr,nr)}))};function getCursorRectangle(er,St,tr,rr){var nr=rr/2;return{stroke:"none",fill:"#ccc",x:er==="horizontal"?St.x-nr:tr.left+.5,y:er==="horizontal"?tr.top+.5:St.y-nr,width:er==="horizontal"?rr:tr.width-1,height:er==="horizontal"?tr.height-1:rr}}function ownKeys$s(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$s(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$s(Object(tr),!0).forEach(function(rr){_defineProperty$w(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$s(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$w(er,St,tr){return(St=_toPropertyKey$w(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$w(er){var St=_toPrimitive$w(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$w(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function resolveDefaultProps(er,St){var tr=_objectSpread$s({},er),rr=St,nr=Object.keys(St),sr=nr.reduce((ir,ar)=>(ir[ar]===void 0&&rr[ar]!==void 0&&(ir[ar]=rr[ar]),ir),tr);return sr}var isEqual$2={},isEqualWith={},isPlainObject$3={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){if(!tr||typeof tr!="object")return!1;const rr=Object.getPrototypeOf(tr);return rr===null||rr===Object.prototype||Object.getPrototypeOf(rr)===null?Object.prototype.toString.call(tr)==="[object Object]":!1}er.isPlainObject=St})(isPlainObject$3);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isPlainObject$3,tr=getSymbols,rr=getTag,nr=tags,sr=eq;function ir(lr,cr,ur){return ar(lr,cr,void 0,void 0,void 0,void 0,ur)}function ar(lr,cr,ur,dr,hr,Ar,fr){const mr=fr(lr,cr,ur,dr,hr,Ar);if(mr!==void 0)return mr;if(typeof lr==typeof cr)switch(typeof lr){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return lr===cr;case"number":return lr===cr||Object.is(lr,cr);case"function":return lr===cr;case"object":return or(lr,cr,Ar,fr)}return or(lr,cr,Ar,fr)}function or(lr,cr,ur,dr){if(Object.is(lr,cr))return!0;let hr=rr.getTag(lr),Ar=rr.getTag(cr);if(hr===nr.argumentsTag&&(hr=nr.objectTag),Ar===nr.argumentsTag&&(Ar=nr.objectTag),hr!==Ar)return!1;switch(hr){case nr.stringTag:return lr.toString()===cr.toString();case nr.numberTag:{const pr=lr.valueOf(),gr=cr.valueOf();return sr.eq(pr,gr)}case nr.booleanTag:case nr.dateTag:case nr.symbolTag:return Object.is(lr.valueOf(),cr.valueOf());case nr.regexpTag:return lr.source===cr.source&&lr.flags===cr.flags;case nr.functionTag:return lr===cr}ur=ur??new Map;const fr=ur.get(lr),mr=ur.get(cr);if(fr!=null&&mr!=null)return fr===cr;ur.set(lr,cr),ur.set(cr,lr);try{switch(hr){case nr.mapTag:{if(lr.size!==cr.size)return!1;for(const[pr,gr]of lr.entries())if(!cr.has(pr)||!ar(gr,cr.get(pr),pr,lr,cr,ur,dr))return!1;return!0}case nr.setTag:{if(lr.size!==cr.size)return!1;const pr=Array.from(lr.values()),gr=Array.from(cr.values());for(let xr=0;xr<pr.length;xr++){const yr=pr[xr],Er=gr.findIndex(_r=>ar(yr,_r,void 0,lr,cr,ur,dr));if(Er===-1)return!1;gr.splice(Er,1)}return!0}case nr.arrayTag:case nr.uint8ArrayTag:case nr.uint8ClampedArrayTag:case nr.uint16ArrayTag:case nr.uint32ArrayTag:case nr.bigUint64ArrayTag:case nr.int8ArrayTag:case nr.int16ArrayTag:case nr.int32ArrayTag:case nr.bigInt64ArrayTag:case nr.float32ArrayTag:case nr.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(lr)!==Buffer.isBuffer(cr)||lr.length!==cr.length)return!1;for(let pr=0;pr<lr.length;pr++)if(!ar(lr[pr],cr[pr],pr,lr,cr,ur,dr))return!1;return!0}case nr.arrayBufferTag:return lr.byteLength!==cr.byteLength?!1:or(new Uint8Array(lr),new Uint8Array(cr),ur,dr);case nr.dataViewTag:return lr.byteLength!==cr.byteLength||lr.byteOffset!==cr.byteOffset?!1:or(new Uint8Array(lr),new Uint8Array(cr),ur,dr);case nr.errorTag:return lr.name===cr.name&&lr.message===cr.message;case nr.objectTag:{if(!(or(lr.constructor,cr.constructor,ur,dr)||St.isPlainObject(lr)&&St.isPlainObject(cr)))return!1;const gr=[...Object.keys(lr),...tr.getSymbols(lr)],xr=[...Object.keys(cr),...tr.getSymbols(cr)];if(gr.length!==xr.length)return!1;for(let yr=0;yr<gr.length;yr++){const Er=gr[yr],_r=lr[Er];if(!Object.hasOwn(cr,Er))return!1;const Sr=cr[Er];if(!ar(_r,Sr,Er,lr,cr,ur,dr))return!1}return!0}default:return!1}}finally{ur.delete(lr),ur.delete(cr)}}er.isEqualWith=ir})(isEqualWith);var noop$4={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(){}er.noop=St})(noop$4);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isEqualWith,tr=noop$4;function rr(nr,sr){return St.isEqualWith(nr,sr,tr.noop)}er.isEqual=rr})(isEqual$2);var isEqual=isEqual$2.isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual);function createAnimateManager(er){var St={},tr=()=>null,rr=!1,nr=null,sr=ir=>{if(!rr){if(Array.isArray(ir)){if(!ir.length)return;var ar=ir,[or,...lr]=ar;if(typeof or=="number"){nr=er.setTimeout(sr.bind(null,lr),or);return}sr(or),nr=er.setTimeout(sr.bind(null,lr));return}typeof ir=="object"&&(St=ir,tr(St)),typeof ir=="function"&&ir()}};return{stop:()=>{rr=!0},start:ir=>{rr=!1,nr&&(nr(),nr=null),sr(ir)},subscribe:ir=>(tr=ir,()=>{tr=()=>null}),getTimeoutController:()=>er}}var ACCURACY=1e-4,cubicBezierFactor=(er,St)=>[0,3*er,3*St-6*er,3*er-3*St+1],evaluatePolynomial=(er,St)=>er.map((tr,rr)=>tr*St**rr).reduce((tr,rr)=>tr+rr),cubicBezier$1=(er,St)=>tr=>{var rr=cubicBezierFactor(er,St);return evaluatePolynomial(rr,tr)},derivativeCubicBezier=(er,St)=>tr=>{var rr=cubicBezierFactor(er,St),nr=[...rr.map((sr,ir)=>sr*ir).slice(1),0];return evaluatePolynomial(nr,tr)},configBezier=function er(){for(var St,tr,rr,nr,sr=arguments.length,ir=new Array(sr),ar=0;ar<sr;ar++)ir[ar]=arguments[ar];if(ir.length===1)switch(ir[0]){case"linear":[St,rr,tr,nr]=[0,0,1,1];break;case"ease":[St,rr,tr,nr]=[.25,.1,.25,1];break;case"ease-in":[St,rr,tr,nr]=[.42,0,1,1];break;case"ease-out":[St,rr,tr,nr]=[.42,0,.58,1];break;case"ease-in-out":[St,rr,tr,nr]=[0,0,.58,1];break;default:{var or=ir[0].split("(");or[0]==="cubic-bezier"&&or[1].split(")")[0].split(",").length===4&&([St,rr,tr,nr]=or[1].split(")")[0].split(",").map(Ar=>parseFloat(Ar)))}}else ir.length===4&&([St,rr,tr,nr]=ir);var lr=cubicBezier$1(St,tr),cr=cubicBezier$1(rr,nr),ur=derivativeCubicBezier(St,tr),dr=Ar=>Ar>1?1:Ar<0?0:Ar,hr=Ar=>{for(var fr=Ar>1?1:Ar,mr=fr,pr=0;pr<8;++pr){var gr=lr(mr)-fr,xr=ur(mr);if(Math.abs(gr-fr)<ACCURACY||xr<ACCURACY)return cr(mr);mr=dr(mr-gr/xr)}return cr(mr)};return hr.isStepper=!1,hr},configSpring=function er(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:tr=100,damping:rr=8,dt:nr=17}=St,sr=(ir,ar,or)=>{var lr=-(ir-ar)*tr,cr=or*rr,ur=or+(lr-cr)*nr/1e3,dr=or*nr/1e3+ir;return Math.abs(dr-ar)<ACCURACY&&Math.abs(ur)<ACCURACY?[ar,0]:[dr,ur]};return sr.isStepper=!0,sr.dt=nr,sr},configEasing=er=>{if(typeof er=="string")switch(er){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(er);case"spring":return configSpring();default:if(er.split("(")[0]==="cubic-bezier")return configBezier(er)}return typeof er=="function"?er:null};function ownKeys$r(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$r(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$r(Object(tr),!0).forEach(function(rr){_defineProperty$v(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$r(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$v(er,St,tr){return(St=_toPropertyKey$v(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$v(er){var St=_toPrimitive$v(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$v(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var getDashCase=er=>er.replace(/([A-Z])/g,St=>"-".concat(St.toLowerCase())),getTransitionVal=(er,St,tr)=>er.map(rr=>"".concat(getDashCase(rr)," ").concat(St,"ms ").concat(tr)).join(","),getIntersectionKeys=(er,St)=>[Object.keys(er),Object.keys(St)].reduce((tr,rr)=>tr.filter(nr=>rr.includes(nr))),mapObject=(er,St)=>Object.keys(St).reduce((tr,rr)=>_objectSpread$r(_objectSpread$r({},tr),{},{[rr]:er(rr,St[rr])}),{});function ownKeys$q(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$q(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$q(Object(tr),!0).forEach(function(rr){_defineProperty$u(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$q(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$u(er,St,tr){return(St=_toPropertyKey$u(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$u(er){var St=_toPrimitive$u(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$u(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var alpha$1=(er,St,tr)=>er+(St-er)*tr,needContinue=er=>{var{from:St,to:tr}=er;return St!==tr},calStepperVals=(er,St,tr)=>{var rr=mapObject((nr,sr)=>{if(needContinue(sr)){var[ir,ar]=er(sr.from,sr.to,sr.velocity);return _objectSpread$q(_objectSpread$q({},sr),{},{from:ir,velocity:ar})}return sr},St);return tr<1?mapObject((nr,sr)=>needContinue(sr)?_objectSpread$q(_objectSpread$q({},sr),{},{velocity:alpha$1(sr.velocity,rr[nr].velocity,tr),from:alpha$1(sr.from,rr[nr].from,tr)}):sr,St):calStepperVals(er,rr,tr-1)};function createStepperUpdate(er,St,tr,rr,nr,sr){var ir,ar=rr.reduce((dr,hr)=>_objectSpread$q(_objectSpread$q({},dr),{},{[hr]:{from:er[hr],velocity:0,to:St[hr]}}),{}),or=()=>mapObject((dr,hr)=>hr.from,ar),lr=()=>!Object.values(ar).filter(needContinue).length,cr=null,ur=dr=>{ir||(ir=dr);var hr=dr-ir,Ar=hr/tr.dt;ar=calStepperVals(tr,ar,Ar),nr(_objectSpread$q(_objectSpread$q(_objectSpread$q({},er),St),or())),ir=dr,lr()||(cr=sr.setTimeout(ur))};return()=>(cr=sr.setTimeout(ur),()=>{cr()})}function createTimingUpdate(er,St,tr,rr,nr,sr,ir){var ar=null,or=nr.reduce((ur,dr)=>_objectSpread$q(_objectSpread$q({},ur),{},{[dr]:[er[dr],St[dr]]}),{}),lr,cr=ur=>{lr||(lr=ur);var dr=(ur-lr)/rr,hr=mapObject((fr,mr)=>alpha$1(...mr,tr(dr)),or);if(sr(_objectSpread$q(_objectSpread$q(_objectSpread$q({},er),St),hr)),dr<1)ar=ir.setTimeout(cr);else{var Ar=mapObject((fr,mr)=>alpha$1(...mr,tr(1)),or);sr(_objectSpread$q(_objectSpread$q(_objectSpread$q({},er),St),Ar))}};return()=>(ar=ir.setTimeout(cr),()=>{ar()})}const configUpdate=(er,St,tr,rr,nr,sr)=>{var ir=getIntersectionKeys(er,St);return tr.isStepper===!0?createStepperUpdate(er,St,tr,ir,nr,sr):createTimingUpdate(er,St,tr,rr,ir,nr,sr)};class RequestAnimationFrameTimeoutController{setTimeout(St){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=performance.now(),nr=null,sr=ir=>{ir-rr>=tr?St(ir):typeof requestAnimationFrame=="function"&&(nr=requestAnimationFrame(sr))};return nr=requestAnimationFrame(sr),()=>{cancelAnimationFrame(nr)}}}var _excluded$j=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$l.apply(null,arguments)}function _objectWithoutProperties$j(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$j(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$j(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$p(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$p(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$p(Object(tr),!0).forEach(function(rr){_defineProperty$t(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$p(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$t(er,St,tr){return(St=_toPropertyKey$t(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$t(er){var St=_toPrimitive$t(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$t(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}class AnimateImpl extends reactExports.PureComponent{constructor(St,tr){super(St,tr),_defineProperty$t(this,"mounted",!1),_defineProperty$t(this,"manager",null),_defineProperty$t(this,"stopJSAnimation",null),_defineProperty$t(this,"unSubscribe",null);var{isActive:rr,attributeName:nr,from:sr,to:ir,children:ar,duration:or,animationManager:lr}=this.props;if(this.manager=lr,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!rr||or<=0){this.state={style:{}},typeof ar=="function"&&(this.state={style:ir});return}if(sr){if(typeof ar=="function"){this.state={style:sr};return}this.state={style:nr?{[nr]:sr}:sr}}else this.state={style:{}}}componentDidMount(){var{isActive:St,canBegin:tr}=this.props;this.mounted=!0,!(!St||!tr)&&this.runAnimation(this.props)}componentDidUpdate(St){var{isActive:tr,canBegin:rr,attributeName:nr,shouldReAnimate:sr,to:ir,from:ar}=this.props,{style:or}=this.state;if(rr){if(!tr){var lr={style:nr?{[nr]:ir}:ir};this.state&&or&&(nr&&or[nr]!==ir||!nr&&or!==ir)&&this.setState(lr);return}if(!(isEqual$1(St.to,ir)&&St.canBegin&&St.isActive)){var cr=!St.canBegin||!St.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var ur=cr||sr?ar:St.to;if(this.state&&or){var dr={style:nr?{[nr]:ur}:ur};(nr&&or[nr]!==ur||!nr&&or!==ur)&&this.setState(dr)}this.runAnimation(_objectSpread$p(_objectSpread$p({},this.props),{},{from:ur,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:St}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),St&&St()}handleStyleChange(St){this.changeStyle(St)}changeStyle(St){this.mounted&&this.setState({style:St})}runJSAnimation(St){var{from:tr,to:rr,duration:nr,easing:sr,begin:ir,onAnimationEnd:ar,onAnimationStart:or}=St,lr=configUpdate(tr,rr,configEasing(sr),nr,this.changeStyle,this.manager.getTimeoutController()),cr=()=>{this.stopJSAnimation=lr()};this.manager.start([or,ir,cr,nr,ar])}runAnimation(St){var{begin:tr,duration:rr,attributeName:nr,to:sr,easing:ir,onAnimationStart:ar,onAnimationEnd:or,children:lr}=St;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof ir=="function"||typeof lr=="function"||ir==="spring"){this.runJSAnimation(St);return}var cr=nr?{[nr]:sr}:sr,ur=getTransitionVal(Object.keys(cr),rr,ir);this.manager.start([ar,tr,_objectSpread$p(_objectSpread$p({},cr),{},{transition:ur}),rr,or])}render(){var St=this.props,{children:tr,begin:rr,duration:nr,attributeName:sr,easing:ir,isActive:ar,from:or,to:lr,canBegin:cr,onAnimationEnd:ur,shouldReAnimate:dr,onAnimationReStart:hr,animationManager:Ar}=St,fr=_objectWithoutProperties$j(St,_excluded$j),mr=reactExports.Children.count(tr),pr=this.state.style;if(typeof tr=="function")return tr(pr);if(!ar||mr===0||nr<=0)return tr;var gr=xr=>{var{style:yr={},className:Er}=xr.props,_r=reactExports.cloneElement(xr,_objectSpread$p(_objectSpread$p({},fr),{},{style:_objectSpread$p(_objectSpread$p({},yr),pr),className:Er}));return _r};return mr===1?gr(reactExports.Children.only(tr)):reactExports.createElement("div",null,reactExports.Children.map(tr,xr=>gr(xr)))}}_defineProperty$t(AnimateImpl,"displayName","Animate");_defineProperty$t(AnimateImpl,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var AnimationManagerContext=reactExports.createContext(null);function Animate(er){var St,tr,rr=reactExports.useContext(AnimationManagerContext);return reactExports.createElement(AnimateImpl,_extends$l({},er,{animationManager:(St=(tr=er.animationManager)!==null&&tr!==void 0?tr:rr)!==null&&St!==void 0?St:createDefaultAnimationManager()}))}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$k.apply(null,arguments)}var getRectanglePath=(er,St,tr,rr,nr)=>{var sr=Math.min(Math.abs(tr)/2,Math.abs(rr)/2),ir=rr>=0?1:-1,ar=tr>=0?1:-1,or=rr>=0&&tr>=0||rr<0&&tr<0?1:0,lr;if(sr>0&&nr instanceof Array){for(var cr=[0,0,0,0],ur=0,dr=4;ur<dr;ur++)cr[ur]=nr[ur]>sr?sr:nr[ur];lr="M".concat(er,",").concat(St+ir*cr[0]),cr[0]>0&&(lr+="A ".concat(cr[0],",").concat(cr[0],",0,0,").concat(or,",").concat(er+ar*cr[0],",").concat(St)),lr+="L ".concat(er+tr-ar*cr[1],",").concat(St),cr[1]>0&&(lr+="A ".concat(cr[1],",").concat(cr[1],",0,0,").concat(or,`,
        `).concat(er+tr,",").concat(St+ir*cr[1])),lr+="L ".concat(er+tr,",").concat(St+rr-ir*cr[2]),cr[2]>0&&(lr+="A ".concat(cr[2],",").concat(cr[2],",0,0,").concat(or,`,
        `).concat(er+tr-ar*cr[2],",").concat(St+rr)),lr+="L ".concat(er+ar*cr[3],",").concat(St+rr),cr[3]>0&&(lr+="A ".concat(cr[3],",").concat(cr[3],",0,0,").concat(or,`,
        `).concat(er,",").concat(St+rr-ir*cr[3])),lr+="Z"}else if(sr>0&&nr===+nr&&nr>0){var hr=Math.min(sr,nr);lr="M ".concat(er,",").concat(St+ir*hr,`
            A `).concat(hr,",").concat(hr,",0,0,").concat(or,",").concat(er+ar*hr,",").concat(St,`
            L `).concat(er+tr-ar*hr,",").concat(St,`
            A `).concat(hr,",").concat(hr,",0,0,").concat(or,",").concat(er+tr,",").concat(St+ir*hr,`
            L `).concat(er+tr,",").concat(St+rr-ir*hr,`
            A `).concat(hr,",").concat(hr,",0,0,").concat(or,",").concat(er+tr-ar*hr,",").concat(St+rr,`
            L `).concat(er+ar*hr,",").concat(St+rr,`
            A `).concat(hr,",").concat(hr,",0,0,").concat(or,",").concat(er,",").concat(St+rr-ir*hr," Z")}else lr="M ".concat(er,",").concat(St," h ").concat(tr," v ").concat(rr," h ").concat(-tr," Z");return lr},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=er=>{var St=resolveDefaultProps(er,defaultProps$6),tr=reactExports.useRef(null),[rr,nr]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tr.current&&tr.current.getTotalLength)try{var pr=tr.current.getTotalLength();pr&&nr(pr)}catch{}},[]);var{x:sr,y:ir,width:ar,height:or,radius:lr,className:cr}=St,{animationEasing:ur,animationDuration:dr,animationBegin:hr,isAnimationActive:Ar,isUpdateAnimationActive:fr}=St;if(sr!==+sr||ir!==+ir||ar!==+ar||or!==+or||ar===0||or===0)return null;var mr=clsx("recharts-rectangle",cr);return fr?reactExports.createElement(Animate,{canBegin:rr>0,from:{width:ar,height:or,x:sr,y:ir},to:{width:ar,height:or,x:sr,y:ir},duration:dr,animationEasing:ur,isActive:fr},pr=>{var{width:gr,height:xr,x:yr,y:Er}=pr;return reactExports.createElement(Animate,{canBegin:rr>0,from:"0px ".concat(rr===-1?1:rr,"px"),to:"".concat(rr,"px 0px"),attributeName:"strokeDasharray",begin:hr,duration:dr,isActive:Ar,easing:ur},reactExports.createElement("path",_extends$k({},filterProps$1(St,!0),{className:mr,d:getRectanglePath(yr,Er,gr,xr,lr),ref:tr})))}):reactExports.createElement("path",_extends$k({},filterProps$1(St,!0),{className:mr,d:getRectanglePath(sr,ir,ar,or,lr)}))};function getRadialCursorPoints(er){var{cx:St,cy:tr,radius:rr,startAngle:nr,endAngle:sr}=er,ir=polarToCartesian(St,tr,rr,nr),ar=polarToCartesian(St,tr,rr,sr);return{points:[ir,ar],cx:St,cy:tr,radius:rr,startAngle:nr,endAngle:sr}}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$j.apply(null,arguments)}var getDeltaAngle$1=(er,St)=>{var tr=mathSign(St-er),rr=Math.min(Math.abs(St-er),359.999);return tr*rr},getTangentCircle=er=>{var{cx:St,cy:tr,radius:rr,angle:nr,sign:sr,isExternal:ir,cornerRadius:ar,cornerIsExternal:or}=er,lr=ar*(ir?1:-1)+rr,cr=Math.asin(ar/lr)/RADIAN,ur=or?nr:nr+sr*cr,dr=polarToCartesian(St,tr,lr,ur),hr=polarToCartesian(St,tr,rr,ur),Ar=or?nr-sr*cr:nr,fr=polarToCartesian(St,tr,lr*Math.cos(cr*RADIAN),Ar);return{center:dr,circleTangency:hr,lineTangency:fr,theta:cr}},getSectorPath=er=>{var{cx:St,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:sr,endAngle:ir}=er,ar=getDeltaAngle$1(sr,ir),or=sr+ar,lr=polarToCartesian(St,tr,nr,sr),cr=polarToCartesian(St,tr,nr,or),ur="M ".concat(lr.x,",").concat(lr.y,`
    A `).concat(nr,",").concat(nr,`,0,
    `).concat(+(Math.abs(ar)>180),",").concat(+(sr>or),`,
    `).concat(cr.x,",").concat(cr.y,`
  `);if(rr>0){var dr=polarToCartesian(St,tr,rr,sr),hr=polarToCartesian(St,tr,rr,or);ur+="L ".concat(hr.x,",").concat(hr.y,`
            A `).concat(rr,",").concat(rr,`,0,
            `).concat(+(Math.abs(ar)>180),",").concat(+(sr<=or),`,
            `).concat(dr.x,",").concat(dr.y," Z")}else ur+="L ".concat(St,",").concat(tr," Z");return ur},getSectorWithCorner=er=>{var{cx:St,cy:tr,innerRadius:rr,outerRadius:nr,cornerRadius:sr,forceCornerRadius:ir,cornerIsExternal:ar,startAngle:or,endAngle:lr}=er,cr=mathSign(lr-or),{circleTangency:ur,lineTangency:dr,theta:hr}=getTangentCircle({cx:St,cy:tr,radius:nr,angle:or,sign:cr,cornerRadius:sr,cornerIsExternal:ar}),{circleTangency:Ar,lineTangency:fr,theta:mr}=getTangentCircle({cx:St,cy:tr,radius:nr,angle:lr,sign:-cr,cornerRadius:sr,cornerIsExternal:ar}),pr=ar?Math.abs(or-lr):Math.abs(or-lr)-hr-mr;if(pr<0)return ir?"M ".concat(dr.x,",").concat(dr.y,`
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(sr*2,`,0
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(-sr*2,`,0
      `):getSectorPath({cx:St,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:or,endAngle:lr});var gr="M ".concat(dr.x,",").concat(dr.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(cr<0),",").concat(ur.x,",").concat(ur.y,`
    A`).concat(nr,",").concat(nr,",0,").concat(+(pr>180),",").concat(+(cr<0),",").concat(Ar.x,",").concat(Ar.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(cr<0),",").concat(fr.x,",").concat(fr.y,`
  `);if(rr>0){var{circleTangency:xr,lineTangency:yr,theta:Er}=getTangentCircle({cx:St,cy:tr,radius:rr,angle:or,sign:cr,isExternal:!0,cornerRadius:sr,cornerIsExternal:ar}),{circleTangency:_r,lineTangency:Sr,theta:jr}=getTangentCircle({cx:St,cy:tr,radius:rr,angle:lr,sign:-cr,isExternal:!0,cornerRadius:sr,cornerIsExternal:ar}),Pr=ar?Math.abs(or-lr):Math.abs(or-lr)-Er-jr;if(Pr<0&&sr===0)return"".concat(gr,"L").concat(St,",").concat(tr,"Z");gr+="L".concat(Sr.x,",").concat(Sr.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(cr<0),",").concat(_r.x,",").concat(_r.y,`
      A`).concat(rr,",").concat(rr,",0,").concat(+(Pr>180),",").concat(+(cr>0),",").concat(xr.x,",").concat(xr.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(cr<0),",").concat(yr.x,",").concat(yr.y,"Z")}else gr+="L".concat(St,",").concat(tr,"Z");return gr},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=er=>{var St=resolveDefaultProps(er,defaultProps$5),{cx:tr,cy:rr,innerRadius:nr,outerRadius:sr,cornerRadius:ir,forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr,className:ur}=St;if(sr<nr||lr===cr)return null;var dr=clsx("recharts-sector",ur),hr=sr-nr,Ar=getPercentValue(ir,hr,0,!0),fr;return Ar>0&&Math.abs(lr-cr)<360?fr=getSectorWithCorner({cx:tr,cy:rr,innerRadius:nr,outerRadius:sr,cornerRadius:Math.min(Ar,hr/2),forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr}):fr=getSectorPath({cx:tr,cy:rr,innerRadius:nr,outerRadius:sr,startAngle:lr,endAngle:cr}),reactExports.createElement("path",_extends$j({},filterProps$1(St,!0),{className:dr,d:fr}))};function getCursorPoints(er,St,tr){var rr,nr,sr,ir;if(er==="horizontal")rr=St.x,sr=rr,nr=tr.top,ir=tr.top+tr.height;else if(er==="vertical")nr=St.y,ir=nr,rr=tr.left,sr=tr.left+tr.width;else if(St.cx!=null&&St.cy!=null)if(er==="centric"){var{cx:ar,cy:or,innerRadius:lr,outerRadius:cr,angle:ur}=St,dr=polarToCartesian(ar,or,lr,ur),hr=polarToCartesian(ar,or,cr,ur);rr=dr.x,nr=dr.y,sr=hr.x,ir=hr.y}else return getRadialCursorPoints(St);return[{x:rr,y:nr},{x:sr,y:ir}]}var range$4={},toFinite={},toNumber={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isSymbol;function tr(rr){return St.isSymbol(rr)?NaN:Number(rr)}er.toNumber=tr})(toNumber);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=toNumber;function tr(rr){return rr?(rr=St.toNumber(rr),rr===1/0||rr===-1/0?(rr<0?-1:1)*Number.MAX_VALUE:rr===rr?rr:0):rr===0?rr:0}er.toFinite=tr})(toFinite);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=isIterateeCall,tr=toFinite;function rr(nr,sr,ir){ir&&typeof ir!="number"&&St.isIterateeCall(nr,sr,ir)&&(sr=ir=void 0),nr=tr.toFinite(nr),sr===void 0?(sr=nr,nr=0):sr=tr.toFinite(sr),ir=ir===void 0?nr<sr?1:-1:tr.toFinite(ir);const ar=Math.max(Math.ceil((sr-nr)/(ir||1)),0),or=new Array(ar);for(let lr=0;lr<ar;lr++)or[lr]=nr,nr+=ir;return or}er.range=rr})(range$4);var range$2=range$4.range;const range$3=getDefaultExportFromCjs(range$2);function ascending(er,St){return er==null||St==null?NaN:er<St?-1:er>St?1:er>=St?0:NaN}function descending(er,St){return er==null||St==null?NaN:St<er?-1:St>er?1:St>=er?0:NaN}function bisector(er){let St,tr,rr;er.length!==2?(St=ascending,tr=(ar,or)=>ascending(er(ar),or),rr=(ar,or)=>er(ar)-or):(St=er===ascending||er===descending?er:zero$1,tr=er,rr=er);function nr(ar,or,lr=0,cr=ar.length){if(lr<cr){if(St(or,or)!==0)return cr;do{const ur=lr+cr>>>1;tr(ar[ur],or)<0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function sr(ar,or,lr=0,cr=ar.length){if(lr<cr){if(St(or,or)!==0)return cr;do{const ur=lr+cr>>>1;tr(ar[ur],or)<=0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function ir(ar,or,lr=0,cr=ar.length){const ur=nr(ar,or,lr,cr-1);return ur>lr&&rr(ar[ur-1],or)>-rr(ar[ur],or)?ur-1:ur}return{left:nr,center:ir,right:sr}}function zero$1(){return 0}function number$3(er){return er===null?NaN:+er}function*numbers(er,St){for(let tr of er)tr!=null&&(tr=+tr)>=tr&&(yield tr)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$3).center;class InternMap extends Map{constructor(St,tr=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tr}}),St!=null)for(const[rr,nr]of St)this.set(rr,nr)}get(St){return super.get(intern_get(this,St))}has(St){return super.has(intern_get(this,St))}set(St,tr){return super.set(intern_set(this,St),tr)}delete(St){return super.delete(intern_delete(this,St))}}function intern_get({_intern:er,_key:St},tr){const rr=St(tr);return er.has(rr)?er.get(rr):tr}function intern_set({_intern:er,_key:St},tr){const rr=St(tr);return er.has(rr)?er.get(rr):(er.set(rr,tr),tr)}function intern_delete({_intern:er,_key:St},tr){const rr=St(tr);return er.has(rr)&&(tr=er.get(rr),er.delete(rr)),tr}function keyof(er){return er!==null&&typeof er=="object"?er.valueOf():er}function compareDefined(er=ascending){if(er===ascending)return ascendingDefined;if(typeof er!="function")throw new TypeError("compare is not a function");return(St,tr)=>{const rr=er(St,tr);return rr||rr===0?rr:(er(tr,tr)===0)-(er(St,St)===0)}}function ascendingDefined(er,St){return(er==null||!(er>=er))-(St==null||!(St>=St))||(er<St?-1:er>St?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(er,St,tr){const rr=(St-er)/Math.max(0,tr),nr=Math.floor(Math.log10(rr)),sr=rr/Math.pow(10,nr),ir=sr>=e10?10:sr>=e5?5:sr>=e2?2:1;let ar,or,lr;return nr<0?(lr=Math.pow(10,-nr)/ir,ar=Math.round(er*lr),or=Math.round(St*lr),ar/lr<er&&++ar,or/lr>St&&--or,lr=-lr):(lr=Math.pow(10,nr)*ir,ar=Math.round(er/lr),or=Math.round(St/lr),ar*lr<er&&++ar,or*lr>St&&--or),or<ar&&.5<=tr&&tr<2?tickSpec(er,St,tr*2):[ar,or,lr]}function ticks(er,St,tr){if(St=+St,er=+er,tr=+tr,!(tr>0))return[];if(er===St)return[er];const rr=St<er,[nr,sr,ir]=rr?tickSpec(St,er,tr):tickSpec(er,St,tr);if(!(sr>=nr))return[];const ar=sr-nr+1,or=new Array(ar);if(rr)if(ir<0)for(let lr=0;lr<ar;++lr)or[lr]=(sr-lr)/-ir;else for(let lr=0;lr<ar;++lr)or[lr]=(sr-lr)*ir;else if(ir<0)for(let lr=0;lr<ar;++lr)or[lr]=(nr+lr)/-ir;else for(let lr=0;lr<ar;++lr)or[lr]=(nr+lr)*ir;return or}function tickIncrement(er,St,tr){return St=+St,er=+er,tr=+tr,tickSpec(er,St,tr)[2]}function tickStep(er,St,tr){St=+St,er=+er,tr=+tr;const rr=St<er,nr=rr?tickIncrement(St,er,tr):tickIncrement(er,St,tr);return(rr?-1:1)*(nr<0?1/-nr:nr)}function max$2(er,St){let tr;for(const rr of er)rr!=null&&(tr<rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function min$1(er,St){let tr;for(const rr of er)rr!=null&&(tr>rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function quickselect(er,St,tr=0,rr=1/0,nr){if(St=Math.floor(St),tr=Math.floor(Math.max(0,tr)),rr=Math.floor(Math.min(er.length-1,rr)),!(tr<=St&&St<=rr))return er;for(nr=nr===void 0?ascendingDefined:compareDefined(nr);rr>tr;){if(rr-tr>600){const or=rr-tr+1,lr=St-tr+1,cr=Math.log(or),ur=.5*Math.exp(2*cr/3),dr=.5*Math.sqrt(cr*ur*(or-ur)/or)*(lr-or/2<0?-1:1),hr=Math.max(tr,Math.floor(St-lr*ur/or+dr)),Ar=Math.min(rr,Math.floor(St+(or-lr)*ur/or+dr));quickselect(er,St,hr,Ar,nr)}const sr=er[St];let ir=tr,ar=rr;for(swap(er,tr,St),nr(er[rr],sr)>0&&swap(er,tr,rr);ir<ar;){for(swap(er,ir,ar),++ir,--ar;nr(er[ir],sr)<0;)++ir;for(;nr(er[ar],sr)>0;)--ar}nr(er[tr],sr)===0?swap(er,tr,ar):(++ar,swap(er,ar,rr)),ar<=St&&(tr=ar+1),St<=ar&&(rr=ar-1)}return er}function swap(er,St,tr){const rr=er[St];er[St]=er[tr],er[tr]=rr}function quantile$1(er,St,tr){if(er=Float64Array.from(numbers(er)),!(!(rr=er.length)||isNaN(St=+St))){if(St<=0||rr<2)return min$1(er);if(St>=1)return max$2(er);var rr,nr=(rr-1)*St,sr=Math.floor(nr),ir=max$2(quickselect(er,sr).subarray(0,sr+1)),ar=min$1(er.subarray(sr+1));return ir+(ar-ir)*(nr-sr)}}function quantileSorted(er,St,tr=number$3){if(!(!(rr=er.length)||isNaN(St=+St))){if(St<=0||rr<2)return+tr(er[0],0,er);if(St>=1)return+tr(er[rr-1],rr-1,er);var rr,nr=(rr-1)*St,sr=Math.floor(nr),ir=+tr(er[sr],sr,er),ar=+tr(er[sr+1],sr+1,er);return ir+(ar-ir)*(nr-sr)}}function range$1(er,St,tr){er=+er,St=+St,tr=(nr=arguments.length)<2?(St=er,er=0,1):nr<3?1:+tr;for(var rr=-1,nr=Math.max(0,Math.ceil((St-er)/tr))|0,sr=new Array(nr);++rr<nr;)sr[rr]=er+rr*tr;return sr}function initRange(er,St){switch(arguments.length){case 0:break;case 1:this.range(er);break;default:this.range(St).domain(er);break}return this}function initInterpolator(er,St){switch(arguments.length){case 0:break;case 1:{typeof er=="function"?this.interpolator(er):this.range(er);break}default:{this.domain(er),typeof St=="function"?this.interpolator(St):this.range(St);break}}return this}const implicit=Symbol("implicit");function ordinal(){var er=new InternMap,St=[],tr=[],rr=implicit;function nr(sr){let ir=er.get(sr);if(ir===void 0){if(rr!==implicit)return rr;er.set(sr,ir=St.push(sr)-1)}return tr[ir%tr.length]}return nr.domain=function(sr){if(!arguments.length)return St.slice();St=[],er=new InternMap;for(const ir of sr)er.has(ir)||er.set(ir,St.push(ir)-1);return nr},nr.range=function(sr){return arguments.length?(tr=Array.from(sr),nr):tr.slice()},nr.unknown=function(sr){return arguments.length?(rr=sr,nr):rr},nr.copy=function(){return ordinal(St,tr).unknown(rr)},initRange.apply(nr,arguments),nr}function band(){var er=ordinal().unknown(void 0),St=er.domain,tr=er.range,rr=0,nr=1,sr,ir,ar=!1,or=0,lr=0,cr=.5;delete er.unknown;function ur(){var dr=St().length,hr=nr<rr,Ar=hr?nr:rr,fr=hr?rr:nr;sr=(fr-Ar)/Math.max(1,dr-or+lr*2),ar&&(sr=Math.floor(sr)),Ar+=(fr-Ar-sr*(dr-or))*cr,ir=sr*(1-or),ar&&(Ar=Math.round(Ar),ir=Math.round(ir));var mr=range$1(dr).map(function(pr){return Ar+sr*pr});return tr(hr?mr.reverse():mr)}return er.domain=function(dr){return arguments.length?(St(dr),ur()):St()},er.range=function(dr){return arguments.length?([rr,nr]=dr,rr=+rr,nr=+nr,ur()):[rr,nr]},er.rangeRound=function(dr){return[rr,nr]=dr,rr=+rr,nr=+nr,ar=!0,ur()},er.bandwidth=function(){return ir},er.step=function(){return sr},er.round=function(dr){return arguments.length?(ar=!!dr,ur()):ar},er.padding=function(dr){return arguments.length?(or=Math.min(1,lr=+dr),ur()):or},er.paddingInner=function(dr){return arguments.length?(or=Math.min(1,dr),ur()):or},er.paddingOuter=function(dr){return arguments.length?(lr=+dr,ur()):lr},er.align=function(dr){return arguments.length?(cr=Math.max(0,Math.min(1,dr)),ur()):cr},er.copy=function(){return band(St(),[rr,nr]).round(ar).paddingInner(or).paddingOuter(lr).align(cr)},initRange.apply(ur(),arguments)}function pointish(er){var St=er.copy;return er.padding=er.paddingOuter,delete er.paddingInner,delete er.paddingOuter,er.copy=function(){return pointish(St())},er}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(er,St,tr){er.prototype=St.prototype=tr,tr.constructor=er}function extend(er,St){var tr=Object.create(er.prototype);for(var rr in St)tr[rr]=St[rr];return tr}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$3,{copy(er){return Object.assign(new this.constructor,this,er)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$3(er){var St,tr;return er=(er+"").trim().toLowerCase(),(St=reHex.exec(er))?(tr=St[1].length,St=parseInt(St[1],16),tr===6?rgbn(St):tr===3?new Rgb(St>>8&15|St>>4&240,St>>4&15|St&240,(St&15)<<4|St&15,1):tr===8?rgba$1(St>>24&255,St>>16&255,St>>8&255,(St&255)/255):tr===4?rgba$1(St>>12&15|St>>8&240,St>>8&15|St>>4&240,St>>4&15|St&240,((St&15)<<4|St&15)/255):null):(St=reRgbInteger.exec(er))?new Rgb(St[1],St[2],St[3],1):(St=reRgbPercent.exec(er))?new Rgb(St[1]*255/100,St[2]*255/100,St[3]*255/100,1):(St=reRgbaInteger.exec(er))?rgba$1(St[1],St[2],St[3],St[4]):(St=reRgbaPercent.exec(er))?rgba$1(St[1]*255/100,St[2]*255/100,St[3]*255/100,St[4]):(St=reHslPercent.exec(er))?hsla$1(St[1],St[2]/100,St[3]/100,1):(St=reHslaPercent.exec(er))?hsla$1(St[1],St[2]/100,St[3]/100,St[4]):named.hasOwnProperty(er)?rgbn(named[er]):er==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(er){return new Rgb(er>>16&255,er>>8&255,er&255,1)}function rgba$1(er,St,tr,rr){return rr<=0&&(er=St=tr=NaN),new Rgb(er,St,tr,rr)}function rgbConvert(er){return er instanceof Color||(er=color$3(er)),er?(er=er.rgb(),new Rgb(er.r,er.g,er.b,er.opacity)):new Rgb}function rgb$2(er,St,tr,rr){return arguments.length===1?rgbConvert(er):new Rgb(er,St,tr,rr??1)}function Rgb(er,St,tr,rr){this.r=+er,this.g=+St,this.b=+tr,this.opacity=+rr}define(Rgb,rgb$2,extend(Color,{brighter(er){return er=er==null?brighter:Math.pow(brighter,er),new Rgb(this.r*er,this.g*er,this.b*er,this.opacity)},darker(er){return er=er==null?darker:Math.pow(darker,er),new Rgb(this.r*er,this.g*er,this.b*er,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}`}function rgb_formatHex8(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}${hex$1((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const er=clampa(this.opacity);return`${er===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${er===1?")":`, ${er})`}`}function clampa(er){return isNaN(er)?1:Math.max(0,Math.min(1,er))}function clampi(er){return Math.max(0,Math.min(255,Math.round(er)||0))}function hex$1(er){return er=clampi(er),(er<16?"0":"")+er.toString(16)}function hsla$1(er,St,tr,rr){return rr<=0?er=St=tr=NaN:tr<=0||tr>=1?er=St=NaN:St<=0&&(er=NaN),new Hsl(er,St,tr,rr)}function hslConvert(er){if(er instanceof Hsl)return new Hsl(er.h,er.s,er.l,er.opacity);if(er instanceof Color||(er=color$3(er)),!er)return new Hsl;if(er instanceof Hsl)return er;er=er.rgb();var St=er.r/255,tr=er.g/255,rr=er.b/255,nr=Math.min(St,tr,rr),sr=Math.max(St,tr,rr),ir=NaN,ar=sr-nr,or=(sr+nr)/2;return ar?(St===sr?ir=(tr-rr)/ar+(tr<rr)*6:tr===sr?ir=(rr-St)/ar+2:ir=(St-tr)/ar+4,ar/=or<.5?sr+nr:2-sr-nr,ir*=60):ar=or>0&&or<1?0:ir,new Hsl(ir,ar,or,er.opacity)}function hsl$1(er,St,tr,rr){return arguments.length===1?hslConvert(er):new Hsl(er,St,tr,rr??1)}function Hsl(er,St,tr,rr){this.h=+er,this.s=+St,this.l=+tr,this.opacity=+rr}define(Hsl,hsl$1,extend(Color,{brighter(er){return er=er==null?brighter:Math.pow(brighter,er),new Hsl(this.h,this.s,this.l*er,this.opacity)},darker(er){return er=er==null?darker:Math.pow(darker,er),new Hsl(this.h,this.s,this.l*er,this.opacity)},rgb(){var er=this.h%360+(this.h<0)*360,St=isNaN(er)||isNaN(this.s)?0:this.s,tr=this.l,rr=tr+(tr<.5?tr:1-tr)*St,nr=2*tr-rr;return new Rgb(hsl2rgb(er>=240?er-240:er+120,nr,rr),hsl2rgb(er,nr,rr),hsl2rgb(er<120?er+240:er-120,nr,rr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const er=clampa(this.opacity);return`${er===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${er===1?")":`, ${er})`}`}}));function clamph(er){return er=(er||0)%360,er<0?er+360:er}function clampt(er){return Math.max(0,Math.min(1,er||0))}function hsl2rgb(er,St,tr){return(er<60?St+(tr-St)*er/60:er<180?tr:er<240?St+(tr-St)*(240-er)/60:St)*255}const constant=er=>()=>er;function linear$1(er,St){return function(tr){return er+tr*St}}function exponential(er,St,tr){return er=Math.pow(er,tr),St=Math.pow(St,tr)-er,tr=1/tr,function(rr){return Math.pow(er+rr*St,tr)}}function gamma(er){return(er=+er)==1?nogamma:function(St,tr){return tr-St?exponential(St,tr,er):constant(isNaN(St)?tr:St)}}function nogamma(er,St){var tr=St-er;return tr?linear$1(er,tr):constant(isNaN(er)?St:er)}const rgb$1=function er(St){var tr=gamma(St);function rr(nr,sr){var ir=tr((nr=rgb$2(nr)).r,(sr=rgb$2(sr)).r),ar=tr(nr.g,sr.g),or=tr(nr.b,sr.b),lr=nogamma(nr.opacity,sr.opacity);return function(cr){return nr.r=ir(cr),nr.g=ar(cr),nr.b=or(cr),nr.opacity=lr(cr),nr+""}}return rr.gamma=er,rr}(1);function numberArray(er,St){St||(St=[]);var tr=er?Math.min(St.length,er.length):0,rr=St.slice(),nr;return function(sr){for(nr=0;nr<tr;++nr)rr[nr]=er[nr]*(1-sr)+St[nr]*sr;return rr}}function isNumberArray(er){return ArrayBuffer.isView(er)&&!(er instanceof DataView)}function genericArray(er,St){var tr=St?St.length:0,rr=er?Math.min(tr,er.length):0,nr=new Array(rr),sr=new Array(tr),ir;for(ir=0;ir<rr;++ir)nr[ir]=interpolate$1(er[ir],St[ir]);for(;ir<tr;++ir)sr[ir]=St[ir];return function(ar){for(ir=0;ir<rr;++ir)sr[ir]=nr[ir](ar);return sr}}function date$1(er,St){var tr=new Date;return er=+er,St=+St,function(rr){return tr.setTime(er*(1-rr)+St*rr),tr}}function interpolateNumber(er,St){return er=+er,St=+St,function(tr){return er*(1-tr)+St*tr}}function object(er,St){var tr={},rr={},nr;(er===null||typeof er!="object")&&(er={}),(St===null||typeof St!="object")&&(St={});for(nr in St)nr in er?tr[nr]=interpolate$1(er[nr],St[nr]):rr[nr]=St[nr];return function(sr){for(nr in tr)rr[nr]=tr[nr](sr);return rr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(er){return function(){return er}}function one(er){return function(St){return er(St)+""}}function string(er,St){var tr=reA.lastIndex=reB.lastIndex=0,rr,nr,sr,ir=-1,ar=[],or=[];for(er=er+"",St=St+"";(rr=reA.exec(er))&&(nr=reB.exec(St));)(sr=nr.index)>tr&&(sr=St.slice(tr,sr),ar[ir]?ar[ir]+=sr:ar[++ir]=sr),(rr=rr[0])===(nr=nr[0])?ar[ir]?ar[ir]+=nr:ar[++ir]=nr:(ar[++ir]=null,or.push({i:ir,x:interpolateNumber(rr,nr)})),tr=reB.lastIndex;return tr<St.length&&(sr=St.slice(tr),ar[ir]?ar[ir]+=sr:ar[++ir]=sr),ar.length<2?or[0]?one(or[0].x):zero(St):(St=or.length,function(lr){for(var cr=0,ur;cr<St;++cr)ar[(ur=or[cr]).i]=ur.x(lr);return ar.join("")})}function interpolate$1(er,St){var tr=typeof St,rr;return St==null||tr==="boolean"?constant(St):(tr==="number"?interpolateNumber:tr==="string"?(rr=color$3(St))?(St=rr,rgb$1):string:St instanceof color$3?rgb$1:St instanceof Date?date$1:isNumberArray(St)?numberArray:Array.isArray(St)?genericArray:typeof St.valueOf!="function"&&typeof St.toString!="function"||isNaN(St)?object:interpolateNumber)(er,St)}function interpolateRound(er,St){return er=+er,St=+St,function(tr){return Math.round(er*(1-tr)+St*tr)}}function piecewise(er,St){St===void 0&&(St=er,er=interpolate$1);for(var tr=0,rr=St.length-1,nr=St[0],sr=new Array(rr<0?0:rr);tr<rr;)sr[tr]=er(nr,nr=St[++tr]);return function(ir){var ar=Math.max(0,Math.min(rr-1,Math.floor(ir*=rr)));return sr[ar](ir-ar)}}function constants(er){return function(){return er}}function number$2(er){return+er}var unit=[0,1];function identity$3(er){return er}function normalize(er,St){return(St-=er=+er)?function(tr){return(tr-er)/St}:constants(isNaN(St)?NaN:.5)}function clamper(er,St){var tr;return er>St&&(tr=er,er=St,St=tr),function(rr){return Math.max(er,Math.min(St,rr))}}function bimap(er,St,tr){var rr=er[0],nr=er[1],sr=St[0],ir=St[1];return nr<rr?(rr=normalize(nr,rr),sr=tr(ir,sr)):(rr=normalize(rr,nr),sr=tr(sr,ir)),function(ar){return sr(rr(ar))}}function polymap(er,St,tr){var rr=Math.min(er.length,St.length)-1,nr=new Array(rr),sr=new Array(rr),ir=-1;for(er[rr]<er[0]&&(er=er.slice().reverse(),St=St.slice().reverse());++ir<rr;)nr[ir]=normalize(er[ir],er[ir+1]),sr[ir]=tr(St[ir],St[ir+1]);return function(ar){var or=bisectRight(er,ar,1,rr)-1;return sr[or](nr[or](ar))}}function copy$1(er,St){return St.domain(er.domain()).range(er.range()).interpolate(er.interpolate()).clamp(er.clamp()).unknown(er.unknown())}function transformer$2(){var er=unit,St=unit,tr=interpolate$1,rr,nr,sr,ir=identity$3,ar,or,lr;function cr(){var dr=Math.min(er.length,St.length);return ir!==identity$3&&(ir=clamper(er[0],er[dr-1])),ar=dr>2?polymap:bimap,or=lr=null,ur}function ur(dr){return dr==null||isNaN(dr=+dr)?sr:(or||(or=ar(er.map(rr),St,tr)))(rr(ir(dr)))}return ur.invert=function(dr){return ir(nr((lr||(lr=ar(St,er.map(rr),interpolateNumber)))(dr)))},ur.domain=function(dr){return arguments.length?(er=Array.from(dr,number$2),cr()):er.slice()},ur.range=function(dr){return arguments.length?(St=Array.from(dr),cr()):St.slice()},ur.rangeRound=function(dr){return St=Array.from(dr),tr=interpolateRound,cr()},ur.clamp=function(dr){return arguments.length?(ir=dr?!0:identity$3,cr()):ir!==identity$3},ur.interpolate=function(dr){return arguments.length?(tr=dr,cr()):tr},ur.unknown=function(dr){return arguments.length?(sr=dr,ur):sr},function(dr,hr){return rr=dr,nr=hr,cr()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(er){return Math.abs(er=Math.round(er))>=1e21?er.toLocaleString("en").replace(/,/g,""):er.toString(10)}function formatDecimalParts(er,St){if((tr=(er=St?er.toExponential(St-1):er.toExponential()).indexOf("e"))<0)return null;var tr,rr=er.slice(0,tr);return[rr.length>1?rr[0]+rr.slice(2):rr,+er.slice(tr+1)]}function exponent(er){return er=formatDecimalParts(Math.abs(er)),er?er[1]:NaN}function formatGroup(er,St){return function(tr,rr){for(var nr=tr.length,sr=[],ir=0,ar=er[0],or=0;nr>0&&ar>0&&(or+ar+1>rr&&(ar=Math.max(1,rr-or)),sr.push(tr.substring(nr-=ar,nr+ar)),!((or+=ar+1)>rr));)ar=er[ir=(ir+1)%er.length];return sr.reverse().join(St)}}function formatNumerals(er){return function(St){return St.replace(/[0-9]/g,function(tr){return er[+tr]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(er){if(!(St=re$2.exec(er)))throw new Error("invalid format: "+er);var St;return new FormatSpecifier({fill:St[1],align:St[2],sign:St[3],symbol:St[4],zero:St[5],width:St[6],comma:St[7],precision:St[8]&&St[8].slice(1),trim:St[9],type:St[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(er){this.fill=er.fill===void 0?" ":er.fill+"",this.align=er.align===void 0?">":er.align+"",this.sign=er.sign===void 0?"-":er.sign+"",this.symbol=er.symbol===void 0?"":er.symbol+"",this.zero=!!er.zero,this.width=er.width===void 0?void 0:+er.width,this.comma=!!er.comma,this.precision=er.precision===void 0?void 0:+er.precision,this.trim=!!er.trim,this.type=er.type===void 0?"":er.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(er){e:for(var St=er.length,tr=1,rr=-1,nr;tr<St;++tr)switch(er[tr]){case".":rr=nr=tr;break;case"0":rr===0&&(rr=tr),nr=tr;break;default:if(!+er[tr])break e;rr>0&&(rr=0);break}return rr>0?er.slice(0,rr)+er.slice(nr+1):er}var prefixExponent;function formatPrefixAuto(er,St){var tr=formatDecimalParts(er,St);if(!tr)return er+"";var rr=tr[0],nr=tr[1],sr=nr-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nr/3)))*3)+1,ir=rr.length;return sr===ir?rr:sr>ir?rr+new Array(sr-ir+1).join("0"):sr>0?rr.slice(0,sr)+"."+rr.slice(sr):"0."+new Array(1-sr).join("0")+formatDecimalParts(er,Math.max(0,St+sr-1))[0]}function formatRounded(er,St){var tr=formatDecimalParts(er,St);if(!tr)return er+"";var rr=tr[0],nr=tr[1];return nr<0?"0."+new Array(-nr).join("0")+rr:rr.length>nr+1?rr.slice(0,nr+1)+"."+rr.slice(nr+1):rr+new Array(nr-rr.length+2).join("0")}const formatTypes={"%":(er,St)=>(er*100).toFixed(St),b:er=>Math.round(er).toString(2),c:er=>er+"",d:formatDecimal,e:(er,St)=>er.toExponential(St),f:(er,St)=>er.toFixed(St),g:(er,St)=>er.toPrecision(St),o:er=>Math.round(er).toString(8),p:(er,St)=>formatRounded(er*100,St),r:formatRounded,s:formatPrefixAuto,X:er=>Math.round(er).toString(16).toUpperCase(),x:er=>Math.round(er).toString(16)};function identity$2(er){return er}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(er){var St=er.grouping===void 0||er.thousands===void 0?identity$2:formatGroup(map$1.call(er.grouping,Number),er.thousands+""),tr=er.currency===void 0?"":er.currency[0]+"",rr=er.currency===void 0?"":er.currency[1]+"",nr=er.decimal===void 0?".":er.decimal+"",sr=er.numerals===void 0?identity$2:formatNumerals(map$1.call(er.numerals,String)),ir=er.percent===void 0?"%":er.percent+"",ar=er.minus===void 0?"":er.minus+"",or=er.nan===void 0?"NaN":er.nan+"";function lr(ur){ur=formatSpecifier(ur);var dr=ur.fill,hr=ur.align,Ar=ur.sign,fr=ur.symbol,mr=ur.zero,pr=ur.width,gr=ur.comma,xr=ur.precision,yr=ur.trim,Er=ur.type;Er==="n"?(gr=!0,Er="g"):formatTypes[Er]||(xr===void 0&&(xr=12),yr=!0,Er="g"),(mr||dr==="0"&&hr==="=")&&(mr=!0,dr="0",hr="=");var _r=fr==="$"?tr:fr==="#"&&/[boxX]/.test(Er)?"0"+Er.toLowerCase():"",Sr=fr==="$"?rr:/[%p]/.test(Er)?ir:"",jr=formatTypes[Er],Pr=/[defgprs%]/.test(Er);xr=xr===void 0?6:/[gprs]/.test(Er)?Math.max(1,Math.min(21,xr)):Math.max(0,Math.min(20,xr));function Mr(Ir){var Lr=_r,Qr=Sr,Yr,Gr,$r;if(Er==="c")Qr=jr(Ir)+Qr,Ir="";else{Ir=+Ir;var Vr=Ir<0||1/Ir<0;if(Ir=isNaN(Ir)?or:jr(Math.abs(Ir),xr),yr&&(Ir=formatTrim(Ir)),Vr&&+Ir==0&&Ar!=="+"&&(Vr=!1),Lr=(Vr?Ar==="("?Ar:ar:Ar==="-"||Ar==="("?"":Ar)+Lr,Qr=(Er==="s"?prefixes[8+prefixExponent/3]:"")+Qr+(Vr&&Ar==="("?")":""),Pr){for(Yr=-1,Gr=Ir.length;++Yr<Gr;)if($r=Ir.charCodeAt(Yr),48>$r||$r>57){Qr=($r===46?nr+Ir.slice(Yr+1):Ir.slice(Yr))+Qr,Ir=Ir.slice(0,Yr);break}}}gr&&!mr&&(Ir=St(Ir,1/0));var Tr=Lr.length+Ir.length+Qr.length,Fr=Tr<pr?new Array(pr-Tr+1).join(dr):"";switch(gr&&mr&&(Ir=St(Fr+Ir,Fr.length?pr-Qr.length:1/0),Fr=""),hr){case"<":Ir=Lr+Ir+Qr+Fr;break;case"=":Ir=Lr+Fr+Ir+Qr;break;case"^":Ir=Fr.slice(0,Tr=Fr.length>>1)+Lr+Ir+Qr+Fr.slice(Tr);break;default:Ir=Fr+Lr+Ir+Qr;break}return sr(Ir)}return Mr.toString=function(){return ur+""},Mr}function cr(ur,dr){var hr=lr((ur=formatSpecifier(ur),ur.type="f",ur)),Ar=Math.max(-8,Math.min(8,Math.floor(exponent(dr)/3)))*3,fr=Math.pow(10,-Ar),mr=prefixes[8+Ar/3];return function(pr){return hr(fr*pr)+mr}}return{format:lr,formatPrefix:cr}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(er){return locale$1=formatLocale$1(er),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(er){return Math.max(0,-exponent(Math.abs(er)))}function precisionPrefix(er,St){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(St)/3)))*3-exponent(Math.abs(er)))}function precisionRound(er,St){return er=Math.abs(er),St=Math.abs(St)-er,Math.max(0,exponent(St)-exponent(er))+1}function tickFormat(er,St,tr,rr){var nr=tickStep(er,St,tr),sr;switch(rr=formatSpecifier(rr??",f"),rr.type){case"s":{var ir=Math.max(Math.abs(er),Math.abs(St));return rr.precision==null&&!isNaN(sr=precisionPrefix(nr,ir))&&(rr.precision=sr),formatPrefix(rr,ir)}case"":case"e":case"g":case"p":case"r":{rr.precision==null&&!isNaN(sr=precisionRound(nr,Math.max(Math.abs(er),Math.abs(St))))&&(rr.precision=sr-(rr.type==="e"));break}case"f":case"%":{rr.precision==null&&!isNaN(sr=precisionFixed(nr))&&(rr.precision=sr-(rr.type==="%")*2);break}}return format$1(rr)}function linearish(er){var St=er.domain;return er.ticks=function(tr){var rr=St();return ticks(rr[0],rr[rr.length-1],tr??10)},er.tickFormat=function(tr,rr){var nr=St();return tickFormat(nr[0],nr[nr.length-1],tr??10,rr)},er.nice=function(tr){tr==null&&(tr=10);var rr=St(),nr=0,sr=rr.length-1,ir=rr[nr],ar=rr[sr],or,lr,cr=10;for(ar<ir&&(lr=ir,ir=ar,ar=lr,lr=nr,nr=sr,sr=lr);cr-- >0;){if(lr=tickIncrement(ir,ar,tr),lr===or)return rr[nr]=ir,rr[sr]=ar,St(rr);if(lr>0)ir=Math.floor(ir/lr)*lr,ar=Math.ceil(ar/lr)*lr;else if(lr<0)ir=Math.ceil(ir*lr)/lr,ar=Math.floor(ar*lr)/lr;else break;or=lr}return er},er}function linear(){var er=continuous();return er.copy=function(){return copy$1(er,linear())},initRange.apply(er,arguments),linearish(er)}function identity$1(er){var St;function tr(rr){return rr==null||isNaN(rr=+rr)?St:rr}return tr.invert=tr,tr.domain=tr.range=function(rr){return arguments.length?(er=Array.from(rr,number$2),tr):er.slice()},tr.unknown=function(rr){return arguments.length?(St=rr,tr):St},tr.copy=function(){return identity$1(er).unknown(St)},er=arguments.length?Array.from(er,number$2):[0,1],linearish(tr)}function nice(er,St){er=er.slice();var tr=0,rr=er.length-1,nr=er[tr],sr=er[rr],ir;return sr<nr&&(ir=tr,tr=rr,rr=ir,ir=nr,nr=sr,sr=ir),er[tr]=St.floor(nr),er[rr]=St.ceil(sr),er}function transformLog(er){return Math.log(er)}function transformExp(er){return Math.exp(er)}function transformLogn(er){return-Math.log(-er)}function transformExpn(er){return-Math.exp(-er)}function pow10(er){return isFinite(er)?+("1e"+er):er<0?0:er}function powp(er){return er===10?pow10:er===Math.E?Math.exp:St=>Math.pow(er,St)}function logp(er){return er===Math.E?Math.log:er===10&&Math.log10||er===2&&Math.log2||(er=Math.log(er),St=>Math.log(St)/er)}function reflect(er){return(St,tr)=>-er(-St,tr)}function loggish(er){const St=er(transformLog,transformExp),tr=St.domain;let rr=10,nr,sr;function ir(){return nr=logp(rr),sr=powp(rr),tr()[0]<0?(nr=reflect(nr),sr=reflect(sr),er(transformLogn,transformExpn)):er(transformLog,transformExp),St}return St.base=function(ar){return arguments.length?(rr=+ar,ir()):rr},St.domain=function(ar){return arguments.length?(tr(ar),ir()):tr()},St.ticks=ar=>{const or=tr();let lr=or[0],cr=or[or.length-1];const ur=cr<lr;ur&&([lr,cr]=[cr,lr]);let dr=nr(lr),hr=nr(cr),Ar,fr;const mr=ar==null?10:+ar;let pr=[];if(!(rr%1)&&hr-dr<mr){if(dr=Math.floor(dr),hr=Math.ceil(hr),lr>0){for(;dr<=hr;++dr)for(Ar=1;Ar<rr;++Ar)if(fr=dr<0?Ar/sr(-dr):Ar*sr(dr),!(fr<lr)){if(fr>cr)break;pr.push(fr)}}else for(;dr<=hr;++dr)for(Ar=rr-1;Ar>=1;--Ar)if(fr=dr>0?Ar/sr(-dr):Ar*sr(dr),!(fr<lr)){if(fr>cr)break;pr.push(fr)}pr.length*2<mr&&(pr=ticks(lr,cr,mr))}else pr=ticks(dr,hr,Math.min(hr-dr,mr)).map(sr);return ur?pr.reverse():pr},St.tickFormat=(ar,or)=>{if(ar==null&&(ar=10),or==null&&(or=rr===10?"s":","),typeof or!="function"&&(!(rr%1)&&(or=formatSpecifier(or)).precision==null&&(or.trim=!0),or=format$1(or)),ar===1/0)return or;const lr=Math.max(1,rr*ar/St.ticks().length);return cr=>{let ur=cr/sr(Math.round(nr(cr)));return ur*rr<rr-.5&&(ur*=rr),ur<=lr?or(cr):""}},St.nice=()=>tr(nice(tr(),{floor:ar=>sr(Math.floor(nr(ar))),ceil:ar=>sr(Math.ceil(nr(ar)))})),St}function log(){const er=loggish(transformer$2()).domain([1,10]);return er.copy=()=>copy$1(er,log()).base(er.base()),initRange.apply(er,arguments),er}function transformSymlog(er){return function(St){return Math.sign(St)*Math.log1p(Math.abs(St/er))}}function transformSymexp(er){return function(St){return Math.sign(St)*Math.expm1(Math.abs(St))*er}}function symlogish(er){var St=1,tr=er(transformSymlog(St),transformSymexp(St));return tr.constant=function(rr){return arguments.length?er(transformSymlog(St=+rr),transformSymexp(St)):St},linearish(tr)}function symlog(){var er=symlogish(transformer$2());return er.copy=function(){return copy$1(er,symlog()).constant(er.constant())},initRange.apply(er,arguments)}function transformPow(er){return function(St){return St<0?-Math.pow(-St,er):Math.pow(St,er)}}function transformSqrt(er){return er<0?-Math.sqrt(-er):Math.sqrt(er)}function transformSquare(er){return er<0?-er*er:er*er}function powish(er){var St=er(identity$3,identity$3),tr=1;function rr(){return tr===1?er(identity$3,identity$3):tr===.5?er(transformSqrt,transformSquare):er(transformPow(tr),transformPow(1/tr))}return St.exponent=function(nr){return arguments.length?(tr=+nr,rr()):tr},linearish(St)}function pow(){var er=powish(transformer$2());return er.copy=function(){return copy$1(er,pow()).exponent(er.exponent())},initRange.apply(er,arguments),er}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(er){return Math.sign(er)*er*er}function unsquare(er){return Math.sign(er)*Math.sqrt(Math.abs(er))}function radial(){var er=continuous(),St=[0,1],tr=!1,rr;function nr(sr){var ir=unsquare(er(sr));return isNaN(ir)?rr:tr?Math.round(ir):ir}return nr.invert=function(sr){return er.invert(square(sr))},nr.domain=function(sr){return arguments.length?(er.domain(sr),nr):er.domain()},nr.range=function(sr){return arguments.length?(er.range((St=Array.from(sr,number$2)).map(square)),nr):St.slice()},nr.rangeRound=function(sr){return nr.range(sr).round(!0)},nr.round=function(sr){return arguments.length?(tr=!!sr,nr):tr},nr.clamp=function(sr){return arguments.length?(er.clamp(sr),nr):er.clamp()},nr.unknown=function(sr){return arguments.length?(rr=sr,nr):rr},nr.copy=function(){return radial(er.domain(),St).round(tr).clamp(er.clamp()).unknown(rr)},initRange.apply(nr,arguments),linearish(nr)}function quantile(){var er=[],St=[],tr=[],rr;function nr(){var ir=0,ar=Math.max(1,St.length);for(tr=new Array(ar-1);++ir<ar;)tr[ir-1]=quantileSorted(er,ir/ar);return sr}function sr(ir){return ir==null||isNaN(ir=+ir)?rr:St[bisectRight(tr,ir)]}return sr.invertExtent=function(ir){var ar=St.indexOf(ir);return ar<0?[NaN,NaN]:[ar>0?tr[ar-1]:er[0],ar<tr.length?tr[ar]:er[er.length-1]]},sr.domain=function(ir){if(!arguments.length)return er.slice();er=[];for(let ar of ir)ar!=null&&!isNaN(ar=+ar)&&er.push(ar);return er.sort(ascending),nr()},sr.range=function(ir){return arguments.length?(St=Array.from(ir),nr()):St.slice()},sr.unknown=function(ir){return arguments.length?(rr=ir,sr):rr},sr.quantiles=function(){return tr.slice()},sr.copy=function(){return quantile().domain(er).range(St).unknown(rr)},initRange.apply(sr,arguments)}function quantize(){var er=0,St=1,tr=1,rr=[.5],nr=[0,1],sr;function ir(or){return or!=null&&or<=or?nr[bisectRight(rr,or,0,tr)]:sr}function ar(){var or=-1;for(rr=new Array(tr);++or<tr;)rr[or]=((or+1)*St-(or-tr)*er)/(tr+1);return ir}return ir.domain=function(or){return arguments.length?([er,St]=or,er=+er,St=+St,ar()):[er,St]},ir.range=function(or){return arguments.length?(tr=(nr=Array.from(or)).length-1,ar()):nr.slice()},ir.invertExtent=function(or){var lr=nr.indexOf(or);return lr<0?[NaN,NaN]:lr<1?[er,rr[0]]:lr>=tr?[rr[tr-1],St]:[rr[lr-1],rr[lr]]},ir.unknown=function(or){return arguments.length&&(sr=or),ir},ir.thresholds=function(){return rr.slice()},ir.copy=function(){return quantize().domain([er,St]).range(nr).unknown(sr)},initRange.apply(linearish(ir),arguments)}function threshold(){var er=[.5],St=[0,1],tr,rr=1;function nr(sr){return sr!=null&&sr<=sr?St[bisectRight(er,sr,0,rr)]:tr}return nr.domain=function(sr){return arguments.length?(er=Array.from(sr),rr=Math.min(er.length,St.length-1),nr):er.slice()},nr.range=function(sr){return arguments.length?(St=Array.from(sr),rr=Math.min(er.length,St.length-1),nr):St.slice()},nr.invertExtent=function(sr){var ir=St.indexOf(sr);return[er[ir-1],er[ir]]},nr.unknown=function(sr){return arguments.length?(tr=sr,nr):tr},nr.copy=function(){return threshold().domain(er).range(St).unknown(tr)},initRange.apply(nr,arguments)}const t0=new Date,t1=new Date;function timeInterval(er,St,tr,rr){function nr(sr){return er(sr=arguments.length===0?new Date:new Date(+sr)),sr}return nr.floor=sr=>(er(sr=new Date(+sr)),sr),nr.ceil=sr=>(er(sr=new Date(sr-1)),St(sr,1),er(sr),sr),nr.round=sr=>{const ir=nr(sr),ar=nr.ceil(sr);return sr-ir<ar-sr?ir:ar},nr.offset=(sr,ir)=>(St(sr=new Date(+sr),ir==null?1:Math.floor(ir)),sr),nr.range=(sr,ir,ar)=>{const or=[];if(sr=nr.ceil(sr),ar=ar==null?1:Math.floor(ar),!(sr<ir)||!(ar>0))return or;let lr;do or.push(lr=new Date(+sr)),St(sr,ar),er(sr);while(lr<sr&&sr<ir);return or},nr.filter=sr=>timeInterval(ir=>{if(ir>=ir)for(;er(ir),!sr(ir);)ir.setTime(ir-1)},(ir,ar)=>{if(ir>=ir)if(ar<0)for(;++ar<=0;)for(;St(ir,-1),!sr(ir););else for(;--ar>=0;)for(;St(ir,1),!sr(ir););}),tr&&(nr.count=(sr,ir)=>(t0.setTime(+sr),t1.setTime(+ir),er(t0),er(t1),Math.floor(tr(t0,t1))),nr.every=sr=>(sr=Math.floor(sr),!isFinite(sr)||!(sr>0)?null:sr>1?nr.filter(rr?ir=>rr(ir)%sr===0:ir=>nr.count(0,ir)%sr===0):nr)),nr}const millisecond=timeInterval(()=>{},(er,St)=>{er.setTime(+er+St)},(er,St)=>St-er);millisecond.every=er=>(er=Math.floor(er),!isFinite(er)||!(er>0)?null:er>1?timeInterval(St=>{St.setTime(Math.floor(St/er)*er)},(St,tr)=>{St.setTime(+St+tr*er)},(St,tr)=>(tr-St)/er):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(er=>{er.setTime(er-er.getMilliseconds())},(er,St)=>{er.setTime(+er+St*durationSecond)},(er,St)=>(St-er)/durationSecond,er=>er.getUTCSeconds());second.range;const timeMinute=timeInterval(er=>{er.setTime(er-er.getMilliseconds()-er.getSeconds()*durationSecond)},(er,St)=>{er.setTime(+er+St*durationMinute)},(er,St)=>(St-er)/durationMinute,er=>er.getMinutes());timeMinute.range;const utcMinute=timeInterval(er=>{er.setUTCSeconds(0,0)},(er,St)=>{er.setTime(+er+St*durationMinute)},(er,St)=>(St-er)/durationMinute,er=>er.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(er=>{er.setTime(er-er.getMilliseconds()-er.getSeconds()*durationSecond-er.getMinutes()*durationMinute)},(er,St)=>{er.setTime(+er+St*durationHour)},(er,St)=>(St-er)/durationHour,er=>er.getHours());timeHour.range;const utcHour=timeInterval(er=>{er.setUTCMinutes(0,0,0)},(er,St)=>{er.setTime(+er+St*durationHour)},(er,St)=>(St-er)/durationHour,er=>er.getUTCHours());utcHour.range;const timeDay=timeInterval(er=>er.setHours(0,0,0,0),(er,St)=>er.setDate(er.getDate()+St),(er,St)=>(St-er-(St.getTimezoneOffset()-er.getTimezoneOffset())*durationMinute)/durationDay,er=>er.getDate()-1);timeDay.range;const utcDay=timeInterval(er=>{er.setUTCHours(0,0,0,0)},(er,St)=>{er.setUTCDate(er.getUTCDate()+St)},(er,St)=>(St-er)/durationDay,er=>er.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(er=>{er.setUTCHours(0,0,0,0)},(er,St)=>{er.setUTCDate(er.getUTCDate()+St)},(er,St)=>(St-er)/durationDay,er=>Math.floor(er/durationDay));unixDay.range;function timeWeekday(er){return timeInterval(St=>{St.setDate(St.getDate()-(St.getDay()+7-er)%7),St.setHours(0,0,0,0)},(St,tr)=>{St.setDate(St.getDate()+tr*7)},(St,tr)=>(tr-St-(tr.getTimezoneOffset()-St.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(er){return timeInterval(St=>{St.setUTCDate(St.getUTCDate()-(St.getUTCDay()+7-er)%7),St.setUTCHours(0,0,0,0)},(St,tr)=>{St.setUTCDate(St.getUTCDate()+tr*7)},(St,tr)=>(tr-St)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(er=>{er.setDate(1),er.setHours(0,0,0,0)},(er,St)=>{er.setMonth(er.getMonth()+St)},(er,St)=>St.getMonth()-er.getMonth()+(St.getFullYear()-er.getFullYear())*12,er=>er.getMonth());timeMonth.range;const utcMonth=timeInterval(er=>{er.setUTCDate(1),er.setUTCHours(0,0,0,0)},(er,St)=>{er.setUTCMonth(er.getUTCMonth()+St)},(er,St)=>St.getUTCMonth()-er.getUTCMonth()+(St.getUTCFullYear()-er.getUTCFullYear())*12,er=>er.getUTCMonth());utcMonth.range;const timeYear=timeInterval(er=>{er.setMonth(0,1),er.setHours(0,0,0,0)},(er,St)=>{er.setFullYear(er.getFullYear()+St)},(er,St)=>St.getFullYear()-er.getFullYear(),er=>er.getFullYear());timeYear.every=er=>!isFinite(er=Math.floor(er))||!(er>0)?null:timeInterval(St=>{St.setFullYear(Math.floor(St.getFullYear()/er)*er),St.setMonth(0,1),St.setHours(0,0,0,0)},(St,tr)=>{St.setFullYear(St.getFullYear()+tr*er)});timeYear.range;const utcYear=timeInterval(er=>{er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0)},(er,St)=>{er.setUTCFullYear(er.getUTCFullYear()+St)},(er,St)=>St.getUTCFullYear()-er.getUTCFullYear(),er=>er.getUTCFullYear());utcYear.every=er=>!isFinite(er=Math.floor(er))||!(er>0)?null:timeInterval(St=>{St.setUTCFullYear(Math.floor(St.getUTCFullYear()/er)*er),St.setUTCMonth(0,1),St.setUTCHours(0,0,0,0)},(St,tr)=>{St.setUTCFullYear(St.getUTCFullYear()+tr*er)});utcYear.range;function ticker(er,St,tr,rr,nr,sr){const ir=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[sr,1,durationMinute],[sr,5,5*durationMinute],[sr,15,15*durationMinute],[sr,30,30*durationMinute],[nr,1,durationHour],[nr,3,3*durationHour],[nr,6,6*durationHour],[nr,12,12*durationHour],[rr,1,durationDay],[rr,2,2*durationDay],[tr,1,durationWeek],[St,1,durationMonth],[St,3,3*durationMonth],[er,1,durationYear]];function ar(lr,cr,ur){const dr=cr<lr;dr&&([lr,cr]=[cr,lr]);const hr=ur&&typeof ur.range=="function"?ur:or(lr,cr,ur),Ar=hr?hr.range(lr,+cr+1):[];return dr?Ar.reverse():Ar}function or(lr,cr,ur){const dr=Math.abs(cr-lr)/ur,hr=bisector(([,,mr])=>mr).right(ir,dr);if(hr===ir.length)return er.every(tickStep(lr/durationYear,cr/durationYear,ur));if(hr===0)return millisecond.every(Math.max(tickStep(lr,cr,ur),1));const[Ar,fr]=ir[dr/ir[hr-1][2]<ir[hr][2]/dr?hr-1:hr];return Ar.every(fr)}return[ar,or]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(er){if(0<=er.y&&er.y<100){var St=new Date(-1,er.m,er.d,er.H,er.M,er.S,er.L);return St.setFullYear(er.y),St}return new Date(er.y,er.m,er.d,er.H,er.M,er.S,er.L)}function utcDate(er){if(0<=er.y&&er.y<100){var St=new Date(Date.UTC(-1,er.m,er.d,er.H,er.M,er.S,er.L));return St.setUTCFullYear(er.y),St}return new Date(Date.UTC(er.y,er.m,er.d,er.H,er.M,er.S,er.L))}function newDate(er,St,tr){return{y:er,m:St,d:tr,H:0,M:0,S:0,L:0}}function formatLocale(er){var St=er.dateTime,tr=er.date,rr=er.time,nr=er.periods,sr=er.days,ir=er.shortDays,ar=er.months,or=er.shortMonths,lr=formatRe(nr),cr=formatLookup(nr),ur=formatRe(sr),dr=formatLookup(sr),hr=formatRe(ir),Ar=formatLookup(ir),fr=formatRe(ar),mr=formatLookup(ar),pr=formatRe(or),gr=formatLookup(or),xr={a:Vr,A:Tr,b:Fr,B:Wr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:qr,q:Rr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},yr={a:Or,A:Hr,b:zr,B:Zr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:nn,q:vn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Er={a:Mr,A:Ir,b:Lr,B:Qr,c:Yr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Pr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Gr,X:$r,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};xr.x=_r(tr,xr),xr.X=_r(rr,xr),xr.c=_r(St,xr),yr.x=_r(tr,yr),yr.X=_r(rr,yr),yr.c=_r(St,yr);function _r(hn,En){return function(Tn){var bn=[],Mn=-1,Rn=0,Nn=hn.length,pn,Gn,os;for(Tn instanceof Date||(Tn=new Date(+Tn));++Mn<Nn;)hn.charCodeAt(Mn)===37&&(bn.push(hn.slice(Rn,Mn)),(Gn=pads[pn=hn.charAt(++Mn)])!=null?pn=hn.charAt(++Mn):Gn=pn==="e"?" ":"0",(os=En[pn])&&(pn=os(Tn,Gn)),bn.push(pn),Rn=Mn+1);return bn.push(hn.slice(Rn,Mn)),bn.join("")}}function Sr(hn,En){return function(Tn){var bn=newDate(1900,void 0,1),Mn=jr(bn,hn,Tn+="",0),Rn,Nn;if(Mn!=Tn.length)return null;if("Q"in bn)return new Date(bn.Q);if("s"in bn)return new Date(bn.s*1e3+("L"in bn?bn.L:0));if(En&&!("Z"in bn)&&(bn.Z=0),"p"in bn&&(bn.H=bn.H%12+bn.p*12),bn.m===void 0&&(bn.m="q"in bn?bn.q:0),"V"in bn){if(bn.V<1||bn.V>53)return null;"w"in bn||(bn.w=1),"Z"in bn?(Rn=utcDate(newDate(bn.y,0,1)),Nn=Rn.getUTCDay(),Rn=Nn>4||Nn===0?utcMonday.ceil(Rn):utcMonday(Rn),Rn=utcDay.offset(Rn,(bn.V-1)*7),bn.y=Rn.getUTCFullYear(),bn.m=Rn.getUTCMonth(),bn.d=Rn.getUTCDate()+(bn.w+6)%7):(Rn=localDate(newDate(bn.y,0,1)),Nn=Rn.getDay(),Rn=Nn>4||Nn===0?timeMonday.ceil(Rn):timeMonday(Rn),Rn=timeDay.offset(Rn,(bn.V-1)*7),bn.y=Rn.getFullYear(),bn.m=Rn.getMonth(),bn.d=Rn.getDate()+(bn.w+6)%7)}else("W"in bn||"U"in bn)&&("w"in bn||(bn.w="u"in bn?bn.u%7:"W"in bn?1:0),Nn="Z"in bn?utcDate(newDate(bn.y,0,1)).getUTCDay():localDate(newDate(bn.y,0,1)).getDay(),bn.m=0,bn.d="W"in bn?(bn.w+6)%7+bn.W*7-(Nn+5)%7:bn.w+bn.U*7-(Nn+6)%7);return"Z"in bn?(bn.H+=bn.Z/100|0,bn.M+=bn.Z%100,utcDate(bn)):localDate(bn)}}function jr(hn,En,Tn,bn){for(var Mn=0,Rn=En.length,Nn=Tn.length,pn,Gn;Mn<Rn;){if(bn>=Nn)return-1;if(pn=En.charCodeAt(Mn++),pn===37){if(pn=En.charAt(Mn++),Gn=Er[pn in pads?En.charAt(Mn++):pn],!Gn||(bn=Gn(hn,Tn,bn))<0)return-1}else if(pn!=Tn.charCodeAt(bn++))return-1}return bn}function Pr(hn,En,Tn){var bn=lr.exec(En.slice(Tn));return bn?(hn.p=cr.get(bn[0].toLowerCase()),Tn+bn[0].length):-1}function Mr(hn,En,Tn){var bn=hr.exec(En.slice(Tn));return bn?(hn.w=Ar.get(bn[0].toLowerCase()),Tn+bn[0].length):-1}function Ir(hn,En,Tn){var bn=ur.exec(En.slice(Tn));return bn?(hn.w=dr.get(bn[0].toLowerCase()),Tn+bn[0].length):-1}function Lr(hn,En,Tn){var bn=pr.exec(En.slice(Tn));return bn?(hn.m=gr.get(bn[0].toLowerCase()),Tn+bn[0].length):-1}function Qr(hn,En,Tn){var bn=fr.exec(En.slice(Tn));return bn?(hn.m=mr.get(bn[0].toLowerCase()),Tn+bn[0].length):-1}function Yr(hn,En,Tn){return jr(hn,St,En,Tn)}function Gr(hn,En,Tn){return jr(hn,tr,En,Tn)}function $r(hn,En,Tn){return jr(hn,rr,En,Tn)}function Vr(hn){return ir[hn.getDay()]}function Tr(hn){return sr[hn.getDay()]}function Fr(hn){return or[hn.getMonth()]}function Wr(hn){return ar[hn.getMonth()]}function qr(hn){return nr[+(hn.getHours()>=12)]}function Rr(hn){return 1+~~(hn.getMonth()/3)}function Or(hn){return ir[hn.getUTCDay()]}function Hr(hn){return sr[hn.getUTCDay()]}function zr(hn){return or[hn.getUTCMonth()]}function Zr(hn){return ar[hn.getUTCMonth()]}function nn(hn){return nr[+(hn.getUTCHours()>=12)]}function vn(hn){return 1+~~(hn.getUTCMonth()/3)}return{format:function(hn){var En=_r(hn+="",xr);return En.toString=function(){return hn},En},parse:function(hn){var En=Sr(hn+="",!1);return En.toString=function(){return hn},En},utcFormat:function(hn){var En=_r(hn+="",yr);return En.toString=function(){return hn},En},utcParse:function(hn){var En=Sr(hn+="",!0);return En.toString=function(){return hn},En}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(er,St,tr){var rr=er<0?"-":"",nr=(rr?-er:er)+"",sr=nr.length;return rr+(sr<tr?new Array(tr-sr+1).join(St)+nr:nr)}function requote(er){return er.replace(requoteRe,"\\$&")}function formatRe(er){return new RegExp("^(?:"+er.map(requote).join("|")+")","i")}function formatLookup(er){return new Map(er.map((St,tr)=>[St.toLowerCase(),tr]))}function parseWeekdayNumberSunday(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+1));return rr?(er.w=+rr[0],tr+rr[0].length):-1}function parseWeekdayNumberMonday(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+1));return rr?(er.u=+rr[0],tr+rr[0].length):-1}function parseWeekNumberSunday(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.U=+rr[0],tr+rr[0].length):-1}function parseWeekNumberISO(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.V=+rr[0],tr+rr[0].length):-1}function parseWeekNumberMonday(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.W=+rr[0],tr+rr[0].length):-1}function parseFullYear(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+4));return rr?(er.y=+rr[0],tr+rr[0].length):-1}function parseYear(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.y=+rr[0]+(+rr[0]>68?1900:2e3),tr+rr[0].length):-1}function parseZone(er,St,tr){var rr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(St.slice(tr,tr+6));return rr?(er.Z=rr[1]?0:-(rr[2]+(rr[3]||"00")),tr+rr[0].length):-1}function parseQuarter(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+1));return rr?(er.q=rr[0]*3-3,tr+rr[0].length):-1}function parseMonthNumber(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.m=rr[0]-1,tr+rr[0].length):-1}function parseDayOfMonth(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.d=+rr[0],tr+rr[0].length):-1}function parseDayOfYear(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+3));return rr?(er.m=0,er.d=+rr[0],tr+rr[0].length):-1}function parseHour24(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.H=+rr[0],tr+rr[0].length):-1}function parseMinutes(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.M=+rr[0],tr+rr[0].length):-1}function parseSeconds(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+2));return rr?(er.S=+rr[0],tr+rr[0].length):-1}function parseMilliseconds(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+3));return rr?(er.L=+rr[0],tr+rr[0].length):-1}function parseMicroseconds(er,St,tr){var rr=numberRe.exec(St.slice(tr,tr+6));return rr?(er.L=Math.floor(rr[0]/1e3),tr+rr[0].length):-1}function parseLiteralPercent(er,St,tr){var rr=percentRe.exec(St.slice(tr,tr+1));return rr?tr+rr[0].length:-1}function parseUnixTimestamp(er,St,tr){var rr=numberRe.exec(St.slice(tr));return rr?(er.Q=+rr[0],tr+rr[0].length):-1}function parseUnixTimestampSeconds(er,St,tr){var rr=numberRe.exec(St.slice(tr));return rr?(er.s=+rr[0],tr+rr[0].length):-1}function formatDayOfMonth(er,St){return pad(er.getDate(),St,2)}function formatHour24(er,St){return pad(er.getHours(),St,2)}function formatHour12(er,St){return pad(er.getHours()%12||12,St,2)}function formatDayOfYear(er,St){return pad(1+timeDay.count(timeYear(er),er),St,3)}function formatMilliseconds(er,St){return pad(er.getMilliseconds(),St,3)}function formatMicroseconds(er,St){return formatMilliseconds(er,St)+"000"}function formatMonthNumber(er,St){return pad(er.getMonth()+1,St,2)}function formatMinutes(er,St){return pad(er.getMinutes(),St,2)}function formatSeconds(er,St){return pad(er.getSeconds(),St,2)}function formatWeekdayNumberMonday(er){var St=er.getDay();return St===0?7:St}function formatWeekNumberSunday(er,St){return pad(timeSunday.count(timeYear(er)-1,er),St,2)}function dISO(er){var St=er.getDay();return St>=4||St===0?timeThursday(er):timeThursday.ceil(er)}function formatWeekNumberISO(er,St){return er=dISO(er),pad(timeThursday.count(timeYear(er),er)+(timeYear(er).getDay()===4),St,2)}function formatWeekdayNumberSunday(er){return er.getDay()}function formatWeekNumberMonday(er,St){return pad(timeMonday.count(timeYear(er)-1,er),St,2)}function formatYear$1(er,St){return pad(er.getFullYear()%100,St,2)}function formatYearISO(er,St){return er=dISO(er),pad(er.getFullYear()%100,St,2)}function formatFullYear(er,St){return pad(er.getFullYear()%1e4,St,4)}function formatFullYearISO(er,St){var tr=er.getDay();return er=tr>=4||tr===0?timeThursday(er):timeThursday.ceil(er),pad(er.getFullYear()%1e4,St,4)}function formatZone(er){var St=er.getTimezoneOffset();return(St>0?"-":(St*=-1,"+"))+pad(St/60|0,"0",2)+pad(St%60,"0",2)}function formatUTCDayOfMonth(er,St){return pad(er.getUTCDate(),St,2)}function formatUTCHour24(er,St){return pad(er.getUTCHours(),St,2)}function formatUTCHour12(er,St){return pad(er.getUTCHours()%12||12,St,2)}function formatUTCDayOfYear(er,St){return pad(1+utcDay.count(utcYear(er),er),St,3)}function formatUTCMilliseconds(er,St){return pad(er.getUTCMilliseconds(),St,3)}function formatUTCMicroseconds(er,St){return formatUTCMilliseconds(er,St)+"000"}function formatUTCMonthNumber(er,St){return pad(er.getUTCMonth()+1,St,2)}function formatUTCMinutes(er,St){return pad(er.getUTCMinutes(),St,2)}function formatUTCSeconds(er,St){return pad(er.getUTCSeconds(),St,2)}function formatUTCWeekdayNumberMonday(er){var St=er.getUTCDay();return St===0?7:St}function formatUTCWeekNumberSunday(er,St){return pad(utcSunday.count(utcYear(er)-1,er),St,2)}function UTCdISO(er){var St=er.getUTCDay();return St>=4||St===0?utcThursday(er):utcThursday.ceil(er)}function formatUTCWeekNumberISO(er,St){return er=UTCdISO(er),pad(utcThursday.count(utcYear(er),er)+(utcYear(er).getUTCDay()===4),St,2)}function formatUTCWeekdayNumberSunday(er){return er.getUTCDay()}function formatUTCWeekNumberMonday(er,St){return pad(utcMonday.count(utcYear(er)-1,er),St,2)}function formatUTCYear(er,St){return pad(er.getUTCFullYear()%100,St,2)}function formatUTCYearISO(er,St){return er=UTCdISO(er),pad(er.getUTCFullYear()%100,St,2)}function formatUTCFullYear(er,St){return pad(er.getUTCFullYear()%1e4,St,4)}function formatUTCFullYearISO(er,St){var tr=er.getUTCDay();return er=tr>=4||tr===0?utcThursday(er):utcThursday.ceil(er),pad(er.getUTCFullYear()%1e4,St,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(er){return+er}function formatUnixTimestampSeconds(er){return Math.floor(+er/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(er){return locale=formatLocale(er),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(er){return new Date(er)}function number$1(er){return er instanceof Date?+er:+new Date(+er)}function calendar(er,St,tr,rr,nr,sr,ir,ar,or,lr){var cr=continuous(),ur=cr.invert,dr=cr.domain,hr=lr(".%L"),Ar=lr(":%S"),fr=lr("%I:%M"),mr=lr("%I %p"),pr=lr("%a %d"),gr=lr("%b %d"),xr=lr("%B"),yr=lr("%Y");function Er(_r){return(or(_r)<_r?hr:ar(_r)<_r?Ar:ir(_r)<_r?fr:sr(_r)<_r?mr:rr(_r)<_r?nr(_r)<_r?pr:gr:tr(_r)<_r?xr:yr)(_r)}return cr.invert=function(_r){return new Date(ur(_r))},cr.domain=function(_r){return arguments.length?dr(Array.from(_r,number$1)):dr().map(date)},cr.ticks=function(_r){var Sr=dr();return er(Sr[0],Sr[Sr.length-1],_r??10)},cr.tickFormat=function(_r,Sr){return Sr==null?Er:lr(Sr)},cr.nice=function(_r){var Sr=dr();return(!_r||typeof _r.range!="function")&&(_r=St(Sr[0],Sr[Sr.length-1],_r??10)),_r?dr(nice(Sr,_r)):cr},cr.copy=function(){return copy$1(cr,calendar(er,St,tr,rr,nr,sr,ir,ar,or,lr))},cr}function time$2(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var er=0,St=1,tr,rr,nr,sr,ir=identity$3,ar=!1,or;function lr(ur){return ur==null||isNaN(ur=+ur)?or:ir(nr===0?.5:(ur=(sr(ur)-tr)*nr,ar?Math.max(0,Math.min(1,ur)):ur))}lr.domain=function(ur){return arguments.length?([er,St]=ur,tr=sr(er=+er),rr=sr(St=+St),nr=tr===rr?0:1/(rr-tr),lr):[er,St]},lr.clamp=function(ur){return arguments.length?(ar=!!ur,lr):ar},lr.interpolator=function(ur){return arguments.length?(ir=ur,lr):ir};function cr(ur){return function(dr){var hr,Ar;return arguments.length?([hr,Ar]=dr,ir=ur(hr,Ar),lr):[ir(0),ir(1)]}}return lr.range=cr(interpolate$1),lr.rangeRound=cr(interpolateRound),lr.unknown=function(ur){return arguments.length?(or=ur,lr):or},function(ur){return sr=ur,tr=ur(er),rr=ur(St),nr=tr===rr?0:1/(rr-tr),lr}}function copy(er,St){return St.domain(er.domain()).interpolator(er.interpolator()).clamp(er.clamp()).unknown(er.unknown())}function sequential(){var er=linearish(transformer$1()(identity$3));return er.copy=function(){return copy(er,sequential())},initInterpolator.apply(er,arguments)}function sequentialLog(){var er=loggish(transformer$1()).domain([1,10]);return er.copy=function(){return copy(er,sequentialLog()).base(er.base())},initInterpolator.apply(er,arguments)}function sequentialSymlog(){var er=symlogish(transformer$1());return er.copy=function(){return copy(er,sequentialSymlog()).constant(er.constant())},initInterpolator.apply(er,arguments)}function sequentialPow(){var er=powish(transformer$1());return er.copy=function(){return copy(er,sequentialPow()).exponent(er.exponent())},initInterpolator.apply(er,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var er=[],St=identity$3;function tr(rr){if(rr!=null&&!isNaN(rr=+rr))return St((bisectRight(er,rr,1)-1)/(er.length-1))}return tr.domain=function(rr){if(!arguments.length)return er.slice();er=[];for(let nr of rr)nr!=null&&!isNaN(nr=+nr)&&er.push(nr);return er.sort(ascending),tr},tr.interpolator=function(rr){return arguments.length?(St=rr,tr):St},tr.range=function(){return er.map((rr,nr)=>St(nr/(er.length-1)))},tr.quantiles=function(rr){return Array.from({length:rr+1},(nr,sr)=>quantile$1(er,sr/rr))},tr.copy=function(){return sequentialQuantile(St).domain(er)},initInterpolator.apply(tr,arguments)}function transformer(){var er=0,St=.5,tr=1,rr=1,nr,sr,ir,ar,or,lr=identity$3,cr,ur=!1,dr;function hr(fr){return isNaN(fr=+fr)?dr:(fr=.5+((fr=+cr(fr))-sr)*(rr*fr<rr*sr?ar:or),lr(ur?Math.max(0,Math.min(1,fr)):fr))}hr.domain=function(fr){return arguments.length?([er,St,tr]=fr,nr=cr(er=+er),sr=cr(St=+St),ir=cr(tr=+tr),ar=nr===sr?0:.5/(sr-nr),or=sr===ir?0:.5/(ir-sr),rr=sr<nr?-1:1,hr):[er,St,tr]},hr.clamp=function(fr){return arguments.length?(ur=!!fr,hr):ur},hr.interpolator=function(fr){return arguments.length?(lr=fr,hr):lr};function Ar(fr){return function(mr){var pr,gr,xr;return arguments.length?([pr,gr,xr]=mr,lr=piecewise(fr,[pr,gr,xr]),hr):[lr(0),lr(.5),lr(1)]}}return hr.range=Ar(interpolate$1),hr.rangeRound=Ar(interpolateRound),hr.unknown=function(fr){return arguments.length?(dr=fr,hr):dr},function(fr){return cr=fr,nr=fr(er),sr=fr(St),ir=fr(tr),ar=nr===sr?0:.5/(sr-nr),or=sr===ir?0:.5/(ir-sr),rr=sr<nr?-1:1,hr}}function diverging(){var er=linearish(transformer()(identity$3));return er.copy=function(){return copy(er,diverging())},initInterpolator.apply(er,arguments)}function divergingLog(){var er=loggish(transformer()).domain([.1,1,10]);return er.copy=function(){return copy(er,divergingLog()).base(er.base())},initInterpolator.apply(er,arguments)}function divergingSymlog(){var er=symlogish(transformer());return er.copy=function(){return copy(er,divergingSymlog()).constant(er.constant())},initInterpolator.apply(er,arguments)}function divergingPow(){var er=powish(transformer());return er.copy=function(){return copy(er,divergingPow()).exponent(er.exponent())},initInterpolator.apply(er,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time$2,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=er=>er.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],er=>{var St=er.chartData!=null?er.chartData.length-1:0;return{chartData:er.chartData,computedData:er.computedData,dataEndIndex:St,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(er,St,tr,rr)=>rr?selectChartDataAndAlwaysIgnoreIndexes(er):selectChartDataWithIndexes(er);function isWellFormedNumberDomain(er){if(Array.isArray(er)&&er.length===2){var[St,tr]=er;if(isWellBehavedNumber(St)&&isWellBehavedNumber(tr))return!0}return!1}function extendDomain(er,St,tr){return tr?er:[Math.min(er[0],St[0]),Math.max(er[1],St[1])]}function numericalDomainSpecifiedWithoutRequiringData(er,St){if(St&&typeof er!="function"&&Array.isArray(er)&&er.length===2){var[tr,rr]=er,nr,sr;if(isWellBehavedNumber(tr))nr=tr;else if(typeof tr=="function")return;if(isWellBehavedNumber(rr))sr=rr;else if(typeof rr=="function")return;var ir=[nr,sr];if(isWellFormedNumberDomain(ir))return ir}}function parseNumericalUserDomain(er,St,tr){if(!(!tr&&St==null)){if(typeof er=="function"&&St!=null)try{var rr=er(St,tr);if(isWellFormedNumberDomain(rr))return extendDomain(rr,St,tr)}catch{}if(Array.isArray(er)&&er.length===2){var[nr,sr]=er,ir,ar;if(nr==="auto")St!=null&&(ir=Math.min(...St));else if(isNumber(nr))ir=nr;else if(typeof nr=="function")try{St!=null&&(ir=nr(St==null?void 0:St[0]))}catch{}else if(typeof nr=="string"&&MIN_VALUE_REG.test(nr)){var or=MIN_VALUE_REG.exec(nr);if(or==null||St==null)ir=void 0;else{var lr=+or[1];ir=St[0]-lr}}else ir=St==null?void 0:St[0];if(sr==="auto")St!=null&&(ar=Math.max(...St));else if(isNumber(sr))ar=sr;else if(typeof sr=="function")try{St!=null&&(ar=sr(St==null?void 0:St[1]))}catch{}else if(typeof sr=="string"&&MAX_VALUE_REG.test(sr)){var cr=MAX_VALUE_REG.exec(sr);if(cr==null||St==null)ar=void 0;else{var ur=+cr[1];ar=St[1]+ur}}else ar=St==null?void 0:St[1];var dr=[ir,ar];if(isWellFormedNumberDomain(dr))return St==null?dr:extendDomain(dr,St,tr)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var er=new this.constructor(this);return er.s&&(er.s=1),er};P$1.comparedTo=P$1.cmp=function(er){var St,tr,rr,nr,sr=this;if(er=new sr.constructor(er),sr.s!==er.s)return sr.s||-er.s;if(sr.e!==er.e)return sr.e>er.e^sr.s<0?1:-1;for(rr=sr.d.length,nr=er.d.length,St=0,tr=rr<nr?rr:nr;St<tr;++St)if(sr.d[St]!==er.d[St])return sr.d[St]>er.d[St]^sr.s<0?1:-1;return rr===nr?0:rr>nr^sr.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var er=this,St=er.d.length-1,tr=(St-er.e)*LOG_BASE;if(St=er.d[St],St)for(;St%10==0;St/=10)tr--;return tr<0?0:tr};P$1.dividedBy=P$1.div=function(er){return divide(this,new this.constructor(er))};P$1.dividedToIntegerBy=P$1.idiv=function(er){var St=this,tr=St.constructor;return round(divide(St,new tr(er),0,1),tr.precision)};P$1.equals=P$1.eq=function(er){return!this.cmp(er)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(er){return this.cmp(er)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(er){return this.cmp(er)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(er){return this.cmp(er)<0};P$1.lessThanOrEqualTo=P$1.lte=function(er){return this.cmp(er)<1};P$1.logarithm=P$1.log=function(er){var St,tr=this,rr=tr.constructor,nr=rr.precision,sr=nr+5;if(er===void 0)er=new rr(10);else if(er=new rr(er),er.s<1||er.eq(ONE))throw Error(decimalError+"NaN");if(tr.s<1)throw Error(decimalError+(tr.s?"NaN":"-Infinity"));return tr.eq(ONE)?new rr(0):(external=!1,St=divide(ln$1(tr,sr),ln$1(er,sr),sr),external=!0,round(St,nr))};P$1.minus=P$1.sub=function(er){var St=this;return er=new St.constructor(er),St.s==er.s?subtract(St,er):add(St,(er.s=-er.s,er))};P$1.modulo=P$1.mod=function(er){var St,tr=this,rr=tr.constructor,nr=rr.precision;if(er=new rr(er),!er.s)throw Error(decimalError+"NaN");return tr.s?(external=!1,St=divide(tr,er,0,1).times(er),external=!0,tr.minus(St)):round(new rr(tr),nr)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var er=new this.constructor(this);return er.s=-er.s||0,er};P$1.plus=P$1.add=function(er){var St=this;return er=new St.constructor(er),St.s==er.s?add(St,er):subtract(St,(er.s=-er.s,er))};P$1.precision=P$1.sd=function(er){var St,tr,rr,nr=this;if(er!==void 0&&er!==!!er&&er!==1&&er!==0)throw Error(invalidArgument+er);if(St=getBase10Exponent(nr)+1,rr=nr.d.length-1,tr=rr*LOG_BASE+1,rr=nr.d[rr],rr){for(;rr%10==0;rr/=10)tr--;for(rr=nr.d[0];rr>=10;rr/=10)tr++}return er&&St>tr?St:tr};P$1.squareRoot=P$1.sqrt=function(){var er,St,tr,rr,nr,sr,ir,ar=this,or=ar.constructor;if(ar.s<1){if(!ar.s)return new or(0);throw Error(decimalError+"NaN")}for(er=getBase10Exponent(ar),external=!1,nr=Math.sqrt(+ar),nr==0||nr==1/0?(St=digitsToString(ar.d),(St.length+er)%2==0&&(St+="0"),nr=Math.sqrt(St),er=mathfloor((er+1)/2)-(er<0||er%2),nr==1/0?St="5e"+er:(St=nr.toExponential(),St=St.slice(0,St.indexOf("e")+1)+er),rr=new or(St)):rr=new or(nr.toString()),tr=or.precision,nr=ir=tr+3;;)if(sr=rr,rr=sr.plus(divide(ar,sr,ir+2)).times(.5),digitsToString(sr.d).slice(0,ir)===(St=digitsToString(rr.d)).slice(0,ir)){if(St=St.slice(ir-3,ir+1),nr==ir&&St=="4999"){if(round(sr,tr+1,0),sr.times(sr).eq(ar)){rr=sr;break}}else if(St!="9999")break;ir+=4}return external=!0,round(rr,tr)};P$1.times=P$1.mul=function(er){var St,tr,rr,nr,sr,ir,ar,or,lr,cr=this,ur=cr.constructor,dr=cr.d,hr=(er=new ur(er)).d;if(!cr.s||!er.s)return new ur(0);for(er.s*=cr.s,tr=cr.e+er.e,or=dr.length,lr=hr.length,or<lr&&(sr=dr,dr=hr,hr=sr,ir=or,or=lr,lr=ir),sr=[],ir=or+lr,rr=ir;rr--;)sr.push(0);for(rr=lr;--rr>=0;){for(St=0,nr=or+rr;nr>rr;)ar=sr[nr]+hr[rr]*dr[nr-rr-1]+St,sr[nr--]=ar%BASE|0,St=ar/BASE|0;sr[nr]=(sr[nr]+St)%BASE|0}for(;!sr[--ir];)sr.pop();return St?++tr:sr.shift(),er.d=sr,er.e=tr,external?round(er,ur.precision):er};P$1.toDecimalPlaces=P$1.todp=function(er,St){var tr=this,rr=tr.constructor;return tr=new rr(tr),er===void 0?tr:(checkInt32(er,0,MAX_DIGITS),St===void 0?St=rr.rounding:checkInt32(St,0,8),round(tr,er+getBase10Exponent(tr)+1,St))};P$1.toExponential=function(er,St){var tr,rr=this,nr=rr.constructor;return er===void 0?tr=toString(rr,!0):(checkInt32(er,0,MAX_DIGITS),St===void 0?St=nr.rounding:checkInt32(St,0,8),rr=round(new nr(rr),er+1,St),tr=toString(rr,!0,er+1)),tr};P$1.toFixed=function(er,St){var tr,rr,nr=this,sr=nr.constructor;return er===void 0?toString(nr):(checkInt32(er,0,MAX_DIGITS),St===void 0?St=sr.rounding:checkInt32(St,0,8),rr=round(new sr(nr),er+getBase10Exponent(nr)+1,St),tr=toString(rr.abs(),!1,er+getBase10Exponent(rr)+1),nr.isneg()&&!nr.isZero()?"-"+tr:tr)};P$1.toInteger=P$1.toint=function(){var er=this,St=er.constructor;return round(new St(er),getBase10Exponent(er)+1,St.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(er){var St,tr,rr,nr,sr,ir,ar=this,or=ar.constructor,lr=12,cr=+(er=new or(er));if(!er.s)return new or(ONE);if(ar=new or(ar),!ar.s){if(er.s<1)throw Error(decimalError+"Infinity");return ar}if(ar.eq(ONE))return ar;if(rr=or.precision,er.eq(ONE))return round(ar,rr);if(St=er.e,tr=er.d.length-1,ir=St>=tr,sr=ar.s,ir){if((tr=cr<0?-cr:cr)<=MAX_SAFE_INTEGER){for(nr=new or(ONE),St=Math.ceil(rr/LOG_BASE+4),external=!1;tr%2&&(nr=nr.times(ar),truncate(nr.d,St)),tr=mathfloor(tr/2),tr!==0;)ar=ar.times(ar),truncate(ar.d,St);return external=!0,er.s<0?new or(ONE).div(nr):round(nr,rr)}}else if(sr<0)throw Error(decimalError+"NaN");return sr=sr<0&&er.d[Math.max(St,tr)]&1?-1:1,ar.s=1,external=!1,nr=er.times(ln$1(ar,rr+lr)),external=!0,nr=exp(nr),nr.s=sr,nr};P$1.toPrecision=function(er,St){var tr,rr,nr=this,sr=nr.constructor;return er===void 0?(tr=getBase10Exponent(nr),rr=toString(nr,tr<=sr.toExpNeg||tr>=sr.toExpPos)):(checkInt32(er,1,MAX_DIGITS),St===void 0?St=sr.rounding:checkInt32(St,0,8),nr=round(new sr(nr),er,St),tr=getBase10Exponent(nr),rr=toString(nr,er<=tr||tr<=sr.toExpNeg,er)),rr};P$1.toSignificantDigits=P$1.tosd=function(er,St){var tr=this,rr=tr.constructor;return er===void 0?(er=rr.precision,St=rr.rounding):(checkInt32(er,1,MAX_DIGITS),St===void 0?St=rr.rounding:checkInt32(St,0,8)),round(new rr(tr),er,St)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var er=this,St=getBase10Exponent(er),tr=er.constructor;return toString(er,St<=tr.toExpNeg||St>=tr.toExpPos)};function add(er,St){var tr,rr,nr,sr,ir,ar,or,lr,cr=er.constructor,ur=cr.precision;if(!er.s||!St.s)return St.s||(St=new cr(er)),external?round(St,ur):St;if(or=er.d,lr=St.d,ir=er.e,nr=St.e,or=or.slice(),sr=ir-nr,sr){for(sr<0?(rr=or,sr=-sr,ar=lr.length):(rr=lr,nr=ir,ar=or.length),ir=Math.ceil(ur/LOG_BASE),ar=ir>ar?ir+1:ar+1,sr>ar&&(sr=ar,rr.length=1),rr.reverse();sr--;)rr.push(0);rr.reverse()}for(ar=or.length,sr=lr.length,ar-sr<0&&(sr=ar,rr=lr,lr=or,or=rr),tr=0;sr;)tr=(or[--sr]=or[sr]+lr[sr]+tr)/BASE|0,or[sr]%=BASE;for(tr&&(or.unshift(tr),++nr),ar=or.length;or[--ar]==0;)or.pop();return St.d=or,St.e=nr,external?round(St,ur):St}function checkInt32(er,St,tr){if(er!==~~er||er<St||er>tr)throw Error(invalidArgument+er)}function digitsToString(er){var St,tr,rr,nr=er.length-1,sr="",ir=er[0];if(nr>0){for(sr+=ir,St=1;St<nr;St++)rr=er[St]+"",tr=LOG_BASE-rr.length,tr&&(sr+=getZeroString(tr)),sr+=rr;ir=er[St],rr=ir+"",tr=LOG_BASE-rr.length,tr&&(sr+=getZeroString(tr))}else if(ir===0)return"0";for(;ir%10===0;)ir/=10;return sr+ir}var divide=function(){function er(rr,nr){var sr,ir=0,ar=rr.length;for(rr=rr.slice();ar--;)sr=rr[ar]*nr+ir,rr[ar]=sr%BASE|0,ir=sr/BASE|0;return ir&&rr.unshift(ir),rr}function St(rr,nr,sr,ir){var ar,or;if(sr!=ir)or=sr>ir?1:-1;else for(ar=or=0;ar<sr;ar++)if(rr[ar]!=nr[ar]){or=rr[ar]>nr[ar]?1:-1;break}return or}function tr(rr,nr,sr){for(var ir=0;sr--;)rr[sr]-=ir,ir=rr[sr]<nr[sr]?1:0,rr[sr]=ir*BASE+rr[sr]-nr[sr];for(;!rr[0]&&rr.length>1;)rr.shift()}return function(rr,nr,sr,ir){var ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr=rr.constructor,Mr=rr.s==nr.s?1:-1,Ir=rr.d,Lr=nr.d;if(!rr.s)return new Pr(rr);if(!nr.s)throw Error(decimalError+"Division by zero");for(or=rr.e-nr.e,Sr=Lr.length,Er=Ir.length,hr=new Pr(Mr),Ar=hr.d=[],lr=0;Lr[lr]==(Ir[lr]||0);)++lr;if(Lr[lr]>(Ir[lr]||0)&&--or,sr==null?gr=sr=Pr.precision:ir?gr=sr+(getBase10Exponent(rr)-getBase10Exponent(nr))+1:gr=sr,gr<0)return new Pr(0);if(gr=gr/LOG_BASE+2|0,lr=0,Sr==1)for(cr=0,Lr=Lr[0],gr++;(lr<Er||cr)&&gr--;lr++)xr=cr*BASE+(Ir[lr]||0),Ar[lr]=xr/Lr|0,cr=xr%Lr|0;else{for(cr=BASE/(Lr[0]+1)|0,cr>1&&(Lr=er(Lr,cr),Ir=er(Ir,cr),Sr=Lr.length,Er=Ir.length),yr=Sr,fr=Ir.slice(0,Sr),mr=fr.length;mr<Sr;)fr[mr++]=0;jr=Lr.slice(),jr.unshift(0),_r=Lr[0],Lr[1]>=BASE/2&&++_r;do cr=0,ar=St(Lr,fr,Sr,mr),ar<0?(pr=fr[0],Sr!=mr&&(pr=pr*BASE+(fr[1]||0)),cr=pr/_r|0,cr>1?(cr>=BASE&&(cr=BASE-1),ur=er(Lr,cr),dr=ur.length,mr=fr.length,ar=St(ur,fr,dr,mr),ar==1&&(cr--,tr(ur,Sr<dr?jr:Lr,dr))):(cr==0&&(ar=cr=1),ur=Lr.slice()),dr=ur.length,dr<mr&&ur.unshift(0),tr(fr,ur,mr),ar==-1&&(mr=fr.length,ar=St(Lr,fr,Sr,mr),ar<1&&(cr++,tr(fr,Sr<mr?jr:Lr,mr))),mr=fr.length):ar===0&&(cr++,fr=[0]),Ar[lr++]=cr,ar&&fr[0]?fr[mr++]=Ir[yr]||0:(fr=[Ir[yr]],mr=1);while((yr++<Er||fr[0]!==void 0)&&gr--)}return Ar[0]||Ar.shift(),hr.e=or,round(hr,ir?sr+getBase10Exponent(hr)+1:sr)}}();function exp(er,St){var tr,rr,nr,sr,ir,ar,or=0,lr=0,cr=er.constructor,ur=cr.precision;if(getBase10Exponent(er)>16)throw Error(exponentOutOfRange+getBase10Exponent(er));if(!er.s)return new cr(ONE);for(external=!1,ar=ur,ir=new cr(.03125);er.abs().gte(.1);)er=er.times(ir),lr+=5;for(rr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,ar+=rr,tr=nr=sr=new cr(ONE),cr.precision=ar;;){if(nr=round(nr.times(er),ar),tr=tr.times(++or),ir=sr.plus(divide(nr,tr,ar)),digitsToString(ir.d).slice(0,ar)===digitsToString(sr.d).slice(0,ar)){for(;lr--;)sr=round(sr.times(sr),ar);return cr.precision=ur,St==null?(external=!0,round(sr,ur)):sr}sr=ir}}function getBase10Exponent(er){for(var St=er.e*LOG_BASE,tr=er.d[0];tr>=10;tr/=10)St++;return St}function getLn10(er,St,tr){if(St>er.LN10.sd())throw external=!0,tr&&(er.precision=tr),Error(decimalError+"LN10 precision limit exceeded");return round(new er(er.LN10),St)}function getZeroString(er){for(var St="";er--;)St+="0";return St}function ln$1(er,St){var tr,rr,nr,sr,ir,ar,or,lr,cr,ur=1,dr=10,hr=er,Ar=hr.d,fr=hr.constructor,mr=fr.precision;if(hr.s<1)throw Error(decimalError+(hr.s?"NaN":"-Infinity"));if(hr.eq(ONE))return new fr(0);if(St==null?(external=!1,lr=mr):lr=St,hr.eq(10))return St==null&&(external=!0),getLn10(fr,lr);if(lr+=dr,fr.precision=lr,tr=digitsToString(Ar),rr=tr.charAt(0),sr=getBase10Exponent(hr),Math.abs(sr)<15e14){for(;rr<7&&rr!=1||rr==1&&tr.charAt(1)>3;)hr=hr.times(er),tr=digitsToString(hr.d),rr=tr.charAt(0),ur++;sr=getBase10Exponent(hr),rr>1?(hr=new fr("0."+tr),sr++):hr=new fr(rr+"."+tr.slice(1))}else return or=getLn10(fr,lr+2,mr).times(sr+""),hr=ln$1(new fr(rr+"."+tr.slice(1)),lr-dr).plus(or),fr.precision=mr,St==null?(external=!0,round(hr,mr)):hr;for(ar=ir=hr=divide(hr.minus(ONE),hr.plus(ONE),lr),cr=round(hr.times(hr),lr),nr=3;;){if(ir=round(ir.times(cr),lr),or=ar.plus(divide(ir,new fr(nr),lr)),digitsToString(or.d).slice(0,lr)===digitsToString(ar.d).slice(0,lr))return ar=ar.times(2),sr!==0&&(ar=ar.plus(getLn10(fr,lr+2,mr).times(sr+""))),ar=divide(ar,new fr(ur),lr),fr.precision=mr,St==null?(external=!0,round(ar,mr)):ar;ar=or,nr+=2}}function parseDecimal(er,St){var tr,rr,nr;for((tr=St.indexOf("."))>-1&&(St=St.replace(".","")),(rr=St.search(/e/i))>0?(tr<0&&(tr=rr),tr+=+St.slice(rr+1),St=St.substring(0,rr)):tr<0&&(tr=St.length),rr=0;St.charCodeAt(rr)===48;)++rr;for(nr=St.length;St.charCodeAt(nr-1)===48;)--nr;if(St=St.slice(rr,nr),St){if(nr-=rr,tr=tr-rr-1,er.e=mathfloor(tr/LOG_BASE),er.d=[],rr=(tr+1)%LOG_BASE,tr<0&&(rr+=LOG_BASE),rr<nr){for(rr&&er.d.push(+St.slice(0,rr)),nr-=LOG_BASE;rr<nr;)er.d.push(+St.slice(rr,rr+=LOG_BASE));St=St.slice(rr),rr=LOG_BASE-St.length}else rr-=nr;for(;rr--;)St+="0";if(er.d.push(+St),external&&(er.e>MAX_E||er.e<-MAX_E))throw Error(exponentOutOfRange+tr)}else er.s=0,er.e=0,er.d=[0];return er}function round(er,St,tr){var rr,nr,sr,ir,ar,or,lr,cr,ur=er.d;for(ir=1,sr=ur[0];sr>=10;sr/=10)ir++;if(rr=St-ir,rr<0)rr+=LOG_BASE,nr=St,lr=ur[cr=0];else{if(cr=Math.ceil((rr+1)/LOG_BASE),sr=ur.length,cr>=sr)return er;for(lr=sr=ur[cr],ir=1;sr>=10;sr/=10)ir++;rr%=LOG_BASE,nr=rr-LOG_BASE+ir}if(tr!==void 0&&(sr=mathpow(10,ir-nr-1),ar=lr/sr%10|0,or=St<0||ur[cr+1]!==void 0||lr%sr,or=tr<4?(ar||or)&&(tr==0||tr==(er.s<0?3:2)):ar>5||ar==5&&(tr==4||or||tr==6&&(rr>0?nr>0?lr/mathpow(10,ir-nr):0:ur[cr-1])%10&1||tr==(er.s<0?8:7))),St<1||!ur[0])return or?(sr=getBase10Exponent(er),ur.length=1,St=St-sr-1,ur[0]=mathpow(10,(LOG_BASE-St%LOG_BASE)%LOG_BASE),er.e=mathfloor(-St/LOG_BASE)||0):(ur.length=1,ur[0]=er.e=er.s=0),er;if(rr==0?(ur.length=cr,sr=1,cr--):(ur.length=cr+1,sr=mathpow(10,LOG_BASE-rr),ur[cr]=nr>0?(lr/mathpow(10,ir-nr)%mathpow(10,nr)|0)*sr:0),or)for(;;)if(cr==0){(ur[0]+=sr)==BASE&&(ur[0]=1,++er.e);break}else{if(ur[cr]+=sr,ur[cr]!=BASE)break;ur[cr--]=0,sr=1}for(rr=ur.length;ur[--rr]===0;)ur.pop();if(external&&(er.e>MAX_E||er.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(er));return er}function subtract(er,St){var tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr=er.constructor,hr=dr.precision;if(!er.s||!St.s)return St.s?St.s=-St.s:St=new dr(er),external?round(St,hr):St;if(or=er.d,ur=St.d,rr=St.e,lr=er.e,or=or.slice(),ir=lr-rr,ir){for(cr=ir<0,cr?(tr=or,ir=-ir,ar=ur.length):(tr=ur,rr=lr,ar=or.length),nr=Math.max(Math.ceil(hr/LOG_BASE),ar)+2,ir>nr&&(ir=nr,tr.length=1),tr.reverse(),nr=ir;nr--;)tr.push(0);tr.reverse()}else{for(nr=or.length,ar=ur.length,cr=nr<ar,cr&&(ar=nr),nr=0;nr<ar;nr++)if(or[nr]!=ur[nr]){cr=or[nr]<ur[nr];break}ir=0}for(cr&&(tr=or,or=ur,ur=tr,St.s=-St.s),ar=or.length,nr=ur.length-ar;nr>0;--nr)or[ar++]=0;for(nr=ur.length;nr>ir;){if(or[--nr]<ur[nr]){for(sr=nr;sr&&or[--sr]===0;)or[sr]=BASE-1;--or[sr],or[nr]+=BASE}or[nr]-=ur[nr]}for(;or[--ar]===0;)or.pop();for(;or[0]===0;or.shift())--rr;return or[0]?(St.d=or,St.e=rr,external?round(St,hr):St):new dr(0)}function toString(er,St,tr){var rr,nr=getBase10Exponent(er),sr=digitsToString(er.d),ir=sr.length;return St?(tr&&(rr=tr-ir)>0?sr=sr.charAt(0)+"."+sr.slice(1)+getZeroString(rr):ir>1&&(sr=sr.charAt(0)+"."+sr.slice(1)),sr=sr+(nr<0?"e":"e+")+nr):nr<0?(sr="0."+getZeroString(-nr-1)+sr,tr&&(rr=tr-ir)>0&&(sr+=getZeroString(rr))):nr>=ir?(sr+=getZeroString(nr+1-ir),tr&&(rr=tr-nr-1)>0&&(sr=sr+"."+getZeroString(rr))):((rr=nr+1)<ir&&(sr=sr.slice(0,rr)+"."+sr.slice(rr)),tr&&(rr=tr-ir)>0&&(nr+1===ir&&(sr+="."),sr+=getZeroString(rr))),er.s<0?"-"+sr:sr}function truncate(er,St){if(er.length>St)return er.length=St,!0}function clone(er){var St,tr,rr;function nr(sr){var ir=this;if(!(ir instanceof nr))return new nr(sr);if(ir.constructor=nr,sr instanceof nr){ir.s=sr.s,ir.e=sr.e,ir.d=(sr=sr.d)?sr.slice():sr;return}if(typeof sr=="number"){if(sr*0!==0)throw Error(invalidArgument+sr);if(sr>0)ir.s=1;else if(sr<0)sr=-sr,ir.s=-1;else{ir.s=0,ir.e=0,ir.d=[0];return}if(sr===~~sr&&sr<1e7){ir.e=0,ir.d=[sr];return}return parseDecimal(ir,sr.toString())}else if(typeof sr!="string")throw Error(invalidArgument+sr);if(sr.charCodeAt(0)===45?(sr=sr.slice(1),ir.s=-1):ir.s=1,isDecimal.test(sr))parseDecimal(ir,sr);else throw Error(invalidArgument+sr)}if(nr.prototype=P$1,nr.ROUND_UP=0,nr.ROUND_DOWN=1,nr.ROUND_CEIL=2,nr.ROUND_FLOOR=3,nr.ROUND_HALF_UP=4,nr.ROUND_HALF_DOWN=5,nr.ROUND_HALF_EVEN=6,nr.ROUND_HALF_CEIL=7,nr.ROUND_HALF_FLOOR=8,nr.clone=clone,nr.config=nr.set=config,er===void 0&&(er={}),er)for(rr=["precision","rounding","toExpNeg","toExpPos","LN10"],St=0;St<rr.length;)er.hasOwnProperty(tr=rr[St++])||(er[tr]=this[tr]);return nr.config(er),nr}function config(er){if(!er||typeof er!="object")throw Error(decimalError+"Object expected");var St,tr,rr,nr=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(St=0;St<nr.length;St+=3)if((rr=er[tr=nr[St]])!==void 0)if(mathfloor(rr)===rr&&rr>=nr[St+1]&&rr<=nr[St+2])this[tr]=rr;else throw Error(invalidArgument+tr+": "+rr);if((rr=er[tr="LN10"])!==void 0)if(rr==Math.LN10)this[tr]=new this(rr);else throw Error(invalidArgument+tr+": "+rr);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=er=>er,PLACE_HOLDER={},isPlaceHolder=er=>er===PLACE_HOLDER,curry0=er=>function St(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?St:er(...arguments)},curryN=(er,St)=>er===1?St:curry0(function(){for(var tr=arguments.length,rr=new Array(tr),nr=0;nr<tr;nr++)rr[nr]=arguments[nr];var sr=rr.filter(ir=>ir!==PLACE_HOLDER).length;return sr>=er?St(...rr):curryN(er-sr,curry0(function(){for(var ir=arguments.length,ar=new Array(ir),or=0;or<ir;or++)ar[or]=arguments[or];var lr=rr.map(cr=>isPlaceHolder(cr)?ar.shift():cr);return St(...lr,...ar)}))}),curry=er=>curryN(er.length,er),range=(er,St)=>{for(var tr=[],rr=er;rr<St;++rr)tr[rr-er]=rr;return tr},map=curry((er,St)=>Array.isArray(St)?St.map(er):Object.keys(St).map(tr=>St[tr]).map(er)),compose=function er(){for(var St=arguments.length,tr=new Array(St),rr=0;rr<St;rr++)tr[rr]=arguments[rr];if(!tr.length)return identity;var nr=tr.reverse(),sr=nr[0],ir=nr.slice(1);return function(){return ir.reduce((ar,or)=>or(ar),sr(...arguments))}},reverse=er=>Array.isArray(er)?er.reverse():er.split("").reverse().join(""),memoize$1=er=>{var St=null,tr=null;return function(){for(var rr=arguments.length,nr=new Array(rr),sr=0;sr<rr;sr++)nr[sr]=arguments[sr];return St&&nr.every((ir,ar)=>{var or;return ir===((or=St)===null||or===void 0?void 0:or[ar])})||(St=nr,tr=er(...nr)),tr}};function getDigitCount(er){var St;return er===0?St=1:St=Math.floor(new Decimal$1(er).abs().log(10).toNumber())+1,St}function rangeStep(er,St,tr){for(var rr=new Decimal$1(er),nr=0,sr=[];rr.lt(St)&&nr<1e5;)sr.push(rr.toNumber()),rr=rr.add(tr),nr++;return sr}curry((er,St,tr)=>{var rr=+er,nr=+St;return rr+tr*(nr-rr)});curry((er,St,tr)=>{var rr=St-+er;return rr=rr||1/0,(tr-er)/rr});curry((er,St,tr)=>{var rr=St-+er;return rr=rr||1/0,Math.max(0,Math.min(1,(tr-er)/rr))});var getValidInterval=er=>{var[St,tr]=er,[rr,nr]=[St,tr];return St>tr&&([rr,nr]=[tr,St]),[rr,nr]},getFormatStep=(er,St,tr)=>{if(er.lte(0))return new Decimal$1(0);var rr=getDigitCount(er.toNumber()),nr=new Decimal$1(10).pow(rr),sr=er.div(nr),ir=rr!==1?.05:.1,ar=new Decimal$1(Math.ceil(sr.div(ir).toNumber())).add(tr).mul(ir),or=ar.mul(nr);return St?new Decimal$1(or.toNumber()):new Decimal$1(Math.ceil(or.toNumber()))},getTickOfSingleValue=(er,St,tr)=>{var rr=new Decimal$1(1),nr=new Decimal$1(er);if(!nr.isint()&&tr){var sr=Math.abs(er);sr<1?(rr=new Decimal$1(10).pow(getDigitCount(er)-1),nr=new Decimal$1(Math.floor(nr.div(rr).toNumber())).mul(rr)):sr>1&&(nr=new Decimal$1(Math.floor(er)))}else er===0?nr=new Decimal$1(Math.floor((St-1)/2)):tr||(nr=new Decimal$1(Math.floor(er)));var ir=Math.floor((St-1)/2),ar=compose(map(or=>nr.add(new Decimal$1(or-ir).mul(rr)).toNumber()),range);return ar(0,St)},_calculateStep=function er(St,tr,rr,nr){var sr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tr-St)/(rr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var ir=getFormatStep(new Decimal$1(tr).sub(St).div(rr-1),nr,sr),ar;St<=0&&tr>=0?ar=new Decimal$1(0):(ar=new Decimal$1(St).add(tr).div(2),ar=ar.sub(new Decimal$1(ar).mod(ir)));var or=Math.ceil(ar.sub(St).div(ir).toNumber()),lr=Math.ceil(new Decimal$1(tr).sub(ar).div(ir).toNumber()),cr=or+lr+1;return cr>rr?_calculateStep(St,tr,rr,nr,sr+1):(cr<rr&&(lr=tr>0?lr+(rr-cr):lr,or=tr>0?or:or+(rr-cr)),{step:ir,tickMin:ar.sub(new Decimal$1(or).mul(ir)),tickMax:ar.add(new Decimal$1(lr).mul(ir))})};function getNiceTickValuesFn(er){var[St,tr]=er,rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(rr,2),[ir,ar]=getValidInterval([St,tr]);if(ir===-1/0||ar===1/0){var or=ar===1/0?[ir,...range(0,rr-1).map(()=>1/0)]:[...range(0,rr-1).map(()=>-1/0),ar];return St>tr?reverse(or):or}if(ir===ar)return getTickOfSingleValue(ir,rr,nr);var{step:lr,tickMin:cr,tickMax:ur}=_calculateStep(ir,ar,sr,nr,0),dr=rangeStep(cr,ur.add(new Decimal$1(.1).mul(lr)),lr);return St>tr?reverse(dr):dr}function getTickValuesFixedDomainFn(er,St){var[tr,rr]=er,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[sr,ir]=getValidInterval([tr,rr]);if(sr===-1/0||ir===1/0)return[tr,rr];if(sr===ir)return[sr];var ar=Math.max(St,2),or=getFormatStep(new Decimal$1(ir).sub(sr).div(ar-1),nr,0),lr=[...rangeStep(new Decimal$1(sr),new Decimal$1(ir),or),ir];return nr===!1&&(lr=lr.map(cr=>Math.round(cr))),tr>rr?reverse(lr):lr}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),selectRootMaxBarSize=er=>er.rootProps.maxBarSize,selectBarGap=er=>er.rootProps.barGap,selectBarCategoryGap=er=>er.rootProps.barCategoryGap,selectRootBarSize=er=>er.rootProps.barSize,selectStackOffsetType=er=>er.rootProps.stackOffset,selectChartName=er=>er.options.chartName,selectSyncId=er=>er.rootProps.syncId,selectSyncMethod=er=>er.rootProps.syncMethod,selectEventEmitter=er=>er.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(er,St)=>{if(!(!er||!St))return er!=null&&er.reversed?[St[1],St[0]]:St},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(er,St)=>er.polarAxis.angleAxis[St]!=null?er.polarAxis.angleAxis[St]:er.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(er,St)=>er.polarAxis.radiusAxis[St]!=null?er.polarAxis.radiusAxis[St]:er.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=er=>er.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(er,St)=>{if(er!=null)return getPercentValue(er.innerRadius,St,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(er,St)=>{if(er!=null)return getPercentValue(er.outerRadius,St,St*.8)}),combineAngleAxisRange=er=>{if(er==null)return[0,0];var{startAngle:St,endAngle:tr}=er;return[St,tr]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(er,St,tr)=>{if(!(er==null||St==null||tr==null))return[St,tr]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(er,St,tr,rr,nr,sr)=>{if(!(er!=="centric"&&er!=="radial"||St==null||tr==null||rr==null)){var{cx:ir,cy:ar,startAngle:or,endAngle:lr}=St;return{cx:getPercentValue(ir,nr,nr/2),cy:getPercentValue(ar,sr,sr/2),innerRadius:tr,outerRadius:rr,startAngle:or,endAngle:lr,clockWise:!1}}}),pickAxisType=(er,St)=>St,pickAxisId=(er,St,tr)=>tr;function ownKeys$o(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$o(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$o(Object(tr),!0).forEach(function(rr){_defineProperty$s(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$o(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$s(er,St,tr){return(St=_toPropertyKey$s(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$s(er){var St=_toPrimitive$s(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$s(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettings=(er,St)=>{var tr=er.cartesianAxis.xAxis[St];return tr??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettings=(er,St)=>{var tr=er.cartesianAxis.yAxis[St];return tr??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(er,St)=>{var tr=er.cartesianAxis.zAxis[St];return tr??implicitZAxis},selectBaseAxis=(er,St,tr)=>{switch(St){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);case"zAxis":return selectZAxisSettings(er,tr);case"angleAxis":return selectAngleAxis(er,tr);case"radiusAxis":return selectRadiusAxis(er,tr);default:throw new Error("Unexpected axis type: ".concat(St))}},selectCartesianAxisSettings=(er,St,tr)=>{switch(St){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);default:throw new Error("Unexpected axis type: ".concat(St))}},selectAxisSettings=(er,St,tr)=>{switch(St){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);case"angleAxis":return selectAngleAxis(er,tr);case"radiusAxis":return selectRadiusAxis(er,tr);default:throw new Error("Unexpected axis type: ".concat(St))}},selectHasBar=er=>er.graphicalItems.countOfBars>0;function itemAxisPredicate(er,St){return tr=>{switch(er){case"xAxis":return"xAxisId"in tr&&tr.xAxisId===St;case"yAxis":return"yAxisId"in tr&&tr.yAxisId===St;case"zAxis":return"zAxisId"in tr&&tr.zAxisId===St;case"angleAxis":return"angleAxisId"in tr&&tr.angleAxisId===St;case"radiusAxis":return"radiusAxisId"in tr&&tr.radiusAxisId===St;default:return!1}}}var selectUnfilteredCartesianItems=er=>er.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(er,St,tr)=>er.filter(tr).filter(rr=>(St==null?void 0:St.includeHidden)===!0?!0:!rr.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings),filterGraphicalNotStackedItems=er=>er.filter(St=>St.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=er=>er.map(St=>St.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(er,St)=>{var{chartData:tr=[],dataStartIndex:rr,dataEndIndex:nr}=St;return er.length>0?er:tr.slice(rr,nr+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(er,St,tr)=>(St==null?void 0:St.dataKey)!=null?er.map(rr=>({value:getValueByDataKey(rr,St.dataKey)})):tr.length>0?tr.map(rr=>rr.dataKey).flatMap(rr=>er.map(nr=>({value:getValueByDataKey(nr,rr)}))):er.map(rr=>({value:rr})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(er,St){switch(er){case"xAxis":return St.direction==="x";case"yAxis":return St.direction==="y";default:return!1}}function onlyAllowNumbers(er){return er.filter(St=>isNumOrStr(St)||St instanceof Date).map(Number).filter(St=>isNan(St)===!1)}function getErrorDomainByDataKey(er,St,tr){return!tr||typeof St!="number"||isNan(St)?[]:tr.length?onlyAllowNumbers(tr.flatMap(rr=>{var nr=getValueByDataKey(er,rr.dataKey),sr,ir;if(Array.isArray(nr)?[sr,ir]=nr:sr=ir=nr,!(!isWellBehavedNumber(sr)||!isWellBehavedNumber(ir)))return[St-sr,St+ir]})):[]}var combineStackGroups=(er,St,tr)=>{var rr={},nr=St.reduce((sr,ir)=>(ir.stackId==null||(sr[ir.stackId]==null&&(sr[ir.stackId]=[]),sr[ir.stackId].push(ir)),sr),rr);return Object.fromEntries(Object.entries(nr).map(sr=>{var[ir,ar]=sr,or=ar.map(lr=>lr.dataKey);return[ir,{stackedData:getStackedData(er,or,tr),graphicalItems:ar}]}))},selectStackGroups=createSelector([selectDisplayedData$1,selectCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(er,St,tr)=>{var{dataStartIndex:rr,dataEndIndex:nr}=St;if(tr!=="zAxis"){var sr=getDomainOfStackGroups(er,rr,nr);if(!(sr!=null&&sr[0]===0&&sr[1]===0))return sr}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(er,St,tr,rr)=>tr.length>0?er.flatMap(nr=>tr.flatMap(sr=>{var ir,ar,or=(ir=sr.errorBars)===null||ir===void 0?void 0:ir.filter(cr=>isErrorBarRelevantForAxisType(rr,cr)),lr=getValueByDataKey(nr,(ar=St.dataKey)!==null&&ar!==void 0?ar:sr.dataKey);return{value:lr,errorDomain:getErrorDomainByDataKey(nr,lr,or)}})).filter(Boolean):(St==null?void 0:St.dataKey)!=null?er.map(nr=>({value:getValueByDataKey(nr,St.dataKey),errorDomain:[]})):er.map(nr=>({value:nr,errorDomain:[]})),selectAllAppliedNumericalValuesIncludingErrorValues=createSelector(selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,pickAxisType,combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(er){var{value:St}=er;if(isNumOrStr(St)||St instanceof Date)return St}var computeNumericalDomain=er=>{var St=er.flatMap(rr=>[rr.value,rr.errorDomain]).flat(1),tr=onlyAllowNumbers(St);if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},computeDomainOfTypeCategory=(er,St,tr)=>{var rr=er.map(onlyAllowNumbersAndStringsAndDates).filter(nr=>nr!=null);return tr&&(St.dataKey==null||St.allowDuplicatedCategory&&hasDuplicate(rr))?range$3(0,er.length):St.allowDuplicatedCategory?rr:Array.from(new Set(rr))},getDomainDefinition=er=>{var St;if(er==null||!("domain"in er))return defaultNumericDomain;if(er.domain!=null)return er.domain;if(er.ticks!=null){if(er.type==="number"){var tr=onlyAllowNumbers(er.ticks);return[Math.min(...tr),Math.max(...tr)]}if(er.type==="category")return er.ticks.map(String)}return(St=er==null?void 0:er.domain)!==null&&St!==void 0?St:defaultNumericDomain},mergeDomains=function er(){for(var St=arguments.length,tr=new Array(St),rr=0;rr<St;rr++)tr[rr]=arguments[rr];var nr=tr.filter(Boolean);if(nr.length!==0){var sr=nr.flat(),ir=Math.min(...sr),ar=Math.max(...sr);return[ir,ar]}},selectReferenceDots=er=>er.referenceElements.dots,filterReferenceElements=(er,St,tr)=>er.filter(rr=>rr.ifOverflow==="extendDomain").filter(rr=>St==="xAxis"?rr.xAxisId===tr:rr.yAxisId===tr),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=er=>er.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=er=>er.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(er,St)=>{var tr=onlyAllowNumbers(er.map(rr=>St==="xAxis"?rr.x:rr.y));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(er,St)=>{var tr=onlyAllowNumbers(er.flatMap(rr=>[St==="xAxis"?rr.x1:rr.y1,St==="xAxis"?rr.x2:rr.y2]));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(er,St)=>{var tr=onlyAllowNumbers(er.map(rr=>St==="xAxis"?rr.x:rr.y));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(er,St,tr)=>mergeDomains(er,tr,St)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(er,St,tr,rr,nr)=>{var sr=numericalDomainSpecifiedWithoutRequiringData(St,er.allowDataOverflow);return sr??parseNumericalUserDomain(St,mergeDomains(tr,nr,computeNumericalDomain(rr)),er.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(er,St,tr,rr,nr,sr,ir)=>{if(!(er==null||tr==null||tr.length===0)){var{dataKey:ar,type:or}=er,lr=isCategoricalAxis(St,sr);return lr&&ar==null?range$3(0,tr.length):or==="category"?computeDomainOfTypeCategory(rr,er,lr):nr==="expand"?expandDomain:ir}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(er,St,tr,rr,nr)=>{if(er!=null){var{scale:sr,type:ir}=er;if(sr==="auto")return St==="radial"&&nr==="radiusAxis"?"band":St==="radial"&&nr==="angleAxis"?"linear":ir==="category"&&rr&&(rr.indexOf("LineChart")>=0||rr.indexOf("AreaChart")>=0||rr.indexOf("ComposedChart")>=0&&!tr)?"point":ir==="category"?"band":"linear";if(typeof sr=="string"){var ar="scale".concat(upperFirst(sr));return ar in d3Scales?ar:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(er){if(er!=null){if(er in d3Scales)return d3Scales[er]();var St="scale".concat(upperFirst(er));if(St in d3Scales)return d3Scales[St]()}}function combineScaleFunction(er,St,tr,rr){if(!(tr==null||rr==null)){if(typeof er.scale=="function")return er.scale.copy().domain(tr).range(rr);var nr=getD3ScaleFromType(St);if(nr!=null){var sr=nr.domain(tr).range(rr);return checkDomainOfScale(sr),sr}}}var combineNiceTicks=(er,St,tr)=>{var rr=getDomainDefinition(St);if(!(tr!=="auto"&&tr!=="linear")){if(St!=null&&St.tickCount&&Array.isArray(rr)&&(rr[0]==="auto"||rr[1]==="auto")&&isWellFormedNumberDomain(er))return getNiceTickValues(er,St.tickCount,St.allowDecimals);if(St!=null&&St.tickCount&&St.type==="number"&&isWellFormedNumberDomain(er))return getTickValuesFixedDomain(er,St.tickCount,St.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(er,St,tr,rr)=>{if(rr!=="angleAxis"&&(er==null?void 0:er.type)==="number"&&isWellFormedNumberDomain(St)&&Array.isArray(tr)&&tr.length>0){var nr=St[0],sr=tr[0],ir=St[1],ar=tr[tr.length-1];return[Math.min(nr,sr),Math.max(ir,ar)]}return St},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(er,St)=>{if(!(!St||St.type!=="number")){var tr=1/0,rr=Array.from(onlyAllowNumbers(er.map(ar=>ar.value))).sort((ar,or)=>ar-or);if(rr.length<2)return 1/0;var nr=rr[rr.length-1]-rr[0];if(nr===0)return 1/0;for(var sr=0;sr<rr.length-1;sr++){var ir=rr[sr+1]-rr[sr];tr=Math.min(tr,ir)}return tr/nr}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(er,St,tr,rr)=>rr,(er,St,tr,rr,nr)=>{if(!isWellBehavedNumber(er))return 0;var sr=St==="vertical"?rr.height:rr.width;if(nr==="gap")return er*sr/2;if(nr==="no-gap"){var ir=getPercentValue(tr,er*sr),ar=er*sr/2;return ar-ir-(ar-ir)/sr*ir}return 0}),selectCalculatedXAxisPadding=(er,St)=>{var tr=selectXAxisSettings(er,St);return tr==null||typeof tr.padding!="string"?0:selectCalculatedPadding(er,"xAxis",St,tr.padding)},selectCalculatedYAxisPadding=(er,St)=>{var tr=selectYAxisSettings(er,St);return tr==null||typeof tr.padding!="string"?0:selectCalculatedPadding(er,"yAxis",St,tr.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(er,St)=>{var tr,rr;if(er==null)return{left:0,right:0};var{padding:nr}=er;return typeof nr=="string"?{left:St,right:St}:{left:((tr=nr.left)!==null&&tr!==void 0?tr:0)+St,right:((rr=nr.right)!==null&&rr!==void 0?rr:0)+St}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(er,St)=>{var tr,rr;if(er==null)return{top:0,bottom:0};var{padding:nr}=er;return typeof nr=="string"?{top:St,bottom:St}:{top:((tr=nr.top)!==null&&tr!==void 0?tr:0)+St,bottom:((rr=nr.bottom)!==null&&rr!==void 0?rr:0)+St}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(er,St,tr)=>tr],(er,St,tr,rr,nr)=>{var{padding:sr}=rr;return nr?[sr.left,tr.width-sr.right]:[er.left+St.left,er.left+er.width-St.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(er,St,tr)=>tr],(er,St,tr,rr,nr,sr)=>{var{padding:ir}=nr;return sr?[rr.height-ir.bottom,ir.top]:St==="horizontal"?[er.top+er.height-tr.bottom,er.top+tr.top]:[er.top+tr.top,er.top+er.height-tr.bottom]}),selectAxisRange=(er,St,tr,rr)=>{var nr;switch(St){case"xAxis":return combineXAxisRange(er,tr,rr);case"yAxis":return combineYAxisRange(er,tr,rr);case"zAxis":return(nr=selectZAxisSettings(er,tr))===null||nr===void 0?void 0:nr.range;case"angleAxis":return selectAngleAxisRange(er);case"radiusAxis":return selectRadiusAxisRange(er,tr);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector(selectCartesianItemsSettings,pickAxisType,(er,St)=>er.flatMap(tr=>{var rr;return(rr=tr.errorBars)!==null&&rr!==void 0?rr:[]}).filter(tr=>isErrorBarRelevantForAxisType(St,tr)));function compareIds(er,St){return er.id<St.id?-1:er.id>St.id?1:0}var pickAxisOrientation=(er,St)=>St,pickMirror=(er,St,tr)=>tr,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(er,St,tr)=>er.filter(rr=>rr.orientation===St).filter(rr=>rr.mirror===tr).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(er,St,tr)=>er.filter(rr=>rr.orientation===St).filter(rr=>rr.mirror===tr).sort(compareIds)),getXAxisSize=(er,St)=>({width:er.width,height:St.height}),getYAxisSize=(er,St)=>{var tr=typeof St.width=="number"?St.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:er.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(er,St,tr)=>{switch(St){case"top":return er.top;case"bottom":return tr-er.bottom;default:return 0}},combineYAxisPositionStartingPoint=(er,St,tr)=>{switch(St){case"left":return er.left;case"right":return tr-er.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(er,St,tr,rr,nr)=>{var sr={},ir;return tr.forEach(ar=>{var or=getXAxisSize(St,ar);ir==null&&(ir=combineXAxisPositionStartingPoint(St,rr,er));var lr=rr==="top"&&!nr||rr==="bottom"&&nr;sr[ar.id]=ir-Number(lr)*or.height,ir+=(lr?-1:1)*or.height}),sr}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(er,St,tr,rr,nr)=>{var sr={},ir;return tr.forEach(ar=>{var or=getYAxisSize(St,ar);ir==null&&(ir=combineYAxisPositionStartingPoint(St,rr,er));var lr=rr==="left"&&!nr||rr==="right"&&nr;sr[ar.id]=ir-Number(lr)*or.width,ir+=(lr?-1:1)*or.width}),sr}),selectXAxisPosition=(er,St)=>{var tr=selectChartOffsetInternal(er),rr=selectXAxisSettings(er,St);if(rr!=null){var nr=selectAllXAxesOffsetSteps(er,rr.orientation,rr.mirror),sr=nr[St];return sr==null?{x:tr.left,y:0}:{x:tr.left,y:sr}}},selectYAxisPosition=(er,St)=>{var tr=selectChartOffsetInternal(er),rr=selectYAxisSettings(er,St);if(rr!=null){var nr=selectAllYAxesOffsetSteps(er,rr.orientation,rr.mirror),sr=nr[St];return sr==null?{x:0,y:tr.top}:{x:sr,y:tr.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(er,St)=>{var tr=typeof St.width=="number"?St.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:er.height}}),selectCartesianAxisSize=(er,St,tr)=>{switch(St){case"xAxis":return selectXAxisSize(er,tr).width;case"yAxis":return selectYAxisSize(er,tr).height;default:return}},combineDuplicateDomain=(er,St,tr,rr)=>{if(tr!=null){var{allowDuplicatedCategory:nr,type:sr,dataKey:ir}=tr,ar=isCategoricalAxis(er,rr),or=St.map(lr=>lr.value);if(ir&&ar&&sr==="category"&&nr&&hasDuplicate(or))return or}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(er,St,tr,rr)=>{if(!(tr==null||tr.dataKey==null)){var{type:nr,scale:sr}=tr,ir=isCategoricalAxis(er,rr);if(ir&&(nr==="number"||sr!=="auto"))return St.map(ar=>ar.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(er,St,tr,rr,nr,sr,ir,ar,or)=>{if(St==null)return null;var lr=isCategoricalAxis(er,or);return{angle:St.angle,interval:St.interval,minTickGap:St.minTickGap,orientation:St.orientation,tick:St.tick,tickCount:St.tickCount,tickFormatter:St.tickFormatter,ticks:St.ticks,type:St.type,unit:St.unit,axisType:or,categoricalDomain:sr,duplicateDomain:nr,isCategorical:lr,niceTicks:ar,range:ir,realScaleType:tr,scale:rr}}),combineAxisTicks=(er,St,tr,rr,nr,sr,ir,ar,or)=>{if(!(St==null||rr==null)){var lr=isCategoricalAxis(er,or),{type:cr,ticks:ur,tickCount:dr}=St,hr=tr==="scaleBand"&&typeof rr.bandwidth=="function"?rr.bandwidth()/2:2,Ar=cr==="category"&&rr.bandwidth?rr.bandwidth()/hr:0;Ar=or==="angleAxis"&&sr!=null&&sr.length>=2?mathSign(sr[0]-sr[1])*2*Ar:Ar;var fr=ur||nr;if(fr){var mr=fr.map((pr,gr)=>{var xr=ir?ir.indexOf(pr):pr;return{index:gr,coordinate:rr(xr)+Ar,value:pr,offset:Ar}});return mr.filter(pr=>!isNan(pr.coordinate))}return lr&&ar?ar.map((pr,gr)=>({coordinate:rr(pr)+Ar,value:pr,index:gr,offset:Ar})):rr.ticks?rr.ticks(dr).map(pr=>({coordinate:rr(pr)+Ar,value:pr,offset:Ar})):rr.domain().map((pr,gr)=>({coordinate:rr(pr)+Ar,value:ir?ir[pr]:pr,index:gr,offset:Ar}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(er,St,tr,rr,nr,sr,ir)=>{if(!(St==null||tr==null||rr==null||rr[0]===rr[1])){var ar=isCategoricalAxis(er,ir),{tickCount:or}=St,lr=0;return lr=ir==="angleAxis"&&(rr==null?void 0:rr.length)>=2?mathSign(rr[0]-rr[1])*2*lr:lr,ar&&sr?sr.map((cr,ur)=>({coordinate:tr(cr)+lr,value:cr,index:ur,offset:lr})):tr.ticks?tr.ticks(or).map(cr=>({coordinate:tr(cr)+lr,value:cr,offset:lr})):tr.domain().map((cr,ur)=>({coordinate:tr(cr)+lr,value:nr?nr[cr]:cr,index:ur,offset:lr}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(er,St)=>{if(!(er==null||St==null))return _objectSpread$o(_objectSpread$o({},er),{},{scale:St})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((er,St,tr)=>selectZAxisSettings(er,tr),selectZAxisScale,(er,St)=>{if(!(er==null||St==null))return _objectSpread$o(_objectSpread$o({},er),{},{scale:St})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(er,St,tr)=>{switch(er){case"horizontal":return St.some(rr=>rr.reversed)?"right-to-left":"left-to-right";case"vertical":return tr.some(rr=>rr.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=er=>er.options.defaultTooltipEventType,selectValidateTooltipEventTypes=er=>er.options.validateTooltipEventTypes;function combineTooltipEventType(er,St,tr){if(er==null)return St;var rr=er?"axis":"item";return tr==null?St:tr.includes(rr)?rr:St}function selectTooltipEventType$1(er,St){var tr=selectDefaultTooltipEventType(er),rr=selectValidateTooltipEventTypes(er);return combineTooltipEventType(St,tr,rr)}function useTooltipEventType(er){return useAppSelector(St=>selectTooltipEventType$1(St,er))}var combineActiveLabel=(er,St)=>{var tr,rr=Number(St);if(!(isNan(rr)||St==null))return rr>=0?er==null||(tr=er[rr])===null||tr===void 0?void 0:tr.value:void 0},selectTooltipSettings=er=>er.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$7={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$7,reducers:{addTooltipEntrySettings(er,St){er.tooltipItemPayloads.push(St.payload)},removeTooltipEntrySettings(er,St){var tr=current(er).tooltipItemPayloads.indexOf(St.payload);tr>-1&&er.tooltipItemPayloads.splice(tr,1)},setTooltipSettingsState(er,St){er.settings=St.payload},setActiveMouseOverItemIndex(er,St){er.syncInteraction.active=!1,er.keyboardInteraction.active=!1,er.itemInteraction.hover.active=!0,er.itemInteraction.hover.index=St.payload.activeIndex,er.itemInteraction.hover.dataKey=St.payload.activeDataKey,er.itemInteraction.hover.coordinate=St.payload.activeCoordinate},mouseLeaveChart(er){er.itemInteraction.hover.active=!1,er.axisInteraction.hover.active=!1},mouseLeaveItem(er){er.itemInteraction.hover.active=!1},setActiveClickItemIndex(er,St){er.syncInteraction.active=!1,er.itemInteraction.click.active=!0,er.keyboardInteraction.active=!1,er.itemInteraction.click.index=St.payload.activeIndex,er.itemInteraction.click.dataKey=St.payload.activeDataKey,er.itemInteraction.click.coordinate=St.payload.activeCoordinate},setMouseOverAxisIndex(er,St){er.syncInteraction.active=!1,er.axisInteraction.hover.active=!0,er.keyboardInteraction.active=!1,er.axisInteraction.hover.index=St.payload.activeIndex,er.axisInteraction.hover.dataKey=St.payload.activeDataKey,er.axisInteraction.hover.coordinate=St.payload.activeCoordinate},setMouseClickAxisIndex(er,St){er.syncInteraction.active=!1,er.keyboardInteraction.active=!1,er.axisInteraction.click.active=!0,er.axisInteraction.click.index=St.payload.activeIndex,er.axisInteraction.click.dataKey=St.payload.activeDataKey,er.axisInteraction.click.coordinate=St.payload.activeCoordinate},setSyncInteraction(er,St){er.syncInteraction=St.payload},setKeyboardInteraction(er,St){er.keyboardInteraction.active=St.payload.active,er.keyboardInteraction.index=St.payload.activeIndex,er.keyboardInteraction.coordinate=St.payload.activeCoordinate,er.keyboardInteraction.dataKey=St.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$n(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$n(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$n(Object(tr),!0).forEach(function(rr){_defineProperty$r(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$n(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$r(er,St,tr){return(St=_toPropertyKey$r(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$r(er){var St=_toPrimitive$r(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$r(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function chooseAppropriateMouseInteraction(er,St,tr){return St==="axis"?tr==="click"?er.axisInteraction.click:er.axisInteraction.hover:tr==="click"?er.itemInteraction.click:er.itemInteraction.hover}function hasBeenActivePreviously(er){return er.index!=null}var combineTooltipInteractionState=(er,St,tr,rr)=>{if(St==null)return noInteraction;var nr=chooseAppropriateMouseInteraction(er,St,tr);if(nr==null)return noInteraction;if(nr.active)return nr;if(er.keyboardInteraction.active)return er.keyboardInteraction;if(er.syncInteraction.active&&er.syncInteraction.index!=null)return er.syncInteraction;var sr=er.settings.active===!0;if(hasBeenActivePreviously(nr)){if(sr)return _objectSpread$n(_objectSpread$n({},nr),{},{active:!0})}else if(rr!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:rr};return _objectSpread$n(_objectSpread$n({},noInteraction),{},{coordinate:nr.coordinate})},combineActiveTooltipIndex=(er,St)=>{var tr=er==null?void 0:er.index;if(tr==null)return null;var rr=Number(tr);if(!isWellBehavedNumber(rr))return tr;var nr=0,sr=1/0;return St.length>0&&(sr=St.length-1),String(Math.max(nr,Math.min(rr,sr)))},combineCoordinateForDefaultIndex=(er,St,tr,rr,nr,sr,ir,ar)=>{if(!(sr==null||ar==null)){var or=ir[0],lr=or==null?void 0:ar(or.positions,sr);if(lr!=null)return lr;var cr=nr==null?void 0:nr[Number(sr)];if(cr)switch(tr){case"horizontal":return{x:cr.coordinate,y:(rr.top+St)/2};default:return{x:(rr.left+er)/2,y:cr.coordinate}}}},combineTooltipPayloadConfigurations=(er,St,tr,rr)=>{if(St==="axis")return er.tooltipItemPayloads;if(er.tooltipItemPayloads.length===0)return[];var nr;return tr==="hover"?nr=er.itemInteraction.hover.dataKey:nr=er.itemInteraction.click.dataKey,nr==null&&rr!=null?[er.tooltipItemPayloads[0]]:er.tooltipItemPayloads.filter(sr=>{var ir;return((ir=sr.settings)===null||ir===void 0?void 0:ir.dataKey)===nr})},selectTooltipPayloadSearcher=er=>er.options.tooltipPayloadSearcher,selectTooltipState=er=>er.tooltip;function ownKeys$m(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$m(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$m(Object(tr),!0).forEach(function(rr){_defineProperty$q(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$m(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$q(er,St,tr){return(St=_toPropertyKey$q(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$q(er){var St=_toPrimitive$q(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$q(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function getSliced(er,St,tr){return Array.isArray(er)&&er&&St+tr!==0?er.slice(St,tr+1):er}function selectFinalData(er,St){return er??St}var combineTooltipPayload=(er,St,tr,rr,nr,sr,ir)=>{if(!(St==null||sr==null)){var{chartData:ar,computedData:or,dataStartIndex:lr,dataEndIndex:cr}=tr,ur=[];return er.reduce((dr,hr)=>{var Ar,{dataDefinedOnItem:fr,settings:mr}=hr,pr=selectFinalData(fr,ar),gr=getSliced(pr,lr,cr),xr=(Ar=mr==null?void 0:mr.dataKey)!==null&&Ar!==void 0?Ar:rr==null?void 0:rr.dataKey,yr=mr==null?void 0:mr.nameKey,Er;if(rr!=null&&rr.dataKey&&Array.isArray(gr)&&!Array.isArray(gr[0])&&ir==="axis"?Er=findEntryInArray(gr,rr.dataKey,nr):Er=sr(gr,St,or,yr),Array.isArray(Er))Er.forEach(Sr=>{var jr=_objectSpread$m(_objectSpread$m({},mr),{},{name:Sr.name,unit:Sr.unit,color:void 0,fill:void 0});dr.push(getTooltipEntry({tooltipEntrySettings:jr,dataKey:Sr.dataKey,payload:Sr.payload,value:getValueByDataKey(Sr.payload,Sr.dataKey),name:Sr.name}))});else{var _r;dr.push(getTooltipEntry({tooltipEntrySettings:mr,dataKey:xr,payload:Er,value:getValueByDataKey(Er,xr),name:(_r=getValueByDataKey(Er,yr))!==null&&_r!==void 0?_r:mr==null?void 0:mr.name}))}return dr},ur)}},selectTooltipAxisType=er=>{var St=selectChartLayout(er);return St==="horizontal"?"xAxis":St==="vertical"?"yAxis":St==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=er=>er.tooltip.settings.axisId,selectTooltipAxis=er=>{var St=selectTooltipAxisType(er),tr=selectTooltipAxisId(er);return selectAxisSettings(er,St,tr)},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([er=>er.graphicalItems.cartesianItems,er=>er.graphicalItems.polarItems],(er,St)=>[...er,...St]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipStackGroups=createSelector([selectTooltipDisplayedData,selectAllGraphicalItemsSettings,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=er=>{var St=selectTooltipAxisType(er),tr=selectTooltipAxisId(er),rr=!1;return selectAxisRange(er,St,tr,rr)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(er,St,tr,rr,nr,sr,ir,ar)=>{if(St){var{type:or}=St,lr=isCategoricalAxis(er,ar);if(rr){var cr=tr==="scaleBand"&&rr.bandwidth?rr.bandwidth()/2:2,ur=or==="category"&&rr.bandwidth?rr.bandwidth()/cr:0;return ur=ar==="angleAxis"&&nr!=null&&(nr==null?void 0:nr.length)>=2?mathSign(nr[0]-nr[1])*2*ur:ur,lr&&ir?ir.map((dr,hr)=>({coordinate:rr(dr)+ur,value:dr,index:hr,offset:ur})):rr.domain().map((dr,hr)=>({coordinate:rr(dr)+ur,value:sr?sr[dr]:dr,index:hr,offset:ur}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(er,St,tr)=>combineTooltipEventType(tr.shared,er,St)),selectTooltipTrigger=er=>er.tooltip.settings.trigger,selectDefaultIndex=er=>er.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],er=>{if(er)return er.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(er,St)=>er!=null&&er.coordinate?er.coordinate:St),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],er=>er.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],er=>{if(er!=null){var St=er.map(tr=>tr.payload).filter(tr=>tr!=null);return Array.from(new Set(St))}});function ownKeys$l(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$l(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$l(Object(tr),!0).forEach(function(rr){_defineProperty$p(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$l(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$p(er,St,tr){return(St=_toPropertyKey$p(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$p(er){var St=_toPrimitive$p(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$p(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var er=useTooltipAxis(),St=useAppSelector(selectTooltipAxisTicks),tr=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$l(_objectSpread$l({},er),{},{scale:tr}),St)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(er,St)=>St,pickTrigger=(er,St,tr)=>tr,pickDefaultIndex=(er,St,tr,rr)=>rr,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,er=>sortBy$1(er,St=>St.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(er,St,tr)=>{if(St!=null){var rr=selectTooltipState(er);return St==="axis"?tr==="hover"?rr.axisInteraction.hover.dataKey:rr.axisInteraction.click.dataKey:tr==="hover"?rr.itemInteraction.hover.dataKey:rr.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(er,St)=>{var tr;return(tr=er.coordinate)!==null&&tr!==void 0?tr:St}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],er=>({isActive:er.active,activeIndex:er.index})),combineActiveProps=(er,St,tr,rr,nr,sr,ir,ar)=>{if(!(!er||!St||!rr||!nr||!sr)){var or=inRange(er.chartX,er.chartY,St,tr,ar);if(or){var lr=calculateTooltipPos(or,St),cr=calculateActiveTickIndex(lr,ir,sr,rr,nr),ur=getActiveCoordinate(St,sr,cr,or);return{activeIndex:String(cr),activeCoordinate:ur}}}};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$i.apply(null,arguments)}function ownKeys$k(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$k(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$k(Object(tr),!0).forEach(function(rr){_defineProperty$o(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$k(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$o(er,St,tr){return(St=_toPropertyKey$o(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$o(er){var St=_toPrimitive$o(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$o(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function CursorInternal(er){var{coordinate:St,payload:tr,index:rr,offset:nr,tooltipAxisBandSize:sr,layout:ir,cursor:ar,tooltipEventType:or,chartName:lr}=er,cr=St,ur=tr,dr=rr;if(!ar||!cr||lr!=="ScatterChart"&&or!=="axis")return null;var hr,Ar;if(lr==="ScatterChart")hr=cr,Ar=Cross;else if(lr==="BarChart")hr=getCursorRectangle(ir,cr,nr,sr),Ar=Rectangle;else if(ir==="radial"){var{cx:fr,cy:mr,radius:pr,startAngle:gr,endAngle:xr}=getRadialCursorPoints(cr);hr={cx:fr,cy:mr,startAngle:gr,endAngle:xr,innerRadius:pr,outerRadius:pr},Ar=Sector}else hr={points:getCursorPoints(ir,cr,nr)},Ar=Curve;var yr=typeof ar=="object"&&"className"in ar?ar.className:void 0,Er=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({stroke:"#ccc",pointerEvents:"none"},nr),hr),filterProps$1(ar,!1)),{},{payload:ur,payloadIndex:dr,className:clsx("recharts-tooltip-cursor",yr)});return reactExports.isValidElement(ar)?reactExports.cloneElement(ar,Er):reactExports.createElement(Ar,Er)}function Cursor(er){var St=useTooltipAxisBandSize(),tr=useOffsetInternal(),rr=useChartLayout(),nr=useChartName();return reactExports.createElement(CursorInternal,_extends$i({},er,{coordinate:er.coordinate,index:er.index,payload:er.payload,offset:tr,layout:rr,tooltipAxisBandSize:St,chartName:nr}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}};(function(er){var St=Object.prototype.hasOwnProperty,tr="~";function rr(){}Object.create&&(rr.prototype=Object.create(null),new rr().__proto__||(tr=!1));function nr(or,lr,cr){this.fn=or,this.context=lr,this.once=cr||!1}function sr(or,lr,cr,ur,dr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var hr=new nr(cr,ur||or,dr),Ar=tr?tr+lr:lr;return or._events[Ar]?or._events[Ar].fn?or._events[Ar]=[or._events[Ar],hr]:or._events[Ar].push(hr):(or._events[Ar]=hr,or._eventsCount++),or}function ir(or,lr){--or._eventsCount===0?or._events=new rr:delete or._events[lr]}function ar(){this._events=new rr,this._eventsCount=0}ar.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)St.call(cr,ur)&&lr.push(tr?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},ar.prototype.listeners=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var dr=0,hr=ur.length,Ar=new Array(hr);dr<hr;dr++)Ar[dr]=ur[dr].fn;return Ar},ar.prototype.listenerCount=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},ar.prototype.emit=function(lr,cr,ur,dr,hr,Ar){var fr=tr?tr+lr:lr;if(!this._events[fr])return!1;var mr=this._events[fr],pr=arguments.length,gr,xr;if(mr.fn){switch(mr.once&&this.removeListener(lr,mr.fn,void 0,!0),pr){case 1:return mr.fn.call(mr.context),!0;case 2:return mr.fn.call(mr.context,cr),!0;case 3:return mr.fn.call(mr.context,cr,ur),!0;case 4:return mr.fn.call(mr.context,cr,ur,dr),!0;case 5:return mr.fn.call(mr.context,cr,ur,dr,hr),!0;case 6:return mr.fn.call(mr.context,cr,ur,dr,hr,Ar),!0}for(xr=1,gr=new Array(pr-1);xr<pr;xr++)gr[xr-1]=arguments[xr];mr.fn.apply(mr.context,gr)}else{var yr=mr.length,Er;for(xr=0;xr<yr;xr++)switch(mr[xr].once&&this.removeListener(lr,mr[xr].fn,void 0,!0),pr){case 1:mr[xr].fn.call(mr[xr].context);break;case 2:mr[xr].fn.call(mr[xr].context,cr);break;case 3:mr[xr].fn.call(mr[xr].context,cr,ur);break;case 4:mr[xr].fn.call(mr[xr].context,cr,ur,dr);break;default:if(!gr)for(Er=1,gr=new Array(pr-1);Er<pr;Er++)gr[Er-1]=arguments[Er];mr[xr].fn.apply(mr[xr].context,gr)}}return!0},ar.prototype.on=function(lr,cr,ur){return sr(this,lr,cr,ur,!1)},ar.prototype.once=function(lr,cr,ur){return sr(this,lr,cr,ur,!0)},ar.prototype.removeListener=function(lr,cr,ur,dr){var hr=tr?tr+lr:lr;if(!this._events[hr])return this;if(!cr)return ir(this,hr),this;var Ar=this._events[hr];if(Ar.fn)Ar.fn===cr&&(!dr||Ar.once)&&(!ur||Ar.context===ur)&&ir(this,hr);else{for(var fr=0,mr=[],pr=Ar.length;fr<pr;fr++)(Ar[fr].fn!==cr||dr&&!Ar[fr].once||ur&&Ar[fr].context!==ur)&&mr.push(Ar[fr]);mr.length?this._events[hr]=mr.length===1?mr[0]:mr:ir(this,hr)}return this},ar.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=tr?tr+lr:lr,this._events[cr]&&ir(this,cr)):(this._events=new rr,this._eventsCount=0),this},ar.prototype.off=ar.prototype.removeListener,ar.prototype.addListener=ar.prototype.on,ar.prefixed=tr,ar.EventEmitter=ar,er.exports=ar})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(er,St){if(St){var tr=Number.parseInt(St,10);if(!isNan(tr))return er==null?void 0:er[tr]}}var initialState$6={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$6,reducers:{createEventEmitter:er=>{er.eventEmitter==null&&(er.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(er){return er.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(er,St){if(er.chartData=St.payload,St.payload==null){er.dataStartIndex=0,er.dataEndIndex=0;return}St.payload.length>0&&er.dataEndIndex!==St.payload.length-1&&(er.dataEndIndex=St.payload.length-1)},setComputedData(er,St){er.computedData=St.payload},setDataStartEndIndexes(er,St){var{startIndex:tr,endIndex:rr}=St.payload;tr!=null&&(er.dataStartIndex=tr),rr!=null&&(er.dataEndIndex=rr)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,noop$3=()=>{};function useTooltipSyncEventsListener(){var er=useAppSelector(selectSyncId),St=useAppSelector(selectEventEmitter),tr=useAppDispatch(),rr=useAppSelector(selectSyncMethod),nr=useAppSelector(selectTooltipAxisTicks),sr=useChartLayout(),ir=useViewBox(),ar=useAppSelector(or=>or.rootProps.className);reactExports.useEffect(()=>{if(er==null)return noop$3;var or=(lr,cr,ur)=>{if(St!==ur&&er===lr){if(rr==="index"){tr(cr);return}if(nr!=null){var dr;if(typeof rr=="function"){var hr={activeTooltipIndex:cr.payload.index==null?void 0:Number(cr.payload.index),isTooltipActive:cr.payload.active,activeIndex:cr.payload.index==null?void 0:Number(cr.payload.index),activeLabel:cr.payload.label,activeDataKey:cr.payload.dataKey,activeCoordinate:cr.payload.coordinate},Ar=rr(nr,hr);dr=nr[Ar]}else rr==="value"&&(dr=nr.find(_r=>String(_r.value)===cr.payload.label));var{coordinate:fr}=cr.payload;if(dr==null||cr.payload.active===!1||fr==null||ir==null){tr(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:mr,y:pr}=fr,gr=Math.min(mr,ir.x+ir.width),xr=Math.min(pr,ir.y+ir.height),yr={x:sr==="horizontal"?dr.coordinate:gr,y:sr==="horizontal"?xr:dr.coordinate},Er=setSyncInteraction({active:cr.payload.active,coordinate:yr,dataKey:cr.payload.dataKey,index:String(dr.index),label:cr.payload.label});tr(Er)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,or),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,or)}},[ar,tr,St,er,rr,nr,sr,ir])}function useBrushSyncEventsListener(){var er=useAppSelector(selectSyncId),St=useAppSelector(selectEventEmitter),tr=useAppDispatch();reactExports.useEffect(()=>{if(er==null)return noop$3;var rr=(nr,sr,ir)=>{St!==ir&&er===nr&&tr(setDataStartEndIndexes(sr))};return eventCenter.on(BRUSH_SYNC_EVENT,rr),()=>{eventCenter.off(BRUSH_SYNC_EVENT,rr)}},[tr,St,er])}function useSynchronisedEventsFromOtherCharts(){var er=useAppDispatch();reactExports.useEffect(()=>{er(createEventEmitter())},[er]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(er,St,tr,rr,nr,sr){var ir=useAppSelector(dr=>selectTooltipDataKey(dr,er,St)),ar=useAppSelector(selectEventEmitter),or=useAppSelector(selectSyncId),lr=useAppSelector(selectSyncMethod),cr=useAppSelector(selectSynchronisedTooltipState),ur=cr==null?void 0:cr.active;reactExports.useEffect(()=>{if(!ur&&or!=null&&ar!=null){var dr=setSyncInteraction({active:sr,coordinate:tr,dataKey:ir,index:nr,label:typeof rr=="number"?String(rr):rr});eventCenter.emit(TOOLTIP_SYNC_EVENT,or,dr,ar)}},[ur,tr,ir,nr,rr,ar,or,lr,sr])}function ownKeys$j(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$j(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$j(Object(tr),!0).forEach(function(rr){_defineProperty$n(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$j(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$n(er,St,tr){return(St=_toPropertyKey$n(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$n(er){var St=_toPrimitive$n(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$n(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function defaultUniqBy(er){return er.dataKey}function renderContent(er,St){return reactExports.isValidElement(er)?reactExports.cloneElement(er,St):typeof er=="function"?reactExports.createElement(er,St):reactExports.createElement(DefaultTooltipContent,St)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(er){var St=resolveDefaultProps(er,defaultTooltipProps),{active:tr,allowEscapeViewBox:rr,animationDuration:nr,animationEasing:sr,content:ir,filterNull:ar,isAnimationActive:or,offset:lr,payloadUniqBy:cr,position:ur,reverseDirection:dr,useTranslate3d:hr,wrapperStyle:Ar,cursor:fr,shared:mr,trigger:pr,defaultIndex:gr,portal:xr,axisId:yr}=St,Er=useAppDispatch(),_r=typeof gr=="number"?String(gr):gr;reactExports.useEffect(()=>{Er(setTooltipSettingsState({shared:mr,trigger:pr,axisId:yr,active:tr,defaultIndex:_r}))},[Er,mr,pr,yr,tr,_r]);var Sr=useViewBox(),jr=useAccessibilityLayer(),Pr=useTooltipEventType(mr),{activeIndex:Mr,isActive:Ir}=useAppSelector(zr=>selectIsTooltipActive(zr,Pr,pr,_r)),Lr=useAppSelector(zr=>selectTooltipPayload(zr,Pr,pr,_r)),Qr=useAppSelector(zr=>selectActiveLabel(zr,Pr,pr,_r)),Yr=useAppSelector(zr=>selectActiveCoordinate(zr,Pr,pr,_r)),Gr=Lr,$r=useTooltipPortal(),Vr=tr??Ir,[Tr,Fr]=useElementOffset([Gr,Vr]),Wr=Pr==="axis"?Qr:void 0;useTooltipChartSynchronisation(Pr,pr,Yr,Wr,Mr,Vr);var qr=xr??$r;if(qr==null)return null;var Rr=Gr??emptyPayload;Vr||(Rr=emptyPayload),ar&&Rr.length&&(Rr=getUniqPayload(Gr.filter(zr=>zr.value!=null&&(zr.hide!==!0||St.includeHidden)),cr,defaultUniqBy));var Or=Rr.length>0,Hr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:rr,animationDuration:nr,animationEasing:sr,isAnimationActive:or,active:Vr,coordinate:Yr,hasPayload:Or,offset:lr,position:ur,reverseDirection:dr,useTranslate3d:hr,viewBox:Sr,wrapperStyle:Ar,lastBoundingBox:Tr,innerRef:Fr,hasPortalFromProps:!!xr},renderContent(ir,_objectSpread$j(_objectSpread$j({},St),{},{payload:Rr,label:Wr,active:Vr,coordinate:Yr,accessibilityLayer:jr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Hr,qr),Vr&&reactExports.createElement(Cursor,{cursor:fr,tooltipEventType:Pr,coordinate:Yr,payload:Gr,index:Mr}))}var throttle$2={},debounce$1={},debounce={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr,rr,{signal:nr,edges:sr}={}){let ir,ar=null;const or=sr!=null&&sr.includes("leading"),lr=sr==null||sr.includes("trailing"),cr=()=>{ar!==null&&(tr.apply(ir,ar),ir=void 0,ar=null)},ur=()=>{lr&&cr(),fr()};let dr=null;const hr=()=>{dr!=null&&clearTimeout(dr),dr=setTimeout(()=>{dr=null,ur()},rr)},Ar=()=>{dr!==null&&(clearTimeout(dr),dr=null)},fr=()=>{Ar(),ir=void 0,ar=null},mr=()=>{cr()},pr=function(...gr){if(nr!=null&&nr.aborted)return;ir=this,ar=gr;const xr=dr==null;hr(),or&&xr&&cr()};return pr.schedule=hr,pr.cancel=fr,pr.flush=mr,nr==null||nr.addEventListener("abort",fr,{once:!0}),pr}er.debounce=St})(debounce);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=debounce;function tr(rr,nr=0,sr={}){typeof sr!="object"&&(sr={});const{leading:ir=!1,trailing:ar=!0,maxWait:or}=sr,lr=Array(2);ir&&(lr[0]="leading"),ar&&(lr[1]="trailing");let cr,ur=null;const dr=St.debounce(function(...fr){cr=rr.apply(this,fr),ur=null},nr,{edges:lr}),hr=function(...fr){return or!=null&&(ur===null&&(ur=Date.now()),Date.now()-ur>=or)?(cr=rr.apply(this,fr),ur=Date.now(),dr.cancel(),dr.schedule(),cr):(dr.apply(this,fr),cr)},Ar=()=>(dr.flush(),cr);return hr.cancel=dr.cancel,hr.flush=Ar,hr}er.debounce=tr})(debounce$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=debounce$1;function tr(rr,nr=0,sr={}){const{leading:ir=!0,trailing:ar=!0}=sr;return St.debounce(rr,nr,{leading:ir,maxWait:nr,trailing:ar})}er.throttle=tr})(throttle$2);var throttle=throttle$2.throttle;const throttle$1=getDefaultExportFromCjs(throttle);var warn=function er(St,tr){for(var rr=arguments.length,nr=new Array(rr>2?rr-2:0),sr=2;sr<rr;sr++)nr[sr-2]=arguments[sr]};function ownKeys$i(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$i(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$i(Object(tr),!0).forEach(function(rr){_defineProperty$m(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$i(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$m(er,St,tr){return(St=_toPropertyKey$m(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$m(er){var St=_toPrimitive$m(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$m(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var ResponsiveContainer=reactExports.forwardRef((er,St)=>{var{aspect:tr,initialDimension:rr={width:-1,height:-1},width:nr="100%",height:sr="100%",minWidth:ir=0,minHeight:ar,maxHeight:or,children:lr,debounce:cr=0,id:ur,className:dr,onResize:hr,style:Ar={}}=er,fr=reactExports.useRef(null),mr=reactExports.useRef();mr.current=hr,reactExports.useImperativeHandle(St,()=>fr.current);var[pr,gr]=reactExports.useState({containerWidth:rr.width,containerHeight:rr.height}),xr=reactExports.useCallback((Er,_r)=>{gr(Sr=>{var jr=Math.round(Er),Pr=Math.round(_r);return Sr.containerWidth===jr&&Sr.containerHeight===Pr?Sr:{containerWidth:jr,containerHeight:Pr}})},[]);reactExports.useEffect(()=>{var Er=Pr=>{var Mr,{width:Ir,height:Lr}=Pr[0].contentRect;xr(Ir,Lr),(Mr=mr.current)===null||Mr===void 0||Mr.call(mr,Ir,Lr)};cr>0&&(Er=throttle$1(Er,cr,{trailing:!0,leading:!1}));var _r=new ResizeObserver(Er),{width:Sr,height:jr}=fr.current.getBoundingClientRect();return xr(Sr,jr),_r.observe(fr.current),()=>{_r.disconnect()}},[xr,cr]);var yr=reactExports.useMemo(()=>{var{containerWidth:Er,containerHeight:_r}=pr;if(Er<0||_r<0)return null;warn(isPercent(nr)||isPercent(sr),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,nr,sr),warn(!tr||tr>0,"The aspect(%s) must be greater than zero.",tr);var Sr=isPercent(nr)?Er:nr,jr=isPercent(sr)?_r:sr;return tr&&tr>0&&(Sr?jr=Sr/tr:jr&&(Sr=jr*tr),or&&jr>or&&(jr=or)),warn(Sr>0||jr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Sr,jr,nr,sr,ir,ar,tr),reactExports.Children.map(lr,Pr=>reactExports.cloneElement(Pr,{width:Sr,height:jr,style:_objectSpread$i({width:Sr,height:jr},Pr.props.style)}))},[tr,lr,sr,or,ar,ir,pr,nr]);return reactExports.createElement("div",{id:ur?"".concat(ur):void 0,className:clsx("recharts-responsive-container",dr),style:_objectSpread$i(_objectSpread$i({},Ar),{},{width:nr,height:sr,minWidth:ir,minHeight:ar,maxHeight:or}),ref:fr},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},yr))}),Cell$1=er=>null;Cell$1.displayName="Cell";function ownKeys$h(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$h(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$h(Object(tr),!0).forEach(function(rr){_defineProperty$l(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$h(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$l(er,St,tr){return(St=_toPropertyKey$l(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$l(er){var St=_toPrimitive$l(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$l(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(er){var St=_objectSpread$h({},er);return Object.keys(St).forEach(tr=>{St[tr]||delete St[tr]}),St}var getStringSize=function er(St){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(St==null||Global.isSsr)return{width:0,height:0};var rr=removeInvalidKeys(tr),nr=JSON.stringify({text:St,copyStyle:rr});if(stringCache.widthCache[nr])return stringCache.widthCache[nr];try{var sr=document.getElementById(MEASUREMENT_SPAN_ID);sr||(sr=document.createElement("span"),sr.setAttribute("id",MEASUREMENT_SPAN_ID),sr.setAttribute("aria-hidden","true"),document.body.appendChild(sr));var ir=_objectSpread$h(_objectSpread$h({},SPAN_STYLE),rr);Object.assign(sr.style,ir),sr.textContent="".concat(St);var ar=sr.getBoundingClientRect(),or={width:ar.width,height:ar.height};return stringCache.widthCache[nr]=or,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),or}catch{return{width:0,height:0}}},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(er,St){return er*CONVERSION_RATES[St]}class DecimalCSS{static parse(St){var tr,[,rr,nr]=(tr=NUM_SPLIT_REGEX.exec(St))!==null&&tr!==void 0?tr:[];return new DecimalCSS(parseFloat(rr),nr??"")}constructor(St,tr){this.num=St,this.unit=tr,this.num=St,this.unit=tr,isNan(St)&&(this.unit=""),tr!==""&&!CSS_LENGTH_UNIT_REGEX.test(tr)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(tr)&&(this.num=convertToPx(St,tr),this.unit="px")}add(St){return this.unit!==St.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+St.num,this.unit)}subtract(St){return this.unit!==St.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-St.num,this.unit)}multiply(St){return this.unit!==""&&St.unit!==""&&this.unit!==St.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*St.num,this.unit||St.unit)}divide(St){return this.unit!==""&&St.unit!==""&&this.unit!==St.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/St.num,this.unit||St.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(er){if(er.includes(STR_NAN))return STR_NAN;for(var St=er;St.includes("*")||St.includes("/");){var tr,[,rr,nr,sr]=(tr=MULTIPLY_OR_DIVIDE_REGEX.exec(St))!==null&&tr!==void 0?tr:[],ir=DecimalCSS.parse(rr??""),ar=DecimalCSS.parse(sr??""),or=nr==="*"?ir.multiply(ar):ir.divide(ar);if(or.isNaN())return STR_NAN;St=St.replace(MULTIPLY_OR_DIVIDE_REGEX,or.toString())}for(;St.includes("+")||/.-\d+(?:\.\d+)?/.test(St);){var lr,[,cr,ur,dr]=(lr=ADD_OR_SUBTRACT_REGEX.exec(St))!==null&&lr!==void 0?lr:[],hr=DecimalCSS.parse(cr??""),Ar=DecimalCSS.parse(dr??""),fr=ur==="+"?hr.add(Ar):hr.subtract(Ar);if(fr.isNaN())return STR_NAN;St=St.replace(ADD_OR_SUBTRACT_REGEX,fr.toString())}return St}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(er){for(var St=er,tr;(tr=PARENTHESES_REGEX.exec(St))!=null;){var[,rr]=tr;St=St.replace(PARENTHESES_REGEX,calculateArithmetic(rr))}return St}function evaluateExpression(er){var St=er.replace(/\s+/g,"");return St=calculateParentheses(St),St=calculateArithmetic(St),St}function safeEvaluateExpression(er){try{return evaluateExpression(er)}catch{return STR_NAN}}function reduceCSSCalc(er){var St=safeEvaluateExpression(er.slice(5,-1));return St===STR_NAN?"":St}var _excluded$i=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$8=["dx","dy","angle","className","breakAll"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$h.apply(null,arguments)}function _objectWithoutProperties$i(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$i(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$i(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=er=>{var{children:St,breakAll:tr,style:rr}=er;try{var nr=[];isNullish$1(St)||(tr?nr=St.toString().split(""):nr=St.toString().split(BREAKING_SPACES));var sr=nr.map(ar=>({word:ar,width:getStringSize(ar,rr).width})),ir=tr?0:getStringSize("",rr).width;return{wordsWithComputedWidth:sr,spaceWidth:ir}}catch{return null}},calculateWordsByLines=(er,St,tr,rr,nr)=>{var{maxLines:sr,children:ir,style:ar,breakAll:or}=er,lr=isNumber(sr),cr=ir,ur=function(){var Ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ir.reduce((Lr,Qr)=>{var{word:Yr,width:Gr}=Qr,$r=Lr[Lr.length-1];if($r&&(rr==null||nr||$r.width+Gr+tr<Number(rr)))$r.words.push(Yr),$r.width+=Gr+tr;else{var Vr={words:[Yr],width:Gr};Lr.push(Vr)}return Lr},[])},dr=ur(St),hr=Mr=>Mr.reduce((Ir,Lr)=>Ir.width>Lr.width?Ir:Lr);if(!lr||nr)return dr;var Ar=dr.length>sr||hr(dr).width>Number(rr);if(!Ar)return dr;for(var fr="",mr=Mr=>{var Ir=cr.slice(0,Mr),Lr=calculateWordWidths({breakAll:or,style:ar,children:Ir+fr}).wordsWithComputedWidth,Qr=ur(Lr),Yr=Qr.length>sr||hr(Qr).width>Number(rr);return[Yr,Qr]},pr=0,gr=cr.length-1,xr=0,yr;pr<=gr&&xr<=cr.length-1;){var Er=Math.floor((pr+gr)/2),_r=Er-1,[Sr,jr]=mr(_r),[Pr]=mr(Er);if(!Sr&&!Pr&&(pr=Er+1),Sr&&Pr&&(gr=Er-1),!Sr&&Pr){yr=jr;break}xr++}return yr||dr},getWordsWithoutCalculate=er=>{var St=isNullish$1(er)?[]:er.toString().split(BREAKING_SPACES);return[{words:St}]},getWordsByLines=er=>{var{width:St,scaleToFit:tr,children:rr,style:nr,breakAll:sr,maxLines:ir}=er;if((St||tr)&&!Global.isSsr){var ar,or,lr=calculateWordWidths({breakAll:sr,children:rr,style:nr});if(lr){var{wordsWithComputedWidth:cr,spaceWidth:ur}=lr;ar=cr,or=ur}else return getWordsWithoutCalculate(rr);return calculateWordsByLines({breakAll:sr,children:rr,maxLines:ir,style:nr},ar,or,St,tr)}return getWordsWithoutCalculate(rr)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((er,St)=>{var{x:tr=0,y:rr=0,lineHeight:nr="1em",capHeight:sr="0.71em",scaleToFit:ir=!1,textAnchor:ar="start",verticalAnchor:or="end",fill:lr=DEFAULT_FILL}=er,cr=_objectWithoutProperties$i(er,_excluded$i),ur=reactExports.useMemo(()=>getWordsByLines({breakAll:cr.breakAll,children:cr.children,maxLines:cr.maxLines,scaleToFit:ir,style:cr.style,width:cr.width}),[cr.breakAll,cr.children,cr.maxLines,ir,cr.style,cr.width]),{dx:dr,dy:hr,angle:Ar,className:fr,breakAll:mr}=cr,pr=_objectWithoutProperties$i(cr,_excluded2$8);if(!isNumOrStr(tr)||!isNumOrStr(rr))return null;var gr=tr+(isNumber(dr)?dr:0),xr=rr+(isNumber(hr)?hr:0),yr;switch(or){case"start":yr=reduceCSSCalc("calc(".concat(sr,")"));break;case"middle":yr=reduceCSSCalc("calc(".concat((ur.length-1)/2," * -").concat(nr," + (").concat(sr," / 2))"));break;default:yr=reduceCSSCalc("calc(".concat(ur.length-1," * -").concat(nr,")"));break}var Er=[];if(ir){var _r=ur[0].width,{width:Sr}=cr;Er.push("scale(".concat(isNumber(Sr)?Sr/_r:1,")"))}return Ar&&Er.push("rotate(".concat(Ar,", ").concat(gr,", ").concat(xr,")")),Er.length&&(pr.transform=Er.join(" ")),reactExports.createElement("text",_extends$h({},filterProps$1(pr,!0),{ref:St,x:gr,y:xr,className:clsx("recharts-text",fr),textAnchor:ar,fill:lr.includes("url")?DEFAULT_FILL:lr}),ur.map((jr,Pr)=>{var Mr=jr.words.join(mr?"":" ");return reactExports.createElement("tspan",{x:gr,dy:Pr===0?yr:nr,key:"".concat(Mr,"-").concat(Pr)},Mr)}))});Text.displayName="Text";var _excluded$h=["offset"],_excluded2$7=["labelRef"];function _objectWithoutProperties$h(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$h(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$h(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$g(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$g(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$g(Object(tr),!0).forEach(function(rr){_defineProperty$k(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$g(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$k(er,St,tr){return(St=_toPropertyKey$k(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$k(er){var St=_toPrimitive$k(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$k(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$g.apply(null,arguments)}var getLabel=er=>{var{value:St,formatter:tr}=er,rr=isNullish$1(er.children)?St:er.children;return typeof tr=="function"?tr(rr):rr},isLabelContentAFunction=er=>er!=null&&typeof er=="function",getDeltaAngle=(er,St)=>{var tr=mathSign(St-er),rr=Math.min(Math.abs(St-er),360);return tr*rr},renderRadialLabel=(er,St,tr)=>{var{position:rr,viewBox:nr,offset:sr,className:ir}=er,{cx:ar,cy:or,innerRadius:lr,outerRadius:cr,startAngle:ur,endAngle:dr,clockWise:hr}=nr,Ar=(lr+cr)/2,fr=getDeltaAngle(ur,dr),mr=fr>=0?1:-1,pr,gr;rr==="insideStart"?(pr=ur+mr*sr,gr=hr):rr==="insideEnd"?(pr=dr-mr*sr,gr=!hr):rr==="end"&&(pr=dr+mr*sr,gr=hr),gr=fr<=0?gr:!gr;var xr=polarToCartesian(ar,or,Ar,pr),yr=polarToCartesian(ar,or,Ar,pr+(gr?1:-1)*359),Er="M".concat(xr.x,",").concat(xr.y,`
    A`).concat(Ar,",").concat(Ar,",0,1,").concat(gr?0:1,`,
    `).concat(yr.x,",").concat(yr.y),_r=isNullish$1(er.id)?uniqueId("recharts-radial-line-"):er.id;return reactExports.createElement("text",_extends$g({},tr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",ir)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:_r,d:Er})),reactExports.createElement("textPath",{xlinkHref:"#".concat(_r)},St))},getAttrsOfPolarLabel=er=>{var{viewBox:St,offset:tr,position:rr}=er,{cx:nr,cy:sr,innerRadius:ir,outerRadius:ar,startAngle:or,endAngle:lr}=St,cr=(or+lr)/2;if(rr==="outside"){var{x:ur,y:dr}=polarToCartesian(nr,sr,ar+tr,cr);return{x:ur,y:dr,textAnchor:ur>=nr?"start":"end",verticalAnchor:"middle"}}if(rr==="center")return{x:nr,y:sr,textAnchor:"middle",verticalAnchor:"middle"};if(rr==="centerTop")return{x:nr,y:sr,textAnchor:"middle",verticalAnchor:"start"};if(rr==="centerBottom")return{x:nr,y:sr,textAnchor:"middle",verticalAnchor:"end"};var hr=(ir+ar)/2,{x:Ar,y:fr}=polarToCartesian(nr,sr,hr,cr);return{x:Ar,y:fr,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=(er,St)=>{var{parentViewBox:tr,offset:rr,position:nr}=er,{x:sr,y:ir,width:ar,height:or}=St,lr=or>=0?1:-1,cr=lr*rr,ur=lr>0?"end":"start",dr=lr>0?"start":"end",hr=ar>=0?1:-1,Ar=hr*rr,fr=hr>0?"end":"start",mr=hr>0?"start":"end";if(nr==="top"){var pr={x:sr+ar/2,y:ir-lr*rr,textAnchor:"middle",verticalAnchor:ur};return _objectSpread$g(_objectSpread$g({},pr),tr?{height:Math.max(ir-tr.y,0),width:ar}:{})}if(nr==="bottom"){var gr={x:sr+ar/2,y:ir+or+cr,textAnchor:"middle",verticalAnchor:dr};return _objectSpread$g(_objectSpread$g({},gr),tr?{height:Math.max(tr.y+tr.height-(ir+or),0),width:ar}:{})}if(nr==="left"){var xr={x:sr-Ar,y:ir+or/2,textAnchor:fr,verticalAnchor:"middle"};return _objectSpread$g(_objectSpread$g({},xr),tr?{width:Math.max(xr.x-tr.x,0),height:or}:{})}if(nr==="right"){var yr={x:sr+ar+Ar,y:ir+or/2,textAnchor:mr,verticalAnchor:"middle"};return _objectSpread$g(_objectSpread$g({},yr),tr?{width:Math.max(tr.x+tr.width-yr.x,0),height:or}:{})}var Er=tr?{width:ar,height:or}:{};return nr==="insideLeft"?_objectSpread$g({x:sr+Ar,y:ir+or/2,textAnchor:mr,verticalAnchor:"middle"},Er):nr==="insideRight"?_objectSpread$g({x:sr+ar-Ar,y:ir+or/2,textAnchor:fr,verticalAnchor:"middle"},Er):nr==="insideTop"?_objectSpread$g({x:sr+ar/2,y:ir+cr,textAnchor:"middle",verticalAnchor:dr},Er):nr==="insideBottom"?_objectSpread$g({x:sr+ar/2,y:ir+or-cr,textAnchor:"middle",verticalAnchor:ur},Er):nr==="insideTopLeft"?_objectSpread$g({x:sr+Ar,y:ir+cr,textAnchor:mr,verticalAnchor:dr},Er):nr==="insideTopRight"?_objectSpread$g({x:sr+ar-Ar,y:ir+cr,textAnchor:fr,verticalAnchor:dr},Er):nr==="insideBottomLeft"?_objectSpread$g({x:sr+Ar,y:ir+or-cr,textAnchor:mr,verticalAnchor:ur},Er):nr==="insideBottomRight"?_objectSpread$g({x:sr+ar-Ar,y:ir+or-cr,textAnchor:fr,verticalAnchor:ur},Er):nr&&typeof nr=="object"&&(isNumber(nr.x)||isPercent(nr.x))&&(isNumber(nr.y)||isPercent(nr.y))?_objectSpread$g({x:sr+getPercentValue(nr.x,ar),y:ir+getPercentValue(nr.y,or),textAnchor:"end",verticalAnchor:"end"},Er):_objectSpread$g({x:sr+ar/2,y:ir+or/2,textAnchor:"middle",verticalAnchor:"middle"},Er)},isPolar=er=>"cx"in er&&isNumber(er.cx);function Label$2(er){var{offset:St=5}=er,tr=_objectWithoutProperties$h(er,_excluded$h),rr=_objectSpread$g({offset:St},tr),{viewBox:nr,position:sr,value:ir,children:ar,content:or,className:lr="",textBreakAll:cr,labelRef:ur}=rr,dr=useViewBox(),hr=nr||dr;if(!hr||isNullish$1(ir)&&isNullish$1(ar)&&!reactExports.isValidElement(or)&&typeof or!="function")return null;if(reactExports.isValidElement(or)){var{labelRef:Ar}=rr,fr=_objectWithoutProperties$h(rr,_excluded2$7);return reactExports.cloneElement(or,fr)}var mr;if(typeof or=="function"){if(mr=reactExports.createElement(or,rr),reactExports.isValidElement(mr))return mr}else mr=getLabel(rr);var pr=isPolar(hr),gr=filterProps$1(rr,!0);if(pr&&(sr==="insideStart"||sr==="insideEnd"||sr==="end"))return renderRadialLabel(rr,mr,gr);var xr=pr?getAttrsOfPolarLabel(rr):getAttrsOfCartesianLabel(rr,hr);return reactExports.createElement(Text,_extends$g({ref:ur,className:clsx("recharts-label",lr)},gr,xr,{breakAll:cr}),mr)}Label$2.displayName="Label";var parseViewBox=er=>{var{cx:St,cy:tr,angle:rr,startAngle:nr,endAngle:sr,r:ir,radius:ar,innerRadius:or,outerRadius:lr,x:cr,y:ur,top:dr,left:hr,width:Ar,height:fr,clockWise:mr,labelViewBox:pr}=er;if(pr)return pr;if(isNumber(Ar)&&isNumber(fr)){if(isNumber(cr)&&isNumber(ur))return{x:cr,y:ur,width:Ar,height:fr};if(isNumber(dr)&&isNumber(hr))return{x:dr,y:hr,width:Ar,height:fr}}if(isNumber(cr)&&isNumber(ur))return{x:cr,y:ur,width:0,height:0};if(isNumber(St)&&isNumber(tr))return{cx:St,cy:tr,startAngle:nr||rr||0,endAngle:sr||rr||0,innerRadius:or||0,outerRadius:lr||ar||ir||0,clockWise:mr};if(er.viewBox)return er.viewBox},parseLabel=(er,St,tr)=>{if(!er)return null;var rr={viewBox:St,labelRef:tr};return er===!0?reactExports.createElement(Label$2,_extends$g({key:"label-implicit"},rr)):isNumOrStr(er)?reactExports.createElement(Label$2,_extends$g({key:"label-implicit",value:er},rr)):reactExports.isValidElement(er)?er.type===Label$2?reactExports.cloneElement(er,_objectSpread$g({key:"label-implicit"},rr)):reactExports.createElement(Label$2,_extends$g({key:"label-implicit",content:er},rr)):isLabelContentAFunction(er)?reactExports.createElement(Label$2,_extends$g({key:"label-implicit",content:er},rr)):er&&typeof er=="object"?reactExports.createElement(Label$2,_extends$g({},er,{key:"label-implicit"},rr)):null},renderCallByParent$1=function er(St,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!St||!St.children&&rr&&!St.label)return null;var{children:nr,labelRef:sr}=St,ir=parseViewBox(St),ar=findAllByType(nr,Label$2).map((lr,cr)=>reactExports.cloneElement(lr,{viewBox:tr||ir,key:"label-".concat(cr)}));if(!rr)return ar;var or=parseLabel(St.label,tr||ir,sr);return[or,...ar]};Label$2.parseViewBox=parseViewBox;Label$2.renderCallByParent=renderCallByParent$1;var last$3={},last$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return tr[tr.length-1]}er.last=St})(last$2);var toArray={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){return Array.isArray(tr)?tr:Array.from(tr)}er.toArray=St})(toArray);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const St=last$2,tr=toArray,rr=isArrayLike;function nr(sr){if(rr.isArrayLike(sr))return St.last(tr.toArray(sr))}er.last=nr})(last$3);var last=last$3.last;const last$1=getDefaultExportFromCjs(last);var _excluded$g=["valueAccessor"],_excluded2$6=["data","dataKey","clockWise","id","textBreakAll"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$f.apply(null,arguments)}function ownKeys$f(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$f(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$f(Object(tr),!0).forEach(function(rr){_defineProperty$j(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$f(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$j(er,St,tr){return(St=_toPropertyKey$j(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$j(er){var St=_toPrimitive$j(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$j(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$g(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$g(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$g(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var defaultAccessor=er=>Array.isArray(er.value)?last$1(er.value):er.value;function LabelList(er){var{valueAccessor:St=defaultAccessor}=er,tr=_objectWithoutProperties$g(er,_excluded$g),{data:rr,dataKey:nr,clockWise:sr,id:ir,textBreakAll:ar}=tr,or=_objectWithoutProperties$g(tr,_excluded2$6);return!rr||!rr.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},rr.map((lr,cr)=>{var ur=isNullish$1(nr)?St(lr,cr):getValueByDataKey(lr&&lr.payload,nr),dr=isNullish$1(ir)?{}:{id:"".concat(ir,"-").concat(cr)};return reactExports.createElement(Label$2,_extends$f({},filterProps$1(lr,!0),or,dr,{parentViewBox:lr.parentViewBox,value:ur,textBreakAll:ar,viewBox:Label$2.parseViewBox(isNullish$1(sr)?lr:_objectSpread$f(_objectSpread$f({},lr),{},{clockWise:sr})),key:"label-".concat(cr),index:cr}))}))}LabelList.displayName="LabelList";function parseLabelList(er,St){return er?er===!0?reactExports.createElement(LabelList,{key:"labelList-implicit",data:St}):reactExports.isValidElement(er)||isLabelContentAFunction(er)?reactExports.createElement(LabelList,{key:"labelList-implicit",data:St,content:er}):typeof er=="object"?reactExports.createElement(LabelList,_extends$f({data:St},er,{key:"labelList-implicit"})):null:null}function renderCallByParent(er,St){var tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!er||!er.children&&tr&&!er.label)return null;var{children:rr}=er,nr=findAllByType(rr,LabelList).map((ir,ar)=>reactExports.cloneElement(ir,{data:St,key:"labelList-".concat(ar)}));if(!tr)return nr;var sr=parseLabelList(er.label,St);return[sr,...nr]}LabelList.renderCallByParent=renderCallByParent;function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$e.apply(null,arguments)}var Dot=er=>{var{cx:St,cy:tr,r:rr,className:nr}=er,sr=clsx("recharts-dot",nr);return St===+St&&tr===+tr&&rr===+rr?reactExports.createElement("circle",_extends$e({},filterProps$1(er,!1),adaptEventHandlers(er),{className:sr,cx:St,cy:tr,r:rr})):null},selectUnfilteredPolarItems=er=>er.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues),selectAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(er,St,tr)=>tr.length>0?er.flatMap(rr=>tr.flatMap(nr=>{var sr,ir=getValueByDataKey(rr,(sr=St.dataKey)!==null&&sr!==void 0?sr:nr.dataKey);return{value:ir,errorDomain:[]}})).filter(Boolean):(St==null?void 0:St.dataKey)!=null?er.map(rr=>({value:getValueByDataKey(rr,St.dataKey),errorDomain:[]})):er.map(rr=>({value:rr,errorDomain:[]}))),unsupportedInPolarChart=()=>{},selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,unsupportedInPolarChart,selectAllPolarAppliedNumericalValues,unsupportedInPolarChart],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$5={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$5,reducers:{addRadiusAxis(er,St){er.radiusAxis[St.payload.id]=St.payload},removeRadiusAxis(er,St){delete er.radiusAxis[St.payload.id]},addAngleAxis(er,St){er.angleAxis[St.payload.id]=St.payload},removeAngleAxis(er,St){delete er.angleAxis[St.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$e(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$e(Object(tr),!0).forEach(function(rr){_defineProperty$i(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$e(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$i(er,St,tr){return(St=_toPropertyKey$i(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$i(er){var St=_toPrimitive$i(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$i(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var pickPieSettings=(er,St)=>St,emptyArray=[],pickCells$1=(er,St,tr)=>(tr==null?void 0:tr.length)===0?emptyArray:tr,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,pickPieSettings,pickCells$1],(er,St,tr)=>{var{chartData:rr}=er,nr;if((St==null?void 0:St.data)!=null&&St.data.length>0?nr=St.data:nr=rr,(!nr||!nr.length)&&tr!=null&&(nr=tr.map(sr=>_objectSpread$e(_objectSpread$e({},St.presentationProps),sr.props))),nr!=null)return nr}),selectPieLegend=createSelector([selectDisplayedData,pickPieSettings,pickCells$1],(er,St,tr)=>{if(er!=null)return er.map((rr,nr)=>{var sr,ir=getValueByDataKey(rr,St.nameKey,St.name),ar;return tr!=null&&(sr=tr[nr])!==null&&sr!==void 0&&(sr=sr.props)!==null&&sr!==void 0&&sr.fill?ar=tr[nr].props.fill:typeof rr=="object"&&rr!=null&&"fill"in rr?ar=rr.fill:ar=St.fill,{value:getTooltipNameProp(ir,St.dataKey),color:ar,payload:rr,type:St.legendType}})}),selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickPieSettings],(er,St)=>{if(er.some(tr=>tr.type==="pie"&&St.dataKey===tr.dataKey&&St.data===tr.data))return St}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(er,St,tr,rr)=>{if(!(St==null||er==null))return computePieSectors({offset:rr,pieSettings:St,displayedData:er,cells:tr})}),initialState$4={countOfBars:0,cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$4,reducers:{addBar(er){er.countOfBars+=1},removeBar(er){er.countOfBars-=1},addCartesianGraphicalItem(er,St){er.cartesianItems.push(St.payload)},replaceCartesianGraphicalItem(er,St){var{prev:tr,next:rr}=St.payload,nr=current(er).cartesianItems.indexOf(tr);nr>-1&&(er.cartesianItems[nr]=rr)},removeCartesianGraphicalItem(er,St){var tr=current(er).cartesianItems.indexOf(St.payload);tr>-1&&er.cartesianItems.splice(tr,1)},addPolarGraphicalItem(er,St){er.polarItems.push(St.payload)},removePolarGraphicalItem(er,St){var tr=current(er).polarItems.indexOf(St.payload);tr>-1&&er.polarItems.splice(tr,1)}}}),{addBar,removeBar,addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function ownKeys$d(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$d(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$d(Object(tr),!0).forEach(function(rr){_defineProperty$h(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$d(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$h(er,St,tr){return(St=_toPropertyKey$h(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$h(er){var St=_toPrimitive$h(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$h(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function SetCartesianGraphicalItem(er){var St=useAppDispatch(),tr=reactExports.useRef(null);return reactExports.useEffect(()=>{var rr=_objectSpread$d(_objectSpread$d({},er),{},{stackId:getNormalizedStackId(er.stackId)});tr.current===null?St(addCartesianGraphicalItem(rr)):tr.current!==rr&&St(replaceCartesianGraphicalItem({prev:tr.current,next:rr})),tr.current=rr},[St,er]),reactExports.useEffect(()=>()=>{tr.current&&(St(removeCartesianGraphicalItem(tr.current)),tr.current=null)},[St]),null}function SetPolarGraphicalItem(er){var St=useAppDispatch();return reactExports.useEffect(()=>(St(addPolarGraphicalItem(er)),()=>{St(removePolarGraphicalItem(er))}),[St,er]),null}var isPlainObject$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function St(tr){var nr;if(typeof tr!="object"||tr==null)return!1;if(Object.getPrototypeOf(tr)===null)return!0;if(Object.prototype.toString.call(tr)!=="[object Object]"){const sr=tr[Symbol.toStringTag];return sr==null||!((nr=Object.getOwnPropertyDescriptor(tr,Symbol.toStringTag))!=null&&nr.writable)?!1:tr.toString()===`[object ${sr}]`}let rr=tr;for(;Object.getPrototypeOf(rr)!==null;)rr=Object.getPrototypeOf(rr);return Object.getPrototypeOf(tr)===rr}er.isPlainObject=St})(isPlainObject$2);var isPlainObject=isPlainObject$2.isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject);function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$d.apply(null,arguments)}var getTrapezoidPath=(er,St,tr,rr,nr)=>{var sr=tr-rr,ir;return ir="M ".concat(er,",").concat(St),ir+="L ".concat(er+tr,",").concat(St),ir+="L ".concat(er+tr-sr/2,",").concat(St+nr),ir+="L ".concat(er+tr-sr/2-rr,",").concat(St+nr),ir+="L ".concat(er,",").concat(St," Z"),ir},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=er=>{var St=resolveDefaultProps(er,defaultProps$4),tr=reactExports.useRef(),[rr,nr]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tr.current&&tr.current.getTotalLength)try{var mr=tr.current.getTotalLength();mr&&nr(mr)}catch{}},[]);var{x:sr,y:ir,upperWidth:ar,lowerWidth:or,height:lr,className:cr}=St,{animationEasing:ur,animationDuration:dr,animationBegin:hr,isUpdateAnimationActive:Ar}=St;if(sr!==+sr||ir!==+ir||ar!==+ar||or!==+or||lr!==+lr||ar===0&&or===0||lr===0)return null;var fr=clsx("recharts-trapezoid",cr);return Ar?reactExports.createElement(Animate,{canBegin:rr>0,from:{upperWidth:0,lowerWidth:0,height:lr,x:sr,y:ir},to:{upperWidth:ar,lowerWidth:or,height:lr,x:sr,y:ir},duration:dr,animationEasing:ur,isActive:Ar},mr=>{var{upperWidth:pr,lowerWidth:gr,height:xr,x:yr,y:Er}=mr;return reactExports.createElement(Animate,{canBegin:rr>0,from:"0px ".concat(rr===-1?1:rr,"px"),to:"".concat(rr,"px 0px"),attributeName:"strokeDasharray",begin:hr,duration:dr,easing:ur},reactExports.createElement("path",_extends$d({},filterProps$1(St,!0),{className:fr,d:getTrapezoidPath(yr,Er,pr,gr,xr),ref:tr})))}):reactExports.createElement("g",null,reactExports.createElement("path",_extends$d({},filterProps$1(St,!0),{className:fr,d:getTrapezoidPath(sr,ir,ar,or,lr)})))},_excluded$f=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$f(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$f(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$f(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$c(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$c(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$c(Object(tr),!0).forEach(function(rr){_defineProperty$g(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$c(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$g(er,St,tr){return(St=_toPropertyKey$g(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$g(er){var St=_toPrimitive$g(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$g(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function defaultPropTransformer(er,St){return _objectSpread$c(_objectSpread$c({},St),er)}function isSymbolsProps(er,St){return er==="symbols"}function ShapeSelector(er){var{shapeType:St,elementProps:tr}=er;switch(St){case"rectangle":return reactExports.createElement(Rectangle,tr);case"trapezoid":return reactExports.createElement(Trapezoid,tr);case"sector":return reactExports.createElement(Sector,tr);case"symbols":if(isSymbolsProps(St))return reactExports.createElement(Symbols,tr);break;default:return null}}function getPropsFromShapeOption(er){return reactExports.isValidElement(er)?er.props:er}function Shape(er){var{option:St,shapeType:tr,propTransformer:rr=defaultPropTransformer,activeClassName:nr="recharts-active-shape",isActive:sr}=er,ir=_objectWithoutProperties$f(er,_excluded$f),ar;if(reactExports.isValidElement(St))ar=reactExports.cloneElement(St,_objectSpread$c(_objectSpread$c({},ir),getPropsFromShapeOption(St)));else if(typeof St=="function")ar=St(ir);else if(isPlainObject$1(St)&&typeof St!="boolean"){var or=rr(St,ir);ar=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:or})}else{var lr=ir;ar=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:lr})}return sr?reactExports.createElement(Layer,{className:nr},ar):ar}var useMouseEnterItemDispatch=(er,St)=>{var tr=useAppDispatch();return(rr,nr)=>sr=>{er==null||er(rr,nr,sr),tr(setActiveMouseOverItemIndex({activeIndex:String(nr),activeDataKey:St,activeCoordinate:rr.tooltipPosition}))}},useMouseLeaveItemDispatch=er=>{var St=useAppDispatch();return(tr,rr)=>nr=>{er==null||er(tr,rr,nr),St(mouseLeaveItem())}},useMouseClickItemDispatch=(er,St)=>{var tr=useAppDispatch();return(rr,nr)=>sr=>{er==null||er(rr,nr,sr),tr(setActiveClickItemIndex({activeIndex:String(nr),activeDataKey:St,activeCoordinate:rr.tooltipPosition}))}};function SetTooltipEntrySettings(er){var{fn:St,args:tr}=er,rr=useAppDispatch(),nr=useIsPanorama();return reactExports.useEffect(()=>{if(!nr){var sr=St(tr);return rr(addTooltipEntrySettings(sr)),()=>{rr(removeTooltipEntrySettings(sr))}}},[St,tr,rr,nr]),null}var noop$2=()=>{};function SetLegendPayload(er){var{legendPayload:St}=er,tr=useAppDispatch(),rr=useIsPanorama();return reactExports.useEffect(()=>rr?noop$2:(tr(addLegendPayload(St)),()=>{tr(removeLegendPayload(St))}),[tr,rr,St]),null}function SetPolarLegendPayload(er){var{legendPayload:St}=er,tr=useAppDispatch(),rr=useAppSelector(selectChartLayout);return reactExports.useEffect(()=>rr!=="centric"&&rr!=="radial"?noop$2:(tr(addLegendPayload(St)),()=>{tr(removeLegendPayload(St))}),[tr,rr,St]),null}function useAnimationId(er){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",tr=reactExports.useRef(uniqueId(St)),rr=reactExports.useRef(er);return rr.current!==er&&(tr.current=uniqueId(St),rr.current=er),tr.current}var _excluded$e=["onMouseEnter","onClick","onMouseLeave"];function _objectWithoutProperties$e(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$e(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$e(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$b(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$b(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$b(Object(tr),!0).forEach(function(rr){_defineProperty$f(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$b(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$f(er,St,tr){return(St=_toPropertyKey$f(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$f(er){var St=_toPrimitive$f(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$f(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$c.apply(null,arguments)}function SetPiePayloadLegend(er){var St=reactExports.useMemo(()=>filterProps$1(er,!1),[er]),tr=reactExports.useMemo(()=>findAllByType(er.children,Cell$1),[er.children]),rr=reactExports.useMemo(()=>({name:er.name,nameKey:er.nameKey,tooltipType:er.tooltipType,data:er.data,dataKey:er.dataKey,cx:er.cx,cy:er.cy,startAngle:er.startAngle,endAngle:er.endAngle,minAngle:er.minAngle,paddingAngle:er.paddingAngle,innerRadius:er.innerRadius,outerRadius:er.outerRadius,cornerRadius:er.cornerRadius,legendType:er.legendType,fill:er.fill,presentationProps:St}),[er.cornerRadius,er.cx,er.cy,er.data,er.dataKey,er.endAngle,er.innerRadius,er.minAngle,er.name,er.nameKey,er.outerRadius,er.paddingAngle,er.startAngle,er.tooltipType,er.legendType,er.fill,St]),nr=useAppSelector(sr=>selectPieLegend(sr,rr,tr));return reactExports.createElement(SetPolarLegendPayload,{legendPayload:nr})}function getTooltipEntrySettings$3(er){var{dataKey:St,nameKey:tr,sectors:rr,stroke:nr,strokeWidth:sr,fill:ir,name:ar,hide:or,tooltipType:lr}=er;return{dataDefinedOnItem:rr==null?void 0:rr.map(cr=>cr.tooltipPayload),positions:rr==null?void 0:rr.map(cr=>cr.tooltipPosition),settings:{stroke:nr,strokeWidth:sr,fill:ir,dataKey:St,nameKey:tr,name:getTooltipNameProp(ar,St),hide:or,type:lr,color:ir,unit:""}}}var getTextAnchor=(er,St)=>er>St?"start":er<St?"end":"middle",getOuterRadius=(er,St,tr)=>typeof St=="function"?St(er):getPercentValue(St,tr,tr*.8),parseCoordinateOfPie=(er,St,tr)=>{var{top:rr,left:nr,width:sr,height:ir}=St,ar=getMaxRadius(sr,ir),or=nr+getPercentValue(er.cx,sr,sr/2),lr=rr+getPercentValue(er.cy,ir,ir/2),cr=getPercentValue(er.innerRadius,ar,0),ur=getOuterRadius(tr,er.outerRadius,ar),dr=er.maxRadius||Math.sqrt(sr*sr+ir*ir)/2;return{cx:or,cy:lr,innerRadius:cr,outerRadius:ur,maxRadius:dr}},parseDeltaAngle=(er,St)=>{var tr=mathSign(St-er),rr=Math.min(Math.abs(St-er),360);return tr*rr},renderLabelLineItem=(er,St)=>{if(reactExports.isValidElement(er))return reactExports.cloneElement(er,St);if(typeof er=="function")return er(St);var tr=clsx("recharts-pie-label-line",typeof er!="boolean"?er.className:"");return reactExports.createElement(Curve,_extends$c({},St,{type:"linear",className:tr}))},renderLabelItem=(er,St,tr)=>{if(reactExports.isValidElement(er))return reactExports.cloneElement(er,St);var rr=tr;if(typeof er=="function"&&(rr=er(St),reactExports.isValidElement(rr)))return rr;var nr=clsx("recharts-pie-label-text",typeof er!="boolean"&&typeof er!="function"?er.className:"");return reactExports.createElement(Text,_extends$c({},St,{alignmentBaseline:"middle",className:nr}),rr)};function PieLabels(er){var{sectors:St,props:tr,showLabels:rr}=er,{label:nr,labelLine:sr,dataKey:ir}=tr;if(!rr||!nr||!St)return null;var ar=filterProps$1(tr,!1),or=filterProps$1(nr,!1),lr=filterProps$1(sr,!1),cr=typeof nr=="object"&&"offsetRadius"in nr&&nr.offsetRadius||20,ur=St.map((dr,hr)=>{var Ar=(dr.startAngle+dr.endAngle)/2,fr=polarToCartesian(dr.cx,dr.cy,dr.outerRadius+cr,Ar),mr=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},ar),dr),{},{stroke:"none"},or),{},{index:hr,textAnchor:getTextAnchor(fr.x,dr.cx)},fr),pr=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},ar),dr),{},{fill:"none",stroke:dr.fill},lr),{},{index:hr,points:[polarToCartesian(dr.cx,dr.cy,dr.outerRadius,Ar),fr],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(dr.startAngle,"-").concat(dr.endAngle,"-").concat(dr.midAngle,"-").concat(hr)},sr&&renderLabelLineItem(sr,pr),renderLabelItem(nr,mr,getValueByDataKey(dr,ir)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},ur)}function PieSectors(er){var{sectors:St,activeShape:tr,inactiveShape:rr,allOtherPieProps:nr,showLabels:sr}=er,ir=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:ar,onClick:or,onMouseLeave:lr}=nr,cr=_objectWithoutProperties$e(nr,_excluded$e),ur=useMouseEnterItemDispatch(ar,nr.dataKey),dr=useMouseLeaveItemDispatch(lr),hr=useMouseClickItemDispatch(or,nr.dataKey);return St==null?null:reactExports.createElement(reactExports.Fragment,null,St.map((Ar,fr)=>{if((Ar==null?void 0:Ar.startAngle)===0&&(Ar==null?void 0:Ar.endAngle)===0&&St.length!==1)return null;var mr=tr&&String(fr)===ir,pr=ir?rr:null,gr=mr?tr:pr,xr=_objectSpread$b(_objectSpread$b({},Ar),{},{stroke:Ar.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:fr,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:nr.dataKey});return reactExports.createElement(Layer,_extends$c({tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(cr,Ar,fr),{onMouseEnter:ur(Ar,fr),onMouseLeave:dr(Ar,fr),onClick:hr(Ar,fr),key:"sector-".concat(Ar==null?void 0:Ar.startAngle,"-").concat(Ar==null?void 0:Ar.endAngle,"-").concat(Ar.midAngle,"-").concat(fr)}),reactExports.createElement(Shape,_extends$c({option:gr,isActive:mr,shapeType:"sector"},xr)))}),reactExports.createElement(PieLabels,{sectors:St,props:nr,showLabels:sr}))}function computePieSectors(er){var St,{pieSettings:tr,displayedData:rr,cells:nr,offset:sr}=er,{cornerRadius:ir,startAngle:ar,endAngle:or,dataKey:lr,nameKey:cr,tooltipType:ur}=tr,dr=Math.abs(tr.minAngle),hr=parseDeltaAngle(ar,or),Ar=Math.abs(hr),fr=rr.length<=1?0:(St=tr.paddingAngle)!==null&&St!==void 0?St:0,mr=rr.filter(_r=>getValueByDataKey(_r,lr,0)!==0).length,pr=(Ar>=360?mr:mr-1)*fr,gr=Ar-mr*dr-pr,xr=rr.reduce((_r,Sr)=>{var jr=getValueByDataKey(Sr,lr,0);return _r+(isNumber(jr)?jr:0)},0),yr;if(xr>0){var Er;yr=rr.map((_r,Sr)=>{var jr=getValueByDataKey(_r,lr,0),Pr=getValueByDataKey(_r,cr,Sr),Mr=parseCoordinateOfPie(tr,sr,_r),Ir=(isNumber(jr)?jr:0)/xr,Lr,Qr=_objectSpread$b(_objectSpread$b({},_r),nr&&nr[Sr]&&nr[Sr].props);Sr?Lr=Er.endAngle+mathSign(hr)*fr*(jr!==0?1:0):Lr=ar;var Yr=Lr+mathSign(hr)*((jr!==0?dr:0)+Ir*gr),Gr=(Lr+Yr)/2,$r=(Mr.innerRadius+Mr.outerRadius)/2,Vr=[{name:Pr,value:jr,payload:Qr,dataKey:lr,type:ur}],Tr=polarToCartesian(Mr.cx,Mr.cy,$r,Gr);return Er=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},tr.presentationProps),{},{percent:Ir,cornerRadius:ir,name:Pr,tooltipPayload:Vr,midAngle:Gr,middleRadius:$r,tooltipPosition:Tr},Qr),Mr),{},{value:getValueByDataKey(_r,lr),startAngle:Lr,endAngle:Yr,payload:Qr,paddingAngle:mathSign(hr)*fr}),Er})}return yr}function SectorsWithAnimation(er){var{props:St,previousSectorsRef:tr}=er,{sectors:rr,isAnimationActive:nr,animationBegin:sr,animationDuration:ir,animationEasing:ar,activeShape:or,inactiveShape:lr,onAnimationStart:cr,onAnimationEnd:ur}=St,dr=useAnimationId(St,"recharts-pie-"),hr=tr.current,[Ar,fr]=reactExports.useState(!0),mr=reactExports.useCallback(()=>{typeof ur=="function"&&ur(),fr(!1)},[ur]),pr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),fr(!0)},[cr]);return reactExports.createElement(Animate,{begin:sr,duration:ir,isActive:nr,easing:ar,from:{t:0},to:{t:1},onAnimationStart:pr,onAnimationEnd:mr,key:dr},gr=>{var{t:xr}=gr,yr=[],Er=rr&&rr[0],_r=Er.startAngle;return rr.forEach((Sr,jr)=>{var Pr=hr&&hr[jr],Mr=jr>0?get$1(Sr,"paddingAngle",0):0;if(Pr){var Ir=interpolateNumber$1(Pr.endAngle-Pr.startAngle,Sr.endAngle-Sr.startAngle),Lr=_objectSpread$b(_objectSpread$b({},Sr),{},{startAngle:_r+Mr,endAngle:_r+Ir(xr)+Mr});yr.push(Lr),_r=Lr.endAngle}else{var{endAngle:Qr,startAngle:Yr}=Sr,Gr=interpolateNumber$1(0,Qr-Yr),$r=Gr(xr),Vr=_objectSpread$b(_objectSpread$b({},Sr),{},{startAngle:_r+Mr,endAngle:_r+$r+Mr});yr.push(Vr),_r=Vr.endAngle}}),tr.current=yr,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:yr,activeShape:or,inactiveShape:lr,allOtherPieProps:St,showLabels:!Ar}))})}function RenderSectors(er){var{sectors:St,isAnimationActive:tr,activeShape:rr,inactiveShape:nr}=er,sr=reactExports.useRef(null),ir=sr.current;return tr&&St&&St.length&&(!ir||ir!==St)?reactExports.createElement(SectorsWithAnimation,{props:er,previousSectorsRef:sr}):reactExports.createElement(PieSectors,{sectors:St,activeShape:rr,inactiveShape:nr,allOtherPieProps:er,showLabels:!0})}function PieWithTouchMove(er){var{hide:St,className:tr,rootTabIndex:rr}=er,nr=clsx("recharts-pie",tr);return St?null:reactExports.createElement(Layer,{tabIndex:rr,className:nr},reactExports.createElement(RenderSectors,er))}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(er){var St=resolveDefaultProps(er,defaultPieProps),tr=reactExports.useMemo(()=>findAllByType(er.children,Cell$1),[er.children]),rr=filterProps$1(St,!1),nr=reactExports.useMemo(()=>({name:St.name,nameKey:St.nameKey,tooltipType:St.tooltipType,data:St.data,dataKey:St.dataKey,cx:St.cx,cy:St.cy,startAngle:St.startAngle,endAngle:St.endAngle,minAngle:St.minAngle,paddingAngle:St.paddingAngle,innerRadius:St.innerRadius,outerRadius:St.outerRadius,cornerRadius:St.cornerRadius,legendType:St.legendType,fill:St.fill,presentationProps:rr}),[St.cornerRadius,St.cx,St.cy,St.data,St.dataKey,St.endAngle,St.innerRadius,St.minAngle,St.name,St.nameKey,St.outerRadius,St.paddingAngle,St.startAngle,St.tooltipType,St.legendType,St.fill,rr]),sr=useAppSelector(ir=>selectPieSectors(ir,nr,tr));return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$3,args:_objectSpread$b(_objectSpread$b({},St),{},{sectors:sr})}),reactExports.createElement(PieWithTouchMove,_extends$c({},St,{sectors:sr})))}class Pie extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$f(this,"id",uniqueId("recharts-pie-"))}render(){return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),reactExports.createElement(SetPiePayloadLegend,this.props),reactExports.createElement(PieImpl,this.props),this.props.children)}}_defineProperty$f(Pie,"displayName","Pie");_defineProperty$f(Pie,"defaultProps",defaultPieProps);var selectChartOffset=createSelector([selectChartOffsetInternal],er=>{if(er)return{top:er.top,bottom:er.bottom,left:er.left,right:er.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(er,St,tr)=>{if(!(!er||St==null||tr==null))return{x:er.left,y:er.top,width:Math.max(0,St-er.left-er.right),height:Math.max(0,tr-er.top-er.bottom)}}),useXAxis=er=>{var St=useIsPanorama();return useAppSelector(tr=>selectAxisWithScale(tr,"xAxis",er,St))},useYAxis=er=>{var St=useIsPanorama();return useAppSelector(tr=>selectAxisWithScale(tr,"yAxis",er,St))},usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$a(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$a(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$a(Object(tr),!0).forEach(function(rr){_defineProperty$e(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$a(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$e(er,St,tr){return(St=_toPropertyKey$e(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$e(er){var St=_toPrimitive$e(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$e(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var renderActivePoint=er=>{var{point:St,childIndex:tr,mainColor:rr,activeDot:nr,dataKey:sr}=er;if(nr===!1||St.x==null||St.y==null)return null;var ir=_objectSpread$a(_objectSpread$a({index:tr,dataKey:sr,cx:St.x,cy:St.y,r:4,fill:rr??"none",strokeWidth:2,stroke:"#fff",payload:St.payload,value:St.value},filterProps$1(nr,!1)),adaptEventHandlers(nr)),ar;return reactExports.isValidElement(nr)?ar=reactExports.cloneElement(nr,ir):typeof nr=="function"?ar=nr(ir):ar=reactExports.createElement(Dot,ir),reactExports.createElement(Layer,{className:"recharts-active-dot"},ar)};function ActivePoints(er){var{points:St,mainColor:tr,activeDot:rr,itemDataKey:nr}=er,sr=useAppSelector(selectActiveTooltipIndex),ir=useActiveTooltipDataPoints();if(St==null||ir==null)return null;var ar=St.find(or=>ir.includes(or.payload));return isNullish$1(ar)?null:renderActivePoint({point:ar,childIndex:Number(sr),mainColor:tr,dataKey:nr,activeDot:rr})}var ReportBar=()=>{var er=useAppDispatch();return reactExports.useEffect(()=>(er(addBar()),()=>{er(removeBar())})),null},_excluded$d=["children"];function _objectWithoutProperties$d(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$d(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$d(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var noop$1=()=>{},ErrorBarDirectionDispatchContext=reactExports.createContext({addErrorBar:noop$1,removeErrorBar:noop$1}),initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(er){var{children:St}=er,tr=_objectWithoutProperties$d(er,_excluded$d);return reactExports.createElement(ErrorBarContext.Provider,{value:tr},St)}var useErrorBarContext=()=>reactExports.useContext(ErrorBarContext),CartesianGraphicalItemContext=er=>{var{children:St,xAxisId:tr,yAxisId:rr,zAxisId:nr,dataKey:sr,data:ir,stackId:ar,hide:or,type:lr,barSize:cr}=er,[ur,dr]=reactExports.useState([]),hr=reactExports.useCallback(mr=>{dr(pr=>[...pr,mr])},[dr]),Ar=reactExports.useCallback(mr=>{dr(pr=>pr.filter(gr=>gr!==mr))},[dr]),fr=useIsPanorama();return reactExports.createElement(ErrorBarDirectionDispatchContext.Provider,{value:{addErrorBar:hr,removeErrorBar:Ar}},reactExports.createElement(SetCartesianGraphicalItem,{type:lr,data:ir,xAxisId:tr,yAxisId:rr,zAxisId:nr,dataKey:sr,errorBars:ur,stackId:ar,hide:or,barSize:cr,isPanorama:fr}),St)};function ReportErrorBarSettings(er){var{addErrorBar:St,removeErrorBar:tr}=reactExports.useContext(ErrorBarDirectionDispatchContext);return reactExports.useEffect(()=>(St(er),()=>{tr(er)}),[St,tr,er]),null}var _excluded$c=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function _defineProperty$d(er,St,tr){return(St=_toPropertyKey$d(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$d(er){var St=_toPrimitive$d(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$d(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$b.apply(null,arguments)}function _objectWithoutProperties$c(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$c(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$c(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ErrorBarImpl(er){var{direction:St,width:tr,dataKey:rr,isAnimationActive:nr,animationBegin:sr,animationDuration:ir,animationEasing:ar}=er,or=_objectWithoutProperties$c(er,_excluded$c),lr=filterProps$1(or,!1),{data:cr,dataPointFormatter:ur,xAxisId:dr,yAxisId:hr,errorBarOffset:Ar}=useErrorBarContext(),fr=useXAxis(dr),mr=useYAxis(hr);if((fr==null?void 0:fr.scale)==null||(mr==null?void 0:mr.scale)==null||cr==null||St==="x"&&fr.type!=="number")return null;var pr=cr.map(gr=>{var{x:xr,y:yr,value:Er,errorVal:_r}=ur(gr,rr,St);if(!_r)return null;var Sr=[],jr,Pr;if(Array.isArray(_r)?[jr,Pr]=_r:jr=Pr=_r,St==="x"){var{scale:Mr}=fr,Ir=yr+Ar,Lr=Ir+tr,Qr=Ir-tr,Yr=Mr(Er-jr),Gr=Mr(Er+Pr);Sr.push({x1:Gr,y1:Lr,x2:Gr,y2:Qr}),Sr.push({x1:Yr,y1:Ir,x2:Gr,y2:Ir}),Sr.push({x1:Yr,y1:Lr,x2:Yr,y2:Qr})}else if(St==="y"){var{scale:$r}=mr,Vr=xr+Ar,Tr=Vr-tr,Fr=Vr+tr,Wr=$r(Er-jr),qr=$r(Er+Pr);Sr.push({x1:Tr,y1:qr,x2:Fr,y2:qr}),Sr.push({x1:Vr,y1:Wr,x2:Vr,y2:qr}),Sr.push({x1:Tr,y1:Wr,x2:Fr,y2:Wr})}var Rr="".concat(xr+Ar,"px ").concat(yr+Ar,"px");return reactExports.createElement(Layer,_extends$b({className:"recharts-errorBar",key:"bar-".concat(Sr.map(Or=>"".concat(Or.x1,"-").concat(Or.x2,"-").concat(Or.y1,"-").concat(Or.y2)))},lr),Sr.map(Or=>{var Hr=nr?{transformOrigin:"".concat(Or.x1-5,"px")}:void 0;return reactExports.createElement(Animate,{from:{transform:"scaleY(0)",transformOrigin:Rr},to:{transform:"scaleY(1)",transformOrigin:Rr},begin:sr,easing:ar,isActive:nr,duration:ir,key:"line-".concat(Or.x1,"-").concat(Or.x2,"-").concat(Or.y1,"-").concat(Or.y2),style:{transformOrigin:Rr}},reactExports.createElement("line",_extends$b({},Or,{style:Hr})))}))});return reactExports.createElement(Layer,{className:"recharts-errorBars"},pr)}var ErrorBarPreferredDirection=reactExports.createContext(void 0);function useErrorBarDirection(er){var St=reactExports.useContext(ErrorBarPreferredDirection);return er??St??"x"}function SetErrorBarPreferredDirection(er){var{direction:St,children:tr}=er;return reactExports.createElement(ErrorBarPreferredDirection.Provider,{value:St},tr)}var errorBarDefaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ErrorBarInternal(er){var St=useErrorBarDirection(er.direction),{width:tr,isAnimationActive:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir}=resolveDefaultProps(er,errorBarDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportErrorBarSettings,{dataKey:er.dataKey,direction:St}),reactExports.createElement(ErrorBarImpl,_extends$b({},er,{direction:St,width:tr,isAnimationActive:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir})))}class ErrorBar extends reactExports.Component{render(){return reactExports.createElement(ErrorBarInternal,this.props)}}_defineProperty$d(ErrorBar,"defaultProps",errorBarDefaultProps);_defineProperty$d(ErrorBar,"displayName","ErrorBar");var _excluded$b=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$a.apply(null,arguments)}function ownKeys$9(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$9(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$9(Object(tr),!0).forEach(function(rr){_defineProperty$c(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$9(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$c(er,St,tr){return(St=_toPropertyKey$c(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$c(er){var St=_toPrimitive$c(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$c(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$b(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$b(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$b(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function typeguardBarRectangleProps(er,St){var{x:tr,y:rr}=er,nr=_objectWithoutProperties$b(er,_excluded$b),sr="".concat(tr),ir=parseInt(sr,10),ar="".concat(rr),or=parseInt(ar,10),lr="".concat(St.height||nr.height),cr=parseInt(lr,10),ur="".concat(St.width||nr.width),dr=parseInt(ur,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},St),nr),ir?{x:ir}:{}),or?{y:or}:{}),{},{height:cr,width:dr,name:St.name,radius:St.radius})}function BarRectangle(er){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},er))}var minPointSizeCallback=function er(St){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(rr,nr)=>{if(isNumber(St))return St;var sr=isNumber(rr)||isNullish$1(rr);return sr?St(rr,nr):(sr||invariant$1(!1),tr)}};function useNeedsClip(er,St){var tr,rr,nr=useAppSelector(lr=>selectXAxisSettings(lr,er)),sr=useAppSelector(lr=>selectYAxisSettings(lr,St)),ir=(tr=nr==null?void 0:nr.allowDataOverflow)!==null&&tr!==void 0?tr:implicitXAxis.allowDataOverflow,ar=(rr=sr==null?void 0:sr.allowDataOverflow)!==null&&rr!==void 0?rr:implicitYAxis.allowDataOverflow,or=ir||ar;return{needClip:or,needClipX:ir,needClipY:ar}}function GraphicalItemClipPath(er){var{xAxisId:St,yAxisId:tr,clipPathId:rr}=er,nr=usePlotArea(),{needClipX:sr,needClipY:ir,needClip:ar}=useNeedsClip(St,tr);if(!ar)return null;var{x:or,y:lr,width:cr,height:ur}=nr;return reactExports.createElement("clipPath",{id:"clipPath-".concat(rr)},reactExports.createElement("rect",{x:sr?or:or-cr/2,y:ir?lr:lr-ur/2,width:sr?cr:cr*2,height:ir?ur:ur*2}))}var _excluded$a=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$9.apply(null,arguments)}function ownKeys$8(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$8(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$8(Object(tr),!0).forEach(function(rr){_defineProperty$b(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$8(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$b(er,St,tr){return(St=_toPropertyKey$b(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$b(er){var St=_toPrimitive$b(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$b(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _objectWithoutProperties$a(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$a(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$a(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var computeLegendPayloadFromBarData=er=>{var{dataKey:St,name:tr,fill:rr,legendType:nr,hide:sr}=er;return[{inactive:sr,dataKey:St,type:nr,color:rr,value:getTooltipNameProp(tr,St),payload:er}]};function getTooltipEntrySettings$2(er){var{dataKey:St,stroke:tr,strokeWidth:rr,fill:nr,name:sr,hide:ir,unit:ar}=er;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:tr,strokeWidth:rr,fill:nr,dataKey:St,nameKey:void 0,name:getTooltipNameProp(sr,St),hide:ir,type:er.tooltipType,color:er.fill,unit:ar}}}function BarBackground(er){var St=useAppSelector(selectActiveTooltipIndex),{data:tr,dataKey:rr,background:nr,allOtherBarProps:sr}=er,{onMouseEnter:ir,onMouseLeave:ar,onClick:or}=sr,lr=_objectWithoutProperties$a(sr,_excluded$a),cr=useMouseEnterItemDispatch(ir,rr),ur=useMouseLeaveItemDispatch(ar),dr=useMouseClickItemDispatch(or,rr);if(!nr||tr==null)return null;var hr=filterProps$1(nr,!1);return reactExports.createElement(reactExports.Fragment,null,tr.map((Ar,fr)=>{var{value:mr,background:pr,tooltipPosition:gr}=Ar,xr=_objectWithoutProperties$a(Ar,_excluded2$5);if(!pr)return null;var yr=cr(Ar,fr),Er=ur(Ar,fr),_r=dr(Ar,fr),Sr=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({option:nr,isActive:String(fr)===St},xr),{},{fill:"#eee"},pr),hr),adaptEventsOfChild(lr,Ar,fr)),{},{onMouseEnter:yr,onMouseLeave:Er,onClick:_r,dataKey:rr,index:fr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(fr)},Sr))}))}function BarRectangles(er){var{data:St,props:tr,showLabels:rr}=er,nr=filterProps$1(tr,!1),{shape:sr,dataKey:ir,activeBar:ar}=tr,or=useAppSelector(selectActiveTooltipIndex),lr=useAppSelector(selectActiveTooltipDataKey),{onMouseEnter:cr,onClick:ur,onMouseLeave:dr}=tr,hr=_objectWithoutProperties$a(tr,_excluded3$1),Ar=useMouseEnterItemDispatch(cr,ir),fr=useMouseLeaveItemDispatch(dr),mr=useMouseClickItemDispatch(ur,ir);return St?reactExports.createElement(reactExports.Fragment,null,St.map((pr,gr)=>{var xr=ar&&String(gr)===or&&(lr==null||ir===lr),yr=xr?ar:sr,Er=_objectSpread$8(_objectSpread$8(_objectSpread$8({},nr),pr),{},{isActive:xr,option:yr,index:gr,dataKey:ir});return reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(hr,pr,gr),{onMouseEnter:Ar(pr,gr),onMouseLeave:fr(pr,gr),onClick:mr(pr,gr),key:"rectangle-".concat(pr==null?void 0:pr.x,"-").concat(pr==null?void 0:pr.y,"-").concat(pr==null?void 0:pr.value,"-").concat(gr)}),reactExports.createElement(BarRectangle,Er))}),rr&&LabelList.renderCallByParent(tr,St)):null}function RectanglesWithAnimation(er){var{props:St,previousRectanglesRef:tr}=er,{data:rr,layout:nr,isAnimationActive:sr,animationBegin:ir,animationDuration:ar,animationEasing:or,onAnimationEnd:lr,onAnimationStart:cr}=St,ur=tr.current,dr=useAnimationId(St,"recharts-bar-"),[hr,Ar]=reactExports.useState(!1),fr=reactExports.useCallback(()=>{typeof lr=="function"&&lr(),Ar(!1)},[lr]),mr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),Ar(!0)},[cr]);return reactExports.createElement(Animate,{begin:ir,duration:ar,isActive:sr,easing:or,from:{t:0},to:{t:1},onAnimationEnd:fr,onAnimationStart:mr,key:dr},pr=>{var{t:gr}=pr,xr=gr===1?rr:rr.map((yr,Er)=>{var _r=ur&&ur[Er];if(_r){var Sr=interpolateNumber$1(_r.x,yr.x),jr=interpolateNumber$1(_r.y,yr.y),Pr=interpolateNumber$1(_r.width,yr.width),Mr=interpolateNumber$1(_r.height,yr.height);return _objectSpread$8(_objectSpread$8({},yr),{},{x:Sr(gr),y:jr(gr),width:Pr(gr),height:Mr(gr)})}if(nr==="horizontal"){var Ir=interpolateNumber$1(0,yr.height),Lr=Ir(gr);return _objectSpread$8(_objectSpread$8({},yr),{},{y:yr.y+yr.height-Lr,height:Lr})}var Qr=interpolateNumber$1(0,yr.width),Yr=Qr(gr);return _objectSpread$8(_objectSpread$8({},yr),{},{width:Yr})});return gr>0&&(tr.current=xr),reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:St,data:xr,showLabels:!hr}))})}function RenderRectangles(er){var{data:St,isAnimationActive:tr}=er,rr=reactExports.useRef(null);return tr&&St&&St.length&&(rr.current==null||rr.current!==St)?reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:rr,props:er}):reactExports.createElement(BarRectangles,{props:er,data:St,showLabels:!0})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(er,St)=>{var tr=Array.isArray(er.value)?er.value[1]:er.value;return{x:er.x,y:er.y,value:tr,errorVal:getValueByDataKey(er,St)}};class BarWithState extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$b(this,"id",uniqueId("recharts-bar-"))}render(){var{hide:St,data:tr,dataKey:rr,className:nr,xAxisId:sr,yAxisId:ir,needClip:ar,background:or,id:lr,layout:cr}=this.props;if(St)return null;var ur=clsx("recharts-bar",nr),dr=isNullish$1(lr)?this.id:lr;return reactExports.createElement(Layer,{className:ur},ar&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:dr,xAxisId:sr,yAxisId:ir})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ar?"url(#clipPath-".concat(dr,")"):null},reactExports.createElement(BarBackground,{data:tr,dataKey:rr,background:or,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)),reactExports.createElement(SetErrorBarPreferredDirection,{direction:cr==="horizontal"?"y":"x"},this.props.children))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(er){var{xAxisId:St,yAxisId:tr,hide:rr,legendType:nr,minPointSize:sr,activeBar:ir,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr}=resolveDefaultProps(er,defaultBarProps),{needClip:ur}=useNeedsClip(St,tr),dr=useChartLayout(),hr=useIsPanorama(),Ar=reactExports.useMemo(()=>({barSize:er.barSize,data:void 0,dataKey:er.dataKey,maxBarSize:er.maxBarSize,minPointSize:sr,stackId:getNormalizedStackId(er.stackId)}),[er.barSize,er.dataKey,er.maxBarSize,sr,er.stackId]),fr=findAllByType(er.children,Cell$1),mr=useAppSelector(xr=>selectBarRectangles(xr,St,tr,hr,Ar,fr));if(dr!=="vertical"&&dr!=="horizontal")return null;var pr,gr=mr==null?void 0:mr[0];return gr==null||gr.height==null||gr.width==null?pr=0:pr=dr==="vertical"?gr.height/2:gr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:St,yAxisId:tr,data:mr,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:pr},reactExports.createElement(BarWithState,_extends$9({},er,{layout:dr,needClip:ur,data:mr,xAxisId:St,yAxisId:tr,hide:rr,legendType:nr,minPointSize:sr,activeBar:ir,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr})))}function computeBarRectangles(er){var{layout:St,barSettings:{dataKey:tr,minPointSize:rr},pos:nr,bandSize:sr,xAxis:ir,yAxis:ar,xAxisTicks:or,yAxisTicks:lr,stackedData:cr,displayedData:ur,offset:dr,cells:hr}=er,Ar=St==="horizontal"?ar:ir,fr=cr?Ar.scale.domain():null,mr=getBaseValueOfBar({numericAxis:Ar});return ur.map((pr,gr)=>{var xr,yr,Er,_r,Sr,jr;cr?xr=truncateByDomain(cr[gr],fr):(xr=getValueByDataKey(pr,tr),Array.isArray(xr)||(xr=[mr,xr]));var Pr=minPointSizeCallback(rr,defaultMinPointSize)(xr[1],gr);if(St==="horizontal"){var Mr,[Ir,Lr]=[ar.scale(xr[0]),ar.scale(xr[1])];yr=getCateCoordinateOfBar({axis:ir,ticks:or,bandSize:sr,offset:nr.offset,entry:pr,index:gr}),Er=(Mr=Lr??Ir)!==null&&Mr!==void 0?Mr:void 0,_r=nr.size;var Qr=Ir-Lr;if(Sr=isNan(Qr)?0:Qr,jr={x:yr,y:dr.top,width:_r,height:dr.height},Math.abs(Pr)>0&&Math.abs(Sr)<Math.abs(Pr)){var Yr=mathSign(Sr||Pr)*(Math.abs(Pr)-Math.abs(Sr));Er-=Yr,Sr+=Yr}}else{var[Gr,$r]=[ir.scale(xr[0]),ir.scale(xr[1])];if(yr=Gr,Er=getCateCoordinateOfBar({axis:ar,ticks:lr,bandSize:sr,offset:nr.offset,entry:pr,index:gr}),_r=$r-Gr,Sr=nr.size,jr={x:dr.left,y:Er,width:dr.width,height:Sr},Math.abs(Pr)>0&&Math.abs(_r)<Math.abs(Pr)){var Vr=mathSign(_r||Pr)*(Math.abs(Pr)-Math.abs(_r));_r+=Vr}}var Tr=_objectSpread$8(_objectSpread$8({},pr),{},{x:yr,y:Er,width:_r,height:Sr,value:cr?xr:xr[1],payload:pr,background:jr,tooltipPosition:{x:yr+_r/2,y:Er+Sr/2}},hr&&hr[gr]&&hr[gr].props);return Tr})}class Bar extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},reactExports.createElement(ReportBar,null),reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:this.props}),reactExports.createElement(BarImpl,this.props))}}_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",defaultBarProps);function ownKeys$7(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$7(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$7(Object(tr),!0).forEach(function(rr){_defineProperty$a(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$7(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$a(er,St,tr){return(St=_toPropertyKey$a(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$a(er){var St=_toPrimitive$a(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$a(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var pickXAxisId=(er,St)=>St,pickYAxisId=(er,St,tr)=>tr,pickIsPanorama=(er,St,tr,rr)=>rr,pickBarSettings=(er,St,tr,rr,nr)=>nr,pickMaxBarSize=(er,St,tr,rr,nr)=>nr.maxBarSize,pickCells=(er,St,tr,rr,nr,sr)=>sr,getBarSize=(er,St,tr)=>{var rr=tr??er;if(!isNullish$1(rr))return getPercentValue(rr,St,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(er,St,tr,rr,nr)=>St.filter(sr=>er==="horizontal"?sr.xAxisId===tr:sr.yAxisId===rr).filter(sr=>sr.isPanorama===nr).filter(sr=>sr.hide===!1).filter(sr=>sr.type==="bar")),selectBarStackGroups=(er,St,tr,rr)=>{var nr=selectChartLayout(er);return nr==="horizontal"?selectStackGroups(er,"yAxis",tr,rr):selectStackGroups(er,"xAxis",St,rr)},selectBarCartesianAxisSize=(er,St,tr)=>{var rr=selectChartLayout(er);return rr==="horizontal"?selectCartesianAxisSize(er,"xAxis",St):selectCartesianAxisSize(er,"yAxis",tr)};function isStacked(er){return er.stackId!=null&&er.dataKey!=null}var combineBarSizeList=(er,St,tr)=>{var rr={},nr=er.filter(isStacked),sr=er.filter(lr=>lr.stackId==null),ir=nr.reduce((lr,cr)=>(lr[cr.stackId]||(lr[cr.stackId]=[]),lr[cr.stackId].push(cr),lr),rr),ar=Object.entries(ir).map(lr=>{var[cr,ur]=lr,dr=ur.map(Ar=>Ar.dataKey),hr=getBarSize(St,tr,ur[0].barSize);return{stackId:cr,dataKeys:dr,barSize:hr}}),or=sr.map(lr=>{var cr=[lr.dataKey].filter(dr=>dr!=null),ur=getBarSize(St,tr,lr.barSize);return{stackId:void 0,dataKeys:cr,barSize:ur}});return[...ar,...or]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(er,St,tr,rr,nr)=>{var sr,ir,ar=selectChartLayout(er),or=selectRootMaxBarSize(er),{maxBarSize:lr}=nr,cr=isNullish$1(lr)?or:lr,ur,dr;return ar==="horizontal"?(ur=selectAxisWithScale(er,"xAxis",St,rr),dr=selectTicksOfGraphicalItem(er,"xAxis",St,rr)):(ur=selectAxisWithScale(er,"yAxis",tr,rr),dr=selectTicksOfGraphicalItem(er,"yAxis",tr,rr)),(sr=(ir=getBandSizeOfAxis(ur,dr,!0))!==null&&ir!==void 0?ir:cr)!==null&&sr!==void 0?sr:0},selectAxisBandSize=(er,St,tr,rr)=>{var nr=selectChartLayout(er),sr,ir;return nr==="horizontal"?(sr=selectAxisWithScale(er,"xAxis",St,rr),ir=selectTicksOfGraphicalItem(er,"xAxis",St,rr)):(sr=selectAxisWithScale(er,"yAxis",tr,rr),ir=selectTicksOfGraphicalItem(er,"yAxis",tr,rr)),getBandSizeOfAxis(sr,ir)};function getBarPositions(er,St,tr,rr,nr){var sr=rr.length;if(!(sr<1)){var ir=getPercentValue(er,tr,0,!0),ar,or=[];if(isWellBehavedNumber(rr[0].barSize)){var lr=!1,cr=tr/sr,ur=rr.reduce((pr,gr)=>pr+(gr.barSize||0),0);ur+=(sr-1)*ir,ur>=tr&&(ur-=(sr-1)*ir,ir=0),ur>=tr&&cr>0&&(lr=!0,cr*=.9,ur=sr*cr);var dr=(tr-ur)/2>>0,hr={offset:dr-ir,size:0};ar=rr.reduce((pr,gr)=>{var xr,yr={stackId:gr.stackId,dataKeys:gr.dataKeys,position:{offset:hr.offset+hr.size+ir,size:lr?cr:(xr=gr.barSize)!==null&&xr!==void 0?xr:0}},Er=[...pr,yr];return hr=Er[Er.length-1].position,Er},or)}else{var Ar=getPercentValue(St,tr,0,!0);tr-2*Ar-(sr-1)*ir<=0&&(ir=0);var fr=(tr-2*Ar-(sr-1)*ir)/sr;fr>1&&(fr>>=0);var mr=isWellBehavedNumber(nr)?Math.min(fr,nr):fr;ar=rr.reduce((pr,gr,xr)=>[...pr,{stackId:gr.stackId,dataKeys:gr.dataKeys,position:{offset:Ar+(fr+ir)*xr+(fr-mr)/2,size:mr}}],or)}return ar}}var combineAllBarPositions=(er,St,tr,rr,nr,sr,ir)=>{var ar=isNullish$1(ir)?St:ir,or=getBarPositions(tr,rr,nr!==sr?nr:sr,er,ar);return nr!==sr&&or!=null&&(or=or.map(lr=>_objectSpread$7(_objectSpread$7({},lr),{},{position:_objectSpread$7(_objectSpread$7({},lr.position),{},{offset:lr.position.offset-nr/2})}))),or},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,pickMaxBarSize],combineAllBarPositions),selectXAxisWithScale$2=(er,St,tr,rr)=>selectAxisWithScale(er,"xAxis",St,rr),selectYAxisWithScale$2=(er,St,tr,rr)=>selectAxisWithScale(er,"yAxis",tr,rr),selectXAxisTicks$2=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"xAxis",St,rr),selectYAxisTicks$2=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"yAxis",tr,rr),selectBarPosition=createSelector([selectAllBarPositions,pickBarSettings],(er,St)=>{if(er!=null){var tr=er.find(rr=>rr.stackId===St.stackId&&rr.dataKeys.includes(St.dataKey));if(tr!=null)return tr.position}}),combineStackedData=(er,St)=>{if(!(!er||(St==null?void 0:St.dataKey)==null)){var{stackId:tr}=St;if(tr!=null){var rr=er[tr];if(rr){var{stackedData:nr}=rr;if(nr){var sr=nr.find(ir=>ir.key===St.dataKey);return sr}}}}},selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarSettings],(er,St)=>{if(er.some(tr=>tr.type==="bar"&&St.dataKey===tr.dataKey&&St.stackId===tr.stackId&&St.stackId===tr.stackId))return St}),selectStackedDataOfItem=createSelector([selectBarStackGroups,pickBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectXAxisWithScale$2,selectYAxisWithScale$2,selectXAxisTicks$2,selectYAxisTicks$2,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(er,St,tr,rr,nr,sr,ir,ar,or,lr,cr,ur)=>{var{chartData:dr,dataStartIndex:hr,dataEndIndex:Ar}=ar;if(!(cr==null||sr==null||ir!=="horizontal"&&ir!=="vertical"||St==null||tr==null||rr==null||nr==null||or==null)){var{data:fr}=cr,mr;if(fr!=null&&fr.length>0?mr=fr:mr=dr==null?void 0:dr.slice(hr,Ar+1),mr!=null)return computeBarRectangles({layout:ir,barSettings:cr,pos:sr,bandSize:or,xAxis:St,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,stackedData:lr,displayedData:mr,offset:er,cells:ur})}}),ChartDataContextProvider=er=>{var{chartData:St}=er,tr=useAppDispatch(),rr=useIsPanorama();return reactExports.useEffect(()=>rr?()=>{}:(tr(setChartData(St)),()=>{tr(setChartData(void 0))}),[St,tr,rr]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(er,St){return St.payload==null?initialState$3:St.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$9(er,St,tr){return(St=_toPropertyKey$9(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$9(er){var St=_toPrimitive$9(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$9(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}class ScaleHelper{static create(St){return new ScaleHelper(St)}constructor(St){this.scale=St}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(St){var{bandAware:tr,position:rr}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(St!==void 0){if(rr)switch(rr){case"start":return this.scale(St);case"middle":{var nr=this.bandwidth?this.bandwidth()/2:0;return this.scale(St)+nr}case"end":{var sr=this.bandwidth?this.bandwidth():0;return this.scale(St)+sr}default:return this.scale(St)}if(tr){var ir=this.bandwidth?this.bandwidth()/2:0;return this.scale(St)+ir}return this.scale(St)}}isInRange(St){var tr=this.range(),rr=tr[0],nr=tr[tr.length-1];return rr<=nr?St>=rr&&St<=nr:St>=nr&&St<=rr}}_defineProperty$9(ScaleHelper,"EPS",1e-4);function normalizeAngle(er){return(er%180+180)%180}var getAngledRectangleWidth=function er(St){var{width:tr,height:rr}=St,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,sr=normalizeAngle(nr),ir=sr*Math.PI/180,ar=Math.atan(rr/tr),or=ir>ar&&ir<Math.PI-ar?rr/Math.sin(ir):tr/Math.cos(ir);return Math.abs(or)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(er,St)=>{er.dots.push(St.payload)},removeDot:(er,St)=>{var tr=current(er).dots.findIndex(rr=>rr===St.payload);tr!==-1&&er.dots.splice(tr,1)},addArea:(er,St)=>{er.areas.push(St.payload)},removeArea:(er,St)=>{var tr=current(er).areas.findIndex(rr=>rr===St.payload);tr!==-1&&er.areas.splice(tr,1)},addLine:(er,St)=>{er.lines.push(St.payload)},removeLine:(er,St)=>{var tr=current(er).lines.findIndex(rr=>rr===St.payload);tr!==-1&&er.lines.splice(tr,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=er=>{var{children:St}=er,[tr]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),rr=usePlotArea();if(rr==null)return null;var{x:nr,y:sr,width:ir,height:ar}=rr;return reactExports.createElement(ClipPathIdContext.Provider,{value:tr},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:tr},reactExports.createElement("rect",{x:nr,y:sr,height:ar,width:ir}))),St)};function shallowEqual(er,St){for(var tr in er)if({}.hasOwnProperty.call(er,tr)&&(!{}.hasOwnProperty.call(St,tr)||er[tr]!==St[tr]))return!1;for(var rr in St)if({}.hasOwnProperty.call(St,rr)&&!{}.hasOwnProperty.call(er,rr))return!1;return!0}function getEveryNthWithCondition(er,St,tr){if(St<1)return[];if(St===1&&tr===void 0)return er;for(var rr=[],nr=0;nr<er.length;nr+=St)rr.push(er[nr]);return rr}function getAngledTickWidth(er,St,tr){var rr={width:er.width+St.width,height:er.height+St.height};return getAngledRectangleWidth(rr,tr)}function getTickBoundaries(er,St,tr){var rr=tr==="width",{x:nr,y:sr,width:ir,height:ar}=er;return St===1?{start:rr?nr:sr,end:rr?nr+ir:sr+ar}:{start:rr?nr+ir:sr+ar,end:rr?nr:sr}}function isVisible(er,St,tr,rr,nr){if(er*St<er*rr||er*St>er*nr)return!1;var sr=tr();return er*(St-er*sr/2-rr)>=0&&er*(St+er*sr/2-nr)<=0}function getNumberIntervalTicks(er,St){return getEveryNthWithCondition(er,St+1)}function getEquidistantTicks(er,St,tr,rr,nr){for(var sr=(rr||[]).slice(),{start:ir,end:ar}=St,or=0,lr=1,cr=ir,ur=function(){var Ar=rr==null?void 0:rr[or];if(Ar===void 0)return{v:getEveryNthWithCondition(rr,lr)};var fr=or,mr,pr=()=>(mr===void 0&&(mr=tr(Ar,fr)),mr),gr=Ar.coordinate,xr=or===0||isVisible(er,gr,pr,cr,ar);xr||(or=0,cr=ir,lr+=1),xr&&(cr=gr+er*(pr()/2+nr),or+=lr)},dr;lr<=sr.length;)if(dr=ur(),dr)return dr.v;return[]}function ownKeys$6(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$6(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$6(Object(tr),!0).forEach(function(rr){_defineProperty$8(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$6(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$8(er,St,tr){return(St=_toPropertyKey$8(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$8(er){var St=_toPrimitive$8(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$8(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function getTicksEnd(er,St,tr,rr,nr){for(var sr=(rr||[]).slice(),ir=sr.length,{start:ar}=St,{end:or}=St,lr=function(dr){var hr=sr[dr],Ar,fr=()=>(Ar===void 0&&(Ar=tr(hr,dr)),Ar);if(dr===ir-1){var mr=er*(hr.coordinate+er*fr()/2-or);sr[dr]=hr=_objectSpread$6(_objectSpread$6({},hr),{},{tickCoord:mr>0?hr.coordinate-mr*er:hr.coordinate})}else sr[dr]=hr=_objectSpread$6(_objectSpread$6({},hr),{},{tickCoord:hr.coordinate});var pr=isVisible(er,hr.tickCoord,fr,ar,or);pr&&(or=hr.tickCoord-er*(fr()/2+nr),sr[dr]=_objectSpread$6(_objectSpread$6({},hr),{},{isShow:!0}))},cr=ir-1;cr>=0;cr--)lr(cr);return sr}function getTicksStart(er,St,tr,rr,nr,sr){var ir=(rr||[]).slice(),ar=ir.length,{start:or,end:lr}=St;if(sr){var cr=rr[ar-1],ur=tr(cr,ar-1),dr=er*(cr.coordinate+er*ur/2-lr);ir[ar-1]=cr=_objectSpread$6(_objectSpread$6({},cr),{},{tickCoord:dr>0?cr.coordinate-dr*er:cr.coordinate});var hr=isVisible(er,cr.tickCoord,()=>ur,or,lr);hr&&(lr=cr.tickCoord-er*(ur/2+nr),ir[ar-1]=_objectSpread$6(_objectSpread$6({},cr),{},{isShow:!0}))}for(var Ar=sr?ar-1:ar,fr=function(gr){var xr=ir[gr],yr,Er=()=>(yr===void 0&&(yr=tr(xr,gr)),yr);if(gr===0){var _r=er*(xr.coordinate-er*Er()/2-or);ir[gr]=xr=_objectSpread$6(_objectSpread$6({},xr),{},{tickCoord:_r<0?xr.coordinate-_r*er:xr.coordinate})}else ir[gr]=xr=_objectSpread$6(_objectSpread$6({},xr),{},{tickCoord:xr.coordinate});var Sr=isVisible(er,xr.tickCoord,Er,or,lr);Sr&&(or=xr.tickCoord+er*(Er()/2+nr),ir[gr]=_objectSpread$6(_objectSpread$6({},xr),{},{isShow:!0}))},mr=0;mr<Ar;mr++)fr(mr);return ir}function getTicks(er,St,tr){var{tick:rr,ticks:nr,viewBox:sr,minTickGap:ir,orientation:ar,interval:or,tickFormatter:lr,unit:cr,angle:ur}=er;if(!nr||!nr.length||!rr)return[];if(isNumber(or)||Global.isSsr){var dr;return(dr=getNumberIntervalTicks(nr,isNumber(or)?or:0))!==null&&dr!==void 0?dr:[]}var hr=[],Ar=ar==="top"||ar==="bottom"?"width":"height",fr=cr&&Ar==="width"?getStringSize(cr,{fontSize:St,letterSpacing:tr}):{width:0,height:0},mr=(xr,yr)=>{var Er=typeof lr=="function"?lr(xr.value,yr):xr.value;return Ar==="width"?getAngledTickWidth(getStringSize(Er,{fontSize:St,letterSpacing:tr}),fr,ur):getStringSize(Er,{fontSize:St,letterSpacing:tr})[Ar]},pr=nr.length>=2?mathSign(nr[1].coordinate-nr[0].coordinate):1,gr=getTickBoundaries(sr,pr,Ar);return or==="equidistantPreserveStart"?getEquidistantTicks(pr,gr,mr,nr,ir):(or==="preserveStart"||or==="preserveStartEnd"?hr=getTicksStart(pr,gr,mr,nr,ir,or==="preserveStartEnd"):hr=getTicksEnd(pr,gr,mr,nr,ir),hr.filter(xr=>xr.isShow))}var _excluded$9=["viewBox"],_excluded2$4=["viewBox"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$8.apply(null,arguments)}function ownKeys$5(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$5(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$5(Object(tr),!0).forEach(function(rr){_defineProperty$7(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$5(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _objectWithoutProperties$9(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$9(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$9(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function _defineProperty$7(er,St,tr){return(St=_toPropertyKey$7(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$7(er){var St=_toPrimitive$7(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$7(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}class CartesianAxis extends reactExports.Component{constructor(St){super(St),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(St,tr){var{viewBox:rr}=St,nr=_objectWithoutProperties$9(St,_excluded$9),sr=this.props,{viewBox:ir}=sr,ar=_objectWithoutProperties$9(sr,_excluded2$4);return!shallowEqual(rr,ir)||!shallowEqual(nr,ar)||!shallowEqual(tr,this.state)}getTickLineCoord(St){var{x:tr,y:rr,width:nr,height:sr,orientation:ir,tickSize:ar,mirror:or,tickMargin:lr}=this.props,cr,ur,dr,hr,Ar,fr,mr=or?-1:1,pr=St.tickSize||ar,gr=isNumber(St.tickCoord)?St.tickCoord:St.coordinate;switch(ir){case"top":cr=ur=St.coordinate,hr=rr+ +!or*sr,dr=hr-mr*pr,fr=dr-mr*lr,Ar=gr;break;case"left":dr=hr=St.coordinate,ur=tr+ +!or*nr,cr=ur-mr*pr,Ar=cr-mr*lr,fr=gr;break;case"right":dr=hr=St.coordinate,ur=tr+ +or*nr,cr=ur+mr*pr,Ar=cr+mr*lr,fr=gr;break;default:cr=ur=St.coordinate,hr=rr+ +or*sr,dr=hr+mr*pr,fr=dr+mr*lr,Ar=gr;break}return{line:{x1:cr,y1:dr,x2:ur,y2:hr},tick:{x:Ar,y:fr}}}getTickTextAnchor(){var{orientation:St,mirror:tr}=this.props,rr;switch(St){case"left":rr=tr?"start":"end";break;case"right":rr=tr?"end":"start";break;default:rr="middle";break}return rr}getTickVerticalAnchor(){var{orientation:St,mirror:tr}=this.props;switch(St){case"left":case"right":return"middle";case"top":return tr?"start":"end";default:return tr?"end":"start"}}renderAxisLine(){var{x:St,y:tr,width:rr,height:nr,orientation:sr,mirror:ir,axisLine:ar}=this.props,or=_objectSpread$5(_objectSpread$5(_objectSpread$5({},filterProps$1(this.props,!1)),filterProps$1(ar,!1)),{},{fill:"none"});if(sr==="top"||sr==="bottom"){var lr=+(sr==="top"&&!ir||sr==="bottom"&&ir);or=_objectSpread$5(_objectSpread$5({},or),{},{x1:St,y1:tr+lr*nr,x2:St+rr,y2:tr+lr*nr})}else{var cr=+(sr==="left"&&!ir||sr==="right"&&ir);or=_objectSpread$5(_objectSpread$5({},or),{},{x1:St+cr*rr,y1:tr,x2:St+cr*rr,y2:tr+nr})}return reactExports.createElement("line",_extends$8({},or,{className:clsx("recharts-cartesian-axis-line",get$1(ar,"className"))}))}static renderTickItem(St,tr,rr){var nr,sr=clsx(tr.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(St))nr=reactExports.cloneElement(St,_objectSpread$5(_objectSpread$5({},tr),{},{className:sr}));else if(typeof St=="function")nr=St(_objectSpread$5(_objectSpread$5({},tr),{},{className:sr}));else{var ir="recharts-cartesian-axis-tick-value";typeof St!="boolean"&&(ir=clsx(ir,St.className)),nr=reactExports.createElement(Text,_extends$8({},tr,{className:ir}),rr)}return nr}renderTicks(St,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:nr,stroke:sr,tick:ir,tickFormatter:ar,unit:or}=this.props,lr=getTicks(_objectSpread$5(_objectSpread$5({},this.props),{},{ticks:rr}),St,tr),cr=this.getTickTextAnchor(),ur=this.getTickVerticalAnchor(),dr=filterProps$1(this.props,!1),hr=filterProps$1(ir,!1),Ar=_objectSpread$5(_objectSpread$5({},dr),{},{fill:"none"},filterProps$1(nr,!1)),fr=lr.map((mr,pr)=>{var{line:gr,tick:xr}=this.getTickLineCoord(mr),yr=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:cr,verticalAnchor:ur},dr),{},{stroke:"none",fill:sr},hr),xr),{},{index:pr,payload:mr,visibleTicksCount:lr.length,tickFormatter:ar});return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(mr.value,"-").concat(mr.coordinate,"-").concat(mr.tickCoord)},adaptEventsOfChild(this.props,mr,pr)),nr&&reactExports.createElement("line",_extends$8({},Ar,gr,{className:clsx("recharts-cartesian-axis-tick-line",get$1(nr,"className"))})),ir&&CartesianAxis.renderTickItem(ir,yr,"".concat(typeof ar=="function"?ar(mr.value,pr):mr.value).concat(or||"")))});return fr.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},fr):null}render(){var{axisLine:St,width:tr,height:rr,className:nr,hide:sr}=this.props;if(sr)return null;var{ticks:ir}=this.props;return tr!=null&&tr<=0||rr!=null&&rr<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",nr),ref:ar=>{if(ar){var or=ar.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(or);var lr=or[0];if(lr){var cr=window.getComputedStyle(lr).fontSize,ur=window.getComputedStyle(lr).letterSpacing;(cr!==this.state.fontSize||ur!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(lr).fontSize,letterSpacing:window.getComputedStyle(lr).letterSpacing})}}}},St&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,ir),Label$2.renderCallByParent(this.props))}}_defineProperty$7(CartesianAxis,"displayName","CartesianAxis");_defineProperty$7(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$8=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$4(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$4(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$4(Object(tr),!0).forEach(function(rr){_defineProperty$6(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$4(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$6(er,St,tr){return(St=_toPropertyKey$6(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$6(er){var St=_toPrimitive$6(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$6(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$8(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$8(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Background=er=>{var{fill:St}=er;if(!St||St==="none")return null;var{fillOpacity:tr,x:rr,y:nr,width:sr,height:ir,ry:ar}=er;return reactExports.createElement("rect",{x:rr,y:nr,ry:ar,width:sr,height:ir,stroke:"none",fill:St,fillOpacity:tr,className:"recharts-cartesian-grid-bg"})};function renderLineItem(er,St){var tr;if(reactExports.isValidElement(er))tr=reactExports.cloneElement(er,St);else if(typeof er=="function")tr=er(St);else{var{x1:rr,y1:nr,x2:sr,y2:ir,key:ar}=St,or=_objectWithoutProperties$8(St,_excluded$8),lr=filterProps$1(or,!1),{offset:cr}=lr,ur=_objectWithoutProperties$8(lr,_excluded2$3);tr=reactExports.createElement("line",_extends$7({},ur,{x1:rr,y1:nr,x2:sr,y2:ir,fill:"none",key:ar}))}return tr}function HorizontalGridLines(er){var{x:St,width:tr,horizontal:rr=!0,horizontalPoints:nr}=er;if(!rr||!nr||!nr.length)return null;var{xAxisId:sr,yAxisId:ir}=er,ar=_objectWithoutProperties$8(er,_excluded3),or=nr.map((lr,cr)=>{var ur=_objectSpread$4(_objectSpread$4({},ar),{},{x1:St,y1:lr,x2:St+tr,y2:lr,key:"line-".concat(cr),index:cr});return renderLineItem(rr,ur)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},or)}function VerticalGridLines(er){var{y:St,height:tr,vertical:rr=!0,verticalPoints:nr}=er;if(!rr||!nr||!nr.length)return null;var{xAxisId:sr,yAxisId:ir}=er,ar=_objectWithoutProperties$8(er,_excluded4),or=nr.map((lr,cr)=>{var ur=_objectSpread$4(_objectSpread$4({},ar),{},{x1:lr,y1:St,x2:lr,y2:St+tr,key:"line-".concat(cr),index:cr});return renderLineItem(rr,ur)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},or)}function HorizontalStripes(er){var{horizontalFill:St,fillOpacity:tr,x:rr,y:nr,width:sr,height:ir,horizontalPoints:ar,horizontal:or=!0}=er;if(!or||!St||!St.length)return null;var lr=ar.map(ur=>Math.round(ur+nr-nr)).sort((ur,dr)=>ur-dr);nr!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var hr=!lr[dr+1],Ar=hr?nr+ir-ur:lr[dr+1]-ur;if(Ar<=0)return null;var fr=dr%St.length;return reactExports.createElement("rect",{key:"react-".concat(dr),y:ur,x:rr,height:Ar,width:sr,stroke:"none",fill:St[fr],fillOpacity:tr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},cr)}function VerticalStripes(er){var{vertical:St=!0,verticalFill:tr,fillOpacity:rr,x:nr,y:sr,width:ir,height:ar,verticalPoints:or}=er;if(!St||!tr||!tr.length)return null;var lr=or.map(ur=>Math.round(ur+nr-nr)).sort((ur,dr)=>ur-dr);nr!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var hr=!lr[dr+1],Ar=hr?nr+ir-ur:lr[dr+1]-ur;if(Ar<=0)return null;var fr=dr%tr.length;return reactExports.createElement("rect",{key:"react-".concat(dr),x:ur,y:sr,width:Ar,height:ar,stroke:"none",fill:tr[fr],fillOpacity:rr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},cr)}var defaultVerticalCoordinatesGenerator=(er,St)=>{var{xAxis:tr,width:rr,height:nr,offset:sr}=er;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),tr),{},{ticks:getTicksOfAxis(tr),viewBox:{x:0,y:0,width:rr,height:nr}})),sr.left,sr.left+sr.width,St)},defaultHorizontalCoordinatesGenerator=(er,St)=>{var{yAxis:tr,width:rr,height:nr,offset:sr}=er;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),tr),{},{ticks:getTicksOfAxis(tr),viewBox:{x:0,y:0,width:rr,height:nr}})),sr.top,sr.top+sr.height,St)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(er){var St=useChartWidth(),tr=useChartHeight(),rr=useOffsetInternal(),nr=_objectSpread$4(_objectSpread$4({},resolveDefaultProps(er,defaultProps$3)),{},{x:isNumber(er.x)?er.x:rr.left,y:isNumber(er.y)?er.y:rr.top,width:isNumber(er.width)?er.width:rr.width,height:isNumber(er.height)?er.height:rr.height}),{xAxisId:sr,yAxisId:ir,x:ar,y:or,width:lr,height:cr,syncWithTicks:ur,horizontalValues:dr,verticalValues:hr}=nr,Ar=useIsPanorama(),fr=useAppSelector(Pr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Pr,"xAxis",sr,Ar)),mr=useAppSelector(Pr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Pr,"yAxis",ir,Ar));if(!isNumber(lr)||lr<=0||!isNumber(cr)||cr<=0||!isNumber(ar)||ar!==+ar||!isNumber(or)||or!==+or)return null;var pr=nr.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,gr=nr.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:xr,verticalPoints:yr}=nr;if((!xr||!xr.length)&&typeof gr=="function"){var Er=dr&&dr.length,_r=gr({yAxis:mr?_objectSpread$4(_objectSpread$4({},mr),{},{ticks:Er?dr:mr.ticks}):void 0,width:St,height:tr,offset:rr},Er?!0:ur);warn(Array.isArray(_r),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _r,"]")),Array.isArray(_r)&&(xr=_r)}if((!yr||!yr.length)&&typeof pr=="function"){var Sr=hr&&hr.length,jr=pr({xAxis:fr?_objectSpread$4(_objectSpread$4({},fr),{},{ticks:Sr?hr:fr.ticks}):void 0,width:St,height:tr,offset:rr},Sr?!0:ur);warn(Array.isArray(jr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof jr,"]")),Array.isArray(jr)&&(yr=jr)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:nr.fill,fillOpacity:nr.fillOpacity,x:nr.x,y:nr.y,width:nr.width,height:nr.height,ry:nr.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},nr,{horizontalPoints:xr})),reactExports.createElement(VerticalStripes,_extends$7({},nr,{verticalPoints:yr})),reactExports.createElement(HorizontalGridLines,_extends$7({},nr,{offset:rr,horizontalPoints:xr,xAxis:fr,yAxis:mr})),reactExports.createElement(VerticalGridLines,_extends$7({},nr,{offset:rr,verticalPoints:yr,xAxis:fr,yAxis:mr})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale$1=(er,St,tr,rr)=>selectAxisWithScale(er,"xAxis",St,rr),selectXAxisTicks$1=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"xAxis",St,rr),selectYAxisWithScale$1=(er,St,tr,rr)=>selectAxisWithScale(er,"yAxis",tr,rr),selectYAxisTicks$1=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"yAxis",tr,rr),selectBandSize$1=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(er,St,tr,rr,nr)=>isCategoricalAxis(er,"xAxis")?getBandSizeOfAxis(St,rr,!1):getBandSizeOfAxis(tr,nr,!1)),pickLineSettings=(er,St,tr,rr,nr)=>nr,selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineSettings],(er,St)=>{if(er.some(tr=>tr.type==="line"&&St.dataKey===tr.dataKey&&St.data===tr.data))return St}),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectSynchronisedLineSettings,selectBandSize$1,selectChartDataWithIndexesIfNotInPanorama],(er,St,tr,rr,nr,sr,ir,ar)=>{var{chartData:or,dataStartIndex:lr,dataEndIndex:cr}=ar;if(!(sr==null||St==null||tr==null||rr==null||nr==null||rr.length===0||nr.length===0||ir==null)){var{dataKey:ur,data:dr}=sr,hr;if(dr!=null&&dr.length>0?hr=dr:hr=or==null?void 0:or.slice(lr,cr+1),hr!=null)return computeLinePoints({layout:er,xAxis:St,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,dataKey:ur,bandSize:ir,displayedData:hr})}}),_excluded$7=["type","layout","connectNulls","needClip"],_excluded2$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function _objectWithoutProperties$7(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$7(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$7(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$3(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$3(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$3(Object(tr),!0).forEach(function(rr){_defineProperty$5(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$3(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$5(er,St,tr){return(St=_toPropertyKey$5(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$5(er){var St=_toPrimitive$5(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$5(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData$1=er=>{var{dataKey:St,name:tr,stroke:rr,legendType:nr,hide:sr}=er;return[{inactive:sr,dataKey:St,type:nr,color:rr,value:getTooltipNameProp(tr,St),payload:er}]};function getTooltipEntrySettings$1(er){var{dataKey:St,data:tr,stroke:rr,strokeWidth:nr,fill:sr,name:ir,hide:ar,unit:or}=er;return{dataDefinedOnItem:tr,positions:void 0,settings:{stroke:rr,strokeWidth:nr,fill:sr,dataKey:St,nameKey:void 0,name:getTooltipNameProp(ir,St),hide:ar,type:er.tooltipType,color:er.stroke,unit:or}}}var generateSimpleStrokeDasharray=(er,St)=>"".concat(St,"px ").concat(er-St,"px");function repeat(er,St){for(var tr=er.length%2!==0?[...er,0]:er,rr=[],nr=0;nr<St;++nr)rr=[...rr,...tr];return rr}var getStrokeDasharray=(er,St,tr)=>{var rr=tr.reduce((ur,dr)=>ur+dr);if(!rr)return generateSimpleStrokeDasharray(St,er);for(var nr=Math.floor(er/rr),sr=er%rr,ir=St-er,ar=[],or=0,lr=0;or<tr.length;lr+=tr[or],++or)if(lr+tr[or]>sr){ar=[...tr.slice(0,or),sr-lr];break}var cr=ar.length%2===0?[0,ir]:[ir];return[...repeat(tr,nr),...ar,...cr].map(ur=>"".concat(ur,"px")).join(", ")};function renderDotItem$1(er,St){var tr;if(reactExports.isValidElement(er))tr=reactExports.cloneElement(er,St);else if(typeof er=="function")tr=er(St);else{var rr=clsx("recharts-line-dot",typeof er!="boolean"?er.className:"");tr=reactExports.createElement(Dot,_extends$6({},St,{className:rr}))}return tr}function shouldRenderDots$1(er,St){return er==null?!1:St?!0:er.length===1}function Dots$1(er){var{clipPathId:St,points:tr,props:rr}=er,{dot:nr,dataKey:sr,needClip:ir}=rr;if(!shouldRenderDots$1(tr,nr))return null;var ar=isClipDot(nr),or=filterProps$1(rr,!1),lr=filterProps$1(nr,!0),cr=tr.map((dr,hr)=>{var Ar=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(hr),r:3},or),lr),{},{index:hr,cx:dr.x,cy:dr.y,dataKey:sr,value:dr.value,payload:dr.payload,points:tr});return renderDotItem$1(nr,Ar)}),ur={clipPath:ir?"url(#clipPath-".concat(ar?"":"dots-").concat(St,")"):null};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},ur),cr)}function StaticCurve(er){var{clipPathId:St,pathRef:tr,points:rr,strokeDasharray:nr,props:sr,showLabels:ir}=er,{type:ar,layout:or,connectNulls:lr,needClip:cr}=sr,ur=_objectWithoutProperties$7(sr,_excluded$7),dr=_objectSpread$3(_objectSpread$3({},filterProps$1(ur,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:cr?"url(#clipPath-".concat(St,")"):null,points:rr,type:ar,layout:or,connectNulls:lr,strokeDasharray:nr??sr.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,(rr==null?void 0:rr.length)>1&&reactExports.createElement(Curve,_extends$6({},dr,{pathRef:tr})),reactExports.createElement(Dots$1,{points:rr,clipPathId:St,props:sr}),ir&&LabelList.renderCallByParent(sr,rr))}function getTotalLength(er){try{return er&&er.getTotalLength&&er.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(er){var{clipPathId:St,props:tr,pathRef:rr,previousPointsRef:nr,longestAnimatedLengthRef:sr}=er,{points:ir,strokeDasharray:ar,isAnimationActive:or,animationBegin:lr,animationDuration:cr,animationEasing:ur,animateNewValues:dr,width:hr,height:Ar,onAnimationEnd:fr,onAnimationStart:mr}=tr,pr=nr.current,gr=useAnimationId(tr,"recharts-line-"),[xr,yr]=reactExports.useState(!1),Er=reactExports.useCallback(()=>{typeof fr=="function"&&fr(),yr(!1)},[fr]),_r=reactExports.useCallback(()=>{typeof mr=="function"&&mr(),yr(!0)},[mr]),Sr=getTotalLength(rr.current),jr=sr.current;return reactExports.createElement(Animate,{begin:lr,duration:cr,isActive:or,easing:ur,from:{t:0},to:{t:1},onAnimationEnd:Er,onAnimationStart:_r,key:gr},Pr=>{var{t:Mr}=Pr,Ir=interpolateNumber$1(jr,Sr+jr),Lr=Math.min(Ir(Mr),Sr),Qr;if(ar){var Yr="".concat(ar).split(/[,\s]+/gim).map(Vr=>parseFloat(Vr));Qr=getStrokeDasharray(Lr,Sr,Yr)}else Qr=generateSimpleStrokeDasharray(Sr,Lr);if(pr){var Gr=pr.length/ir.length,$r=Mr===1?ir:ir.map((Vr,Tr)=>{var Fr=Math.floor(Tr*Gr);if(pr[Fr]){var Wr=pr[Fr],qr=interpolateNumber$1(Wr.x,Vr.x),Rr=interpolateNumber$1(Wr.y,Vr.y);return _objectSpread$3(_objectSpread$3({},Vr),{},{x:qr(Mr),y:Rr(Mr)})}if(dr){var Or=interpolateNumber$1(hr*2,Vr.x),Hr=interpolateNumber$1(Ar/2,Vr.y);return _objectSpread$3(_objectSpread$3({},Vr),{},{x:Or(Mr),y:Hr(Mr)})}return _objectSpread$3(_objectSpread$3({},Vr),{},{x:Vr.x,y:Vr.y})});return nr.current=$r,reactExports.createElement(StaticCurve,{props:tr,points:$r,clipPathId:St,pathRef:rr,showLabels:!xr,strokeDasharray:Qr})}return Mr>0&&Sr>0&&(nr.current=ir,sr.current=Lr),reactExports.createElement(StaticCurve,{props:tr,points:ir,clipPathId:St,pathRef:rr,showLabels:!xr,strokeDasharray:Qr})})}function RenderCurve(er){var{clipPathId:St,props:tr}=er,{points:rr,isAnimationActive:nr}=tr,sr=reactExports.useRef(null),ir=reactExports.useRef(0),ar=reactExports.useRef(null),or=sr.current;return nr&&rr&&rr.length&&or!==rr?reactExports.createElement(CurveWithAnimation,{props:tr,clipPathId:St,previousPointsRef:sr,longestAnimatedLengthRef:ir,pathRef:ar}):reactExports.createElement(StaticCurve,{props:tr,points:rr,clipPathId:St,pathRef:ar,showLabels:!0})}var errorBarDataPointFormatter=(er,St)=>({x:er.x,y:er.y,value:er.value,errorVal:getValueByDataKey(er.payload,St)});class LineWithState extends reactExports.Component{constructor(){super(...arguments),_defineProperty$5(this,"id",uniqueId("recharts-line-"))}render(){var St,{hide:tr,dot:rr,points:nr,className:sr,xAxisId:ir,yAxisId:ar,top:or,left:lr,width:cr,height:ur,id:dr,needClip:hr,layout:Ar}=this.props;if(tr)return null;var fr=clsx("recharts-line",sr),mr=isNullish$1(dr)?this.id:dr,{r:pr=3,strokeWidth:gr=2}=(St=filterProps$1(rr,!1))!==null&&St!==void 0?St:{r:3,strokeWidth:2},xr=isClipDot(rr),yr=pr*2+gr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:fr},hr&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:mr,xAxisId:ir,yAxisId:ar}),!xr&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(mr)},reactExports.createElement("rect",{x:lr-yr/2,y:or-yr/2,width:cr+yr,height:ur+yr}))),reactExports.createElement(RenderCurve,{props:this.props,clipPathId:mr}),reactExports.createElement(SetErrorBarPreferredDirection,{direction:Ar==="horizontal"?"y":"x"},reactExports.createElement(SetErrorBarContext,{xAxisId:ir,yAxisId:ar,data:nr,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},this.props.children))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:nr,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(er){var St=resolveDefaultProps(er,defaultLineProps),{activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir,connectNulls:ar,dot:or,hide:lr,isAnimationActive:cr,label:ur,legendType:dr,xAxisId:hr,yAxisId:Ar}=St,fr=_objectWithoutProperties$7(St,_excluded2$2),{needClip:mr}=useNeedsClip(hr,Ar),{height:pr,width:gr,x:xr,y:yr}=usePlotArea(),Er=useChartLayout(),_r=useIsPanorama(),Sr=reactExports.useMemo(()=>({dataKey:er.dataKey,data:er.data}),[er.dataKey,er.data]),jr=useAppSelector(Pr=>selectLinePoints(Pr,hr,Ar,_r,Sr));return Er!=="horizontal"&&Er!=="vertical"?null:reactExports.createElement(LineWithState,_extends$6({},fr,{connectNulls:ar,dot:or,activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir,isAnimationActive:cr,hide:lr,label:ur,legendType:dr,xAxisId:hr,yAxisId:Ar,points:jr,layout:Er,height:pr,width:gr,left:xr,top:yr,needClip:mr}))}function computeLinePoints(er){var{layout:St,xAxis:tr,yAxis:rr,xAxisTicks:nr,yAxisTicks:sr,dataKey:ir,bandSize:ar,displayedData:or}=er;return or.map((lr,cr)=>{var ur=getValueByDataKey(lr,ir);return St==="horizontal"?{x:getCateCoordinateOfLine({axis:tr,ticks:nr,bandSize:ar,entry:lr,index:cr}),y:isNullish$1(ur)?null:rr.scale(ur),value:ur,payload:lr}:{x:isNullish$1(ur)?null:tr.scale(ur),y:getCateCoordinateOfLine({axis:rr,ticks:sr,bandSize:ar,entry:lr,index:cr}),value:ur,payload:lr}})}class Line extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData$1(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:this.props}),reactExports.createElement(LineImpl,this.props))}}_defineProperty$5(Line,"displayName","Line");_defineProperty$5(Line,"defaultProps",defaultLineProps);var selectXAxisWithScale=(er,St,tr,rr)=>selectAxisWithScale(er,"xAxis",St,rr),selectXAxisTicks=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"xAxis",St,rr),selectYAxisWithScale=(er,St,tr,rr)=>selectAxisWithScale(er,"yAxis",tr,rr),selectYAxisTicks=(er,St,tr,rr)=>selectTicksOfGraphicalItem(er,"yAxis",tr,rr),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(er,St,tr,rr,nr)=>isCategoricalAxis(er,"xAxis")?getBandSizeOfAxis(St,rr,!1):getBandSizeOfAxis(tr,nr,!1)),selectGraphicalItemStackedData=(er,St,tr,rr,nr)=>{var sr,ir=selectChartLayout(er),ar=isCategoricalAxis(ir,"xAxis"),or;if(ar?or=selectStackGroups(er,"yAxis",tr,rr):or=selectStackGroups(er,"xAxis",St,rr),or!=null){var{dataKey:lr,stackId:cr}=nr;if(cr!=null){var ur=(sr=or[cr])===null||sr===void 0?void 0:sr.stackedData;return ur==null?void 0:ur.find(dr=>dr.key===lr)}}},pickAreaSettings=(er,St,tr,rr,nr)=>nr,selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaSettings],(er,St)=>{if(er.some(tr=>tr.type==="area"&&St.dataKey===tr.dataKey&&getNormalizedStackId(St.stackId)===tr.stackId&&St.data===tr.data))return St}),selectArea=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanorama,selectBandSize,selectSynchronisedAreaSettings],(er,St,tr,rr,nr,sr,ir,ar,or)=>{var{chartData:lr,dataStartIndex:cr,dataEndIndex:ur}=ir;if(!(or==null||er!=="horizontal"&&er!=="vertical"||St==null||tr==null||rr==null||nr==null||rr.length===0||nr.length===0||ar==null)){var{data:dr}=or,hr;if(dr&&dr.length>0?hr=dr:hr=lr==null?void 0:lr.slice(cr,ur+1),hr!=null){var Ar=void 0;return computeArea({layout:er,xAxis:St,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,dataStartIndex:cr,areaSettings:or,stackedData:sr,displayedData:hr,chartBaseValue:Ar,bandSize:ar})}}}),_excluded$6=["layout","type","stroke","connectNulls","isRange"],_excluded2$1=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _objectWithoutProperties$6(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$6(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$6(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$2(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$2(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$2(Object(tr),!0).forEach(function(rr){_defineProperty$4(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$2(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$4(er,St,tr){return(St=_toPropertyKey$4(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$4(er){var St=_toPrimitive$4(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$4(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$5.apply(null,arguments)}function getLegendItemColor(er,St){return er&&er!=="none"?er:St}var computeLegendPayloadFromAreaData=er=>{var{dataKey:St,name:tr,stroke:rr,fill:nr,legendType:sr,hide:ir}=er;return[{inactive:ir,dataKey:St,type:sr,color:getLegendItemColor(rr,nr),value:getTooltipNameProp(tr,St),payload:er}]};function getTooltipEntrySettings(er){var{dataKey:St,data:tr,stroke:rr,strokeWidth:nr,fill:sr,name:ir,hide:ar,unit:or}=er;return{dataDefinedOnItem:tr,positions:void 0,settings:{stroke:rr,strokeWidth:nr,fill:sr,dataKey:St,nameKey:void 0,name:getTooltipNameProp(ir,St),hide:ar,type:er.tooltipType,color:getLegendItemColor(rr,sr),unit:or}}}var renderDotItem=(er,St)=>{var tr;if(reactExports.isValidElement(er))tr=reactExports.cloneElement(er,St);else if(typeof er=="function")tr=er(St);else{var rr=clsx("recharts-area-dot",typeof er!="boolean"?er.className:"");tr=reactExports.createElement(Dot,_extends$5({},St,{className:rr}))}return tr};function shouldRenderDots(er,St){return er==null?!1:St?!0:er.length===1}function Dots(er){var{clipPathId:St,points:tr,props:rr}=er,{needClip:nr,dot:sr,dataKey:ir}=rr;if(!shouldRenderDots(tr,sr))return null;var ar=isClipDot(sr),or=filterProps$1(rr,!1),lr=filterProps$1(sr,!0),cr=tr.map((dr,hr)=>{var Ar=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(hr),r:3},or),lr),{},{index:hr,cx:dr.x,cy:dr.y,dataKey:ir,value:dr.value,payload:dr.payload,points:tr});return renderDotItem(sr,Ar)}),ur={clipPath:nr?"url(#clipPath-".concat(ar?"":"dots-").concat(St,")"):void 0};return reactExports.createElement(Layer,_extends$5({className:"recharts-area-dots"},ur),cr)}function StaticArea(er){var{points:St,baseLine:tr,needClip:rr,clipPathId:nr,props:sr,showLabels:ir}=er,{layout:ar,type:or,stroke:lr,connectNulls:cr,isRange:ur}=sr,dr=_objectWithoutProperties$6(sr,_excluded$6);return reactExports.createElement(reactExports.Fragment,null,(St==null?void 0:St.length)>1&&reactExports.createElement(Layer,{clipPath:rr?"url(#clipPath-".concat(nr,")"):void 0},reactExports.createElement(Curve,_extends$5({},filterProps$1(dr,!0),{points:St,connectNulls:cr,type:or,baseLine:tr,layout:ar,stroke:"none",className:"recharts-area-area"})),lr!=="none"&&reactExports.createElement(Curve,_extends$5({},filterProps$1(sr,!1),{className:"recharts-area-curve",layout:ar,type:or,connectNulls:cr,fill:"none",points:St})),lr!=="none"&&ur&&reactExports.createElement(Curve,_extends$5({},filterProps$1(sr,!1),{className:"recharts-area-curve",layout:ar,type:or,connectNulls:cr,fill:"none",points:tr}))),reactExports.createElement(Dots,{points:St,props:sr,clipPathId:nr}),ir&&LabelList.renderCallByParent(sr,St))}function VerticalRect(er){var{alpha:St,baseLine:tr,points:rr,strokeWidth:nr}=er,sr=rr[0].y,ir=rr[rr.length-1].y;if(!isWellBehavedNumber(sr)||!isWellBehavedNumber(ir))return null;var ar=St*Math.abs(sr-ir),or=Math.max(...rr.map(lr=>lr.x||0));return isNumber(tr)?or=Math.max(tr,or):tr&&Array.isArray(tr)&&tr.length&&(or=Math.max(...tr.map(lr=>lr.x||0),or)),isNumber(or)?reactExports.createElement("rect",{x:0,y:sr<ir?sr:sr-ar,width:or+(nr?parseInt("".concat(nr),10):1),height:Math.floor(ar)}):null}function HorizontalRect(er){var{alpha:St,baseLine:tr,points:rr,strokeWidth:nr}=er,sr=rr[0].x,ir=rr[rr.length-1].x;if(!isWellBehavedNumber(sr)||!isWellBehavedNumber(ir))return null;var ar=St*Math.abs(sr-ir),or=Math.max(...rr.map(lr=>lr.y||0));return isNumber(tr)?or=Math.max(tr,or):tr&&Array.isArray(tr)&&tr.length&&(or=Math.max(...tr.map(lr=>lr.y||0),or)),isNumber(or)?reactExports.createElement("rect",{x:sr<ir?sr:sr-ar,y:0,width:ar,height:Math.floor(or+(nr?parseInt("".concat(nr),10):1))}):null}function ClipRect(er){var{alpha:St,layout:tr,points:rr,baseLine:nr,strokeWidth:sr}=er;return tr==="vertical"?reactExports.createElement(VerticalRect,{alpha:St,points:rr,baseLine:nr,strokeWidth:sr}):reactExports.createElement(HorizontalRect,{alpha:St,points:rr,baseLine:nr,strokeWidth:sr})}function AreaWithAnimation(er){var{needClip:St,clipPathId:tr,props:rr,previousPointsRef:nr,previousBaselineRef:sr}=er,{points:ir,baseLine:ar,isAnimationActive:or,animationBegin:lr,animationDuration:cr,animationEasing:ur,onAnimationStart:dr,onAnimationEnd:hr}=rr,Ar=useAnimationId(rr,"recharts-area-"),[fr,mr]=reactExports.useState(!0),pr=reactExports.useCallback(()=>{typeof hr=="function"&&hr(),mr(!1)},[hr]),gr=reactExports.useCallback(()=>{typeof dr=="function"&&dr(),mr(!0)},[dr]),xr=nr.current,yr=sr.current;return reactExports.createElement(Animate,{begin:lr,duration:cr,isActive:or,easing:ur,from:{t:0},to:{t:1},onAnimationEnd:pr,onAnimationStart:gr,key:Ar},Er=>{var{t:_r}=Er;if(xr){var Sr=xr.length/ir.length,jr=_r===1?ir:ir.map((Mr,Ir)=>{var Lr=Math.floor(Ir*Sr);if(xr[Lr]){var Qr=xr[Lr];return _objectSpread$2(_objectSpread$2({},Mr),{},{x:interpolate$2(Qr.x,Mr.x,_r),y:interpolate$2(Qr.y,Mr.y,_r)})}return Mr}),Pr;return isNumber(ar)?Pr=interpolate$2(yr,ar,_r):isNullish$1(ar)||isNan(ar)?Pr=interpolate$2(yr,0,_r):Pr=ar.map((Mr,Ir)=>{var Lr=Math.floor(Ir*Sr);if(Array.isArray(yr)&&yr[Lr]){var Qr=yr[Lr];return _objectSpread$2(_objectSpread$2({},Mr),{},{x:interpolate$2(Qr.x,Mr.x,_r),y:interpolate$2(Qr.y,Mr.y,_r)})}return Mr}),_r>0&&(nr.current=jr,sr.current=Pr),reactExports.createElement(StaticArea,{points:jr,baseLine:Pr,needClip:St,clipPathId:tr,props:rr,showLabels:!fr})}return _r>0&&(nr.current=ir,sr.current=ar),reactExports.createElement(Layer,null,reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:"animationClipPath-".concat(tr)},reactExports.createElement(ClipRect,{alpha:_r,points:ir,baseLine:ar,layout:rr.layout,strokeWidth:rr.strokeWidth}))),reactExports.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(tr,")")},reactExports.createElement(StaticArea,{points:ir,baseLine:ar,needClip:St,clipPathId:tr,props:rr,showLabels:!0})))})}function RenderArea(er){var{needClip:St,clipPathId:tr,props:rr}=er,{points:nr,baseLine:sr,isAnimationActive:ir}=rr,ar=reactExports.useRef(null),or=reactExports.useRef(),lr=ar.current,cr=or.current;return ir&&nr&&nr.length&&(lr!==nr||cr!==sr)?reactExports.createElement(AreaWithAnimation,{needClip:St,clipPathId:tr,props:rr,previousPointsRef:ar,previousBaselineRef:or}):reactExports.createElement(StaticArea,{points:nr,baseLine:sr,needClip:St,clipPathId:tr,props:rr,showLabels:!0})}class AreaWithState extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$4(this,"id",uniqueId("recharts-area-"))}render(){var St,{hide:tr,dot:rr,points:nr,className:sr,top:ir,left:ar,needClip:or,xAxisId:lr,yAxisId:cr,width:ur,height:dr,id:hr,baseLine:Ar}=this.props;if(tr)return null;var fr=clsx("recharts-area",sr),mr=isNullish$1(hr)?this.id:hr,{r:pr=3,strokeWidth:gr=2}=(St=filterProps$1(rr,!1))!==null&&St!==void 0?St:{r:3,strokeWidth:2},xr=isClipDot(rr),yr=pr*2+gr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:fr},or&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:mr,xAxisId:lr,yAxisId:cr}),!xr&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(mr)},reactExports.createElement("rect",{x:ar-yr/2,y:ir-yr/2,width:ur+yr,height:dr+yr}))),reactExports.createElement(RenderArea,{needClip:or,clipPathId:mr,props:this.props})),reactExports.createElement(ActivePoints,{points:nr,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(Ar)&&reactExports.createElement(ActivePoints,{points:Ar,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var defaultAreaProps={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Global.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function AreaImpl(er){var St,tr=resolveDefaultProps(er,defaultAreaProps),{activeDot:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir,connectNulls:ar,dot:or,fill:lr,fillOpacity:cr,hide:ur,isAnimationActive:dr,legendType:hr,stroke:Ar,xAxisId:fr,yAxisId:mr}=tr,pr=_objectWithoutProperties$6(tr,_excluded2$1),gr=useChartLayout(),xr=useChartName(),{needClip:yr}=useNeedsClip(fr,mr),Er=useIsPanorama(),_r=reactExports.useMemo(()=>({baseValue:er.baseValue,stackId:er.stackId,connectNulls:ar,data:er.data,dataKey:er.dataKey}),[er.baseValue,er.stackId,ar,er.data,er.dataKey]),{points:Sr,isRange:jr,baseLine:Pr}=(St=useAppSelector(Yr=>selectArea(Yr,fr,mr,Er,_r)))!==null&&St!==void 0?St:{},{height:Mr,width:Ir,x:Lr,y:Qr}=usePlotArea();return gr!=="horizontal"&&gr!=="vertical"||xr!=="AreaChart"&&xr!=="ComposedChart"?null:reactExports.createElement(AreaWithState,_extends$5({},pr,{activeDot:rr,animationBegin:nr,animationDuration:sr,animationEasing:ir,baseLine:Pr,connectNulls:ar,dot:or,fill:lr,fillOpacity:cr,height:Mr,hide:ur,layout:gr,isAnimationActive:dr,isRange:jr,legendType:hr,needClip:yr,points:Sr,stroke:Ar,width:Ir,left:Lr,top:Qr,xAxisId:fr,yAxisId:mr}))}var getBaseValue=(er,St,tr,rr,nr)=>{var sr=tr??St;if(isNumber(sr))return sr;var ir=er==="horizontal"?nr:rr,ar=ir.scale.domain();if(ir.type==="number"){var or=Math.max(ar[0],ar[1]),lr=Math.min(ar[0],ar[1]);return sr==="dataMin"?lr:sr==="dataMax"||or<0?or:Math.max(Math.min(ar[0],ar[1]),0)}return sr==="dataMin"?ar[0]:sr==="dataMax"?ar[1]:ar[0]};function computeArea(er){var{areaSettings:{connectNulls:St,baseValue:tr,dataKey:rr},stackedData:nr,layout:sr,chartBaseValue:ir,xAxis:ar,yAxis:or,displayedData:lr,dataStartIndex:cr,xAxisTicks:ur,yAxisTicks:dr,bandSize:hr}=er,Ar=nr&&nr.length,fr=getBaseValue(sr,ir,tr,ar,or),mr=sr==="horizontal",pr=!1,gr=lr.map((yr,Er)=>{var _r;Ar?_r=nr[cr+Er]:(_r=getValueByDataKey(yr,rr),Array.isArray(_r)?pr=!0:_r=[fr,_r]);var Sr=_r[1]==null||Ar&&!St&&getValueByDataKey(yr,rr)==null;return mr?{x:getCateCoordinateOfLine({axis:ar,ticks:ur,bandSize:hr,entry:yr,index:Er}),y:Sr?null:or.scale(_r[1]),value:_r,payload:yr}:{x:Sr?null:ar.scale(_r[1]),y:getCateCoordinateOfLine({axis:or,ticks:dr,bandSize:hr,entry:yr,index:Er}),value:_r,payload:yr}}),xr;return Ar||pr?xr=gr.map(yr=>{var Er=Array.isArray(yr.value)?yr.value[0]:null;return mr?{x:yr.x,y:Er!=null&&yr.y!=null?or.scale(Er):null}:{x:Er!=null?ar.scale(Er):null,y:yr.y}}):xr=mr?or.scale(fr):ar.scale(fr),{points:gr,baseLine:xr,isRange:pr}}class Area extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:this.props}),reactExports.createElement(AreaImpl,this.props))}}_defineProperty$4(Area,"displayName","Area");_defineProperty$4(Area,"defaultProps",defaultAreaProps);function ownKeys$1(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$1(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys$1(Object(tr),!0).forEach(function(rr){_defineProperty$3(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$3(er,St,tr){return(St=_toPropertyKey$3(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$3(er){var St=_toPrimitive$3(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$3(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var initialState$1={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$1,reducers:{addXAxis(er,St){er.xAxis[St.payload.id]=St.payload},removeXAxis(er,St){delete er.xAxis[St.payload.id]},addYAxis(er,St){er.yAxis[St.payload.id]=St.payload},removeYAxis(er,St){delete er.yAxis[St.payload.id]},addZAxis(er,St){er.zAxis[St.payload.id]=St.payload},removeZAxis(er,St){delete er.zAxis[St.payload.id]},updateYAxisWidth(er,St){var{id:tr,width:rr}=St.payload;er.yAxis[tr]&&(er.yAxis[tr]=_objectSpread$1(_objectSpread$1({},er.yAxis[tr]),{},{width:rr}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,_excluded$5=["children"],_excluded2=["dangerouslySetInnerHTML","ticks"];function _defineProperty$2(er,St,tr){return(St=_toPropertyKey$2(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$2(er){var St=_toPrimitive$2(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$2(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$5(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$5(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function SetXAxisSettings(er){var St=useAppDispatch(),tr=reactExports.useMemo(()=>{var{children:sr}=er,ir=_objectWithoutProperties$5(er,_excluded$5);return ir},[er]),rr=useAppSelector(sr=>selectXAxisSettings(sr,tr.id)),nr=tr===rr;return reactExports.useEffect(()=>(St(addXAxis(tr)),()=>{St(removeXAxis(tr))}),[tr,St]),nr?er.children:null}var XAxisImpl=er=>{var{xAxisId:St,className:tr}=er,rr=useAppSelector(selectAxisViewBox),nr=useIsPanorama(),sr="xAxis",ir=useAppSelector(hr=>selectAxisScale(hr,sr,St,nr)),ar=useAppSelector(hr=>selectTicksOfAxis(hr,sr,St,nr)),or=useAppSelector(hr=>selectXAxisSize(hr,St)),lr=useAppSelector(hr=>selectXAxisPosition(hr,St));if(or==null||lr==null)return null;var{dangerouslySetInnerHTML:cr,ticks:ur}=er,dr=_objectWithoutProperties$5(er,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},dr,{scale:ir,x:lr.x,y:lr.y,width:or.width,height:or.height,className:clsx("recharts-".concat(sr," ").concat(sr),tr),viewBox:rr,ticks:ar}))},XAxisSettingsDispatcher=er=>{var St,tr,rr,nr,sr;return reactExports.createElement(SetXAxisSettings,{interval:(St=er.interval)!==null&&St!==void 0?St:"preserveEnd",id:er.xAxisId,scale:er.scale,type:er.type,padding:er.padding,allowDataOverflow:er.allowDataOverflow,domain:er.domain,dataKey:er.dataKey,allowDuplicatedCategory:er.allowDuplicatedCategory,allowDecimals:er.allowDecimals,tickCount:er.tickCount,includeHidden:(tr=er.includeHidden)!==null&&tr!==void 0?tr:!1,reversed:er.reversed,ticks:er.ticks,height:er.height,orientation:er.orientation,mirror:er.mirror,hide:er.hide,unit:er.unit,name:er.name,angle:(rr=er.angle)!==null&&rr!==void 0?rr:0,minTickGap:(nr=er.minTickGap)!==null&&nr!==void 0?nr:5,tick:(sr=er.tick)!==null&&sr!==void 0?sr:!0,tickFormatter:er.tickFormatter},reactExports.createElement(XAxisImpl,er))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$2(XAxis,"displayName","XAxis");_defineProperty$2(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=er=>{var{ticks:St,label:tr,labelGapWithTick:rr=5,tickSize:nr=0,tickMargin:sr=0}=er,ir=0;if(St){St.forEach(cr=>{if(cr){var ur=cr.getBoundingClientRect();ur.width>ir&&(ir=ur.width)}});var ar=tr?tr.getBoundingClientRect().width:0,or=nr+sr,lr=ir+or+ar+(tr?rr:0);return Math.round(lr)}return 0},_excluded$4=["dangerouslySetInnerHTML","ticks"];function _defineProperty$1(er,St,tr){return(St=_toPropertyKey$1(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey$1(er){var St=_toPrimitive$1(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive$1(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$3.apply(null,arguments)}function _objectWithoutProperties$4(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$4(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$4(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function SetYAxisSettings(er){var St=useAppDispatch();return reactExports.useEffect(()=>(St(addYAxis(er)),()=>{St(removeYAxis(er))}),[er,St]),null}var YAxisImpl=er=>{var St,{yAxisId:tr,className:rr,width:nr,label:sr}=er,ir=reactExports.useRef(null),ar=reactExports.useRef(null),or=useAppSelector(selectAxisViewBox),lr=useIsPanorama(),cr=useAppDispatch(),ur="yAxis",dr=useAppSelector(xr=>selectAxisScale(xr,ur,tr,lr)),hr=useAppSelector(xr=>selectYAxisSize(xr,tr)),Ar=useAppSelector(xr=>selectYAxisPosition(xr,tr)),fr=useAppSelector(xr=>selectTicksOfAxis(xr,ur,tr,lr));if(reactExports.useLayoutEffect(()=>{var xr;if(!(nr!=="auto"||!hr||isLabelContentAFunction(sr)||reactExports.isValidElement(sr))){var yr=ir.current,Er=yr==null||(xr=yr.tickRefs)===null||xr===void 0?void 0:xr.current,{tickSize:_r,tickMargin:Sr}=yr.props,jr=getCalculatedYAxisWidth({ticks:Er,label:ar.current,labelGapWithTick:5,tickSize:_r,tickMargin:Sr});Math.round(hr.width)!==Math.round(jr)&&cr(updateYAxisWidth({id:tr,width:jr}))}},[ir,ir==null||(St=ir.current)===null||St===void 0||(St=St.tickRefs)===null||St===void 0?void 0:St.current,hr==null?void 0:hr.width,hr,cr,sr,tr,nr]),hr==null||Ar==null)return null;var{dangerouslySetInnerHTML:mr,ticks:pr}=er,gr=_objectWithoutProperties$4(er,_excluded$4);return reactExports.createElement(CartesianAxis,_extends$3({},gr,{ref:ir,labelRef:ar,scale:dr,x:Ar.x,y:Ar.y,width:hr.width,height:hr.height,className:clsx("recharts-".concat(ur," ").concat(ur),rr),viewBox:or,ticks:fr}))},YAxisSettingsDispatcher=er=>{var St,tr,rr,nr,sr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(St=er.interval)!==null&&St!==void 0?St:"preserveEnd",id:er.yAxisId,scale:er.scale,type:er.type,domain:er.domain,allowDataOverflow:er.allowDataOverflow,dataKey:er.dataKey,allowDuplicatedCategory:er.allowDuplicatedCategory,allowDecimals:er.allowDecimals,tickCount:er.tickCount,padding:er.padding,includeHidden:(tr=er.includeHidden)!==null&&tr!==void 0?tr:!1,reversed:er.reversed,ticks:er.ticks,width:er.width,orientation:er.orientation,mirror:er.mirror,hide:er.hide,unit:er.unit,name:er.name,angle:(rr=er.angle)!==null&&rr!==void 0?rr:0,minTickGap:(nr=er.minTickGap)!==null&&nr!==void 0?nr:5,tick:(sr=er.tick)!==null&&sr!==void 0?sr:!0,tickFormatter:er.tickFormatter}),reactExports.createElement(YAxisImpl,er))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$1(YAxis,"displayName","YAxis");_defineProperty$1(YAxis,"defaultProps",YAxisDefaultProps);function defaultNoopBatch(er){er()}function createListenerCollection(){let er=null,St=null;return{clear(){er=null,St=null},notify(){defaultNoopBatch(()=>{let tr=er;for(;tr;)tr.callback(),tr=tr.next})},get(){const tr=[];let rr=er;for(;rr;)tr.push(rr),rr=rr.next;return tr},subscribe(tr){let rr=!0;const nr=St={callback:tr,next:null,prev:St};return nr.prev?nr.prev.next=nr:er=nr,function(){!rr||er===null||(rr=!1,nr.next?nr.next.prev=nr.prev:St=nr.prev,nr.prev?nr.prev.next=nr.next:er=nr.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(er,St){let tr,rr=nullListeners,nr=0,sr=!1;function ir(fr){cr();const mr=rr.subscribe(fr);let pr=!1;return()=>{pr||(pr=!0,mr(),ur())}}function ar(){rr.notify()}function or(){Ar.onStateChange&&Ar.onStateChange()}function lr(){return sr}function cr(){nr++,tr||(tr=er.subscribe(or),rr=createListenerCollection())}function ur(){nr--,tr&&nr===0&&(tr(),tr=void 0,rr.clear(),rr=nullListeners)}function dr(){sr||(sr=!0,cr())}function hr(){sr&&(sr=!1,ur())}const Ar={addNestedSub:ir,notifyNestedSubs:ar,handleChangeWrapper:or,isSubscribed:lr,trySubscribe:dr,tryUnsubscribe:hr,getListeners:()=>rr};return Ar}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect$2=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const er=gT[ContextKey]??(gT[ContextKey]=new Map);let St=er.get(reactExports.createContext);return St||(St=reactExports.createContext(null),er.set(reactExports.createContext,St)),St}var ReactReduxContext=getContext();function Provider(er){const{children:St,context:tr,serverState:rr,store:nr}=er,sr=reactExports.useMemo(()=>{const or=createSubscription(nr);return{store:nr,subscription:or,getServerState:rr?()=>rr:void 0}},[nr,rr]),ir=reactExports.useMemo(()=>nr.getState(),[nr]);useIsomorphicLayoutEffect$2(()=>{const{subscription:or}=sr;return or.onStateChange=or.notifyNestedSubs,or.trySubscribe(),ir!==nr.getState()&&or.notifyNestedSubs(),()=>{or.tryUnsubscribe(),or.onStateChange=void 0}},[sr,ir]);const ar=tr||ReactReduxContext;return reactExports.createElement(ar.Provider,{value:sr},St)}var Provider_default=Provider,pickChartPointer=(er,St)=>St,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=er=>{var St=er.currentTarget.getBoundingClientRect(),tr=St.width/er.currentTarget.offsetWidth,rr=St.height/er.currentTarget.offsetHeight;return{chartX:Math.round((er.clientX-St.left)/tr),chartY:Math.round((er.clientY-St.top)/rr)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(er,St)=>{var tr=er.payload,rr=selectActivePropsFromChartPointer(St.getState(),getChartPointer(tr));(rr==null?void 0:rr.activeIndex)!=null&&St.dispatch(setMouseClickAxisIndex({activeIndex:rr.activeIndex,activeDataKey:void 0,activeCoordinate:rr.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(er,St)=>{var tr=er.payload,rr=St.getState(),nr=selectTooltipEventType$1(rr,rr.tooltip.settings.shared),sr=selectActivePropsFromChartPointer(rr,getChartPointer(tr));nr==="axis"&&((sr==null?void 0:sr.activeIndex)!=null?St.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate})):St.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(er,St){return St instanceof HTMLElement?"HTMLElement <".concat(St.tagName,' class="').concat(St.className,'">'):St===window?"global.window":St}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(er,St)=>{var tr;er.accessibilityLayer=St.payload.accessibilityLayer,er.barCategoryGap=St.payload.barCategoryGap,er.barGap=(tr=St.payload.barGap)!==null&&tr!==void 0?tr:initialState.barGap,er.barSize=St.payload.barSize,er.maxBarSize=St.payload.maxBarSize,er.stackOffset=St.payload.stackOffset,er.syncId=St.payload.syncId,er.syncMethod=St.payload.syncMethod,er.className=St.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(er,St)=>St.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(er,St)=>{var tr=St.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip,sr=er.payload;if(!(sr!=="ArrowRight"&&sr!=="ArrowLeft"&&sr!=="Enter")){var ir=Number(combineActiveTooltipIndex(nr,selectTooltipDisplayedData(tr))),ar=selectTooltipAxisTicks(tr);if(sr==="Enter"){var or=selectCoordinateForDefaultIndex(tr,"axis","hover",String(nr.index));St.dispatch(setKeyboardInteraction({active:!nr.active,activeIndex:nr.index,activeDataKey:nr.dataKey,activeCoordinate:or}));return}var lr=selectChartDirection(tr),cr=lr==="left-to-right"?1:-1,ur=sr==="ArrowRight"?1:-1,dr=ir+ur*cr;if(!(ar==null||dr>=ar.length||dr<0)){var hr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(dr));St.dispatch(setKeyboardInteraction({active:!0,activeIndex:dr.toString(),activeDataKey:void 0,activeCoordinate:hr}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(er,St)=>{var tr=St.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip;if(!nr.active&&nr.index==null){var sr="0",ir=selectCoordinateForDefaultIndex(tr,"axis","hover",String(sr));St.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:sr,activeCoordinate:ir}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(er,St)=>{if(er.payload.handler!=null){var tr=St.getState(),rr={activeCoordinate:selectActiveTooltipCoordinate(tr),activeDataKey:selectActiveTooltipDataKey(tr),activeIndex:selectActiveTooltipIndex(tr),activeLabel:selectActiveLabel$1(tr),activeTooltipIndex:selectActiveTooltipIndex(tr),isTooltipActive:selectIsTooltipActive$1(tr)};er.payload.handler(rr,er.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],er=>er.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(er,St,tr)=>St,(er,St,tr)=>tr],(er,St,tr,rr)=>{var nr=er.find(ar=>ar.settings.dataKey===rr);if(nr!=null){var{positions:sr}=nr;if(sr!=null){var ir=St(sr,tr);return ir}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(er,St)=>{var tr=er.payload,rr=St.getState(),nr=selectTooltipEventType$1(rr,rr.tooltip.settings.shared);if(nr==="axis"){var sr=selectActivePropsFromChartPointer(rr,getChartPointer({clientX:tr.touches[0].clientX,clientY:tr.touches[0].clientY,currentTarget:tr.currentTarget}));(sr==null?void 0:sr.activeIndex)!=null&&St.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate}))}else if(nr==="item"){var ir,ar=tr.touches[0],or=document.elementFromPoint(ar.clientX,ar.clientY);if(!or||!or.getAttribute)return;var lr=or.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),cr=(ir=or.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&ir!==void 0?ir:void 0,ur=selectTooltipCoordinate(St.getState(),lr,cr);St.dispatch(setActiveMouseOverItemIndex({activeDataKey:cr,activeIndex:lr,activeCoordinate:ur}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function er(St){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:St,middleware:rr=>rr({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(tr)}})};function RechartsStoreProvider(er){var{preloadedState:St,children:tr,reduxStoreName:rr}=er,nr=useIsPanorama(),sr=reactExports.useRef(null);if(nr)return tr;sr.current==null&&(sr.current=createRechartsStore(St,rr));var ir=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:ir,store:sr.current},tr)}function ReportMainChartProps(er){var{layout:St,width:tr,height:rr,margin:nr}=er,sr=useAppDispatch(),ir=useIsPanorama();return reactExports.useEffect(()=>{ir||(sr(setLayout(St)),sr(setChartSize({width:tr,height:rr})),sr(setMargin(nr)))},[sr,ir,St,tr,rr,nr]),null}function ReportChartProps(er){var St=useAppDispatch();return reactExports.useEffect(()=>{St(updateOptions(er))},[St,er]),null}var _excluded$3=["children"];function _objectWithoutProperties$3(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$3(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$3(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$2.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((er,St)=>{var tr=useChartWidth(),rr=useChartHeight(),nr=useAccessibilityLayer();if(!isPositiveNumber(tr)||!isPositiveNumber(rr))return null;var{children:sr,otherAttributes:ir,title:ar,desc:or}=er,lr,cr;return typeof ir.tabIndex=="number"?lr=ir.tabIndex:lr=nr?0:void 0,typeof ir.role=="string"?cr=ir.role:cr=nr?"application":void 0,reactExports.createElement(Surface,_extends$2({},ir,{title:ar,desc:or,role:cr,tabIndex:lr,width:tr,height:rr,style:FULL_WIDTH_AND_HEIGHT,ref:St}),sr)}),BrushPanoramaSurface=er=>{var{children:St}=er,tr=useAppSelector(selectBrushDimensions);if(!tr)return null;var{width:rr,height:nr,y:sr,x:ir}=tr;return reactExports.createElement(Surface,{width:rr,height:nr,x:ir,y:sr},St)},RootSurface=reactExports.forwardRef((er,St)=>{var{children:tr}=er,rr=_objectWithoutProperties$3(er,_excluded$3),nr=useIsPanorama();return nr?reactExports.createElement(BrushPanoramaSurface,null,tr):reactExports.createElement(MainChartSurface,_extends$2({ref:St},rr),tr)});function useReportScale(){var er=useAppDispatch(),[St,tr]=reactExports.useState(null),rr=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(St!=null){var nr=St.getBoundingClientRect(),sr=nr.width/St.offsetWidth;isWellBehavedNumber(sr)&&sr!==rr&&er(setScale(sr))}},[St,er,rr]),tr}function ownKeys(er,St){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);St&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St]!=null?arguments[St]:{};St%2?ownKeys(Object(tr),!0).forEach(function(rr){_defineProperty(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty(er,St,tr){return(St=_toPropertyKey(St))in er?Object.defineProperty(er,St,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[St]=tr,er}function _toPropertyKey(er){var St=_toPrimitive(er,"string");return typeof St=="symbol"?St:St+""}function _toPrimitive(er,St){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,St);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(er)}var RechartsWrapper=reactExports.forwardRef((er,St)=>{var{children:tr,className:rr,height:nr,onClick:sr,onContextMenu:ir,onDoubleClick:ar,onMouseDown:or,onMouseEnter:lr,onMouseLeave:cr,onMouseMove:ur,onMouseUp:dr,onTouchEnd:hr,onTouchMove:Ar,onTouchStart:fr,style:mr,width:pr}=er,gr=useAppDispatch(),[xr,yr]=reactExports.useState(null),[Er,_r]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var Sr=useReportScale(),jr=reactExports.useCallback(Rr=>{Sr(Rr),typeof St=="function"&&St(Rr),yr(Rr),_r(Rr)},[Sr,St,yr,_r]),Pr=reactExports.useCallback(Rr=>{gr(mouseClickAction(Rr)),gr(externalEventAction({handler:sr,reactEvent:Rr}))},[gr,sr]),Mr=reactExports.useCallback(Rr=>{gr(mouseMoveAction(Rr)),gr(externalEventAction({handler:lr,reactEvent:Rr}))},[gr,lr]),Ir=reactExports.useCallback(Rr=>{gr(mouseLeaveChart()),gr(externalEventAction({handler:cr,reactEvent:Rr}))},[gr,cr]),Lr=reactExports.useCallback(Rr=>{gr(mouseMoveAction(Rr)),gr(externalEventAction({handler:ur,reactEvent:Rr}))},[gr,ur]),Qr=reactExports.useCallback(()=>{gr(focusAction())},[gr]),Yr=reactExports.useCallback(Rr=>{gr(keyDownAction(Rr.key))},[gr]),Gr=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:ir,reactEvent:Rr}))},[gr,ir]),$r=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:ar,reactEvent:Rr}))},[gr,ar]),Vr=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:or,reactEvent:Rr}))},[gr,or]),Tr=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:dr,reactEvent:Rr}))},[gr,dr]),Fr=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:fr,reactEvent:Rr}))},[gr,fr]),Wr=reactExports.useCallback(Rr=>{gr(touchEventAction(Rr)),gr(externalEventAction({handler:Ar,reactEvent:Rr}))},[gr,Ar]),qr=reactExports.useCallback(Rr=>{gr(externalEventAction({handler:hr,reactEvent:Rr}))},[gr,hr]);return reactExports.createElement(TooltipPortalContext.Provider,{value:xr},reactExports.createElement(LegendPortalContext.Provider,{value:Er},reactExports.createElement("div",{className:clsx("recharts-wrapper",rr),style:_objectSpread({position:"relative",cursor:"default",width:pr,height:nr},mr),onClick:Pr,onContextMenu:Gr,onDoubleClick:$r,onFocus:Qr,onKeyDown:Yr,onMouseDown:Vr,onMouseEnter:Mr,onMouseLeave:Ir,onMouseMove:Lr,onMouseUp:Tr,onTouchEnd:qr,onTouchMove:Wr,onTouchStart:Fr,ref:jr},tr)))}),_excluded$2=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$2(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$2(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$2(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var CategoricalChart=reactExports.forwardRef((er,St)=>{var{children:tr,className:rr,width:nr,height:sr,style:ir,compact:ar,title:or,desc:lr}=er,cr=_objectWithoutProperties$2(er,_excluded$2),ur=filterProps$1(cr,!1);return ar?reactExports.createElement(RootSurface,{otherAttributes:ur,title:or,desc:lr},tr):reactExports.createElement(RechartsWrapper,{className:rr,style:ir,width:nr,height:sr,onClick:er.onClick,onMouseLeave:er.onMouseLeave,onMouseEnter:er.onMouseEnter,onMouseMove:er.onMouseMove,onMouseDown:er.onMouseDown,onMouseUp:er.onMouseUp,onContextMenu:er.onContextMenu,onDoubleClick:er.onDoubleClick,onTouchStart:er.onTouchStart,onTouchMove:er.onTouchMove,onTouchEnd:er.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:ur,title:or,desc:lr,ref:St},reactExports.createElement(ClipPathProvider,null,tr)))}),_excluded$1=["width","height"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$1.apply(null,arguments)}function _objectWithoutProperties$1(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$1(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$1(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function er(St,tr){var rr,nr=resolveDefaultProps(St.categoricalChartProps,defaultProps$2),{width:sr,height:ir}=nr,ar=_objectWithoutProperties$1(nr,_excluded$1);if(!isPositiveNumber(sr)||!isPositiveNumber(ir))return null;var{chartName:or,defaultTooltipEventType:lr,validateTooltipEventTypes:cr,tooltipPayloadSearcher:ur,categoricalChartProps:dr}=St,hr={chartName:or,defaultTooltipEventType:lr,validateTooltipEventTypes:cr,tooltipPayloadSearcher:ur,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:hr},reduxStoreName:(rr=dr.id)!==null&&rr!==void 0?rr:or},reactExports.createElement(ChartDataContextProvider,{chartData:dr.data}),reactExports.createElement(ReportMainChartProps,{width:sr,height:ir,layout:nr.layout,margin:nr.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className}),reactExports.createElement(CategoricalChart,_extends$1({},ar,{width:sr,height:ir,ref:tr})))}),allowedTooltipTypes$3=["axis"],LineChart=reactExports.forwardRef((er,St)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$3,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:er,ref:St})),allowedTooltipTypes$2=["axis","item"],BarChart=reactExports.forwardRef((er,St)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:er,ref:St}));function ReportPolarOptions(er){var St=useAppDispatch();return reactExports.useEffect(()=>{St(updatePolarOptions(er))},[St,er]),null}var _excluded=["width","height","layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(er){for(var St=1;St<arguments.length;St++){var tr=arguments[St];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends.apply(null,arguments)}function _objectWithoutProperties(er,St){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose(er,St);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(er);for(rr=0;rr<sr.length;rr++)tr=sr[rr],St.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose(er,St){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(St.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PolarChart=reactExports.forwardRef(function er(St,tr){var rr,nr=resolveDefaultProps(St.categoricalChartProps,defaultProps$1),{width:sr,height:ir,layout:ar}=nr,or=_objectWithoutProperties(nr,_excluded);if(!isPositiveNumber(sr)||!isPositiveNumber(ir))return null;var{chartName:lr,defaultTooltipEventType:cr,validateTooltipEventTypes:ur,tooltipPayloadSearcher:dr}=St,hr={chartName:lr,defaultTooltipEventType:cr,validateTooltipEventTypes:ur,tooltipPayloadSearcher:dr,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:hr},reduxStoreName:(rr=nr.id)!==null&&rr!==void 0?rr:lr},reactExports.createElement(ChartDataContextProvider,{chartData:nr.data}),reactExports.createElement(ReportMainChartProps,{width:sr,height:ir,layout:ar,margin:nr.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className}),reactExports.createElement(ReportPolarOptions,{cx:nr.cx,cy:nr.cy,startAngle:nr.startAngle,endAngle:nr.endAngle,innerRadius:nr.innerRadius,outerRadius:nr.outerRadius}),reactExports.createElement(CategoricalChart,_extends({width:sr,height:ir},or,{ref:tr})))}),allowedTooltipTypes$1=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((er,St)=>{var tr=resolveDefaultProps(er,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:St})}),allowedTooltipTypes=["axis"],AreaChart=reactExports.forwardRef((er,St)=>reactExports.createElement(CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:er,ref:St}));const data$2=[{month:"Mar",employers:22},{month:"Apr",employers:28},{month:"May",employers:34},{month:"Jun",employers:41},{month:"Jul",employers:47}];function AdminEmployerTrends(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Employer Growth"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:240,children:jsxRuntimeExports.jsxs(LineChart,{data:data$2,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"employers",stroke:"#14b8a6",strokeWidth:3})]})})]})})}const features=[{name:"AI Assistant",usage:"89%",color:"text-sky-600"},{name:"Voice Branding",usage:"72%",color:"text-purple-600"},{name:"Invoices",usage:"97%",color:"text-green-600"},{name:"System Logs",usage:"64%",color:"text-yellow-600"}];function AdminFeatureUsagePanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Feature Usage Snapshot"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:features.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:er.name}),jsxRuntimeExports.jsx("span",{className:`text-sm font-bold ${er.color}`,children:er.usage})]},St))})]})})}const COLORS$1=["#0ea5e9","#14b8a6"],data$1=[{name:"Gemini",value:62},{name:"OpenAI",value:38}];function AiUsageChart(){return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"AI Model Usage"}),jsxRuntimeExports.jsxs(PieChart,{width:280,height:220,children:[jsxRuntimeExports.jsx(Pie,{data:data$1,dataKey:"value",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:data$1.map((er,St)=>jsxRuntimeExports.jsx(Cell$1,{fill:COLORS$1[St%COLORS$1.length]},St))}),jsxRuntimeExports.jsx(Tooltip,{})]})]})})}function AuditLogSearch(){return jsxRuntimeExports.jsx(Card,{className:"glass-card mt-6",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Search AI / System Logs"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search input/output...",className:"flex-1 px-4 py-2 rounded-xl border bg-white/50 backdrop-blur"}),jsxRuntimeExports.jsx("button",{className:"bg-sky-600 hover:bg-sky-700 text-white px-6 py-2 rounded-xl shadow",children:"Search"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Advanced log filter support coming soon."})]})})}const starterNotes=[{id:1,tag:"employer",text:"NovaHealth's payment plan expires next month."},{id:2,tag:"ai",text:"Gemini responded with 98% accuracy this week."}];function AdminNotesPanel(){const[er,St]=reactExports.useState(starterNotes),[tr,rr]=reactExports.useState(""),nr=()=>{if(!tr.trim())return;const sr=tr.includes("#")?tr.split("#")[1]:"general";St([...er,{id:Date.now(),tag:sr,text:tr}]),rr("")};return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Admin Notes & Tags"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-4",children:er.map(sr=>jsxRuntimeExports.jsxs("li",{className:"text-sm flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-700",children:sr.text}),jsxRuntimeExports.jsxs("span",{className:"text-xs px-2 py-1 bg-sky-100 text-sky-800 rounded-full",children:["#",sr.tag]})]},sr.id))}),jsxRuntimeExports.jsx("input",{value:tr,onChange:sr=>rr(sr.target.value),placeholder:"Leave a note... (use #tag)",className:"w-full bg-white/40 backdrop-blur border rounded-xl px-4 py-2 mb-2"}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"bg-sky-600 text-white rounded-xl px-4 py-2 hover:bg-sky-700 transition shadow",children:"Save Note"})]})})}function AdminPdfExportPanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" Export Reports to PDF"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 text-sm",children:"Select which dashboard section you'd like to export as a styled PDF document."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{className:"bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-xl transition shadow",children:"Export Overview"}),jsxRuntimeExports.jsx("button",{className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-xl transition shadow",children:"Export AI Logs"}),jsxRuntimeExports.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl transition shadow",children:"Export Employers"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-400",children:"* Actual export logic will hook into client PDF renderer."})]})})}function AdminCustomReportPanel(){return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" Custom Report Generator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Generate a downloadable report based on your selected category:"}),jsxRuntimeExports.jsxs("select",{className:"w-full bg-white/50 backdrop-blur border rounded-xl px-4 py-2",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a Report Type"}),jsxRuntimeExports.jsx("option",{value:"ai",children:"AI Interaction Summary"}),jsxRuntimeExports.jsx("option",{value:"billing",children:"Employer Billing Overview"}),jsxRuntimeExports.jsx("option",{value:"usage",children:"Feature Usage Analysis"})]}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl shadow transition",children:"Generate Report"})]})})}const chartData=[{label:"Week 1",ai:134,users:42},{label:"Week 2",ai:185,users:47},{label:"Week 3",ai:210,users:50},{label:"Week 4",ai:192,users:53}];function AdminChartBuilder(){const[er,St]=reactExports.useState("area");return jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:" Chart Builder"}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("select",{value:er,onChange:tr=>St(tr.target.value),className:"bg-white/50 backdrop-blur border rounded-xl px-4 py-2",children:[jsxRuntimeExports.jsx("option",{value:"area",children:"AI Activity (Area)"}),jsxRuntimeExports.jsx("option",{value:"line",children:"User Growth (Line)"})]})}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:240,children:er==="area"?jsxRuntimeExports.jsxs(AreaChart,{data:chartData,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"colorAI",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),jsxRuntimeExports.jsx(XAxis,{dataKey:"label"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"ai",stroke:"#0ea5e9",fill:"url(#colorAI)"})]}):jsxRuntimeExports.jsxs(LineChart,{data:chartData,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"label"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"users",stroke:"#14b8a6",strokeWidth:3})]})})]})})}function AdminDashboard(){return jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsx("div",{className:"px-6 pb-24",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"sticky top-0 z-10 backdrop-blur-md bg-white/60 border border-slate-200 mb-6 p-2 rounded-xl shadow",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:" Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"ai",children:" AI Logs"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"employers",children:" Employers"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"settings",children:" Settings"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"space-y-10",children:[jsxRuntimeExports.jsx(AiUsageChart,{}),jsxRuntimeExports.jsx(AdminEmployerTrends,{}),jsxRuntimeExports.jsx(AdminFeatureUsagePanel,{}),jsxRuntimeExports.jsx(AuditLogSearch,{}),jsxRuntimeExports.jsx(AdminTimeline,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-10",children:jsxRuntimeExports.jsx(AssistantBar,{})})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"ai",className:"space-y-10",children:[jsxRuntimeExports.jsx(AdminAiActivityFeed,{}),jsxRuntimeExports.jsx(AdminAuditLogPanel,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-10",children:jsxRuntimeExports.jsx(AssistantBar,{})})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"employers",className:"space-y-10",children:[jsxRuntimeExports.jsx(EmployerOnboardingPanel,{}),jsxRuntimeExports.jsx(MonthlyInvoicePanel,{}),jsxRuntimeExports.jsx(EmployerInvoiceViewer,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-10",children:jsxRuntimeExports.jsx(AssistantBar,{})})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"settings",className:"space-y-10",children:[jsxRuntimeExports.jsx(VoiceBrandingSelector,{}),jsxRuntimeExports.jsx(FeatureTogglePanel,{}),jsxRuntimeExports.jsx(AdminPdfExportPanel,{}),jsxRuntimeExports.jsx(AdminCustomReportPanel,{}),jsxRuntimeExports.jsx(AdminChartBuilder,{}),jsxRuntimeExports.jsx(AdminNotesPanel,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-10",children:jsxRuntimeExports.jsx(AssistantBar,{})})]})]})})})}const variantStyles={default:"bg-blue-100 text-blue-700 hover:bg-blue-200",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200",destructive:"bg-red-100 text-red-700 hover:bg-red-200",outline:"border border-gray-300 text-gray-700"};function Badge({label:er,className:St,variant:tr="default",children:rr,...nr}){return jsxRuntimeExports.jsx("div",{className:cn("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors",variantStyles[tr],St),...nr,children:rr||er})}const menuItems=[{id:"dashboard",label:"Dashboard",icon:LayoutDashboard,path:"/admin/dashboard"},{id:"employers",label:"Employers",icon:Building2,path:"/admin/employers"},{id:"billing",label:"Billing",icon:CreditCard,path:"/admin/billing"},{id:"users",label:"Users",icon:Users,path:"/admin/users"},{id:"analytics",label:"Analytics",icon:BarChart3,path:"/admin/analytics"},{id:"audit",label:"Audit Log",icon:Shield,path:"/admin/audit"},{id:"broadcast",label:"Broadcast",icon:Radio$1,path:"/admin/broadcast"},{id:"backup",label:"Backup",icon:Database,path:"/admin/backup"},{id:"settings",label:"Settings",icon:Settings,path:"/admin/settings"}];function AdminLayoutGlass({children:er}){const St=useLocation(),tr=useNavigate(),{branding:rr}=useBrandingContext(),[nr,sr]=reactExports.useState(!1);reactExports.useEffect(()=>{rr!=null&&rr.voice_profile_id&&console.log("[AdminLayoutGlass] Voice profile loaded:",rr.voice_profile_id)},[rr]);const ir=async()=>{await supabase.auth.signOut(),tr("/")};return jsxRuntimeExports.jsxs("div",{className:`bg-gradient-to-br from-white to-sky-50 text-gray-800 transition-all duration-300 ${nr?"w-16":"w-64"} min-h-screen flex flex-col`,children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-2 ${nr?"justify-center":""}`,children:[jsxRuntimeExports.jsx(FileText,{className:"h-6 w-6 text-blue-500"}),!nr&&jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold",children:"Admin Panel"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(!nr),className:"p-1.5 hover:bg-gray-100 rounded-md transition-colors",children:nr?jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 p-4 space-y-1",children:menuItems.map(ar=>{const or=St.pathname===ar.path,lr=ar.icon;return jsxRuntimeExports.jsxs("button",{onClick:()=>tr(ar.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${or?"bg-blue-600 text-white":"hover:bg-blue-50 text-gray-700 hover:text-blue-700"}`,children:[jsxRuntimeExports.jsx(lr,{className:"h-5 w-5"}),!nr&&jsxRuntimeExports.jsx("div",{className:"flex-1 text-left font-medium",children:ar.label})]},ar.id)})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200",children:jsxRuntimeExports.jsxs("button",{onClick:ir,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-red-50 text-red-500 hover:text-red-600 transition-all",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"}),!nr&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Logout"})]})}),jsxRuntimeExports.jsx(AssistantBar,{})]})}function AdminDashboardSimple(){const[er]=reactExports.useState({totalEmployers:24,activeEmployers:22,totalEmployees:1847,activeEmployees:1734,monthlyRevenue:125e3,pendingInvoices:12,systemHealth:98,activeVisits:7});return jsxRuntimeExports.jsx(AdminLayoutGlass,{children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"System overview and management"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Employers"}),jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.totalEmployers}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[er.activeEmployers," active"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Employees"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.totalEmployees.toLocaleString()}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[er.activeEmployees.toLocaleString()," active"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Monthly Revenue"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["$",(er.monthlyRevenue/1e3).toFixed(0),"k"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-3 w-3 inline text-green-500"})," 12% from last month"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"System Health"}),jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[er.systemHealth,"%"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All systems operational"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Recent Activity"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4 text-green-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:'New employer "Tech Corp" onboarded'}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"2 hours ago"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4 text-blue-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Invoice #1234 paid by Health Inc"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"4 hours ago"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-purple-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"45 new employees added"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"6 hours ago"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-orange-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"System backup completed"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"12 hours ago"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Pending Actions"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Pending Invoices"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Review and send"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:er.pendingInvoices})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Support Tickets"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting response"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Employer Requests"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Pending approval"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"2"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"System Updates"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Ready to install"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"1"})]})]})})]})]})]})})}function AdminEmployersPage(){const[er,St]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const{data:rr,error:nr}=await supabase.from("employers").select("*");nr||St(rr)})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" Employers"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage all companies using your platform"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:er.map(tr=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow hover:shadow-md transition-all",children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-lg",children:tr.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:tr.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employees: ",tr.employee_count]}),jsxRuntimeExports.jsx("button",{className:"mt-2 text-blue-600 text-sm underline",children:"Edit"})]},tr.id))})]})}function Input({label:er,...St}){return jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[er&&jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:er}),jsxRuntimeExports.jsx("input",{...St,className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur"})]})}function AdminSettingsPage(){const[er,St]=reactExports.useState({voice:"Rachel",notification_sender_name:"Insperity Health",primary_color:"#3B82F6",tagline:""}),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(!1);reactExports.useEffect(()=>{ir()},[]);async function ir(){try{const{data:{user:lr}}=await supabase.auth.getUser();if(!lr)return;const{data:cr}=await supabase.from("employers").select("*").limit(1).single();cr&&St({voice:cr.voice_profile||"Rachel",notification_sender_name:cr.notification_sender_name||"Insperity Health",primary_color:cr.primary_color||"#3B82F6",tagline:cr.tagline||""})}catch(lr){console.error("Error loading settings:",lr)}finally{rr(!1)}}function ar(lr,cr){St({...er,[lr]:cr})}async function or(){sr(!0);try{alert("Settings saved successfully!")}catch(lr){console.error("Error saving settings:",lr),alert("Failed to save settings")}finally{sr(!1)}}return tr?jsxRuntimeExports.jsx("div",{className:"p-6",children:"Loading settings..."}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:" Admin Settings"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(Card,{title:"Platform Branding",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Primary Color",type:"color",value:er.primary_color,onChange:lr=>ar("primary_color",lr.target.value)}),jsxRuntimeExports.jsx(Input,{label:"Platform Tagline",value:er.tagline,onChange:lr=>ar("tagline",lr.target.value),placeholder:"e.g. Your Health, Simplified"})]})}),jsxRuntimeExports.jsx(Card,{title:"Voice Settings",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Default AI Voice"}),jsxRuntimeExports.jsxs("select",{className:"mt-1 w-full border rounded p-2 text-sm",value:er.voice,onChange:lr=>ar("voice",lr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Rachel",children:"Rachel"}),jsxRuntimeExports.jsx("option",{value:"Bella",children:"Bella"}),jsxRuntimeExports.jsx("option",{value:"Adam",children:"Adam"}),jsxRuntimeExports.jsx("option",{value:"Josh",children:"Josh"})]})]})})}),jsxRuntimeExports.jsx(Card,{title:"Notification Settings",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{label:"Notification Sender Name",value:er.notification_sender_name,onChange:lr=>ar("notification_sender_name",lr.target.value),placeholder:"e.g. Acme Wellness Group"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"This name appears as the sender in all system notifications, emails, and SMS messages"})]})}),jsxRuntimeExports.jsx(Card,{title:"File Upload",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Logo"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"w-full border rounded p-2 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favicon"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/x-icon,image/png",className:"w-full border rounded p-2 text-sm"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:or,disabled:nr,children:nr?"Saving...":"Save Settings"})})]})}function AdminBillingPage(){const[er,St]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const{data:rr,error:nr}=await supabase.from("invoices").select("*");nr||St(rr)})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:" Admin Billing Center"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Monitor all billing activity across tenants. Generate monthly statements, track overdue payments, and push adjustments."}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 shadow rounded",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{children:"Employer"}),jsxRuntimeExports.jsx("th",{children:"Amount"}),jsxRuntimeExports.jsx("th",{children:"Status"}),jsxRuntimeExports.jsx("th",{children:"Date"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.map(tr=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{children:tr.employer_name}),jsxRuntimeExports.jsxs("td",{children:["$",tr.amount.toFixed(2)]}),jsxRuntimeExports.jsx("td",{children:tr.status}),jsxRuntimeExports.jsx("td",{children:new Date(tr.created_at).toLocaleDateString()})]},tr.id))})]})})]})}function clamp$1(er,[St,tr]){return Math.min(tr,Math.max(St,er))}function composeEventHandlers(er,St,{checkForDefaultPrevented:tr=!0}={}){return function(nr){if(er==null||er(nr),tr===!1||!nr.defaultPrevented)return St==null?void 0:St(nr)}}function createContextScope(er,St=[]){let tr=[];function rr(sr,ir){const ar=reactExports.createContext(ir),or=tr.length;tr=[...tr,ir];const lr=ur=>{var pr;const{scope:dr,children:hr,...Ar}=ur,fr=((pr=dr==null?void 0:dr[er])==null?void 0:pr[or])||ar,mr=reactExports.useMemo(()=>Ar,Object.values(Ar));return jsxRuntimeExports.jsx(fr.Provider,{value:mr,children:hr})};lr.displayName=sr+"Provider";function cr(ur,dr){var fr;const hr=((fr=dr==null?void 0:dr[er])==null?void 0:fr[or])||ar,Ar=reactExports.useContext(hr);if(Ar)return Ar;if(ir!==void 0)return ir;throw new Error(`\`${ur}\` must be used within \`${sr}\``)}return[lr,cr]}const nr=()=>{const sr=tr.map(ir=>reactExports.createContext(ir));return function(ar){const or=(ar==null?void 0:ar[er])||sr;return reactExports.useMemo(()=>({[`__scope${er}`]:{...ar,[er]:or}}),[ar,or])}};return nr.scopeName=er,[rr,composeContextScopes(nr,...St)]}function composeContextScopes(...er){const St=er[0];if(er.length===1)return St;const tr=()=>{const rr=er.map(nr=>({useScope:nr(),scopeName:nr.scopeName}));return function(sr){const ir=rr.reduce((ar,{useScope:or,scopeName:lr})=>{const ur=or(sr)[`__scope${lr}`];return{...ar,...ur}},{});return reactExports.useMemo(()=>({[`__scope${St.scopeName}`]:ir}),[ir])}};return tr.scopeName=St.scopeName,tr}function setRef(er,St){if(typeof er=="function")return er(St);er!=null&&(er.current=St)}function composeRefs(...er){return St=>{let tr=!1;const rr=er.map(nr=>{const sr=setRef(nr,St);return!tr&&typeof sr=="function"&&(tr=!0),sr});if(tr)return()=>{for(let nr=0;nr<rr.length;nr++){const sr=rr[nr];typeof sr=="function"?sr():setRef(er[nr],null)}}}}function useComposedRefs(...er){return reactExports.useCallback(composeRefs(...er),er)}function createSlot(er){const St=createSlotClone(er),tr=reactExports.forwardRef((rr,nr)=>{const{children:sr,...ir}=rr,ar=reactExports.Children.toArray(sr),or=ar.find(isSlottable);if(or){const lr=or.props.children,cr=ar.map(ur=>ur===or?reactExports.Children.count(lr)>1?reactExports.Children.only(null):reactExports.isValidElement(lr)?lr.props.children:null:ur);return jsxRuntimeExports.jsx(St,{...ir,ref:nr,children:reactExports.isValidElement(lr)?reactExports.cloneElement(lr,void 0,cr):null})}return jsxRuntimeExports.jsx(St,{...ir,ref:nr,children:sr})});return tr.displayName=`${er}.Slot`,tr}function createSlotClone(er){const St=reactExports.forwardRef((tr,rr)=>{const{children:nr,...sr}=tr;if(reactExports.isValidElement(nr)){const ir=getElementRef$1(nr),ar=mergeProps(sr,nr.props);return nr.type!==reactExports.Fragment&&(ar.ref=rr?composeRefs(rr,ir):ir),reactExports.cloneElement(nr,ar)}return reactExports.Children.count(nr)>1?reactExports.Children.only(null):null});return St.displayName=`${er}.SlotClone`,St}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(er){return reactExports.isValidElement(er)&&typeof er.type=="function"&&"__radixId"in er.type&&er.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(er,St){const tr={...St};for(const rr in St){const nr=er[rr],sr=St[rr];/^on[A-Z]/.test(rr)?nr&&sr?tr[rr]=(...ar)=>{const or=sr(...ar);return nr(...ar),or}:nr&&(tr[rr]=nr):rr==="style"?tr[rr]={...nr,...sr}:rr==="className"&&(tr[rr]=[nr,sr].filter(Boolean).join(" "))}return{...er,...tr}}function getElementRef$1(er){var rr,nr;let St=(rr=Object.getOwnPropertyDescriptor(er.props,"ref"))==null?void 0:rr.get,tr=St&&"isReactWarning"in St&&St.isReactWarning;return tr?er.ref:(St=(nr=Object.getOwnPropertyDescriptor(er,"ref"))==null?void 0:nr.get,tr=St&&"isReactWarning"in St&&St.isReactWarning,tr?er.props.ref:er.props.ref||er.ref)}function createCollection(er){const St=er+"CollectionProvider",[tr,rr]=createContextScope(St),[nr,sr]=tr(St,{collectionRef:{current:null},itemMap:new Map}),ir=fr=>{const{scope:mr,children:pr}=fr,gr=React$3.useRef(null),xr=React$3.useRef(new Map).current;return jsxRuntimeExports.jsx(nr,{scope:mr,itemMap:xr,collectionRef:gr,children:pr})};ir.displayName=St;const ar=er+"CollectionSlot",or=createSlot(ar),lr=React$3.forwardRef((fr,mr)=>{const{scope:pr,children:gr}=fr,xr=sr(ar,pr),yr=useComposedRefs(mr,xr.collectionRef);return jsxRuntimeExports.jsx(or,{ref:yr,children:gr})});lr.displayName=ar;const cr=er+"CollectionItemSlot",ur="data-radix-collection-item",dr=createSlot(cr),hr=React$3.forwardRef((fr,mr)=>{const{scope:pr,children:gr,...xr}=fr,yr=React$3.useRef(null),Er=useComposedRefs(mr,yr),_r=sr(cr,pr);return React$3.useEffect(()=>(_r.itemMap.set(yr,{ref:yr,...xr}),()=>void _r.itemMap.delete(yr))),jsxRuntimeExports.jsx(dr,{[ur]:"",ref:Er,children:gr})});hr.displayName=cr;function Ar(fr){const mr=sr(er+"CollectionConsumer",fr);return React$3.useCallback(()=>{const gr=mr.collectionRef.current;if(!gr)return[];const xr=Array.from(gr.querySelectorAll(`[${ur}]`));return Array.from(mr.itemMap.values()).sort((_r,Sr)=>xr.indexOf(_r.ref.current)-xr.indexOf(Sr.ref.current))},[mr.collectionRef,mr.itemMap])}return[{Provider:ir,Slot:lr,ItemSlot:hr},Ar,rr]}var DirectionContext=reactExports.createContext(void 0);function useDirection(er){const St=reactExports.useContext(DirectionContext);return er||St||"ltr"}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((er,St)=>{const tr=createSlot(`Primitive.${St}`),rr=reactExports.forwardRef((nr,sr)=>{const{asChild:ir,...ar}=nr,or=ir?tr:St;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(or,{...ar,ref:sr})});return rr.displayName=`Primitive.${St}`,{...er,[St]:rr}},{});function dispatchDiscreteCustomEvent(er,St){er&&reactDomExports.flushSync(()=>er.dispatchEvent(St))}function useCallbackRef$1(er){const St=reactExports.useRef(er);return reactExports.useEffect(()=>{St.current=er}),reactExports.useMemo(()=>(...tr)=>{var rr;return(rr=St.current)==null?void 0:rr.call(St,...tr)},[])}function useEscapeKeydown(er,St=globalThis==null?void 0:globalThis.document){const tr=useCallbackRef$1(er);reactExports.useEffect(()=>{const rr=nr=>{nr.key==="Escape"&&tr(nr)};return St.addEventListener("keydown",rr,{capture:!0}),()=>St.removeEventListener("keydown",rr,{capture:!0})},[tr,St])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((er,St)=>{const{disableOutsidePointerEvents:tr=!1,onEscapeKeyDown:rr,onPointerDownOutside:nr,onFocusOutside:sr,onInteractOutside:ir,onDismiss:ar,...or}=er,lr=reactExports.useContext(DismissableLayerContext),[cr,ur]=reactExports.useState(null),dr=(cr==null?void 0:cr.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,hr]=reactExports.useState({}),Ar=useComposedRefs(St,Sr=>ur(Sr)),fr=Array.from(lr.layers),[mr]=[...lr.layersWithOutsidePointerEventsDisabled].slice(-1),pr=fr.indexOf(mr),gr=cr?fr.indexOf(cr):-1,xr=lr.layersWithOutsidePointerEventsDisabled.size>0,yr=gr>=pr,Er=usePointerDownOutside(Sr=>{const jr=Sr.target,Pr=[...lr.branches].some(Mr=>Mr.contains(jr));!yr||Pr||(nr==null||nr(Sr),ir==null||ir(Sr),Sr.defaultPrevented||ar==null||ar())},dr),_r=useFocusOutside(Sr=>{const jr=Sr.target;[...lr.branches].some(Mr=>Mr.contains(jr))||(sr==null||sr(Sr),ir==null||ir(Sr),Sr.defaultPrevented||ar==null||ar())},dr);return useEscapeKeydown(Sr=>{gr===lr.layers.size-1&&(rr==null||rr(Sr),!Sr.defaultPrevented&&ar&&(Sr.preventDefault(),ar()))},dr),reactExports.useEffect(()=>{if(cr)return tr&&(lr.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=dr.body.style.pointerEvents,dr.body.style.pointerEvents="none"),lr.layersWithOutsidePointerEventsDisabled.add(cr)),lr.layers.add(cr),dispatchUpdate(),()=>{tr&&lr.layersWithOutsidePointerEventsDisabled.size===1&&(dr.body.style.pointerEvents=originalBodyPointerEvents)}},[cr,dr,tr,lr]),reactExports.useEffect(()=>()=>{cr&&(lr.layers.delete(cr),lr.layersWithOutsidePointerEventsDisabled.delete(cr),dispatchUpdate())},[cr,lr]),reactExports.useEffect(()=>{const Sr=()=>hr({});return document.addEventListener(CONTEXT_UPDATE,Sr),()=>document.removeEventListener(CONTEXT_UPDATE,Sr)},[]),jsxRuntimeExports.jsx(Primitive.div,{...or,ref:Ar,style:{pointerEvents:xr?yr?"auto":"none":void 0,...er.style},onFocusCapture:composeEventHandlers(er.onFocusCapture,_r.onFocusCapture),onBlurCapture:composeEventHandlers(er.onBlurCapture,_r.onBlurCapture),onPointerDownCapture:composeEventHandlers(er.onPointerDownCapture,Er.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((er,St)=>{const tr=reactExports.useContext(DismissableLayerContext),rr=reactExports.useRef(null),nr=useComposedRefs(St,rr);return reactExports.useEffect(()=>{const sr=rr.current;if(sr)return tr.branches.add(sr),()=>{tr.branches.delete(sr)}},[tr.branches]),jsxRuntimeExports.jsx(Primitive.div,{...er,ref:nr})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(er,St=globalThis==null?void 0:globalThis.document){const tr=useCallbackRef$1(er),rr=reactExports.useRef(!1),nr=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const sr=ar=>{if(ar.target&&!rr.current){let or=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,tr,lr,{discrete:!0})};const lr={originalEvent:ar};ar.pointerType==="touch"?(St.removeEventListener("click",nr.current),nr.current=or,St.addEventListener("click",nr.current,{once:!0})):or()}else St.removeEventListener("click",nr.current);rr.current=!1},ir=window.setTimeout(()=>{St.addEventListener("pointerdown",sr)},0);return()=>{window.clearTimeout(ir),St.removeEventListener("pointerdown",sr),St.removeEventListener("click",nr.current)}},[St,tr]),{onPointerDownCapture:()=>rr.current=!0}}function useFocusOutside(er,St=globalThis==null?void 0:globalThis.document){const tr=useCallbackRef$1(er),rr=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nr=sr=>{sr.target&&!rr.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,tr,{originalEvent:sr},{discrete:!1})};return St.addEventListener("focusin",nr),()=>St.removeEventListener("focusin",nr)},[St,tr]),{onFocusCapture:()=>rr.current=!0,onBlurCapture:()=>rr.current=!1}}function dispatchUpdate(){const er=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(er)}function handleAndDispatchCustomEvent(er,St,tr,{discrete:rr}){const nr=tr.originalEvent.target,sr=new CustomEvent(er,{bubbles:!1,cancelable:!0,detail:tr});St&&nr.addEventListener(er,St,{once:!0}),rr?dispatchDiscreteCustomEvent(nr,sr):nr.dispatchEvent(sr)}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const er=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",er[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",er[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(St=>St.remove()),count$1--}},[])}function createFocusGuard(){const er=document.createElement("span");return er.setAttribute("data-radix-focus-guard",""),er.tabIndex=0,er.style.outline="none",er.style.opacity="0",er.style.position="fixed",er.style.pointerEvents="none",er}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((er,St)=>{const{loop:tr=!1,trapped:rr=!1,onMountAutoFocus:nr,onUnmountAutoFocus:sr,...ir}=er,[ar,or]=reactExports.useState(null),lr=useCallbackRef$1(nr),cr=useCallbackRef$1(sr),ur=reactExports.useRef(null),dr=useComposedRefs(St,fr=>or(fr)),hr=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(rr){let fr=function(xr){if(hr.paused||!ar)return;const yr=xr.target;ar.contains(yr)?ur.current=yr:focus(ur.current,{select:!0})},mr=function(xr){if(hr.paused||!ar)return;const yr=xr.relatedTarget;yr!==null&&(ar.contains(yr)||focus(ur.current,{select:!0}))},pr=function(xr){if(document.activeElement===document.body)for(const Er of xr)Er.removedNodes.length>0&&focus(ar)};document.addEventListener("focusin",fr),document.addEventListener("focusout",mr);const gr=new MutationObserver(pr);return ar&&gr.observe(ar,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",fr),document.removeEventListener("focusout",mr),gr.disconnect()}}},[rr,ar,hr.paused]),reactExports.useEffect(()=>{if(ar){focusScopesStack.add(hr);const fr=document.activeElement;if(!ar.contains(fr)){const pr=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);ar.addEventListener(AUTOFOCUS_ON_MOUNT,lr),ar.dispatchEvent(pr),pr.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(ar)),{select:!0}),document.activeElement===fr&&focus(ar))}return()=>{ar.removeEventListener(AUTOFOCUS_ON_MOUNT,lr),setTimeout(()=>{const pr=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);ar.addEventListener(AUTOFOCUS_ON_UNMOUNT,cr),ar.dispatchEvent(pr),pr.defaultPrevented||focus(fr??document.body,{select:!0}),ar.removeEventListener(AUTOFOCUS_ON_UNMOUNT,cr),focusScopesStack.remove(hr)},0)}}},[ar,lr,cr,hr]);const Ar=reactExports.useCallback(fr=>{if(!tr&&!rr||hr.paused)return;const mr=fr.key==="Tab"&&!fr.altKey&&!fr.ctrlKey&&!fr.metaKey,pr=document.activeElement;if(mr&&pr){const gr=fr.currentTarget,[xr,yr]=getTabbableEdges(gr);xr&&yr?!fr.shiftKey&&pr===yr?(fr.preventDefault(),tr&&focus(xr,{select:!0})):fr.shiftKey&&pr===xr&&(fr.preventDefault(),tr&&focus(yr,{select:!0})):pr===gr&&fr.preventDefault()}},[tr,rr,hr.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...ir,ref:dr,onKeyDown:Ar})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(er,{select:St=!1}={}){const tr=document.activeElement;for(const rr of er)if(focus(rr,{select:St}),document.activeElement!==tr)return}function getTabbableEdges(er){const St=getTabbableCandidates(er),tr=findVisible(St,er),rr=findVisible(St.reverse(),er);return[tr,rr]}function getTabbableCandidates(er){const St=[],tr=document.createTreeWalker(er,NodeFilter.SHOW_ELEMENT,{acceptNode:rr=>{const nr=rr.tagName==="INPUT"&&rr.type==="hidden";return rr.disabled||rr.hidden||nr?NodeFilter.FILTER_SKIP:rr.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;tr.nextNode();)St.push(tr.currentNode);return St}function findVisible(er,St){for(const tr of er)if(!isHidden(tr,{upTo:St}))return tr}function isHidden(er,{upTo:St}){if(getComputedStyle(er).visibility==="hidden")return!0;for(;er;){if(St!==void 0&&er===St)return!1;if(getComputedStyle(er).display==="none")return!0;er=er.parentElement}return!1}function isSelectableInput(er){return er instanceof HTMLInputElement&&"select"in er}function focus(er,{select:St=!1}={}){if(er&&er.focus){const tr=document.activeElement;er.focus({preventScroll:!0}),er!==tr&&isSelectableInput(er)&&St&&er.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let er=[];return{add(St){const tr=er[0];St!==tr&&(tr==null||tr.pause()),er=arrayRemove(er,St),er.unshift(St)},remove(St){var tr;er=arrayRemove(er,St),(tr=er[0])==null||tr.resume()}}}function arrayRemove(er,St){const tr=[...er],rr=tr.indexOf(St);return rr!==-1&&tr.splice(rr,1),tr}function removeLinks(er){return er.filter(St=>St.tagName!=="A")}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$4[" useId ".trim().toString()]||(()=>{}),count=0;function useId(er){const[St,tr]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{tr(rr=>rr??String(count++))},[er]),St?`radix-${St}`:""}var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((er,St)=>{const{children:tr,width:rr=10,height:nr=5,...sr}=er;return jsxRuntimeExports.jsx(Primitive.svg,{...sr,ref:St,width:rr,height:nr,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:er.asChild?tr:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$2=Arrow$1;function useSize(er){const[St,tr]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(er){tr({width:er.offsetWidth,height:er.offsetHeight});const rr=new ResizeObserver(nr=>{if(!Array.isArray(nr)||!nr.length)return;const sr=nr[0];let ir,ar;if("borderBoxSize"in sr){const or=sr.borderBoxSize,lr=Array.isArray(or)?or[0]:or;ir=lr.inlineSize,ar=lr.blockSize}else ir=er.offsetWidth,ar=er.offsetHeight;tr({width:ir,height:ar})});return rr.observe(er,{box:"border-box"}),()=>rr.unobserve(er)}else tr(void 0)},[er]),St}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=er=>{const{__scopePopper:St,children:tr}=er,[rr,nr]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:St,anchor:rr,onAnchorChange:nr,children:tr})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((er,St)=>{const{__scopePopper:tr,virtualRef:rr,...nr}=er,sr=usePopperContext(ANCHOR_NAME$1,tr),ir=reactExports.useRef(null),ar=useComposedRefs(St,ir);return reactExports.useEffect(()=>{sr.onAnchorChange((rr==null?void 0:rr.current)||ir.current)}),rr?null:jsxRuntimeExports.jsx(Primitive.div,{...nr,ref:ar})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$2="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$2),PopperContent=reactExports.forwardRef((er,St)=>{var nn,vn,hn,En,Tn,bn;const{__scopePopper:tr,side:rr="bottom",sideOffset:nr=0,align:sr="center",alignOffset:ir=0,arrowPadding:ar=0,avoidCollisions:or=!0,collisionBoundary:lr=[],collisionPadding:cr=0,sticky:ur="partial",hideWhenDetached:dr=!1,updatePositionStrategy:hr="optimized",onPlaced:Ar,...fr}=er,mr=usePopperContext(CONTENT_NAME$2,tr),[pr,gr]=reactExports.useState(null),xr=useComposedRefs(St,Mn=>gr(Mn)),[yr,Er]=reactExports.useState(null),_r=useSize(yr),Sr=(_r==null?void 0:_r.width)??0,jr=(_r==null?void 0:_r.height)??0,Pr=rr+(sr!=="center"?"-"+sr:""),Mr=typeof cr=="number"?cr:{top:0,right:0,bottom:0,left:0,...cr},Ir=Array.isArray(lr)?lr:[lr],Lr=Ir.length>0,Qr={padding:Mr,boundary:Ir.filter(isNotNull$2),altBoundary:Lr},{refs:Yr,floatingStyles:Gr,placement:$r,isPositioned:Vr,middlewareData:Tr}=useFloating({strategy:"fixed",placement:Pr,whileElementsMounted:(...Mn)=>autoUpdate(...Mn,{animationFrame:hr==="always"}),elements:{reference:mr.anchor},middleware:[offset({mainAxis:nr+jr,alignmentAxis:ir}),or&&shift({mainAxis:!0,crossAxis:!1,limiter:ur==="partial"?limitShift():void 0,...Qr}),or&&flip({...Qr}),size({...Qr,apply:({elements:Mn,rects:Rn,availableWidth:Nn,availableHeight:pn})=>{const{width:Gn,height:os}=Rn.reference,es=Mn.floating.style;es.setProperty("--radix-popper-available-width",`${Nn}px`),es.setProperty("--radix-popper-available-height",`${pn}px`),es.setProperty("--radix-popper-anchor-width",`${Gn}px`),es.setProperty("--radix-popper-anchor-height",`${os}px`)}}),yr&&arrow({element:yr,padding:ar}),transformOrigin$1({arrowWidth:Sr,arrowHeight:jr}),dr&&hide({strategy:"referenceHidden",...Qr})]}),[Fr,Wr]=getSideAndAlignFromPlacement($r),qr=useCallbackRef$1(Ar);useLayoutEffect2(()=>{Vr&&(qr==null||qr())},[Vr,qr]);const Rr=(nn=Tr.arrow)==null?void 0:nn.x,Or=(vn=Tr.arrow)==null?void 0:vn.y,Hr=((hn=Tr.arrow)==null?void 0:hn.centerOffset)!==0,[zr,Zr]=reactExports.useState();return useLayoutEffect2(()=>{pr&&Zr(window.getComputedStyle(pr).zIndex)},[pr]),jsxRuntimeExports.jsx("div",{ref:Yr.setFloating,"data-radix-popper-content-wrapper":"",style:{...Gr,transform:Vr?Gr.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zr,"--radix-popper-transform-origin":[(En=Tr.transformOrigin)==null?void 0:En.x,(Tn=Tr.transformOrigin)==null?void 0:Tn.y].join(" "),...((bn=Tr.hide)==null?void 0:bn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:er.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:tr,placedSide:Fr,onArrowChange:Er,arrowX:Rr,arrowY:Or,shouldHideArrow:Hr,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Fr,"data-align":Wr,...fr,ref:xr,style:{...fr.style,animation:Vr?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$2;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function er(St,tr){const{__scopePopper:rr,...nr}=St,sr=useContentContext(ARROW_NAME$2,rr),ir=OPPOSITE_SIDE[sr.placedSide];return jsxRuntimeExports.jsx("span",{ref:sr.onArrowChange,style:{position:"absolute",left:sr.arrowX,top:sr.arrowY,[ir]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[sr.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[sr.placedSide],visibility:sr.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$2,{...nr,ref:tr,style:{...nr.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull$2(er){return er!==null}var transformOrigin$1=er=>({name:"transformOrigin",options:er,fn(St){var mr,pr,gr;const{placement:tr,rects:rr,middlewareData:nr}=St,ir=((mr=nr.arrow)==null?void 0:mr.centerOffset)!==0,ar=ir?0:er.arrowWidth,or=ir?0:er.arrowHeight,[lr,cr]=getSideAndAlignFromPlacement(tr),ur={start:"0%",center:"50%",end:"100%"}[cr],dr=(((pr=nr.arrow)==null?void 0:pr.x)??0)+ar/2,hr=(((gr=nr.arrow)==null?void 0:gr.y)??0)+or/2;let Ar="",fr="";return lr==="bottom"?(Ar=ir?ur:`${dr}px`,fr=`${-or}px`):lr==="top"?(Ar=ir?ur:`${dr}px`,fr=`${rr.floating.height+or}px`):lr==="right"?(Ar=`${-or}px`,fr=ir?ur:`${hr}px`):lr==="left"&&(Ar=`${rr.floating.width+or}px`,fr=ir?ur:`${hr}px`),{data:{x:Ar,y:fr}}}});function getSideAndAlignFromPlacement(er){const[St,tr="center"]=er.split("-");return[St,tr]}var Root2$3=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$2=reactExports.forwardRef((er,St)=>{var ar;const{container:tr,...rr}=er,[nr,sr]=reactExports.useState(!1);useLayoutEffect2(()=>sr(!0),[]);const ir=tr||nr&&((ar=globalThis==null?void 0:globalThis.document)==null?void 0:ar.body);return ir?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...rr,ref:St}),ir):null});Portal$2.displayName=PORTAL_NAME$2;var useInsertionEffect=React$4[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:er,defaultProp:St,onChange:tr=()=>{},caller:rr}){const[nr,sr,ir]=useUncontrolledState({defaultProp:St,onChange:tr}),ar=er!==void 0,or=ar?er:nr;{const cr=reactExports.useRef(er!==void 0);reactExports.useEffect(()=>{const ur=cr.current;ur!==ar&&console.warn(`${rr} is changing from ${ur?"controlled":"uncontrolled"} to ${ar?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),cr.current=ar},[ar,rr])}const lr=reactExports.useCallback(cr=>{var ur;if(ar){const dr=isFunction$1(cr)?cr(er):cr;dr!==er&&((ur=ir.current)==null||ur.call(ir,dr))}else sr(cr)},[ar,er,sr,ir]);return[or,lr]}function useUncontrolledState({defaultProp:er,onChange:St}){const[tr,rr]=reactExports.useState(er),nr=reactExports.useRef(tr),sr=reactExports.useRef(St);return useInsertionEffect(()=>{sr.current=St},[St]),reactExports.useEffect(()=>{var ir;nr.current!==tr&&((ir=sr.current)==null||ir.call(sr,tr),nr.current=tr)},[tr,nr]),[tr,rr,sr]}function isFunction$1(er){return typeof er=="function"}function usePrevious(er){const St=reactExports.useRef({value:er,previous:er});return reactExports.useMemo(()=>(St.current.value!==er&&(St.current.previous=St.current.value,St.current.value=er),St.current.previous),[er])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((er,St)=>jsxRuntimeExports.jsx(Primitive.span,{...er,ref:St,style:{...VISUALLY_HIDDEN_STYLES,...er.style}}));VisuallyHidden.displayName=NAME;var getDefaultParent=function(er){if(typeof document>"u")return null;var St=Array.isArray(er)?er[0]:er;return St.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(er){return er&&(er.host||unwrapHost(er.parentNode))},correctTargets=function(er,St){return St.map(function(tr){if(er.contains(tr))return tr;var rr=unwrapHost(tr);return rr&&er.contains(rr)?rr:(console.error("aria-hidden",tr,"in not contained inside",er,". Doing nothing"),null)}).filter(function(tr){return!!tr})},applyAttributeToOthers=function(er,St,tr,rr){var nr=correctTargets(St,Array.isArray(er)?er:[er]);markerMap[tr]||(markerMap[tr]=new WeakMap);var sr=markerMap[tr],ir=[],ar=new Set,or=new Set(nr),lr=function(ur){!ur||ar.has(ur)||(ar.add(ur),lr(ur.parentNode))};nr.forEach(lr);var cr=function(ur){!ur||or.has(ur)||Array.prototype.forEach.call(ur.children,function(dr){if(ar.has(dr))cr(dr);else try{var hr=dr.getAttribute(rr),Ar=hr!==null&&hr!=="false",fr=(counterMap.get(dr)||0)+1,mr=(sr.get(dr)||0)+1;counterMap.set(dr,fr),sr.set(dr,mr),ir.push(dr),fr===1&&Ar&&uncontrolledNodes.set(dr,!0),mr===1&&dr.setAttribute(tr,"true"),Ar||dr.setAttribute(rr,"true")}catch(pr){console.error("aria-hidden: cannot operate on ",dr,pr)}})};return cr(St),ar.clear(),lockCount++,function(){ir.forEach(function(ur){var dr=counterMap.get(ur)-1,hr=sr.get(ur)-1;counterMap.set(ur,dr),sr.set(ur,hr),dr||(uncontrolledNodes.has(ur)||ur.removeAttribute(rr),uncontrolledNodes.delete(ur)),hr||ur.removeAttribute(tr)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(er,St,tr){tr===void 0&&(tr="data-aria-hidden");var rr=Array.from(Array.isArray(er)?er:[er]),nr=getDefaultParent(er);return nr?(rr.push.apply(rr,Array.from(nr.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(rr,nr,tr,"aria-hidden")):function(){return null}},__assign$g=function(){return __assign$g=Object.assign||function(St){for(var tr,rr=1,nr=arguments.length;rr<nr;rr++){tr=arguments[rr];for(var sr in tr)Object.prototype.hasOwnProperty.call(tr,sr)&&(St[sr]=tr[sr])}return St},__assign$g.apply(this,arguments)};function __rest$b(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr}function __spreadArray$2(er,St,tr){if(tr||arguments.length===2)for(var rr=0,nr=St.length,sr;rr<nr;rr++)(sr||!(rr in St))&&(sr||(sr=Array.prototype.slice.call(St,0,rr)),sr[rr]=St[rr]);return er.concat(sr||Array.prototype.slice.call(St))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(er,St){return typeof er=="function"?er(St):er&&(er.current=St),er}function useCallbackRef(er,St){var tr=reactExports.useState(function(){return{value:er,callback:St,facade:{get current(){return tr.value},set current(rr){var nr=tr.value;nr!==rr&&(tr.value=rr,tr.callback(rr,nr))}}}})[0];return tr.callback=St,tr.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(er,St){var tr=useCallbackRef(null,function(rr){return er.forEach(function(nr){return assignRef(nr,rr)})});return useIsomorphicLayoutEffect$1(function(){var rr=currentValues.get(tr);if(rr){var nr=new Set(rr),sr=new Set(er),ir=tr.current;nr.forEach(function(ar){sr.has(ar)||assignRef(ar,null)}),sr.forEach(function(ar){nr.has(ar)||assignRef(ar,ir)})}currentValues.set(tr,er)},[er]),tr}function ItoI(er){return er}function innerCreateMedium(er,St){St===void 0&&(St=ItoI);var tr=[],rr=!1,nr={read:function(){if(rr)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return tr.length?tr[tr.length-1]:er},useMedium:function(sr){var ir=St(sr,rr);return tr.push(ir),function(){tr=tr.filter(function(ar){return ar!==ir})}},assignSyncMedium:function(sr){for(rr=!0;tr.length;){var ir=tr;tr=[],ir.forEach(sr)}tr={push:function(ar){return sr(ar)},filter:function(){return tr}}},assignMedium:function(sr){rr=!0;var ir=[];if(tr.length){var ar=tr;tr=[],ar.forEach(sr),ir=tr}var or=function(){var cr=ir;ir=[],cr.forEach(sr)},lr=function(){return Promise.resolve().then(or)};lr(),tr={push:function(cr){ir.push(cr),lr()},filter:function(cr){return ir=ir.filter(cr),tr}}}};return nr}function createSidecarMedium(er){er===void 0&&(er={});var St=innerCreateMedium(null);return St.options=__assign$g({async:!0,ssr:!1},er),St}var SideCar$1=function(er){var St=er.sideCar,tr=__rest$b(er,["sideCar"]);if(!St)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var rr=St.read();if(!rr)throw new Error("Sidecar medium not found");return reactExports.createElement(rr,__assign$g({},tr))};SideCar$1.isSideCarExport=!0;function exportSidecar(er,St){return er.useMedium(St),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(er,St){var tr=reactExports.useRef(null),rr=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),nr=rr[0],sr=rr[1],ir=er.forwardProps,ar=er.children,or=er.className,lr=er.removeScrollBar,cr=er.enabled,ur=er.shards,dr=er.sideCar,hr=er.noRelative,Ar=er.noIsolation,fr=er.inert,mr=er.allowPinchZoom,pr=er.as,gr=pr===void 0?"div":pr,xr=er.gapMode,yr=__rest$b(er,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Er=dr,_r=useMergeRefs([tr,St]),Sr=__assign$g(__assign$g({},yr),nr);return reactExports.createElement(reactExports.Fragment,null,cr&&reactExports.createElement(Er,{sideCar:effectCar,removeScrollBar:lr,shards:ur,noRelative:hr,noIsolation:Ar,inert:fr,setCallbacks:sr,allowPinchZoom:!!mr,lockRef:tr,gapMode:xr}),ir?reactExports.cloneElement(reactExports.Children.only(ar),__assign$g(__assign$g({},Sr),{ref:_r})):reactExports.createElement(gr,__assign$g({},Sr,{className:or,ref:_r}),ar))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var er=document.createElement("style");er.type="text/css";var St=getNonce();return St&&er.setAttribute("nonce",St),er}function injectStyles(er,St){er.styleSheet?er.styleSheet.cssText=St:er.appendChild(document.createTextNode(St))}function insertStyleTag(er){var St=document.head||document.getElementsByTagName("head")[0];St.appendChild(er)}var stylesheetSingleton=function(){var er=0,St=null;return{add:function(tr){er==0&&(St=makeStyleTag())&&(injectStyles(St,tr),insertStyleTag(St)),er++},remove:function(){er--,!er&&St&&(St.parentNode&&St.parentNode.removeChild(St),St=null)}}},styleHookSingleton=function(){var er=stylesheetSingleton();return function(St,tr){reactExports.useEffect(function(){return er.add(St),function(){er.remove()}},[St&&tr])}},styleSingleton=function(){var er=styleHookSingleton(),St=function(tr){var rr=tr.styles,nr=tr.dynamic;return er(rr,nr),null};return St},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(er){return parseInt(er||"",10)||0},getOffset=function(er){var St=window.getComputedStyle(document.body),tr=St[er==="padding"?"paddingLeft":"marginLeft"],rr=St[er==="padding"?"paddingTop":"marginTop"],nr=St[er==="padding"?"paddingRight":"marginRight"];return[parse$1(tr),parse$1(rr),parse$1(nr)]},getGapWidth=function(er){if(er===void 0&&(er="margin"),typeof window>"u")return zeroGap;var St=getOffset(er),tr=document.documentElement.clientWidth,rr=window.innerWidth;return{left:St[0],top:St[1],right:St[2],gap:Math.max(0,rr-tr+St[2]-St[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(er,St,tr,rr){var nr=er.left,sr=er.top,ir=er.right,ar=er.gap;return tr===void 0&&(tr="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(rr,`;
   padding-right: `).concat(ar,"px ").concat(rr,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(rr,`;
    overscroll-behavior: contain;
    `).concat([St&&"position: relative ".concat(rr,";"),tr==="margin"&&`
    padding-left: `.concat(nr,`px;
    padding-top: `).concat(sr,`px;
    padding-right: `).concat(ir,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ar,"px ").concat(rr,`;
    `),tr==="padding"&&"padding-right: ".concat(ar,"px ").concat(rr,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ar,"px ").concat(rr,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ar,"px ").concat(rr,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(rr,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(rr,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ar,`px;
  }
`)},getCurrentUseCounter=function(){var er=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(er)?er:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var er=getCurrentUseCounter()-1;er<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,er.toString())}},[])},RemoveScrollBar=function(er){var St=er.noRelative,tr=er.noImportant,rr=er.gapMode,nr=rr===void 0?"margin":rr;useLockAttribute();var sr=reactExports.useMemo(function(){return getGapWidth(nr)},[nr]);return reactExports.createElement(Style,{styles:getStyles(sr,!St,nr,tr?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(er){return er.tagName==="TEXTAREA"},elementCanBeScrolled=function(er,St){if(!(er instanceof Element))return!1;var tr=window.getComputedStyle(er);return tr[St]!=="hidden"&&!(tr.overflowY===tr.overflowX&&!alwaysContainsScroll(er)&&tr[St]==="visible")},elementCouldBeVScrolled=function(er){return elementCanBeScrolled(er,"overflowY")},elementCouldBeHScrolled=function(er){return elementCanBeScrolled(er,"overflowX")},locationCouldBeScrolled=function(er,St){var tr=St.ownerDocument,rr=St;do{typeof ShadowRoot<"u"&&rr instanceof ShadowRoot&&(rr=rr.host);var nr=elementCouldBeScrolled(er,rr);if(nr){var sr=getScrollVariables(er,rr),ir=sr[1],ar=sr[2];if(ir>ar)return!0}rr=rr.parentNode}while(rr&&rr!==tr.body);return!1},getVScrollVariables=function(er){var St=er.scrollTop,tr=er.scrollHeight,rr=er.clientHeight;return[St,tr,rr]},getHScrollVariables=function(er){var St=er.scrollLeft,tr=er.scrollWidth,rr=er.clientWidth;return[St,tr,rr]},elementCouldBeScrolled=function(er,St){return er==="v"?elementCouldBeVScrolled(St):elementCouldBeHScrolled(St)},getScrollVariables=function(er,St){return er==="v"?getVScrollVariables(St):getHScrollVariables(St)},getDirectionFactor=function(er,St){return er==="h"&&St==="rtl"?-1:1},handleScroll=function(er,St,tr,rr,nr){var sr=getDirectionFactor(er,window.getComputedStyle(St).direction),ir=sr*rr,ar=tr.target,or=St.contains(ar),lr=!1,cr=ir>0,ur=0,dr=0;do{if(!ar)break;var hr=getScrollVariables(er,ar),Ar=hr[0],fr=hr[1],mr=hr[2],pr=fr-mr-sr*Ar;(Ar||pr)&&elementCouldBeScrolled(er,ar)&&(ur+=pr,dr+=Ar);var gr=ar.parentNode;ar=gr&&gr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?gr.host:gr}while(!or&&ar!==document.body||or&&(St.contains(ar)||St===ar));return(cr&&Math.abs(ur)<1||!cr&&Math.abs(dr)<1)&&(lr=!0),lr},getTouchXY=function(er){return"changedTouches"in er?[er.changedTouches[0].clientX,er.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(er){return[er.deltaX,er.deltaY]},extractRef=function(er){return er&&"current"in er?er.current:er},deltaCompare=function(er,St){return er[0]===St[0]&&er[1]===St[1]},generateStyle=function(er){return`
  .block-interactivity-`.concat(er,` {pointer-events: none;}
  .allow-interactivity-`).concat(er,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(er){var St=reactExports.useRef([]),tr=reactExports.useRef([0,0]),rr=reactExports.useRef(),nr=reactExports.useState(idCounter++)[0],sr=reactExports.useState(styleSingleton)[0],ir=reactExports.useRef(er);reactExports.useEffect(function(){ir.current=er},[er]),reactExports.useEffect(function(){if(er.inert){document.body.classList.add("block-interactivity-".concat(nr));var fr=__spreadArray$2([er.lockRef.current],(er.shards||[]).map(extractRef),!0).filter(Boolean);return fr.forEach(function(mr){return mr.classList.add("allow-interactivity-".concat(nr))}),function(){document.body.classList.remove("block-interactivity-".concat(nr)),fr.forEach(function(mr){return mr.classList.remove("allow-interactivity-".concat(nr))})}}},[er.inert,er.lockRef.current,er.shards]);var ar=reactExports.useCallback(function(fr,mr){if("touches"in fr&&fr.touches.length===2||fr.type==="wheel"&&fr.ctrlKey)return!ir.current.allowPinchZoom;var pr=getTouchXY(fr),gr=tr.current,xr="deltaX"in fr?fr.deltaX:gr[0]-pr[0],yr="deltaY"in fr?fr.deltaY:gr[1]-pr[1],Er,_r=fr.target,Sr=Math.abs(xr)>Math.abs(yr)?"h":"v";if("touches"in fr&&Sr==="h"&&_r.type==="range")return!1;var jr=locationCouldBeScrolled(Sr,_r);if(!jr)return!0;if(jr?Er=Sr:(Er=Sr==="v"?"h":"v",jr=locationCouldBeScrolled(Sr,_r)),!jr)return!1;if(!rr.current&&"changedTouches"in fr&&(xr||yr)&&(rr.current=Er),!Er)return!0;var Pr=rr.current||Er;return handleScroll(Pr,mr,fr,Pr==="h"?xr:yr)},[]),or=reactExports.useCallback(function(fr){var mr=fr;if(!(!lockStack.length||lockStack[lockStack.length-1]!==sr)){var pr="deltaY"in mr?getDeltaXY(mr):getTouchXY(mr),gr=St.current.filter(function(Er){return Er.name===mr.type&&(Er.target===mr.target||mr.target===Er.shadowParent)&&deltaCompare(Er.delta,pr)})[0];if(gr&&gr.should){mr.cancelable&&mr.preventDefault();return}if(!gr){var xr=(ir.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Er){return Er.contains(mr.target)}),yr=xr.length>0?ar(mr,xr[0]):!ir.current.noIsolation;yr&&mr.cancelable&&mr.preventDefault()}}},[]),lr=reactExports.useCallback(function(fr,mr,pr,gr){var xr={name:fr,delta:mr,target:pr,should:gr,shadowParent:getOutermostShadowParent(pr)};St.current.push(xr),setTimeout(function(){St.current=St.current.filter(function(yr){return yr!==xr})},1)},[]),cr=reactExports.useCallback(function(fr){tr.current=getTouchXY(fr),rr.current=void 0},[]),ur=reactExports.useCallback(function(fr){lr(fr.type,getDeltaXY(fr),fr.target,ar(fr,er.lockRef.current))},[]),dr=reactExports.useCallback(function(fr){lr(fr.type,getTouchXY(fr),fr.target,ar(fr,er.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(sr),er.setCallbacks({onScrollCapture:ur,onWheelCapture:ur,onTouchMoveCapture:dr}),document.addEventListener("wheel",or,nonPassive),document.addEventListener("touchmove",or,nonPassive),document.addEventListener("touchstart",cr,nonPassive),function(){lockStack=lockStack.filter(function(fr){return fr!==sr}),document.removeEventListener("wheel",or,nonPassive),document.removeEventListener("touchmove",or,nonPassive),document.removeEventListener("touchstart",cr,nonPassive)}},[]);var hr=er.removeScrollBar,Ar=er.inert;return reactExports.createElement(reactExports.Fragment,null,Ar?reactExports.createElement(sr,{styles:generateStyle(nr)}):null,hr?reactExports.createElement(RemoveScrollBar,{noRelative:er.noRelative,gapMode:er.gapMode}):null)}function getOutermostShadowParent(er){for(var St=null;er!==null;)er instanceof ShadowRoot&&(St=er.host,er=er.host),er=er.parentNode;return St}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(er,St){return reactExports.createElement(RemoveScroll,__assign$g({},er,{ref:St,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$2=er=>{const{__scopeSelect:St,children:tr,open:rr,defaultOpen:nr,onOpenChange:sr,value:ir,defaultValue:ar,onValueChange:or,dir:lr,name:cr,autoComplete:ur,disabled:dr,required:hr,form:Ar}=er,fr=usePopperScope$1(St),[mr,pr]=reactExports.useState(null),[gr,xr]=reactExports.useState(null),[yr,Er]=reactExports.useState(!1),_r=useDirection(lr),[Sr,jr]=useControllableState({prop:rr,defaultProp:nr??!1,onChange:sr,caller:SELECT_NAME}),[Pr,Mr]=useControllableState({prop:ir,defaultProp:ar,onChange:or,caller:SELECT_NAME}),Ir=reactExports.useRef(null),Lr=mr?Ar||!!mr.closest("form"):!0,[Qr,Yr]=reactExports.useState(new Set),Gr=Array.from(Qr).map($r=>$r.props.value).join(";");return jsxRuntimeExports.jsx(Root2$3,{...fr,children:jsxRuntimeExports.jsxs(SelectProvider,{required:hr,scope:St,trigger:mr,onTriggerChange:pr,valueNode:gr,onValueNodeChange:xr,valueNodeHasChildren:yr,onValueNodeHasChildrenChange:Er,contentId:useId(),value:Pr,onValueChange:Mr,open:Sr,onOpenChange:jr,dir:_r,triggerPointerDownPosRef:Ir,disabled:dr,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:St,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:er.__scopeSelect,onNativeOptionAdd:reactExports.useCallback($r=>{Yr(Vr=>new Set(Vr).add($r))},[]),onNativeOptionRemove:reactExports.useCallback($r=>{Yr(Vr=>{const Tr=new Set(Vr);return Tr.delete($r),Tr})},[]),children:tr})}),Lr?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:hr,tabIndex:-1,name:cr,autoComplete:ur,value:Pr,onChange:$r=>Mr($r.target.value),disabled:dr,form:Ar,children:[Pr===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Qr)]},Gr):null]})})};Select$2.displayName=SELECT_NAME;var TRIGGER_NAME$2="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,disabled:rr=!1,...nr}=er,sr=usePopperScope$1(tr),ir=useSelectContext(TRIGGER_NAME$2,tr),ar=ir.disabled||rr,or=useComposedRefs(St,ir.onTriggerChange),lr=useCollection$1(tr),cr=reactExports.useRef("touch"),[ur,dr,hr]=useTypeaheadSearch(fr=>{const mr=lr().filter(xr=>!xr.disabled),pr=mr.find(xr=>xr.value===ir.value),gr=findNextItem(mr,fr,pr);gr!==void 0&&ir.onValueChange(gr.value)}),Ar=fr=>{ar||(ir.onOpenChange(!0),hr()),fr&&(ir.triggerPointerDownPosRef.current={x:Math.round(fr.pageX),y:Math.round(fr.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...sr,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":ir.contentId,"aria-expanded":ir.open,"aria-required":ir.required,"aria-autocomplete":"none",dir:ir.dir,"data-state":ir.open?"open":"closed",disabled:ar,"data-disabled":ar?"":void 0,"data-placeholder":shouldShowPlaceholder(ir.value)?"":void 0,...nr,ref:or,onClick:composeEventHandlers(nr.onClick,fr=>{fr.currentTarget.focus(),cr.current!=="mouse"&&Ar(fr)}),onPointerDown:composeEventHandlers(nr.onPointerDown,fr=>{cr.current=fr.pointerType;const mr=fr.target;mr.hasPointerCapture(fr.pointerId)&&mr.releasePointerCapture(fr.pointerId),fr.button===0&&fr.ctrlKey===!1&&fr.pointerType==="mouse"&&(Ar(fr),fr.preventDefault())}),onKeyDown:composeEventHandlers(nr.onKeyDown,fr=>{const mr=ur.current!=="";!(fr.ctrlKey||fr.altKey||fr.metaKey)&&fr.key.length===1&&dr(fr.key),!(mr&&fr.key===" ")&&OPEN_KEYS.includes(fr.key)&&(Ar(),fr.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$2;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,className:rr,style:nr,children:sr,placeholder:ir="",...ar}=er,or=useSelectContext(VALUE_NAME,tr),{onValueNodeHasChildrenChange:lr}=or,cr=sr!==void 0,ur=useComposedRefs(St,or.onValueNodeChange);return useLayoutEffect2(()=>{lr(cr)},[lr,cr]),jsxRuntimeExports.jsx(Primitive.span,{...ar,ref:ur,style:{pointerEvents:"none"},children:shouldShowPlaceholder(or.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ir}):sr})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,children:rr,...nr}=er;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...nr,ref:St,children:rr||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=er=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...er});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="SelectContent",SelectContent$1=reactExports.forwardRef((er,St)=>{const tr=useSelectContext(CONTENT_NAME$1,er.__scopeSelect),[rr,nr]=reactExports.useState();if(useLayoutEffect2(()=>{nr(new DocumentFragment)},[]),!tr.open){const sr=rr;return sr?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:er.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:er.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:er.children})})}),sr):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...er,ref:St})});SelectContent$1.displayName=CONTENT_NAME$1;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$1),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,position:rr="item-aligned",onCloseAutoFocus:nr,onEscapeKeyDown:sr,onPointerDownOutside:ir,side:ar,sideOffset:or,align:lr,alignOffset:cr,arrowPadding:ur,collisionBoundary:dr,collisionPadding:hr,sticky:Ar,hideWhenDetached:fr,avoidCollisions:mr,...pr}=er,gr=useSelectContext(CONTENT_NAME$1,tr),[xr,yr]=reactExports.useState(null),[Er,_r]=reactExports.useState(null),Sr=useComposedRefs(St,nn=>yr(nn)),[jr,Pr]=reactExports.useState(null),[Mr,Ir]=reactExports.useState(null),Lr=useCollection$1(tr),[Qr,Yr]=reactExports.useState(!1),Gr=reactExports.useRef(!1);reactExports.useEffect(()=>{if(xr)return hideOthers(xr)},[xr]),useFocusGuards();const $r=reactExports.useCallback(nn=>{const[vn,...hn]=Lr().map(bn=>bn.ref.current),[En]=hn.slice(-1),Tn=document.activeElement;for(const bn of nn)if(bn===Tn||(bn==null||bn.scrollIntoView({block:"nearest"}),bn===vn&&Er&&(Er.scrollTop=0),bn===En&&Er&&(Er.scrollTop=Er.scrollHeight),bn==null||bn.focus(),document.activeElement!==Tn))return},[Lr,Er]),Vr=reactExports.useCallback(()=>$r([jr,xr]),[$r,jr,xr]);reactExports.useEffect(()=>{Qr&&Vr()},[Qr,Vr]);const{onOpenChange:Tr,triggerPointerDownPosRef:Fr}=gr;reactExports.useEffect(()=>{if(xr){let nn={x:0,y:0};const vn=En=>{var Tn,bn;nn={x:Math.abs(Math.round(En.pageX)-(((Tn=Fr.current)==null?void 0:Tn.x)??0)),y:Math.abs(Math.round(En.pageY)-(((bn=Fr.current)==null?void 0:bn.y)??0))}},hn=En=>{nn.x<=10&&nn.y<=10?En.preventDefault():xr.contains(En.target)||Tr(!1),document.removeEventListener("pointermove",vn),Fr.current=null};return Fr.current!==null&&(document.addEventListener("pointermove",vn),document.addEventListener("pointerup",hn,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",vn),document.removeEventListener("pointerup",hn,{capture:!0})}}},[xr,Tr,Fr]),reactExports.useEffect(()=>{const nn=()=>Tr(!1);return window.addEventListener("blur",nn),window.addEventListener("resize",nn),()=>{window.removeEventListener("blur",nn),window.removeEventListener("resize",nn)}},[Tr]);const[Wr,qr]=useTypeaheadSearch(nn=>{const vn=Lr().filter(Tn=>!Tn.disabled),hn=vn.find(Tn=>Tn.ref.current===document.activeElement),En=findNextItem(vn,nn,hn);En&&setTimeout(()=>En.ref.current.focus())}),Rr=reactExports.useCallback((nn,vn,hn)=>{const En=!Gr.current&&!hn;(gr.value!==void 0&&gr.value===vn||En)&&(Pr(nn),En&&(Gr.current=!0))},[gr.value]),Or=reactExports.useCallback(()=>xr==null?void 0:xr.focus(),[xr]),Hr=reactExports.useCallback((nn,vn,hn)=>{const En=!Gr.current&&!hn;(gr.value!==void 0&&gr.value===vn||En)&&Ir(nn)},[gr.value]),zr=rr==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Zr=zr===SelectPopperPosition?{side:ar,sideOffset:or,align:lr,alignOffset:cr,arrowPadding:ur,collisionBoundary:dr,collisionPadding:hr,sticky:Ar,hideWhenDetached:fr,avoidCollisions:mr}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:tr,content:xr,viewport:Er,onViewportChange:_r,itemRefCallback:Rr,selectedItem:jr,onItemLeave:Or,itemTextRefCallback:Hr,focusSelectedItem:Vr,selectedItemText:Mr,position:rr,isPositioned:Qr,searchRef:Wr,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:gr.open,onMountAutoFocus:nn=>{nn.preventDefault()},onUnmountAutoFocus:composeEventHandlers(nr,nn=>{var vn;(vn=gr.trigger)==null||vn.focus({preventScroll:!0}),nn.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:sr,onPointerDownOutside:ir,onFocusOutside:nn=>nn.preventDefault(),onDismiss:()=>gr.onOpenChange(!1),children:jsxRuntimeExports.jsx(zr,{role:"listbox",id:gr.contentId,"data-state":gr.open?"open":"closed",dir:gr.dir,onContextMenu:nn=>nn.preventDefault(),...pr,...Zr,onPlaced:()=>Yr(!0),ref:Sr,style:{display:"flex",flexDirection:"column",outline:"none",...pr.style},onKeyDown:composeEventHandlers(pr.onKeyDown,nn=>{const vn=nn.ctrlKey||nn.altKey||nn.metaKey;if(nn.key==="Tab"&&nn.preventDefault(),!vn&&nn.key.length===1&&qr(nn.key),["ArrowUp","ArrowDown","Home","End"].includes(nn.key)){let En=Lr().filter(Tn=>!Tn.disabled).map(Tn=>Tn.ref.current);if(["ArrowUp","End"].includes(nn.key)&&(En=En.slice().reverse()),["ArrowUp","ArrowDown"].includes(nn.key)){const Tn=nn.target,bn=En.indexOf(Tn);En=En.slice(bn+1)}setTimeout(()=>$r(En)),nn.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,onPlaced:rr,...nr}=er,sr=useSelectContext(CONTENT_NAME$1,tr),ir=useSelectContentContext(CONTENT_NAME$1,tr),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(null),ur=useComposedRefs(St,Sr=>cr(Sr)),dr=useCollection$1(tr),hr=reactExports.useRef(!1),Ar=reactExports.useRef(!0),{viewport:fr,selectedItem:mr,selectedItemText:pr,focusSelectedItem:gr}=ir,xr=reactExports.useCallback(()=>{if(sr.trigger&&sr.valueNode&&ar&&lr&&fr&&mr&&pr){const Sr=sr.trigger.getBoundingClientRect(),jr=lr.getBoundingClientRect(),Pr=sr.valueNode.getBoundingClientRect(),Mr=pr.getBoundingClientRect();if(sr.dir!=="rtl"){const Tn=Mr.left-jr.left,bn=Pr.left-Tn,Mn=Sr.left-bn,Rn=Sr.width+Mn,Nn=Math.max(Rn,jr.width),pn=window.innerWidth-CONTENT_MARGIN,Gn=clamp$1(bn,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,pn-Nn)]);ar.style.minWidth=Rn+"px",ar.style.left=Gn+"px"}else{const Tn=jr.right-Mr.right,bn=window.innerWidth-Pr.right-Tn,Mn=window.innerWidth-Sr.right-bn,Rn=Sr.width+Mn,Nn=Math.max(Rn,jr.width),pn=window.innerWidth-CONTENT_MARGIN,Gn=clamp$1(bn,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,pn-Nn)]);ar.style.minWidth=Rn+"px",ar.style.right=Gn+"px"}const Ir=dr(),Lr=window.innerHeight-CONTENT_MARGIN*2,Qr=fr.scrollHeight,Yr=window.getComputedStyle(lr),Gr=parseInt(Yr.borderTopWidth,10),$r=parseInt(Yr.paddingTop,10),Vr=parseInt(Yr.borderBottomWidth,10),Tr=parseInt(Yr.paddingBottom,10),Fr=Gr+$r+Qr+Tr+Vr,Wr=Math.min(mr.offsetHeight*5,Fr),qr=window.getComputedStyle(fr),Rr=parseInt(qr.paddingTop,10),Or=parseInt(qr.paddingBottom,10),Hr=Sr.top+Sr.height/2-CONTENT_MARGIN,zr=Lr-Hr,Zr=mr.offsetHeight/2,nn=mr.offsetTop+Zr,vn=Gr+$r+nn,hn=Fr-vn;if(vn<=Hr){const Tn=Ir.length>0&&mr===Ir[Ir.length-1].ref.current;ar.style.bottom="0px";const bn=lr.clientHeight-fr.offsetTop-fr.offsetHeight,Mn=Math.max(zr,Zr+(Tn?Or:0)+bn+Vr),Rn=vn+Mn;ar.style.height=Rn+"px"}else{const Tn=Ir.length>0&&mr===Ir[0].ref.current;ar.style.top="0px";const Mn=Math.max(Hr,Gr+fr.offsetTop+(Tn?Rr:0)+Zr)+hn;ar.style.height=Mn+"px",fr.scrollTop=vn-Hr+fr.offsetTop}ar.style.margin=`${CONTENT_MARGIN}px 0`,ar.style.minHeight=Wr+"px",ar.style.maxHeight=Lr+"px",rr==null||rr(),requestAnimationFrame(()=>hr.current=!0)}},[dr,sr.trigger,sr.valueNode,ar,lr,fr,mr,pr,sr.dir,rr]);useLayoutEffect2(()=>xr(),[xr]);const[yr,Er]=reactExports.useState();useLayoutEffect2(()=>{lr&&Er(window.getComputedStyle(lr).zIndex)},[lr]);const _r=reactExports.useCallback(Sr=>{Sr&&Ar.current===!0&&(xr(),gr==null||gr(),Ar.current=!1)},[xr,gr]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:tr,contentWrapper:ar,shouldExpandOnScrollRef:hr,onScrollButtonChange:_r,children:jsxRuntimeExports.jsx("div",{ref:or,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:yr},children:jsxRuntimeExports.jsx(Primitive.div,{...nr,ref:ur,style:{boxSizing:"border-box",maxHeight:"100%",...nr.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,align:rr="start",collisionPadding:nr=CONTENT_MARGIN,...sr}=er,ir=usePopperScope$1(tr);return jsxRuntimeExports.jsx(Content,{...ir,...sr,ref:St,align:rr,collisionPadding:nr,style:{boxSizing:"border-box",...sr.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$1,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,nonce:rr,...nr}=er,sr=useSelectContentContext(VIEWPORT_NAME,tr),ir=useSelectViewportContext(VIEWPORT_NAME,tr),ar=useComposedRefs(St,sr.onViewportChange),or=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:rr}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:tr,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...nr,ref:ar,style:{position:"relative",flex:1,overflow:"hidden auto",...nr.style},onScroll:composeEventHandlers(nr.onScroll,lr=>{const cr=lr.currentTarget,{contentWrapper:ur,shouldExpandOnScrollRef:dr}=ir;if(dr!=null&&dr.current&&ur){const hr=Math.abs(or.current-cr.scrollTop);if(hr>0){const Ar=window.innerHeight-CONTENT_MARGIN*2,fr=parseFloat(ur.style.minHeight),mr=parseFloat(ur.style.height),pr=Math.max(fr,mr);if(pr<Ar){const gr=pr+hr,xr=Math.min(Ar,gr),yr=gr-xr;ur.style.height=xr+"px",ur.style.bottom==="0px"&&(cr.scrollTop=yr>0?yr:0,ur.style.justifyContent="flex-end")}}}or.current=cr.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,...rr}=er,nr=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:tr,id:nr,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":nr,...rr,ref:St})})});SelectGroup.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,...rr}=er,nr=useSelectGroupContext(LABEL_NAME,tr);return jsxRuntimeExports.jsx(Primitive.div,{id:nr.id,...rr,ref:St})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$2="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$2),SelectItem$1=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,value:rr,disabled:nr=!1,textValue:sr,...ir}=er,ar=useSelectContext(ITEM_NAME$2,tr),or=useSelectContentContext(ITEM_NAME$2,tr),lr=ar.value===rr,[cr,ur]=reactExports.useState(sr??""),[dr,hr]=reactExports.useState(!1),Ar=useComposedRefs(St,gr=>{var xr;return(xr=or.itemRefCallback)==null?void 0:xr.call(or,gr,rr,nr)}),fr=useId(),mr=reactExports.useRef("touch"),pr=()=>{nr||(ar.onValueChange(rr),ar.onOpenChange(!1))};if(rr==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:tr,value:rr,disabled:nr,textId:fr,isSelected:lr,onItemTextChange:reactExports.useCallback(gr=>{ur(xr=>xr||((gr==null?void 0:gr.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:tr,value:rr,disabled:nr,textValue:cr,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":fr,"data-highlighted":dr?"":void 0,"aria-selected":lr&&dr,"data-state":lr?"checked":"unchecked","aria-disabled":nr||void 0,"data-disabled":nr?"":void 0,tabIndex:nr?void 0:-1,...ir,ref:Ar,onFocus:composeEventHandlers(ir.onFocus,()=>hr(!0)),onBlur:composeEventHandlers(ir.onBlur,()=>hr(!1)),onClick:composeEventHandlers(ir.onClick,()=>{mr.current!=="mouse"&&pr()}),onPointerUp:composeEventHandlers(ir.onPointerUp,()=>{mr.current==="mouse"&&pr()}),onPointerDown:composeEventHandlers(ir.onPointerDown,gr=>{mr.current=gr.pointerType}),onPointerMove:composeEventHandlers(ir.onPointerMove,gr=>{var xr;mr.current=gr.pointerType,nr?(xr=or.onItemLeave)==null||xr.call(or):mr.current==="mouse"&&gr.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(ir.onPointerLeave,gr=>{var xr;gr.currentTarget===document.activeElement&&((xr=or.onItemLeave)==null||xr.call(or))}),onKeyDown:composeEventHandlers(ir.onKeyDown,gr=>{var yr;((yr=or.searchRef)==null?void 0:yr.current)!==""&&gr.key===" "||(SELECTION_KEYS.includes(gr.key)&&pr(),gr.key===" "&&gr.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$2;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,className:rr,style:nr,...sr}=er,ir=useSelectContext(ITEM_TEXT_NAME,tr),ar=useSelectContentContext(ITEM_TEXT_NAME,tr),or=useSelectItemContext(ITEM_TEXT_NAME,tr),lr=useSelectNativeOptionsContext(ITEM_TEXT_NAME,tr),[cr,ur]=reactExports.useState(null),dr=useComposedRefs(St,pr=>ur(pr),or.onItemTextChange,pr=>{var gr;return(gr=ar.itemTextRefCallback)==null?void 0:gr.call(ar,pr,or.value,or.disabled)}),hr=cr==null?void 0:cr.textContent,Ar=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:or.value,disabled:or.disabled,children:hr},or.value),[or.disabled,or.value,hr]),{onNativeOptionAdd:fr,onNativeOptionRemove:mr}=lr;return useLayoutEffect2(()=>(fr(Ar),()=>mr(Ar)),[fr,mr,Ar]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:or.textId,...sr,ref:dr}),or.isSelected&&ir.valueNode&&!ir.valueNodeHasChildren?reactDomExports.createPortal(sr.children,ir.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,...rr}=er;return useSelectItemContext(ITEM_INDICATOR_NAME,tr).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...rr,ref:St}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((er,St)=>{const tr=useSelectContentContext(SCROLL_UP_BUTTON_NAME,er.__scopeSelect),rr=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,er.__scopeSelect),[nr,sr]=reactExports.useState(!1),ir=useComposedRefs(St,rr.onScrollButtonChange);return useLayoutEffect2(()=>{if(tr.viewport&&tr.isPositioned){let ar=function(){const lr=or.scrollTop>0;sr(lr)};const or=tr.viewport;return ar(),or.addEventListener("scroll",ar),()=>or.removeEventListener("scroll",ar)}},[tr.viewport,tr.isPositioned]),nr?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...er,ref:ir,onAutoScroll:()=>{const{viewport:ar,selectedItem:or}=tr;ar&&or&&(ar.scrollTop=ar.scrollTop-or.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((er,St)=>{const tr=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,er.__scopeSelect),rr=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,er.__scopeSelect),[nr,sr]=reactExports.useState(!1),ir=useComposedRefs(St,rr.onScrollButtonChange);return useLayoutEffect2(()=>{if(tr.viewport&&tr.isPositioned){let ar=function(){const lr=or.scrollHeight-or.clientHeight,cr=Math.ceil(or.scrollTop)<lr;sr(cr)};const or=tr.viewport;return ar(),or.addEventListener("scroll",ar),()=>or.removeEventListener("scroll",ar)}},[tr.viewport,tr.isPositioned]),nr?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...er,ref:ir,onAutoScroll:()=>{const{viewport:ar,selectedItem:or}=tr;ar&&or&&(ar.scrollTop=ar.scrollTop+or.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,onAutoScroll:rr,...nr}=er,sr=useSelectContentContext("SelectScrollButton",tr),ir=reactExports.useRef(null),ar=useCollection$1(tr),or=reactExports.useCallback(()=>{ir.current!==null&&(window.clearInterval(ir.current),ir.current=null)},[]);return reactExports.useEffect(()=>()=>or(),[or]),useLayoutEffect2(()=>{var cr;const lr=ar().find(ur=>ur.ref.current===document.activeElement);(cr=lr==null?void 0:lr.ref.current)==null||cr.scrollIntoView({block:"nearest"})},[ar]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...nr,ref:St,style:{flexShrink:0,...nr.style},onPointerDown:composeEventHandlers(nr.onPointerDown,()=>{ir.current===null&&(ir.current=window.setInterval(rr,50))}),onPointerMove:composeEventHandlers(nr.onPointerMove,()=>{var lr;(lr=sr.onItemLeave)==null||lr.call(sr),ir.current===null&&(ir.current=window.setInterval(rr,50))}),onPointerLeave:composeEventHandlers(nr.onPointerLeave,()=>{or()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,...rr}=er;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...rr,ref:St})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME$1="SelectArrow",SelectArrow=reactExports.forwardRef((er,St)=>{const{__scopeSelect:tr,...rr}=er,nr=usePopperScope$1(tr),sr=useSelectContext(ARROW_NAME$1,tr),ir=useSelectContentContext(ARROW_NAME$1,tr);return sr.open&&ir.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...nr,...rr,ref:St}):null});SelectArrow.displayName=ARROW_NAME$1;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:er,value:St,...tr},rr)=>{const nr=reactExports.useRef(null),sr=useComposedRefs(rr,nr),ir=usePrevious(St);return reactExports.useEffect(()=>{const ar=nr.current;if(!ar)return;const or=window.HTMLSelectElement.prototype,cr=Object.getOwnPropertyDescriptor(or,"value").set;if(ir!==St&&cr){const ur=new Event("change",{bubbles:!0});cr.call(ar,St),ar.dispatchEvent(ur)}},[ir,St]),jsxRuntimeExports.jsx(Primitive.select,{...tr,style:{...VISUALLY_HIDDEN_STYLES,...tr.style},ref:sr,defaultValue:St})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(er){return er===""||er===void 0}function useTypeaheadSearch(er){const St=useCallbackRef$1(er),tr=reactExports.useRef(""),rr=reactExports.useRef(0),nr=reactExports.useCallback(ir=>{const ar=tr.current+ir;St(ar),function or(lr){tr.current=lr,window.clearTimeout(rr.current),lr!==""&&(rr.current=window.setTimeout(()=>or(""),1e3))}(ar)},[St]),sr=reactExports.useCallback(()=>{tr.current="",window.clearTimeout(rr.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(rr.current),[]),[tr,nr,sr]}function findNextItem(er,St,tr){const nr=St.length>1&&Array.from(St).every(lr=>lr===St[0])?St[0]:St,sr=tr?er.indexOf(tr):-1;let ir=wrapArray$1(er,Math.max(sr,0));nr.length===1&&(ir=ir.filter(lr=>lr!==tr));const or=ir.find(lr=>lr.textValue.toLowerCase().startsWith(nr.toLowerCase()));return or!==tr?or:void 0}function wrapArray$1(er,St){return er.map((tr,rr)=>er[(St+rr)%er.length])}var Root2$2=Select$2,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent$1,Viewport=SelectViewport,Label$1=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;const Select$1=Root2$2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:er,children:St,...tr},rr)=>jsxRuntimeExports.jsxs(Trigger$1,{ref:rr,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",er),...tr,children:[St,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$1.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:tr,className:cn("flex cursor-default items-center justify-center py-1",er),...St,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:tr,className:cn("flex cursor-default items-center justify-center py-1",er),...St,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:er,children:St,position:tr="popper",...rr},nr)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:nr,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",tr==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",er),position:tr,...rr,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1",tr==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:St}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(Label$1,{ref:tr,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",er),...St}));SelectLabel.displayName=Label$1.displayName;const SelectItem=reactExports.forwardRef(({className:er,children:St,...tr},rr)=>jsxRuntimeExports.jsxs(Item$2,{ref:rr,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",er),...tr,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:St})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(Separator,{ref:tr,className:cn("-mx-1 my-1 h-px bg-gray-100",er),...St}));SelectSeparator.displayName=Separator.displayName;function AuditLog(){const er=useNavigate(),[St,tr]=reactExports.useState(!0),[rr,nr]=reactExports.useState([]),[sr,ir]=reactExports.useState([]),[ar,or]=reactExports.useState(""),[lr,cr]=reactExports.useState("all"),[ur,dr]=reactExports.useState("all");reactExports.useEffect(()=>{hr(),Ar();const Er=setInterval(Ar,6e4);return()=>clearInterval(Er)},[]),reactExports.useEffect(()=>{fr()},[rr,ar,lr,ur]);const hr=async()=>{const{data:{session:Er}}=await supabase.auth.getSession();if(!Er){er("/admin/login");return}const{data:_r}=await supabase.from("user_profiles").select("role").eq("id",Er.user.id).single();(!_r||_r.role!=="admin")&&er("/")},Ar=async()=>{try{const Er=[{id:"1",action:"User Login",category:"auth",user_id:"user123",user_email:"admin@insperityhealth.com",ip_address:"192.168.1.1",details:{browser:"Chrome",os:"MacOS"},status:"success",timestamp:new Date(Date.now()-3e5).toISOString()},{id:"2",action:"Payment Processed",category:"payment",user_id:"user456",user_email:"billing@techcorp.com",ip_address:"10.0.0.1",details:{amount:2500,plan:"enterprise"},status:"success",timestamp:new Date(Date.now()-18e5).toISOString()},{id:"3",action:"Failed Login Attempt",category:"security",user_id:"unknown",user_email:"unknown@example.com",ip_address:"203.0.113.0",details:{reason:"Invalid credentials"},status:"error",timestamp:new Date(Date.now()-27e5).toISOString()},{id:"4",action:"Database Backup Completed",category:"system",user_id:"system",user_email:"system@insperityhealth.com",ip_address:"localhost",details:{size:"2.4GB",duration:"5m 23s"},status:"success",timestamp:new Date(Date.now()-72e5).toISOString()},{id:"5",action:"User Role Updated",category:"user",user_id:"admin001",user_email:"superadmin@insperityhealth.com",ip_address:"192.168.1.10",details:{target_user:"john.doe@example.com",old_role:"patient",new_role:"provider"},status:"warning",timestamp:new Date(Date.now()-108e5).toISOString()}];nr(Er),tr(!1)}catch(Er){console.error("Error loading audit logs:",Er),tr(!1)}},fr=()=>{let Er=[...rr];ar&&(Er=Er.filter(_r=>_r.action.toLowerCase().includes(ar.toLowerCase())||_r.user_email.toLowerCase().includes(ar.toLowerCase())||_r.ip_address.includes(ar)||JSON.stringify(_r.details).toLowerCase().includes(ar.toLowerCase()))),lr!=="all"&&(Er=Er.filter(_r=>_r.category===lr)),ur!=="all"&&(Er=Er.filter(_r=>_r.status===ur)),ir(Er)},mr=Er=>{switch(Er){case"auth":return jsxRuntimeExports.jsx(User,{className:"h-4 w-4"});case"user":return jsxRuntimeExports.jsx(User,{className:"h-4 w-4"});case"payment":return jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"});case"system":return jsxRuntimeExports.jsx(Database,{className:"h-4 w-4"});case"security":return jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"})}},pr=Er=>{switch(Er){case"auth":return"bg-blue-100 text-blue-700";case"user":return"bg-purple-100 text-purple-700";case"payment":return"bg-green-100 text-green-700";case"system":return"bg-gray-100 text-gray-700";case"security":return"bg-red-100 text-red-700"}},gr=Er=>{switch(Er){case"success":return jsxRuntimeExports.jsx(CheckCircle,{className:"h-4 w-4 text-green-600"});case"warning":return jsxRuntimeExports.jsx(AlertCircle,{className:"h-4 w-4 text-yellow-600"});case"error":return jsxRuntimeExports.jsx(XCircle,{className:"h-4 w-4 text-red-600"})}},xr=Er=>{const _r=new Date(Er);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(_r)},yr=()=>{const Er=[["Timestamp","Action","Category","User","IP Address","Status","Details"].join(","),...sr.map(Pr=>[Pr.timestamp,Pr.action,Pr.category,Pr.user_email,Pr.ip_address,Pr.status,JSON.stringify(Pr.details)].join(","))].join(`
`),_r=new Blob([Er],{type:"text/csv"}),Sr=window.URL.createObjectURL(_r),jr=document.createElement("a");jr.href=Sr,jr.download=`audit-log-${new Date().toISOString().split("T")[0]}.csv`,jr.click()};return St?jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsx("div",{className:"p-6 min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Audit Log"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Monitor all system activities and security events"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:Ar,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"}),"Refresh"]}),jsxRuntimeExports.jsxs("button",{onClick:yr,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Export CSV"]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search logs...",value:ar,onChange:Er=>or(Er.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx(Select$1,{value:lr,onChange:cr,options:[{value:"all",label:"All Categories"},{value:"auth",label:"Authentication"},{value:"user",label:"User Management"},{value:"payment",label:"Payments"},{value:"system",label:"System"},{value:"security",label:"Security"}]}),jsxRuntimeExports.jsx(Select$1,{value:ur,onChange:dr,options:[{value:"all",label:"All Status"},{value:"success",label:"Success"},{value:"warning",label:"Warning"},{value:"error",label:"Error"}]})]})})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Activity Log"})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:sr.map(Er=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:xr(Er.timestamp)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[gr(Er.status),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900",children:Er.action})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Badge,{className:`${pr(Er.category)} border-0`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[mr(Er.category),jsxRuntimeExports.jsx("span",{className:"capitalize",children:Er.category})]})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Er.user_email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Er.ip_address}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Badge,{variant:Er.status==="success"?"default":Er.status==="warning"?"secondary":"destructive",className:"capitalize",children:Er.status})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("summary",{children:"View"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(Er.details,null,2)})]})})]},Er.id))})]}),sr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-gray-500",children:"No audit logs found matching your filters."})]})})]})]})})})}function Progress({value:er,className:St=""}){return jsxRuntimeExports.jsx("div",{className:`w-full h-2 bg-gray-200 rounded-full overflow-hidden ${St}`,children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all",style:{width:`${er}%`}})})}const LayoutGroupContext=reactExports.createContext({});function useConstant(er){const St=reactExports.useRef(null);return St.current===null&&(St.current=er()),St.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(er,St){er.indexOf(St)===-1&&er.push(St)}function removeItem(er,St){const tr=er.indexOf(St);tr>-1&&er.splice(tr,1)}const clamp=(er,St,tr)=>tr>St?St:tr<er?er:tr;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=er=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(er);function isObject(er){return typeof er=="object"&&er!==null}const isZeroValueString=er=>/^0[^.\s]+$/u.test(er);function memo(er){let St;return()=>(St===void 0&&(St=er()),St)}const noop=er=>er,combineFunctions=(er,St)=>tr=>St(er(tr)),pipe=(...er)=>er.reduce(combineFunctions),progress=(er,St,tr)=>{const rr=St-er;return rr===0?1:(tr-er)/rr};class SubscriptionManager{constructor(){this.subscriptions=[]}add(St){return addUniqueItem(this.subscriptions,St),()=>removeItem(this.subscriptions,St)}notify(St,tr,rr){const nr=this.subscriptions.length;if(nr)if(nr===1)this.subscriptions[0](St,tr,rr);else for(let sr=0;sr<nr;sr++){const ir=this.subscriptions[sr];ir&&ir(St,tr,rr)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=er=>er*1e3,millisecondsToSeconds=er=>er/1e3;function velocityPerSecond(er,St){return St?er*(1e3/St):0}const calcBezier=(er,St,tr)=>(((1-3*tr+3*St)*er+(3*tr-6*St))*er+3*St)*er,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(er,St,tr,rr,nr){let sr,ir,ar=0;do ir=St+(tr-St)/2,sr=calcBezier(ir,rr,nr)-er,sr>0?tr=ir:St=ir;while(Math.abs(sr)>subdivisionPrecision&&++ar<subdivisionMaxIterations);return ir}function cubicBezier(er,St,tr,rr){if(er===St&&tr===rr)return noop;const nr=sr=>binarySubdivide(sr,0,1,er,tr);return sr=>sr===0||sr===1?sr:calcBezier(nr(sr),St,rr)}const mirrorEasing=er=>St=>St<=.5?er(2*St)/2:(2-er(2*(1-St)))/2,reverseEasing=er=>St=>1-er(1-St),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=er=>(er*=2)<1?.5*backIn(er):.5*(2-Math.pow(2,-10*(er-1))),circIn=er=>1-Math.sin(Math.acos(er)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=er=>Array.isArray(er)&&typeof er[0]!="number",isBezierDefinition=er=>Array.isArray(er)&&typeof er[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=er=>typeof er=="string",easingDefinitionToFunction=er=>{if(isBezierDefinition(er)){invariant(er.length===4);const[St,tr,rr,nr]=er;return cubicBezier(St,tr,rr,nr)}else if(isValidEasing(er))return easingLookup[er];return er},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(er,St){let tr=new Set,rr=new Set,nr=!1,sr=!1;const ir=new WeakSet;let ar={delta:0,timestamp:0,isProcessing:!1};function or(cr){ir.has(cr)&&(lr.schedule(cr),er()),cr(ar)}const lr={schedule:(cr,ur=!1,dr=!1)=>{const Ar=dr&&nr?tr:rr;return ur&&ir.add(cr),Ar.has(cr)||Ar.add(cr),cr},cancel:cr=>{rr.delete(cr),ir.delete(cr)},process:cr=>{if(ar=cr,nr){sr=!0;return}nr=!0,[tr,rr]=[rr,tr],tr.forEach(or),tr.clear(),nr=!1,sr&&(sr=!1,lr.process(cr))}};return lr}const maxElapsed=40;function createRenderBatcher(er,St){let tr=!1,rr=!0;const nr={delta:0,timestamp:0,isProcessing:!1},sr=()=>tr=!0,ir=stepsOrder.reduce((xr,yr)=>(xr[yr]=createRenderStep(sr),xr),{}),{setup:ar,read:or,resolveKeyframes:lr,preUpdate:cr,update:ur,preRender:dr,render:hr,postRender:Ar}=ir,fr=()=>{const xr=MotionGlobalConfig.useManualTiming?nr.timestamp:performance.now();tr=!1,MotionGlobalConfig.useManualTiming||(nr.delta=rr?1e3/60:Math.max(Math.min(xr-nr.timestamp,maxElapsed),1)),nr.timestamp=xr,nr.isProcessing=!0,ar.process(nr),or.process(nr),lr.process(nr),cr.process(nr),ur.process(nr),dr.process(nr),hr.process(nr),Ar.process(nr),nr.isProcessing=!1,tr&&St&&(rr=!1,er(fr))},mr=()=>{tr=!0,rr=!0,nr.isProcessing||er(fr)};return{schedule:stepsOrder.reduce((xr,yr)=>{const Er=ir[yr];return xr[yr]=(_r,Sr=!1,jr=!1)=>(tr||mr(),Er.schedule(_r,Sr,jr)),xr},{}),cancel:xr=>{for(let yr=0;yr<stepsOrder.length;yr++)ir[stepsOrder[yr]].cancel(xr)},state:nr,steps:ir}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:er=>{now=er,queueMicrotask(clearTime)}},checkStringStartsWith=er=>St=>typeof St=="string"&&St.startsWith(er),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=er=>startsAsVariableToken(er)?singleCssVariableRegex.test(er.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:er=>typeof er=="number",parse:parseFloat,transform:er=>er},alpha={...number,transform:er=>clamp(0,1,er)},scale={...number,default:1},sanitize=er=>Math.round(er*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(er){return er==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(er,St)=>tr=>!!(typeof tr=="string"&&singleColorRegex.test(tr)&&tr.startsWith(er)||St&&!isNullish(tr)&&Object.prototype.hasOwnProperty.call(tr,St)),splitColor=(er,St,tr)=>rr=>{if(typeof rr!="string")return rr;const[nr,sr,ir,ar]=rr.match(floatRegex);return{[er]:parseFloat(nr),[St]:parseFloat(sr),[tr]:parseFloat(ir),alpha:ar!==void 0?parseFloat(ar):1}},clampRgbUnit=er=>clamp(0,255,er),rgbUnit={...number,transform:er=>Math.round(clampRgbUnit(er))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:er,green:St,blue:tr,alpha:rr=1})=>"rgba("+rgbUnit.transform(er)+", "+rgbUnit.transform(St)+", "+rgbUnit.transform(tr)+", "+sanitize(alpha.transform(rr))+")"};function parseHex(er){let St="",tr="",rr="",nr="";return er.length>5?(St=er.substring(1,3),tr=er.substring(3,5),rr=er.substring(5,7),nr=er.substring(7,9)):(St=er.substring(1,2),tr=er.substring(2,3),rr=er.substring(3,4),nr=er.substring(4,5),St+=St,tr+=tr,rr+=rr,nr+=nr),{red:parseInt(St,16),green:parseInt(tr,16),blue:parseInt(rr,16),alpha:nr?parseInt(nr,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=er=>({test:St=>typeof St=="string"&&St.endsWith(er)&&St.split(" ").length===1,parse:parseFloat,transform:St=>`${St}${er}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:er=>percent.parse(er)/100,transform:er=>percent.transform(er*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:er,saturation:St,lightness:tr,alpha:rr=1})=>"hsla("+Math.round(er)+", "+percent.transform(sanitize(St))+", "+percent.transform(sanitize(tr))+", "+sanitize(alpha.transform(rr))+")"},color$2={test:er=>rgba.test(er)||hex.test(er)||hsla.test(er),parse:er=>rgba.test(er)?rgba.parse(er):hsla.test(er)?hsla.parse(er):hex.parse(er),transform:er=>typeof er=="string"?er:er.hasOwnProperty("red")?rgba.transform(er):hsla.transform(er),getAnimatableNone:er=>{const St=color$2.parse(er);return St.alpha=0,color$2.transform(St)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(er){var St,tr;return isNaN(er)&&typeof er=="string"&&(((St=er.match(floatRegex))==null?void 0:St.length)||0)+(((tr=er.match(colorRegex))==null?void 0:tr.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(er){const St=er.toString(),tr=[],rr={color:[],number:[],var:[]},nr=[];let sr=0;const ar=St.replace(complexRegex,or=>(color$2.test(or)?(rr.color.push(sr),nr.push(COLOR_TOKEN),tr.push(color$2.parse(or))):or.startsWith(VAR_FUNCTION_TOKEN)?(rr.var.push(sr),nr.push(VAR_TOKEN),tr.push(or)):(rr.number.push(sr),nr.push(NUMBER_TOKEN),tr.push(parseFloat(or))),++sr,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:tr,split:ar,indexes:rr,types:nr}}function parseComplexValue(er){return analyseComplexValue(er).values}function createTransformer(er){const{split:St,types:tr}=analyseComplexValue(er),rr=St.length;return nr=>{let sr="";for(let ir=0;ir<rr;ir++)if(sr+=St[ir],nr[ir]!==void 0){const ar=tr[ir];ar===NUMBER_TOKEN?sr+=sanitize(nr[ir]):ar===COLOR_TOKEN?sr+=color$2.transform(nr[ir]):sr+=nr[ir]}return sr}}const convertNumbersToZero=er=>typeof er=="number"?0:color$2.test(er)?color$2.getAnimatableNone(er):er;function getAnimatableNone$1(er){const St=parseComplexValue(er);return createTransformer(er)(St.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(er,St,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?er+(St-er)*6*tr:tr<1/2?St:tr<2/3?er+(St-er)*(2/3-tr)*6:er}function hslaToRgba({hue:er,saturation:St,lightness:tr,alpha:rr}){er/=360,St/=100,tr/=100;let nr=0,sr=0,ir=0;if(!St)nr=sr=ir=tr;else{const ar=tr<.5?tr*(1+St):tr+St-tr*St,or=2*tr-ar;nr=hueToRgb(or,ar,er+1/3),sr=hueToRgb(or,ar,er),ir=hueToRgb(or,ar,er-1/3)}return{red:Math.round(nr*255),green:Math.round(sr*255),blue:Math.round(ir*255),alpha:rr}}function mixImmediate(er,St){return tr=>tr>0?St:er}const mixNumber$1=(er,St,tr)=>er+(St-er)*tr,mixLinearColor=(er,St,tr)=>{const rr=er*er,nr=tr*(St*St-rr)+rr;return nr<0?0:Math.sqrt(nr)},colorTypes=[hex,rgba,hsla],getColorType=er=>colorTypes.find(St=>St.test(er));function asRGBA(er){const St=getColorType(er);if(!St)return!1;let tr=St.parse(er);return St===hsla&&(tr=hslaToRgba(tr)),tr}const mixColor=(er,St)=>{const tr=asRGBA(er),rr=asRGBA(St);if(!tr||!rr)return mixImmediate(er,St);const nr={...tr};return sr=>(nr.red=mixLinearColor(tr.red,rr.red,sr),nr.green=mixLinearColor(tr.green,rr.green,sr),nr.blue=mixLinearColor(tr.blue,rr.blue,sr),nr.alpha=mixNumber$1(tr.alpha,rr.alpha,sr),rgba.transform(nr))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(er,St){return invisibleValues.has(er)?tr=>tr<=0?er:St:tr=>tr>=1?St:er}function mixNumber(er,St){return tr=>mixNumber$1(er,St,tr)}function getMixer(er){return typeof er=="number"?mixNumber:typeof er=="string"?isCSSVariableToken(er)?mixImmediate:color$2.test(er)?mixColor:mixComplex:Array.isArray(er)?mixArray:typeof er=="object"?color$2.test(er)?mixColor:mixObject:mixImmediate}function mixArray(er,St){const tr=[...er],rr=tr.length,nr=er.map((sr,ir)=>getMixer(sr)(sr,St[ir]));return sr=>{for(let ir=0;ir<rr;ir++)tr[ir]=nr[ir](sr);return tr}}function mixObject(er,St){const tr={...er,...St},rr={};for(const nr in tr)er[nr]!==void 0&&St[nr]!==void 0&&(rr[nr]=getMixer(er[nr])(er[nr],St[nr]));return nr=>{for(const sr in rr)tr[sr]=rr[sr](nr);return tr}}function matchOrder(er,St){const tr=[],rr={color:0,var:0,number:0};for(let nr=0;nr<St.values.length;nr++){const sr=St.types[nr],ir=er.indexes[sr][rr[sr]],ar=er.values[ir]??0;tr[nr]=ar,rr[sr]++}return tr}const mixComplex=(er,St)=>{const tr=complex.createTransformer(St),rr=analyseComplexValue(er),nr=analyseComplexValue(St);return rr.indexes.var.length===nr.indexes.var.length&&rr.indexes.color.length===nr.indexes.color.length&&rr.indexes.number.length>=nr.indexes.number.length?invisibleValues.has(er)&&!nr.values.length||invisibleValues.has(St)&&!rr.values.length?mixVisibility(er,St):pipe(mixArray(matchOrder(rr,nr),nr.values),tr):mixImmediate(er,St)};function mix(er,St,tr){return typeof er=="number"&&typeof St=="number"&&typeof tr=="number"?mixNumber$1(er,St,tr):getMixer(er)(er,St)}const frameloopDriver=er=>{const St=({timestamp:tr})=>er(tr);return{start:(tr=!0)=>frame.update(St,tr),stop:()=>cancelFrame(St),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(er,St,tr=10)=>{let rr="";const nr=Math.max(Math.round(St/tr),2);for(let sr=0;sr<nr;sr++)rr+=Math.round(er(sr/(nr-1))*1e4)/1e4+", ";return`linear(${rr.substring(0,rr.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(er){let St=0;const tr=50;let rr=er.next(St);for(;!rr.done&&St<maxGeneratorDuration;)St+=tr,rr=er.next(St);return St>=maxGeneratorDuration?1/0:St}function createGeneratorEasing(er,St=100,tr){const rr=tr({...er,keyframes:[0,St]}),nr=Math.min(calcGeneratorDuration(rr),maxGeneratorDuration);return{type:"keyframes",ease:sr=>rr.next(nr*sr).value/St,duration:millisecondsToSeconds(nr)}}const velocitySampleDuration=5;function calcGeneratorVelocity(er,St,tr){const rr=Math.max(St-velocitySampleDuration,0);return velocityPerSecond(tr-er(rr),St-rr)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:er=springDefaults.duration,bounce:St=springDefaults.bounce,velocity:tr=springDefaults.velocity,mass:rr=springDefaults.mass}){let nr,sr,ir=1-St;ir=clamp(springDefaults.minDamping,springDefaults.maxDamping,ir),er=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(er)),ir<1?(nr=lr=>{const cr=lr*ir,ur=cr*er,dr=cr-tr,hr=calcAngularFreq(lr,ir),Ar=Math.exp(-ur);return safeMin-dr/hr*Ar},sr=lr=>{const ur=lr*ir*er,dr=ur*tr+tr,hr=Math.pow(ir,2)*Math.pow(lr,2)*er,Ar=Math.exp(-ur),fr=calcAngularFreq(Math.pow(lr,2),ir);return(-nr(lr)+safeMin>0?-1:1)*((dr-hr)*Ar)/fr}):(nr=lr=>{const cr=Math.exp(-lr*er),ur=(lr-tr)*er+1;return-safeMin+cr*ur},sr=lr=>{const cr=Math.exp(-lr*er),ur=(tr-lr)*(er*er);return cr*ur});const ar=5/er,or=approximateRoot(nr,sr,ar);if(er=secondsToMilliseconds(er),isNaN(or))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:er};{const lr=Math.pow(or,2)*rr;return{stiffness:lr,damping:ir*2*Math.sqrt(rr*lr),duration:er}}}const rootIterations=12;function approximateRoot(er,St,tr){let rr=tr;for(let nr=1;nr<rootIterations;nr++)rr=rr-er(rr)/St(rr);return rr}function calcAngularFreq(er,St){return er*Math.sqrt(1-St*St)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(er,St){return St.some(tr=>er[tr]!==void 0)}function getSpringOptions(er){let St={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...er};if(!isSpringType(er,physicsKeys)&&isSpringType(er,durationKeys))if(er.visualDuration){const tr=er.visualDuration,rr=2*Math.PI/(tr*1.2),nr=rr*rr,sr=2*clamp(.05,1,1-(er.bounce||0))*Math.sqrt(nr);St={...St,mass:springDefaults.mass,stiffness:nr,damping:sr}}else{const tr=findSpring(er);St={...St,...tr,mass:springDefaults.mass},St.isResolvedFromDuration=!0}return St}function spring(er=springDefaults.visualDuration,St=springDefaults.bounce){const tr=typeof er!="object"?{visualDuration:er,keyframes:[0,1],bounce:St}:er;let{restSpeed:rr,restDelta:nr}=tr;const sr=tr.keyframes[0],ir=tr.keyframes[tr.keyframes.length-1],ar={done:!1,value:sr},{stiffness:or,damping:lr,mass:cr,duration:ur,velocity:dr,isResolvedFromDuration:hr}=getSpringOptions({...tr,velocity:-millisecondsToSeconds(tr.velocity||0)}),Ar=dr||0,fr=lr/(2*Math.sqrt(or*cr)),mr=ir-sr,pr=millisecondsToSeconds(Math.sqrt(or/cr)),gr=Math.abs(mr)<5;rr||(rr=gr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),nr||(nr=gr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let xr;if(fr<1){const Er=calcAngularFreq(pr,fr);xr=_r=>{const Sr=Math.exp(-fr*pr*_r);return ir-Sr*((Ar+fr*pr*mr)/Er*Math.sin(Er*_r)+mr*Math.cos(Er*_r))}}else if(fr===1)xr=Er=>ir-Math.exp(-pr*Er)*(mr+(Ar+pr*mr)*Er);else{const Er=pr*Math.sqrt(fr*fr-1);xr=_r=>{const Sr=Math.exp(-fr*pr*_r),jr=Math.min(Er*_r,300);return ir-Sr*((Ar+fr*pr*mr)*Math.sinh(jr)+Er*mr*Math.cosh(jr))/Er}}const yr={calculatedDuration:hr&&ur||null,next:Er=>{const _r=xr(Er);if(hr)ar.done=Er>=ur;else{let Sr=Er===0?Ar:0;fr<1&&(Sr=Er===0?secondsToMilliseconds(Ar):calcGeneratorVelocity(xr,Er,_r));const jr=Math.abs(Sr)<=rr,Pr=Math.abs(ir-_r)<=nr;ar.done=jr&&Pr}return ar.value=ar.done?ir:_r,ar},toString:()=>{const Er=Math.min(calcGeneratorDuration(yr),maxGeneratorDuration),_r=generateLinearEasing(Sr=>yr.next(Er*Sr).value,Er,30);return Er+"ms "+_r},toTransition:()=>{}};return yr}spring.applyToOptions=er=>{const St=createGeneratorEasing(er,100,spring);return er.ease=St.ease,er.duration=secondsToMilliseconds(St.duration),er.type="keyframes",er};function inertia({keyframes:er,velocity:St=0,power:tr=.8,timeConstant:rr=325,bounceDamping:nr=10,bounceStiffness:sr=500,modifyTarget:ir,min:ar,max:or,restDelta:lr=.5,restSpeed:cr}){const ur=er[0],dr={done:!1,value:ur},hr=jr=>ar!==void 0&&jr<ar||or!==void 0&&jr>or,Ar=jr=>ar===void 0?or:or===void 0||Math.abs(ar-jr)<Math.abs(or-jr)?ar:or;let fr=tr*St;const mr=ur+fr,pr=ir===void 0?mr:ir(mr);pr!==mr&&(fr=pr-ur);const gr=jr=>-fr*Math.exp(-jr/rr),xr=jr=>pr+gr(jr),yr=jr=>{const Pr=gr(jr),Mr=xr(jr);dr.done=Math.abs(Pr)<=lr,dr.value=dr.done?pr:Mr};let Er,_r;const Sr=jr=>{hr(dr.value)&&(Er=jr,_r=spring({keyframes:[dr.value,Ar(dr.value)],velocity:calcGeneratorVelocity(xr,jr,dr.value),damping:nr,stiffness:sr,restDelta:lr,restSpeed:cr}))};return Sr(0),{calculatedDuration:null,next:jr=>{let Pr=!1;return!_r&&Er===void 0&&(Pr=!0,yr(jr),Sr(jr)),Er!==void 0&&jr>=Er?_r.next(jr-Er):(!Pr&&yr(jr),dr)}}}function createMixers(er,St,tr){const rr=[],nr=tr||MotionGlobalConfig.mix||mix,sr=er.length-1;for(let ir=0;ir<sr;ir++){let ar=nr(er[ir],er[ir+1]);if(St){const or=Array.isArray(St)?St[ir]||noop:St;ar=pipe(or,ar)}rr.push(ar)}return rr}function interpolate(er,St,{clamp:tr=!0,ease:rr,mixer:nr}={}){const sr=er.length;if(invariant(sr===St.length),sr===1)return()=>St[0];if(sr===2&&St[0]===St[1])return()=>St[1];const ir=er[0]===er[1];er[0]>er[sr-1]&&(er=[...er].reverse(),St=[...St].reverse());const ar=createMixers(St,rr,nr),or=ar.length,lr=cr=>{if(ir&&cr<er[0])return St[0];let ur=0;if(or>1)for(;ur<er.length-2&&!(cr<er[ur+1]);ur++);const dr=progress(er[ur],er[ur+1],cr);return ar[ur](dr)};return tr?cr=>lr(clamp(er[0],er[sr-1],cr)):lr}function fillOffset(er,St){const tr=er[er.length-1];for(let rr=1;rr<=St;rr++){const nr=progress(0,St,rr);er.push(mixNumber$1(tr,1,nr))}}function defaultOffset(er){const St=[0];return fillOffset(St,er.length-1),St}function convertOffsetToTimes(er,St){return er.map(tr=>tr*St)}function defaultEasing(er,St){return er.map(()=>St||easeInOut).splice(0,er.length-1)}function keyframes({duration:er=300,keyframes:St,times:tr,ease:rr="easeInOut"}){const nr=isEasingArray(rr)?rr.map(easingDefinitionToFunction):easingDefinitionToFunction(rr),sr={done:!1,value:St[0]},ir=convertOffsetToTimes(tr&&tr.length===St.length?tr:defaultOffset(St),er),ar=interpolate(ir,St,{ease:Array.isArray(nr)?nr:defaultEasing(St,nr)});return{calculatedDuration:er,next:or=>(sr.value=ar(or),sr.done=or>=er,sr)}}const isNotNull$1=er=>er!==null;function getFinalKeyframe$1(er,{repeat:St,repeatType:tr="loop"},rr,nr=1){const sr=er.filter(isNotNull$1),ar=nr<0||St&&tr!=="loop"&&St%2===1?0:sr.length-1;return!ar||rr===void 0?sr[ar]:rr}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(er){typeof er.type=="string"&&(er.type=transitionTypeMap[er.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(St=>{this.resolve=St})}notifyFinished(){this.resolve()}then(St,tr){return this.finished.then(St,tr)}}const percentToProgress=er=>er/100;class JSAnimation extends WithPromise{constructor(St){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var rr,nr;const{motionValue:tr}=this.options;tr&&tr.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(nr=(rr=this.options).onStop)==null||nr.call(rr))},this.options=St,this.initAnimation(),this.play(),St.autoplay===!1&&this.pause()}initAnimation(){const{options:St}=this;replaceTransitionType(St);const{type:tr=keyframes,repeat:rr=0,repeatDelay:nr=0,repeatType:sr,velocity:ir=0}=St;let{keyframes:ar}=St;const or=tr||keyframes;or!==keyframes&&typeof ar[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(ar[0],ar[1])),ar=[0,100]);const lr=or({...St,keyframes:ar});sr==="mirror"&&(this.mirroredGenerator=or({...St,keyframes:[...ar].reverse(),velocity:-ir})),lr.calculatedDuration===null&&(lr.calculatedDuration=calcGeneratorDuration(lr));const{calculatedDuration:cr}=lr;this.calculatedDuration=cr,this.resolvedDuration=cr+nr,this.totalDuration=this.resolvedDuration*(rr+1)-nr,this.generator=lr}updateTime(St){const tr=Math.round(St-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=tr}tick(St,tr=!1){const{generator:rr,totalDuration:nr,mixKeyframes:sr,mirroredGenerator:ir,resolvedDuration:ar,calculatedDuration:or}=this;if(this.startTime===null)return rr.next(0);const{delay:lr=0,keyframes:cr,repeat:ur,repeatType:dr,repeatDelay:hr,type:Ar,onUpdate:fr,finalKeyframe:mr}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,St):this.speed<0&&(this.startTime=Math.min(St-nr/this.speed,this.startTime)),tr?this.currentTime=St:this.updateTime(St);const pr=this.currentTime-lr*(this.playbackSpeed>=0?1:-1),gr=this.playbackSpeed>=0?pr<0:pr>nr;this.currentTime=Math.max(pr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=nr);let xr=this.currentTime,yr=rr;if(ur){const jr=Math.min(this.currentTime,nr)/ar;let Pr=Math.floor(jr),Mr=jr%1;!Mr&&jr>=1&&(Mr=1),Mr===1&&Pr--,Pr=Math.min(Pr,ur+1),!!(Pr%2)&&(dr==="reverse"?(Mr=1-Mr,hr&&(Mr-=hr/ar)):dr==="mirror"&&(yr=ir)),xr=clamp(0,1,Mr)*ar}const Er=gr?{done:!1,value:cr[0]}:yr.next(xr);sr&&(Er.value=sr(Er.value));let{done:_r}=Er;!gr&&or!==null&&(_r=this.playbackSpeed>=0?this.currentTime>=nr:this.currentTime<=0);const Sr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_r);return Sr&&Ar!==inertia&&(Er.value=getFinalKeyframe$1(cr,this.options,mr,this.speed)),fr&&fr(Er.value),Sr&&this.finish(),Er}then(St,tr){return this.finished.then(St,tr)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(St){var tr;St=secondsToMilliseconds(St),this.currentTime=St,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=St:this.driver&&(this.startTime=this.driver.now()-St/this.playbackSpeed),(tr=this.driver)==null||tr.start(!1)}get speed(){return this.playbackSpeed}set speed(St){this.updateTime(time$1.now());const tr=this.playbackSpeed!==St;this.playbackSpeed=St,tr&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var nr,sr;if(this.isStopped)return;const{driver:St=frameloopDriver,startTime:tr}=this.options;this.driver||(this.driver=St(ir=>this.tick(ir))),(sr=(nr=this.options).onPlay)==null||sr.call(nr);const rr=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=rr):this.holdTime!==null?this.startTime=rr-this.holdTime:this.startTime||(this.startTime=tr??rr),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var St,tr;this.notifyFinished(),this.teardown(),this.state="finished",(tr=(St=this.options).onComplete)==null||tr.call(St)}cancel(){var St,tr;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(tr=(St=this.options).onCancel)==null||tr.call(St)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(St){return this.startTime=0,this.tick(St,!0)}attachTimeline(St){var tr;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(tr=this.driver)==null||tr.stop(),St.observe(this)}}function fillWildcards(er){for(let St=1;St<er.length;St++)er[St]??(er[St]=er[St-1])}const radToDeg=er=>er*180/Math.PI,rotate=er=>{const St=radToDeg(Math.atan2(er[1],er[0]));return rebaseAngle(St)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:er=>(Math.abs(er[0])+Math.abs(er[3]))/2,rotate,rotateZ:rotate,skewX:er=>radToDeg(Math.atan(er[1])),skewY:er=>radToDeg(Math.atan(er[2])),skew:er=>(Math.abs(er[1])+Math.abs(er[2]))/2},rebaseAngle=er=>(er=er%360,er<0&&(er+=360),er),rotateZ=rotate,scaleX=er=>Math.sqrt(er[0]*er[0]+er[1]*er[1]),scaleY=er=>Math.sqrt(er[4]*er[4]+er[5]*er[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:er=>(scaleX(er)+scaleY(er))/2,rotateX:er=>rebaseAngle(radToDeg(Math.atan2(er[6],er[5]))),rotateY:er=>rebaseAngle(radToDeg(Math.atan2(-er[2],er[0]))),rotateZ,rotate:rotateZ,skewX:er=>radToDeg(Math.atan(er[4])),skewY:er=>radToDeg(Math.atan(er[1])),skew:er=>(Math.abs(er[1])+Math.abs(er[4]))/2};function defaultTransformValue(er){return er.includes("scale")?1:0}function parseValueFromTransform(er,St){if(!er||er==="none")return defaultTransformValue(St);const tr=er.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let rr,nr;if(tr)rr=matrix3dParsers,nr=tr;else{const ar=er.match(/^matrix\(([-\d.e\s,]+)\)$/u);rr=matrix2dParsers,nr=ar}if(!nr)return defaultTransformValue(St);const sr=rr[St],ir=nr[1].split(",").map(convertTransformToNumber);return typeof sr=="function"?sr(ir):ir[sr]}const readTransformValue=(er,St)=>{const{transform:tr="none"}=getComputedStyle(er);return parseValueFromTransform(tr,St)};function convertTransformToNumber(er){return parseFloat(er.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=er=>er===number||er===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(er=>!transformKeys.has(er));function removeNonTranslationalTransform(er){const St=[];return nonTranslationalTransformKeys.forEach(tr=>{const rr=er.getValue(tr);rr!==void 0&&(St.push([tr,rr.get()]),rr.set(tr.startsWith("scale")?1:0))}),St}const positionalValues={width:({x:er},{paddingLeft:St="0",paddingRight:tr="0"})=>er.max-er.min-parseFloat(St)-parseFloat(tr),height:({y:er},{paddingTop:St="0",paddingBottom:tr="0"})=>er.max-er.min-parseFloat(St)-parseFloat(tr),top:(er,{top:St})=>parseFloat(St),left:(er,{left:St})=>parseFloat(St),bottom:({y:er},{top:St})=>parseFloat(St)+(er.max-er.min),right:({x:er},{left:St})=>parseFloat(St)+(er.max-er.min),x:(er,{transform:St})=>parseValueFromTransform(St,"x"),y:(er,{transform:St})=>parseValueFromTransform(St,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const er=Array.from(toResolve).filter(rr=>rr.needsMeasurement),St=new Set(er.map(rr=>rr.element)),tr=new Map;St.forEach(rr=>{const nr=removeNonTranslationalTransform(rr);nr.length&&(tr.set(rr,nr),rr.render())}),er.forEach(rr=>rr.measureInitialState()),St.forEach(rr=>{rr.render();const nr=tr.get(rr);nr&&nr.forEach(([sr,ir])=>{var ar;(ar=rr.getValue(sr))==null||ar.set(ir)})}),er.forEach(rr=>rr.measureEndState()),er.forEach(rr=>{rr.suspendedScrollY!==void 0&&window.scrollTo(0,rr.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(er=>er.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(er=>{er.readKeyframes(),er.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(St,tr,rr,nr,sr,ir=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...St],this.onComplete=tr,this.name=rr,this.motionValue=nr,this.element=sr,this.isAsync=ir}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:St,name:tr,element:rr,motionValue:nr}=this;if(St[0]===null){const sr=nr==null?void 0:nr.get(),ir=St[St.length-1];if(sr!==void 0)St[0]=sr;else if(rr&&tr){const ar=rr.readValue(tr,ir);ar!=null&&(St[0]=ar)}St[0]===void 0&&(St[0]=ir),nr&&sr===void 0&&nr.set(St[0])}fillWildcards(St)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(St=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,St),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=er=>er.startsWith("--");function setStyle(er,St,tr){isCSSVar(St)?er.style.setProperty(St,tr):er.style[St]=tr}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(er,St){const tr=memo(er);return()=>supportsFlags[St]??tr()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([er,St,tr,rr])=>`cubic-bezier(${er}, ${St}, ${tr}, ${rr})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(er,St){if(er)return typeof er=="function"?supportsLinearEasing()?generateLinearEasing(er,St):"ease-out":isBezierDefinition(er)?cubicBezierAsString(er):Array.isArray(er)?er.map(tr=>mapEasingToNativeEasing(tr,St)||supportedWaapiEasing.easeOut):supportedWaapiEasing[er]}function startWaapiAnimation(er,St,tr,{delay:rr=0,duration:nr=300,repeat:sr=0,repeatType:ir="loop",ease:ar="easeOut",times:or}={},lr=void 0){const cr={[St]:tr};or&&(cr.offset=or);const ur=mapEasingToNativeEasing(ar,nr);Array.isArray(ur)&&(cr.easing=ur);const dr={delay:rr,duration:nr,easing:Array.isArray(ur)?"linear":ur,fill:"both",iterations:sr+1,direction:ir==="reverse"?"alternate":"normal"};return lr&&(dr.pseudoElement=lr),er.animate(cr,dr)}function isGenerator(er){return typeof er=="function"&&"applyToOptions"in er}function applyGeneratorOptions({type:er,...St}){return isGenerator(er)&&supportsLinearEasing()?er.applyToOptions(St):(St.duration??(St.duration=300),St.ease??(St.ease="easeOut"),St)}class NativeAnimation extends WithPromise{constructor(St){if(super(),this.finishedTime=null,this.isStopped=!1,!St)return;const{element:tr,name:rr,keyframes:nr,pseudoElement:sr,allowFlatten:ir=!1,finalKeyframe:ar,onComplete:or}=St;this.isPseudoElement=!!sr,this.allowFlatten=ir,this.options=St,invariant(typeof St.type!="string");const lr=applyGeneratorOptions(St);this.animation=startWaapiAnimation(tr,rr,nr,lr,sr),lr.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!sr){const cr=getFinalKeyframe$1(nr,this.options,ar,this.speed);this.updateMotionValue?this.updateMotionValue(cr):setStyle(tr,rr,cr),this.animation.cancel()}or==null||or(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var St,tr;(tr=(St=this.animation).finish)==null||tr.call(St)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:St}=this;St==="idle"||St==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var St,tr;this.isPseudoElement||(tr=(St=this.animation).commitStyles)==null||tr.call(St)}get duration(){var tr,rr;const St=((rr=(tr=this.animation.effect)==null?void 0:tr.getComputedTiming)==null?void 0:rr.call(tr).duration)||0;return millisecondsToSeconds(Number(St))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(St){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(St)}get speed(){return this.animation.playbackRate}set speed(St){St<0&&(this.finishedTime=null),this.animation.playbackRate=St}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(St){this.animation.startTime=St}attachTimeline({timeline:St,observe:tr}){var rr;return this.allowFlatten&&((rr=this.animation.effect)==null||rr.updateTiming({easing:"linear"})),this.animation.onfinish=null,St&&supportsScrollTimeline()?(this.animation.timeline=St,noop):tr(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(er){return er in unsupportedEasingFunctions}function replaceStringEasing(er){typeof er.ease=="string"&&isUnsupportedEase(er.ease)&&(er.ease=unsupportedEasingFunctions[er.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(St){replaceStringEasing(St),replaceTransitionType(St),super(St),St.startTime&&(this.startTime=St.startTime),this.options=St}updateMotionValue(St){const{motionValue:tr,onUpdate:rr,onComplete:nr,element:sr,...ir}=this.options;if(!tr)return;if(St!==void 0){tr.set(St);return}const ar=new JSAnimation({...ir,autoplay:!1}),or=secondsToMilliseconds(this.finishedTime??this.time);tr.setWithVelocity(ar.sample(or-sampleDelta).value,ar.sample(or).value,sampleDelta),ar.stop()}}const isAnimatable=(er,St)=>St==="zIndex"?!1:!!(typeof er=="number"||Array.isArray(er)||typeof er=="string"&&(complex.test(er)||er==="0")&&!er.startsWith("url("));function hasKeyframesChanged(er){const St=er[0];if(er.length===1)return!0;for(let tr=0;tr<er.length;tr++)if(er[tr]!==St)return!0}function canAnimate(er,St,tr,rr){const nr=er[0];if(nr===null)return!1;if(St==="display"||St==="visibility")return!0;const sr=er[er.length-1],ir=isAnimatable(nr,St),ar=isAnimatable(sr,St);return!ir||!ar?!1:hasKeyframesChanged(er)||(tr==="spring"||isGenerator(tr))&&rr}function makeAnimationInstant(er){er.duration=0,er.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(er){var cr;const{motionValue:St,name:tr,repeatDelay:rr,repeatType:nr,damping:sr,type:ir}=er;if(!(((cr=St==null?void 0:St.owner)==null?void 0:cr.current)instanceof HTMLElement))return!1;const{onUpdate:or,transformTemplate:lr}=St.owner.getProps();return supportsWaapi()&&tr&&acceleratedValues.has(tr)&&(tr!=="transform"||!lr)&&!or&&!rr&&nr!=="mirror"&&sr!==0&&ir!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:St=!0,delay:tr=0,type:rr="keyframes",repeat:nr=0,repeatDelay:sr=0,repeatType:ir="loop",keyframes:ar,name:or,motionValue:lr,element:cr,...ur}){var Ar;super(),this.stop=()=>{var fr,mr;this._animation&&(this._animation.stop(),(fr=this.stopTimeline)==null||fr.call(this)),(mr=this.keyframeResolver)==null||mr.cancel()},this.createdAt=time$1.now();const dr={autoplay:St,delay:tr,type:rr,repeat:nr,repeatDelay:sr,repeatType:ir,name:or,motionValue:lr,element:cr,...ur},hr=(cr==null?void 0:cr.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new hr(ar,(fr,mr,pr)=>this.onKeyframesResolved(fr,mr,dr,!pr),or,lr,cr),(Ar=this.keyframeResolver)==null||Ar.scheduleResolve()}onKeyframesResolved(St,tr,rr,nr){this.keyframeResolver=void 0;const{name:sr,type:ir,velocity:ar,delay:or,isHandoff:lr,onUpdate:cr}=rr;this.resolvedAt=time$1.now(),canAnimate(St,sr,ir,ar)||((MotionGlobalConfig.instantAnimations||!or)&&(cr==null||cr(getFinalKeyframe$1(St,rr,tr))),St[0]=St[St.length-1],makeAnimationInstant(rr),rr.repeat=0);const dr={startTime:nr?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:tr,...rr,keyframes:St},hr=!lr&&supportsBrowserAnimation(dr)?new NativeAnimationExtended({...dr,element:dr.motionValue.owner.current}):new JSAnimation(dr);hr.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=hr.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=hr}get finished(){return this._animation?this.animation.finished:this._finished}then(St,tr){return this.finished.finally(St).then(()=>{})}get animation(){var St;return this._animation||((St=this.keyframeResolver)==null||St.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(St){this.animation.time=St}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(St){this.animation.speed=St}get startTime(){return this.animation.startTime}attachTimeline(St){return this._animation?this.stopTimeline=this.animation.attachTimeline(St):this.pendingTimeline=St,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var St;this._animation&&this.animation.cancel(),(St=this.keyframeResolver)==null||St.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(er){const St=splitCSSVariableRegex.exec(er);if(!St)return[,];const[,tr,rr,nr]=St;return[`--${tr??rr}`,nr]}function getVariableValue(er,St,tr=1){const[rr,nr]=parseCSSVariable(er);if(!rr)return;const sr=window.getComputedStyle(St).getPropertyValue(rr);if(sr){const ir=sr.trim();return isNumericalString(ir)?parseFloat(ir):ir}return isCSSVariableToken(nr)?getVariableValue(nr,St,tr+1):nr}function getValueTransition(er,St){return(er==null?void 0:er[St])??(er==null?void 0:er.default)??er}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:er=>er==="auto",parse:er=>er},testValueType=er=>St=>St.test(er),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=er=>dimensionValueTypes.find(testValueType(er));function isNone(er){return typeof er=="number"?er===0:er!==null?er==="none"||er==="0"||isZeroValueString(er):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(er){const[St,tr]=er.slice(0,-1).split("(");if(St==="drop-shadow")return er;const[rr]=tr.match(floatRegex)||[];if(!rr)return er;const nr=tr.replace(rr,"");let sr=maxDefaults.has(St)?1:0;return rr!==tr&&(sr*=100),St+"("+sr+nr+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:er=>{const St=er.match(functionRegex);return St?St.map(applyDefaultFilter).join(" "):er}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=er=>defaultValueTypes[er];function getAnimatableNone(er,St){let tr=getDefaultValueType(er);return tr!==filter&&(tr=complex),tr.getAnimatableNone?tr.getAnimatableNone(St):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(er,St,tr){let rr=0,nr;for(;rr<er.length&&!nr;){const sr=er[rr];typeof sr=="string"&&!invalidTemplates.has(sr)&&analyseComplexValue(sr).values.length&&(nr=er[rr]),rr++}if(nr&&tr)for(const sr of St)er[sr]=getAnimatableNone(tr,nr)}class DOMKeyframesResolver extends KeyframeResolver{constructor(St,tr,rr,nr,sr){super(St,tr,rr,nr,sr,!0)}readKeyframes(){const{unresolvedKeyframes:St,element:tr,name:rr}=this;if(!tr||!tr.current)return;super.readKeyframes();for(let or=0;or<St.length;or++){let lr=St[or];if(typeof lr=="string"&&(lr=lr.trim(),isCSSVariableToken(lr))){const cr=getVariableValue(lr,tr.current);cr!==void 0&&(St[or]=cr),or===St.length-1&&(this.finalKeyframe=lr)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(rr)||St.length!==2)return;const[nr,sr]=St,ir=findDimensionValueType(nr),ar=findDimensionValueType(sr);if(ir!==ar)if(isNumOrPxType(ir)&&isNumOrPxType(ar))for(let or=0;or<St.length;or++){const lr=St[or];typeof lr=="string"&&(St[or]=parseFloat(lr))}else positionalValues[rr]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:St,name:tr}=this,rr=[];for(let nr=0;nr<St.length;nr++)(St[nr]===null||isNone(St[nr]))&&rr.push(nr);rr.length&&makeNoneKeyframesAnimatable(St,rr,tr)}measureInitialState(){const{element:St,unresolvedKeyframes:tr,name:rr}=this;if(!St||!St.current)return;rr==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[rr](St.measureViewportBox(),window.getComputedStyle(St.current)),tr[0]=this.measuredOrigin;const nr=tr[tr.length-1];nr!==void 0&&St.getValue(rr,nr).jump(nr,!1)}measureEndState(){var ar;const{element:St,name:tr,unresolvedKeyframes:rr}=this;if(!St||!St.current)return;const nr=St.getValue(tr);nr&&nr.jump(this.measuredOrigin,!1);const sr=rr.length-1,ir=rr[sr];rr[sr]=positionalValues[tr](St.measureViewportBox(),window.getComputedStyle(St.current)),ir!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ir),(ar=this.removedTransforms)!=null&&ar.length&&this.removedTransforms.forEach(([or,lr])=>{St.getValue(or).set(lr)}),this.resolveNoneKeyframes()}}function resolveElements(er,St,tr){if(er instanceof EventTarget)return[er];if(typeof er=="string"){let rr=document;const nr=(tr==null?void 0:tr[er])??rr.querySelectorAll(er);return nr?Array.from(nr):[]}return Array.from(er)}const getValueAsType=(er,St)=>St&&typeof er=="number"?St.transform(er):er;function isHTMLElement$1(er){return isObject(er)&&"offsetHeight"in er}const MAX_VELOCITY_DELTA=30,isFloat=er=>!isNaN(parseFloat(er));class MotionValue{constructor(St,tr={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=rr=>{var sr;const nr=time$1.now();if(this.updatedAt!==nr&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(rr),this.current!==this.prev&&((sr=this.events.change)==null||sr.notify(this.current),this.dependents))for(const ir of this.dependents)ir.dirty()},this.hasAnimated=!1,this.setCurrent(St),this.owner=tr.owner}setCurrent(St){this.current=St,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&St!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(St=this.current){this.prevFrameValue=St,this.prevUpdatedAt=this.updatedAt}onChange(St){return this.on("change",St)}on(St,tr){this.events[St]||(this.events[St]=new SubscriptionManager);const rr=this.events[St].add(tr);return St==="change"?()=>{rr(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:rr}clearListeners(){for(const St in this.events)this.events[St].clear()}attach(St,tr){this.passiveEffect=St,this.stopPassiveEffect=tr}set(St){this.passiveEffect?this.passiveEffect(St,this.updateAndNotify):this.updateAndNotify(St)}setWithVelocity(St,tr,rr){this.set(tr),this.prev=void 0,this.prevFrameValue=St,this.prevUpdatedAt=this.updatedAt-rr}jump(St,tr=!0){this.updateAndNotify(St),this.prev=St,this.prevUpdatedAt=this.prevFrameValue=void 0,tr&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var St;(St=this.events.change)==null||St.notify(this.current)}addDependent(St){this.dependents||(this.dependents=new Set),this.dependents.add(St)}removeDependent(St){this.dependents&&this.dependents.delete(St)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const St=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||St-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const tr=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),tr)}start(St){return this.stop(),new Promise(tr=>{this.hasAnimated=!0,this.animation=St(tr),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var St,tr;(St=this.dependents)==null||St.clear(),(tr=this.events.destroy)==null||tr.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(er,St){return new MotionValue(er,St)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(er){return er==="x"||er==="y"?isDragging[er]?null:(isDragging[er]=!0,()=>{isDragging[er]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(er,St){const tr=resolveElements(er),rr=new AbortController,nr={passive:!0,...St,signal:rr.signal};return[tr,nr,()=>rr.abort()]}function isValidHover(er){return!(er.pointerType==="touch"||isDragActive())}function hover(er,St,tr={}){const[rr,nr,sr]=setupGesture(er,tr),ir=ar=>{if(!isValidHover(ar))return;const{target:or}=ar,lr=St(or,ar);if(typeof lr!="function"||!or)return;const cr=ur=>{isValidHover(ur)&&(lr(ur),or.removeEventListener("pointerleave",cr))};or.addEventListener("pointerleave",cr,nr)};return rr.forEach(ar=>{ar.addEventListener("pointerenter",ir,nr)}),sr}const isNodeOrChild=(er,St)=>St?er===St?!0:isNodeOrChild(er,St.parentElement):!1,isPrimaryPointer=er=>er.pointerType==="mouse"?typeof er.button!="number"||er.button<=0:er.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(er){return focusableElements.has(er.tagName)||er.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(er){return St=>{St.key==="Enter"&&er(St)}}function firePointerEvent(er,St){er.dispatchEvent(new PointerEvent("pointer"+St,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(er,St)=>{const tr=er.currentTarget;if(!tr)return;const rr=filterEvents(()=>{if(isPressing.has(tr))return;firePointerEvent(tr,"down");const nr=filterEvents(()=>{firePointerEvent(tr,"up")}),sr=()=>firePointerEvent(tr,"cancel");tr.addEventListener("keyup",nr,St),tr.addEventListener("blur",sr,St)});tr.addEventListener("keydown",rr,St),tr.addEventListener("blur",()=>tr.removeEventListener("keydown",rr),St)};function isValidPressEvent(er){return isPrimaryPointer(er)&&!isDragActive()}function press(er,St,tr={}){const[rr,nr,sr]=setupGesture(er,tr),ir=ar=>{const or=ar.currentTarget;if(!isValidPressEvent(ar))return;isPressing.add(or);const lr=St(or,ar),cr=(hr,Ar)=>{window.removeEventListener("pointerup",ur),window.removeEventListener("pointercancel",dr),isPressing.has(or)&&isPressing.delete(or),isValidPressEvent(hr)&&typeof lr=="function"&&lr(hr,{success:Ar})},ur=hr=>{cr(hr,or===window||or===document||tr.useGlobalTarget||isNodeOrChild(or,hr.target))},dr=hr=>{cr(hr,!1)};window.addEventListener("pointerup",ur,nr),window.addEventListener("pointercancel",dr,nr)};return rr.forEach(ar=>{(tr.useGlobalTarget?window:ar).addEventListener("pointerdown",ir,nr),isHTMLElement$1(ar)&&(ar.addEventListener("focus",lr=>enableKeyboardPress(lr,nr)),!isElementKeyboardAccessible(ar)&&!ar.hasAttribute("tabindex")&&(ar.tabIndex=0))}),sr}function isSVGElement$1(er){return isObject(er)&&"ownerSVGElement"in er}function isSVGSVGElement(er){return isSVGElement$1(er)&&er.tagName==="svg"}const isMotionValue=er=>!!(er&&er.getVelocity),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=er=>valueTypes.find(testValueType(er)),MotionConfigContext=reactExports.createContext({transformPagePoint:er=>er,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(St){const tr=this.props.childRef.current;if(tr&&St.isPresent&&!this.props.isPresent){const rr=tr.offsetParent,nr=isHTMLElement$1(rr)&&rr.offsetWidth||0,sr=this.props.sizeRef.current;sr.height=tr.offsetHeight||0,sr.width=tr.offsetWidth||0,sr.top=tr.offsetTop,sr.left=tr.offsetLeft,sr.right=nr-sr.width-sr.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:er,isPresent:St,anchorX:tr,root:rr}){const nr=reactExports.useId(),sr=reactExports.useRef(null),ir=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:ar}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:or,height:lr,top:cr,left:ur,right:dr}=ir.current;if(St||!sr.current||!or||!lr)return;const hr=tr==="left"?`left: ${ur}`:`right: ${dr}`;sr.current.dataset.motionPopId=nr;const Ar=document.createElement("style");ar&&(Ar.nonce=ar);const fr=rr??document.head;return fr.appendChild(Ar),Ar.sheet&&Ar.sheet.insertRule(`
          [data-motion-pop-id="${nr}"] {
            position: absolute !important;
            width: ${or}px !important;
            height: ${lr}px !important;
            ${hr}px !important;
            top: ${cr}px !important;
          }
        `),()=>{fr.contains(Ar)&&fr.removeChild(Ar)}},[St]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:St,childRef:sr,sizeRef:ir,children:reactExports.cloneElement(er,{ref:sr})})}const PresenceChild=({children:er,initial:St,isPresent:tr,onExitComplete:rr,custom:nr,presenceAffectsLayout:sr,mode:ir,anchorX:ar,root:or})=>{const lr=useConstant(newChildrenMap),cr=reactExports.useId();let ur=!0,dr=reactExports.useMemo(()=>(ur=!1,{id:cr,initial:St,isPresent:tr,custom:nr,onExitComplete:hr=>{lr.set(hr,!0);for(const Ar of lr.values())if(!Ar)return;rr&&rr()},register:hr=>(lr.set(hr,!1),()=>lr.delete(hr))}),[tr,lr,rr]);return sr&&ur&&(dr={...dr}),reactExports.useMemo(()=>{lr.forEach((hr,Ar)=>lr.set(Ar,!1))},[tr]),reactExports.useEffect(()=>{!tr&&!lr.size&&rr&&rr()},[tr]),ir==="popLayout"&&(er=jsxRuntimeExports.jsx(PopChild,{isPresent:tr,anchorX:ar,root:or,children:er})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:dr,children:er})};function newChildrenMap(){return new Map}function usePresence$1(er=!0){const St=reactExports.useContext(PresenceContext);if(St===null)return[!0,null];const{isPresent:tr,onExitComplete:rr,register:nr}=St,sr=reactExports.useId();reactExports.useEffect(()=>{if(er)return nr(sr)},[er]);const ir=reactExports.useCallback(()=>er&&rr&&rr(sr),[sr,rr,er]);return!tr&&rr?[!1,ir]:[!0]}const getChildKey=er=>er.key||"";function onlyElements(er){const St=[];return reactExports.Children.forEach(er,tr=>{reactExports.isValidElement(tr)&&St.push(tr)}),St}const AnimatePresence=({children:er,custom:St,initial:tr=!0,onExitComplete:rr,presenceAffectsLayout:nr=!0,mode:sr="sync",propagate:ir=!1,anchorX:ar="left",root:or})=>{const[lr,cr]=usePresence$1(ir),ur=reactExports.useMemo(()=>onlyElements(er),[er]),dr=ir&&!lr?[]:ur.map(getChildKey),hr=reactExports.useRef(!0),Ar=reactExports.useRef(ur),fr=useConstant(()=>new Map),[mr,pr]=reactExports.useState(ur),[gr,xr]=reactExports.useState(ur);useIsomorphicLayoutEffect(()=>{hr.current=!1,Ar.current=ur;for(let _r=0;_r<gr.length;_r++){const Sr=getChildKey(gr[_r]);dr.includes(Sr)?fr.delete(Sr):fr.get(Sr)!==!0&&fr.set(Sr,!1)}},[gr,dr.length,dr.join("-")]);const yr=[];if(ur!==mr){let _r=[...ur];for(let Sr=0;Sr<gr.length;Sr++){const jr=gr[Sr],Pr=getChildKey(jr);dr.includes(Pr)||(_r.splice(Sr,0,jr),yr.push(jr))}return sr==="wait"&&yr.length&&(_r=yr),xr(onlyElements(_r)),pr(ur),null}const{forceRender:Er}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gr.map(_r=>{const Sr=getChildKey(_r),jr=ir&&!lr?!1:ur===gr||dr.includes(Sr),Pr=()=>{if(fr.has(Sr))fr.set(Sr,!0);else return;let Mr=!0;fr.forEach(Ir=>{Ir||(Mr=!1)}),Mr&&(Er==null||Er(),xr(Ar.current),ir&&(cr==null||cr()),rr&&rr())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:jr,initial:!hr.current||tr?void 0:!1,custom:St,presenceAffectsLayout:nr,mode:sr,root:or,onExitComplete:jr?void 0:Pr,anchorX:ar,children:_r},Sr)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const er in featureProps)featureDefinitions[er]={isEnabled:St=>featureProps[er].some(tr=>!!St[tr])};function loadFeatures(er){for(const St in er)featureDefinitions[St]={...featureDefinitions[St],...er[St]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(er){return er.startsWith("while")||er.startsWith("drag")&&er!=="draggable"||er.startsWith("layout")||er.startsWith("onTap")||er.startsWith("onPan")||er.startsWith("onLayout")||validMotionProps.has(er)}let shouldForward=er=>!isValidMotionProp(er);function loadExternalIsValidProp(er){typeof er=="function"&&(shouldForward=St=>St.startsWith("on")?!isValidMotionProp(St):er(St))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(er,St,tr){const rr={};for(const nr in er)nr==="values"&&typeof er.values=="object"||(shouldForward(nr)||tr===!0&&isValidMotionProp(nr)||!St&&!isValidMotionProp(nr)||er.draggable&&nr.startsWith("onDrag"))&&(rr[nr]=er[nr]);return rr}const MotionContext=reactExports.createContext({});function isAnimationControls(er){return er!==null&&typeof er=="object"&&typeof er.start=="function"}function isVariantLabel(er){return typeof er=="string"||Array.isArray(er)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(er){return isAnimationControls(er.animate)||variantProps.some(St=>isVariantLabel(er[St]))}function isVariantNode(er){return!!(isControllingVariants(er)||er.variants)}function getCurrentTreeVariants(er,St){if(isControllingVariants(er)){const{initial:tr,animate:rr}=er;return{initial:tr===!1||isVariantLabel(tr)?tr:void 0,animate:isVariantLabel(rr)?rr:void 0}}return er.inherit!==!1?St:{}}function useCreateMotionContext(er){const{initial:St,animate:tr}=getCurrentTreeVariants(er,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:St,animate:tr}),[variantLabelsAsDependency(St),variantLabelsAsDependency(tr)])}function variantLabelsAsDependency(er){return Array.isArray(er)?er.join(" "):er}const scaleCorrectors={};function addScaleCorrector(er){for(const St in er)scaleCorrectors[St]=er[St],isCSSVariableName(St)&&(scaleCorrectors[St].isCSSVariable=!0)}function isForcedMotionValue(er,{layout:St,layoutId:tr}){return transformProps.has(er)||er.startsWith("origin")||(St||tr!==void 0)&&(!!scaleCorrectors[er]||er==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(er,St,tr){let rr="",nr=!0;for(let sr=0;sr<numTransforms;sr++){const ir=transformPropOrder[sr],ar=er[ir];if(ar===void 0)continue;let or=!0;if(typeof ar=="number"?or=ar===(ir.startsWith("scale")?1:0):or=parseFloat(ar)===0,!or||tr){const lr=getValueAsType(ar,numberValueTypes[ir]);if(!or){nr=!1;const cr=translateAlias[ir]||ir;rr+=`${cr}(${lr}) `}tr&&(St[ir]=lr)}}return rr=rr.trim(),tr?rr=tr(St,nr?"":rr):nr&&(rr="none"),rr}function buildHTMLStyles(er,St,tr){const{style:rr,vars:nr,transformOrigin:sr}=er;let ir=!1,ar=!1;for(const or in St){const lr=St[or];if(transformProps.has(or)){ir=!0;continue}else if(isCSSVariableName(or)){nr[or]=lr;continue}else{const cr=getValueAsType(lr,numberValueTypes[or]);or.startsWith("origin")?(ar=!0,sr[or]=cr):rr[or]=cr}}if(St.transform||(ir||tr?rr.transform=buildTransform(St,er.transform,tr):rr.transform&&(rr.transform="none")),ar){const{originX:or="50%",originY:lr="50%",originZ:cr=0}=sr;rr.transformOrigin=`${or} ${lr} ${cr}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(er,St,tr){for(const rr in St)!isMotionValue(St[rr])&&!isForcedMotionValue(rr,tr)&&(er[rr]=St[rr])}function useInitialMotionValues({transformTemplate:er},St){return reactExports.useMemo(()=>{const tr=createHtmlRenderState();return buildHTMLStyles(tr,St,er),Object.assign({},tr.vars,tr.style)},[St])}function useStyle(er,St){const tr=er.style||{},rr={};return copyRawValuesOnly(rr,tr,er),Object.assign(rr,useInitialMotionValues(er,St)),rr}function useHTMLProps(er,St){const tr={},rr=useStyle(er,St);return er.drag&&er.dragListener!==!1&&(tr.draggable=!1,rr.userSelect=rr.WebkitUserSelect=rr.WebkitTouchCallout="none",rr.touchAction=er.drag===!0?"none":`pan-${er.drag==="x"?"y":"x"}`),er.tabIndex===void 0&&(er.onTap||er.onTapStart||er.whileTap)&&(tr.tabIndex=0),tr.style=rr,tr}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(er,St,tr=1,rr=0,nr=!0){er.pathLength=1;const sr=nr?dashKeys:camelKeys;er[sr.offset]=px.transform(-rr);const ir=px.transform(St),ar=px.transform(tr);er[sr.array]=`${ir} ${ar}`}function buildSVGAttrs(er,{attrX:St,attrY:tr,attrScale:rr,pathLength:nr,pathSpacing:sr=1,pathOffset:ir=0,...ar},or,lr,cr){if(buildHTMLStyles(er,ar,lr),or){er.style.viewBox&&(er.attrs.viewBox=er.style.viewBox);return}er.attrs=er.style,er.style={};const{attrs:ur,style:dr}=er;ur.transform&&(dr.transform=ur.transform,delete ur.transform),(dr.transform||ur.transformOrigin)&&(dr.transformOrigin=ur.transformOrigin??"50% 50%",delete ur.transformOrigin),dr.transform&&(dr.transformBox=(cr==null?void 0:cr.transformBox)??"fill-box",delete ur.transformBox),St!==void 0&&(ur.x=St),tr!==void 0&&(ur.y=tr),rr!==void 0&&(ur.scale=rr),nr!==void 0&&buildSVGPath(ur,nr,sr,ir,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=er=>typeof er=="string"&&er.toLowerCase()==="svg";function useSVGProps(er,St,tr,rr){const nr=reactExports.useMemo(()=>{const sr=createSvgRenderState();return buildSVGAttrs(sr,St,isSVGTag(rr),er.transformTemplate,er.style),{...sr.attrs,style:{...sr.style}}},[St]);if(er.style){const sr={};copyRawValuesOnly(sr,er.style,er),nr.style={...sr,...nr.style}}return nr}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(er){return typeof er!="string"||er.includes("-")?!1:!!(lowercaseSVGElements.indexOf(er)>-1||/[A-Z]/u.test(er))}function useRender(er,St,tr,{latestValues:rr},nr,sr=!1){const ar=(isSVGComponent(er)?useSVGProps:useHTMLProps)(St,rr,nr,er),or=filterProps(St,typeof er=="string",sr),lr=er!==reactExports.Fragment?{...or,...ar,ref:tr}:{},{children:cr}=St,ur=reactExports.useMemo(()=>isMotionValue(cr)?cr.get():cr,[cr]);return reactExports.createElement(er,{...lr,children:ur})}function getValueState(er){const St=[{},{}];return er==null||er.values.forEach((tr,rr)=>{St[0][rr]=tr.get(),St[1][rr]=tr.getVelocity()}),St}function resolveVariantFromProps(er,St,tr,rr){if(typeof St=="function"){const[nr,sr]=getValueState(rr);St=St(tr!==void 0?tr:er.custom,nr,sr)}if(typeof St=="string"&&(St=er.variants&&er.variants[St]),typeof St=="function"){const[nr,sr]=getValueState(rr);St=St(tr!==void 0?tr:er.custom,nr,sr)}return St}function resolveMotionValue(er){return isMotionValue(er)?er.get():er}function makeState({scrapeMotionValuesFromProps:er,createRenderState:St},tr,rr,nr){return{latestValues:makeLatestValues(tr,rr,nr,er),renderState:St()}}function makeLatestValues(er,St,tr,rr){const nr={},sr=rr(er,{});for(const dr in sr)nr[dr]=resolveMotionValue(sr[dr]);let{initial:ir,animate:ar}=er;const or=isControllingVariants(er),lr=isVariantNode(er);St&&lr&&!or&&er.inherit!==!1&&(ir===void 0&&(ir=St.initial),ar===void 0&&(ar=St.animate));let cr=tr?tr.initial===!1:!1;cr=cr||ir===!1;const ur=cr?ar:ir;if(ur&&typeof ur!="boolean"&&!isAnimationControls(ur)){const dr=Array.isArray(ur)?ur:[ur];for(let hr=0;hr<dr.length;hr++){const Ar=resolveVariantFromProps(er,dr[hr]);if(Ar){const{transitionEnd:fr,transition:mr,...pr}=Ar;for(const gr in pr){let xr=pr[gr];if(Array.isArray(xr)){const yr=cr?xr.length-1:0;xr=xr[yr]}xr!==null&&(nr[gr]=xr)}for(const gr in fr)nr[gr]=fr[gr]}}}return nr}const makeUseVisualState=er=>(St,tr)=>{const rr=reactExports.useContext(MotionContext),nr=reactExports.useContext(PresenceContext),sr=()=>makeState(er,St,rr,nr);return tr?sr():useConstant(sr)};function scrapeMotionValuesFromProps$1(er,St,tr){var sr;const{style:rr}=er,nr={};for(const ir in rr)(isMotionValue(rr[ir])||St.style&&isMotionValue(St.style[ir])||isForcedMotionValue(ir,er)||((sr=tr==null?void 0:tr.getValue(ir))==null?void 0:sr.liveStyle)!==void 0)&&(nr[ir]=rr[ir]);return nr}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(er,St,tr){const rr=scrapeMotionValuesFromProps$1(er,St,tr);for(const nr in er)if(isMotionValue(er[nr])||isMotionValue(St[nr])){const sr=transformPropOrder.indexOf(nr)!==-1?"attr"+nr.charAt(0).toUpperCase()+nr.substring(1):nr;rr[sr]=er[nr]}return rr}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(er){return er&&typeof er=="object"&&Object.prototype.hasOwnProperty.call(er,"current")}function useMotionRef(er,St,tr){return reactExports.useCallback(rr=>{rr&&er.onMount&&er.onMount(rr),St&&(rr?St.mount(rr):St.unmount()),tr&&(typeof tr=="function"?tr(rr):isRefObject(tr)&&(tr.current=rr))},[St])}const camelToDash=er=>er.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(er,St,tr,rr,nr){var fr,mr;const{visualElement:sr}=reactExports.useContext(MotionContext),ir=reactExports.useContext(LazyContext),ar=reactExports.useContext(PresenceContext),or=reactExports.useContext(MotionConfigContext).reducedMotion,lr=reactExports.useRef(null);rr=rr||ir.renderer,!lr.current&&rr&&(lr.current=rr(er,{visualState:St,parent:sr,props:tr,presenceContext:ar,blockInitialAnimation:ar?ar.initial===!1:!1,reducedMotionConfig:or}));const cr=lr.current,ur=reactExports.useContext(SwitchLayoutGroupContext);cr&&!cr.projection&&nr&&(cr.type==="html"||cr.type==="svg")&&createProjectionNode$1(lr.current,tr,nr,ur);const dr=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{cr&&dr.current&&cr.update(tr,ar)});const hr=tr[optimizedAppearDataAttribute],Ar=reactExports.useRef(!!hr&&!((fr=window.MotionHandoffIsComplete)!=null&&fr.call(window,hr))&&((mr=window.MotionHasOptimisedAnimation)==null?void 0:mr.call(window,hr)));return useIsomorphicLayoutEffect(()=>{cr&&(dr.current=!0,window.MotionIsMounted=!0,cr.updateFeatures(),cr.scheduleRenderMicrotask(),Ar.current&&cr.animationState&&cr.animationState.animateChanges())}),reactExports.useEffect(()=>{cr&&(!Ar.current&&cr.animationState&&cr.animationState.animateChanges(),Ar.current&&(queueMicrotask(()=>{var pr;(pr=window.MotionHandoffMarkAsComplete)==null||pr.call(window,hr)}),Ar.current=!1),cr.enteringChildren=void 0)}),cr}function createProjectionNode$1(er,St,tr,rr){const{layoutId:nr,layout:sr,drag:ir,dragConstraints:ar,layoutScroll:or,layoutRoot:lr,layoutCrossfade:cr}=St;er.projection=new tr(er.latestValues,St["data-framer-portal-id"]?void 0:getClosestProjectingNode(er.parent)),er.projection.setOptions({layoutId:nr,layout:sr,alwaysMeasureLayout:!!ir||ar&&isRefObject(ar),visualElement:er,animationType:typeof sr=="string"?sr:"both",initialPromotionConfig:rr,crossfade:cr,layoutScroll:or,layoutRoot:lr})}function getClosestProjectingNode(er){if(er)return er.options.allowProjection!==!1?er.projection:getClosestProjectingNode(er.parent)}function createMotionComponent(er,{forwardMotionProps:St=!1}={},tr,rr){tr&&loadFeatures(tr);const nr=isSVGComponent(er)?useSVGVisualState:useHTMLVisualState;function sr(ar,or){let lr;const cr={...reactExports.useContext(MotionConfigContext),...ar,layoutId:useLayoutId(ar)},{isStatic:ur}=cr,dr=useCreateMotionContext(ar),hr=nr(ar,ur);if(!ur&&isBrowser){useStrictMode();const Ar=getProjectionFunctionality(cr);lr=Ar.MeasureLayout,dr.visualElement=useVisualElement(er,hr,cr,rr,Ar.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:dr,children:[lr&&dr.visualElement?jsxRuntimeExports.jsx(lr,{visualElement:dr.visualElement,...cr}):null,useRender(er,ar,useMotionRef(hr,dr.visualElement,or),hr,ur,St)]})}sr.displayName=`motion.${typeof er=="string"?er:`create(${er.displayName??er.name??""})`}`;const ir=reactExports.forwardRef(sr);return ir[motionComponentSymbol]=er,ir}function useLayoutId({layoutId:er}){const St=reactExports.useContext(LayoutGroupContext).id;return St&&er!==void 0?St+"-"+er:er}function useStrictMode(er,St){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(er){const{drag:St,layout:tr}=featureDefinitions;if(!St&&!tr)return{};const rr={...St,...tr};return{MeasureLayout:St!=null&&St.isEnabled(er)||tr!=null&&tr.isEnabled(er)?rr.MeasureLayout:void 0,ProjectionNode:rr.ProjectionNode}}function createMotionProxy(er,St){if(typeof Proxy>"u")return createMotionComponent;const tr=new Map,rr=(sr,ir)=>createMotionComponent(sr,ir,er,St),nr=(sr,ir)=>rr(sr,ir);return new Proxy(nr,{get:(sr,ir)=>ir==="create"?rr:(tr.has(ir)||tr.set(ir,createMotionComponent(ir,void 0,er,St)),tr.get(ir))})}function convertBoundingBoxToBox({top:er,left:St,right:tr,bottom:rr}){return{x:{min:St,max:tr},y:{min:er,max:rr}}}function convertBoxToBoundingBox({x:er,y:St}){return{top:St.min,right:er.max,bottom:St.max,left:er.min}}function transformBoxPoints(er,St){if(!St)return er;const tr=St({x:er.left,y:er.top}),rr=St({x:er.right,y:er.bottom});return{top:tr.y,left:tr.x,bottom:rr.y,right:rr.x}}function isIdentityScale(er){return er===void 0||er===1}function hasScale({scale:er,scaleX:St,scaleY:tr}){return!isIdentityScale(er)||!isIdentityScale(St)||!isIdentityScale(tr)}function hasTransform(er){return hasScale(er)||has2DTranslate(er)||er.z||er.rotate||er.rotateX||er.rotateY||er.skewX||er.skewY}function has2DTranslate(er){return is2DTranslate(er.x)||is2DTranslate(er.y)}function is2DTranslate(er){return er&&er!=="0%"}function scalePoint(er,St,tr){const rr=er-tr,nr=St*rr;return tr+nr}function applyPointDelta(er,St,tr,rr,nr){return nr!==void 0&&(er=scalePoint(er,nr,rr)),scalePoint(er,tr,rr)+St}function applyAxisDelta(er,St=0,tr=1,rr,nr){er.min=applyPointDelta(er.min,St,tr,rr,nr),er.max=applyPointDelta(er.max,St,tr,rr,nr)}function applyBoxDelta(er,{x:St,y:tr}){applyAxisDelta(er.x,St.translate,St.scale,St.originPoint),applyAxisDelta(er.y,tr.translate,tr.scale,tr.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(er,St,tr,rr=!1){const nr=tr.length;if(!nr)return;St.x=St.y=1;let sr,ir;for(let ar=0;ar<nr;ar++){sr=tr[ar],ir=sr.projectionDelta;const{visualElement:or}=sr.options;or&&or.props.style&&or.props.style.display==="contents"||(rr&&sr.options.layoutScroll&&sr.scroll&&sr!==sr.root&&transformBox(er,{x:-sr.scroll.offset.x,y:-sr.scroll.offset.y}),ir&&(St.x*=ir.x.scale,St.y*=ir.y.scale,applyBoxDelta(er,ir)),rr&&hasTransform(sr.latestValues)&&transformBox(er,sr.latestValues))}St.x<TREE_SCALE_SNAP_MAX&&St.x>TREE_SCALE_SNAP_MIN&&(St.x=1),St.y<TREE_SCALE_SNAP_MAX&&St.y>TREE_SCALE_SNAP_MIN&&(St.y=1)}function translateAxis(er,St){er.min=er.min+St,er.max=er.max+St}function transformAxis(er,St,tr,rr,nr=.5){const sr=mixNumber$1(er.min,er.max,nr);applyAxisDelta(er,St,tr,sr,rr)}function transformBox(er,St){transformAxis(er.x,St.x,St.scaleX,St.scale,St.originX),transformAxis(er.y,St.y,St.scaleY,St.scale,St.originY)}function measureViewportBox(er,St){return convertBoundingBoxToBox(transformBoxPoints(er.getBoundingClientRect(),St))}function measurePageBox(er,St,tr){const rr=measureViewportBox(er,tr),{scroll:nr}=St;return nr&&(translateAxis(rr.x,nr.offset.x),translateAxis(rr.y,nr.offset.y)),rr}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const er=window.matchMedia("(prefers-reduced-motion)"),St=()=>prefersReducedMotion.current=er.matches;er.addEventListener("change",St),St()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(er,St,tr){for(const rr in St){const nr=St[rr],sr=tr[rr];if(isMotionValue(nr))er.addValue(rr,nr);else if(isMotionValue(sr))er.addValue(rr,motionValue(nr,{owner:er}));else if(sr!==nr)if(er.hasValue(rr)){const ir=er.getValue(rr);ir.liveStyle===!0?ir.jump(nr):ir.hasAnimated||ir.set(nr)}else{const ir=er.getStaticValue(rr);er.addValue(rr,motionValue(ir!==void 0?ir:nr,{owner:er}))}}for(const rr in tr)St[rr]===void 0&&er.removeValue(rr);return St}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(St,tr,rr){return{}}constructor({parent:St,props:tr,presenceContext:rr,reducedMotionConfig:nr,blockInitialAnimation:sr,visualState:ir},ar={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const dr=time$1.now();this.renderScheduledAt<dr&&(this.renderScheduledAt=dr,frame.render(this.render,!1,!0))};const{latestValues:or,renderState:lr}=ir;this.latestValues=or,this.baseTarget={...or},this.initialValues=tr.initial?{...or}:{},this.renderState=lr,this.parent=St,this.props=tr,this.presenceContext=rr,this.depth=St?St.depth+1:0,this.reducedMotionConfig=nr,this.options=ar,this.blockInitialAnimation=!!sr,this.isControllingVariants=isControllingVariants(tr),this.isVariantNode=isVariantNode(tr),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(St&&St.current);const{willChange:cr,...ur}=this.scrapeMotionValuesFromProps(tr,{},this);for(const dr in ur){const hr=ur[dr];or[dr]!==void 0&&isMotionValue(hr)&&hr.set(or[dr])}}mount(St){var tr;this.current=St,visualElementStore.set(St,this),this.projection&&!this.projection.instance&&this.projection.mount(St),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((rr,nr)=>this.bindToMotionValue(nr,rr)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,(tr=this.parent)==null||tr.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var St;this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(tr=>tr()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(St=this.parent)==null||St.removeChild(this);for(const tr in this.events)this.events[tr].clear();for(const tr in this.features){const rr=this.features[tr];rr&&(rr.unmount(),rr.isMounted=!1)}this.current=null}addChild(St){this.children.add(St),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(St)}removeChild(St){this.children.delete(St),this.enteringChildren&&this.enteringChildren.delete(St)}bindToMotionValue(St,tr){this.valueSubscriptions.has(St)&&this.valueSubscriptions.get(St)();const rr=transformProps.has(St);rr&&this.onBindTransform&&this.onBindTransform();const nr=tr.on("change",ir=>{this.latestValues[St]=ir,this.props.onUpdate&&frame.preRender(this.notifyUpdate),rr&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let sr;window.MotionCheckAppearSync&&(sr=window.MotionCheckAppearSync(this,St,tr)),this.valueSubscriptions.set(St,()=>{nr(),sr&&sr(),tr.owner&&tr.stop()})}sortNodePosition(St){return!this.current||!this.sortInstanceNodePosition||this.type!==St.type?0:this.sortInstanceNodePosition(this.current,St.current)}updateFeatures(){let St="animation";for(St in featureDefinitions){const tr=featureDefinitions[St];if(!tr)continue;const{isEnabled:rr,Feature:nr}=tr;if(!this.features[St]&&nr&&rr(this.props)&&(this.features[St]=new nr(this)),this.features[St]){const sr=this.features[St];sr.isMounted?sr.update():(sr.mount(),sr.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(St){return this.latestValues[St]}setStaticValue(St,tr){this.latestValues[St]=tr}update(St,tr){(St.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=St,this.prevPresenceContext=this.presenceContext,this.presenceContext=tr;for(let rr=0;rr<propEventHandlers.length;rr++){const nr=propEventHandlers[rr];this.propEventSubscriptions[nr]&&(this.propEventSubscriptions[nr](),delete this.propEventSubscriptions[nr]);const sr="on"+nr,ir=St[sr];ir&&(this.propEventSubscriptions[nr]=this.on(nr,ir))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(St,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(St){return this.props.variants?this.props.variants[St]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(St){const tr=this.getClosestVariantNode();if(tr)return tr.variantChildren&&tr.variantChildren.add(St),()=>tr.variantChildren.delete(St)}addValue(St,tr){const rr=this.values.get(St);tr!==rr&&(rr&&this.removeValue(St),this.bindToMotionValue(St,tr),this.values.set(St,tr),this.latestValues[St]=tr.get())}removeValue(St){this.values.delete(St);const tr=this.valueSubscriptions.get(St);tr&&(tr(),this.valueSubscriptions.delete(St)),delete this.latestValues[St],this.removeValueFromRenderState(St,this.renderState)}hasValue(St){return this.values.has(St)}getValue(St,tr){if(this.props.values&&this.props.values[St])return this.props.values[St];let rr=this.values.get(St);return rr===void 0&&tr!==void 0&&(rr=motionValue(tr===null?void 0:tr,{owner:this}),this.addValue(St,rr)),rr}readValue(St,tr){let rr=this.latestValues[St]!==void 0||!this.current?this.latestValues[St]:this.getBaseTargetFromProps(this.props,St)??this.readValueFromInstance(this.current,St,this.options);return rr!=null&&(typeof rr=="string"&&(isNumericalString(rr)||isZeroValueString(rr))?rr=parseFloat(rr):!findValueType(rr)&&complex.test(tr)&&(rr=getAnimatableNone(St,tr)),this.setBaseTarget(St,isMotionValue(rr)?rr.get():rr)),isMotionValue(rr)?rr.get():rr}setBaseTarget(St,tr){this.baseTarget[St]=tr}getBaseTarget(St){var sr;const{initial:tr}=this.props;let rr;if(typeof tr=="string"||typeof tr=="object"){const ir=resolveVariantFromProps(this.props,tr,(sr=this.presenceContext)==null?void 0:sr.custom);ir&&(rr=ir[St])}if(tr&&rr!==void 0)return rr;const nr=this.getBaseTargetFromProps(this.props,St);return nr!==void 0&&!isMotionValue(nr)?nr:this.initialValues[St]!==void 0&&rr===void 0?void 0:this.baseTarget[St]}on(St,tr){return this.events[St]||(this.events[St]=new SubscriptionManager),this.events[St].add(tr)}notify(St,...tr){this.events[St]&&this.events[St].notify(...tr)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(St,tr){return St.compareDocumentPosition(tr)&2?1:-1}getBaseTargetFromProps(St,tr){return St.style?St.style[tr]:void 0}removeValueFromRenderState(St,{vars:tr,style:rr}){delete tr[St],delete rr[St]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:St}=this.props;isMotionValue(St)&&(this.childSubscription=St.on("change",tr=>{this.current&&(this.current.textContent=`${tr}`)}))}}function renderHTML(er,{style:St,vars:tr},rr,nr){const sr=er.style;let ir;for(ir in St)sr[ir]=St[ir];nr==null||nr.applyProjectionStyles(sr,rr);for(ir in tr)sr.setProperty(ir,tr[ir])}function getComputedStyle$1(er){return window.getComputedStyle(er)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(St,tr){var rr;if(transformProps.has(tr))return(rr=this.projection)!=null&&rr.isProjecting?defaultTransformValue(tr):readTransformValue(St,tr);{const nr=getComputedStyle$1(St),sr=(isCSSVariableName(tr)?nr.getPropertyValue(tr):nr[tr])||0;return typeof sr=="string"?sr.trim():sr}}measureInstanceViewportBox(St,{transformPagePoint:tr}){return measureViewportBox(St,tr)}build(St,tr,rr){buildHTMLStyles(St,tr,rr.transformTemplate)}scrapeMotionValuesFromProps(St,tr,rr){return scrapeMotionValuesFromProps$1(St,tr,rr)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(er,St,tr,rr){renderHTML(er,St,void 0,rr);for(const nr in St.attrs)er.setAttribute(camelCaseAttributes.has(nr)?nr:camelToDash(nr),St.attrs[nr])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(St,tr){return St[tr]}readValueFromInstance(St,tr){if(transformProps.has(tr)){const rr=getDefaultValueType(tr);return rr&&rr.default||0}return tr=camelCaseAttributes.has(tr)?tr:camelToDash(tr),St.getAttribute(tr)}scrapeMotionValuesFromProps(St,tr,rr){return scrapeMotionValuesFromProps(St,tr,rr)}build(St,tr,rr){buildSVGAttrs(St,tr,this.isSVGTag,rr.transformTemplate,rr.style)}renderInstance(St,tr,rr,nr){renderSVG(St,tr,rr,nr)}mount(St){this.isSVGTag=isSVGTag(St.tagName),super.mount(St)}}const createDomVisualElement=(er,St)=>isSVGComponent(er)?new SVGVisualElement(St):new HTMLVisualElement(St,{allowProjection:er!==reactExports.Fragment});function resolveVariant(er,St,tr){const rr=er.getProps();return resolveVariantFromProps(rr,St,tr!==void 0?tr:rr.custom,er)}const isKeyframesTarget=er=>Array.isArray(er);function setMotionValue(er,St,tr){er.hasValue(St)?er.getValue(St).set(tr):er.addValue(St,motionValue(tr))}function resolveFinalValueInKeyframes(er){return isKeyframesTarget(er)?er[er.length-1]||0:er}function setTarget(er,St){const tr=resolveVariant(er,St);let{transitionEnd:rr={},transition:nr={},...sr}=tr||{};sr={...sr,...rr};for(const ir in sr){const ar=resolveFinalValueInKeyframes(sr[ir]);setMotionValue(er,ir,ar)}}function isWillChangeMotionValue(er){return!!(isMotionValue(er)&&er.add)}function addValueToWillChange(er,St){const tr=er.getValue("willChange");if(isWillChangeMotionValue(tr))return tr.add(St);if(!tr&&MotionGlobalConfig.WillChange){const rr=new MotionGlobalConfig.WillChange("auto");er.addValue("willChange",rr),rr.add(St)}}function getOptimisedAppearId(er){return er.props[optimizedAppearDataAttribute]}const isNotNull=er=>er!==null;function getFinalKeyframe(er,{repeat:St,repeatType:tr="loop"},rr){const nr=er.filter(isNotNull),sr=St&&tr!=="loop"&&St%2===1?0:nr.length-1;return nr[sr]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=er=>({type:"spring",stiffness:550,damping:er===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(er,{keyframes:St})=>St.length>2?keyframesTransition:transformProps.has(er)?er.startsWith("scale")?criticallyDampedSpring(St[1]):underDampedSpring:ease;function isTransitionDefined({when:er,delay:St,delayChildren:tr,staggerChildren:rr,staggerDirection:nr,repeat:sr,repeatType:ir,repeatDelay:ar,from:or,elapsed:lr,...cr}){return!!Object.keys(cr).length}const animateMotionValue=(er,St,tr,rr={},nr,sr)=>ir=>{const ar=getValueTransition(rr,er)||{},or=ar.delay||rr.delay||0;let{elapsed:lr=0}=rr;lr=lr-secondsToMilliseconds(or);const cr={keyframes:Array.isArray(tr)?tr:[null,tr],ease:"easeOut",velocity:St.getVelocity(),...ar,delay:-lr,onUpdate:dr=>{St.set(dr),ar.onUpdate&&ar.onUpdate(dr)},onComplete:()=>{ir(),ar.onComplete&&ar.onComplete()},name:er,motionValue:St,element:sr?void 0:nr};isTransitionDefined(ar)||Object.assign(cr,getDefaultTransition(er,cr)),cr.duration&&(cr.duration=secondsToMilliseconds(cr.duration)),cr.repeatDelay&&(cr.repeatDelay=secondsToMilliseconds(cr.repeatDelay)),cr.from!==void 0&&(cr.keyframes[0]=cr.from);let ur=!1;if((cr.type===!1||cr.duration===0&&!cr.repeatDelay)&&(makeAnimationInstant(cr),cr.delay===0&&(ur=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(ur=!0,makeAnimationInstant(cr),cr.delay=0),cr.allowFlatten=!ar.type&&!ar.ease,ur&&!sr&&St.get()!==void 0){const dr=getFinalKeyframe(cr.keyframes,ar);if(dr!==void 0){frame.update(()=>{cr.onUpdate(dr),cr.onComplete()});return}}return ar.isSync?new JSAnimation(cr):new AsyncMotionValueAnimation(cr)};function shouldBlockAnimation({protectedKeys:er,needsAnimating:St},tr){const rr=er.hasOwnProperty(tr)&&St[tr]!==!0;return St[tr]=!1,rr}function animateTarget(er,St,{delay:tr=0,transitionOverride:rr,type:nr}={}){let{transition:sr=er.getDefaultTransition(),transitionEnd:ir,...ar}=St;rr&&(sr=rr);const or=[],lr=nr&&er.animationState&&er.animationState.getState()[nr];for(const cr in ar){const ur=er.getValue(cr,er.latestValues[cr]??null),dr=ar[cr];if(dr===void 0||lr&&shouldBlockAnimation(lr,cr))continue;const hr={delay:tr,...getValueTransition(sr||{},cr)},Ar=ur.get();if(Ar!==void 0&&!ur.isAnimating&&!Array.isArray(dr)&&dr===Ar&&!hr.velocity)continue;let fr=!1;if(window.MotionHandoffAnimation){const pr=getOptimisedAppearId(er);if(pr){const gr=window.MotionHandoffAnimation(pr,cr,frame);gr!==null&&(hr.startTime=gr,fr=!0)}}addValueToWillChange(er,cr),ur.start(animateMotionValue(cr,ur,dr,er.shouldReduceMotion&&positionalKeys.has(cr)?{type:!1}:hr,er,fr));const mr=ur.animation;mr&&or.push(mr)}return ir&&Promise.all(or).then(()=>{frame.update(()=>{ir&&setTarget(er,ir)})}),or}function calcChildStagger(er,St,tr,rr=0,nr=1){const sr=Array.from(er).sort((lr,cr)=>lr.sortNodePosition(cr)).indexOf(St),ir=er.size,ar=(ir-1)*rr;return typeof tr=="function"?tr(sr,ir):nr===1?sr*rr:ar-sr*rr}function animateVariant(er,St,tr={}){var or;const rr=resolveVariant(er,St,tr.type==="exit"?(or=er.presenceContext)==null?void 0:or.custom:void 0);let{transition:nr=er.getDefaultTransition()||{}}=rr||{};tr.transitionOverride&&(nr=tr.transitionOverride);const sr=rr?()=>Promise.all(animateTarget(er,rr,tr)):()=>Promise.resolve(),ir=er.variantChildren&&er.variantChildren.size?(lr=0)=>{const{delayChildren:cr=0,staggerChildren:ur,staggerDirection:dr}=nr;return animateChildren(er,St,lr,cr,ur,dr,tr)}:()=>Promise.resolve(),{when:ar}=nr;if(ar){const[lr,cr]=ar==="beforeChildren"?[sr,ir]:[ir,sr];return lr().then(()=>cr())}else return Promise.all([sr(),ir(tr.delay)])}function animateChildren(er,St,tr=0,rr=0,nr=0,sr=1,ir){const ar=[];for(const or of er.variantChildren)or.notify("AnimationStart",St),ar.push(animateVariant(or,St,{...ir,delay:tr+(typeof rr=="function"?0:rr)+calcChildStagger(er.variantChildren,or,rr,nr,sr)}).then(()=>or.notify("AnimationComplete",St)));return Promise.all(ar)}function animateVisualElement(er,St,tr={}){er.notify("AnimationStart",St);let rr;if(Array.isArray(St)){const nr=St.map(sr=>animateVariant(er,sr,tr));rr=Promise.all(nr)}else if(typeof St=="string")rr=animateVariant(er,St,tr);else{const nr=typeof St=="function"?resolveVariant(er,St,tr.custom):St;rr=Promise.all(animateTarget(er,nr,tr))}return rr.then(()=>{er.notify("AnimationComplete",St)})}function shallowCompare(er,St){if(!Array.isArray(St))return!1;const tr=St.length;if(tr!==er.length)return!1;for(let rr=0;rr<tr;rr++)if(St[rr]!==er[rr])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(er){if(!er)return;if(!er.isControllingVariants){const tr=er.parent?getVariantContext(er.parent)||{}:{};return er.props.initial!==void 0&&(tr.initial=er.props.initial),tr}const St={};for(let tr=0;tr<numVariantProps;tr++){const rr=variantProps[tr],nr=er.props[rr];(isVariantLabel(nr)||nr===!1)&&(St[rr]=nr)}return St}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(er){return St=>Promise.all(St.map(({animation:tr,options:rr})=>animateVisualElement(er,tr,rr)))}function createAnimationState(er){let St=animateList(er),tr=createState(),rr=!0;const nr=or=>(lr,cr)=>{var dr;const ur=resolveVariant(er,cr,or==="exit"?(dr=er.presenceContext)==null?void 0:dr.custom:void 0);if(ur){const{transition:hr,transitionEnd:Ar,...fr}=ur;lr={...lr,...fr,...Ar}}return lr};function sr(or){St=or(er)}function ir(or){const{props:lr}=er,cr=getVariantContext(er.parent)||{},ur=[],dr=new Set;let hr={},Ar=1/0;for(let mr=0;mr<numAnimationTypes;mr++){const pr=reversePriorityOrder[mr],gr=tr[pr],xr=lr[pr]!==void 0?lr[pr]:cr[pr],yr=isVariantLabel(xr),Er=pr===or?gr.isActive:null;Er===!1&&(Ar=mr);let _r=xr===cr[pr]&&xr!==lr[pr]&&yr;if(_r&&rr&&er.manuallyAnimateOnMount&&(_r=!1),gr.protectedKeys={...hr},!gr.isActive&&Er===null||!xr&&!gr.prevProp||isAnimationControls(xr)||typeof xr=="boolean")continue;const Sr=checkVariantsDidChange(gr.prevProp,xr);let jr=Sr||pr===or&&gr.isActive&&!_r&&yr||mr>Ar&&yr,Pr=!1;const Mr=Array.isArray(xr)?xr:[xr];let Ir=Mr.reduce(nr(pr),{});Er===!1&&(Ir={});const{prevResolvedValues:Lr={}}=gr,Qr={...Lr,...Ir},Yr=Vr=>{jr=!0,dr.has(Vr)&&(Pr=!0,dr.delete(Vr)),gr.needsAnimating[Vr]=!0;const Tr=er.getValue(Vr);Tr&&(Tr.liveStyle=!1)};for(const Vr in Qr){const Tr=Ir[Vr],Fr=Lr[Vr];if(hr.hasOwnProperty(Vr))continue;let Wr=!1;isKeyframesTarget(Tr)&&isKeyframesTarget(Fr)?Wr=!shallowCompare(Tr,Fr):Wr=Tr!==Fr,Wr?Tr!=null?Yr(Vr):dr.add(Vr):Tr!==void 0&&dr.has(Vr)?Yr(Vr):gr.protectedKeys[Vr]=!0}gr.prevProp=xr,gr.prevResolvedValues=Ir,gr.isActive&&(hr={...hr,...Ir}),rr&&er.blockInitialAnimation&&(jr=!1);const Gr=_r&&Sr;jr&&(!Gr||Pr)&&ur.push(...Mr.map(Vr=>{const Tr={type:pr};if(typeof Vr=="string"&&rr&&!Gr&&er.manuallyAnimateOnMount&&er.parent){const{parent:Fr}=er,Wr=resolveVariant(Fr,Vr);if(Fr.enteringChildren&&Wr){const{delayChildren:qr}=Wr.transition||{};Tr.delay=calcChildStagger(Fr.enteringChildren,er,qr)}}return{animation:Vr,options:Tr}}))}if(dr.size){const mr={};if(typeof lr.initial!="boolean"){const pr=resolveVariant(er,Array.isArray(lr.initial)?lr.initial[0]:lr.initial);pr&&pr.transition&&(mr.transition=pr.transition)}dr.forEach(pr=>{const gr=er.getBaseTarget(pr),xr=er.getValue(pr);xr&&(xr.liveStyle=!0),mr[pr]=gr??null}),ur.push({animation:mr})}let fr=!!ur.length;return rr&&(lr.initial===!1||lr.initial===lr.animate)&&!er.manuallyAnimateOnMount&&(fr=!1),rr=!1,fr?St(ur):Promise.resolve()}function ar(or,lr){var ur;if(tr[or].isActive===lr)return Promise.resolve();(ur=er.variantChildren)==null||ur.forEach(dr=>{var hr;return(hr=dr.animationState)==null?void 0:hr.setActive(or,lr)}),tr[or].isActive=lr;const cr=ir(or);for(const dr in tr)tr[dr].protectedKeys={};return cr}return{animateChanges:ir,setActive:ar,setAnimateFunction:sr,getState:()=>tr,reset:()=>{tr=createState(),rr=!0}}}function checkVariantsDidChange(er,St){return typeof St=="string"?St!==er:Array.isArray(St)?!shallowCompare(St,er):!1}function createTypeState(er=!1){return{isActive:er,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(St){this.isMounted=!1,this.node=St}update(){}}class AnimationFeature extends Feature{constructor(St){super(St),St.animationState||(St.animationState=createAnimationState(St))}updateAnimationControlsSubscription(){const{animate:St}=this.node.getProps();isAnimationControls(St)&&(this.unmountControls=St.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:St}=this.node.getProps(),{animate:tr}=this.node.prevProps||{};St!==tr&&this.updateAnimationControlsSubscription()}unmount(){var St;this.node.animationState.reset(),(St=this.unmountControls)==null||St.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:St,onExitComplete:tr}=this.node.presenceContext,{isPresent:rr}=this.node.prevPresenceContext||{};if(!this.node.animationState||St===rr)return;const nr=this.node.animationState.setActive("exit",!St);tr&&!St&&nr.then(()=>{tr(this.id)})}mount(){const{register:St,onExitComplete:tr}=this.node.presenceContext||{};tr&&tr(this.id),St&&(this.unmount=St(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(er,St,tr,rr={passive:!0}){return er.addEventListener(St,tr,rr),()=>er.removeEventListener(St,tr)}function extractEventInfo(er){return{point:{x:er.pageX,y:er.pageY}}}const addPointerInfo=er=>St=>isPrimaryPointer(St)&&er(St,extractEventInfo(St));function addPointerEvent(er,St,tr,rr){return addDomEvent(er,St,addPointerInfo(tr),rr)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(er){return er.max-er.min}function isNear(er,St,tr){return Math.abs(er-St)<=tr}function calcAxisDelta(er,St,tr,rr=.5){er.origin=rr,er.originPoint=mixNumber$1(St.min,St.max,er.origin),er.scale=calcLength(tr)/calcLength(St),er.translate=mixNumber$1(tr.min,tr.max,er.origin)-er.originPoint,(er.scale>=SCALE_MIN&&er.scale<=SCALE_MAX||isNaN(er.scale))&&(er.scale=1),(er.translate>=TRANSLATE_MIN&&er.translate<=TRANSLATE_MAX||isNaN(er.translate))&&(er.translate=0)}function calcBoxDelta(er,St,tr,rr){calcAxisDelta(er.x,St.x,tr.x,rr?rr.originX:void 0),calcAxisDelta(er.y,St.y,tr.y,rr?rr.originY:void 0)}function calcRelativeAxis(er,St,tr){er.min=tr.min+St.min,er.max=er.min+calcLength(St)}function calcRelativeBox(er,St,tr){calcRelativeAxis(er.x,St.x,tr.x),calcRelativeAxis(er.y,St.y,tr.y)}function calcRelativeAxisPosition(er,St,tr){er.min=St.min-tr.min,er.max=er.min+calcLength(St)}function calcRelativePosition(er,St,tr){calcRelativeAxisPosition(er.x,St.x,tr.x),calcRelativeAxisPosition(er.y,St.y,tr.y)}function eachAxis(er){return[er("x"),er("y")]}const getContextWindow=({current:er})=>er?er.ownerDocument.defaultView:null,distance$1=(er,St)=>Math.abs(er-St);function distance2D(er,St){const tr=distance$1(er.x,St.x),rr=distance$1(er.y,St.y);return Math.sqrt(tr**2+rr**2)}class PanSession{constructor(St,tr,{transformPagePoint:rr,contextWindow:nr=window,dragSnapToOrigin:sr=!1,distanceThreshold:ir=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dr=getPanInfo(this.lastMoveEventInfo,this.history),hr=this.startEvent!==null,Ar=distance2D(dr.offset,{x:0,y:0})>=this.distanceThreshold;if(!hr&&!Ar)return;const{point:fr}=dr,{timestamp:mr}=frameData;this.history.push({...fr,timestamp:mr});const{onStart:pr,onMove:gr}=this.handlers;hr||(pr&&pr(this.lastMoveEvent,dr),this.startEvent=this.lastMoveEvent),gr&&gr(this.lastMoveEvent,dr)},this.handlePointerMove=(dr,hr)=>{this.lastMoveEvent=dr,this.lastMoveEventInfo=transformPoint(hr,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(dr,hr)=>{this.end();const{onEnd:Ar,onSessionEnd:fr,resumeAnimation:mr}=this.handlers;if(this.dragSnapToOrigin&&mr&&mr(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const pr=getPanInfo(dr.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(hr,this.transformPagePoint),this.history);this.startEvent&&Ar&&Ar(dr,pr),fr&&fr(dr,pr)},!isPrimaryPointer(St))return;this.dragSnapToOrigin=sr,this.handlers=tr,this.transformPagePoint=rr,this.distanceThreshold=ir,this.contextWindow=nr||window;const ar=extractEventInfo(St),or=transformPoint(ar,this.transformPagePoint),{point:lr}=or,{timestamp:cr}=frameData;this.history=[{...lr,timestamp:cr}];const{onSessionStart:ur}=tr;ur&&ur(St,getPanInfo(or,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(St){this.handlers=St}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(er,St){return St?{point:St(er.point)}:er}function subtractPoint(er,St){return{x:er.x-St.x,y:er.y-St.y}}function getPanInfo({point:er},St){return{point:er,delta:subtractPoint(er,lastDevicePoint(St)),offset:subtractPoint(er,startDevicePoint(St)),velocity:getVelocity(St,.1)}}function startDevicePoint(er){return er[0]}function lastDevicePoint(er){return er[er.length-1]}function getVelocity(er,St){if(er.length<2)return{x:0,y:0};let tr=er.length-1,rr=null;const nr=lastDevicePoint(er);for(;tr>=0&&(rr=er[tr],!(nr.timestamp-rr.timestamp>secondsToMilliseconds(St)));)tr--;if(!rr)return{x:0,y:0};const sr=millisecondsToSeconds(nr.timestamp-rr.timestamp);if(sr===0)return{x:0,y:0};const ir={x:(nr.x-rr.x)/sr,y:(nr.y-rr.y)/sr};return ir.x===1/0&&(ir.x=0),ir.y===1/0&&(ir.y=0),ir}function applyConstraints(er,{min:St,max:tr},rr){return St!==void 0&&er<St?er=rr?mixNumber$1(St,er,rr.min):Math.max(er,St):tr!==void 0&&er>tr&&(er=rr?mixNumber$1(tr,er,rr.max):Math.min(er,tr)),er}function calcRelativeAxisConstraints(er,St,tr){return{min:St!==void 0?er.min+St:void 0,max:tr!==void 0?er.max+tr-(er.max-er.min):void 0}}function calcRelativeConstraints(er,{top:St,left:tr,bottom:rr,right:nr}){return{x:calcRelativeAxisConstraints(er.x,tr,nr),y:calcRelativeAxisConstraints(er.y,St,rr)}}function calcViewportAxisConstraints(er,St){let tr=St.min-er.min,rr=St.max-er.max;return St.max-St.min<er.max-er.min&&([tr,rr]=[rr,tr]),{min:tr,max:rr}}function calcViewportConstraints(er,St){return{x:calcViewportAxisConstraints(er.x,St.x),y:calcViewportAxisConstraints(er.y,St.y)}}function calcOrigin(er,St){let tr=.5;const rr=calcLength(er),nr=calcLength(St);return nr>rr?tr=progress(St.min,St.max-rr,er.min):rr>nr&&(tr=progress(er.min,er.max-nr,St.min)),clamp(0,1,tr)}function rebaseAxisConstraints(er,St){const tr={};return St.min!==void 0&&(tr.min=St.min-er.min),St.max!==void 0&&(tr.max=St.max-er.min),tr}const defaultElastic=.35;function resolveDragElastic(er=defaultElastic){return er===!1?er=0:er===!0&&(er=defaultElastic),{x:resolveAxisElastic(er,"left","right"),y:resolveAxisElastic(er,"top","bottom")}}function resolveAxisElastic(er,St,tr){return{min:resolvePointElastic(er,St),max:resolvePointElastic(er,tr)}}function resolvePointElastic(er,St){return typeof er=="number"?er:er[St]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(St){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=St}start(St,{snapToCursor:tr=!1,distanceThreshold:rr}={}){const{presenceContext:nr}=this.visualElement;if(nr&&nr.isPresent===!1)return;const sr=ur=>{const{dragSnapToOrigin:dr}=this.getProps();dr?this.pauseAnimation():this.stopAnimation(),tr&&this.snapToCursor(extractEventInfo(ur).point)},ir=(ur,dr)=>{const{drag:hr,dragPropagation:Ar,onDragStart:fr}=this.getProps();if(hr&&!Ar&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(hr),!this.openDragLock))return;this.latestPointerEvent=ur,this.latestPanInfo=dr,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(pr=>{let gr=this.getAxisMotionValue(pr).get()||0;if(percent.test(gr)){const{projection:xr}=this.visualElement;if(xr&&xr.layout){const yr=xr.layout.layoutBox[pr];yr&&(gr=calcLength(yr)*(parseFloat(gr)/100))}}this.originPoint[pr]=gr}),fr&&frame.postRender(()=>fr(ur,dr)),addValueToWillChange(this.visualElement,"transform");const{animationState:mr}=this.visualElement;mr&&mr.setActive("whileDrag",!0)},ar=(ur,dr)=>{this.latestPointerEvent=ur,this.latestPanInfo=dr;const{dragPropagation:hr,dragDirectionLock:Ar,onDirectionLock:fr,onDrag:mr}=this.getProps();if(!hr&&!this.openDragLock)return;const{offset:pr}=dr;if(Ar&&this.currentDirection===null){this.currentDirection=getCurrentDirection(pr),this.currentDirection!==null&&fr&&fr(this.currentDirection);return}this.updateAxis("x",dr.point,pr),this.updateAxis("y",dr.point,pr),this.visualElement.render(),mr&&mr(ur,dr)},or=(ur,dr)=>{this.latestPointerEvent=ur,this.latestPanInfo=dr,this.stop(ur,dr),this.latestPointerEvent=null,this.latestPanInfo=null},lr=()=>eachAxis(ur=>{var dr;return this.getAnimationState(ur)==="paused"&&((dr=this.getAxisMotionValue(ur).animation)==null?void 0:dr.play())}),{dragSnapToOrigin:cr}=this.getProps();this.panSession=new PanSession(St,{onSessionStart:sr,onStart:ir,onMove:ar,onSessionEnd:or,resumeAnimation:lr},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:cr,distanceThreshold:rr,contextWindow:getContextWindow(this.visualElement)})}stop(St,tr){const rr=St||this.latestPointerEvent,nr=tr||this.latestPanInfo,sr=this.isDragging;if(this.cancel(),!sr||!nr||!rr)return;const{velocity:ir}=nr;this.startAnimation(ir);const{onDragEnd:ar}=this.getProps();ar&&frame.postRender(()=>ar(rr,nr))}cancel(){this.isDragging=!1;const{projection:St,animationState:tr}=this.visualElement;St&&(St.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rr}=this.getProps();!rr&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),tr&&tr.setActive("whileDrag",!1)}updateAxis(St,tr,rr){const{drag:nr}=this.getProps();if(!rr||!shouldDrag(St,nr,this.currentDirection))return;const sr=this.getAxisMotionValue(St);let ir=this.originPoint[St]+rr[St];this.constraints&&this.constraints[St]&&(ir=applyConstraints(ir,this.constraints[St],this.elastic[St])),sr.set(ir)}resolveConstraints(){var sr;const{dragConstraints:St,dragElastic:tr}=this.getProps(),rr=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(sr=this.visualElement.projection)==null?void 0:sr.layout,nr=this.constraints;St&&isRefObject(St)?this.constraints||(this.constraints=this.resolveRefConstraints()):St&&rr?this.constraints=calcRelativeConstraints(rr.layoutBox,St):this.constraints=!1,this.elastic=resolveDragElastic(tr),nr!==this.constraints&&rr&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(ir=>{this.constraints!==!1&&this.getAxisMotionValue(ir)&&(this.constraints[ir]=rebaseAxisConstraints(rr.layoutBox[ir],this.constraints[ir]))})}resolveRefConstraints(){const{dragConstraints:St,onMeasureDragConstraints:tr}=this.getProps();if(!St||!isRefObject(St))return!1;const rr=St.current,{projection:nr}=this.visualElement;if(!nr||!nr.layout)return!1;const sr=measurePageBox(rr,nr.root,this.visualElement.getTransformPagePoint());let ir=calcViewportConstraints(nr.layout.layoutBox,sr);if(tr){const ar=tr(convertBoxToBoundingBox(ir));this.hasMutatedConstraints=!!ar,ar&&(ir=convertBoundingBoxToBox(ar))}return ir}startAnimation(St){const{drag:tr,dragMomentum:rr,dragElastic:nr,dragTransition:sr,dragSnapToOrigin:ir,onDragTransitionEnd:ar}=this.getProps(),or=this.constraints||{},lr=eachAxis(cr=>{if(!shouldDrag(cr,tr,this.currentDirection))return;let ur=or&&or[cr]||{};ir&&(ur={min:0,max:0});const dr=nr?200:1e6,hr=nr?40:1e7,Ar={type:"inertia",velocity:rr?St[cr]:0,bounceStiffness:dr,bounceDamping:hr,timeConstant:750,restDelta:1,restSpeed:10,...sr,...ur};return this.startAxisValueAnimation(cr,Ar)});return Promise.all(lr).then(ar)}startAxisValueAnimation(St,tr){const rr=this.getAxisMotionValue(St);return addValueToWillChange(this.visualElement,St),rr.start(animateMotionValue(St,rr,0,tr,this.visualElement,!1))}stopAnimation(){eachAxis(St=>this.getAxisMotionValue(St).stop())}pauseAnimation(){eachAxis(St=>{var tr;return(tr=this.getAxisMotionValue(St).animation)==null?void 0:tr.pause()})}getAnimationState(St){var tr;return(tr=this.getAxisMotionValue(St).animation)==null?void 0:tr.state}getAxisMotionValue(St){const tr=`_drag${St.toUpperCase()}`,rr=this.visualElement.getProps(),nr=rr[tr];return nr||this.visualElement.getValue(St,(rr.initial?rr.initial[St]:void 0)||0)}snapToCursor(St){eachAxis(tr=>{const{drag:rr}=this.getProps();if(!shouldDrag(tr,rr,this.currentDirection))return;const{projection:nr}=this.visualElement,sr=this.getAxisMotionValue(tr);if(nr&&nr.layout){const{min:ir,max:ar}=nr.layout.layoutBox[tr];sr.set(St[tr]-mixNumber$1(ir,ar,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:St,dragConstraints:tr}=this.getProps(),{projection:rr}=this.visualElement;if(!isRefObject(tr)||!rr||!this.constraints)return;this.stopAnimation();const nr={x:0,y:0};eachAxis(ir=>{const ar=this.getAxisMotionValue(ir);if(ar&&this.constraints!==!1){const or=ar.get();nr[ir]=calcOrigin({min:or,max:or},this.constraints[ir])}});const{transformTemplate:sr}=this.visualElement.getProps();this.visualElement.current.style.transform=sr?sr({},""):"none",rr.root&&rr.root.updateScroll(),rr.updateLayout(),this.resolveConstraints(),eachAxis(ir=>{if(!shouldDrag(ir,St,null))return;const ar=this.getAxisMotionValue(ir),{min:or,max:lr}=this.constraints[ir];ar.set(mixNumber$1(or,lr,nr[ir]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const St=this.visualElement.current,tr=addPointerEvent(St,"pointerdown",or=>{const{drag:lr,dragListener:cr=!0}=this.getProps();lr&&cr&&this.start(or)}),rr=()=>{const{dragConstraints:or}=this.getProps();isRefObject(or)&&or.current&&(this.constraints=this.resolveRefConstraints())},{projection:nr}=this.visualElement,sr=nr.addEventListener("measure",rr);nr&&!nr.layout&&(nr.root&&nr.root.updateScroll(),nr.updateLayout()),frame.read(rr);const ir=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ar=nr.addEventListener("didUpdate",({delta:or,hasLayoutChanged:lr})=>{this.isDragging&&lr&&(eachAxis(cr=>{const ur=this.getAxisMotionValue(cr);ur&&(this.originPoint[cr]+=or[cr].translate,ur.set(ur.get()+or[cr].translate))}),this.visualElement.render())});return()=>{ir(),tr(),sr(),ar&&ar()}}getProps(){const St=this.visualElement.getProps(),{drag:tr=!1,dragDirectionLock:rr=!1,dragPropagation:nr=!1,dragConstraints:sr=!1,dragElastic:ir=defaultElastic,dragMomentum:ar=!0}=St;return{...St,drag:tr,dragDirectionLock:rr,dragPropagation:nr,dragConstraints:sr,dragElastic:ir,dragMomentum:ar}}}function shouldDrag(er,St,tr){return(St===!0||St===er)&&(tr===null||tr===er)}function getCurrentDirection(er,St=10){let tr=null;return Math.abs(er.y)>St?tr="y":Math.abs(er.x)>St&&(tr="x"),tr}class DragGesture extends Feature{constructor(St){super(St),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(St)}mount(){const{dragControls:St}=this.node.getProps();St&&(this.removeGroupControls=St.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=er=>(St,tr)=>{er&&frame.postRender(()=>er(St,tr))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(St){this.session=new PanSession(St,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:St,onPanStart:tr,onPan:rr,onPanEnd:nr}=this.node.getProps();return{onSessionStart:asyncHandler(St),onStart:asyncHandler(tr),onMove:rr,onEnd:(sr,ir)=>{delete this.session,nr&&frame.postRender(()=>nr(sr,ir))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",St=>this.onPointerDown(St))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(er,St){return St.max===St.min?0:er/(St.max-St.min)*100}const correctBorderRadius={correct:(er,St)=>{if(!St.target)return er;if(typeof er=="string")if(px.test(er))er=parseFloat(er);else return er;const tr=pixelsToPercent(er,St.target.x),rr=pixelsToPercent(er,St.target.y);return`${tr}% ${rr}%`}},correctBoxShadow={correct:(er,{treeScale:St,projectionDelta:tr})=>{const rr=er,nr=complex.parse(er);if(nr.length>5)return rr;const sr=complex.createTransformer(er),ir=typeof nr[0]!="number"?1:0,ar=tr.x.scale*St.x,or=tr.y.scale*St.y;nr[0+ir]/=ar,nr[1+ir]/=or;const lr=mixNumber$1(ar,or,.5);return typeof nr[2+ir]=="number"&&(nr[2+ir]/=lr),typeof nr[3+ir]=="number"&&(nr[3+ir]/=lr),sr(nr)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:St,layoutGroup:tr,switchLayoutGroup:rr,layoutId:nr}=this.props,{projection:sr}=St;addScaleCorrector(defaultScaleCorrectors),sr&&(tr.group&&tr.group.add(sr),rr&&rr.register&&nr&&rr.register(sr),hasTakenAnySnapshot&&sr.root.didUpdate(),sr.addEventListener("animationComplete",()=>{this.safeToRemove()}),sr.setOptions({...sr.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(St){const{layoutDependency:tr,visualElement:rr,drag:nr,isPresent:sr}=this.props,{projection:ir}=rr;return ir&&(ir.isPresent=sr,hasTakenAnySnapshot=!0,nr||St.layoutDependency!==tr||tr===void 0||St.isPresent!==sr?ir.willUpdate():this.safeToRemove(),St.isPresent!==sr&&(sr?ir.promote():ir.relegate()||frame.postRender(()=>{const ar=ir.getStack();(!ar||!ar.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:St}=this.props.visualElement;St&&(St.root.didUpdate(),microtask.postRender(()=>{!St.currentAnimation&&St.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:St,layoutGroup:tr,switchLayoutGroup:rr}=this.props,{projection:nr}=St;hasTakenAnySnapshot=!0,nr&&(nr.scheduleCheckAfterUnmount(),tr&&tr.group&&tr.group.remove(nr),rr&&rr.deregister&&rr.deregister(nr))}safeToRemove(){const{safeToRemove:St}=this.props;St&&St()}render(){return null}}function MeasureLayout(er){const[St,tr]=usePresence$1(),rr=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...er,layoutGroup:rr,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:St,safeToRemove:tr})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(er,St,tr){const rr=isMotionValue(er)?er:motionValue(er);return rr.start(animateMotionValue("",rr,St,tr)),rr.animation}const compareByDepth=(er,St)=>er.depth-St.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(St){addUniqueItem(this.children,St),this.isDirty=!0}remove(St){removeItem(this.children,St),this.isDirty=!0}forEach(St){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(St)}}function delay(er,St){const tr=time$1.now(),rr=({timestamp:nr})=>{const sr=nr-tr;sr>=St&&(cancelFrame(rr),er(sr-St))};return frame.setup(rr,!0),()=>cancelFrame(rr)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=er=>typeof er=="string"?parseFloat(er):er,isPx=er=>typeof er=="number"||px.test(er);function mixValues(er,St,tr,rr,nr,sr){nr?(er.opacity=mixNumber$1(0,tr.opacity??1,easeCrossfadeIn(rr)),er.opacityExit=mixNumber$1(St.opacity??1,0,easeCrossfadeOut(rr))):sr&&(er.opacity=mixNumber$1(St.opacity??1,tr.opacity??1,rr));for(let ir=0;ir<numBorders;ir++){const ar=`border${borders[ir]}Radius`;let or=getRadius(St,ar),lr=getRadius(tr,ar);if(or===void 0&&lr===void 0)continue;or||(or=0),lr||(lr=0),or===0||lr===0||isPx(or)===isPx(lr)?(er[ar]=Math.max(mixNumber$1(asNumber(or),asNumber(lr),rr),0),(percent.test(lr)||percent.test(or))&&(er[ar]+="%")):er[ar]=lr}(St.rotate||tr.rotate)&&(er.rotate=mixNumber$1(St.rotate||0,tr.rotate||0,rr))}function getRadius(er,St){return er[St]!==void 0?er[St]:er.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(er,St,tr){return rr=>rr<er?0:rr>St?1:tr(progress(er,St,rr))}function copyAxisInto(er,St){er.min=St.min,er.max=St.max}function copyBoxInto(er,St){copyAxisInto(er.x,St.x),copyAxisInto(er.y,St.y)}function copyAxisDeltaInto(er,St){er.translate=St.translate,er.scale=St.scale,er.originPoint=St.originPoint,er.origin=St.origin}function removePointDelta(er,St,tr,rr,nr){return er-=St,er=scalePoint(er,1/tr,rr),nr!==void 0&&(er=scalePoint(er,1/nr,rr)),er}function removeAxisDelta(er,St=0,tr=1,rr=.5,nr,sr=er,ir=er){if(percent.test(St)&&(St=parseFloat(St),St=mixNumber$1(ir.min,ir.max,St/100)-ir.min),typeof St!="number")return;let ar=mixNumber$1(sr.min,sr.max,rr);er===sr&&(ar-=St),er.min=removePointDelta(er.min,St,tr,ar,nr),er.max=removePointDelta(er.max,St,tr,ar,nr)}function removeAxisTransforms(er,St,[tr,rr,nr],sr,ir){removeAxisDelta(er,St[tr],St[rr],St[nr],St.scale,sr,ir)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(er,St,tr,rr){removeAxisTransforms(er.x,St,xKeys,tr?tr.x:void 0,rr?rr.x:void 0),removeAxisTransforms(er.y,St,yKeys,tr?tr.y:void 0,rr?rr.y:void 0)}function isAxisDeltaZero(er){return er.translate===0&&er.scale===1}function isDeltaZero(er){return isAxisDeltaZero(er.x)&&isAxisDeltaZero(er.y)}function axisEquals(er,St){return er.min===St.min&&er.max===St.max}function boxEquals(er,St){return axisEquals(er.x,St.x)&&axisEquals(er.y,St.y)}function axisEqualsRounded(er,St){return Math.round(er.min)===Math.round(St.min)&&Math.round(er.max)===Math.round(St.max)}function boxEqualsRounded(er,St){return axisEqualsRounded(er.x,St.x)&&axisEqualsRounded(er.y,St.y)}function aspectRatio(er){return calcLength(er.x)/calcLength(er.y)}function axisDeltaEquals(er,St){return er.translate===St.translate&&er.scale===St.scale&&er.originPoint===St.originPoint}class NodeStack{constructor(){this.members=[]}add(St){addUniqueItem(this.members,St),St.scheduleRender()}remove(St){if(removeItem(this.members,St),St===this.prevLead&&(this.prevLead=void 0),St===this.lead){const tr=this.members[this.members.length-1];tr&&this.promote(tr)}}relegate(St){const tr=this.members.findIndex(nr=>St===nr);if(tr===0)return!1;let rr;for(let nr=tr;nr>=0;nr--){const sr=this.members[nr];if(sr.isPresent!==!1){rr=sr;break}}return rr?(this.promote(rr),!0):!1}promote(St,tr){const rr=this.lead;if(St!==rr&&(this.prevLead=rr,this.lead=St,St.show(),rr)){rr.instance&&rr.scheduleRender(),St.scheduleRender(),St.resumeFrom=rr,tr&&(St.resumeFrom.preserveOpacity=!0),rr.snapshot&&(St.snapshot=rr.snapshot,St.snapshot.latestValues=rr.animationValues||rr.latestValues),St.root&&St.root.isUpdating&&(St.isLayoutDirty=!0);const{crossfade:nr}=St.options;nr===!1&&rr.hide()}}exitAnimationComplete(){this.members.forEach(St=>{const{options:tr,resumingFrom:rr}=St;tr.onExitComplete&&tr.onExitComplete(),rr&&rr.options.onExitComplete&&rr.options.onExitComplete()})}scheduleRender(){this.members.forEach(St=>{St.instance&&St.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(er,St,tr){let rr="";const nr=er.x.translate/St.x,sr=er.y.translate/St.y,ir=(tr==null?void 0:tr.z)||0;if((nr||sr||ir)&&(rr=`translate3d(${nr}px, ${sr}px, ${ir}px) `),(St.x!==1||St.y!==1)&&(rr+=`scale(${1/St.x}, ${1/St.y}) `),tr){const{transformPerspective:lr,rotate:cr,rotateX:ur,rotateY:dr,skewX:hr,skewY:Ar}=tr;lr&&(rr=`perspective(${lr}px) ${rr}`),cr&&(rr+=`rotate(${cr}deg) `),ur&&(rr+=`rotateX(${ur}deg) `),dr&&(rr+=`rotateY(${dr}deg) `),hr&&(rr+=`skewX(${hr}deg) `),Ar&&(rr+=`skewY(${Ar}deg) `)}const ar=er.x.scale*St.x,or=er.y.scale*St.y;return(ar!==1||or!==1)&&(rr+=`scale(${ar}, ${or})`),rr||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(er,St,tr,rr){const{latestValues:nr}=St;nr[er]&&(tr[er]=nr[er],St.setStaticValue(er,0),rr&&(rr[er]=0))}function cancelTreeOptimisedTransformAnimations(er){if(er.hasCheckedOptimisedAppear=!0,er.root===er)return;const{visualElement:St}=er.options;if(!St)return;const tr=getOptimisedAppearId(St);if(window.MotionHasOptimisedAnimation(tr,"transform")){const{layout:nr,layoutId:sr}=er.options;window.MotionCancelOptimisedAnimation(tr,"transform",frame,!(nr||sr))}const{parent:rr}=er;rr&&!rr.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(rr)}function createProjectionNode({attachResizeListener:er,defaultParent:St,measureScroll:tr,checkIsScrollRoot:rr,resetTransform:nr}){return class{constructor(ir={},ar=St==null?void 0:St()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ir,this.root=ar?ar.root||ar:this,this.path=ar?[...ar.path,ar]:[],this.parent=ar,this.depth=ar?ar.depth+1:0;for(let or=0;or<this.path.length;or++)this.path[or].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ir,ar){return this.eventHandlers.has(ir)||this.eventHandlers.set(ir,new SubscriptionManager),this.eventHandlers.get(ir).add(ar)}notifyListeners(ir,...ar){const or=this.eventHandlers.get(ir);or&&or.notify(...ar)}hasListeners(ir){return this.eventHandlers.has(ir)}mount(ir){if(this.instance)return;this.isSVG=isSVGElement$1(ir)&&!isSVGSVGElement(ir),this.instance=ir;const{layoutId:ar,layout:or,visualElement:lr}=this.options;if(lr&&!lr.current&&lr.mount(ir),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(or||ar)&&(this.isLayoutDirty=!0),er){let cr,ur=0;const dr=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{ur=window.innerWidth}),er(ir,()=>{const hr=window.innerWidth;hr!==ur&&(ur=hr,this.root.updateBlockedByResize=!0,cr&&cr(),cr=delay(dr,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}ar&&this.root.registerSharedNode(ar,this),this.options.animate!==!1&&lr&&(ar||or)&&this.addEventListener("didUpdate",({delta:cr,hasLayoutChanged:ur,hasRelativeLayoutChanged:dr,layout:hr})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ar=this.options.transition||lr.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:fr,onLayoutAnimationComplete:mr}=lr.getProps(),pr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,hr),gr=!ur&&dr;if(this.options.layoutRoot||this.resumeFrom||gr||ur&&(pr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const xr={...getValueTransition(Ar,"layout"),onPlay:fr,onComplete:mr};(lr.shouldReduceMotion||this.options.layoutRoot)&&(xr.delay=0,xr.type=!1),this.startAnimation(xr),this.setAnimationOrigin(cr,gr)}else ur||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=hr})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ir=this.getStack();ir&&ir.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ir}=this.options;return ir&&ir.getProps().transformTemplate}willUpdate(ir=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let cr=0;cr<this.path.length;cr++){const ur=this.path[cr];ur.shouldResetTransform=!0,ur.updateScroll("snapshot"),ur.options.layoutRoot&&ur.willUpdate(!1)}const{layoutId:ar,layout:or}=this.options;if(ar===void 0&&!or)return;const lr=this.getTransformTemplate();this.prevTransformTemplateValue=lr?lr(this.latestValues,""):void 0,this.updateSnapshot(),ir&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const ar=time$1.now();frameData.delta=clamp(0,1e3/60,ar-frameData.timestamp),frameData.timestamp=ar,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let or=0;or<this.path.length;or++)this.path[or].updateScroll();const ir=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ar}=this.options;ar&&ar.notify("LayoutMeasure",this.layout.layoutBox,ir?ir.layoutBox:void 0)}updateScroll(ir="measure"){let ar=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ir&&(ar=!1),ar&&this.instance){const or=rr(this.instance);this.scroll={animationId:this.root.animationId,phase:ir,isRoot:or,offset:tr(this.instance),wasRoot:this.scroll?this.scroll.isRoot:or}}}resetTransform(){if(!nr)return;const ir=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ar=this.projectionDelta&&!isDeltaZero(this.projectionDelta),or=this.getTransformTemplate(),lr=or?or(this.latestValues,""):void 0,cr=lr!==this.prevTransformTemplateValue;ir&&this.instance&&(ar||hasTransform(this.latestValues)||cr)&&(nr(this.instance,lr),this.shouldResetTransform=!1,this.scheduleRender())}measure(ir=!0){const ar=this.measurePageBox();let or=this.removeElementScroll(ar);return ir&&(or=this.removeTransform(or)),roundBox(or),{animationId:this.root.animationId,measuredBox:ar,layoutBox:or,latestValues:{},source:this.id}}measurePageBox(){var lr;const{visualElement:ir}=this.options;if(!ir)return createBox();const ar=ir.measureViewportBox();if(!(((lr=this.scroll)==null?void 0:lr.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:cr}=this.root;cr&&(translateAxis(ar.x,cr.offset.x),translateAxis(ar.y,cr.offset.y))}return ar}removeElementScroll(ir){var or;const ar=createBox();if(copyBoxInto(ar,ir),(or=this.scroll)!=null&&or.wasRoot)return ar;for(let lr=0;lr<this.path.length;lr++){const cr=this.path[lr],{scroll:ur,options:dr}=cr;cr!==this.root&&ur&&dr.layoutScroll&&(ur.wasRoot&&copyBoxInto(ar,ir),translateAxis(ar.x,ur.offset.x),translateAxis(ar.y,ur.offset.y))}return ar}applyTransform(ir,ar=!1){const or=createBox();copyBoxInto(or,ir);for(let lr=0;lr<this.path.length;lr++){const cr=this.path[lr];!ar&&cr.options.layoutScroll&&cr.scroll&&cr!==cr.root&&transformBox(or,{x:-cr.scroll.offset.x,y:-cr.scroll.offset.y}),hasTransform(cr.latestValues)&&transformBox(or,cr.latestValues)}return hasTransform(this.latestValues)&&transformBox(or,this.latestValues),or}removeTransform(ir){const ar=createBox();copyBoxInto(ar,ir);for(let or=0;or<this.path.length;or++){const lr=this.path[or];if(!lr.instance||!hasTransform(lr.latestValues))continue;hasScale(lr.latestValues)&&lr.updateSnapshot();const cr=createBox(),ur=lr.measurePageBox();copyBoxInto(cr,ur),removeBoxTransforms(ar,lr.latestValues,lr.snapshot?lr.snapshot.layoutBox:void 0,cr)}return hasTransform(this.latestValues)&&removeBoxTransforms(ar,this.latestValues),ar}setTargetDelta(ir){this.targetDelta=ir,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ir){this.options={...this.options,...ir,crossfade:ir.crossfade!==void 0?ir.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ir=!1){var dr;const ar=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ar.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ar.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ar.isSharedProjectionDirty);const or=!!this.resumingFrom||this!==ar;if(!(ir||or&&this.isSharedProjectionDirty||this.isProjectionDirty||(dr=this.parent)!=null&&dr.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:cr,layoutId:ur}=this.options;if(!(!this.layout||!(cr||ur))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const hr=this.getClosestProjectingParent();hr&&hr.layout&&this.animationProgress!==1?(this.relativeParent=hr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,hr.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const hr=this.getClosestProjectingParent();hr&&!!hr.resumingFrom==!!this.resumingFrom&&!hr.options.layoutScroll&&hr.target&&this.animationProgress!==1?(this.relativeParent=hr,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,hr.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ar;const ir=this.getLead(),ar=!!this.resumingFrom||this!==ir;let or=!0;if((this.isProjectionDirty||(Ar=this.parent)!=null&&Ar.isProjectionDirty)&&(or=!1),ar&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(or=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(or=!1),or)return;const{layout:lr,layoutId:cr}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(lr||cr))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ur=this.treeScale.x,dr=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ar),ir.layout&&!ir.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ir.target=ir.layout.layoutBox,ir.targetWithTransforms=createBox());const{target:hr}=ir;if(!hr){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,hr,this.latestValues),(this.treeScale.x!==ur||this.treeScale.y!==dr||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",hr))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ir=!0){var ar;if((ar=this.options.visualElement)==null||ar.scheduleRender(),ir){const or=this.getStack();or&&or.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(ir,ar=!1){const or=this.snapshot,lr=or?or.latestValues:{},cr={...this.latestValues},ur=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ar;const dr=createBox(),hr=or?or.source:void 0,Ar=this.layout?this.layout.source:void 0,fr=hr!==Ar,mr=this.getStack(),pr=!mr||mr.members.length<=1,gr=!!(fr&&!pr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let xr;this.mixTargetDelta=yr=>{const Er=yr/1e3;mixAxisDelta(ur.x,ir.x,Er),mixAxisDelta(ur.y,ir.y,Er),this.setTargetDelta(ur),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(dr,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,dr,Er),xr&&boxEquals(this.relativeTarget,xr)&&(this.isProjectionDirty=!1),xr||(xr=createBox()),copyBoxInto(xr,this.relativeTarget)),fr&&(this.animationValues=cr,mixValues(cr,lr,this.latestValues,Er,gr,pr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Er},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ir){var ar,or,lr;this.notifyListeners("animationStart"),(ar=this.currentAnimation)==null||ar.stop(),(lr=(or=this.resumingFrom)==null?void 0:or.currentAnimation)==null||lr.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...ir,velocity:0,isSync:!0,onUpdate:cr=>{this.mixTargetDelta(cr),ir.onUpdate&&ir.onUpdate(cr)},onStop:()=>{},onComplete:()=>{ir.onComplete&&ir.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ir=this.getStack();ir&&ir.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ir=this.getLead();let{targetWithTransforms:ar,target:or,layout:lr,latestValues:cr}=ir;if(!(!ar||!or||!lr)){if(this!==ir&&this.layout&&lr&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,lr.layoutBox)){or=this.target||createBox();const ur=calcLength(this.layout.layoutBox.x);or.x.min=ir.target.x.min,or.x.max=or.x.min+ur;const dr=calcLength(this.layout.layoutBox.y);or.y.min=ir.target.y.min,or.y.max=or.y.min+dr}copyBoxInto(ar,or),transformBox(ar,cr),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ar,cr)}}registerSharedNode(ir,ar){this.sharedNodes.has(ir)||this.sharedNodes.set(ir,new NodeStack),this.sharedNodes.get(ir).add(ar);const lr=ar.options.initialPromotionConfig;ar.promote({transition:lr?lr.transition:void 0,preserveFollowOpacity:lr&&lr.shouldPreserveFollowOpacity?lr.shouldPreserveFollowOpacity(ar):void 0})}isLead(){const ir=this.getStack();return ir?ir.lead===this:!0}getLead(){var ar;const{layoutId:ir}=this.options;return ir?((ar=this.getStack())==null?void 0:ar.lead)||this:this}getPrevLead(){var ar;const{layoutId:ir}=this.options;return ir?(ar=this.getStack())==null?void 0:ar.prevLead:void 0}getStack(){const{layoutId:ir}=this.options;if(ir)return this.root.sharedNodes.get(ir)}promote({needsReset:ir,transition:ar,preserveFollowOpacity:or}={}){const lr=this.getStack();lr&&lr.promote(this,or),ir&&(this.projectionDelta=void 0,this.needsReset=!0),ar&&this.setOptions({transition:ar})}relegate(){const ir=this.getStack();return ir?ir.relegate(this):!1}resetSkewAndRotation(){const{visualElement:ir}=this.options;if(!ir)return;let ar=!1;const{latestValues:or}=ir;if((or.z||or.rotate||or.rotateX||or.rotateY||or.rotateZ||or.skewX||or.skewY)&&(ar=!0),!ar)return;const lr={};or.z&&resetDistortingTransform("z",ir,lr,this.animationValues);for(let cr=0;cr<transformAxes.length;cr++)resetDistortingTransform(`rotate${transformAxes[cr]}`,ir,lr,this.animationValues),resetDistortingTransform(`skew${transformAxes[cr]}`,ir,lr,this.animationValues);ir.render();for(const cr in lr)ir.setStaticValue(cr,lr[cr]),this.animationValues&&(this.animationValues[cr]=lr[cr]);ir.scheduleRender()}applyProjectionStyles(ir,ar){if(!this.instance||this.isSVG)return;if(!this.isVisible){ir.visibility="hidden";return}const or=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,ir.visibility="",ir.opacity="",ir.pointerEvents=resolveMotionValue(ar==null?void 0:ar.pointerEvents)||"",ir.transform=or?or(this.latestValues,""):"none";return}const lr=this.getLead();if(!this.projectionDelta||!this.layout||!lr.target){this.options.layoutId&&(ir.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ir.pointerEvents=resolveMotionValue(ar==null?void 0:ar.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ir.transform=or?or({},""):"none",this.hasProjected=!1);return}ir.visibility="";const cr=lr.animationValues||lr.latestValues;this.applyTransformsToTarget();let ur=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,cr);or&&(ur=or(cr,ur)),ir.transform=ur;const{x:dr,y:hr}=this.projectionDelta;ir.transformOrigin=`${dr.origin*100}% ${hr.origin*100}% 0`,lr.animationValues?ir.opacity=lr===this?cr.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:cr.opacityExit:ir.opacity=lr===this?cr.opacity!==void 0?cr.opacity:"":cr.opacityExit!==void 0?cr.opacityExit:0;for(const Ar in scaleCorrectors){if(cr[Ar]===void 0)continue;const{correct:fr,applyTo:mr,isCSSVariable:pr}=scaleCorrectors[Ar],gr=ur==="none"?cr[Ar]:fr(cr[Ar],lr);if(mr){const xr=mr.length;for(let yr=0;yr<xr;yr++)ir[mr[yr]]=gr}else pr?this.options.visualElement.renderState.vars[Ar]=gr:ir[Ar]=gr}this.options.layoutId&&(ir.pointerEvents=lr===this?resolveMotionValue(ar==null?void 0:ar.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ir=>{var ar;return(ar=ir.currentAnimation)==null?void 0:ar.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(er){er.updateLayout()}function notifyLayoutUpdate(er){var tr;const St=((tr=er.resumeFrom)==null?void 0:tr.snapshot)||er.snapshot;if(er.isLead()&&er.layout&&St&&er.hasListeners("didUpdate")){const{layoutBox:rr,measuredBox:nr}=er.layout,{animationType:sr}=er.options,ir=St.source!==er.layout.source;sr==="size"?eachAxis(ur=>{const dr=ir?St.measuredBox[ur]:St.layoutBox[ur],hr=calcLength(dr);dr.min=rr[ur].min,dr.max=dr.min+hr}):shouldAnimatePositionOnly(sr,St.layoutBox,rr)&&eachAxis(ur=>{const dr=ir?St.measuredBox[ur]:St.layoutBox[ur],hr=calcLength(rr[ur]);dr.max=dr.min+hr,er.relativeTarget&&!er.currentAnimation&&(er.isProjectionDirty=!0,er.relativeTarget[ur].max=er.relativeTarget[ur].min+hr)});const ar=createDelta();calcBoxDelta(ar,rr,St.layoutBox);const or=createDelta();ir?calcBoxDelta(or,er.applyTransform(nr,!0),St.measuredBox):calcBoxDelta(or,rr,St.layoutBox);const lr=!isDeltaZero(ar);let cr=!1;if(!er.resumeFrom){const ur=er.getClosestProjectingParent();if(ur&&!ur.resumeFrom){const{snapshot:dr,layout:hr}=ur;if(dr&&hr){const Ar=createBox();calcRelativePosition(Ar,St.layoutBox,dr.layoutBox);const fr=createBox();calcRelativePosition(fr,rr,hr.layoutBox),boxEqualsRounded(Ar,fr)||(cr=!0),ur.options.layoutRoot&&(er.relativeTarget=fr,er.relativeTargetOrigin=Ar,er.relativeParent=ur)}}}er.notifyListeners("didUpdate",{layout:rr,snapshot:St,delta:or,layoutDelta:ar,hasLayoutChanged:lr,hasRelativeLayoutChanged:cr})}else if(er.isLead()){const{onExitComplete:rr}=er.options;rr&&rr()}er.options.transition=void 0}function propagateDirtyNodes(er){er.parent&&(er.isProjecting()||(er.isProjectionDirty=er.parent.isProjectionDirty),er.isSharedProjectionDirty||(er.isSharedProjectionDirty=!!(er.isProjectionDirty||er.parent.isProjectionDirty||er.parent.isSharedProjectionDirty)),er.isTransformDirty||(er.isTransformDirty=er.parent.isTransformDirty))}function cleanDirtyNodes(er){er.isProjectionDirty=er.isSharedProjectionDirty=er.isTransformDirty=!1}function clearSnapshot(er){er.clearSnapshot()}function clearMeasurements(er){er.clearMeasurements()}function clearIsLayoutDirty(er){er.isLayoutDirty=!1}function resetTransformStyle(er){const{visualElement:St}=er.options;St&&St.getProps().onBeforeLayoutMeasure&&St.notify("BeforeLayoutMeasure"),er.resetTransform()}function finishAnimation(er){er.finishAnimation(),er.targetDelta=er.relativeTarget=er.target=void 0,er.isProjectionDirty=!0}function resolveTargetDelta(er){er.resolveTargetDelta()}function calcProjection(er){er.calcProjection()}function resetSkewAndRotation(er){er.resetSkewAndRotation()}function removeLeadSnapshots(er){er.removeLeadSnapshot()}function mixAxisDelta(er,St,tr){er.translate=mixNumber$1(St.translate,0,tr),er.scale=mixNumber$1(St.scale,1,tr),er.origin=St.origin,er.originPoint=St.originPoint}function mixAxis(er,St,tr,rr){er.min=mixNumber$1(St.min,tr.min,rr),er.max=mixNumber$1(St.max,tr.max,rr)}function mixBox(er,St,tr,rr){mixAxis(er.x,St.x,tr.x,rr),mixAxis(er.y,St.y,tr.y,rr)}function hasOpacityCrossfade(er){return er.animationValues&&er.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=er=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(er),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(er){er.min=roundPoint(er.min),er.max=roundPoint(er.max)}function roundBox(er){roundAxis(er.x),roundAxis(er.y)}function shouldAnimatePositionOnly(er,St,tr){return er==="position"||er==="preserve-aspect"&&!isNear(aspectRatio(St),aspectRatio(tr),.2)}function checkNodeWasScrollRoot(er){var St;return er!==er.root&&((St=er.scroll)==null?void 0:St.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(er,St)=>addDomEvent(er,"resize",St),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:er=>({x:er.scrollLeft,y:er.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const er=new DocumentProjectionNode({});er.mount(window),er.setOptions({layoutScroll:!0}),rootProjectionNode.current=er}return rootProjectionNode.current},resetTransform:(er,St)=>{er.style.transform=St!==void 0?St:"none"},checkIsScrollRoot:er=>window.getComputedStyle(er).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(er,St,tr){const{props:rr}=er;er.animationState&&rr.whileHover&&er.animationState.setActive("whileHover",tr==="Start");const nr="onHover"+tr,sr=rr[nr];sr&&frame.postRender(()=>sr(St,extractEventInfo(St)))}class HoverGesture extends Feature{mount(){const{current:St}=this.node;St&&(this.unmount=hover(St,(tr,rr)=>(handleHoverEvent(this.node,rr,"Start"),nr=>handleHoverEvent(this.node,nr,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let St=!1;try{St=this.node.current.matches(":focus-visible")}catch{St=!0}!St||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(er,St,tr){const{props:rr}=er;if(er.current instanceof HTMLButtonElement&&er.current.disabled)return;er.animationState&&rr.whileTap&&er.animationState.setActive("whileTap",tr==="Start");const nr="onTap"+(tr==="End"?"":tr),sr=rr[nr];sr&&frame.postRender(()=>sr(St,extractEventInfo(St)))}class PressGesture extends Feature{mount(){const{current:St}=this.node;St&&(this.unmount=press(St,(tr,rr)=>(handlePressEvent(this.node,rr,"Start"),(nr,{success:sr})=>handlePressEvent(this.node,nr,sr?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=er=>{const St=observerCallbacks.get(er.target);St&&St(er)},fireAllObserverCallbacks=er=>{er.forEach(fireObserverCallback)};function initIntersectionObserver({root:er,...St}){const tr=er||document;observers.has(tr)||observers.set(tr,{});const rr=observers.get(tr),nr=JSON.stringify(St);return rr[nr]||(rr[nr]=new IntersectionObserver(fireAllObserverCallbacks,{root:er,...St})),rr[nr]}function observeIntersection(er,St,tr){const rr=initIntersectionObserver(St);return observerCallbacks.set(er,tr),rr.observe(er),()=>{observerCallbacks.delete(er),rr.unobserve(er)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:St={}}=this.node.getProps(),{root:tr,margin:rr,amount:nr="some",once:sr}=St,ir={root:tr?tr.current:void 0,rootMargin:rr,threshold:typeof nr=="number"?nr:thresholdNames[nr]},ar=or=>{const{isIntersecting:lr}=or;if(this.isInView===lr||(this.isInView=lr,sr&&!lr&&this.hasEnteredView))return;lr&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",lr);const{onViewportEnter:cr,onViewportLeave:ur}=this.node.getProps(),dr=lr?cr:ur;dr&&dr(or)};return observeIntersection(this.node.current,ir,ar)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:St,prevProps:tr}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(St,tr))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:er={}},{viewport:St={}}={}){return tr=>er[tr]!==St[tr]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion$1=createMotionProxy(featureBundle,createDomVisualElement);function Alert({type:er="info",title:St,message:tr,className:rr=""}){const[nr,sr]=reactExports.useState(!0),ir={info:jsxRuntimeExports.jsx(Info,{className:"w-5 h-5 text-blue-500"}),warning:jsxRuntimeExports.jsx(AlertTriangle,{className:"w-5 h-5 text-yellow-500"}),success:jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-green-500"}),error:jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5 text-red-500"})},ar={info:"bg-blue-50 border-blue-200 text-blue-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800"};return nr?jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsxs(motion$1.div,{role:"alert",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:cn(`flex items-start gap-3 p-4 border rounded-xl shadow-sm ${ar[er]} backdrop-blur-md bg-opacity-80`,rr),children:[jsxRuntimeExports.jsx("div",{className:"mt-0.5",children:ir[er]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm mb-0.5",children:St}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-snug",children:tr})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(!1),className:"ml-auto mt-0.5 text-gray-400 hover:text-gray-700 transition","aria-label":"Close",children:""})]})}):null}const AlertDescription=({children:er})=>jsxRuntimeExports.jsx("div",{className:"text-sm [&_p]:leading-relaxed",children:er});function DeepgramAssistant({context:er}){const[St,tr]=reactExports.useState(!1),[rr,nr]=reactExports.useState(""),[sr,ir]=reactExports.useState(""),[ar,or]=reactExports.useState(!1),lr=reactExports.useRef(null),cr=reactExports.useRef([]),ur=async()=>{const hr=await navigator.mediaDevices.getUserMedia({audio:!0}),Ar=new MediaRecorder(hr);lr.current=Ar,cr.current=[],Ar.ondataavailable=fr=>{cr.current.push(fr.data)},Ar.onstop=async()=>{const mr=await new Blob(cr.current,{type:"audio/webm"}).arrayBuffer(),pr=btoa(String.fromCharCode(...new Uint8Array(mr)));or(!0);const{data:gr}=await fetch("/functions/v1/speech-to-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio:pr})}).then(yr=>yr.json());nr((gr==null?void 0:gr.text)||"");const{data:xr}=await fetch("/functions/v1/openai-health-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:gr==null?void 0:gr.text,voiceMode:!0,context:er})}).then(yr=>yr.json());ir((xr==null?void 0:xr.analysis)||""),await fetch("/functions/v1/elevenlabs-voice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:xr==null?void 0:xr.analysis})}).then(yr=>yr.blob()).then(yr=>new Audio(URL.createObjectURL(yr)).play()),or(!1)},Ar.start(),tr(!0)},dr=()=>{var hr;(hr=lr.current)==null||hr.stop(),tr(!1)};return jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center",children:[jsxRuntimeExports.jsx("button",{onClick:St?dr:ur,className:`rounded-full p-3 ${St?"bg-red-500":"bg-green-600"} text-white hover:scale-105 transition`,children:jsxRuntimeExports.jsx(Play,{className:"w-5 h-5"})}),ar?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Processing..."}):rr&&sr?jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"You:"})," ",rr,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"AI:"})," ",sr]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Ask something aloud"})]})}function Backup(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,sr]=reactExports.useState({databaseSize:"2.4 GB",growthRate:"+12.5%",lastBackup:new Date().toISOString(),backupHealth:98,storageUsed:"45.2 GB",storageLimit:"100 GB"}),[ir,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),dr=useNavigate();reactExports.useEffect(()=>{hr(),Ar();const _r=setInterval(Ar,3e4);return()=>clearInterval(_r)},[]);const hr=async()=>{const{data:{session:_r}}=await supabase.auth.getSession();if(!_r){dr("/admin/login");return}const{data:Sr}=await supabase.from("user_profiles").select("role").eq("id",_r.user.id).single();(!Sr||Sr.role!=="admin")&&dr("/")},Ar=async()=>{try{const _r=[{id:"1",date:new Date(Date.now()-72e5).toISOString(),file:"backup-2025-07-23-1000.zip",size:"2.4 GB",type:"scheduled",status:"verified",duration:"5m 23s",tables:24,records:125847,notes:"Daily scheduled backup",verification:{status:"verified",checksum:"SHA256:a8f5f167f44f4964e6c998dee",verifiedAt:new Date(Date.now()-36e5).toISOString()}},{id:"2",date:new Date(Date.now()-936e5).toISOString(),file:"backup-2025-07-22-1000.zip",size:"2.3 GB",type:"scheduled",status:"completed",duration:"5m 18s",tables:24,records:124532,notes:"Daily scheduled backup",verification:{status:"verified",checksum:"SHA256:b7e4c123d89f2a8c5f6d789b",verifiedAt:new Date(Date.now()-9e7).toISOString()}},{id:"3",date:new Date(Date.now()-2592e5).toISOString(),file:"backup-2025-07-20-manual.zip",size:"2.2 GB",type:"manual",status:"completed",duration:"4m 56s",tables:24,records:122103,notes:"Manual backup before system update"},{id:"4",date:new Date(Date.now()-6048e5).toISOString(),file:"backup-2025-07-16-1000.zip",size:"2.1 GB",type:"scheduled",status:"completed",duration:"4m 45s",tables:24,records:119847,notes:"Weekly full backup"}],Sr=[{id:"1",name:"Daily Backup",frequency:"daily",time:"10:00 AM",lastRun:new Date(Date.now()-2*60*60*1e3).toISOString(),nextRun:new Date(Date.now()+22*60*60*1e3).toISOString(),status:"active",retention:7},{id:"2",name:"Weekly Full Backup",frequency:"weekly",time:"Sunday 2:00 AM",lastRun:new Date(Date.now()-3*24*60*60*1e3).toISOString(),nextRun:new Date(Date.now()+4*24*60*60*1e3).toISOString(),status:"active",retention:30},{id:"3",name:"Monthly Archive",frequency:"monthly",time:"1st day, 3:00 AM",lastRun:new Date(Date.now()-23*24*60*60*1e3).toISOString(),nextRun:new Date(Date.now()+8*24*60*60*1e3).toISOString(),status:"active",retention:365}];St(_r),rr(Sr),ar(!1)}catch(_r){console.error("Error loading backup data:",_r),ar(!1)}},fr=async()=>{lr(!0),setTimeout(()=>{lr(!1),Ar()},5e3)},mr=async _r=>{console.log("Verifying backup:",_r.file)},pr=async _r=>{confirm(`Are you sure you want to restore from ${_r.file}? This will overwrite current data.`)&&console.log("Restoring backup:",_r.file)},gr=_r=>{const Sr=new Date(_r);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(Sr)},xr=_r=>{const Sr=new Date(_r),Pr=new Date().getTime()-Sr.getTime(),Mr=Math.floor(Pr/(1e3*60*60)),Ir=Math.floor(Mr/24);return Mr<24?`${Mr}h ago`:Ir<7?`${Ir}d ago`:gr(_r)},yr=_r=>{switch(_r){case"completed":return"bg-green-100 text-green-700";case"verified":return"bg-blue-100 text-blue-700";case"in_progress":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700"}},Er=_r=>{switch(_r){case"manual":return jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"});case"scheduled":return jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"});case"automated":return jsxRuntimeExports.jsx(Zap,{className:"h-4 w-4"})}};return ir?jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsx("div",{className:"p-6 min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"h-8 w-8 text-blue-600"}),"Backup Management"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage system backups and recovery points"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(DeepgramAssistant,{context:"admin-backup"}),jsxRuntimeExports.jsx("button",{onClick:()=>dr("/admin/settings"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Settings,{className:"h-5 w-5 text-gray-600"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(HardDrive,{className:"h-4 w-4"}),"Database Status"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Size"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:nr.databaseSize})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Growth"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-green-600",children:nr.growthRate})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Last Backup"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:xr(nr.lastBackup)})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),"Backup Health"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[nr.backupHealth,"%"]}),jsxRuntimeExports.jsx(Progress,{value:nr.backupHealth,className:"h-2"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4 text-green-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"All systems operational"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Cloud,{className:"h-4 w-4"}),"Storage Usage"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Used"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[nr.storageUsed," / ",nr.storageLimit]})]}),jsxRuntimeExports.jsx(Progress,{value:45.2,className:"h-2"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"54.8 GB available"})]})})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"backups",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-md grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"backups",children:"Backups"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"schedules",children:"Schedules"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"settings",children:"Settings"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"backups",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Recent Backups"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsx("button",{onClick:fr,disabled:or,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${or?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:or?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 animate-spin"}),"Backing up..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4"}),"Create Backup"]})})})]}),or&&jsxRuntimeExports.jsx(Alert,{type:"info",title:"Backup in Progress",message:"This may take several minutes depending on database size."}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Backup"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:er.map(_r=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:_r.file}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:gr(_r.date)})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Er(_r.type),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900 capitalize",children:_r.type})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_r.size}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Badge,{className:`${yr(_r.status)} border-0`,children:_r.status})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{children:[_r.tables," tables  ",_r.records.toLocaleString()," records"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Duration: ",_r.duration]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ur(_r),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"View details",children:jsxRuntimeExports.jsx(Info,{className:"h-4 w-4 text-gray-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>mr(_r),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Verify backup",children:jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4 text-green-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>pr(_r),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Restore backup",children:jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 text-blue-600"})}),jsxRuntimeExports.jsx("a",{href:`/api/backups/download/${_r.file}`,className:"p-1 hover:bg-gray-100 rounded transition-colors inline-block",title:"Download backup",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 text-gray-600"})})]})})]},_r.id))})]})})})}),cr&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{children:["Backup Details: ",cr.file]}),jsxRuntimeExports.jsx("button",{onClick:()=>ur(null),className:"p-1 hover:bg-gray-100 rounded",children:jsxRuntimeExports.jsx(XCircle,{className:"h-5 w-5"})})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Created"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:gr(cr.date)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Duration"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:cr.duration})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Size"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:cr.size})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Type"}),jsxRuntimeExports.jsx("div",{className:"font-medium capitalize",children:cr.type})]})]}),cr.verification&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium mb-2",children:"Verification Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:["Status: ",jsxRuntimeExports.jsx(Badge,{className:cr.verification.status==="verified"?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:cr.verification.status})]}),jsxRuntimeExports.jsxs("div",{children:["Checksum: ",jsxRuntimeExports.jsx("code",{className:"text-xs bg-gray-200 px-1 rounded",children:cr.verification.checksum})]}),cr.verification.verifiedAt&&jsxRuntimeExports.jsxs("div",{children:["Verified: ",gr(cr.verification.verifiedAt)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Notes"}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:cr.notes})]})]})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"schedules",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Backup Schedules"}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Schedule"]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:tr.map(_r=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium",children:_r.name}),jsxRuntimeExports.jsx(Badge,{variant:_r.status==="active"?"default":"secondary",children:_r.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("span",{className:"capitalize",children:[_r.frequency," at ",_r.time]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Archive,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("span",{children:["Retention: ",_r.retention," days"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Last run:"})," ",xr(_r.lastRun)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Next run:"})," ",gr(_r.nextRun)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_r.status==="active"?jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4"})})]})]})})},_r.id))})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"settings",className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Backup Configuration"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Storage Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Storage Location"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{children:"Local Storage"}),jsxRuntimeExports.jsx("option",{children:"AWS S3"}),jsxRuntimeExports.jsx("option",{children:"Google Cloud Storage"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Compression Level"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{children:"High (Slower)"}),jsxRuntimeExports.jsx("option",{children:"Medium"}),jsxRuntimeExports.jsx("option",{children:"Low (Faster)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Encryption"}),jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Retention Policy"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Daily Backups"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{children:"Keep for 7 days"}),jsxRuntimeExports.jsx("option",{children:"Keep for 14 days"}),jsxRuntimeExports.jsx("option",{children:"Keep for 30 days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Weekly Backups"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{children:"Keep for 30 days"}),jsxRuntimeExports.jsx("option",{children:"Keep for 60 days"}),jsxRuntimeExports.jsx("option",{children:"Keep for 90 days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Monthly Backups"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{children:"Keep for 1 year"}),jsxRuntimeExports.jsx("option",{children:"Keep for 2 years"}),jsxRuntimeExports.jsx("option",{children:"Keep forever"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium mb-4",children:"Notifications"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Email notifications for backup failures"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Weekly backup summary reports"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"SMS alerts for critical failures"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 flex justify-end",children:jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Settings"})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Backup Statistics"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(BarChart3,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"156"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Total Backups"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"99.8%"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Success Rate"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Server,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"45.2 GB"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Total Storage Used"})]})]})})]})]})]})]})})})}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(er,St){return typeof er=="function"?er(St):er&&typeof er=="object"&&constructFromSymbol in er?er[constructFromSymbol](St):er instanceof Date?new er.constructor(St):new Date(St)}function toDate$1(er,St){return constructFrom(St||er,er)}function addDays(er,St,tr){const rr=toDate$1(er,tr==null?void 0:tr.in);return isNaN(St)?constructFrom(er,NaN):(St&&rr.setDate(rr.getDate()+St),rr)}function addMonths(er,St,tr){const rr=toDate$1(er,tr==null?void 0:tr.in);if(isNaN(St))return constructFrom(er,NaN);if(!St)return rr;const nr=rr.getDate(),sr=constructFrom(er,rr.getTime());sr.setMonth(rr.getMonth()+St+1,0);const ir=sr.getDate();return nr>=ir?sr:(rr.setFullYear(sr.getFullYear(),sr.getMonth(),nr),rr)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(er,St){var ar,or,lr,cr;const tr=getDefaultOptions(),rr=(St==null?void 0:St.weekStartsOn)??((or=(ar=St==null?void 0:St.locale)==null?void 0:ar.options)==null?void 0:or.weekStartsOn)??tr.weekStartsOn??((cr=(lr=tr.locale)==null?void 0:lr.options)==null?void 0:cr.weekStartsOn)??0,nr=toDate$1(er,St==null?void 0:St.in),sr=nr.getDay(),ir=(sr<rr?7:0)+sr-rr;return nr.setDate(nr.getDate()-ir),nr.setHours(0,0,0,0),nr}function startOfISOWeek(er,St){return startOfWeek(er,{...St,weekStartsOn:1})}function getISOWeekYear(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=tr.getFullYear(),nr=constructFrom(tr,0);nr.setFullYear(rr+1,0,4),nr.setHours(0,0,0,0);const sr=startOfISOWeek(nr),ir=constructFrom(tr,0);ir.setFullYear(rr,0,4),ir.setHours(0,0,0,0);const ar=startOfISOWeek(ir);return tr.getTime()>=sr.getTime()?rr+1:tr.getTime()>=ar.getTime()?rr:rr-1}function getTimezoneOffsetInMilliseconds(er){const St=toDate$1(er),tr=new Date(Date.UTC(St.getFullYear(),St.getMonth(),St.getDate(),St.getHours(),St.getMinutes(),St.getSeconds(),St.getMilliseconds()));return tr.setUTCFullYear(St.getFullYear()),+er-+tr}function normalizeDates(er,...St){const tr=constructFrom.bind(null,St.find(rr=>typeof rr=="object"));return St.map(tr)}function startOfDay(er,St){const tr=toDate$1(er,St==null?void 0:St.in);return tr.setHours(0,0,0,0),tr}function differenceInCalendarDays(er,St,tr){const[rr,nr]=normalizeDates(tr==null?void 0:tr.in,er,St),sr=startOfDay(rr),ir=startOfDay(nr),ar=+sr-getTimezoneOffsetInMilliseconds(sr),or=+ir-getTimezoneOffsetInMilliseconds(ir);return Math.round((ar-or)/millisecondsInDay)}function startOfISOWeekYear(er,St){const tr=getISOWeekYear(er,St),rr=constructFrom(er,0);return rr.setFullYear(tr,0,4),rr.setHours(0,0,0,0),startOfISOWeek(rr)}function addWeeks(er,St,tr){return addDays(er,St*7,tr)}function addYears(er,St,tr){return addMonths(er,St*12,tr)}function max$1(er,St){let tr,rr=St==null?void 0:St.in;return er.forEach(nr=>{!rr&&typeof nr=="object"&&(rr=constructFrom.bind(null,nr));const sr=toDate$1(nr,rr);(!tr||tr<sr||isNaN(+sr))&&(tr=sr)}),constructFrom(rr,tr||NaN)}function min(er,St){let tr,rr=St==null?void 0:St.in;return er.forEach(nr=>{!rr&&typeof nr=="object"&&(rr=constructFrom.bind(null,nr));const sr=toDate$1(nr,rr);(!tr||tr>sr||isNaN(+sr))&&(tr=sr)}),constructFrom(rr,tr||NaN)}function constructNow(er){return constructFrom(er,Date.now())}function isSameDay(er,St,tr){const[rr,nr]=normalizeDates(tr==null?void 0:tr.in,er,St);return+startOfDay(rr)==+startOfDay(nr)}function isDate(er){return er instanceof Date||typeof er=="object"&&Object.prototype.toString.call(er)==="[object Date]"}function isValid(er){return!(!isDate(er)&&typeof er!="number"||isNaN(+toDate$1(er)))}function differenceInCalendarMonths(er,St,tr){const[rr,nr]=normalizeDates(tr==null?void 0:tr.in,er,St),sr=rr.getFullYear()-nr.getFullYear(),ir=rr.getMonth()-nr.getMonth();return sr*12+ir}function endOfMonth(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=tr.getMonth();return tr.setFullYear(tr.getFullYear(),rr+1,0),tr.setHours(23,59,59,999),tr}function normalizeInterval(er,St){const[tr,rr]=normalizeDates(er,St.start,St.end);return{start:tr,end:rr}}function eachMonthOfInterval(er,St){const{start:tr,end:rr}=normalizeInterval(St==null?void 0:St.in,er);let nr=+tr>+rr;const sr=nr?+tr:+rr,ir=nr?rr:tr;ir.setHours(0,0,0,0),ir.setDate(1);let ar=1;const or=[];for(;+ir<=sr;)or.push(constructFrom(tr,ir)),ir.setMonth(ir.getMonth()+ar);return nr?or.reverse():or}function startOfMonth(er,St){const tr=toDate$1(er,St==null?void 0:St.in);return tr.setDate(1),tr.setHours(0,0,0,0),tr}function endOfYear(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=tr.getFullYear();return tr.setFullYear(rr+1,0,0),tr.setHours(23,59,59,999),tr}function startOfYear(er,St){const tr=toDate$1(er,St==null?void 0:St.in);return tr.setFullYear(tr.getFullYear(),0,1),tr.setHours(0,0,0,0),tr}function endOfWeek(er,St){var ar,or,lr,cr;const tr=getDefaultOptions(),rr=(St==null?void 0:St.weekStartsOn)??((or=(ar=St==null?void 0:St.locale)==null?void 0:ar.options)==null?void 0:or.weekStartsOn)??tr.weekStartsOn??((cr=(lr=tr.locale)==null?void 0:lr.options)==null?void 0:cr.weekStartsOn)??0,nr=toDate$1(er,St==null?void 0:St.in),sr=nr.getDay(),ir=(sr<rr?-7:0)+6-(sr-rr);return nr.setDate(nr.getDate()+ir),nr.setHours(23,59,59,999),nr}function endOfISOWeek(er,St){return endOfWeek(er,{...St,weekStartsOn:1})}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(er,St,tr)=>{let rr;const nr=formatDistanceLocale[er];return typeof nr=="string"?rr=nr:St===1?rr=nr.one:rr=nr.other.replace("{{count}}",St.toString()),tr!=null&&tr.addSuffix?tr.comparison&&tr.comparison>0?"in "+rr:rr+" ago":rr};function buildFormatLongFn(er){return(St={})=>{const tr=St.width?String(St.width):er.defaultWidth;return er.formats[tr]||er.formats[er.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(er,St,tr,rr)=>formatRelativeLocale[er];function buildLocalizeFn(er){return(St,tr)=>{const rr=tr!=null&&tr.context?String(tr.context):"standalone";let nr;if(rr==="formatting"&&er.formattingValues){const ir=er.defaultFormattingWidth||er.defaultWidth,ar=tr!=null&&tr.width?String(tr.width):ir;nr=er.formattingValues[ar]||er.formattingValues[ir]}else{const ir=er.defaultWidth,ar=tr!=null&&tr.width?String(tr.width):er.defaultWidth;nr=er.values[ar]||er.values[ir]}const sr=er.argumentCallback?er.argumentCallback(St):St;return nr[sr]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(er,St)=>{const tr=Number(er),rr=tr%100;if(rr>20||rr<10)switch(rr%10){case 1:return tr+"st";case 2:return tr+"nd";case 3:return tr+"rd"}return tr+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:er=>er-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(er){return(St,tr={})=>{const rr=tr.width,nr=rr&&er.matchPatterns[rr]||er.matchPatterns[er.defaultMatchWidth],sr=St.match(nr);if(!sr)return null;const ir=sr[0],ar=rr&&er.parsePatterns[rr]||er.parsePatterns[er.defaultParseWidth],or=Array.isArray(ar)?findIndex(ar,ur=>ur.test(ir)):findKey(ar,ur=>ur.test(ir));let lr;lr=er.valueCallback?er.valueCallback(or):or,lr=tr.valueCallback?tr.valueCallback(lr):lr;const cr=St.slice(ir.length);return{value:lr,rest:cr}}}function findKey(er,St){for(const tr in er)if(Object.prototype.hasOwnProperty.call(er,tr)&&St(er[tr]))return tr}function findIndex(er,St){for(let tr=0;tr<er.length;tr++)if(St(er[tr]))return tr}function buildMatchPatternFn(er){return(St,tr={})=>{const rr=St.match(er.matchPattern);if(!rr)return null;const nr=rr[0],sr=St.match(er.parsePattern);if(!sr)return null;let ir=er.valueCallback?er.valueCallback(sr[0]):sr[0];ir=tr.valueCallback?tr.valueCallback(ir):ir;const ar=St.slice(nr.length);return{value:ir,rest:ar}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:er=>parseInt(er,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:er=>er+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(er,St){const tr=toDate$1(er,St==null?void 0:St.in);return differenceInCalendarDays(tr,startOfYear(tr))+1}function getISOWeek(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=+startOfISOWeek(tr)-+startOfISOWeekYear(tr);return Math.round(rr/millisecondsInWeek)+1}function getWeekYear(er,St){var cr,ur,dr,hr;const tr=toDate$1(er,St==null?void 0:St.in),rr=tr.getFullYear(),nr=getDefaultOptions(),sr=(St==null?void 0:St.firstWeekContainsDate)??((ur=(cr=St==null?void 0:St.locale)==null?void 0:cr.options)==null?void 0:ur.firstWeekContainsDate)??nr.firstWeekContainsDate??((hr=(dr=nr.locale)==null?void 0:dr.options)==null?void 0:hr.firstWeekContainsDate)??1,ir=constructFrom((St==null?void 0:St.in)||er,0);ir.setFullYear(rr+1,0,sr),ir.setHours(0,0,0,0);const ar=startOfWeek(ir,St),or=constructFrom((St==null?void 0:St.in)||er,0);or.setFullYear(rr,0,sr),or.setHours(0,0,0,0);const lr=startOfWeek(or,St);return+tr>=+ar?rr+1:+tr>=+lr?rr:rr-1}function startOfWeekYear(er,St){var ar,or,lr,cr;const tr=getDefaultOptions(),rr=(St==null?void 0:St.firstWeekContainsDate)??((or=(ar=St==null?void 0:St.locale)==null?void 0:ar.options)==null?void 0:or.firstWeekContainsDate)??tr.firstWeekContainsDate??((cr=(lr=tr.locale)==null?void 0:lr.options)==null?void 0:cr.firstWeekContainsDate)??1,nr=getWeekYear(er,St),sr=constructFrom((St==null?void 0:St.in)||er,0);return sr.setFullYear(nr,0,rr),sr.setHours(0,0,0,0),startOfWeek(sr,St)}function getWeek(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=+startOfWeek(tr,St)-+startOfWeekYear(tr,St);return Math.round(rr/millisecondsInWeek)+1}function addLeadingZeros(er,St){const tr=er<0?"-":"",rr=Math.abs(er).toString().padStart(St,"0");return tr+rr}const lightFormatters={y(er,St){const tr=er.getFullYear(),rr=tr>0?tr:1-tr;return addLeadingZeros(St==="yy"?rr%100:rr,St.length)},M(er,St){const tr=er.getMonth();return St==="M"?String(tr+1):addLeadingZeros(tr+1,2)},d(er,St){return addLeadingZeros(er.getDate(),St.length)},a(er,St){const tr=er.getHours()/12>=1?"pm":"am";switch(St){case"a":case"aa":return tr.toUpperCase();case"aaa":return tr;case"aaaaa":return tr[0];case"aaaa":default:return tr==="am"?"a.m.":"p.m."}},h(er,St){return addLeadingZeros(er.getHours()%12||12,St.length)},H(er,St){return addLeadingZeros(er.getHours(),St.length)},m(er,St){return addLeadingZeros(er.getMinutes(),St.length)},s(er,St){return addLeadingZeros(er.getSeconds(),St.length)},S(er,St){const tr=St.length,rr=er.getMilliseconds(),nr=Math.trunc(rr*Math.pow(10,tr-3));return addLeadingZeros(nr,St.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(er,St,tr){const rr=er.getFullYear()>0?1:0;switch(St){case"G":case"GG":case"GGG":return tr.era(rr,{width:"abbreviated"});case"GGGGG":return tr.era(rr,{width:"narrow"});case"GGGG":default:return tr.era(rr,{width:"wide"})}},y:function(er,St,tr){if(St==="yo"){const rr=er.getFullYear(),nr=rr>0?rr:1-rr;return tr.ordinalNumber(nr,{unit:"year"})}return lightFormatters.y(er,St)},Y:function(er,St,tr,rr){const nr=getWeekYear(er,rr),sr=nr>0?nr:1-nr;if(St==="YY"){const ir=sr%100;return addLeadingZeros(ir,2)}return St==="Yo"?tr.ordinalNumber(sr,{unit:"year"}):addLeadingZeros(sr,St.length)},R:function(er,St){const tr=getISOWeekYear(er);return addLeadingZeros(tr,St.length)},u:function(er,St){const tr=er.getFullYear();return addLeadingZeros(tr,St.length)},Q:function(er,St,tr){const rr=Math.ceil((er.getMonth()+1)/3);switch(St){case"Q":return String(rr);case"QQ":return addLeadingZeros(rr,2);case"Qo":return tr.ordinalNumber(rr,{unit:"quarter"});case"QQQ":return tr.quarter(rr,{width:"abbreviated",context:"formatting"});case"QQQQQ":return tr.quarter(rr,{width:"narrow",context:"formatting"});case"QQQQ":default:return tr.quarter(rr,{width:"wide",context:"formatting"})}},q:function(er,St,tr){const rr=Math.ceil((er.getMonth()+1)/3);switch(St){case"q":return String(rr);case"qq":return addLeadingZeros(rr,2);case"qo":return tr.ordinalNumber(rr,{unit:"quarter"});case"qqq":return tr.quarter(rr,{width:"abbreviated",context:"standalone"});case"qqqqq":return tr.quarter(rr,{width:"narrow",context:"standalone"});case"qqqq":default:return tr.quarter(rr,{width:"wide",context:"standalone"})}},M:function(er,St,tr){const rr=er.getMonth();switch(St){case"M":case"MM":return lightFormatters.M(er,St);case"Mo":return tr.ordinalNumber(rr+1,{unit:"month"});case"MMM":return tr.month(rr,{width:"abbreviated",context:"formatting"});case"MMMMM":return tr.month(rr,{width:"narrow",context:"formatting"});case"MMMM":default:return tr.month(rr,{width:"wide",context:"formatting"})}},L:function(er,St,tr){const rr=er.getMonth();switch(St){case"L":return String(rr+1);case"LL":return addLeadingZeros(rr+1,2);case"Lo":return tr.ordinalNumber(rr+1,{unit:"month"});case"LLL":return tr.month(rr,{width:"abbreviated",context:"standalone"});case"LLLLL":return tr.month(rr,{width:"narrow",context:"standalone"});case"LLLL":default:return tr.month(rr,{width:"wide",context:"standalone"})}},w:function(er,St,tr,rr){const nr=getWeek(er,rr);return St==="wo"?tr.ordinalNumber(nr,{unit:"week"}):addLeadingZeros(nr,St.length)},I:function(er,St,tr){const rr=getISOWeek(er);return St==="Io"?tr.ordinalNumber(rr,{unit:"week"}):addLeadingZeros(rr,St.length)},d:function(er,St,tr){return St==="do"?tr.ordinalNumber(er.getDate(),{unit:"date"}):lightFormatters.d(er,St)},D:function(er,St,tr){const rr=getDayOfYear(er);return St==="Do"?tr.ordinalNumber(rr,{unit:"dayOfYear"}):addLeadingZeros(rr,St.length)},E:function(er,St,tr){const rr=er.getDay();switch(St){case"E":case"EE":case"EEE":return tr.day(rr,{width:"abbreviated",context:"formatting"});case"EEEEE":return tr.day(rr,{width:"narrow",context:"formatting"});case"EEEEEE":return tr.day(rr,{width:"short",context:"formatting"});case"EEEE":default:return tr.day(rr,{width:"wide",context:"formatting"})}},e:function(er,St,tr,rr){const nr=er.getDay(),sr=(nr-rr.weekStartsOn+8)%7||7;switch(St){case"e":return String(sr);case"ee":return addLeadingZeros(sr,2);case"eo":return tr.ordinalNumber(sr,{unit:"day"});case"eee":return tr.day(nr,{width:"abbreviated",context:"formatting"});case"eeeee":return tr.day(nr,{width:"narrow",context:"formatting"});case"eeeeee":return tr.day(nr,{width:"short",context:"formatting"});case"eeee":default:return tr.day(nr,{width:"wide",context:"formatting"})}},c:function(er,St,tr,rr){const nr=er.getDay(),sr=(nr-rr.weekStartsOn+8)%7||7;switch(St){case"c":return String(sr);case"cc":return addLeadingZeros(sr,St.length);case"co":return tr.ordinalNumber(sr,{unit:"day"});case"ccc":return tr.day(nr,{width:"abbreviated",context:"standalone"});case"ccccc":return tr.day(nr,{width:"narrow",context:"standalone"});case"cccccc":return tr.day(nr,{width:"short",context:"standalone"});case"cccc":default:return tr.day(nr,{width:"wide",context:"standalone"})}},i:function(er,St,tr){const rr=er.getDay(),nr=rr===0?7:rr;switch(St){case"i":return String(nr);case"ii":return addLeadingZeros(nr,St.length);case"io":return tr.ordinalNumber(nr,{unit:"day"});case"iii":return tr.day(rr,{width:"abbreviated",context:"formatting"});case"iiiii":return tr.day(rr,{width:"narrow",context:"formatting"});case"iiiiii":return tr.day(rr,{width:"short",context:"formatting"});case"iiii":default:return tr.day(rr,{width:"wide",context:"formatting"})}},a:function(er,St,tr){const nr=er.getHours()/12>=1?"pm":"am";switch(St){case"a":case"aa":return tr.dayPeriod(nr,{width:"abbreviated",context:"formatting"});case"aaa":return tr.dayPeriod(nr,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return tr.dayPeriod(nr,{width:"narrow",context:"formatting"});case"aaaa":default:return tr.dayPeriod(nr,{width:"wide",context:"formatting"})}},b:function(er,St,tr){const rr=er.getHours();let nr;switch(rr===12?nr=dayPeriodEnum.noon:rr===0?nr=dayPeriodEnum.midnight:nr=rr/12>=1?"pm":"am",St){case"b":case"bb":return tr.dayPeriod(nr,{width:"abbreviated",context:"formatting"});case"bbb":return tr.dayPeriod(nr,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return tr.dayPeriod(nr,{width:"narrow",context:"formatting"});case"bbbb":default:return tr.dayPeriod(nr,{width:"wide",context:"formatting"})}},B:function(er,St,tr){const rr=er.getHours();let nr;switch(rr>=17?nr=dayPeriodEnum.evening:rr>=12?nr=dayPeriodEnum.afternoon:rr>=4?nr=dayPeriodEnum.morning:nr=dayPeriodEnum.night,St){case"B":case"BB":case"BBB":return tr.dayPeriod(nr,{width:"abbreviated",context:"formatting"});case"BBBBB":return tr.dayPeriod(nr,{width:"narrow",context:"formatting"});case"BBBB":default:return tr.dayPeriod(nr,{width:"wide",context:"formatting"})}},h:function(er,St,tr){if(St==="ho"){let rr=er.getHours()%12;return rr===0&&(rr=12),tr.ordinalNumber(rr,{unit:"hour"})}return lightFormatters.h(er,St)},H:function(er,St,tr){return St==="Ho"?tr.ordinalNumber(er.getHours(),{unit:"hour"}):lightFormatters.H(er,St)},K:function(er,St,tr){const rr=er.getHours()%12;return St==="Ko"?tr.ordinalNumber(rr,{unit:"hour"}):addLeadingZeros(rr,St.length)},k:function(er,St,tr){let rr=er.getHours();return rr===0&&(rr=24),St==="ko"?tr.ordinalNumber(rr,{unit:"hour"}):addLeadingZeros(rr,St.length)},m:function(er,St,tr){return St==="mo"?tr.ordinalNumber(er.getMinutes(),{unit:"minute"}):lightFormatters.m(er,St)},s:function(er,St,tr){return St==="so"?tr.ordinalNumber(er.getSeconds(),{unit:"second"}):lightFormatters.s(er,St)},S:function(er,St){return lightFormatters.S(er,St)},X:function(er,St,tr){const rr=er.getTimezoneOffset();if(rr===0)return"Z";switch(St){case"X":return formatTimezoneWithOptionalMinutes(rr);case"XXXX":case"XX":return formatTimezone(rr);case"XXXXX":case"XXX":default:return formatTimezone(rr,":")}},x:function(er,St,tr){const rr=er.getTimezoneOffset();switch(St){case"x":return formatTimezoneWithOptionalMinutes(rr);case"xxxx":case"xx":return formatTimezone(rr);case"xxxxx":case"xxx":default:return formatTimezone(rr,":")}},O:function(er,St,tr){const rr=er.getTimezoneOffset();switch(St){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(rr,":");case"OOOO":default:return"GMT"+formatTimezone(rr,":")}},z:function(er,St,tr){const rr=er.getTimezoneOffset();switch(St){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(rr,":");case"zzzz":default:return"GMT"+formatTimezone(rr,":")}},t:function(er,St,tr){const rr=Math.trunc(+er/1e3);return addLeadingZeros(rr,St.length)},T:function(er,St,tr){return addLeadingZeros(+er,St.length)}};function formatTimezoneShort(er,St=""){const tr=er>0?"-":"+",rr=Math.abs(er),nr=Math.trunc(rr/60),sr=rr%60;return sr===0?tr+String(nr):tr+String(nr)+St+addLeadingZeros(sr,2)}function formatTimezoneWithOptionalMinutes(er,St){return er%60===0?(er>0?"-":"+")+addLeadingZeros(Math.abs(er)/60,2):formatTimezone(er,St)}function formatTimezone(er,St=""){const tr=er>0?"-":"+",rr=Math.abs(er),nr=addLeadingZeros(Math.trunc(rr/60),2),sr=addLeadingZeros(rr%60,2);return tr+nr+St+sr}const dateLongFormatter=(er,St)=>{switch(er){case"P":return St.date({width:"short"});case"PP":return St.date({width:"medium"});case"PPP":return St.date({width:"long"});case"PPPP":default:return St.date({width:"full"})}},timeLongFormatter=(er,St)=>{switch(er){case"p":return St.time({width:"short"});case"pp":return St.time({width:"medium"});case"ppp":return St.time({width:"long"});case"pppp":default:return St.time({width:"full"})}},dateTimeLongFormatter=(er,St)=>{const tr=er.match(/(P+)(p+)?/)||[],rr=tr[1],nr=tr[2];if(!nr)return dateLongFormatter(er,St);let sr;switch(rr){case"P":sr=St.dateTime({width:"short"});break;case"PP":sr=St.dateTime({width:"medium"});break;case"PPP":sr=St.dateTime({width:"long"});break;case"PPPP":default:sr=St.dateTime({width:"full"});break}return sr.replace("{{date}}",dateLongFormatter(rr,St)).replace("{{time}}",timeLongFormatter(nr,St))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(er){return dayOfYearTokenRE.test(er)}function isProtectedWeekYearToken(er){return weekYearTokenRE.test(er)}function warnOrThrowProtectedError(er,St,tr){const rr=message(er,St,tr);if(console.warn(rr),throwTokens.includes(er))throw new RangeError(rr)}function message(er,St,tr){const rr=er[0]==="Y"?"years":"days of the month";return`Use \`${er.toLowerCase()}\` instead of \`${er}\` (in \`${St}\`) for formatting ${rr} to the input \`${tr}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(er,St,tr){var cr,ur,dr,hr,Ar,fr,mr,pr;const rr=getDefaultOptions(),nr=(tr==null?void 0:tr.locale)??rr.locale??enUS,sr=(tr==null?void 0:tr.firstWeekContainsDate)??((ur=(cr=tr==null?void 0:tr.locale)==null?void 0:cr.options)==null?void 0:ur.firstWeekContainsDate)??rr.firstWeekContainsDate??((hr=(dr=rr.locale)==null?void 0:dr.options)==null?void 0:hr.firstWeekContainsDate)??1,ir=(tr==null?void 0:tr.weekStartsOn)??((fr=(Ar=tr==null?void 0:tr.locale)==null?void 0:Ar.options)==null?void 0:fr.weekStartsOn)??rr.weekStartsOn??((pr=(mr=rr.locale)==null?void 0:mr.options)==null?void 0:pr.weekStartsOn)??0,ar=toDate$1(er,tr==null?void 0:tr.in);if(!isValid(ar))throw new RangeError("Invalid time value");let or=St.match(longFormattingTokensRegExp).map(gr=>{const xr=gr[0];if(xr==="p"||xr==="P"){const yr=longFormatters[xr];return yr(gr,nr.formatLong)}return gr}).join("").match(formattingTokensRegExp).map(gr=>{if(gr==="''")return{isToken:!1,value:"'"};const xr=gr[0];if(xr==="'")return{isToken:!1,value:cleanEscapedString(gr)};if(formatters[xr])return{isToken:!0,value:gr};if(xr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xr+"`");return{isToken:!1,value:gr}});nr.localize.preprocessor&&(or=nr.localize.preprocessor(ar,or));const lr={firstWeekContainsDate:sr,weekStartsOn:ir,locale:nr};return or.map(gr=>{if(!gr.isToken)return gr.value;const xr=gr.value;(!(tr!=null&&tr.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(xr)||!(tr!=null&&tr.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(xr))&&warnOrThrowProtectedError(xr,St,String(er));const yr=formatters[xr[0]];return yr(ar,xr,nr.localize,lr)}).join("")}function cleanEscapedString(er){const St=er.match(escapedStringRegExp);return St?St[1].replace(doubleQuoteRegExp,"'"):er}function formatISO(er,St){const tr=toDate$1(er,St==null?void 0:St.in);if(isNaN(+tr))throw new RangeError("Invalid time value");let rr="",nr="";const sr="-",ir=":";{const ar=addLeadingZeros(tr.getDate(),2),or=addLeadingZeros(tr.getMonth()+1,2);rr=`${addLeadingZeros(tr.getFullYear(),4)}${sr}${or}${sr}${ar}`}{const ar=tr.getTimezoneOffset();if(ar!==0){const hr=Math.abs(ar),Ar=addLeadingZeros(Math.trunc(hr/60),2),fr=addLeadingZeros(hr%60,2);nr=`${ar<0?"+":"-"}${Ar}:${fr}`}else nr="Z";const or=addLeadingZeros(tr.getHours(),2),lr=addLeadingZeros(tr.getMinutes(),2),cr=addLeadingZeros(tr.getSeconds(),2),ur=rr===""?"":"T",dr=[or,lr,cr].join(ir);rr=`${rr}${ur}${dr}${nr}`}return rr}function getDaysInMonth$1(er,St){const tr=toDate$1(er,St==null?void 0:St.in),rr=tr.getFullYear(),nr=tr.getMonth(),sr=constructFrom(tr,0);return sr.setFullYear(rr,nr+1,0),sr.setHours(0,0,0,0),sr.getDate()}function getMonth$1(er,St){return toDate$1(er,St==null?void 0:St.in).getMonth()}function getYear$1(er,St){return toDate$1(er,St==null?void 0:St.in).getFullYear()}function isAfter(er,St){return+toDate$1(er)>+toDate$1(St)}function isBefore(er,St){return+toDate$1(er)<+toDate$1(St)}function isFuture(er){return+toDate$1(er)>Date.now()}function isPast(er){return+toDate$1(er)<Date.now()}function isSameMonth(er,St,tr){const[rr,nr]=normalizeDates(tr==null?void 0:tr.in,er,St);return rr.getFullYear()===nr.getFullYear()&&rr.getMonth()===nr.getMonth()}function isSameYear(er,St,tr){const[rr,nr]=normalizeDates(tr==null?void 0:tr.in,er,St);return rr.getFullYear()===nr.getFullYear()}function isToday(er,St){return isSameDay(constructFrom(er,er),constructNow(er))}function subDays(er,St,tr){return addDays(er,-7,tr)}function setMonth(er,St,tr){const rr=toDate$1(er,tr==null?void 0:tr.in),nr=rr.getFullYear(),sr=rr.getDate(),ir=constructFrom(er,0);ir.setFullYear(nr,St,15),ir.setHours(0,0,0,0);const ar=getDaysInMonth$1(ir);return rr.setMonth(St,Math.min(sr,ar)),rr}function setYear(er,St,tr){const rr=toDate$1(er,tr==null?void 0:tr.in);return isNaN(+rr)?constructFrom(er,NaN):(rr.setFullYear(St),rr)}function SuperPanelSimple(){const[er,St]=reactExports.useState("Users"),[tr,rr]=reactExports.useState(!1),[nr]=reactExports.useState([{id:"1",name:"Ian Rakow",email:"ian@owner.com",role:"owner"},{id:"2",name:"Dr. Rivas",email:"rivas@provider.com",role:"provider"},{id:"3",name:"Leo Chavez",email:"leo@patient.com",role:"patient"}]),[sr,ir]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState([]);reactExports.useEffect(()=>{er==="AI Logs"?ur():er==="Invoices"?dr():er==="Audit Logs"&&hr()},[er]);const ur=async()=>{rr(!0);try{const{data:Ar}=await supabase.from("ai_logs").select("*").order("created_at",{ascending:!1}).limit(20);Ar&&ir(Ar)}catch(Ar){console.error("Error fetching AI logs:",Ar)}finally{rr(!1)}},dr=async()=>{rr(!0);try{const{data:Ar}=await supabase.from("invoices").select("*, employer:employers(name)").order("created_at",{ascending:!1}).limit(10);Ar&&or(Ar)}catch(Ar){console.error("Error fetching invoices:",Ar)}finally{rr(!1)}},hr=async()=>{rr(!0);try{const{data:Ar}=await supabase.from("audit_log_summary").select("*").order("created_at",{ascending:!1}).limit(20);Ar&&cr(Ar)}catch(Ar){console.error("Error fetching audit logs:",Ar)}finally{rr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin SuperPanel"}),jsxRuntimeExports.jsx(Tabs,{tabs:["Users","AI Logs","Invoices","Audit Logs"],active:er,onSelect:St}),tr?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[er==="Users"&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:nr.map(Ar=>jsxRuntimeExports.jsxs(Card,{title:Ar.name,children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:Ar.email}),jsxRuntimeExports.jsx(Badge,{label:Ar.role,color:Ar.role==="owner"?"blue":Ar.role==="provider"?"yellow":"green"})]},Ar.id))}),er==="AI Logs"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:sr.length===0?jsxRuntimeExports.jsx(Card,{title:"No AI Logs",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"No AI interactions logged yet."})}):sr.map(Ar=>jsxRuntimeExports.jsx(Card,{title:` ${Ar.user_name||Ar.user_email}  ${format(new Date(Ar.created_at),"yyyy-MM-dd HH:mm")}`,children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Action:"})," ",Ar.action,Ar.model&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",Ar.model,")"]})]}),Ar.input&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Input:"})," ",Ar.input]}),Ar.output&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Output:"})," ",Ar.output]}),Ar.tokens_used&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Tokens: ",Ar.tokens_used," | Duration: ",Ar.duration_ms,"ms"]})]})},Ar.id))}),er==="Invoices"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:ar.length===0?jsxRuntimeExports.jsx(Card,{title:"No Invoices",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"No invoices found in the database."})}):ar.map(Ar=>{var fr;return jsxRuntimeExports.jsxs(Card,{title:`${((fr=Ar.employer)==null?void 0:fr.name)||"Unknown"}  ${Ar.month}`,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Total: $",(Ar.total_amount/100).toFixed(2)]}),jsxRuntimeExports.jsx(Badge,{label:Ar.status,color:Ar.status==="paid"?"green":"yellow"})]},Ar.id)})}),er==="Audit Logs"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:lr.length===0?jsxRuntimeExports.jsx(Card,{title:"No Audit Logs",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"No audit logs found. Actions will appear here once logged."})}):lr.map(Ar=>jsxRuntimeExports.jsxs(Card,{title:`${Ar.user_name||Ar.user_email||"System"}  ${format(new Date(Ar.created_at),"yyyy-MM-dd HH:mm")}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:Ar.action}),Ar.context&&Object.keys(Ar.context).length>0&&jsxRuntimeExports.jsxs("details",{className:"mt-2",children:[jsxRuntimeExports.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"View Details"}),jsxRuntimeExports.jsx("pre",{className:"text-xs mt-1 p-2 bg-gray-100 rounded overflow-x-auto max-h-32",children:JSON.stringify(Ar.context,null,2)})]})]},Ar.id))})]})]})}function AILogsPage(){var dr,hr;const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState({totalCalls:0,successRate:0,modelUsage:{},actionBreakdown:{}}),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState({model:"",voice:"",role:"",success:"",action:"",startDate:formatISO(subDays(new Date)),endDate:formatISO(new Date)});reactExports.useEffect(()=>{or()},[ir]);async function or(){sr(!0);try{let Ar=supabase.from("ai_logs").select(`
          *,
          user:user_id(full_name, email)
        `).gte("created_at",ir.startDate).lte("created_at",ir.endDate).order("created_at",{ascending:!1}).limit(100);ir.model&&(Ar=Ar.eq("model",ir.model)),ir.voice&&(Ar=Ar.eq("voice_used",ir.voice)),ir.role&&(Ar=Ar.eq("role",ir.role)),ir.success!==""&&(Ar=Ar.eq("success",ir.success==="true")),ir.action&&(Ar=Ar.ilike("action",`%${ir.action}%`));const{data:fr,error:mr}=await Ar;if(mr)throw mr;if(St(fr||[]),fr){const pr={totalCalls:fr.length,successRate:fr.filter(gr=>gr.success).length/fr.length*100,modelUsage:{},actionBreakdown:{}};fr.forEach(gr=>{pr.modelUsage[gr.model]=(pr.modelUsage[gr.model]||0)+1,pr.actionBreakdown[gr.action]=(pr.actionBreakdown[gr.action]||0)+1}),rr(pr)}}catch(Ar){console.error("Error loading AI logs:",Ar)}finally{sr(!1)}}async function lr(){const Ar=[["Date","User","Role","Model","Voice","Action","Success","Input","Output"].join(","),...er.map(gr=>{var xr,yr,Er;return[format(new Date(gr.created_at),"yyyy-MM-dd HH:mm:ss"),((xr=gr.user)==null?void 0:xr.full_name)||gr.user_id,gr.role,gr.model,gr.voice_used||"",gr.action,gr.success?"Yes":"No",`"${((yr=gr.input)==null?void 0:yr.replace(/"/g,'""'))||""}"`,`"${((Er=gr.output)==null?void 0:Er.replace(/"/g,'""'))||""}"`].join(",")})].join(`
`),fr=new Blob([Ar],{type:"text/csv"}),mr=URL.createObjectURL(fr),pr=document.createElement("a");pr.href=mr,pr.download=`ai-logs-${format(new Date,"yyyy-MM-dd")}.csv`,pr.click()}const cr=Ar=>{switch(Ar==null?void 0:Ar.toLowerCase()){case"gemini":return"blue";case"chatgpt":return"green";case"deepgram":return"purple";default:return"gray"}},ur=Ar=>Ar.includes("SOAP")?"":Ar.includes("Meditation")?"":Ar.includes("Voice")?"":Ar.includes("Lab")?"":Ar.includes("Risk")?"":"";return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[jsxRuntimeExports.jsx(Brain,{className:"h-8 w-8 text-blue-600"}),"AI Usage Analytics"]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Total AI Calls"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:tr.totalCalls})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[tr.successRate.toFixed(1),"%"]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Most Used Model"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:((dr=Object.entries(tr.modelUsage).sort((Ar,fr)=>fr[1]-Ar[1])[0])==null?void 0:dr[0])||"N/A"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Top Action"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-sm",children:((hr=Object.entries(tr.actionBreakdown).sort((Ar,fr)=>fr[1]-Ar[1])[0])==null?void 0:hr[0])||"N/A"})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[jsxRuntimeExports.jsx(Input,{type:"date",label:"Start Date",value:ir.startDate.split("T")[0],onChange:Ar=>ar(fr=>({...fr,startDate:formatISO(new Date(Ar.target.value))}))}),jsxRuntimeExports.jsx(Input,{type:"date",label:"End Date",value:ir.endDate.split("T")[0],onChange:Ar=>ar(fr=>({...fr,endDate:formatISO(new Date(Ar.target.value))}))}),jsxRuntimeExports.jsxs(Select$1,{label:"Model",value:ir.model,onChange:Ar=>ar(fr=>({...fr,model:Ar.target.value})),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Models"}),jsxRuntimeExports.jsx("option",{value:"Gemini",children:"Gemini"}),jsxRuntimeExports.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),jsxRuntimeExports.jsx("option",{value:"Deepgram",children:"Deepgram"})]}),jsxRuntimeExports.jsxs(Select$1,{label:"Role",value:ir.role,onChange:Ar=>ar(fr=>({...fr,role:Ar.target.value})),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Roles"}),jsxRuntimeExports.jsx("option",{value:"patient",children:"Patient"}),jsxRuntimeExports.jsx("option",{value:"provider",children:"Provider"}),jsxRuntimeExports.jsx("option",{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx("option",{value:"system",children:"System"})]}),jsxRuntimeExports.jsxs(Select$1,{label:"Success",value:ir.success,onChange:Ar=>ar(fr=>({...fr,success:Ar.target.value})),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Success"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Failed"})]}),jsxRuntimeExports.jsx(Input,{label:"Action",placeholder:"Search action...",value:ir.action,onChange:Ar=>ar(fr=>({...fr,action:Ar.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:or,variant:"secondary",size:"sm",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:lr,variant:"secondary",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Activity Log"}),nr?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading logs..."}):er.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No logs found"}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"Date/Time"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"User"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"Action"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"Model"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2",children:"Details"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.map(Ar=>{var fr,mr,pr,gr,xr;return jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"py-3",children:format(new Date(Ar.created_at),"MMM d, HH:mm")}),jsxRuntimeExports.jsx("td",{className:"py-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:((fr=Ar.user)==null?void 0:fr.full_name)||"System"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:Ar.role})]})}),jsxRuntimeExports.jsxs("td",{className:"py-3",children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:ur(Ar.action)}),Ar.action]}),jsxRuntimeExports.jsxs("td",{className:"py-3",children:[jsxRuntimeExports.jsx(Badge,{variant:cr(Ar.model),children:Ar.model}),Ar.voice_used&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Voice: ",Ar.voice_used]})]}),jsxRuntimeExports.jsx("td",{className:"py-3",children:Ar.success?jsxRuntimeExports.jsx(Badge,{variant:"green",children:"Success"}):jsxRuntimeExports.jsx(Badge,{variant:"red",children:"Failed"})}),jsxRuntimeExports.jsx("td",{className:"py-3",children:jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("summary",{className:"text-blue-600 hover:text-blue-800",children:"View"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("strong",{children:"Input:"}),jsxRuntimeExports.jsxs("pre",{className:"whitespace-pre-wrap mt-1",children:[(mr=Ar.input)==null?void 0:mr.substring(0,200),((pr=Ar.input)==null?void 0:pr.length)>200&&"..."]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Output:"}),jsxRuntimeExports.jsxs("pre",{className:"whitespace-pre-wrap mt-1",children:[(gr=Ar.output)==null?void 0:gr.substring(0,200),((xr=Ar.output)==null?void 0:xr.length)>200&&"..."]})]})]})]})})]},Ar.id)})})]})})]})]})}function AuditLogViewer$1(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState([]),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(""),[or,lr]=reactExports.useState("all"),[cr,ur]=reactExports.useState("all"),[dr,hr]=reactExports.useState(0),Ar=50,[fr,mr]=reactExports.useState(0);reactExports.useEffect(()=>{pr()},[dr]),reactExports.useEffect(()=>{gr()},[er,ir,or,cr]);const pr=async()=>{sr(!0);try{const{count:_r}=await supabase.from("audit_logs").select("*",{count:"exact",head:!0});mr(_r||0);const{data:Sr}=await supabase.from("audit_logs").select("*").order("created_at",{ascending:!1}).range(dr*Ar,(dr+1)*Ar-1);Sr&&St(Sr)}catch(_r){console.error("Error fetching audit logs:",_r)}finally{sr(!1)}},gr=()=>{let _r=[...er];if(ir&&(_r=_r.filter(Sr=>Sr.action.toLowerCase().includes(ir.toLowerCase())||JSON.stringify(Sr.context).toLowerCase().includes(ir.toLowerCase()))),or!=="all"&&(_r=_r.filter(Sr=>{const jr=Sr.action.toLowerCase();switch(or){case"auth":return jr.includes("login")||jr.includes("logout")||jr.includes("auth");case"data":return jr.includes("create")||jr.includes("update")||jr.includes("delete");case"invoice":return jr.includes("invoice");case"security":return jr.includes("permission")||jr.includes("failed");default:return!0}})),cr!=="all"){const Sr=new Date,jr=new Date;switch(cr){case"today":jr.setHours(0,0,0,0);break;case"week":jr.setDate(Sr.getDate()-7);break;case"month":jr.setMonth(Sr.getMonth()-1);break}_r=_r.filter(Pr=>new Date(Pr.created_at)>=jr)}rr(_r)},xr=_r=>{const Sr=_r.toLowerCase();return Sr.includes("login")||Sr.includes("logout")?jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}):Sr.includes("view")||Sr.includes("read")?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}):Sr.includes("create")||Sr.includes("insert")?jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}):Sr.includes("update")||Sr.includes("edit")?jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4"}):Sr.includes("delete")?jsxRuntimeExports.jsx(Trash,{className:"w-4 h-4"}):Sr.includes("invoice")?jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}):Sr.includes("email")||Sr.includes("sent")?jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}):Sr.includes("permission")||Sr.includes("denied")?jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}):Sr.includes("error")||Sr.includes("failed")?jsxRuntimeExports.jsx(AlertTriangle,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})},yr=_r=>{const Sr=_r.toLowerCase();return Sr.includes("delete")?"destructive":Sr.includes("create")||Sr.includes("insert")?"success":Sr.includes("update")?"warning":Sr.includes("error")||Sr.includes("failed")?"destructive":Sr.includes("permission")?"secondary":"default"},Er=async()=>{try{const{data:_r}=await supabase.from("audit_logs").select("*").order("created_at",{ascending:!1});if(_r){const Sr=[["ID","Created At","User ID","Action","Context"],..._r.map(Ir=>[Ir.id,Ir.created_at,Ir.user_id||"System",Ir.action,JSON.stringify(Ir.context)])].map(Ir=>Ir.join(",")).join(`
`),jr=new Blob([Sr],{type:"text/csv"}),Pr=window.URL.createObjectURL(jr),Mr=document.createElement("a");Mr.href=Pr,Mr.download=`audit-logs-${format(new Date,"yyyy-MM-dd")}.csv`,Mr.click(),window.URL.revokeObjectURL(Pr)}}catch(_r){console.error("Error exporting logs:",_r)}};return nr?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Audit Logs"}),jsxRuntimeExports.jsxs(Button$1,{onClick:Er,variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search logs...",value:ir,onChange:_r=>ar(_r.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs(Select$1,{value:or,onValueChange:lr,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Actions"}),jsxRuntimeExports.jsx("option",{value:"auth",children:"Authentication"}),jsxRuntimeExports.jsx("option",{value:"data",children:"Data Changes"}),jsxRuntimeExports.jsx("option",{value:"invoice",children:"Invoices"}),jsxRuntimeExports.jsx("option",{value:"security",children:"Security"})]}),jsxRuntimeExports.jsxs(Select$1,{value:cr,onValueChange:ur,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"week",children:"Last 7 Days"}),jsxRuntimeExports.jsx("option",{value:"month",children:"Last 30 Days"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),tr.length," of ",er.length," logs"]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:tr.map(_r=>jsxRuntimeExports.jsx(Card,{className:"p-4 hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1",children:xr(_r.action)}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Badge,{variant:yr(_r.action),children:_r.action}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:format(new Date(_r.created_at),"MMM dd, yyyy HH:mm:ss")})]}),_r.user_id&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["User ID: ",_r.user_id]}),_r.context&&Object.keys(_r.context).length>0&&jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("summary",{className:"text-sm text-blue-600 hover:text-blue-800",children:"View Context Details"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs bg-gray-50 p-3 rounded overflow-x-auto max-h-40",children:JSON.stringify(_r.context,null,2)})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 text-gray-400"})})]})},_r.id))}),fr>Ar&&jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",dr*Ar+1," to ",Math.min((dr+1)*Ar,fr)," of ",fr," logs"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>hr(Math.max(0,dr-1)),disabled:dr===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),"Previous"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>hr(dr+1),disabled:(dr+1)*Ar>=fr,children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})}),tr.length===0&&jsxRuntimeExports.jsxs(Card,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Activity,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"No audit logs found"})]})]})}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(er,St)=>{for(var tr in St)__defProp(er,tr,{get:St[tr],enumerable:!0})},__copyProps=(er,St,tr,rr)=>{if(St&&typeof St=="object"||typeof St=="function")for(let nr of __getOwnPropNames(St))!__hasOwnProp.call(er,nr)&&nr!==tr&&__defProp(er,nr,{get:()=>St[nr],enumerable:!(rr=__getOwnPropDesc(St,nr))||rr.enumerable});return er},__toCommonJS=er=>__copyProps(__defProp({},"__esModule",{value:!0}),er),__async=(er,St,tr)=>new Promise((rr,nr)=>{var sr=or=>{try{ar(tr.next(or))}catch(lr){nr(lr)}},ir=or=>{try{ar(tr.throw(or))}catch(lr){nr(lr)}},ar=or=>or.done?rr(or.value):Promise.resolve(or.value).then(sr,ir);ar((tr=tr.apply(er,St)).next())}),src_exports={};__export(src_exports,{SessionContextProvider:()=>SessionContextProvider,useSession:()=>useSession,useSessionContext:()=>useSessionContext,useSupabaseClient:()=>useSupabaseClient,useUser:()=>useUser$1});var dist$3=__toCommonJS(src_exports),import_react=reactExports,import_jsx_runtime=jsxRuntimeExports,SessionContext=(0,import_react.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),SessionContextProvider=({supabaseClient:er,initialSession:St=null,children:tr})=>{const[rr,nr]=(0,import_react.useState)(St),[sr,ir]=(0,import_react.useState)(!St),[ar,or]=(0,import_react.useState)();(0,import_react.useEffect)(()=>{!rr&&St&&nr(St)},[rr,St]),(0,import_react.useEffect)(()=>{let cr=!0;function ur(){return __async(this,null,function*(){const{data:{session:dr},error:hr}=yield er.auth.getSession();if(cr){if(hr){or(hr),ir(!1);return}nr(dr),ir(!1)}})}return ur(),()=>{cr=!1}},[]),(0,import_react.useEffect)(()=>{const{data:{subscription:cr}}=er.auth.onAuthStateChange((ur,dr)=>{dr&&(ur==="SIGNED_IN"||ur==="TOKEN_REFRESHED"||ur==="USER_UPDATED")&&nr(dr),ur==="SIGNED_OUT"&&nr(null)});return()=>{cr.unsubscribe()}},[]);const lr=(0,import_react.useMemo)(()=>sr?{isLoading:!0,session:null,error:null,supabaseClient:er}:ar?{isLoading:!1,session:null,error:ar,supabaseClient:er}:{isLoading:!1,session:rr,error:null,supabaseClient:er},[sr,rr,ar]);return(0,import_jsx_runtime.jsx)(SessionContext.Provider,{value:lr,children:tr})},useSessionContext=()=>{const er=(0,import_react.useContext)(SessionContext);if(er===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return er};function useSupabaseClient(){const er=(0,import_react.useContext)(SessionContext);if(er===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return er.supabaseClient}var useSession=()=>{const er=(0,import_react.useContext)(SessionContext);if(er===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return er.session},useUser$1=()=>{var er,St;const tr=(0,import_react.useContext)(SessionContext);if(tr===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(St=(er=tr.session)==null?void 0:er.user)!=null?St:null};const auditService={async logPatientView(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"VIEWED_PATIENT_FILE",context:{patient_id:er,page:St}})},async logPatientUpdate(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"UPDATED_PATIENT_INFO",context:{patient_id:er,changes:St}})},async logMedicalRecordAccess(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"ACCESSED_MEDICAL_RECORD",context:{patient_id:er,record_type:St}})},async logInvoiceGeneration(er,St,tr){var rr;await supabase.from("audit_logs").insert({user_id:(rr=(await supabase.auth.getUser()).data.user)==null?void 0:rr.id,action:"GENERATED_INVOICE",context:{employer_id:er,invoice_id:St,amount:tr}})},async logInvoiceEmail(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"SENT_INVOICE_EMAIL",context:{invoice_id:er,recipient:St}})},async logLogin(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"USER_LOGIN",context:{email:er,role:St,timestamp:new Date().toISOString()}})},async logLogout(er){var St;await supabase.from("audit_logs").insert({user_id:(St=(await supabase.auth.getUser()).data.user)==null?void 0:St.id,action:"USER_LOGOUT",context:{email:er,timestamp:new Date().toISOString()}})},async logAIQuery(er,St,tr){var rr;await supabase.from("audit_logs").insert({user_id:(rr=(await supabase.auth.getUser()).data.user)==null?void 0:rr.id,action:"AI_QUERY",context:{query:er,model:St,employer_id:tr}})},async logVoiceTranscription(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"VOICE_TRANSCRIPTION",context:{duration_seconds:er,employer_id:St}})},async logFileUpload(er,St,tr){var rr;await supabase.from("audit_logs").insert({user_id:(rr=(await supabase.auth.getUser()).data.user)==null?void 0:rr.id,action:"FILE_UPLOAD",context:{file_name:er,file_size:St,bucket:tr}})},async logFileDownload(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"FILE_DOWNLOAD",context:{file_name:er,bucket:St}})},async logSymptomCheck(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"SYMPTOM_CHECK",context:{symptoms:er,analysis_id:St}})},async logFailedLogin(er,St){await supabase.from("audit_logs").insert({user_id:null,action:"FAILED_LOGIN",context:{email:er,reason:St,ip:await getClientIP()}})},async logPermissionDenied(er,St){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:"PERMISSION_DENIED",context:{resource:er,attempted_action:St}})},async log(er,St={}){var tr;await supabase.from("audit_logs").insert({user_id:(tr=(await supabase.auth.getUser()).data.user)==null?void 0:tr.id,action:er,context:St})}};async function getClientIP(){return"Unknown"}function RoleGuard({children:er,roles:St,redirectTo:tr="/unauthorized"}){var ir;const rr=dist$3.useUser(),nr=(ir=rr==null?void 0:rr.user_metadata)==null?void 0:ir.role,sr=useLocation();return reactExports.useEffect(()=>{rr&&(!nr||!St.includes(nr))&&auditService.logPermissionDenied(sr.pathname,`Required roles: ${St.join(", ")}, User role: ${nr||"none"}`)},[rr,nr,St,sr.pathname]),rr?!nr||!St.includes(nr)?jsxRuntimeExports.jsx(Navigate,{to:tr,replace:!0}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:er}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function AuditDashboard(){const[er,St]=reactExports.useState({totalActions:0,uniqueUsers:0,securityEvents:0,dataChanges:0,recentActivity:[],topActions:[]}),[tr,rr]=reactExports.useState(!0);reactExports.useEffect(()=>{nr()},[]);const nr=async()=>{try{const sr=new Date;sr.setDate(sr.getDate()-7);const{data:ir}=await supabase.from("audit_logs").select("*").gte("created_at",sr.toISOString()).order("created_at",{ascending:!1});if(ir){const ar=ir.length,or=new Set(ir.filter(fr=>fr.user_id).map(fr=>fr.user_id)).size,lr=ir.filter(fr=>fr.action.toLowerCase().includes("permission")||fr.action.toLowerCase().includes("denied")||fr.action.toLowerCase().includes("failed")).length,cr=ir.filter(fr=>fr.action.toLowerCase().includes("create")||fr.action.toLowerCase().includes("update")||fr.action.toLowerCase().includes("delete")).length,ur=ir.filter(fr=>{const mr=new Date(fr.created_at),pr=new Date;return pr.setDate(pr.getDate()-1),mr>=pr}),dr=Array.from({length:24},(fr,mr)=>({hour:mr,count:0}));ur.forEach(fr=>{const mr=new Date(fr.created_at).getHours();dr[mr].count++});const hr=ir.reduce((fr,mr)=>(fr[mr.action]=(fr[mr.action]||0)+1,fr),{}),Ar=Object.entries(hr).sort(([,fr],[,mr])=>mr-fr).slice(0,5).map(([fr,mr])=>({action:fr,count:mr}));St({totalActions:ar,uniqueUsers:or,securityEvents:lr,dataChanges:cr,recentActivity:dr,topActions:Ar})}}catch(sr){console.error("Error fetching audit stats:",sr)}finally{rr(!1)}};return tr?jsxRuntimeExports.jsx(RoleGuard,{roles:["admin","owner"],children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):jsxRuntimeExports.jsx(RoleGuard,{roles:["admin","owner"],children:jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Audit Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Total Actions (7d)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.totalActions})]}),jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-blue-600"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.uniqueUsers})]}),jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-green-600"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Security Events"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.securityEvents})]}),jsxRuntimeExports.jsx(Shield,{className:"w-8 h-8 text-orange-600"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Data Changes"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.dataChanges})]}),jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-purple-600"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),"24-Hour Activity"]}),jsxRuntimeExports.jsx("div",{className:"h-32 flex items-end gap-1",children:er.recentActivity.map(sr=>{const ir=Math.max(...er.recentActivity.map(or=>or.count)),ar=ir>0?sr.count/ir*100:0;return jsxRuntimeExports.jsx("div",{className:"flex-1 bg-blue-500 hover:bg-blue-600 transition-colors rounded-t",style:{height:`${ar}%`},title:`${sr.hour}:00 - ${sr.count} actions`},sr.hour)})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"00:00"}),jsxRuntimeExports.jsx("span",{children:"06:00"}),jsxRuntimeExports.jsx("span",{children:"12:00"}),jsxRuntimeExports.jsx("span",{children:"18:00"}),jsxRuntimeExports.jsx("span",{children:"23:00"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(BarChart$1,{className:"w-5 h-5"}),"Top Actions"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:er.topActions.map((sr,ir)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium w-8",children:[ir+1,"."]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:sr.action}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:sr.count})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${sr.count/er.topActions[0].count*100}%`}})})]})]},sr.action))})]})]}),er.securityEvents>0&&jsxRuntimeExports.jsx(Card,{className:"border-orange-200 bg-orange-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6 text-orange-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-orange-900",children:"Security Events Detected"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-orange-700",children:[er.securityEvents," security-related events in the last 7 days. Review the audit logs below."]})]})]})}),jsxRuntimeExports.jsx(AuditLogViewer$1,{})]})})}function GlassCard({children:er,className:St}){return jsxRuntimeExports.jsx("div",{className:cn("bg-glass backdrop-blur-xl border border-white/10 shadow-xl rounded-xl p-6 transition-all duration-300 ease-in-out",St),children:er})}function Section$1({title:er,icon:St,description:tr,children:rr}){return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(St,{className:"h-5 w-5 text-primary"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white drop-shadow",children:er})]}),tr&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:tr}),rr]})}function __insertCSS(er){if(typeof document>"u")return;let St=document.head||document.getElementsByTagName("head")[0],tr=document.createElement("style");tr.type="text/css",St.appendChild(tr),tr.styleSheet?tr.styleSheet.cssText=er:tr.appendChild(document.createTextNode(er))}Array(12).fill(0);let toastsCounter=1;class Observer{constructor(){this.subscribe=St=>(this.subscribers.push(St),()=>{const tr=this.subscribers.indexOf(St);this.subscribers.splice(tr,1)}),this.publish=St=>{this.subscribers.forEach(tr=>tr(St))},this.addToast=St=>{this.publish(St),this.toasts=[...this.toasts,St]},this.create=St=>{var tr;const{message:rr,...nr}=St,sr=typeof(St==null?void 0:St.id)=="number"||((tr=St.id)==null?void 0:tr.length)>0?St.id:toastsCounter++,ir=this.toasts.find(or=>or.id===sr),ar=St.dismissible===void 0?!0:St.dismissible;return this.dismissedToasts.has(sr)&&this.dismissedToasts.delete(sr),ir?this.toasts=this.toasts.map(or=>or.id===sr?(this.publish({...or,...St,id:sr,title:rr}),{...or,...St,id:sr,dismissible:ar,title:rr}):or):this.addToast({title:rr,...nr,dismissible:ar,id:sr}),sr},this.dismiss=St=>(St?(this.dismissedToasts.add(St),requestAnimationFrame(()=>this.subscribers.forEach(tr=>tr({id:St,dismiss:!0})))):this.toasts.forEach(tr=>{this.subscribers.forEach(rr=>rr({id:tr.id,dismiss:!0}))}),St),this.message=(St,tr)=>this.create({...tr,message:St}),this.error=(St,tr)=>this.create({...tr,message:St,type:"error"}),this.success=(St,tr)=>this.create({...tr,type:"success",message:St}),this.info=(St,tr)=>this.create({...tr,type:"info",message:St}),this.warning=(St,tr)=>this.create({...tr,type:"warning",message:St}),this.loading=(St,tr)=>this.create({...tr,type:"loading",message:St}),this.promise=(St,tr)=>{if(!tr)return;let rr;tr.loading!==void 0&&(rr=this.create({...tr,promise:St,type:"loading",message:tr.loading,description:typeof tr.description!="function"?tr.description:void 0}));const nr=Promise.resolve(St instanceof Function?St():St);let sr=rr!==void 0,ir;const ar=nr.then(async lr=>{if(ir=["resolve",lr],React$3.isValidElement(lr))sr=!1,this.create({id:rr,type:"default",message:lr});else if(isHttpResponse(lr)&&!lr.ok){sr=!1;const ur=typeof tr.error=="function"?await tr.error(`HTTP error! status: ${lr.status}`):tr.error,dr=typeof tr.description=="function"?await tr.description(`HTTP error! status: ${lr.status}`):tr.description,Ar=typeof ur=="object"&&!React$3.isValidElement(ur)?ur:{message:ur};this.create({id:rr,type:"error",description:dr,...Ar})}else if(lr instanceof Error){sr=!1;const ur=typeof tr.error=="function"?await tr.error(lr):tr.error,dr=typeof tr.description=="function"?await tr.description(lr):tr.description,Ar=typeof ur=="object"&&!React$3.isValidElement(ur)?ur:{message:ur};this.create({id:rr,type:"error",description:dr,...Ar})}else if(tr.success!==void 0){sr=!1;const ur=typeof tr.success=="function"?await tr.success(lr):tr.success,dr=typeof tr.description=="function"?await tr.description(lr):tr.description,Ar=typeof ur=="object"&&!React$3.isValidElement(ur)?ur:{message:ur};this.create({id:rr,type:"success",description:dr,...Ar})}}).catch(async lr=>{if(ir=["reject",lr],tr.error!==void 0){sr=!1;const cr=typeof tr.error=="function"?await tr.error(lr):tr.error,ur=typeof tr.description=="function"?await tr.description(lr):tr.description,hr=typeof cr=="object"&&!React$3.isValidElement(cr)?cr:{message:cr};this.create({id:rr,type:"error",description:ur,...hr})}}).finally(()=>{sr&&(this.dismiss(rr),rr=void 0),tr.finally==null||tr.finally.call(tr)}),or=()=>new Promise((lr,cr)=>ar.then(()=>ir[0]==="reject"?cr(ir[1]):lr(ir[1])).catch(cr));return typeof rr!="string"&&typeof rr!="number"?{unwrap:or}:Object.assign(rr,{unwrap:or})},this.custom=(St,tr)=>{const rr=(tr==null?void 0:tr.id)||toastsCounter++;return this.create({jsx:St(rr),id:rr,...tr}),rr},this.getActiveToasts=()=>this.toasts.filter(St=>!this.dismissedToasts.has(St.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ToastState=new Observer,toastFunction=(er,St)=>{const tr=(St==null?void 0:St.id)||toastsCounter++;return ToastState.addToast({title:er,...St,id:tr}),tr},isHttpResponse=er=>er&&typeof er=="object"&&"ok"in er&&typeof er.ok=="boolean"&&"status"in er&&typeof er.status=="number",basicToast=toastFunction,getHistory=()=>ToastState.toasts,getToasts=()=>ToastState.getActiveToasts(),toast=Object.assign(basicToast,{success:ToastState.success,info:ToastState.info,warning:ToastState.warning,error:ToastState.error,custom:ToastState.custom,message:ToastState.message,promise:ToastState.promise,dismiss:ToastState.dismiss,loading:ToastState.loading},{getHistory,getToasts});__insertCSS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function AuditLogViewer(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState({search:"",action:"",entityType:"",userId:"",startDate:"",endDate:""}),[ir,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(!0),cr=50;reactExports.useEffect(()=>{ur()},[ir]);const ur=async()=>{try{let mr=supabase.from("audit_logs").select(`
          *,
          user:profiles!audit_logs_user_id_fkey(
            full_name,
            email,
            role
          )
        `).order("created_at",{ascending:!1}).range(ir*cr,(ir+1)*cr-1);nr.search&&(mr=mr.or(`action.ilike.%${nr.search}%,metadata.ilike.%${nr.search}%`)),nr.action&&(mr=mr.eq("action",nr.action)),nr.entityType&&(mr=mr.eq("entity_type",nr.entityType)),nr.userId&&(mr=mr.eq("user_id",nr.userId)),nr.startDate&&(mr=mr.gte("created_at",nr.startDate)),nr.endDate&&(mr=mr.lte("created_at",nr.endDate));const{data:pr,error:gr,count:xr}=await mr;if(gr)throw gr;St(ir===0?pr||[]:yr=>[...yr,...pr||[]]),lr(((pr==null?void 0:pr.length)||0)===cr)}catch{toast.error("Failed to fetch audit logs")}finally{rr(!1)}},dr=()=>{ar(0),St([]),ur()},hr=async()=>{try{const mr=[...er],pr=[["Timestamp","User","Action","Entity Type","Entity ID","IP Address","Details"],...mr.map(Er=>{var _r;return[format(new Date(Er.created_at),"yyyy-MM-dd HH:mm:ss"),((_r=Er.user)==null?void 0:_r.email)||"System",Er.action,Er.entity_type,Er.entity_id||"N/A",Er.ip_address||"N/A",JSON.stringify(Er.metadata||{})]})].map(Er=>Er.join(",")).join(`
`),gr=new Blob([pr],{type:"text/csv"}),xr=URL.createObjectURL(gr),yr=document.createElement("a");yr.href=xr,yr.download=`audit-logs-${format(new Date,"yyyy-MM-dd")}.csv`,yr.click(),URL.revokeObjectURL(xr),toast.success("Audit logs exported")}catch{toast.error("Failed to export logs")}},Ar=mr=>mr.includes("delete")||mr.includes("remove")?"destructive":mr.includes("create")||mr.includes("add")?"success":mr.includes("update")||mr.includes("modify")?"warning":mr.includes("access")||mr.includes("view")?"secondary":"default",fr=mr=>mr.includes("auth")?"":mr.includes("patient")?"":mr.includes("file")?"":mr.includes("appointment")?"":mr.includes("admin")?"":mr.includes("consent")?"":mr.includes("emergency")?"":"";return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Section$1,{title:"Audit Logs",icon:Shield,description:"HIPAA-compliant activity tracking",children:jsxRuntimeExports.jsxs(GlassCard,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Search actions or metadata...",value:nr.search,onChange:mr=>sr({...nr,search:mr.target.value}),className:"bg-glass"}),jsxRuntimeExports.jsx(Input,{type:"date",placeholder:"Start date",value:nr.startDate,onChange:mr=>sr({...nr,startDate:mr.target.value}),className:"bg-glass"}),jsxRuntimeExports.jsx(Input,{type:"date",placeholder:"End date",value:nr.endDate,onChange:mr=>sr({...nr,endDate:mr.target.value}),className:"bg-glass"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:dr,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4"}),"Search"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:hr,variant:"outline",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Export CSV"]})]})]})}),jsxRuntimeExports.jsx(GlassCard,{children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:tr?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading audit logs..."}):er.length===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No audit logs found"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[er.map(mr=>{var pr,gr;return jsxRuntimeExports.jsxs("div",{className:"p-4 border border-white/10 rounded-lg space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:fr(mr.action)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:Ar(mr.action),children:mr.action}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[mr.entity_type,mr.entity_id&&` #${mr.entity_id.slice(0,8)}...`]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"h-3 w-3"}),((pr=mr.user)==null?void 0:pr.full_name)||((gr=mr.user)==null?void 0:gr.email)||"System"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-3 w-3"}),format(new Date(mr.created_at),"MMM d, yyyy h:mm a")]}),mr.ip_address&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"h-3 w-3"}),mr.ip_address]})]})]})]})}),mr.metadata&&Object.keys(mr.metadata).length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 p-2 bg-black/20 rounded text-sm",children:jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("summary",{className:"text-muted-foreground",children:"View Details"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs overflow-x-auto",children:JSON.stringify(mr.metadata,null,2)})]})})]},mr.id)}),or&&jsxRuntimeExports.jsx(Button$1,{onClick:()=>ar(ir+1),variant:"outline",className:"w-full",children:"Load More"})]})})})]})}function ComplianceDashboard(){const[er,St]=reactExports.useState(null),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState("overview");reactExports.useEffect(()=>{ir()},[]);const ir=async()=>{try{const[{count:ur},{count:dr},{data:hr},{data:Ar}]=await Promise.all([supabase.from("profiles").select("*",{count:"exact",head:!0}),supabase.from("audit_logs").select("*",{count:"exact",head:!0}).gte("created_at",new Date(Date.now()-2592e6).toISOString()),supabase.from("security_incidents").select("*").eq("status","open"),supabase.from("audit_logs").select("*").eq("action","emergency_access.granted").gte("created_at",new Date(Date.now()-6048e5).toISOString())]),fr=ar(),mr=dr?Math.min(100,dr/ur*10):0,pr=100,gr=75,xr=(hr==null?void 0:hr.length)===0?100:50,yr=80,Er=Math.round((fr+mr+pr+gr+xr+yr)/6),_r=[];mr<80&&_r.push({id:"1",severity:"high",category:"Audit Logging",description:"Insufficient audit logging coverage",recommendation:"Ensure all PHI access is being logged",status:"open"}),Ar&&Ar.length>0&&_r.push({id:"2",severity:"medium",category:"Access Control",description:`${Ar.length} emergency access events in the last 7 days`,recommendation:"Review emergency access logs for appropriateness",status:"open"}),St({overallScore:Er,categories:{accessControl:fr,auditLogging:mr,dataEncryption:pr,userTraining:gr,incidentResponse:xr,riskAssessment:yr},issues:_r,lastAssessment:new Date().toISOString()})}catch{toast.error("Failed to fetch compliance metrics")}finally{rr(!1)}},ar=()=>85,or=async()=>{toast.loading("Generating compliance report..."),setTimeout(()=>{toast.dismiss(),toast.success("Compliance report generated");const ur=`
HIPAA Compliance Report
Generated: ${new Date().toLocaleDateString()}

Overall Compliance Score: ${er==null?void 0:er.overallScore}%

Category Scores:
- Access Control: ${er==null?void 0:er.categories.accessControl}%
- Audit Logging: ${er==null?void 0:er.categories.auditLogging}%
- Data Encryption: ${er==null?void 0:er.categories.dataEncryption}%
- User Training: ${er==null?void 0:er.categories.userTraining}%
- Incident Response: ${er==null?void 0:er.categories.incidentResponse}%
- Risk Assessment: ${er==null?void 0:er.categories.riskAssessment}%

Open Issues: ${er==null?void 0:er.issues.filter(fr=>fr.status==="open").length}
      `,dr=new Blob([ur],{type:"text/plain"}),hr=URL.createObjectURL(dr),Ar=document.createElement("a");Ar.href=hr,Ar.download=`hipaa-compliance-report-${new Date().toISOString().split("T")[0]}.txt`,Ar.click(),URL.revokeObjectURL(hr)},2e3)},lr=ur=>{switch(ur){case"critical":return"destructive";case"high":return"warning";case"medium":return"secondary";case"low":return"default";default:return"default"}},cr=ur=>ur>=90?"text-green-500":ur>=70?"text-yellow-500":"text-red-500";return tr?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Loading compliance data..."})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white",children:"HIPAA Compliance Dashboard"}),jsxRuntimeExports.jsxs(Button$1,{onClick:or,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Generate Report"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 border-b border-white/10",children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr("overview"),className:`pb-2 px-4 ${nr==="overview"?"border-b-2 border-primary text-white":"text-muted-foreground"}`,children:"Overview"}),jsxRuntimeExports.jsx("button",{onClick:()=>sr("audit"),className:`pb-2 px-4 ${nr==="audit"?"border-b-2 border-primary text-white":"text-muted-foreground"}`,children:"Audit Logs"}),jsxRuntimeExports.jsx("button",{onClick:()=>sr("reports"),className:`pb-2 px-4 ${nr==="reports"?"border-b-2 border-primary text-white":"text-muted-foreground"}`,children:"Reports"})]}),nr==="overview"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Section$1,{title:"Overall Compliance Score",icon:Shield,children:jsxRuntimeExports.jsx(GlassCard,{children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:`text-6xl font-bold ${cr((er==null?void 0:er.overallScore)||0)}`,children:[er==null?void 0:er.overallScore,"%"]}),jsxRuntimeExports.jsx(Progress,{value:er==null?void 0:er.overallScore,className:"h-4"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last assessed: ",er!=null&&er.lastAssessment?new Date(er.lastAssessment).toLocaleString():"Never"]})]})})}),jsxRuntimeExports.jsx(Section$1,{title:"Compliance Categories",icon:Activity,children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:er&&Object.entries(er.categories).map(([ur,dr])=>jsxRuntimeExports.jsxs(GlassCard,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-white capitalize",children:ur.replace(/([A-Z])/g," $1").trim()}),jsxRuntimeExports.jsxs("span",{className:`font-bold ${cr(dr)}`,children:[dr,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:dr,className:"h-2"})]},ur))})}),jsxRuntimeExports.jsx(Section$1,{title:"Active Issues",icon:AlertTriangle,children:jsxRuntimeExports.jsx(GlassCard,{children:(er==null?void 0:er.issues.length)===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"No compliance issues detected"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:er==null?void 0:er.issues.map(ur=>jsxRuntimeExports.jsx("div",{className:"p-4 border border-white/10 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:lr(ur.severity),children:ur.severity.toUpperCase()}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:ur.category})]}),jsxRuntimeExports.jsx("p",{className:"text-white",children:ur.description}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:ur.recommendation})]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:ur.status})]})},ur.id))})})}),jsxRuntimeExports.jsx(Section$1,{title:"Quick Actions",icon:FileText,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(GlassCard,{className:"cursor-pointer hover:bg-white/5 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-8 w-8 text-primary mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"User Access Review"})]})}),jsxRuntimeExports.jsx(GlassCard,{className:"cursor-pointer hover:bg-white/5 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx(Lock,{className:"h-8 w-8 text-primary mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Security Assessment"})]})}),jsxRuntimeExports.jsx(GlassCard,{className:"cursor-pointer hover:bg-white/5 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 text-primary mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Policy Review"})]})}),jsxRuntimeExports.jsx(GlassCard,{className:"cursor-pointer hover:bg-white/5 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-8 w-8 text-primary mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Training Status"})]})})]})})]}),nr==="audit"&&jsxRuntimeExports.jsx(AuditLogViewer,{}),nr==="reports"&&jsxRuntimeExports.jsx(Section$1,{title:"Compliance Reports",icon:FileText,children:jsxRuntimeExports.jsx(GlassCard,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-white",children:"Available compliance reports:"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full justify-start",children:"Monthly HIPAA Compliance Report"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full justify-start",children:"Security Risk Assessment"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full justify-start",children:"User Access Audit Report"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full justify-start",children:"Incident Response Summary"})]})]})})})]})}const copyProperty=(er,St,tr,rr)=>{if(tr==="length"||tr==="prototype"||tr==="arguments"||tr==="caller")return;const nr=Object.getOwnPropertyDescriptor(er,tr),sr=Object.getOwnPropertyDescriptor(St,tr);!canCopyProperty(nr,sr)&&rr||Object.defineProperty(er,tr,sr)},canCopyProperty=function(er,St){return er===void 0||er.configurable||er.writable===St.writable&&er.enumerable===St.enumerable&&er.configurable===St.configurable&&(er.writable||er.value===St.value)},changePrototype=(er,St)=>{const tr=Object.getPrototypeOf(St);tr!==Object.getPrototypeOf(er)&&Object.setPrototypeOf(er,tr)},wrappedToString=(er,St)=>`/* Wrapped ${er}*/
${St}`,toStringDescriptor=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),toStringName=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),changeToString=(er,St,tr)=>{const rr=tr===""?"":`with ${tr.trim()}() `,nr=wrappedToString.bind(null,rr,St.toString());Object.defineProperty(nr,"name",toStringName);const{writable:sr,enumerable:ir,configurable:ar}=toStringDescriptor;Object.defineProperty(er,"toString",{value:nr,writable:sr,enumerable:ir,configurable:ar})};function mimicFunction(er,St,{ignoreNonConfigurable:tr=!1}={}){const{name:rr}=er;for(const nr of Reflect.ownKeys(St))copyProperty(er,St,nr,tr);return changePrototype(er,St),changeToString(er,St,rr),er}const cacheStore=new WeakMap,cacheTimerStore=new WeakMap;function memoize(er,{cacheKey:St,cache:tr=new Map,maxAge:rr}={}){if(rr===0)return er;if(typeof rr=="number"){if(rr>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(rr<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const nr=function(...sr){var cr;const ir=St?St(sr):sr[0],ar=tr.get(ir);if(ar)return ar.data;const or=er.apply(this,sr),lr=typeof rr=="function"?rr(...sr):rr;if(tr.set(ir,{data:or,maxAge:lr?Date.now()+lr:Number.POSITIVE_INFINITY}),lr&&lr>0&&lr!==Number.POSITIVE_INFINITY){const ur=setTimeout(()=>{tr.delete(ir)},lr);(cr=ur.unref)==null||cr.call(ur);const dr=cacheTimerStore.get(er)??new Set;dr.add(ur),cacheTimerStore.set(er,dr)}return or};return mimicFunction(nr,er,{ignoreNonConfigurable:!0}),cacheStore.set(nr,tr),nr}function isString(er){return typeof er=="string"}function isUnique(er,St,tr){return tr.indexOf(er)===St}function isAllLowerCase(er){return er.toLowerCase()===er}function fixCommas(er){return er.indexOf(",")===-1?er:er.split(",")}function normalizeLocale(er){if(!er)return er;if(er==="C"||er==="posix"||er==="POSIX")return"en-US";if(er.indexOf(".")!==-1){var St=er.split(".")[0],tr=St===void 0?"":St;return normalizeLocale(tr)}if(er.indexOf("@")!==-1){var rr=er.split("@")[0],tr=rr===void 0?"":rr;return normalizeLocale(tr)}if(er.indexOf("-")===-1||!isAllLowerCase(er))return er;var nr=er.split("-"),sr=nr[0],ir=nr[1],ar=ir===void 0?"":ir;return"".concat(sr,"-").concat(ar.toUpperCase())}function getUserLocalesInternal(er){var St=er===void 0?{}:er,tr=St.useFallbackLocale,rr=tr===void 0?!0:tr,nr=St.fallbackLocale,sr=nr===void 0?"en-US":nr,ir=[];if(typeof navigator<"u"){for(var ar=navigator.languages||[],or=[],lr=0,cr=ar;lr<cr.length;lr++){var ur=cr[lr];or=or.concat(fixCommas(ur))}var dr=navigator.language,hr=dr&&fixCommas(dr);ir=ir.concat(or,hr)}return rr&&ir.push(sr),ir.filter(isString).map(normalizeLocale).filter(isUnique)}var getUserLocales=memoize(getUserLocalesInternal,{cacheKey:JSON.stringify});function getUserLocaleInternal(er){return getUserLocales(er)[0]||null}var getUserLocale=memoize(getUserLocaleInternal,{cacheKey:JSON.stringify});function makeGetEdgeOfNeighbor(er,St,tr){return function(nr,sr=tr){const ir=er(nr)+sr;return St(ir)}}function makeGetEnd(er){return function(tr){return new Date(er(tr).getTime()-1)}}function makeGetRange(er,St){return function(rr){return[er(rr),St(rr)]}}function getYear(er){if(er instanceof Date)return er.getFullYear();if(typeof er=="number")return er;const St=Number.parseInt(er,10);if(typeof er=="string"&&!Number.isNaN(St))return St;throw new Error(`Failed to get year from date: ${er}.`)}function getMonth(er){if(er instanceof Date)return er.getMonth();throw new Error(`Failed to get month from date: ${er}.`)}function getDate(er){if(er instanceof Date)return er.getDate();throw new Error(`Failed to get year from date: ${er}.`)}function getCenturyStart(er){const St=getYear(er),tr=St+(-St+1)%100,rr=new Date;return rr.setFullYear(tr,0,1),rr.setHours(0,0,0,0),rr}const getPreviousCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,-100),getNextCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,100),getCenturyEnd=makeGetEnd(getNextCenturyStart),getPreviousCenturyEnd=makeGetEdgeOfNeighbor(getYear,getCenturyEnd,-100),getCenturyRange=makeGetRange(getCenturyStart,getCenturyEnd);function getDecadeStart(er){const St=getYear(er),tr=St+(-St+1)%10,rr=new Date;return rr.setFullYear(tr,0,1),rr.setHours(0,0,0,0),rr}const getPreviousDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,-10),getNextDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,10),getDecadeEnd=makeGetEnd(getNextDecadeStart),getPreviousDecadeEnd=makeGetEdgeOfNeighbor(getYear,getDecadeEnd,-10),getDecadeRange=makeGetRange(getDecadeStart,getDecadeEnd);function getYearStart(er){const St=getYear(er),tr=new Date;return tr.setFullYear(St,0,1),tr.setHours(0,0,0,0),tr}const getPreviousYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,-1),getNextYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,1),getYearEnd=makeGetEnd(getNextYearStart),getPreviousYearEnd=makeGetEdgeOfNeighbor(getYear,getYearEnd,-1),getYearRange=makeGetRange(getYearStart,getYearEnd);function makeGetEdgeOfNeighborMonth(er,St){return function(rr,nr=St){const sr=getYear(rr),ir=getMonth(rr)+nr,ar=new Date;return ar.setFullYear(sr,ir,1),ar.setHours(0,0,0,0),er(ar)}}function getMonthStart(er){const St=getYear(er),tr=getMonth(er),rr=new Date;return rr.setFullYear(St,tr,1),rr.setHours(0,0,0,0),rr}const getPreviousMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,-1),getNextMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,1),getMonthEnd=makeGetEnd(getNextMonthStart),getPreviousMonthEnd=makeGetEdgeOfNeighborMonth(getMonthEnd,-1),getMonthRange=makeGetRange(getMonthStart,getMonthEnd);function makeGetEdgeOfNeighborDay(er,St){return function(rr,nr=St){const sr=getYear(rr),ir=getMonth(rr),ar=getDate(rr)+nr,or=new Date;return or.setFullYear(sr,ir,ar),or.setHours(0,0,0,0),er(or)}}function getDayStart(er){const St=getYear(er),tr=getMonth(er),rr=getDate(er),nr=new Date;return nr.setFullYear(St,tr,rr),nr.setHours(0,0,0,0),nr}const getNextDayStart=makeGetEdgeOfNeighborDay(getDayStart,1),getDayEnd=makeGetEnd(getNextDayStart),getDayRange=makeGetRange(getDayStart,getDayEnd);function getDaysInMonth(er){return getDate(getMonthEnd(er))}var CALENDAR_TYPES={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},CALENDAR_TYPE_LOCALES={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},WEEKDAYS=[0,1,2,3,4,5,6],formatterCache=new Map;function getFormatter(er){return function(tr,rr){var nr=tr||getUserLocale();formatterCache.has(nr)||formatterCache.set(nr,new Map);var sr=formatterCache.get(nr);return sr.has(er)||sr.set(er,new Intl.DateTimeFormat(nr||void 0,er).format),sr.get(er)(rr)}}function toSafeHour(er){var St=new Date(er);return new Date(St.setHours(12))}function getSafeFormatter(er){return function(St,tr){return getFormatter(er)(St,toSafeHour(tr))}}var formatDayOptions={day:"numeric"},formatLongDateOptions={day:"numeric",month:"long",year:"numeric"},formatMonthOptions={month:"long"},formatMonthYearOptions={month:"long",year:"numeric"},formatShortWeekdayOptions={weekday:"short"},formatWeekdayOptions={weekday:"long"},formatYearOptions={year:"numeric"},formatDay$1=getSafeFormatter(formatDayOptions),formatLongDate=getSafeFormatter(formatLongDateOptions),formatMonth=getSafeFormatter(formatMonthOptions),formatMonthYear=getSafeFormatter(formatMonthYearOptions),formatShortWeekday=getSafeFormatter(formatShortWeekdayOptions),formatWeekday=getSafeFormatter(formatWeekdayOptions),formatYear=getSafeFormatter(formatYearOptions),SUNDAY=WEEKDAYS[0],FRIDAY=WEEKDAYS[5],SATURDAY=WEEKDAYS[6];function getDayOfWeek(er,St){St===void 0&&(St=CALENDAR_TYPES.ISO_8601);var tr=er.getDay();switch(St){case CALENDAR_TYPES.ISO_8601:return(tr+6)%7;case CALENDAR_TYPES.ISLAMIC:return(tr+1)%7;case CALENDAR_TYPES.HEBREW:case CALENDAR_TYPES.GREGORY:return tr;default:throw new Error("Unsupported calendar type.")}}function getBeginOfCenturyYear(er){var St=getCenturyStart(er);return getYear(St)}function getBeginOfDecadeYear(er){var St=getDecadeStart(er);return getYear(St)}function getBeginOfWeek(er,St){St===void 0&&(St=CALENDAR_TYPES.ISO_8601);var tr=getYear(er),rr=getMonth(er),nr=er.getDate()-getDayOfWeek(er,St);return new Date(tr,rr,nr)}function getWeekNumber(er,St){St===void 0&&(St=CALENDAR_TYPES.ISO_8601);var tr=St===CALENDAR_TYPES.GREGORY?CALENDAR_TYPES.GREGORY:CALENDAR_TYPES.ISO_8601,rr=getBeginOfWeek(er,St),nr=getYear(er)+1,sr,ir;do sr=new Date(nr,0,tr===CALENDAR_TYPES.ISO_8601?4:1),ir=getBeginOfWeek(sr,St),nr-=1;while(er<ir);return Math.round((rr.getTime()-ir.getTime())/(864e5*7))+1}function getBegin(er,St){switch(er){case"century":return getCenturyStart(St);case"decade":return getDecadeStart(St);case"year":return getYearStart(St);case"month":return getMonthStart(St);case"day":return getDayStart(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getBeginPrevious(er,St){switch(er){case"century":return getPreviousCenturyStart(St);case"decade":return getPreviousDecadeStart(St);case"year":return getPreviousYearStart(St);case"month":return getPreviousMonthStart(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getBeginNext(er,St){switch(er){case"century":return getNextCenturyStart(St);case"decade":return getNextDecadeStart(St);case"year":return getNextYearStart(St);case"month":return getNextMonthStart(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getBeginPrevious2(er,St){switch(er){case"decade":return getPreviousDecadeStart(St,-100);case"year":return getPreviousYearStart(St,-10);case"month":return getPreviousMonthStart(St,-12);default:throw new Error("Invalid rangeType: ".concat(er))}}function getBeginNext2(er,St){switch(er){case"decade":return getNextDecadeStart(St,100);case"year":return getNextYearStart(St,10);case"month":return getNextMonthStart(St,12);default:throw new Error("Invalid rangeType: ".concat(er))}}function getEnd(er,St){switch(er){case"century":return getCenturyEnd(St);case"decade":return getDecadeEnd(St);case"year":return getYearEnd(St);case"month":return getMonthEnd(St);case"day":return getDayEnd(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getEndPrevious(er,St){switch(er){case"century":return getPreviousCenturyEnd(St);case"decade":return getPreviousDecadeEnd(St);case"year":return getPreviousYearEnd(St);case"month":return getPreviousMonthEnd(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getEndPrevious2(er,St){switch(er){case"decade":return getPreviousDecadeEnd(St,-100);case"year":return getPreviousYearEnd(St,-10);case"month":return getPreviousMonthEnd(St,-12);default:throw new Error("Invalid rangeType: ".concat(er))}}function getRange(er,St){switch(er){case"century":return getCenturyRange(St);case"decade":return getDecadeRange(St);case"year":return getYearRange(St);case"month":return getMonthRange(St);case"day":return getDayRange(St);default:throw new Error("Invalid rangeType: ".concat(er))}}function getValueRange(er,St,tr){var rr=[St,tr].sort(function(nr,sr){return nr.getTime()-sr.getTime()});return[getBegin(er,rr[0]),getEnd(er,rr[1])]}function toYearLabel(er,St,tr){return tr.map(function(rr){return(St||formatYear)(er,rr)}).join("  ")}function getCenturyLabel(er,St,tr){return toYearLabel(er,St,getCenturyRange(tr))}function getDecadeLabel(er,St,tr){return toYearLabel(er,St,getDecadeRange(tr))}function isCurrentDayOfWeek(er){return er.getDay()===new Date().getDay()}function isWeekend(er,St){St===void 0&&(St=CALENDAR_TYPES.ISO_8601);var tr=er.getDay();switch(St){case CALENDAR_TYPES.ISLAMIC:case CALENDAR_TYPES.HEBREW:return tr===FRIDAY||tr===SATURDAY;case CALENDAR_TYPES.ISO_8601:case CALENDAR_TYPES.GREGORY:return tr===SATURDAY||tr===SUNDAY;default:throw new Error("Unsupported calendar type.")}}var className$6="react-calendar__navigation";function Navigation(er){var St=er.activeStartDate,tr=er.drillUp,rr=er.formatMonthYear,nr=rr===void 0?formatMonthYear:rr,sr=er.formatYear,ir=sr===void 0?formatYear:sr,ar=er.locale,or=er.maxDate,lr=er.minDate,cr=er.navigationAriaLabel,ur=cr===void 0?"":cr,dr=er.navigationAriaLive,hr=er.navigationLabel,Ar=er.next2AriaLabel,fr=Ar===void 0?"":Ar,mr=er.next2Label,pr=mr===void 0?"":mr,gr=er.nextAriaLabel,xr=gr===void 0?"":gr,yr=er.nextLabel,Er=yr===void 0?"":yr,_r=er.prev2AriaLabel,Sr=_r===void 0?"":_r,jr=er.prev2Label,Pr=jr===void 0?"":jr,Mr=er.prevAriaLabel,Ir=Mr===void 0?"":Mr,Lr=er.prevLabel,Qr=Lr===void 0?"":Lr,Yr=er.setActiveStartDate,Gr=er.showDoubleView,$r=er.view,Vr=er.views,Tr=Vr.indexOf($r)>0,Fr=$r!=="century",Wr=getBeginPrevious($r,St),qr=Fr?getBeginPrevious2($r,St):void 0,Rr=getBeginNext($r,St),Or=Fr?getBeginNext2($r,St):void 0,Hr=function(){if(Wr.getFullYear()<0)return!0;var Rn=getEndPrevious($r,St);return lr&&lr>=Rn}(),zr=Fr&&function(){if(qr.getFullYear()<0)return!0;var Rn=getEndPrevious2($r,St);return lr&&lr>=Rn}(),Zr=or&&or<Rr,nn=Fr&&or&&or<Or;function vn(){Yr(Wr,"prev")}function hn(){Yr(qr,"prev2")}function En(){Yr(Rr,"next")}function Tn(){Yr(Or,"next2")}function bn(Rn){var Nn=function(){switch($r){case"century":return getCenturyLabel(ar,ir,Rn);case"decade":return getDecadeLabel(ar,ir,Rn);case"year":return ir(ar,Rn);case"month":return nr(ar,Rn);default:throw new Error("Invalid view: ".concat($r,"."))}}();return hr?hr({date:Rn,label:Nn,locale:ar||getUserLocale()||void 0,view:$r}):Nn}function Mn(){var Rn="".concat(className$6,"__label");return jsxRuntimeExports.jsxs("button",{"aria-label":ur,"aria-live":dr,className:Rn,disabled:!Tr,onClick:tr,style:{flexGrow:1},type:"button",children:[jsxRuntimeExports.jsx("span",{className:"".concat(Rn,"__labelText ").concat(Rn,"__labelText--from"),children:bn(St)}),Gr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"".concat(Rn,"__divider"),children:"  "}),jsxRuntimeExports.jsx("span",{className:"".concat(Rn,"__labelText ").concat(Rn,"__labelText--to"),children:bn(Rr)})]}):null]})}return jsxRuntimeExports.jsxs("div",{className:className$6,children:[Pr!==null&&Fr?jsxRuntimeExports.jsx("button",{"aria-label":Sr,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev2-button"),disabled:zr,onClick:hn,type:"button",children:Pr}):null,Qr!==null&&jsxRuntimeExports.jsx("button",{"aria-label":Ir,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev-button"),disabled:Hr,onClick:vn,type:"button",children:Qr}),Mn(),Er!==null&&jsxRuntimeExports.jsx("button",{"aria-label":xr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next-button"),disabled:Zr,onClick:En,type:"button",children:Er}),pr!==null&&Fr?jsxRuntimeExports.jsx("button",{"aria-label":fr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next2-button"),disabled:nn,onClick:Tn,type:"button",children:pr}):null]})}var __assign$f=function(){return __assign$f=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$f.apply(this,arguments)},__rest$a=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function toPercent(er){return"".concat(er,"%")}function Flex(er){var St=er.children,tr=er.className,rr=er.count,nr=er.direction,sr=er.offset,ir=er.style,ar=er.wrap,or=__rest$a(er,["children","className","count","direction","offset","style","wrap"]);return jsxRuntimeExports.jsx("div",__assign$f({className:tr,style:__assign$f({display:"flex",flexDirection:nr,flexWrap:ar?"wrap":"nowrap"},ir)},or,{children:reactExports.Children.map(St,function(lr,cr){var ur=sr&&cr===0?toPercent(100*sr/rr):null;return reactExports.cloneElement(lr,__assign$f(__assign$f({},lr.props),{style:{flexBasis:toPercent(100/rr),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:ur,marginInlineStart:ur,marginInlineEnd:0}}))})}))}function between(er,St,tr){return St&&St>er?St:tr&&tr<er?tr:er}function isValueWithinRange(er,St){return St[0]<=er&&St[1]>=er}function isRangeWithinRange(er,St){return er[0]<=St[0]&&er[1]>=St[1]}function doRangesOverlap(er,St){return isValueWithinRange(er[0],St)||isValueWithinRange(er[1],St)}function getRangeClassNames(er,St,tr){var rr=doRangesOverlap(St,er),nr=[];if(rr){nr.push(tr);var sr=isValueWithinRange(er[0],St),ir=isValueWithinRange(er[1],St);sr&&nr.push("".concat(tr,"Start")),ir&&nr.push("".concat(tr,"End")),sr&&ir&&nr.push("".concat(tr,"BothEnds"))}return nr}function isCompleteValue(er){return Array.isArray(er)?er[0]!==null&&er[1]!==null:er!==null}function getTileClasses(er){if(!er)throw new Error("args is required");var St=er.value,tr=er.date,rr=er.hover,nr="react-calendar__tile",sr=[nr];if(!tr)return sr;var ir=new Date,ar=function(){if(Array.isArray(tr))return tr;var hr=er.dateType;if(!hr)throw new Error("dateType is required when date is not an array of two dates");return getRange(hr,tr)}();if(isValueWithinRange(ir,ar)&&sr.push("".concat(nr,"--now")),!St||!isCompleteValue(St))return sr;var or=function(){if(Array.isArray(St))return St;var hr=er.valueType;if(!hr)throw new Error("valueType is required when value is not an array of two dates");return getRange(hr,St)}();isRangeWithinRange(or,ar)?sr.push("".concat(nr,"--active")):doRangesOverlap(or,ar)&&sr.push("".concat(nr,"--hasActive"));var lr=getRangeClassNames(or,ar,"".concat(nr,"--range"));sr.push.apply(sr,lr);var cr=Array.isArray(St)?St:[St];if(rr&&cr.length===1){var ur=rr>or[0]?[or[0],rr]:[rr,or[0]],dr=getRangeClassNames(ur,ar,"".concat(nr,"--hover"));sr.push.apply(sr,dr)}return sr}function TileGroup(er){for(var St=er.className,tr=er.count,rr=tr===void 0?3:tr,nr=er.dateTransform,sr=er.dateType,ir=er.end,ar=er.hover,or=er.offset,lr=er.renderTile,cr=er.start,ur=er.step,dr=ur===void 0?1:ur,hr=er.value,Ar=er.valueType,fr=[],mr=cr;mr<=ir;mr+=dr){var pr=nr(mr);fr.push(lr({classes:getTileClasses({date:pr,dateType:sr,hover:ar,value:hr,valueType:Ar}),date:pr}))}return jsxRuntimeExports.jsx(Flex,{className:St,count:rr,offset:or,wrap:!0,children:fr})}function Tile(er){var St=er.activeStartDate,tr=er.children,rr=er.classes,nr=er.date,sr=er.formatAbbr,ir=er.locale,ar=er.maxDate,or=er.maxDateTransform,lr=er.minDate,cr=er.minDateTransform,ur=er.onClick,dr=er.onMouseOver,hr=er.style,Ar=er.tileClassName,fr=er.tileContent,mr=er.tileDisabled,pr=er.view,gr=reactExports.useMemo(function(){var yr={activeStartDate:St,date:nr,view:pr};return typeof Ar=="function"?Ar(yr):Ar},[St,nr,Ar,pr]),xr=reactExports.useMemo(function(){var yr={activeStartDate:St,date:nr,view:pr};return typeof fr=="function"?fr(yr):fr},[St,nr,fr,pr]);return jsxRuntimeExports.jsxs("button",{className:clsx(rr,gr),disabled:lr&&cr(lr)>nr||ar&&or(ar)<nr||(mr==null?void 0:mr({activeStartDate:St,date:nr,view:pr})),onClick:ur?function(yr){return ur(nr,yr)}:void 0,onFocus:dr?function(){return dr(nr)}:void 0,onMouseOver:dr?function(){return dr(nr)}:void 0,style:hr,type:"button",children:[sr?jsxRuntimeExports.jsx("abbr",{"aria-label":sr(ir,nr),children:tr}):tr,xr]})}var __assign$e=function(){return __assign$e=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$e.apply(this,arguments)},__rest$9=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr},className$5="react-calendar__century-view__decades__decade";function Decade(er){var St=er.classes,tr=St===void 0?[]:St,rr=er.currentCentury,nr=er.formatYear,sr=nr===void 0?formatYear:nr,ir=__rest$9(er,["classes","currentCentury","formatYear"]),ar=ir.date,or=ir.locale,lr=[];return tr&&lr.push.apply(lr,tr),lr.push(className$5),getCenturyStart(ar).getFullYear()!==rr&&lr.push("".concat(className$5,"--neighboringCentury")),jsxRuntimeExports.jsx(Tile,__assign$e({},ir,{classes:lr,maxDateTransform:getDecadeEnd,minDateTransform:getDecadeStart,view:"century",children:getDecadeLabel(or,sr,ar)}))}var __assign$d=function(){return __assign$d=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$d.apply(this,arguments)},__rest$8=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function Decades(er){var St=er.activeStartDate,tr=er.hover,rr=er.showNeighboringCentury,nr=er.value,sr=er.valueType,ir=__rest$8(er,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),ar=getBeginOfCenturyYear(St),or=ar+(rr?119:99);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__century-view__decades",dateTransform:getDecadeStart,dateType:"decade",end:or,hover:tr,renderTile:function(lr){var cr=lr.date,ur=__rest$8(lr,["date"]);return jsxRuntimeExports.jsx(Decade,__assign$d({},ir,ur,{activeStartDate:St,currentCentury:ar,date:cr}),cr.getTime())},start:ar,step:10,value:nr,valueType:sr})}var __assign$c=function(){return __assign$c=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$c.apply(this,arguments)};function CenturyView(er){function St(){return jsxRuntimeExports.jsx(Decades,__assign$c({},er))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__century-view",children:St()})}var __assign$b=function(){return __assign$b=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$b.apply(this,arguments)},__rest$7=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr},className$4="react-calendar__decade-view__years__year";function Year(er){var St=er.classes,tr=St===void 0?[]:St,rr=er.currentDecade,nr=er.formatYear,sr=nr===void 0?formatYear:nr,ir=__rest$7(er,["classes","currentDecade","formatYear"]),ar=ir.date,or=ir.locale,lr=[];return tr&&lr.push.apply(lr,tr),lr.push(className$4),getDecadeStart(ar).getFullYear()!==rr&&lr.push("".concat(className$4,"--neighboringDecade")),jsxRuntimeExports.jsx(Tile,__assign$b({},ir,{classes:lr,maxDateTransform:getYearEnd,minDateTransform:getYearStart,view:"decade",children:sr(or,ar)}))}var __assign$a=function(){return __assign$a=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$a.apply(this,arguments)},__rest$6=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function Years(er){var St=er.activeStartDate,tr=er.hover,rr=er.showNeighboringDecade,nr=er.value,sr=er.valueType,ir=__rest$6(er,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),ar=getBeginOfDecadeYear(St),or=ar+(rr?11:9);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__decade-view__years",dateTransform:getYearStart,dateType:"year",end:or,hover:tr,renderTile:function(lr){var cr=lr.date,ur=__rest$6(lr,["date"]);return jsxRuntimeExports.jsx(Year,__assign$a({},ir,ur,{activeStartDate:St,currentDecade:ar,date:cr}),cr.getTime())},start:ar,value:nr,valueType:sr})}var __assign$9=function(){return __assign$9=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$9.apply(this,arguments)};function DecadeView(er){function St(){return jsxRuntimeExports.jsx(Years,__assign$9({},er))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__decade-view",children:St()})}var __assign$8=function(){return __assign$8=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$8.apply(this,arguments)},__rest$5=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr},__spreadArray$1=function(er,St,tr){if(tr||arguments.length===2)for(var rr=0,nr=St.length,sr;rr<nr;rr++)(sr||!(rr in St))&&(sr||(sr=Array.prototype.slice.call(St,0,rr)),sr[rr]=St[rr]);return er.concat(sr||Array.prototype.slice.call(St))},className$3="react-calendar__year-view__months__month";function Month$1(er){var St=er.classes,tr=St===void 0?[]:St,rr=er.formatMonth,nr=rr===void 0?formatMonth:rr,sr=er.formatMonthYear,ir=sr===void 0?formatMonthYear:sr,ar=__rest$5(er,["classes","formatMonth","formatMonthYear"]),or=ar.date,lr=ar.locale;return jsxRuntimeExports.jsx(Tile,__assign$8({},ar,{classes:__spreadArray$1(__spreadArray$1([],tr,!0),[className$3],!1),formatAbbr:ir,maxDateTransform:getMonthEnd,minDateTransform:getMonthStart,view:"year",children:nr(lr,or)}))}var __assign$7=function(){return __assign$7=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$7.apply(this,arguments)},__rest$4=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function Months$1(er){var St=er.activeStartDate,tr=er.hover,rr=er.value,nr=er.valueType,sr=__rest$4(er,["activeStartDate","hover","value","valueType"]),ir=0,ar=11,or=getYear(St);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__year-view__months",dateTransform:function(lr){var cr=new Date;return cr.setFullYear(or,lr,1),getMonthStart(cr)},dateType:"month",end:ar,hover:tr,renderTile:function(lr){var cr=lr.date,ur=__rest$4(lr,["date"]);return jsxRuntimeExports.jsx(Month$1,__assign$7({},sr,ur,{activeStartDate:St,date:cr}),cr.getTime())},start:ir,value:rr,valueType:nr})}var __assign$6=function(){return __assign$6=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$6.apply(this,arguments)};function YearView(er){function St(){return jsxRuntimeExports.jsx(Months$1,__assign$6({},er))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__year-view",children:St()})}var __assign$5=function(){return __assign$5=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$5.apply(this,arguments)},__rest$3=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr},className$2="react-calendar__month-view__days__day";function Day$1(er){var St=er.calendarType,tr=er.classes,rr=tr===void 0?[]:tr,nr=er.currentMonthIndex,sr=er.formatDay,ir=sr===void 0?formatDay$1:sr,ar=er.formatLongDate,or=ar===void 0?formatLongDate:ar,lr=__rest$3(er,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),cr=lr.date,ur=lr.locale,dr=[];return rr&&dr.push.apply(dr,rr),dr.push(className$2),isWeekend(cr,St)&&dr.push("".concat(className$2,"--weekend")),cr.getMonth()!==nr&&dr.push("".concat(className$2,"--neighboringMonth")),jsxRuntimeExports.jsx(Tile,__assign$5({},lr,{classes:dr,formatAbbr:or,maxDateTransform:getDayEnd,minDateTransform:getDayStart,view:"month",children:ir(ur,cr)}))}var __assign$4=function(){return __assign$4=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$4.apply(this,arguments)},__rest$2=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function Days(er){var St=er.activeStartDate,tr=er.calendarType,rr=er.hover,nr=er.showFixedNumberOfWeeks,sr=er.showNeighboringMonth,ir=er.value,ar=er.valueType,or=__rest$2(er,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),lr=getYear(St),cr=getMonth(St),ur=nr||sr,dr=getDayOfWeek(St,tr),hr=ur?0:dr,Ar=(ur?-dr:0)+1,fr=function(){if(nr)return Ar+6*7-1;var mr=getDaysInMonth(St);if(sr){var pr=new Date;pr.setFullYear(lr,cr,mr),pr.setHours(0,0,0,0);var gr=7-getDayOfWeek(pr,tr)-1;return mr+gr}return mr}();return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__month-view__days",count:7,dateTransform:function(mr){var pr=new Date;return pr.setFullYear(lr,cr,mr),getDayStart(pr)},dateType:"day",hover:rr,end:fr,renderTile:function(mr){var pr=mr.date,gr=__rest$2(mr,["date"]);return jsxRuntimeExports.jsx(Day$1,__assign$4({},or,gr,{activeStartDate:St,calendarType:tr,currentMonthIndex:cr,date:pr}),pr.getTime())},offset:hr,start:Ar,value:ir,valueType:ar})}var className$1="react-calendar__month-view__weekdays",weekdayClassName="".concat(className$1,"__weekday");function Weekdays$1(er){for(var St=er.calendarType,tr=er.formatShortWeekday,rr=tr===void 0?formatShortWeekday:tr,nr=er.formatWeekday,sr=nr===void 0?formatWeekday:nr,ir=er.locale,ar=er.onMouseLeave,or=new Date,lr=getMonthStart(or),cr=getYear(lr),ur=getMonth(lr),dr=[],hr=1;hr<=7;hr+=1){var Ar=new Date(cr,ur,hr-getDayOfWeek(lr,St)),fr=sr(ir,Ar);dr.push(jsxRuntimeExports.jsx("div",{className:clsx(weekdayClassName,isCurrentDayOfWeek(Ar)&&"".concat(weekdayClassName,"--current"),isWeekend(Ar,St)&&"".concat(weekdayClassName,"--weekend")),children:jsxRuntimeExports.jsx("abbr",{"aria-label":fr,title:fr,children:rr(ir,Ar).replace(".","")})},hr))}return jsxRuntimeExports.jsx(Flex,{className:className$1,count:7,onFocus:ar,onMouseOver:ar,children:dr})}var __assign$3=function(){return __assign$3=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$3.apply(this,arguments)},__rest$1=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr},className="react-calendar__tile";function WeekNumber$1(er){var St=er.onClickWeekNumber,tr=er.weekNumber,rr=jsxRuntimeExports.jsx("span",{children:tr});if(St){var nr=er.date,sr=er.onClickWeekNumber,ir=er.weekNumber,ar=__rest$1(er,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("button",__assign$3({},ar,{className,onClick:function(or){return sr(ir,nr,or)},type:"button",children:rr}))}else{er.date,er.onClickWeekNumber,er.weekNumber;var ar=__rest$1(er,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("div",__assign$3({},ar,{className,children:rr}))}}function WeekNumbers(er){var St=er.activeStartDate,tr=er.calendarType,rr=er.onClickWeekNumber,nr=er.onMouseLeave,sr=er.showFixedNumberOfWeeks,ir=function(){if(sr)return 6;var lr=getDaysInMonth(St),cr=getDayOfWeek(St,tr),ur=lr-(7-cr);return 1+Math.ceil(ur/7)}(),ar=function(){for(var lr=getYear(St),cr=getMonth(St),ur=getDate(St),dr=[],hr=0;hr<ir;hr+=1)dr.push(getBeginOfWeek(new Date(lr,cr,ur+hr*7),tr));return dr}(),or=ar.map(function(lr){return getWeekNumber(lr,tr)});return jsxRuntimeExports.jsx(Flex,{className:"react-calendar__month-view__weekNumbers",count:ir,direction:"column",onFocus:nr,onMouseOver:nr,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:or.map(function(lr,cr){var ur=ar[cr];if(!ur)throw new Error("date is not defined");return jsxRuntimeExports.jsx(WeekNumber$1,{date:ur,onClickWeekNumber:rr,weekNumber:lr},lr)})})}var __assign$2=function(){return __assign$2=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$2.apply(this,arguments)},__rest=function(er,St){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&St.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)St.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr};function getCalendarTypeFromLocale(er){if(er)for(var St=0,tr=Object.entries(CALENDAR_TYPE_LOCALES);St<tr.length;St++){var rr=tr[St],nr=rr[0],sr=rr[1];if(sr.includes(er))return nr}return CALENDAR_TYPES.ISO_8601}function MonthView(er){var St=er.activeStartDate,tr=er.locale,rr=er.onMouseLeave,nr=er.showFixedNumberOfWeeks,sr=er.calendarType,ir=sr===void 0?getCalendarTypeFromLocale(tr):sr,ar=er.formatShortWeekday,or=er.formatWeekday,lr=er.onClickWeekNumber,cr=er.showWeekNumbers,ur=__rest(er,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function dr(){return jsxRuntimeExports.jsx(Weekdays$1,{calendarType:ir,formatShortWeekday:ar,formatWeekday:or,locale:tr,onMouseLeave:rr})}function hr(){return cr?jsxRuntimeExports.jsx(WeekNumbers,{activeStartDate:St,calendarType:ir,onClickWeekNumber:lr,onMouseLeave:rr,showFixedNumberOfWeeks:nr}):null}function Ar(){return jsxRuntimeExports.jsx(Days,__assign$2({calendarType:ir},ur))}var fr="react-calendar__month-view";return jsxRuntimeExports.jsx("div",{className:clsx(fr,cr?"".concat(fr,"--weekNumbers"):""),children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[hr(),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[dr(),Ar()]})]})})}var __assign$1=function(){return __assign$1=Object.assign||function(er){for(var St,tr=1,rr=arguments.length;tr<rr;tr++){St=arguments[tr];for(var nr in St)Object.prototype.hasOwnProperty.call(St,nr)&&(er[nr]=St[nr])}return er},__assign$1.apply(this,arguments)},baseClassName="react-calendar",allViews=["century","decade","year","month"],allValueTypes=["decade","year","month","day"],defaultMinDate=new Date;defaultMinDate.setFullYear(1,0,1);defaultMinDate.setHours(0,0,0,0);var defaultMaxDate=new Date(864e13);function toDate(er){return er instanceof Date?er:new Date(er)}function getLimitedViews(er,St){return allViews.slice(allViews.indexOf(er),allViews.indexOf(St)+1)}function isViewAllowed(er,St,tr){var rr=getLimitedViews(St,tr);return rr.indexOf(er)!==-1}function getView(er,St,tr){return er&&isViewAllowed(er,St,tr)?er:tr}function getValueType(er){var St=allViews.indexOf(er);return allValueTypes[St]}function getValue(er,St){var tr=Array.isArray(er)?er[St]:er;if(!tr)return null;var rr=toDate(tr);if(Number.isNaN(rr.getTime()))throw new Error("Invalid date: ".concat(er));return rr}function getDetailValue(er,St){var tr=er.value,rr=er.minDate,nr=er.maxDate,sr=er.maxDetail,ir=getValue(tr,St);if(!ir)return null;var ar=getValueType(sr),or=function(){switch(St){case 0:return getBegin(ar,ir);case 1:return getEnd(ar,ir);default:throw new Error("Invalid index value: ".concat(St))}}();return between(or,rr,nr)}var getDetailValueFrom=function(er){return getDetailValue(er,0)},getDetailValueTo=function(er){return getDetailValue(er,1)},getDetailValueArray=function(er){return[getDetailValueFrom,getDetailValueTo].map(function(St){return St(er)})};function getActiveStartDate(er){var St=er.maxDate,tr=er.maxDetail,rr=er.minDate,nr=er.minDetail,sr=er.value,ir=er.view,ar=getView(ir,nr,tr),or=getDetailValueFrom({value:sr,minDate:rr,maxDate:St,maxDetail:tr})||new Date;return getBegin(ar,or)}function getInitialActiveStartDate(er){var St=er.activeStartDate,tr=er.defaultActiveStartDate,rr=er.defaultValue,nr=er.defaultView,sr=er.maxDate,ir=er.maxDetail,ar=er.minDate,or=er.minDetail,lr=er.value,cr=er.view,ur=getView(cr,or,ir),dr=St||tr;return dr?getBegin(ur,dr):getActiveStartDate({maxDate:sr,maxDetail:ir,minDate:ar,minDetail:or,value:lr||rr,view:cr||nr})}function getIsSingleValue(er){return er&&(!Array.isArray(er)||er.length===1)}function areDatesEqual(er,St){return er instanceof Date&&St instanceof Date&&er.getTime()===St.getTime()}var Calendar$1=reactExports.forwardRef(function er(St,tr){var rr=St.activeStartDate,nr=St.allowPartialRange,sr=St.calendarType,ir=St.className,ar=St.defaultActiveStartDate,or=St.defaultValue,lr=St.defaultView,cr=St.formatDay,ur=St.formatLongDate,dr=St.formatMonth,hr=St.formatMonthYear,Ar=St.formatShortWeekday,fr=St.formatWeekday,mr=St.formatYear,pr=St.goToRangeStartOnSelect,gr=pr===void 0?!0:pr,xr=St.inputRef,yr=St.locale,Er=St.maxDate,_r=Er===void 0?defaultMaxDate:Er,Sr=St.maxDetail,jr=Sr===void 0?"month":Sr,Pr=St.minDate,Mr=Pr===void 0?defaultMinDate:Pr,Ir=St.minDetail,Lr=Ir===void 0?"century":Ir,Qr=St.navigationAriaLabel,Yr=St.navigationAriaLive,Gr=St.navigationLabel,$r=St.next2AriaLabel,Vr=St.next2Label,Tr=St.nextAriaLabel,Fr=St.nextLabel,Wr=St.onActiveStartDateChange,qr=St.onChange,Rr=St.onClickDay,Or=St.onClickDecade,Hr=St.onClickMonth,zr=St.onClickWeekNumber,Zr=St.onClickYear,nn=St.onDrillDown,vn=St.onDrillUp,hn=St.onViewChange,En=St.prev2AriaLabel,Tn=St.prev2Label,bn=St.prevAriaLabel,Mn=St.prevLabel,Rn=St.returnValue,Nn=Rn===void 0?"start":Rn,pn=St.selectRange,Gn=St.showDoubleView,os=St.showFixedNumberOfWeeks,es=St.showNavigation,cs=es===void 0?!0:es,ts=St.showNeighboringCentury,fs=St.showNeighboringDecade,vs=St.showNeighboringMonth,ws=vs===void 0?!0:vs,Rs=St.showWeekNumbers,ks=St.tileClassName,Fs=St.tileContent,Vs=St.tileDisabled,Ts=St.value,Ds=St.view,ys=reactExports.useState(ar),$o=ys[0],Zs=ys[1],io=reactExports.useState(null),xa=io[0],oo=io[1],El=reactExports.useState(Array.isArray(or)?or.map(function(Ln){return Ln!==null?toDate(Ln):null}):or!=null?toDate(or):null),eo=El[0],zs=El[1],Qs=reactExports.useState(lr),Ys=Qs[0],Uo=Qs[1],Ms=rr||$o||getInitialActiveStartDate({activeStartDate:rr,defaultActiveStartDate:ar,defaultValue:or,defaultView:lr,maxDate:_r,maxDetail:jr,minDate:Mr,minDetail:Lr,value:Ts,view:Ds}),Bs=function(){var Ln=function(){return pn&&getIsSingleValue(eo)?eo:Ts!==void 0?Ts:eo}();return Ln?Array.isArray(Ln)?Ln.map(function(Yn){return Yn!==null?toDate(Yn):null}):Ln!==null?toDate(Ln):null:null}(),qs=getValueType(jr),to=getView(Ds||Ys,Lr,jr),Os=getLimitedViews(Lr,jr),fu=pn?xa:null,tu=Os.indexOf(to)<Os.length-1,Ws=Os.indexOf(to)>0,wl=reactExports.useCallback(function(Ln){var Yn=function(){switch(Nn){case"start":return getDetailValueFrom;case"end":return getDetailValueTo;case"range":return getDetailValueArray;default:throw new Error("Invalid returnValue.")}}();return Yn({maxDate:_r,maxDetail:jr,minDate:Mr,value:Ln})},[_r,jr,Mr,Nn]),_l=reactExports.useCallback(function(Ln,Yn){Zs(Ln);var $n={action:Yn,activeStartDate:Ln,value:Bs,view:to};Wr&&!areDatesEqual(Ms,Ln)&&Wr($n)},[Ms,Wr,Bs,to]),Al=reactExports.useCallback(function(Ln,Yn){var $n=function(){switch(to){case"century":return Or;case"decade":return Zr;case"year":return Hr;case"month":return Rr;default:throw new Error("Invalid view: ".concat(to,"."))}}();$n&&$n(Ln,Yn)},[Rr,Or,Hr,Zr,to]),zo=reactExports.useCallback(function(Ln,Yn){if(tu){Al(Ln,Yn);var $n=Os[Os.indexOf(to)+1];if(!$n)throw new Error("Attempted to drill down from the lowest view.");Zs(Ln),Uo($n);var Qn={action:"drillDown",activeStartDate:Ln,value:Bs,view:$n};Wr&&!areDatesEqual(Ms,Ln)&&Wr(Qn),hn&&to!==$n&&hn(Qn),nn&&nn(Qn)}},[Ms,tu,Wr,Al,nn,hn,Bs,to,Os]),Vo=reactExports.useCallback(function(){if(Ws){var Ln=Os[Os.indexOf(to)-1];if(!Ln)throw new Error("Attempted to drill up from the highest view.");var Yn=getBegin(Ln,Ms);Zs(Yn),Uo(Ln);var $n={action:"drillUp",activeStartDate:Yn,value:Bs,view:Ln};Wr&&!areDatesEqual(Ms,Yn)&&Wr($n),hn&&to!==Ln&&hn($n),vn&&vn($n)}},[Ms,Ws,Wr,vn,hn,Bs,to,Os]),un=reactExports.useCallback(function(Ln,Yn){var $n=Bs;Al(Ln,Yn);var Qn=pn&&!getIsSingleValue($n),Wn;if(pn)if(Qn)Wn=getBegin(qs,Ln);else{if(!$n)throw new Error("previousValue is required");if(Array.isArray($n))throw new Error("previousValue must not be an array");Wn=getValueRange(qs,$n,Ln)}else Wn=wl(Ln);var hs=!pn||Qn||gr?getActiveStartDate({maxDate:_r,maxDetail:jr,minDate:Mr,minDetail:Lr,value:Wn,view:to}):null;Yn.persist(),Zs(hs),zs(Wn);var gs={action:"onChange",activeStartDate:hs,value:Wn,view:to};if(Wr&&!areDatesEqual(Ms,hs)&&Wr(gs),qr)if(pn){var bs=getIsSingleValue(Wn);if(!bs)qr(Wn||null,Yn);else if(nr){if(Array.isArray(Wn))throw new Error("value must not be an array");qr([Wn||null,null],Yn)}}else qr(Wn||null,Yn)},[Ms,nr,wl,gr,_r,jr,Mr,Lr,Wr,qr,Al,pn,Bs,qs,to]);function Sn(Ln){oo(Ln)}function xn(){oo(null)}reactExports.useImperativeHandle(tr,function(){return{activeStartDate:Ms,drillDown:zo,drillUp:Vo,onChange:un,setActiveStartDate:_l,value:Bs,view:to}},[Ms,zo,Vo,un,_l,Bs,to]);function yn(Ln){var Yn=Ln?getBeginNext(to,Ms):getBegin(to,Ms),$n=tu?zo:un,Qn={activeStartDate:Yn,hover:fu,locale:yr,maxDate:_r,minDate:Mr,onClick:$n,onMouseOver:pn?Sn:void 0,tileClassName:ks,tileContent:Fs,tileDisabled:Vs,value:Bs,valueType:qs};switch(to){case"century":return jsxRuntimeExports.jsx(CenturyView,__assign$1({formatYear:mr,showNeighboringCentury:ts},Qn));case"decade":return jsxRuntimeExports.jsx(DecadeView,__assign$1({formatYear:mr,showNeighboringDecade:fs},Qn));case"year":return jsxRuntimeExports.jsx(YearView,__assign$1({formatMonth:dr,formatMonthYear:hr},Qn));case"month":return jsxRuntimeExports.jsx(MonthView,__assign$1({calendarType:sr,formatDay:cr,formatLongDate:ur,formatShortWeekday:Ar,formatWeekday:fr,onClickWeekNumber:zr,onMouseLeave:pn?xn:void 0,showFixedNumberOfWeeks:typeof os<"u"?os:Gn,showNeighboringMonth:ws,showWeekNumbers:Rs},Qn));default:throw new Error("Invalid view: ".concat(to,"."))}}function _n(){return cs?jsxRuntimeExports.jsx(Navigation,{activeStartDate:Ms,drillUp:Vo,formatMonthYear:hr,formatYear:mr,locale:yr,maxDate:_r,minDate:Mr,navigationAriaLabel:Qr,navigationAriaLive:Yr,navigationLabel:Gr,next2AriaLabel:$r,next2Label:Vr,nextAriaLabel:Tr,nextLabel:Fr,prev2AriaLabel:En,prev2Label:Tn,prevAriaLabel:bn,prevLabel:Mn,setActiveStartDate:_l,showDoubleView:Gn,view:to,views:Os}):null}var Cn=Array.isArray(Bs)?Bs:[Bs];return jsxRuntimeExports.jsxs("div",{className:clsx(baseClassName,pn&&Cn.length===1&&"".concat(baseClassName,"--selectRange"),Gn&&"".concat(baseClassName,"--doubleView"),ir),ref:xr,children:[_n(),jsxRuntimeExports.jsxs("div",{className:"".concat(baseClassName,"__viewContainer"),onBlur:pn?xn:void 0,onMouseLeave:pn?xn:void 0,children:[yn(),Gn?yn(!0):null]})]})});function useBranding(){const[er,St]=reactExports.useState(null),[tr,rr]=reactExports.useState(!0);return reactExports.useEffect(()=>{async function nr(){try{const sr=supabase.auth.user(),{data:ir}=await supabase.from("users").select("employer_id").eq("id",sr.id).single();if(ir!=null&&ir.employer_id){const{data:ar}=await supabase.from("employers").select("logo_url, favicon_url, primary_color, voice_profile, tagline").eq("id",ir.employer_id).single();ar&&St({logo_url:ar.logo_url,favicon_url:ar.favicon_url,primary_color:ar.primary_color||"#3B82F6",voice_profile:ar.voice_profile||"Rachel",tagline:ar.tagline})}}catch(sr){console.error("Error loading branding:",sr)}finally{rr(!1)}}nr()},[]),er}function CalendarView(){var mr;const[er,St]=reactExports.useState(new Date),[tr,rr]=reactExports.useState([]),[nr,sr]=reactExports.useState([]),[ir,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),cr=useBranding(),ur=(cr==null?void 0:cr.primary_color)||"#3B82F6";reactExports.useEffect(()=>{dr()},[]);async function dr(){var pr;try{const{data:{user:gr}}=await supabase.auth.getUser();if(!gr)return;lr(gr);const xr=((pr=gr.user_metadata)==null?void 0:pr.role)||"patient";let yr=[];if(xr==="provider"){const{data:Er}=await supabase.from("appointments").select(`
            *,
            patient:users!appointments_patient_id_fkey(full_name)
          `).eq("provider_id",gr.id);yr=(Er==null?void 0:Er.map(_r=>{var Sr;return{date:_r.date,label:`${((Sr=_r.patient)==null?void 0:Sr.full_name)||"Patient"} - ${_r.reason}`,type:"appointment",time:_r.time,metadata:_r}}))||[]}if(xr==="patient"){const{data:Er}=await supabase.from("appointments").select(`
            *,
            provider:users!appointments_provider_id_fkey(full_name)
          `).eq("patient_id",gr.id);yr=(Er==null?void 0:Er.map(_r=>{var Sr;return{date:_r.date,label:`Dr. ${((Sr=_r.provider)==null?void 0:Sr.full_name)||"Provider"} - ${_r.reason}`,type:"appointment",time:_r.time,metadata:_r}}))||[]}if(xr==="admin"||xr==="owner"){const{data:Er}=await supabase.from("invoices").select(`
            *,
            employer:employers(name)
          `),_r=(Er==null?void 0:Er.map(jr=>{var Pr;return{date:jr.month+"-01",label:`Invoice: ${((Pr=jr.employer)==null?void 0:Pr.name)||jr.employer_id}`,type:"invoice",amount:jr.total_amount,metadata:jr}}))||[],Sr=(Er==null?void 0:Er.map(jr=>{var Pr;return{date:jr.month+"-25",label:`Payout: ${((Pr=jr.employer)==null?void 0:Pr.name)||jr.employer_id}`,type:"payout",amount:jr.total_amount,metadata:jr}}))||[];yr=[..._r,...Sr]}rr(yr)}catch(gr){console.error("Error loading events:",gr)}finally{ar(!1)}}reactExports.useEffect(()=>{const pr=format(er,"yyyy-MM-dd"),gr=tr.filter(xr=>xr.date===pr);sr(gr)},[er,tr]);const hr=pr=>{switch(pr){case"appointment":return jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"});case"invoice":return jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"});case"payout":return jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Calendar$2,{className:"h-4 w-4"})}},Ar=pr=>{switch(pr){case"appointment":return"default";case"invoice":return"secondary";case"payout":return"outline";default:return"default"}},fr=({date:pr})=>{const gr=format(pr,"yyyy-MM-dd");return tr.some(yr=>yr.date===gr)?jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full mt-1",style:{backgroundColor:ur}})}):null};return ir?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading calendar..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Calendar"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[((mr=or==null?void 0:or.user_metadata)==null?void 0:mr.role)||"patient"," view"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{style:{borderColor:ur},className:"rounded-lg border p-4 bg-white",children:jsxRuntimeExports.jsx(Calendar$1,{onChange:pr=>St(pr),value:er,tileContent:fr,className:"rounded-lg border-0"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:["Events for ",format(er,"MMMM d, yyyy")]}),nr.length===0?jsxRuntimeExports.jsxs("div",{style:{borderColor:ur},className:"rounded-lg border p-6 text-center",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No events scheduled for this day"})]}):nr.map((pr,gr)=>jsxRuntimeExports.jsx("div",{style:{borderColor:ur},className:"rounded-lg border p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:hr(pr.type)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:pr.label}),pr.time&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Time: ",pr.time]}),pr.amount&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Amount: $",pr.amount.toFixed(2)]})]})]}),jsxRuntimeExports.jsx(Badge,{variant:Ar(pr.type),children:pr.type})]})},gr))]})]})]})}const AdminChartLogViewer=()=>{const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState({searchTerm:"",type:"all",dateRange:"week",source:"all"}),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState({total:0,soapNotes:0,timelineEvents:0,todayCount:0});reactExports.useEffect(()=>{dr(),hr();const gr=setInterval(hr,3e4);return()=>clearInterval(gr)},[ir]);const dr=async()=>{try{const{data:gr,error:xr}=await supabase.from("providers").select(`
          id,
          user:auth.users(
            email,
            raw_user_meta_data
          )
        `);if(xr)throw xr;const yr=(gr==null?void 0:gr.map(Er=>{var _r,Sr,jr;return{id:Er.id,name:((Sr=(_r=Er.user)==null?void 0:_r.raw_user_meta_data)==null?void 0:Sr.full_name)||((jr=Er.user)==null?void 0:jr.email)||"Unknown Provider"}}))||[];lr(yr)}catch(gr){console.error("Failed to load providers:",gr)}},hr=async()=>{rr(!0);try{let gr=[],xr=new Date;switch(ir.dateRange){case"today":xr.setHours(0,0,0,0);break;case"week":xr.setDate(xr.getDate()-7);break;case"month":xr.setMonth(xr.getMonth()-1);break;case"year":xr.setFullYear(xr.getFullYear()-1);break}if(ir.source==="all"||ir.source==="timeline"){let Er=supabase.from("patient_timeline").select(`
            *,
            patient:patients(
              id,
              user_id
            )
          `).gte("timestamp",xr.toISOString()).order("timestamp",{ascending:!1});ir.type!=="all"&&(Er=Er.eq("type",ir.type)),ir.providerId&&(Er=Er.eq("metadata->>provider_id",ir.providerId));const{data:_r,error:Sr}=await Er;if(Sr)throw Sr;const jr=await Promise.all((_r||[]).map(async Pr=>{var Qr,Yr,Gr,$r,Vr;let Mr="Unknown Patient",Ir="";if((Qr=Pr.patient)!=null&&Qr.user_id){const{data:Tr}=await supabase.from("auth.users").select("email, raw_user_meta_data").eq("id",Pr.patient.user_id).single();Mr=((Yr=Tr==null?void 0:Tr.raw_user_meta_data)==null?void 0:Yr.full_name)||"Unknown Patient",Ir=(Tr==null?void 0:Tr.email)||""}let Lr="System";if((Gr=Pr.metadata)!=null&&Gr.provider_id){const Tr=or.find(Fr=>Fr.id===Pr.metadata.provider_id);Lr=(Tr==null?void 0:Tr.name)||"Unknown Provider"}return{id:Pr.id,patient_id:Pr.patient_id,patient_name:Mr,patient_email:Ir,provider_id:($r=Pr.metadata)==null?void 0:$r.provider_id,provider_name:Lr,type:Pr.type,title:Pr.title,content:Pr.content,timestamp:Pr.timestamp,importance:Pr.importance,source:"timeline",metadata:Pr.metadata,appointment_id:(Vr=Pr.metadata)==null?void 0:Vr.appointment_id}}));gr=[...gr,...jr]}if(ir.source==="all"||ir.source==="soap_notes"){let Er=supabase.from("soap_notes").select(`
            *,
            patient:patients(
              id,
              user_id
            ),
            provider:providers(
              id,
              user_id
            )
          `).gte("created_at",xr.toISOString()).order("created_at",{ascending:!1});ir.providerId&&(Er=Er.eq("provider_id",ir.providerId));const{data:_r,error:Sr}=await Er;if(Sr)throw Sr;const jr=await Promise.all((_r||[]).map(async Pr=>{var Qr,Yr,Gr,$r;let Mr="Unknown Patient",Ir="";if((Qr=Pr.patient)!=null&&Qr.user_id){const{data:Vr}=await supabase.from("auth.users").select("email, raw_user_meta_data").eq("id",Pr.patient.user_id).single();Mr=((Yr=Vr==null?void 0:Vr.raw_user_meta_data)==null?void 0:Yr.full_name)||"Unknown Patient",Ir=(Vr==null?void 0:Vr.email)||""}let Lr="Unknown Provider";if((Gr=Pr.provider)!=null&&Gr.user_id){const{data:Vr}=await supabase.from("auth.users").select("email, raw_user_meta_data").eq("id",Pr.provider.user_id).single();Lr=(($r=Vr==null?void 0:Vr.raw_user_meta_data)==null?void 0:$r.full_name)||"Unknown Provider"}return{id:Pr.id,patient_id:Pr.patient_id,patient_name:Mr,patient_email:Ir,provider_id:Pr.provider_id,provider_name:Lr,type:"soap_note",title:"SOAP Note",content:Pr.full_note||Ar(Pr),timestamp:Pr.created_at,importance:"high",source:"soap_notes",metadata:{subjective:Pr.subjective,objective:Pr.objective,assessment:Pr.assessment,plan:Pr.plan},appointment_id:Pr.appointment_id}}));gr=[...gr,...jr]}if(gr.sort((Er,_r)=>new Date(_r.timestamp).getTime()-new Date(Er.timestamp).getTime()),ir.searchTerm){const Er=ir.searchTerm.toLowerCase();gr=gr.filter(_r=>{var Sr;return _r.patient_name.toLowerCase().includes(Er)||_r.patient_email.toLowerCase().includes(Er)||((Sr=_r.provider_name)==null?void 0:Sr.toLowerCase().includes(Er))||_r.content.toLowerCase().includes(Er)||_r.title.toLowerCase().includes(Er)})}St(gr);const yr=new Date;yr.setHours(0,0,0,0),ur({total:gr.length,soapNotes:gr.filter(Er=>Er.source==="soap_notes").length,timelineEvents:gr.filter(Er=>Er.source==="timeline").length,todayCount:gr.filter(Er=>new Date(Er.timestamp)>=yr).length})}catch(gr){console.error("Failed to load chart logs:",gr)}finally{rr(!1)}},Ar=gr=>`S: ${gr.subjective||"N/A"}

O: ${gr.objective||"N/A"}

A: ${gr.assessment||"N/A"}

P: ${gr.plan||"N/A"}`,fr=gr=>({soap_note:jsxRuntimeExports.jsx(Stethoscope,{className:"w-4 h-4"}),vitals_recorded:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4"}),medication_prescribed:jsxRuntimeExports.jsx(Pill,{className:"w-4 h-4"}),lab_ordered:jsxRuntimeExports.jsx(TestTube,{className:"w-4 h-4"}),appointment_scheduled:jsxRuntimeExports.jsx(CalendarCheck,{className:"w-4 h-4"}),clinical_note:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),telehealth:jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})})[gr]||jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),mr=gr=>{switch(gr){case"high":return jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"text-xs",children:"High"});case"medium":return jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"Medium"});default:return jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Low"})}},pr=()=>{const gr=[["Timestamp","Patient","Provider","Type","Title","Content"],...er.map(_r=>[new Date(_r.timestamp).toLocaleString(),_r.patient_name,_r.provider_name||"System",_r.type,_r.title,_r.content.replace(/\n/g," ")])].map(_r=>_r.map(Sr=>`"${Sr}"`).join(",")).join(`
`),xr=new Blob([gr],{type:"text/csv"}),yr=URL.createObjectURL(xr),Er=document.createElement("a");Er.href=yr,Er.download=`chart-logs-${new Date().toISOString().split("T")[0]}.csv`,Er.click()};return tr?jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center h-64",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"ml-3 text-muted-foreground",children:"Loading chart logs..."})]})}):jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSearch,{className:"w-5 h-5 text-primary"})," Chart Log Viewer"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>hr(),disabled:tr,children:[jsxRuntimeExports.jsx(RefreshCw,{className:`w-4 h-4 mr-1 ${tr?"animate-spin":""}`}),"Refresh"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:pr,disabled:er.length===0,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),"Export CSV"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-800",children:cr.total}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Logs"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary",children:cr.todayCount}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Today"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-600",children:cr.soapNotes}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"SOAP Notes"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:cr.timelineEvents}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Timeline Events"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[jsxRuntimeExports.jsx(FileSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search patient, provider, or content...",value:ir.searchTerm,onChange:gr=>ar({...ir,searchTerm:gr.target.value}),className:"pl-9"})]}),jsxRuntimeExports.jsxs(Select$1,{value:ir.dateRange,onValueChange:gr=>ar({...ir,dateRange:gr}),children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[150px]",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{})]}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"today",children:"Today"}),jsxRuntimeExports.jsx(SelectItem,{value:"week",children:"This Week"}),jsxRuntimeExports.jsx(SelectItem,{value:"month",children:"This Month"}),jsxRuntimeExports.jsx(SelectItem,{value:"year",children:"This Year"}),jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Time"})]})]}),jsxRuntimeExports.jsxs(Select$1,{value:ir.source,onValueChange:gr=>ar({...ir,source:gr}),children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[150px]",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{})]}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Sources"}),jsxRuntimeExports.jsx(SelectItem,{value:"timeline",children:"Timeline Only"}),jsxRuntimeExports.jsx(SelectItem,{value:"soap_notes",children:"SOAP Notes Only"})]})]}),jsxRuntimeExports.jsxs(Select$1,{value:ir.type,onValueChange:gr=>ar({...ir,type:gr}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"All Types"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Types"}),jsxRuntimeExports.jsx(SelectItem,{value:"soap_note",children:"SOAP Notes"}),jsxRuntimeExports.jsx(SelectItem,{value:"clinical_note",children:"Clinical Notes"}),jsxRuntimeExports.jsx(SelectItem,{value:"vitals_recorded",children:"Vitals"}),jsxRuntimeExports.jsx(SelectItem,{value:"medication_prescribed",children:"Medications"}),jsxRuntimeExports.jsx(SelectItem,{value:"lab_ordered",children:"Lab Orders"}),jsxRuntimeExports.jsx(SelectItem,{value:"telehealth",children:"Telehealth"}),jsxRuntimeExports.jsx(SelectItem,{value:"appointment_scheduled",children:"Appointments"})]})]}),or.length>0&&jsxRuntimeExports.jsxs(Select$1,{value:ir.providerId||"all",onValueChange:gr=>ar({...ir,providerId:gr==="all"?void 0:gr}),children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[200px]",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"All Providers"})]}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Providers"}),or.map(gr=>jsxRuntimeExports.jsx(SelectItem,{value:gr.id,children:gr.name},gr.id))]})]})]}),er.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(FileSearch,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No chart logs found matching your filters"})]}):jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:jsxRuntimeExports.jsx(AnimatePresence,{children:er.map(gr=>jsxRuntimeExports.jsxs(motion$1.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white border rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>sr(nr===gr.id?null:gr.id),children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[fr(gr.type),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:gr.title}),mr(gr.importance),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:gr.source==="soap_notes"?"SOAP":"Timeline"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"w-3 h-3"}),"Patient: ",gr.patient_name]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Stethoscope,{className:"w-3 h-3"}),"Provider: ",gr.provider_name||"System"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),new Date(gr.timestamp).toLocaleString()]})]}),!nr&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:gr.content})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",children:nr===gr.id?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:nr===gr.id&&jsxRuntimeExports.jsx(motion$1.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Full Content:"}),jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap text-gray-600 bg-white p-3 rounded-lg border",children:gr.content})]}),gr.metadata&&Object.keys(gr.metadata).length>0&&jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Additional Details:"}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-lg border space-y-1",children:[gr.appointment_id&&jsxRuntimeExports.jsxs("p",{className:"text-xs",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Appointment ID:"})," ",gr.appointment_id]}),gr.patient_email&&jsxRuntimeExports.jsxs("p",{className:"text-xs",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Patient Email:"})," ",gr.patient_email]}),gr.metadata.soap_note_id&&jsxRuntimeExports.jsxs("p",{className:"text-xs",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"SOAP Note ID:"})," ",gr.metadata.soap_note_id]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:xr=>{xr.stopPropagation(),window.location.href=`/admin/patients/${gr.patient_id}`},children:"View Patient"}),gr.appointment_id&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:xr=>{xr.stopPropagation(),window.location.href=`/admin/appointments/${gr.appointment_id}`},children:"View Appointment"}),gr.source==="soap_notes"&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:xr=>{xr.stopPropagation(),navigator.clipboard.writeText(gr.content),alert("SOAP note copied to clipboard!")},children:"Copy SOAP"})]})]})})})]},gr.id))})})]})},ChartLogsPage=()=>{const er=useNavigate();return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>er("/admin"),className:"rounded-full",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chart Logs"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"View and audit all patient chart entries across the system"})]})]})}),jsxRuntimeExports.jsx(AdminChartLogViewer,{})]})})};function useStateMachine(er,St){return reactExports.useReducer((tr,rr)=>St[tr][rr]??tr,er)}var Presence=er=>{const{present:St,children:tr}=er,rr=usePresence(St),nr=typeof tr=="function"?tr({present:rr.isPresent}):reactExports.Children.only(tr),sr=useComposedRefs(rr.ref,getElementRef(nr));return typeof tr=="function"||rr.isPresent?reactExports.cloneElement(nr,{ref:sr}):null};Presence.displayName="Presence";function usePresence(er){const[St,tr]=reactExports.useState(),rr=reactExports.useRef(null),nr=reactExports.useRef(er),sr=reactExports.useRef("none"),ir=er?"mounted":"unmounted",[ar,or]=useStateMachine(ir,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const lr=getAnimationName(rr.current);sr.current=ar==="mounted"?lr:"none"},[ar]),useLayoutEffect2(()=>{const lr=rr.current,cr=nr.current;if(cr!==er){const dr=sr.current,hr=getAnimationName(lr);er?or("MOUNT"):hr==="none"||(lr==null?void 0:lr.display)==="none"?or("UNMOUNT"):or(cr&&dr!==hr?"ANIMATION_OUT":"UNMOUNT"),nr.current=er}},[er,or]),useLayoutEffect2(()=>{if(St){let lr;const cr=St.ownerDocument.defaultView??window,ur=hr=>{const fr=getAnimationName(rr.current).includes(hr.animationName);if(hr.target===St&&fr&&(or("ANIMATION_END"),!nr.current)){const mr=St.style.animationFillMode;St.style.animationFillMode="forwards",lr=cr.setTimeout(()=>{St.style.animationFillMode==="forwards"&&(St.style.animationFillMode=mr)})}},dr=hr=>{hr.target===St&&(sr.current=getAnimationName(rr.current))};return St.addEventListener("animationstart",dr),St.addEventListener("animationcancel",ur),St.addEventListener("animationend",ur),()=>{cr.clearTimeout(lr),St.removeEventListener("animationstart",dr),St.removeEventListener("animationcancel",ur),St.removeEventListener("animationend",ur)}}else or("ANIMATION_END")},[St,or]),{isPresent:["mounted","unmountSuspended"].includes(ar),ref:reactExports.useCallback(lr=>{rr.current=lr?getComputedStyle(lr):null,tr(lr)},[])}}function getAnimationName(er){return(er==null?void 0:er.animationName)||"none"}function getElementRef(er){var rr,nr;let St=(rr=Object.getOwnPropertyDescriptor(er.props,"ref"))==null?void 0:rr.get,tr=St&&"isReactWarning"in St&&St.isReactWarning;return tr?er.ref:(St=(nr=Object.getOwnPropertyDescriptor(er,"ref"))==null?void 0:nr.get,tr=St&&"isReactWarning"in St&&St.isReactWarning,tr?er.props.ref:er.props.ref||er.ref)}var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(er){const{__scopeCheckbox:St,checked:tr,children:rr,defaultChecked:nr,disabled:sr,form:ir,name:ar,onCheckedChange:or,required:lr,value:cr="on",internal_do_not_use_render:ur}=er,[dr,hr]=useControllableState({prop:tr,defaultProp:nr??!1,onChange:or,caller:CHECKBOX_NAME}),[Ar,fr]=reactExports.useState(null),[mr,pr]=reactExports.useState(null),gr=reactExports.useRef(!1),xr=Ar?!!ir||!!Ar.closest("form"):!0,yr={checked:dr,disabled:sr,setChecked:hr,control:Ar,setControl:fr,name:ar,form:ir,value:cr,hasConsumerStoppedPropagationRef:gr,required:lr,defaultChecked:isIndeterminate(nr)?!1:nr,isFormControl:xr,bubbleInput:mr,setBubbleInput:pr};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:St,...yr,children:isFunction(ur)?ur(yr):rr})}var TRIGGER_NAME$1="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:er,onKeyDown:St,onClick:tr,...rr},nr)=>{const{control:sr,value:ir,disabled:ar,checked:or,required:lr,setControl:cr,setChecked:ur,hasConsumerStoppedPropagationRef:dr,isFormControl:hr,bubbleInput:Ar}=useCheckboxContext(TRIGGER_NAME$1,er),fr=useComposedRefs(nr,cr),mr=reactExports.useRef(or);return reactExports.useEffect(()=>{const pr=sr==null?void 0:sr.form;if(pr){const gr=()=>ur(mr.current);return pr.addEventListener("reset",gr),()=>pr.removeEventListener("reset",gr)}},[sr,ur]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(or)?"mixed":or,"aria-required":lr,"data-state":getState$2(or),"data-disabled":ar?"":void 0,disabled:ar,value:ir,...rr,ref:fr,onKeyDown:composeEventHandlers(St,pr=>{pr.key==="Enter"&&pr.preventDefault()}),onClick:composeEventHandlers(tr,pr=>{ur(gr=>isIndeterminate(gr)?!0:!gr),Ar&&hr&&(dr.current=pr.isPropagationStopped(),dr.current||pr.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$1;var Checkbox$1=reactExports.forwardRef((er,St)=>{const{__scopeCheckbox:tr,name:rr,checked:nr,defaultChecked:sr,required:ir,disabled:ar,value:or,onCheckedChange:lr,form:cr,...ur}=er;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:tr,checked:nr,defaultChecked:sr,disabled:ar,required:ir,onCheckedChange:lr,name:rr,form:cr,value:or,internal_do_not_use_render:({isFormControl:dr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...ur,ref:St,__scopeCheckbox:tr}),dr&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:tr})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((er,St)=>{const{__scopeCheckbox:tr,forceMount:rr,...nr}=er,sr=useCheckboxContext(INDICATOR_NAME$1,tr);return jsxRuntimeExports.jsx(Presence,{present:rr||isIndeterminate(sr.checked)||sr.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$2(sr.checked),"data-disabled":sr.disabled?"":void 0,...nr,ref:St,style:{pointerEvents:"none",...er.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BUBBLE_INPUT_NAME$1="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:er,...St},tr)=>{const{control:rr,hasConsumerStoppedPropagationRef:nr,checked:sr,defaultChecked:ir,required:ar,disabled:or,name:lr,value:cr,form:ur,bubbleInput:dr,setBubbleInput:hr}=useCheckboxContext(BUBBLE_INPUT_NAME$1,er),Ar=useComposedRefs(tr,hr),fr=usePrevious(sr),mr=useSize(rr);reactExports.useEffect(()=>{const gr=dr;if(!gr)return;const xr=window.HTMLInputElement.prototype,Er=Object.getOwnPropertyDescriptor(xr,"checked").set,_r=!nr.current;if(fr!==sr&&Er){const Sr=new Event("click",{bubbles:_r});gr.indeterminate=isIndeterminate(sr),Er.call(gr,isIndeterminate(sr)?!1:sr),gr.dispatchEvent(Sr)}},[dr,fr,sr,nr]);const pr=reactExports.useRef(isIndeterminate(sr)?!1:sr);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:ir??pr.current,required:ar,disabled:or,name:lr,value:cr,form:ur,...St,tabIndex:-1,ref:Ar,style:{...St.style,...mr,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function isFunction(er){return typeof er=="function"}function isIndeterminate(er){return er==="indeterminate"}function getState$2(er){return isIndeterminate(er)?"indeterminate":er?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:tr,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-gray-200 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gray-900 data-[state=checked]:text-gray-50",er),...St,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;function Label({htmlFor:er,children:St}){return jsxRuntimeExports.jsx("label",{htmlFor:er,className:"block text-sm font-medium text-gray-700 mb-1",children:St})}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((er,St)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:er.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:er.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...er,ref:St})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((er,St)=>{const{__scopeRovingFocusGroup:tr,orientation:rr,loop:nr=!1,dir:sr,currentTabStopId:ir,defaultCurrentTabStopId:ar,onCurrentTabStopIdChange:or,onEntryFocus:lr,preventScrollOnEntryFocus:cr=!1,...ur}=er,dr=reactExports.useRef(null),hr=useComposedRefs(St,dr),Ar=useDirection(sr),[fr,mr]=useControllableState({prop:ir,defaultProp:ar??null,onChange:or,caller:GROUP_NAME}),[pr,gr]=reactExports.useState(!1),xr=useCallbackRef$1(lr),yr=useCollection(tr),Er=reactExports.useRef(!1),[_r,Sr]=reactExports.useState(0);return reactExports.useEffect(()=>{const jr=dr.current;if(jr)return jr.addEventListener(ENTRY_FOCUS,xr),()=>jr.removeEventListener(ENTRY_FOCUS,xr)},[xr]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:tr,orientation:rr,dir:Ar,loop:nr,currentTabStopId:fr,onItemFocus:reactExports.useCallback(jr=>mr(jr),[mr]),onItemShiftTab:reactExports.useCallback(()=>gr(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Sr(jr=>jr+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Sr(jr=>jr-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:pr||_r===0?-1:0,"data-orientation":rr,...ur,ref:hr,style:{outline:"none",...er.style},onMouseDown:composeEventHandlers(er.onMouseDown,()=>{Er.current=!0}),onFocus:composeEventHandlers(er.onFocus,jr=>{const Pr=!Er.current;if(jr.target===jr.currentTarget&&Pr&&!pr){const Mr=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(jr.currentTarget.dispatchEvent(Mr),!Mr.defaultPrevented){const Ir=yr().filter($r=>$r.focusable),Lr=Ir.find($r=>$r.active),Qr=Ir.find($r=>$r.id===fr),Gr=[Lr,Qr,...Ir].filter(Boolean).map($r=>$r.ref.current);focusFirst(Gr,cr)}}Er.current=!1}),onBlur:composeEventHandlers(er.onBlur,()=>gr(!1))})})}),ITEM_NAME$1="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((er,St)=>{const{__scopeRovingFocusGroup:tr,focusable:rr=!0,active:nr=!1,tabStopId:sr,children:ir,...ar}=er,or=useId(),lr=sr||or,cr=useRovingFocusContext(ITEM_NAME$1,tr),ur=cr.currentTabStopId===lr,dr=useCollection(tr),{onFocusableItemAdd:hr,onFocusableItemRemove:Ar,currentTabStopId:fr}=cr;return reactExports.useEffect(()=>{if(rr)return hr(),()=>Ar()},[rr,hr,Ar]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:tr,id:lr,focusable:rr,active:nr,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:ur?0:-1,"data-orientation":cr.orientation,...ar,ref:St,onMouseDown:composeEventHandlers(er.onMouseDown,mr=>{rr?cr.onItemFocus(lr):mr.preventDefault()}),onFocus:composeEventHandlers(er.onFocus,()=>cr.onItemFocus(lr)),onKeyDown:composeEventHandlers(er.onKeyDown,mr=>{if(mr.key==="Tab"&&mr.shiftKey){cr.onItemShiftTab();return}if(mr.target!==mr.currentTarget)return;const pr=getFocusIntent(mr,cr.orientation,cr.dir);if(pr!==void 0){if(mr.metaKey||mr.ctrlKey||mr.altKey||mr.shiftKey)return;mr.preventDefault();let xr=dr().filter(yr=>yr.focusable).map(yr=>yr.ref.current);if(pr==="last")xr.reverse();else if(pr==="prev"||pr==="next"){pr==="prev"&&xr.reverse();const yr=xr.indexOf(mr.currentTarget);xr=cr.loop?wrapArray(xr,yr+1):xr.slice(yr+1)}setTimeout(()=>focusFirst(xr))}}),children:typeof ir=="function"?ir({isCurrentTabStop:ur,hasTabStop:fr!=null}):ir})})});RovingFocusGroupItem.displayName=ITEM_NAME$1;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(er,St){return St!=="rtl"?er:er==="ArrowLeft"?"ArrowRight":er==="ArrowRight"?"ArrowLeft":er}function getFocusIntent(er,St,tr){const rr=getDirectionAwareKey(er.key,tr);if(!(St==="vertical"&&["ArrowLeft","ArrowRight"].includes(rr))&&!(St==="horizontal"&&["ArrowUp","ArrowDown"].includes(rr)))return MAP_KEY_TO_FOCUS_INTENT[rr]}function focusFirst(er,St=!1){const tr=document.activeElement;for(const rr of er)if(rr===tr||(rr.focus({preventScroll:St}),document.activeElement!==tr))return}function wrapArray(er,St){return er.map((tr,rr)=>er[(St+rr)%er.length])}var Root$1=RovingFocusGroup,Item$1=RovingFocusGroupItem,RADIO_NAME="Radio",[createRadioContext,createRadioScope]=createContextScope(RADIO_NAME),[RadioProvider,useRadioContext]=createRadioContext(RADIO_NAME),Radio=reactExports.forwardRef((er,St)=>{const{__scopeRadio:tr,name:rr,checked:nr=!1,required:sr,disabled:ir,value:ar="on",onCheck:or,form:lr,...cr}=er,[ur,dr]=reactExports.useState(null),hr=useComposedRefs(St,mr=>dr(mr)),Ar=reactExports.useRef(!1),fr=ur?lr||!!ur.closest("form"):!0;return jsxRuntimeExports.jsxs(RadioProvider,{scope:tr,checked:nr,disabled:ir,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":nr,"data-state":getState$1(nr),"data-disabled":ir?"":void 0,disabled:ir,value:ar,...cr,ref:hr,onClick:composeEventHandlers(er.onClick,mr=>{nr||or==null||or(),fr&&(Ar.current=mr.isPropagationStopped(),Ar.current||mr.stopPropagation())})}),fr&&jsxRuntimeExports.jsx(RadioBubbleInput,{control:ur,bubbles:!Ar.current,name:rr,value:ar,checked:nr,required:sr,disabled:ir,form:lr,style:{transform:"translateX(-100%)"}})]})});Radio.displayName=RADIO_NAME;var INDICATOR_NAME="RadioIndicator",RadioIndicator=reactExports.forwardRef((er,St)=>{const{__scopeRadio:tr,forceMount:rr,...nr}=er,sr=useRadioContext(INDICATOR_NAME,tr);return jsxRuntimeExports.jsx(Presence,{present:rr||sr.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(sr.checked),"data-disabled":sr.disabled?"":void 0,...nr,ref:St})})});RadioIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME="RadioBubbleInput",RadioBubbleInput=reactExports.forwardRef(({__scopeRadio:er,control:St,checked:tr,bubbles:rr=!0,...nr},sr)=>{const ir=reactExports.useRef(null),ar=useComposedRefs(ir,sr),or=usePrevious(tr),lr=useSize(St);return reactExports.useEffect(()=>{const cr=ir.current;if(!cr)return;const ur=window.HTMLInputElement.prototype,hr=Object.getOwnPropertyDescriptor(ur,"checked").set;if(or!==tr&&hr){const Ar=new Event("click",{bubbles:rr});hr.call(cr,tr),cr.dispatchEvent(Ar)}},[or,tr,rr]),jsxRuntimeExports.jsx(Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:tr,...nr,tabIndex:-1,ref:ar,style:{...nr.style,...lr,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RadioBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState$1(er){return er?"checked":"unchecked"}var ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RADIO_GROUP_NAME="RadioGroup",[createRadioGroupContext,createRadioGroupScope]=createContextScope(RADIO_GROUP_NAME,[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext(RADIO_GROUP_NAME),RadioGroup$1=reactExports.forwardRef((er,St)=>{const{__scopeRadioGroup:tr,name:rr,defaultValue:nr,value:sr,required:ir=!1,disabled:ar=!1,orientation:or,dir:lr,loop:cr=!0,onValueChange:ur,...dr}=er,hr=useRovingFocusGroupScope(tr),Ar=useDirection(lr),[fr,mr]=useControllableState({prop:sr,defaultProp:nr??null,onChange:ur,caller:RADIO_GROUP_NAME});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:tr,name:rr,required:ir,disabled:ar,value:fr,onValueChange:mr,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,...hr,orientation:or,dir:Ar,loop:cr,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":ir,"aria-orientation":or,"data-disabled":ar?"":void 0,dir:Ar,...dr,ref:St})})})});RadioGroup$1.displayName=RADIO_GROUP_NAME;var ITEM_NAME="RadioGroupItem",RadioGroupItem$1=reactExports.forwardRef((er,St)=>{const{__scopeRadioGroup:tr,disabled:rr,...nr}=er,sr=useRadioGroupContext(ITEM_NAME,tr),ir=sr.disabled||rr,ar=useRovingFocusGroupScope(tr),or=useRadioScope(tr),lr=reactExports.useRef(null),cr=useComposedRefs(St,lr),ur=sr.value===nr.value,dr=reactExports.useRef(!1);return reactExports.useEffect(()=>{const hr=fr=>{ARROW_KEYS.includes(fr.key)&&(dr.current=!0)},Ar=()=>dr.current=!1;return document.addEventListener("keydown",hr),document.addEventListener("keyup",Ar),()=>{document.removeEventListener("keydown",hr),document.removeEventListener("keyup",Ar)}},[]),jsxRuntimeExports.jsx(Item$1,{asChild:!0,...ar,focusable:!ir,active:ur,children:jsxRuntimeExports.jsx(Radio,{disabled:ir,required:sr.required,checked:ur,...or,...nr,name:sr.name,ref:cr,onCheck:()=>sr.onValueChange(nr.value),onKeyDown:composeEventHandlers(hr=>{hr.key==="Enter"&&hr.preventDefault()}),onFocus:composeEventHandlers(nr.onFocus,()=>{var hr;dr.current&&((hr=lr.current)==null||hr.click())})})})});RadioGroupItem$1.displayName=ITEM_NAME;var INDICATOR_NAME2="RadioGroupIndicator",RadioGroupIndicator=reactExports.forwardRef((er,St)=>{const{__scopeRadioGroup:tr,...rr}=er,nr=useRadioScope(tr);return jsxRuntimeExports.jsx(RadioIndicator,{...nr,...rr,ref:St})});RadioGroupIndicator.displayName=INDICATOR_NAME2;var Root2$1=RadioGroup$1,Item2=RadioGroupItem$1,Indicator=RadioGroupIndicator;const RadioGroup=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(Root2$1,{className:cn("grid gap-2",er),...St,ref:tr}));RadioGroup.displayName=Root2$1.displayName;const RadioGroupItem=reactExports.forwardRef(({className:er,...St},tr)=>jsxRuntimeExports.jsx(Item2,{ref:tr,className:cn("aspect-square h-4 w-4 rounded-full border border-gray-200 text-gray-900 ring-offset-white focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",er),...St,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2.displayName;const offsetFormatCache={},offsetCache={};function tzOffset(er,St){try{const rr=(offsetFormatCache[er]||(offsetFormatCache[er]=new Intl.DateTimeFormat("en-GB",{timeZone:er,hour:"numeric",timeZoneName:"longOffset"}).format))(St).split("GMT")[1]||"";return rr in offsetCache?offsetCache[rr]:calcOffset(rr,rr.split(":"))}catch{if(er in offsetCache)return offsetCache[er];const tr=er==null?void 0:er.match(offsetRe);return tr?calcOffset(er,tr.slice(1)):NaN}}const offsetRe=/([+-]\d\d):?(\d\d)?/;function calcOffset(er,St){const tr=+St[0],rr=+(St[1]||0);return offsetCache[er]=tr>0?tr*60+rr:tr*60-rr}class TZDateMini extends Date{constructor(...St){super(),St.length>1&&typeof St[St.length-1]=="string"&&(this.timeZone=St.pop()),this.internal=new Date,isNaN(tzOffset(this.timeZone,this))?this.setTime(NaN):St.length?typeof St[0]=="number"&&(St.length===1||St.length===2&&typeof St[1]!="number")?this.setTime(St[0]):typeof St[0]=="string"?this.setTime(+new Date(St[0])):St[0]instanceof Date?this.setTime(+St[0]):(this.setTime(+new Date(...St)),adjustToSystemTZ(this),syncToInternal(this)):this.setTime(Date.now())}static tz(St,...tr){return tr.length?new TZDateMini(...tr,St):new TZDateMini(Date.now(),St)}withTimeZone(St){return new TZDateMini(+this,St)}getTimezoneOffset(){return-tzOffset(this.timeZone,this)}setTime(St){return Date.prototype.setTime.apply(this,arguments),syncToInternal(this),+this}[Symbol.for("constructDateFrom")](St){return new TZDateMini(+new Date(St),this.timeZone)}}const re$1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(er=>{if(!re$1.test(er))return;const St=er.replace(re$1,"$1UTC");TZDateMini.prototype[St]&&(er.startsWith("get")?TZDateMini.prototype[er]=function(){return this.internal[St]()}:(TZDateMini.prototype[er]=function(){return Date.prototype[St].apply(this.internal,arguments),syncFromInternal(this),+this},TZDateMini.prototype[St]=function(){return Date.prototype[St].apply(this,arguments),syncToInternal(this),+this}))});function syncToInternal(er){er.internal.setTime(+er),er.internal.setUTCMinutes(er.internal.getUTCMinutes()-er.getTimezoneOffset())}function syncFromInternal(er){Date.prototype.setFullYear.call(er,er.internal.getUTCFullYear(),er.internal.getUTCMonth(),er.internal.getUTCDate()),Date.prototype.setHours.call(er,er.internal.getUTCHours(),er.internal.getUTCMinutes(),er.internal.getUTCSeconds(),er.internal.getUTCMilliseconds()),adjustToSystemTZ(er)}function adjustToSystemTZ(er){const St=tzOffset(er.timeZone,er),tr=new Date(+er);tr.setUTCHours(tr.getUTCHours()-1);const rr=-new Date(+er).getTimezoneOffset(),nr=-new Date(+tr).getTimezoneOffset(),sr=rr-nr,ir=Date.prototype.getHours.apply(er)!==er.internal.getUTCHours();sr&&ir&&er.internal.setUTCMinutes(er.internal.getUTCMinutes()+sr);const ar=rr-St;ar&&Date.prototype.setUTCMinutes.call(er,Date.prototype.getUTCMinutes.call(er)+ar);const or=tzOffset(er.timeZone,er),cr=-new Date(+er).getTimezoneOffset()-or,ur=or!==St,dr=cr-ar;if(ur&&dr){Date.prototype.setUTCMinutes.call(er,Date.prototype.getUTCMinutes.call(er)+dr);const hr=tzOffset(er.timeZone,er),Ar=or-hr;Ar&&(er.internal.setUTCMinutes(er.internal.getUTCMinutes()+Ar),Date.prototype.setUTCMinutes.call(er,Date.prototype.getUTCMinutes.call(er)+Ar))}}class TZDate extends TZDateMini{static tz(St,...tr){return tr.length?new TZDate(...tr,St):new TZDate(Date.now(),St)}toISOString(){const[St,tr,rr]=this.tzComponents(),nr=`${St}${tr}:${rr}`;return this.internal.toISOString().slice(0,-1)+nr}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[St,tr,rr,nr]=this.internal.toUTCString().split(" ");return`${St==null?void 0:St.slice(0,-1)} ${rr} ${tr} ${nr}`}toTimeString(){const St=this.internal.toUTCString().split(" ")[4],[tr,rr,nr]=this.tzComponents();return`${St} GMT${tr}${rr}${nr} (${tzName(this.timeZone,this)})`}toLocaleString(St,tr){return Date.prototype.toLocaleString.call(this,St,{...tr,timeZone:(tr==null?void 0:tr.timeZone)||this.timeZone})}toLocaleDateString(St,tr){return Date.prototype.toLocaleDateString.call(this,St,{...tr,timeZone:(tr==null?void 0:tr.timeZone)||this.timeZone})}toLocaleTimeString(St,tr){return Date.prototype.toLocaleTimeString.call(this,St,{...tr,timeZone:(tr==null?void 0:tr.timeZone)||this.timeZone})}tzComponents(){const St=this.getTimezoneOffset(),tr=St>0?"-":"+",rr=String(Math.floor(Math.abs(St)/60)).padStart(2,"0"),nr=String(Math.abs(St)%60).padStart(2,"0");return[tr,rr,nr]}withTimeZone(St){return new TZDate(+this,St)}[Symbol.for("constructDateFrom")](St){return new TZDate(+new Date(St),this.timeZone)}}function tzName(er,St){return new Intl.DateTimeFormat("en-GB",{timeZone:er,timeZoneName:"long"}).format(St).slice(12)}var UI;(function(er){er.Root="root",er.Chevron="chevron",er.Day="day",er.DayButton="day_button",er.CaptionLabel="caption_label",er.Dropdowns="dropdowns",er.Dropdown="dropdown",er.DropdownRoot="dropdown_root",er.Footer="footer",er.MonthGrid="month_grid",er.MonthCaption="month_caption",er.MonthsDropdown="months_dropdown",er.Month="month",er.Months="months",er.Nav="nav",er.NextMonthButton="button_next",er.PreviousMonthButton="button_previous",er.Week="week",er.Weeks="weeks",er.Weekday="weekday",er.Weekdays="weekdays",er.WeekNumber="week_number",er.WeekNumberHeader="week_number_header",er.YearsDropdown="years_dropdown"})(UI||(UI={}));var DayFlag;(function(er){er.disabled="disabled",er.hidden="hidden",er.outside="outside",er.focused="focused",er.today="today"})(DayFlag||(DayFlag={}));var SelectionState;(function(er){er.range_end="range_end",er.range_middle="range_middle",er.range_start="range_start",er.selected="selected"})(SelectionState||(SelectionState={}));var Animation;(function(er){er.weeks_before_enter="weeks_before_enter",er.weeks_before_exit="weeks_before_exit",er.weeks_after_enter="weeks_after_enter",er.weeks_after_exit="weeks_after_exit",er.caption_after_enter="caption_after_enter",er.caption_after_exit="caption_after_exit",er.caption_before_enter="caption_before_enter",er.caption_before_exit="caption_before_exit"})(Animation||(Animation={}));const FIVE_WEEKS=5,FOUR_WEEKS=4;function getBroadcastWeeksInMonth(er,St){const tr=St.startOfMonth(er),rr=tr.getDay()>0?tr.getDay():7,nr=St.addDays(er,-rr+1),sr=St.addDays(nr,FIVE_WEEKS*7-1);return St.getMonth(er)===St.getMonth(sr)?FIVE_WEEKS:FOUR_WEEKS}function startOfBroadcastWeek(er,St){const tr=St.startOfMonth(er),rr=tr.getDay();return rr===1?tr:rr===0?St.addDays(tr,-1*6):St.addDays(tr,-1*(rr-1))}function endOfBroadcastWeek(er,St){const tr=startOfBroadcastWeek(er,St),rr=getBroadcastWeeksInMonth(er,St);return St.addDays(tr,rr*7-1)}class DateLib{constructor(St,tr){this.Date=Date,this.today=()=>{var rr;return(rr=this.overrides)!=null&&rr.today?this.overrides.today():this.options.timeZone?TZDate.tz(this.options.timeZone):new this.Date},this.newDate=(rr,nr,sr)=>{var ir;return(ir=this.overrides)!=null&&ir.newDate?this.overrides.newDate(rr,nr,sr):this.options.timeZone?new TZDate(rr,nr,sr,this.options.timeZone):new Date(rr,nr,sr)},this.addDays=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.addDays?this.overrides.addDays(rr,nr):addDays(rr,nr)},this.addMonths=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.addMonths?this.overrides.addMonths(rr,nr):addMonths(rr,nr)},this.addWeeks=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.addWeeks?this.overrides.addWeeks(rr,nr):addWeeks(rr,nr)},this.addYears=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.addYears?this.overrides.addYears(rr,nr):addYears(rr,nr)},this.differenceInCalendarDays=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.differenceInCalendarDays?this.overrides.differenceInCalendarDays(rr,nr):differenceInCalendarDays(rr,nr)},this.differenceInCalendarMonths=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(rr,nr):differenceInCalendarMonths(rr,nr)},this.eachMonthOfInterval=rr=>{var nr;return(nr=this.overrides)!=null&&nr.eachMonthOfInterval?this.overrides.eachMonthOfInterval(rr):eachMonthOfInterval(rr)},this.endOfBroadcastWeek=rr=>{var nr;return(nr=this.overrides)!=null&&nr.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(rr):endOfBroadcastWeek(rr,this)},this.endOfISOWeek=rr=>{var nr;return(nr=this.overrides)!=null&&nr.endOfISOWeek?this.overrides.endOfISOWeek(rr):endOfISOWeek(rr)},this.endOfMonth=rr=>{var nr;return(nr=this.overrides)!=null&&nr.endOfMonth?this.overrides.endOfMonth(rr):endOfMonth(rr)},this.endOfWeek=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.endOfWeek?this.overrides.endOfWeek(rr,nr):endOfWeek(rr,this.options)},this.endOfYear=rr=>{var nr;return(nr=this.overrides)!=null&&nr.endOfYear?this.overrides.endOfYear(rr):endOfYear(rr)},this.format=(rr,nr,sr)=>{var ar;const ir=(ar=this.overrides)!=null&&ar.format?this.overrides.format(rr,nr,this.options):format(rr,nr,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(ir):ir},this.getISOWeek=rr=>{var nr;return(nr=this.overrides)!=null&&nr.getISOWeek?this.overrides.getISOWeek(rr):getISOWeek(rr)},this.getMonth=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.getMonth?this.overrides.getMonth(rr,this.options):getMonth$1(rr,this.options)},this.getYear=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.getYear?this.overrides.getYear(rr,this.options):getYear$1(rr,this.options)},this.getWeek=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.getWeek?this.overrides.getWeek(rr,this.options):getWeek(rr,this.options)},this.isAfter=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.isAfter?this.overrides.isAfter(rr,nr):isAfter(rr,nr)},this.isBefore=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.isBefore?this.overrides.isBefore(rr,nr):isBefore(rr,nr)},this.isDate=rr=>{var nr;return(nr=this.overrides)!=null&&nr.isDate?this.overrides.isDate(rr):isDate(rr)},this.isSameDay=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.isSameDay?this.overrides.isSameDay(rr,nr):isSameDay(rr,nr)},this.isSameMonth=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.isSameMonth?this.overrides.isSameMonth(rr,nr):isSameMonth(rr,nr)},this.isSameYear=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.isSameYear?this.overrides.isSameYear(rr,nr):isSameYear(rr,nr)},this.max=rr=>{var nr;return(nr=this.overrides)!=null&&nr.max?this.overrides.max(rr):max$1(rr)},this.min=rr=>{var nr;return(nr=this.overrides)!=null&&nr.min?this.overrides.min(rr):min(rr)},this.setMonth=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.setMonth?this.overrides.setMonth(rr,nr):setMonth(rr,nr)},this.setYear=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.setYear?this.overrides.setYear(rr,nr):setYear(rr,nr)},this.startOfBroadcastWeek=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(rr,this):startOfBroadcastWeek(rr,this)},this.startOfDay=rr=>{var nr;return(nr=this.overrides)!=null&&nr.startOfDay?this.overrides.startOfDay(rr):startOfDay(rr)},this.startOfISOWeek=rr=>{var nr;return(nr=this.overrides)!=null&&nr.startOfISOWeek?this.overrides.startOfISOWeek(rr):startOfISOWeek(rr)},this.startOfMonth=rr=>{var nr;return(nr=this.overrides)!=null&&nr.startOfMonth?this.overrides.startOfMonth(rr):startOfMonth(rr)},this.startOfWeek=(rr,nr)=>{var sr;return(sr=this.overrides)!=null&&sr.startOfWeek?this.overrides.startOfWeek(rr,this.options):startOfWeek(rr,this.options)},this.startOfYear=rr=>{var nr;return(nr=this.overrides)!=null&&nr.startOfYear?this.overrides.startOfYear(rr):startOfYear(rr)},this.options={locale:enUS,...St},this.overrides=tr}getDigitMap(){const{numerals:St="latn"}=this.options,tr=new Intl.NumberFormat("en-US",{numberingSystem:St}),rr={};for(let nr=0;nr<10;nr++)rr[nr.toString()]=tr.format(nr);return rr}replaceDigits(St){const tr=this.getDigitMap();return St.replace(/\d/g,rr=>tr[rr]||rr)}formatNumber(St){return this.replaceDigits(St.toString())}}const defaultDateLib=new DateLib;class CalendarDay{constructor(St,tr,rr=defaultDateLib){this.date=St,this.displayMonth=tr,this.outside=!!(tr&&!rr.isSameMonth(St,tr)),this.dateLib=rr}isEqualTo(St){return this.dateLib.isSameDay(St.date,this.date)&&this.dateLib.isSameMonth(St.displayMonth,this.displayMonth)}}class CalendarMonth{constructor(St,tr){this.date=St,this.weeks=tr}}class CalendarWeek{constructor(St,tr){this.days=tr,this.weekNumber=St}}function rangeIncludesDate(er,St,tr=!1,rr=defaultDateLib){let{from:nr,to:sr}=er;const{differenceInCalendarDays:ir,isSameDay:ar}=rr;return nr&&sr?(ir(sr,nr)<0&&([nr,sr]=[sr,nr]),ir(St,nr)>=(tr?1:0)&&ir(sr,St)>=(tr?1:0)):!tr&&sr?ar(sr,St):!tr&&nr?ar(nr,St):!1}function isDateInterval(er){return!!(er&&typeof er=="object"&&"before"in er&&"after"in er)}function isDateRange(er){return!!(er&&typeof er=="object"&&"from"in er)}function isDateAfterType(er){return!!(er&&typeof er=="object"&&"after"in er)}function isDateBeforeType(er){return!!(er&&typeof er=="object"&&"before"in er)}function isDayOfWeekType(er){return!!(er&&typeof er=="object"&&"dayOfWeek"in er)}function isDatesArray(er,St){return Array.isArray(er)&&er.every(St.isDate)}function dateMatchModifiers(er,St,tr=defaultDateLib){const rr=Array.isArray(St)?St:[St],{isSameDay:nr,differenceInCalendarDays:sr,isAfter:ir}=tr;return rr.some(ar=>{if(typeof ar=="boolean")return ar;if(tr.isDate(ar))return nr(er,ar);if(isDatesArray(ar,tr))return ar.includes(er);if(isDateRange(ar))return rangeIncludesDate(ar,er,!1,tr);if(isDayOfWeekType(ar))return Array.isArray(ar.dayOfWeek)?ar.dayOfWeek.includes(er.getDay()):ar.dayOfWeek===er.getDay();if(isDateInterval(ar)){const or=sr(ar.before,er),lr=sr(ar.after,er),cr=or>0,ur=lr<0;return ir(ar.before,ar.after)?ur&&cr:cr||ur}return isDateAfterType(ar)?sr(er,ar.after)>0:isDateBeforeType(ar)?sr(ar.before,er)>0:typeof ar=="function"?ar(er):!1})}function createGetModifiers(er,St,tr,rr,nr){const{disabled:sr,hidden:ir,modifiers:ar,showOutsideDays:or,broadcastCalendar:lr,today:cr}=St,{isSameDay:ur,isSameMonth:dr,startOfMonth:hr,isBefore:Ar,endOfMonth:fr,isAfter:mr}=nr,pr=tr&&hr(tr),gr=rr&&fr(rr),xr={[DayFlag.focused]:[],[DayFlag.outside]:[],[DayFlag.disabled]:[],[DayFlag.hidden]:[],[DayFlag.today]:[]},yr={};for(const Er of er){const{date:_r,displayMonth:Sr}=Er,jr=!!(Sr&&!dr(_r,Sr)),Pr=!!(pr&&Ar(_r,pr)),Mr=!!(gr&&mr(_r,gr)),Ir=!!(sr&&dateMatchModifiers(_r,sr,nr)),Lr=!!(ir&&dateMatchModifiers(_r,ir,nr))||Pr||Mr||!lr&&!or&&jr||lr&&or===!1&&jr,Qr=ur(_r,cr??nr.today());jr&&xr.outside.push(Er),Ir&&xr.disabled.push(Er),Lr&&xr.hidden.push(Er),Qr&&xr.today.push(Er),ar&&Object.keys(ar).forEach(Yr=>{const Gr=ar==null?void 0:ar[Yr];Gr&&dateMatchModifiers(_r,Gr,nr)&&(yr[Yr]?yr[Yr].push(Er):yr[Yr]=[Er])})}return Er=>{const _r={[DayFlag.focused]:!1,[DayFlag.disabled]:!1,[DayFlag.hidden]:!1,[DayFlag.outside]:!1,[DayFlag.today]:!1},Sr={};for(const jr in xr){const Pr=xr[jr];_r[jr]=Pr.some(Mr=>Mr===Er)}for(const jr in yr)Sr[jr]=yr[jr].some(Pr=>Pr===Er);return{..._r,...Sr}}}function getClassNamesForModifiers(er,St,tr={}){return Object.entries(er).filter(([,nr])=>nr===!0).reduce((nr,[sr])=>(tr[sr]?nr.push(tr[sr]):St[DayFlag[sr]]?nr.push(St[DayFlag[sr]]):St[SelectionState[sr]]&&nr.push(St[SelectionState[sr]]),nr),[St[UI.Day]])}function Button(er){return React$3.createElement("button",{...er})}function CaptionLabel(er){return React$3.createElement("span",{...er})}function Chevron(er){const{size:St=24,orientation:tr="left",className:rr}=er;return React$3.createElement("svg",{className:rr,width:St,height:St,viewBox:"0 0 24 24"},tr==="up"&&React$3.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),tr==="down"&&React$3.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),tr==="left"&&React$3.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),tr==="right"&&React$3.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Day(er){const{day:St,modifiers:tr,...rr}=er;return React$3.createElement("td",{...rr})}function DayButton(er){const{day:St,modifiers:tr,...rr}=er,nr=React$3.useRef(null);return React$3.useEffect(()=>{var sr;tr.focused&&((sr=nr.current)==null||sr.focus())},[tr.focused]),React$3.createElement("button",{ref:nr,...rr})}function Dropdown(er){const{options:St,className:tr,components:rr,classNames:nr,...sr}=er,ir=[nr[UI.Dropdown],tr].join(" "),ar=St==null?void 0:St.find(({value:or})=>or===sr.value);return React$3.createElement("span",{"data-disabled":sr.disabled,className:nr[UI.DropdownRoot]},React$3.createElement(rr.Select,{className:ir,...sr},St==null?void 0:St.map(({value:or,label:lr,disabled:cr})=>React$3.createElement(rr.Option,{key:or,value:or,disabled:cr},lr))),React$3.createElement("span",{className:nr[UI.CaptionLabel],"aria-hidden":!0},ar==null?void 0:ar.label,React$3.createElement(rr.Chevron,{orientation:"down",size:18,className:nr[UI.Chevron]})))}function DropdownNav(er){return React$3.createElement("div",{...er})}function Footer(er){return React$3.createElement("div",{...er})}function Month(er){const{calendarMonth:St,displayIndex:tr,...rr}=er;return React$3.createElement("div",{...rr},er.children)}function MonthCaption(er){const{calendarMonth:St,displayIndex:tr,...rr}=er;return React$3.createElement("div",{...rr})}function MonthGrid(er){return React$3.createElement("table",{...er})}function Months(er){return React$3.createElement("div",{...er})}const dayPickerContext=reactExports.createContext(void 0);function useDayPicker(){const er=reactExports.useContext(dayPickerContext);if(er===void 0)throw new Error("useDayPicker() must be used within a custom component.");return er}function MonthsDropdown(er){const{components:St}=useDayPicker();return React$3.createElement(St.Dropdown,{...er})}function Nav(er){const{onPreviousClick:St,onNextClick:tr,previousMonth:rr,nextMonth:nr,...sr}=er,{components:ir,classNames:ar,labels:{labelPrevious:or,labelNext:lr}}=useDayPicker(),cr=reactExports.useCallback(dr=>{nr&&(tr==null||tr(dr))},[nr,tr]),ur=reactExports.useCallback(dr=>{rr&&(St==null||St(dr))},[rr,St]);return React$3.createElement("nav",{...sr},React$3.createElement(ir.PreviousMonthButton,{type:"button",className:ar[UI.PreviousMonthButton],tabIndex:rr?void 0:-1,"aria-disabled":rr?void 0:!0,"aria-label":or(rr),onClick:ur},React$3.createElement(ir.Chevron,{disabled:rr?void 0:!0,className:ar[UI.Chevron],orientation:"left"})),React$3.createElement(ir.NextMonthButton,{type:"button",className:ar[UI.NextMonthButton],tabIndex:nr?void 0:-1,"aria-disabled":nr?void 0:!0,"aria-label":lr(nr),onClick:cr},React$3.createElement(ir.Chevron,{disabled:nr?void 0:!0,orientation:"right",className:ar[UI.Chevron]})))}function NextMonthButton(er){const{components:St}=useDayPicker();return React$3.createElement(St.Button,{...er})}function Option(er){return React$3.createElement("option",{...er})}function PreviousMonthButton(er){const{components:St}=useDayPicker();return React$3.createElement(St.Button,{...er})}function Root(er){const{rootRef:St,...tr}=er;return React$3.createElement("div",{...tr,ref:St})}function Select(er){return React$3.createElement("select",{...er})}function Week(er){const{week:St,...tr}=er;return React$3.createElement("tr",{...tr})}function Weekday(er){return React$3.createElement("th",{...er})}function Weekdays(er){return React$3.createElement("thead",{"aria-hidden":!0},React$3.createElement("tr",{...er}))}function WeekNumber(er){const{week:St,...tr}=er;return React$3.createElement("th",{...tr})}function WeekNumberHeader(er){return React$3.createElement("th",{...er})}function Weeks(er){return React$3.createElement("tbody",{...er})}function YearsDropdown(er){const{components:St}=useDayPicker();return React$3.createElement(St.Dropdown,{...er})}const components=Object.freeze(Object.defineProperty({__proto__:null,Button,CaptionLabel,Chevron,Day,DayButton,Dropdown,DropdownNav,Footer,Month,MonthCaption,MonthGrid,Months,MonthsDropdown,Nav,NextMonthButton,Option,PreviousMonthButton,Root,Select,Week,WeekNumber,WeekNumberHeader,Weekday,Weekdays,Weeks,YearsDropdown},Symbol.toStringTag,{value:"Module"}));function getComponents(er){return{...components,...er}}function getDataAttributes(er){const St={"data-mode":er.mode??void 0,"data-required":"required"in er?er.required:void 0,"data-multiple-months":er.numberOfMonths&&er.numberOfMonths>1||void 0,"data-week-numbers":er.showWeekNumber||void 0,"data-broadcast-calendar":er.broadcastCalendar||void 0,"data-nav-layout":er.navLayout||void 0};return Object.entries(er).forEach(([tr,rr])=>{tr.startsWith("data-")&&(St[tr]=rr)}),St}function getDefaultClassNames(){const er={};for(const St in UI)er[UI[St]]=`rdp-${UI[St]}`;for(const St in DayFlag)er[DayFlag[St]]=`rdp-${DayFlag[St]}`;for(const St in SelectionState)er[SelectionState[St]]=`rdp-${SelectionState[St]}`;for(const St in Animation)er[Animation[St]]=`rdp-${Animation[St]}`;return er}function formatCaption(er,St,tr){return(tr??new DateLib(St)).format(er,"LLLL y")}const formatMonthCaption=formatCaption;function formatDay(er,St,tr){return(tr??new DateLib(St)).format(er,"d")}function formatMonthDropdown(er,St=defaultDateLib){return St.format(er,"LLLL")}function formatWeekNumber(er,St=defaultDateLib){return er<10?St.formatNumber(`0${er.toLocaleString()}`):St.formatNumber(`${er.toLocaleString()}`)}function formatWeekNumberHeader(){return""}function formatWeekdayName(er,St,tr){return(tr??new DateLib(St)).format(er,"cccccc")}function formatYearDropdown(er,St=defaultDateLib){return St.format(er,"yyyy")}const formatYearCaption=formatYearDropdown,defaultFormatters=Object.freeze(Object.defineProperty({__proto__:null,formatCaption,formatDay,formatMonthCaption,formatMonthDropdown,formatWeekNumber,formatWeekNumberHeader,formatWeekdayName,formatYearCaption,formatYearDropdown},Symbol.toStringTag,{value:"Module"}));function getFormatters(er){return er!=null&&er.formatMonthCaption&&!er.formatCaption&&(er.formatCaption=er.formatMonthCaption),er!=null&&er.formatYearCaption&&!er.formatYearDropdown&&(er.formatYearDropdown=er.formatYearCaption),{...defaultFormatters,...er}}function getMonthOptions(er,St,tr,rr,nr){const{startOfMonth:sr,startOfYear:ir,endOfYear:ar,eachMonthOfInterval:or,getMonth:lr}=nr;return or({start:ir(er),end:ar(er)}).map(dr=>{const hr=rr.formatMonthDropdown(dr,nr),Ar=lr(dr),fr=St&&dr<sr(St)||tr&&dr>sr(tr)||!1;return{value:Ar,label:hr,disabled:fr}})}function getStyleForModifiers(er,St={},tr={}){let rr={...St==null?void 0:St[UI.Day]};return Object.entries(er).filter(([,nr])=>nr===!0).forEach(([nr])=>{rr={...rr,...tr==null?void 0:tr[nr]}}),rr}function getWeekdays(er,St,tr){const rr=er.today(),nr=St?er.startOfISOWeek(rr):er.startOfWeek(rr),sr=[];for(let ir=0;ir<7;ir++){const ar=er.addDays(nr,ir);sr.push(ar)}return sr}function getYearOptions(er,St,tr,rr){if(!er||!St)return;const{startOfYear:nr,endOfYear:sr,addYears:ir,getYear:ar,isBefore:or,isSameYear:lr}=rr,cr=nr(er),ur=sr(St),dr=[];let hr=cr;for(;or(hr,ur)||lr(hr,ur);)dr.push(hr),hr=ir(hr,1);return dr.map(Ar=>{const fr=tr.formatYearDropdown(Ar,rr);return{value:ar(Ar),label:fr,disabled:!1}})}function labelGrid(er,St,tr){return(tr??new DateLib(St)).format(er,"LLLL y")}const labelCaption=labelGrid;function labelGridcell(er,St,tr,rr){let nr=(rr??new DateLib(tr)).format(er,"PPPP");return St!=null&&St.today&&(nr=`Today, ${nr}`),nr}function labelDayButton(er,St,tr,rr){let nr=(rr??new DateLib(tr)).format(er,"PPPP");return St.today&&(nr=`Today, ${nr}`),St.selected&&(nr=`${nr}, selected`),nr}const labelDay=labelDayButton;function labelNav(){return""}function labelMonthDropdown(er){return"Choose the Month"}function labelNext(er){return"Go to the Next Month"}function labelPrevious(er){return"Go to the Previous Month"}function labelWeekday(er,St,tr){return(tr??new DateLib(St)).format(er,"cccc")}function labelWeekNumber(er,St){return`Week ${er}`}function labelWeekNumberHeader(er){return"Week Number"}function labelYearDropdown(er){return"Choose the Year"}const defaultLabels=Object.freeze(Object.defineProperty({__proto__:null,labelCaption,labelDay,labelDayButton,labelGrid,labelGridcell,labelMonthDropdown,labelNav,labelNext,labelPrevious,labelWeekNumber,labelWeekNumberHeader,labelWeekday,labelYearDropdown},Symbol.toStringTag,{value:"Module"})),asHtmlElement=er=>er instanceof HTMLElement?er:null,queryMonthEls=er=>[...er.querySelectorAll("[data-animated-month]")??[]],queryMonthEl=er=>asHtmlElement(er.querySelector("[data-animated-month]")),queryCaptionEl=er=>asHtmlElement(er.querySelector("[data-animated-caption]")),queryWeeksEl=er=>asHtmlElement(er.querySelector("[data-animated-weeks]")),queryNavEl=er=>asHtmlElement(er.querySelector("[data-animated-nav]")),queryWeekdaysEl=er=>asHtmlElement(er.querySelector("[data-animated-weekdays]"));function useAnimation(er,St,{classNames:tr,months:rr,focused:nr,dateLib:sr}){const ir=reactExports.useRef(null),ar=reactExports.useRef(rr),or=reactExports.useRef(!1);reactExports.useLayoutEffect(()=>{const lr=ar.current;if(ar.current=rr,!St||!er.current||!(er.current instanceof HTMLElement)||rr.length===0||lr.length===0||rr.length!==lr.length)return;const cr=sr.isSameMonth(rr[0].date,lr[0].date),ur=sr.isAfter(rr[0].date,lr[0].date),dr=ur?tr[Animation.caption_after_enter]:tr[Animation.caption_before_enter],hr=ur?tr[Animation.weeks_after_enter]:tr[Animation.weeks_before_enter],Ar=ir.current,fr=er.current.cloneNode(!0);if(fr instanceof HTMLElement?(queryMonthEls(fr).forEach(xr=>{if(!(xr instanceof HTMLElement))return;const yr=queryMonthEl(xr);yr&&xr.contains(yr)&&xr.removeChild(yr);const Er=queryCaptionEl(xr);Er&&Er.classList.remove(dr);const _r=queryWeeksEl(xr);_r&&_r.classList.remove(hr)}),ir.current=fr):ir.current=null,or.current||cr||nr)return;const mr=Ar instanceof HTMLElement?queryMonthEls(Ar):[],pr=queryMonthEls(er.current);if(pr&&pr.every(gr=>gr instanceof HTMLElement)&&mr&&mr.every(gr=>gr instanceof HTMLElement)){or.current=!0,er.current.style.isolation="isolate";const gr=queryNavEl(er.current);gr&&(gr.style.zIndex="1"),pr.forEach((xr,yr)=>{const Er=mr[yr];if(!Er)return;xr.style.position="relative",xr.style.overflow="hidden";const _r=queryCaptionEl(xr);_r&&_r.classList.add(dr);const Sr=queryWeeksEl(xr);Sr&&Sr.classList.add(hr);const jr=()=>{or.current=!1,er.current&&(er.current.style.isolation=""),gr&&(gr.style.zIndex=""),_r&&_r.classList.remove(dr),Sr&&Sr.classList.remove(hr),xr.style.position="",xr.style.overflow="",xr.contains(Er)&&xr.removeChild(Er)};Er.style.pointerEvents="none",Er.style.position="absolute",Er.style.overflow="hidden",Er.setAttribute("aria-hidden","true");const Pr=queryWeekdaysEl(Er);Pr&&(Pr.style.opacity="0");const Mr=queryCaptionEl(Er);Mr&&(Mr.classList.add(ur?tr[Animation.caption_before_exit]:tr[Animation.caption_after_exit]),Mr.addEventListener("animationend",jr));const Ir=queryWeeksEl(Er);Ir&&Ir.classList.add(ur?tr[Animation.weeks_before_exit]:tr[Animation.weeks_after_exit]),xr.insertBefore(Er,xr.firstChild)})}})}function getDates(er,St,tr,rr){const nr=er[0],sr=er[er.length-1],{ISOWeek:ir,fixedWeeks:ar,broadcastCalendar:or}=tr??{},{addDays:lr,differenceInCalendarDays:cr,differenceInCalendarMonths:ur,endOfBroadcastWeek:dr,endOfISOWeek:hr,endOfMonth:Ar,endOfWeek:fr,isAfter:mr,startOfBroadcastWeek:pr,startOfISOWeek:gr,startOfWeek:xr}=rr,yr=or?pr(nr,rr):ir?gr(nr):xr(nr),Er=or?dr(sr):ir?hr(Ar(sr)):fr(Ar(sr)),_r=cr(Er,yr),Sr=ur(sr,nr)+1,jr=[];for(let Ir=0;Ir<=_r;Ir++){const Lr=lr(yr,Ir);if(St&&mr(Lr,St))break;jr.push(Lr)}const Mr=(or?35:42)*Sr;if(ar&&jr.length<Mr){const Ir=Mr-jr.length;for(let Lr=0;Lr<Ir;Lr++){const Qr=lr(jr[jr.length-1],1);jr.push(Qr)}}return jr}function getDays(er){const St=[];return er.reduce((tr,rr)=>{const nr=rr.weeks.reduce((sr,ir)=>[...sr,...ir.days],St);return[...tr,...nr]},St)}function getDisplayMonths(er,St,tr,rr){const{numberOfMonths:nr=1}=tr,sr=[];for(let ir=0;ir<nr;ir++){const ar=rr.addMonths(er,ir);if(St&&ar>St)break;sr.push(ar)}return sr}function getInitialMonth(er,St,tr,rr){const{month:nr,defaultMonth:sr,today:ir=rr.today(),numberOfMonths:ar=1}=er;let or=nr||sr||ir;const{differenceInCalendarMonths:lr,addMonths:cr,startOfMonth:ur}=rr;if(tr&&lr(tr,or)<ar-1){const dr=-1*(ar-1);or=cr(tr,dr)}return St&&lr(or,St)<0&&(or=St),ur(or)}function getMonths(er,St,tr,rr){const{addDays:nr,endOfBroadcastWeek:sr,endOfISOWeek:ir,endOfMonth:ar,endOfWeek:or,getISOWeek:lr,getWeek:cr,startOfBroadcastWeek:ur,startOfISOWeek:dr,startOfWeek:hr}=rr,Ar=er.reduce((fr,mr)=>{const pr=tr.broadcastCalendar?ur(mr,rr):tr.ISOWeek?dr(mr):hr(mr),gr=tr.broadcastCalendar?sr(mr):tr.ISOWeek?ir(ar(mr)):or(ar(mr)),xr=St.filter(Sr=>Sr>=pr&&Sr<=gr),yr=tr.broadcastCalendar?35:42;if(tr.fixedWeeks&&xr.length<yr){const Sr=St.filter(jr=>{const Pr=yr-xr.length;return jr>gr&&jr<=nr(gr,Pr)});xr.push(...Sr)}const Er=xr.reduce((Sr,jr)=>{const Pr=tr.ISOWeek?lr(jr):cr(jr),Mr=Sr.find(Lr=>Lr.weekNumber===Pr),Ir=new CalendarDay(jr,mr,rr);return Mr?Mr.days.push(Ir):Sr.push(new CalendarWeek(Pr,[Ir])),Sr},[]),_r=new CalendarMonth(mr,Er);return fr.push(_r),fr},[]);return tr.reverseMonths?Ar.reverse():Ar}function getNavMonths(er,St){let{startMonth:tr,endMonth:rr}=er;const{startOfYear:nr,startOfDay:sr,startOfMonth:ir,endOfMonth:ar,addYears:or,endOfYear:lr,newDate:cr,today:ur}=St,{fromYear:dr,toYear:hr,fromMonth:Ar,toMonth:fr}=er;!tr&&Ar&&(tr=Ar),!tr&&dr&&(tr=St.newDate(dr,0,1)),!rr&&fr&&(rr=fr),!rr&&hr&&(rr=cr(hr,11,31));const mr=er.captionLayout==="dropdown"||er.captionLayout==="dropdown-years";return tr?tr=ir(tr):dr?tr=cr(dr,0,1):!tr&&mr&&(tr=nr(or(er.today??ur(),-100))),rr?rr=ar(rr):hr?rr=cr(hr,11,31):!rr&&mr&&(rr=lr(er.today??ur())),[tr&&sr(tr),rr&&sr(rr)]}function getNextMonth(er,St,tr,rr){if(tr.disableNavigation)return;const{pagedNavigation:nr,numberOfMonths:sr=1}=tr,{startOfMonth:ir,addMonths:ar,differenceInCalendarMonths:or}=rr,lr=nr?sr:1,cr=ir(er);if(!St)return ar(cr,lr);if(!(or(St,er)<sr))return ar(cr,lr)}function getPreviousMonth(er,St,tr,rr){if(tr.disableNavigation)return;const{pagedNavigation:nr,numberOfMonths:sr}=tr,{startOfMonth:ir,addMonths:ar,differenceInCalendarMonths:or}=rr,lr=nr?sr??1:1,cr=ir(er);if(!St)return ar(cr,-lr);if(!(or(cr,St)<=0))return ar(cr,-lr)}function getWeeks(er){const St=[];return er.reduce((tr,rr)=>[...tr,...rr.weeks],St)}function useControlledValue(er,St){const[tr,rr]=reactExports.useState(er);return[St===void 0?tr:St,rr]}function useCalendar(er,St){const[tr,rr]=getNavMonths(er,St),{startOfMonth:nr,endOfMonth:sr}=St,ir=getInitialMonth(er,tr,rr,St),[ar,or]=useControlledValue(ir,er.month?ir:void 0);reactExports.useEffect(()=>{const _r=getInitialMonth(er,tr,rr,St);or(_r)},[er.timeZone]);const lr=getDisplayMonths(ar,rr,er,St),cr=getDates(lr,er.endMonth?sr(er.endMonth):void 0,er,St),ur=getMonths(lr,cr,er,St),dr=getWeeks(ur),hr=getDays(ur),Ar=getPreviousMonth(ar,tr,er,St),fr=getNextMonth(ar,rr,er,St),{disableNavigation:mr,onMonthChange:pr}=er,gr=_r=>dr.some(Sr=>Sr.days.some(jr=>jr.isEqualTo(_r))),xr=_r=>{if(mr)return;let Sr=nr(_r);tr&&Sr<nr(tr)&&(Sr=nr(tr)),rr&&Sr>nr(rr)&&(Sr=nr(rr)),or(Sr),pr==null||pr(Sr)};return{months:ur,weeks:dr,days:hr,navStart:tr,navEnd:rr,previousMonth:Ar,nextMonth:fr,goToMonth:xr,goToDay:_r=>{gr(_r)||xr(_r.date)}}}var FocusTargetPriority;(function(er){er[er.Today=0]="Today",er[er.Selected=1]="Selected",er[er.LastFocused=2]="LastFocused",er[er.FocusedModifier=3]="FocusedModifier"})(FocusTargetPriority||(FocusTargetPriority={}));function isFocusableDay(er){return!er[DayFlag.disabled]&&!er[DayFlag.hidden]&&!er[DayFlag.outside]}function calculateFocusTarget(er,St,tr,rr){let nr,sr=-1;for(const ir of er){const ar=St(ir);isFocusableDay(ar)&&(ar[DayFlag.focused]&&sr<FocusTargetPriority.FocusedModifier?(nr=ir,sr=FocusTargetPriority.FocusedModifier):rr!=null&&rr.isEqualTo(ir)&&sr<FocusTargetPriority.LastFocused?(nr=ir,sr=FocusTargetPriority.LastFocused):tr(ir.date)&&sr<FocusTargetPriority.Selected?(nr=ir,sr=FocusTargetPriority.Selected):ar[DayFlag.today]&&sr<FocusTargetPriority.Today&&(nr=ir,sr=FocusTargetPriority.Today))}return nr||(nr=er.find(ir=>isFocusableDay(St(ir)))),nr}function getFocusableDate(er,St,tr,rr,nr,sr,ir){const{ISOWeek:ar,broadcastCalendar:or}=sr,{addDays:lr,addMonths:cr,addWeeks:ur,addYears:dr,endOfBroadcastWeek:hr,endOfISOWeek:Ar,endOfWeek:fr,max:mr,min:pr,startOfBroadcastWeek:gr,startOfISOWeek:xr,startOfWeek:yr}=ir;let _r={day:lr,week:ur,month:cr,year:dr,startOfWeek:Sr=>or?gr(Sr,ir):ar?xr(Sr):yr(Sr),endOfWeek:Sr=>or?hr(Sr):ar?Ar(Sr):fr(Sr)}[er](tr,St==="after"?1:-1);return St==="before"&&rr?_r=mr([rr,_r]):St==="after"&&nr&&(_r=pr([nr,_r])),_r}function getNextFocus(er,St,tr,rr,nr,sr,ir,ar=0){if(ar>365)return;const or=getFocusableDate(er,St,tr.date,rr,nr,sr,ir),lr=!!(sr.disabled&&dateMatchModifiers(or,sr.disabled,ir)),cr=!!(sr.hidden&&dateMatchModifiers(or,sr.hidden,ir)),ur=or,dr=new CalendarDay(or,ur,ir);return!lr&&!cr?dr:getNextFocus(er,St,dr,rr,nr,sr,ir,ar+1)}function useFocus(er,St,tr,rr,nr){const{autoFocus:sr}=er,[ir,ar]=reactExports.useState(),or=calculateFocusTarget(St.days,tr,rr||(()=>!1),ir),[lr,cr]=reactExports.useState(sr?or:void 0);return{isFocusTarget:fr=>!!(or!=null&&or.isEqualTo(fr)),setFocused:cr,focused:lr,blur:()=>{ar(lr),cr(void 0)},moveFocus:(fr,mr)=>{if(!lr)return;const pr=getNextFocus(fr,mr,lr,St.navStart,St.navEnd,er,nr);pr&&(St.goToDay(pr),cr(pr))}}}function useMulti(er,St){const{selected:tr,required:rr,onSelect:nr}=er,[sr,ir]=useControlledValue(tr,nr?tr:void 0),ar=nr?tr:sr,{isSameDay:or}=St,lr=hr=>(ar==null?void 0:ar.some(Ar=>or(Ar,hr)))??!1,{min:cr,max:ur}=er;return{selected:ar,select:(hr,Ar,fr)=>{let mr=[...ar??[]];if(lr(hr)){if((ar==null?void 0:ar.length)===cr||rr&&(ar==null?void 0:ar.length)===1)return;mr=ar==null?void 0:ar.filter(pr=>!or(pr,hr))}else(ar==null?void 0:ar.length)===ur?mr=[hr]:mr=[...mr,hr];return nr||ir(mr),nr==null||nr(mr,hr,Ar,fr),mr},isSelected:lr}}function addToRange(er,St,tr=0,rr=0,nr=!1,sr=defaultDateLib){const{from:ir,to:ar}=St||{},{isSameDay:or,isAfter:lr,isBefore:cr}=sr;let ur;if(!ir&&!ar)ur={from:er,to:tr>0?void 0:er};else if(ir&&!ar)or(ir,er)?nr?ur={from:ir,to:void 0}:ur=void 0:cr(er,ir)?ur={from:er,to:ir}:ur={from:ir,to:er};else if(ir&&ar)if(or(ir,er)&&or(ar,er))nr?ur={from:ir,to:ar}:ur=void 0;else if(or(ir,er))ur={from:ir,to:tr>0?void 0:er};else if(or(ar,er))ur={from:er,to:tr>0?void 0:er};else if(cr(er,ir))ur={from:er,to:ar};else if(lr(er,ir))ur={from:ir,to:er};else if(lr(er,ar))ur={from:ir,to:er};else throw new Error("Invalid range");if(ur!=null&&ur.from&&(ur!=null&&ur.to)){const dr=sr.differenceInCalendarDays(ur.to,ur.from);rr>0&&dr>rr?ur={from:er,to:void 0}:tr>1&&dr<tr&&(ur={from:er,to:void 0})}return ur}function rangeContainsDayOfWeek(er,St,tr=defaultDateLib){const rr=Array.isArray(St)?St:[St];let nr=er.from;const sr=tr.differenceInCalendarDays(er.to,er.from),ir=Math.min(sr,6);for(let ar=0;ar<=ir;ar++){if(rr.includes(nr.getDay()))return!0;nr=tr.addDays(nr,1)}return!1}function rangeOverlaps(er,St,tr=defaultDateLib){return rangeIncludesDate(er,St.from,!1,tr)||rangeIncludesDate(er,St.to,!1,tr)||rangeIncludesDate(St,er.from,!1,tr)||rangeIncludesDate(St,er.to,!1,tr)}function rangeContainsModifiers(er,St,tr=defaultDateLib){const rr=Array.isArray(St)?St:[St];if(rr.filter(ar=>typeof ar!="function").some(ar=>typeof ar=="boolean"?ar:tr.isDate(ar)?rangeIncludesDate(er,ar,!1,tr):isDatesArray(ar,tr)?ar.some(or=>rangeIncludesDate(er,or,!1,tr)):isDateRange(ar)?ar.from&&ar.to?rangeOverlaps(er,{from:ar.from,to:ar.to},tr):!1:isDayOfWeekType(ar)?rangeContainsDayOfWeek(er,ar.dayOfWeek,tr):isDateInterval(ar)?tr.isAfter(ar.before,ar.after)?rangeOverlaps(er,{from:tr.addDays(ar.after,1),to:tr.addDays(ar.before,-1)},tr):dateMatchModifiers(er.from,ar,tr)||dateMatchModifiers(er.to,ar,tr):isDateAfterType(ar)||isDateBeforeType(ar)?dateMatchModifiers(er.from,ar,tr)||dateMatchModifiers(er.to,ar,tr):!1))return!0;const ir=rr.filter(ar=>typeof ar=="function");if(ir.length){let ar=er.from;const or=tr.differenceInCalendarDays(er.to,er.from);for(let lr=0;lr<=or;lr++){if(ir.some(cr=>cr(ar)))return!0;ar=tr.addDays(ar,1)}}return!1}function useRange(er,St){const{disabled:tr,excludeDisabled:rr,selected:nr,required:sr,onSelect:ir}=er,[ar,or]=useControlledValue(nr,ir?nr:void 0),lr=ir?nr:ar;return{selected:lr,select:(dr,hr,Ar)=>{const{min:fr,max:mr}=er,pr=dr?addToRange(dr,lr,fr,mr,sr,St):void 0;return rr&&tr&&(pr!=null&&pr.from)&&pr.to&&rangeContainsModifiers({from:pr.from,to:pr.to},tr,St)&&(pr.from=dr,pr.to=void 0),ir||or(pr),ir==null||ir(pr,dr,hr,Ar),pr},isSelected:dr=>lr&&rangeIncludesDate(lr,dr,!1,St)}}function useSingle(er,St){const{selected:tr,required:rr,onSelect:nr}=er,[sr,ir]=useControlledValue(tr,nr?tr:void 0),ar=nr?tr:sr,{isSameDay:or}=St;return{selected:ar,select:(ur,dr,hr)=>{let Ar=ur;return!rr&&ar&&ar&&or(ur,ar)&&(Ar=void 0),nr||ir(Ar),nr==null||nr(Ar,ur,dr,hr),Ar},isSelected:ur=>ar?or(ar,ur):!1}}function useSelection(er,St){const tr=useSingle(er,St),rr=useMulti(er,St),nr=useRange(er,St);switch(er.mode){case"single":return tr;case"multiple":return rr;case"range":return nr;default:return}}function DayPicker(er){var eo;let St=er;St.timeZone&&(St={...er},St.today&&(St.today=new TZDate(St.today,St.timeZone)),St.month&&(St.month=new TZDate(St.month,St.timeZone)),St.defaultMonth&&(St.defaultMonth=new TZDate(St.defaultMonth,St.timeZone)),St.startMonth&&(St.startMonth=new TZDate(St.startMonth,St.timeZone)),St.endMonth&&(St.endMonth=new TZDate(St.endMonth,St.timeZone)),St.mode==="single"&&St.selected?St.selected=new TZDate(St.selected,St.timeZone):St.mode==="multiple"&&St.selected?St.selected=(eo=St.selected)==null?void 0:eo.map(zs=>new TZDate(zs,St.timeZone)):St.mode==="range"&&St.selected&&(St.selected={from:St.selected.from?new TZDate(St.selected.from,St.timeZone):void 0,to:St.selected.to?new TZDate(St.selected.to,St.timeZone):void 0}));const{components:tr,formatters:rr,labels:nr,dateLib:sr,locale:ir,classNames:ar}=reactExports.useMemo(()=>{const zs={...enUS,...St.locale};return{dateLib:new DateLib({locale:zs,weekStartsOn:St.broadcastCalendar?1:St.weekStartsOn,firstWeekContainsDate:St.firstWeekContainsDate,useAdditionalWeekYearTokens:St.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:St.useAdditionalDayOfYearTokens,timeZone:St.timeZone,numerals:St.numerals},St.dateLib),components:getComponents(St.components),formatters:getFormatters(St.formatters),labels:{...defaultLabels,...St.labels},locale:zs,classNames:{...getDefaultClassNames(),...St.classNames}}},[St.locale,St.broadcastCalendar,St.weekStartsOn,St.firstWeekContainsDate,St.useAdditionalWeekYearTokens,St.useAdditionalDayOfYearTokens,St.timeZone,St.numerals,St.dateLib,St.components,St.formatters,St.labels,St.classNames]),{captionLayout:or,mode:lr,navLayout:cr,numberOfMonths:ur=1,onDayBlur:dr,onDayClick:hr,onDayFocus:Ar,onDayKeyDown:fr,onDayMouseEnter:mr,onDayMouseLeave:pr,onNextClick:gr,onPrevClick:xr,showWeekNumber:yr,styles:Er}=St,{formatCaption:_r,formatDay:Sr,formatMonthDropdown:jr,formatWeekNumber:Pr,formatWeekNumberHeader:Mr,formatWeekdayName:Ir,formatYearDropdown:Lr}=rr,Qr=useCalendar(St,sr),{days:Yr,months:Gr,navStart:$r,navEnd:Vr,previousMonth:Tr,nextMonth:Fr,goToMonth:Wr}=Qr,qr=createGetModifiers(Yr,St,$r,Vr,sr),{isSelected:Rr,select:Or,selected:Hr}=useSelection(St,sr)??{},{blur:zr,focused:Zr,isFocusTarget:nn,moveFocus:vn,setFocused:hn}=useFocus(St,Qr,qr,Rr??(()=>!1),sr),{labelDayButton:En,labelGridcell:Tn,labelGrid:bn,labelMonthDropdown:Mn,labelNav:Rn,labelPrevious:Nn,labelNext:pn,labelWeekday:Gn,labelWeekNumber:os,labelWeekNumberHeader:es,labelYearDropdown:cs}=nr,ts=reactExports.useMemo(()=>getWeekdays(sr,St.ISOWeek),[sr,St.ISOWeek]),fs=lr!==void 0||hr!==void 0,vs=reactExports.useCallback(()=>{Tr&&(Wr(Tr),xr==null||xr(Tr))},[Tr,Wr,xr]),ws=reactExports.useCallback(()=>{Fr&&(Wr(Fr),gr==null||gr(Fr))},[Wr,Fr,gr]),Rs=reactExports.useCallback((zs,Qs)=>Ys=>{Ys.preventDefault(),Ys.stopPropagation(),hn(zs),Or==null||Or(zs.date,Qs,Ys),hr==null||hr(zs.date,Qs,Ys)},[Or,hr,hn]),ks=reactExports.useCallback((zs,Qs)=>Ys=>{hn(zs),Ar==null||Ar(zs.date,Qs,Ys)},[Ar,hn]),Fs=reactExports.useCallback((zs,Qs)=>Ys=>{zr(),dr==null||dr(zs.date,Qs,Ys)},[zr,dr]),Vs=reactExports.useCallback((zs,Qs)=>Ys=>{const Uo={ArrowLeft:[Ys.shiftKey?"month":"day",St.dir==="rtl"?"after":"before"],ArrowRight:[Ys.shiftKey?"month":"day",St.dir==="rtl"?"before":"after"],ArrowDown:[Ys.shiftKey?"year":"week","after"],ArrowUp:[Ys.shiftKey?"year":"week","before"],PageUp:[Ys.shiftKey?"year":"month","before"],PageDown:[Ys.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Uo[Ys.key]){Ys.preventDefault(),Ys.stopPropagation();const[Ms,Bs]=Uo[Ys.key];vn(Ms,Bs)}fr==null||fr(zs.date,Qs,Ys)},[vn,fr,St.dir]),Ts=reactExports.useCallback((zs,Qs)=>Ys=>{mr==null||mr(zs.date,Qs,Ys)},[mr]),Ds=reactExports.useCallback((zs,Qs)=>Ys=>{pr==null||pr(zs.date,Qs,Ys)},[pr]),ys=reactExports.useCallback(zs=>Qs=>{const Ys=Number(Qs.target.value),Uo=sr.setMonth(sr.startOfMonth(zs),Ys);Wr(Uo)},[sr,Wr]),$o=reactExports.useCallback(zs=>Qs=>{const Ys=Number(Qs.target.value),Uo=sr.setYear(sr.startOfMonth(zs),Ys);Wr(Uo)},[sr,Wr]),{className:Zs,style:io}=reactExports.useMemo(()=>({className:[ar[UI.Root],St.className].filter(Boolean).join(" "),style:{...Er==null?void 0:Er[UI.Root],...St.style}}),[ar,St.className,St.style,Er]),xa=getDataAttributes(St),oo=reactExports.useRef(null);useAnimation(oo,!!St.animate,{classNames:ar,months:Gr,focused:Zr,dateLib:sr});const El={dayPickerProps:St,selected:Hr,select:Or,isSelected:Rr,months:Gr,nextMonth:Fr,previousMonth:Tr,goToMonth:Wr,getModifiers:qr,components:tr,classNames:ar,styles:Er,labels:nr,formatters:rr};return React$3.createElement(dayPickerContext.Provider,{value:El},React$3.createElement(tr.Root,{rootRef:St.animate?oo:void 0,className:Zs,style:io,dir:St.dir,id:St.id,lang:St.lang,nonce:St.nonce,title:St.title,role:St.role,"aria-label":St["aria-label"],...xa},React$3.createElement(tr.Months,{className:ar[UI.Months],style:Er==null?void 0:Er[UI.Months]},!St.hideNavigation&&!cr&&React$3.createElement(tr.Nav,{"data-animated-nav":St.animate?"true":void 0,className:ar[UI.Nav],style:Er==null?void 0:Er[UI.Nav],"aria-label":Rn(),onPreviousClick:vs,onNextClick:ws,previousMonth:Tr,nextMonth:Fr}),Gr.map((zs,Qs)=>{const Ys=getMonthOptions(zs.date,$r,Vr,rr,sr),Uo=getYearOptions($r,Vr,rr,sr);return React$3.createElement(tr.Month,{"data-animated-month":St.animate?"true":void 0,className:ar[UI.Month],style:Er==null?void 0:Er[UI.Month],key:Qs,displayIndex:Qs,calendarMonth:zs},cr==="around"&&!St.hideNavigation&&Qs===0&&React$3.createElement(tr.PreviousMonthButton,{type:"button",className:ar[UI.PreviousMonthButton],tabIndex:Tr?void 0:-1,"aria-disabled":Tr?void 0:!0,"aria-label":Nn(Tr),onClick:vs,"data-animated-button":St.animate?"true":void 0},React$3.createElement(tr.Chevron,{disabled:Tr?void 0:!0,className:ar[UI.Chevron],orientation:St.dir==="rtl"?"right":"left"})),React$3.createElement(tr.MonthCaption,{"data-animated-caption":St.animate?"true":void 0,className:ar[UI.MonthCaption],style:Er==null?void 0:Er[UI.MonthCaption],calendarMonth:zs,displayIndex:Qs},or!=null&&or.startsWith("dropdown")?React$3.createElement(tr.DropdownNav,{className:ar[UI.Dropdowns],style:Er==null?void 0:Er[UI.Dropdowns]},or==="dropdown"||or==="dropdown-months"?React$3.createElement(tr.MonthsDropdown,{className:ar[UI.MonthsDropdown],"aria-label":Mn(),classNames:ar,components:tr,disabled:!!St.disableNavigation,onChange:ys(zs.date),options:Ys,style:Er==null?void 0:Er[UI.Dropdown],value:sr.getMonth(zs.date)}):React$3.createElement("span",null,jr(zs.date,sr)),or==="dropdown"||or==="dropdown-years"?React$3.createElement(tr.YearsDropdown,{className:ar[UI.YearsDropdown],"aria-label":cs(sr.options),classNames:ar,components:tr,disabled:!!St.disableNavigation,onChange:$o(zs.date),options:Uo,style:Er==null?void 0:Er[UI.Dropdown],value:sr.getYear(zs.date)}):React$3.createElement("span",null,Lr(zs.date,sr)),React$3.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_r(zs.date,sr.options,sr))):React$3.createElement(tr.CaptionLabel,{className:ar[UI.CaptionLabel],role:"status","aria-live":"polite"},_r(zs.date,sr.options,sr))),cr==="around"&&!St.hideNavigation&&Qs===ur-1&&React$3.createElement(tr.NextMonthButton,{type:"button",className:ar[UI.NextMonthButton],tabIndex:Fr?void 0:-1,"aria-disabled":Fr?void 0:!0,"aria-label":pn(Fr),onClick:ws,"data-animated-button":St.animate?"true":void 0},React$3.createElement(tr.Chevron,{disabled:Fr?void 0:!0,className:ar[UI.Chevron],orientation:St.dir==="rtl"?"left":"right"})),Qs===ur-1&&cr==="after"&&!St.hideNavigation&&React$3.createElement(tr.Nav,{"data-animated-nav":St.animate?"true":void 0,className:ar[UI.Nav],style:Er==null?void 0:Er[UI.Nav],"aria-label":Rn(),onPreviousClick:vs,onNextClick:ws,previousMonth:Tr,nextMonth:Fr}),React$3.createElement(tr.MonthGrid,{role:"grid","aria-multiselectable":lr==="multiple"||lr==="range","aria-label":bn(zs.date,sr.options,sr)||void 0,className:ar[UI.MonthGrid],style:Er==null?void 0:Er[UI.MonthGrid]},!St.hideWeekdays&&React$3.createElement(tr.Weekdays,{"data-animated-weekdays":St.animate?"true":void 0,className:ar[UI.Weekdays],style:Er==null?void 0:Er[UI.Weekdays]},yr&&React$3.createElement(tr.WeekNumberHeader,{"aria-label":es(sr.options),className:ar[UI.WeekNumberHeader],style:Er==null?void 0:Er[UI.WeekNumberHeader],scope:"col"},Mr()),ts.map((Ms,Bs)=>React$3.createElement(tr.Weekday,{"aria-label":Gn(Ms,sr.options,sr),className:ar[UI.Weekday],key:Bs,style:Er==null?void 0:Er[UI.Weekday],scope:"col"},Ir(Ms,sr.options,sr)))),React$3.createElement(tr.Weeks,{"data-animated-weeks":St.animate?"true":void 0,className:ar[UI.Weeks],style:Er==null?void 0:Er[UI.Weeks]},zs.weeks.map((Ms,Bs)=>React$3.createElement(tr.Week,{className:ar[UI.Week],key:Ms.weekNumber,style:Er==null?void 0:Er[UI.Week],week:Ms},yr&&React$3.createElement(tr.WeekNumber,{week:Ms,style:Er==null?void 0:Er[UI.WeekNumber],"aria-label":os(Ms.weekNumber,{locale:ir}),className:ar[UI.WeekNumber],scope:"row",role:"rowheader"},Pr(Ms.weekNumber,sr)),Ms.days.map(qs=>{const{date:to}=qs,Os=qr(qs);if(Os[DayFlag.focused]=!Os.hidden&&!!(Zr!=null&&Zr.isEqualTo(qs)),Os[SelectionState.selected]=(Rr==null?void 0:Rr(to))||Os.selected,isDateRange(Hr)){const{from:wl,to:_l}=Hr;Os[SelectionState.range_start]=!!(wl&&_l&&sr.isSameDay(to,wl)),Os[SelectionState.range_end]=!!(wl&&_l&&sr.isSameDay(to,_l)),Os[SelectionState.range_middle]=rangeIncludesDate(Hr,to,!0,sr)}const fu=getStyleForModifiers(Os,Er,St.modifiersStyles),tu=getClassNamesForModifiers(Os,ar,St.modifiersClassNames),Ws=!fs&&!Os.hidden?Tn(to,Os,sr.options,sr):void 0;return React$3.createElement(tr.Day,{key:`${sr.format(to,"yyyy-MM-dd")}_${sr.format(qs.displayMonth,"yyyy-MM")}`,day:qs,modifiers:Os,className:tu.join(" "),style:fu,role:"gridcell","aria-selected":Os.selected||void 0,"aria-label":Ws,"data-day":sr.format(to,"yyyy-MM-dd"),"data-month":qs.outside?sr.format(to,"yyyy-MM"):void 0,"data-selected":Os.selected||void 0,"data-disabled":Os.disabled||void 0,"data-hidden":Os.hidden||void 0,"data-outside":qs.outside||void 0,"data-focused":Os.focused||void 0,"data-today":Os.today||void 0},!Os.hidden&&fs?React$3.createElement(tr.DayButton,{className:ar[UI.DayButton],style:Er==null?void 0:Er[UI.DayButton],type:"button",day:qs,modifiers:Os,disabled:Os.disabled||void 0,tabIndex:nn(qs)?0:-1,"aria-label":En(to,Os,sr.options,sr),onClick:Rs(qs,Os),onBlur:Fs(qs,Os),onFocus:ks(qs,Os),onKeyDown:Vs(qs,Os),onMouseEnter:Ts(qs,Os),onMouseLeave:Ds(qs,Os)},Sr(to,sr.options,sr)):!Os.hidden&&Sr(qs.date,sr.options,sr))}))))))})),St.footer&&React$3.createElement(tr.Footer,{className:ar[UI.Footer],style:Er==null?void 0:Er[UI.Footer],role:"status","aria-live":"polite"},St.footer)))}function Calendar({className:er,classNames:St,showOutsideDays:tr=!0,...rr}){return jsxRuntimeExports.jsx(DayPicker,{showOutsideDays:tr,className:cn("p-3",er),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:cn(buttonVariants({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-gray-500 rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-gray-100/50 [&:has([aria-selected])]:bg-gray-100 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:cn(buttonVariants({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-gray-900 text-gray-50 hover:bg-gray-900 hover:text-gray-50 focus:bg-gray-900 focus:text-gray-50",day_today:"bg-gray-100 text-gray-900",day_outside:"day-outside text-gray-500 opacity-50 aria-selected:bg-gray-100/50 aria-selected:text-gray-500 aria-selected:opacity-30",day_disabled:"text-gray-500 opacity-50",day_range_middle:"aria-selected:bg-gray-100 aria-selected:text-gray-900",day_hidden:"invisible",...St},components:{IconLeft:({...nr})=>jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),IconRight:({...nr})=>jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})},...rr})}Calendar.displayName="Calendar";var POPOVER_NAME="Popover",[createPopoverContext,createPopoverScope]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=er=>{const{__scopePopover:St,children:tr,open:rr,defaultOpen:nr,onOpenChange:sr,modal:ir=!1}=er,ar=usePopperScope(St),or=reactExports.useRef(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=useControllableState({prop:rr,defaultProp:nr??!1,onChange:sr,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$3,{...ar,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:St,contentId:useId(),triggerRef:or,open:ur,onOpenChange:dr,onOpenToggle:reactExports.useCallback(()=>dr(hr=>!hr),[dr]),hasCustomAnchor:lr,onCustomAnchorAdd:reactExports.useCallback(()=>cr(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>cr(!1),[]),modal:ir,children:tr})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((er,St)=>{const{__scopePopover:tr,...rr}=er,nr=usePopoverContext(ANCHOR_NAME,tr),sr=usePopperScope(tr),{onCustomAnchorAdd:ir,onCustomAnchorRemove:ar}=nr;return reactExports.useEffect(()=>(ir(),()=>ar()),[ir,ar]),jsxRuntimeExports.jsx(Anchor,{...sr,...rr,ref:St})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((er,St)=>{const{__scopePopover:tr,...rr}=er,nr=usePopoverContext(TRIGGER_NAME,tr),sr=usePopperScope(tr),ir=useComposedRefs(St,nr.triggerRef),ar=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":nr.open,"aria-controls":nr.contentId,"data-state":getState(nr.open),...rr,ref:ir,onClick:composeEventHandlers(er.onClick,nr.onOpenToggle)});return nr.hasCustomAnchor?ar:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...sr,children:ar})});PopoverTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="PopoverPortal",[PortalProvider,usePortalContext]=createPopoverContext(PORTAL_NAME,{forceMount:void 0}),PopoverPortal=er=>{const{__scopePopover:St,forceMount:tr,children:rr,container:nr}=er,sr=usePopoverContext(PORTAL_NAME,St);return jsxRuntimeExports.jsx(PortalProvider,{scope:St,forceMount:tr,children:jsxRuntimeExports.jsx(Presence,{present:tr||sr.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:nr,children:rr})})})};PopoverPortal.displayName=PORTAL_NAME;var CONTENT_NAME="PopoverContent",PopoverContent$1=reactExports.forwardRef((er,St)=>{const tr=usePortalContext(CONTENT_NAME,er.__scopePopover),{forceMount:rr=tr.forceMount,...nr}=er,sr=usePopoverContext(CONTENT_NAME,er.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:rr||sr.open,children:sr.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...nr,ref:St}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...nr,ref:St})})});PopoverContent$1.displayName=CONTENT_NAME;var Slot=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((er,St)=>{const tr=usePopoverContext(CONTENT_NAME,er.__scopePopover),rr=reactExports.useRef(null),nr=useComposedRefs(St,rr),sr=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ir=rr.current;if(ir)return hideOthers(ir)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...er,ref:nr,trapFocus:tr.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(er.onCloseAutoFocus,ir=>{var ar;ir.preventDefault(),sr.current||(ar=tr.triggerRef.current)==null||ar.focus()}),onPointerDownOutside:composeEventHandlers(er.onPointerDownOutside,ir=>{const ar=ir.detail.originalEvent,or=ar.button===0&&ar.ctrlKey===!0,lr=ar.button===2||or;sr.current=lr},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(er.onFocusOutside,ir=>ir.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((er,St)=>{const tr=usePopoverContext(CONTENT_NAME,er.__scopePopover),rr=reactExports.useRef(!1),nr=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...er,ref:St,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:sr=>{var ir,ar;(ir=er.onCloseAutoFocus)==null||ir.call(er,sr),sr.defaultPrevented||(rr.current||(ar=tr.triggerRef.current)==null||ar.focus(),sr.preventDefault()),rr.current=!1,nr.current=!1},onInteractOutside:sr=>{var or,lr;(or=er.onInteractOutside)==null||or.call(er,sr),sr.defaultPrevented||(rr.current=!0,sr.detail.originalEvent.type==="pointerdown"&&(nr.current=!0));const ir=sr.target;((lr=tr.triggerRef.current)==null?void 0:lr.contains(ir))&&sr.preventDefault(),sr.detail.originalEvent.type==="focusin"&&nr.current&&sr.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((er,St)=>{const{__scopePopover:tr,trapFocus:rr,onOpenAutoFocus:nr,onCloseAutoFocus:sr,disableOutsidePointerEvents:ir,onEscapeKeyDown:ar,onPointerDownOutside:or,onFocusOutside:lr,onInteractOutside:cr,...ur}=er,dr=usePopoverContext(CONTENT_NAME,tr),hr=usePopperScope(tr);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:rr,onMountAutoFocus:nr,onUnmountAutoFocus:sr,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:ir,onInteractOutside:cr,onEscapeKeyDown:ar,onPointerDownOutside:or,onFocusOutside:lr,onDismiss:()=>dr.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content,{"data-state":getState(dr.open),role:"dialog",id:dr.contentId,...hr,...ur,ref:St,style:{...ur.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((er,St)=>{const{__scopePopover:tr,...rr}=er,nr=usePopoverContext(CLOSE_NAME,tr);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...rr,ref:St,onClick:composeEventHandlers(er.onClick,()=>nr.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME="PopoverArrow",PopoverArrow=reactExports.forwardRef((er,St)=>{const{__scopePopover:tr,...rr}=er,nr=usePopperScope(tr);return jsxRuntimeExports.jsx(Arrow,{...nr,...rr,ref:St})});PopoverArrow.displayName=ARROW_NAME;function getState(er){return er?"open":"closed"}var Root2=Popover$1,Trigger=PopoverTrigger$1,Portal=PopoverPortal,Content2=PopoverContent$1;const Popover=Root2,PopoverTrigger=Trigger,PopoverContent=reactExports.forwardRef(({className:er,align:St="center",sideOffset:tr=4,...rr},nr)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Content2,{ref:nr,align:St,sideOffset:tr,className:cn("z-50 w-72 rounded-md border border-gray-200 bg-white p-4 text-gray-900 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",er),...rr})}));PopoverContent.displayName=Content2.displayName;function DatePickerWithRange({date:er,onDateChange:St,className:tr}){return jsxRuntimeExports.jsx("div",{className:cn("grid gap-2",tr),children:jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{id:"date",variant:"outline",className:cn("w-full justify-start text-left font-normal",!er&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$2,{className:"mr-2 h-4 w-4"}),er!=null&&er.from?er.to?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[format(er.from,"LLL dd, y")," -"," ",format(er.to,"LLL dd, y")]}):format(er.from,"LLL dd, y"):jsxRuntimeExports.jsx("span",{children:"Pick a date range"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{initialFocus:!0,mode:"range",defaultMonth:er==null?void 0:er.from,selected:er,onSelect:St,numberOfMonths:2})})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],set_ansi=function(er){VALID_ANSI.indexOf(er)!=-1&&(current_ansi=er)};function reset_ansi(){set_ansi(1252)}var set_cp=function(er){set_ansi(er)};function reset_cp(){set_cp(1200),reset_ansi()}var _getchar=function er(St){return String.fromCharCode(St)},_getansi=function er(St){return String.fromCharCode(St)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(er){for(var St="",tr=0,rr=0,nr=0,sr=0,ir=0,ar=0,or=0,lr=0;lr<er.length;)tr=er.charCodeAt(lr++),sr=tr>>2,rr=er.charCodeAt(lr++),ir=(tr&3)<<4|rr>>4,nr=er.charCodeAt(lr++),ar=(rr&15)<<2|nr>>6,or=nr&63,isNaN(rr)?ar=or=64:isNaN(nr)&&(or=64),St+=Base64_map.charAt(sr)+Base64_map.charAt(ir)+Base64_map.charAt(ar)+Base64_map.charAt(or);return St}function Base64_decode(er){var St="",tr=0,rr=0,nr=0,sr=0,ir=0,ar=0,or=0;er=er.replace(/[^\w\+\/\=]/g,"");for(var lr=0;lr<er.length;)sr=Base64_map.indexOf(er.charAt(lr++)),ir=Base64_map.indexOf(er.charAt(lr++)),tr=sr<<2|ir>>4,St+=String.fromCharCode(tr),ar=Base64_map.indexOf(er.charAt(lr++)),rr=(ir&15)<<4|ar>>2,ar!==64&&(St+=String.fromCharCode(rr)),or=Base64_map.indexOf(er.charAt(lr++)),nr=(ar&3)<<6|or,or!==64&&(St+=String.fromCharCode(nr));return St}var has_buf=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Buffer_from=function(){if(typeof Buffer<"u"){var er=!Buffer.from;if(!er)try{Buffer.from("foo","utf8")}catch{er=!0}return er?function(St,tr){return tr?new Buffer(St,tr):new Buffer(St)}:Buffer.from.bind(Buffer)}return function(){}}();function new_raw_buf(er){return has_buf?Buffer.alloc?Buffer.alloc(er):new Buffer(er):typeof Uint8Array<"u"?new Uint8Array(er):new Array(er)}function new_unsafe_buf(er){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(er):new Buffer(er):typeof Uint8Array<"u"?new Uint8Array(er):new Array(er)}var s2a=function er(St){return has_buf?Buffer_from(St,"binary"):St.split("").map(function(tr){return tr.charCodeAt(0)&255})};function s2ab(er){if(typeof ArrayBuffer>"u")return s2a(er);for(var St=new ArrayBuffer(er.length),tr=new Uint8Array(St),rr=0;rr!=er.length;++rr)tr[rr]=er.charCodeAt(rr)&255;return St}function a2s(er){if(Array.isArray(er))return er.map(function(rr){return String.fromCharCode(rr)}).join("");for(var St=[],tr=0;tr<er.length;++tr)St[tr]=String.fromCharCode(er[tr]);return St.join("")}function a2u(er){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(er)}var bconcat=has_buf?function(er){return Buffer.concat(er.map(function(St){return Buffer.isBuffer(St)?St:Buffer_from(St)}))}:function(er){if(typeof Uint8Array<"u"){var St=0,tr=0;for(St=0;St<er.length;++St)tr+=er[St].length;var rr=new Uint8Array(tr),nr=0;for(St=0,tr=0;St<er.length;tr+=nr,++St)if(nr=er[St].length,er[St]instanceof Uint8Array)rr.set(er[St],tr);else{if(typeof er[St]=="string")throw"wtf";rr.set(new Uint8Array(er[St]),tr)}return rr}return[].concat.apply([],er.map(function(sr){return Array.isArray(sr)?sr:[].slice.call(sr)}))};function utf8decode(er){for(var St=[],tr=0,rr=er.length+250,nr=new_raw_buf(er.length+255),sr=0;sr<er.length;++sr){var ir=er.charCodeAt(sr);if(ir<128)nr[tr++]=ir;else if(ir<2048)nr[tr++]=192|ir>>6&31,nr[tr++]=128|ir&63;else if(ir>=55296&&ir<57344){ir=(ir&1023)+64;var ar=er.charCodeAt(++sr)&1023;nr[tr++]=240|ir>>8&7,nr[tr++]=128|ir>>2&63,nr[tr++]=128|ar>>6&15|(ir&3)<<4,nr[tr++]=128|ar&63}else nr[tr++]=224|ir>>12&15,nr[tr++]=128|ir>>6&63,nr[tr++]=128|ir&63;tr>rr&&(St.push(nr.slice(0,tr)),tr=0,nr=new_raw_buf(65535),rr=65530)}return St.push(nr.slice(0,tr)),bconcat(St)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(er){for(var St="",tr=er.length-1;tr>=0;)St+=er.charAt(tr--);return St}function pad0(er,St){var tr=""+er;return tr.length>=St?tr:fill("0",St-tr.length)+tr}function pad_(er,St){var tr=""+er;return tr.length>=St?tr:fill(" ",St-tr.length)+tr}function rpad_(er,St){var tr=""+er;return tr.length>=St?tr:tr+fill(" ",St-tr.length)}function pad0r1(er,St){var tr=""+Math.round(er);return tr.length>=St?tr:fill("0",St-tr.length)+tr}function pad0r2(er,St){var tr=""+er;return tr.length>=St?tr:fill("0",St-tr.length)+tr}var p2_32=Math.pow(2,32);function pad0r(er,St){if(er>p2_32||er<-p2_32)return pad0r1(er,St);var tr=Math.round(er);return pad0r2(tr,St)}function SSF_isgeneral(er,St){return St=St||0,er.length>=7+St&&(er.charCodeAt(St)|32)===103&&(er.charCodeAt(St+1)|32)===101&&(er.charCodeAt(St+2)|32)===110&&(er.charCodeAt(St+3)|32)===101&&(er.charCodeAt(St+4)|32)===114&&(er.charCodeAt(St+5)|32)===97&&(er.charCodeAt(St+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(er){return er||(er={}),er[0]="General",er[1]="0",er[2]="0.00",er[3]="#,##0",er[4]="#,##0.00",er[9]="0%",er[10]="0.00%",er[11]="0.00E+00",er[12]="# ?/?",er[13]="# ??/??",er[14]="m/d/yy",er[15]="d-mmm-yy",er[16]="d-mmm",er[17]="mmm-yy",er[18]="h:mm AM/PM",er[19]="h:mm:ss AM/PM",er[20]="h:mm",er[21]="h:mm:ss",er[22]="m/d/yy h:mm",er[37]="#,##0 ;(#,##0)",er[38]="#,##0 ;[Red](#,##0)",er[39]="#,##0.00;(#,##0.00)",er[40]="#,##0.00;[Red](#,##0.00)",er[45]="mm:ss",er[46]="[h]:mm:ss",er[47]="mmss.0",er[48]="##0.0E+0",er[49]="@",er[56]='"/ "hh""mm""ss" "',er}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(er,St,tr){for(var rr=er<0?-1:1,nr=er*rr,sr=0,ir=1,ar=0,or=1,lr=0,cr=0,ur=Math.floor(nr);lr<St&&(ur=Math.floor(nr),ar=ur*ir+sr,cr=ur*lr+or,!(nr-ur<5e-8));)nr=1/(nr-ur),sr=ir,ir=ar,or=lr,lr=cr;if(cr>St&&(lr>St?(cr=or,ar=sr):(cr=lr,ar=ir)),!tr)return[0,rr*ar,cr];var dr=Math.floor(rr*ar/cr);return[dr,rr*ar-dr*cr,cr]}function SSF_parse_date_code(er,St,tr){if(er>2958465||er<0)return null;var rr=er|0,nr=Math.floor(86400*(er-rr)),sr=0,ir=[],ar={D:rr,T:nr,u:86400*(er-rr)-nr,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(ar.u)<1e-6&&(ar.u=0),St&&St.date1904&&(rr+=1462),ar.u>.9999&&(ar.u=0,++nr==86400&&(ar.T=nr=0,++rr,++ar.D)),rr===60)ir=tr?[1317,10,29]:[1900,2,29],sr=3;else if(rr===0)ir=tr?[1317,8,29]:[1900,1,0],sr=6;else{rr>60&&--rr;var or=new Date(1900,0,1);or.setDate(or.getDate()+rr-1),ir=[or.getFullYear(),or.getMonth()+1,or.getDate()],sr=or.getDay(),rr<60&&(sr=(sr+6)%7),tr&&(sr=SSF_fix_hijri(or,ir))}return ar.y=ir[0],ar.m=ir[1],ar.d=ir[2],ar.S=nr%60,nr=Math.floor(nr/60),ar.M=nr%60,nr=Math.floor(nr/60),ar.H=nr,ar.q=sr,ar}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(er,St){var tr=er.getTime();return St?tr-=1461*24*60*60*1e3:er>=SSFbase1904&&(tr+=24*60*60*1e3),(tr-(SSFdnthresh+(er.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SSF_strip_decimal(er){return er.indexOf(".")==-1?er:er.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(er){return er.indexOf("E")==-1?er:er.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(er){var St=er<0?12:11,tr=SSF_strip_decimal(er.toFixed(12));return tr.length<=St||(tr=er.toPrecision(10),tr.length<=St)?tr:er.toExponential(5)}function SSF_large_exp(er){var St=SSF_strip_decimal(er.toFixed(11));return St.length>(er<0?12:11)||St==="0"||St==="-0"?er.toPrecision(6):St}function SSF_general_num(er){var St=Math.floor(Math.log(Math.abs(er))*Math.LOG10E),tr;return St>=-4&&St<=-1?tr=er.toPrecision(10+St):Math.abs(St)<=9?tr=SSF_small_exp(er):St===10?tr=er.toFixed(10).substr(0,12):tr=SSF_large_exp(er),SSF_strip_decimal(SSF_normalize_exp(tr.toUpperCase()))}function SSF_general(er,St){switch(typeof er){case"string":return er;case"boolean":return er?"TRUE":"FALSE";case"number":return(er|0)===er?er.toString(10):SSF_general_num(er);case"undefined":return"";case"object":if(er==null)return"";if(er instanceof Date)return SSF_format(14,datenum_local(er,St&&St.date1904),St)}throw new Error("unsupported value in General format: "+er)}function SSF_fix_hijri(er,St){St[0]-=581;var tr=er.getDay();return er<60&&(tr=(tr+6)%7),tr}function SSF_write_date(er,St,tr,rr){var nr="",sr=0,ir=0,ar=tr.y,or,lr=0;switch(er){case 98:ar=tr.y+543;case 121:switch(St.length){case 1:case 2:or=ar%100,lr=2;break;default:or=ar%1e4,lr=4;break}break;case 109:switch(St.length){case 1:case 2:or=tr.m,lr=St.length;break;case 3:return months[tr.m-1][1];case 5:return months[tr.m-1][0];default:return months[tr.m-1][2]}break;case 100:switch(St.length){case 1:case 2:or=tr.d,lr=St.length;break;case 3:return days[tr.q][0];default:return days[tr.q][1]}break;case 104:switch(St.length){case 1:case 2:or=1+(tr.H+11)%12,lr=St.length;break;default:throw"bad hour format: "+St}break;case 72:switch(St.length){case 1:case 2:or=tr.H,lr=St.length;break;default:throw"bad hour format: "+St}break;case 77:switch(St.length){case 1:case 2:or=tr.M,lr=St.length;break;default:throw"bad minute format: "+St}break;case 115:if(St!="s"&&St!="ss"&&St!=".0"&&St!=".00"&&St!=".000")throw"bad second format: "+St;return tr.u===0&&(St=="s"||St=="ss")?pad0(tr.S,St.length):(rr>=2?ir=rr===3?1e3:100:ir=rr===1?10:1,sr=Math.round(ir*(tr.S+tr.u)),sr>=60*ir&&(sr=0),St==="s"?sr===0?"0":""+sr/ir:(nr=pad0(sr,2+rr),St==="ss"?nr.substr(0,2):"."+nr.substr(2,St.length-1)));case 90:switch(St){case"[h]":case"[hh]":or=tr.D*24+tr.H;break;case"[m]":case"[mm]":or=(tr.D*24+tr.H)*60+tr.M;break;case"[s]":case"[ss]":or=((tr.D*24+tr.H)*60+tr.M)*60+Math.round(tr.S+tr.u);break;default:throw"bad abstime format: "+St}lr=St.length===3?1:2;break;case 101:or=ar,lr=1;break}var cr=lr>0?pad0(or,lr):"";return cr}function commaify(er){var St=3;if(er.length<=St)return er;for(var tr=er.length%St,rr=er.substr(0,tr);tr!=er.length;tr+=St)rr+=(rr.length>0?",":"")+er.substr(tr,St);return rr}var pct1=/%/g;function write_num_pct(er,St,tr){var rr=St.replace(pct1,""),nr=St.length-rr.length;return write_num(er,rr,tr*Math.pow(10,2*nr))+fill("%",nr)}function write_num_cm(er,St,tr){for(var rr=St.length-1;St.charCodeAt(rr-1)===44;)--rr;return write_num(er,St.substr(0,rr),tr/Math.pow(10,3*(St.length-rr)))}function write_num_exp(er,St){var tr,rr=er.indexOf("E")-er.indexOf(".")-1;if(er.match(/^#+0.0E\+0$/)){if(St==0)return"0.0E+0";if(St<0)return"-"+write_num_exp(er,-St);var nr=er.indexOf(".");nr===-1&&(nr=er.indexOf("E"));var sr=Math.floor(Math.log(St)*Math.LOG10E)%nr;if(sr<0&&(sr+=nr),tr=(St/Math.pow(10,sr)).toPrecision(rr+1+(nr+sr)%nr),tr.indexOf("e")===-1){var ir=Math.floor(Math.log(St)*Math.LOG10E);for(tr.indexOf(".")===-1?tr=tr.charAt(0)+"."+tr.substr(1)+"E+"+(ir-tr.length+sr):tr+="E+"+(ir-sr);tr.substr(0,2)==="0.";)tr=tr.charAt(0)+tr.substr(2,nr)+"."+tr.substr(2+nr),tr=tr.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");tr=tr.replace(/\+-/,"-")}tr=tr.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ar,or,lr,cr){return or+lr+cr.substr(0,(nr+sr)%nr)+"."+cr.substr(sr)+"E"})}else tr=St.toExponential(rr);return er.match(/E\+00$/)&&tr.match(/e[+-]\d$/)&&(tr=tr.substr(0,tr.length-1)+"0"+tr.charAt(tr.length-1)),er.match(/E\-/)&&tr.match(/e\+/)&&(tr=tr.replace(/e\+/,"e")),tr.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(er,St,tr){var rr=parseInt(er[4],10),nr=Math.round(St*rr),sr=Math.floor(nr/rr),ir=nr-sr*rr,ar=rr;return tr+(sr===0?"":""+sr)+" "+(ir===0?fill(" ",er[1].length+1+er[4].length):pad_(ir,er[1].length)+er[2]+"/"+er[3]+pad0(ar,er[4].length))}function write_num_f2(er,St,tr){return tr+(St===0?"":""+St)+fill(" ",er[1].length+2+er[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(er){for(var St="",tr,rr=0;rr!=er.length;++rr)switch(tr=er.charCodeAt(rr)){case 35:break;case 63:St+=" ";break;case 48:St+="0";break;default:St+=String.fromCharCode(tr)}return St}function rnd(er,St){var tr=Math.pow(10,St);return""+Math.round(er*tr)/tr}function dec(er,St){var tr=er-Math.floor(er),rr=Math.pow(10,St);return St<(""+Math.round(tr*rr)).length?0:Math.round(tr*rr)}function carry(er,St){return St<(""+Math.round((er-Math.floor(er))*Math.pow(10,St))).length?1:0}function flr(er){return er<2147483647&&er>-2147483648?""+(er>=0?er|0:er-1|0):""+Math.floor(er)}function write_num_flt(er,St,tr){if(er.charCodeAt(0)===40&&!St.match(closeparen)){var rr=St.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return tr>=0?write_num_flt("n",rr,tr):"("+write_num_flt("n",rr,-tr)+")"}if(St.charCodeAt(St.length-1)===44)return write_num_cm(er,St,tr);if(St.indexOf("%")!==-1)return write_num_pct(er,St,tr);if(St.indexOf("E")!==-1)return write_num_exp(St,tr);if(St.charCodeAt(0)===36)return"$"+write_num_flt(er,St.substr(St.charAt(1)==" "?2:1),tr);var nr,sr,ir,ar,or=Math.abs(tr),lr=tr<0?"-":"";if(St.match(/^00+$/))return lr+pad0r(or,St.length);if(St.match(/^[#?]+$/))return nr=pad0r(tr,0),nr==="0"&&(nr=""),nr.length>St.length?nr:hashq(St.substr(0,St.length-nr.length))+nr;if(sr=St.match(frac1))return write_num_f1(sr,or,lr);if(St.match(/^#+0+$/))return lr+pad0r(or,St.length-St.indexOf("0"));if(sr=St.match(dec1))return nr=rnd(tr,sr[1].length).replace(/^([^\.]+)$/,"$1."+hashq(sr[1])).replace(/\.$/,"."+hashq(sr[1])).replace(/\.(\d*)$/,function(Ar,fr){return"."+fr+fill("0",hashq(sr[1]).length-fr.length)}),St.indexOf("0.")!==-1?nr:nr.replace(/^0\./,".");if(St=St.replace(/^#+([0.])/,"$1"),sr=St.match(/^(0*)\.(#*)$/))return lr+rnd(or,sr[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,sr[1].length?"0.":".");if(sr=St.match(/^#{1,3},##0(\.?)$/))return lr+commaify(pad0r(or,0));if(sr=St.match(/^#,##0\.([#0]*0)$/))return tr<0?"-"+write_num_flt(er,St,-tr):commaify(""+(Math.floor(tr)+carry(tr,sr[1].length)))+"."+pad0(dec(tr,sr[1].length),sr[1].length);if(sr=St.match(/^#,#*,#0/))return write_num_flt(er,St.replace(/^#,#*,/,""),tr);if(sr=St.match(/^([0#]+)(\\?-([0#]+))+$/))return nr=_strrev(write_num_flt(er,St.replace(/[\\-]/g,""),tr)),ir=0,_strrev(_strrev(St.replace(/\\/g,"")).replace(/[0#]/g,function(Ar){return ir<nr.length?nr.charAt(ir++):Ar==="0"?"0":""}));if(St.match(phone))return nr=write_num_flt(er,"##########",tr),"("+nr.substr(0,3)+") "+nr.substr(3,3)+"-"+nr.substr(6);var cr="";if(sr=St.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ir=Math.min(sr[4].length,7),ar=SSF_frac(or,Math.pow(10,ir)-1,!1),nr=""+lr,cr=write_num("n",sr[1],ar[1]),cr.charAt(cr.length-1)==" "&&(cr=cr.substr(0,cr.length-1)+"0"),nr+=cr+sr[2]+"/"+sr[3],cr=rpad_(ar[2],ir),cr.length<sr[4].length&&(cr=hashq(sr[4].substr(sr[4].length-cr.length))+cr),nr+=cr,nr;if(sr=St.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ir=Math.min(Math.max(sr[1].length,sr[4].length),7),ar=SSF_frac(or,Math.pow(10,ir)-1,!0),lr+(ar[0]||(ar[1]?"":"0"))+" "+(ar[1]?pad_(ar[1],ir)+sr[2]+"/"+sr[3]+rpad_(ar[2],ir):fill(" ",2*ir+1+sr[2].length+sr[3].length));if(sr=St.match(/^[#0?]+$/))return nr=pad0r(tr,0),St.length<=nr.length?nr:hashq(St.substr(0,St.length-nr.length))+nr;if(sr=St.match(/^([#0?]+)\.([#0]+)$/)){nr=""+tr.toFixed(Math.min(sr[2].length,10)).replace(/([^0])0+$/,"$1"),ir=nr.indexOf(".");var ur=St.indexOf(".")-ir,dr=St.length-nr.length-ur;return hashq(St.substr(0,ur)+nr+St.substr(St.length-dr))}if(sr=St.match(/^00,000\.([#0]*0)$/))return ir=dec(tr,sr[1].length),tr<0?"-"+write_num_flt(er,St,-tr):commaify(flr(tr)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Ar){return"00,"+(Ar.length<3?pad0(0,3-Ar.length):"")+Ar})+"."+pad0(ir,sr[1].length);switch(St){case"###,##0.00":return write_num_flt(er,"#,##0.00",tr);case"###,###":case"##,###":case"#,###":var hr=commaify(pad0r(or,0));return hr!=="0"?lr+hr:"";case"###,###.00":return write_num_flt(er,"###,##0.00",tr).replace(/^0\./,".");case"#,###.00":return write_num_flt(er,"#,##0.00",tr).replace(/^0\./,".")}throw new Error("unsupported format |"+St+"|")}function write_num_cm2(er,St,tr){for(var rr=St.length-1;St.charCodeAt(rr-1)===44;)--rr;return write_num(er,St.substr(0,rr),tr/Math.pow(10,3*(St.length-rr)))}function write_num_pct2(er,St,tr){var rr=St.replace(pct1,""),nr=St.length-rr.length;return write_num(er,rr,tr*Math.pow(10,2*nr))+fill("%",nr)}function write_num_exp2(er,St){var tr,rr=er.indexOf("E")-er.indexOf(".")-1;if(er.match(/^#+0.0E\+0$/)){if(St==0)return"0.0E+0";if(St<0)return"-"+write_num_exp2(er,-St);var nr=er.indexOf(".");nr===-1&&(nr=er.indexOf("E"));var sr=Math.floor(Math.log(St)*Math.LOG10E)%nr;if(sr<0&&(sr+=nr),tr=(St/Math.pow(10,sr)).toPrecision(rr+1+(nr+sr)%nr),!tr.match(/[Ee]/)){var ir=Math.floor(Math.log(St)*Math.LOG10E);tr.indexOf(".")===-1?tr=tr.charAt(0)+"."+tr.substr(1)+"E+"+(ir-tr.length+sr):tr+="E+"+(ir-sr),tr=tr.replace(/\+-/,"-")}tr=tr.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ar,or,lr,cr){return or+lr+cr.substr(0,(nr+sr)%nr)+"."+cr.substr(sr)+"E"})}else tr=St.toExponential(rr);return er.match(/E\+00$/)&&tr.match(/e[+-]\d$/)&&(tr=tr.substr(0,tr.length-1)+"0"+tr.charAt(tr.length-1)),er.match(/E\-/)&&tr.match(/e\+/)&&(tr=tr.replace(/e\+/,"e")),tr.replace("e","E")}function write_num_int(er,St,tr){if(er.charCodeAt(0)===40&&!St.match(closeparen)){var rr=St.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return tr>=0?write_num_int("n",rr,tr):"("+write_num_int("n",rr,-tr)+")"}if(St.charCodeAt(St.length-1)===44)return write_num_cm2(er,St,tr);if(St.indexOf("%")!==-1)return write_num_pct2(er,St,tr);if(St.indexOf("E")!==-1)return write_num_exp2(St,tr);if(St.charCodeAt(0)===36)return"$"+write_num_int(er,St.substr(St.charAt(1)==" "?2:1),tr);var nr,sr,ir,ar,or=Math.abs(tr),lr=tr<0?"-":"";if(St.match(/^00+$/))return lr+pad0(or,St.length);if(St.match(/^[#?]+$/))return nr=""+tr,tr===0&&(nr=""),nr.length>St.length?nr:hashq(St.substr(0,St.length-nr.length))+nr;if(sr=St.match(frac1))return write_num_f2(sr,or,lr);if(St.match(/^#+0+$/))return lr+pad0(or,St.length-St.indexOf("0"));if(sr=St.match(dec1))return nr=(""+tr).replace(/^([^\.]+)$/,"$1."+hashq(sr[1])).replace(/\.$/,"."+hashq(sr[1])),nr=nr.replace(/\.(\d*)$/,function(Ar,fr){return"."+fr+fill("0",hashq(sr[1]).length-fr.length)}),St.indexOf("0.")!==-1?nr:nr.replace(/^0\./,".");if(St=St.replace(/^#+([0.])/,"$1"),sr=St.match(/^(0*)\.(#*)$/))return lr+(""+or).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,sr[1].length?"0.":".");if(sr=St.match(/^#{1,3},##0(\.?)$/))return lr+commaify(""+or);if(sr=St.match(/^#,##0\.([#0]*0)$/))return tr<0?"-"+write_num_int(er,St,-tr):commaify(""+tr)+"."+fill("0",sr[1].length);if(sr=St.match(/^#,#*,#0/))return write_num_int(er,St.replace(/^#,#*,/,""),tr);if(sr=St.match(/^([0#]+)(\\?-([0#]+))+$/))return nr=_strrev(write_num_int(er,St.replace(/[\\-]/g,""),tr)),ir=0,_strrev(_strrev(St.replace(/\\/g,"")).replace(/[0#]/g,function(Ar){return ir<nr.length?nr.charAt(ir++):Ar==="0"?"0":""}));if(St.match(phone))return nr=write_num_int(er,"##########",tr),"("+nr.substr(0,3)+") "+nr.substr(3,3)+"-"+nr.substr(6);var cr="";if(sr=St.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ir=Math.min(sr[4].length,7),ar=SSF_frac(or,Math.pow(10,ir)-1,!1),nr=""+lr,cr=write_num("n",sr[1],ar[1]),cr.charAt(cr.length-1)==" "&&(cr=cr.substr(0,cr.length-1)+"0"),nr+=cr+sr[2]+"/"+sr[3],cr=rpad_(ar[2],ir),cr.length<sr[4].length&&(cr=hashq(sr[4].substr(sr[4].length-cr.length))+cr),nr+=cr,nr;if(sr=St.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ir=Math.min(Math.max(sr[1].length,sr[4].length),7),ar=SSF_frac(or,Math.pow(10,ir)-1,!0),lr+(ar[0]||(ar[1]?"":"0"))+" "+(ar[1]?pad_(ar[1],ir)+sr[2]+"/"+sr[3]+rpad_(ar[2],ir):fill(" ",2*ir+1+sr[2].length+sr[3].length));if(sr=St.match(/^[#0?]+$/))return nr=""+tr,St.length<=nr.length?nr:hashq(St.substr(0,St.length-nr.length))+nr;if(sr=St.match(/^([#0]+)\.([#0]+)$/)){nr=""+tr.toFixed(Math.min(sr[2].length,10)).replace(/([^0])0+$/,"$1"),ir=nr.indexOf(".");var ur=St.indexOf(".")-ir,dr=St.length-nr.length-ur;return hashq(St.substr(0,ur)+nr+St.substr(St.length-dr))}if(sr=St.match(/^00,000\.([#0]*0)$/))return tr<0?"-"+write_num_int(er,St,-tr):commaify(""+tr).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Ar){return"00,"+(Ar.length<3?pad0(0,3-Ar.length):"")+Ar})+"."+pad0(0,sr[1].length);switch(St){case"###,###":case"##,###":case"#,###":var hr=commaify(""+or);return hr!=="0"?lr+hr:"";default:if(St.match(/\.[0#?]*$/))return write_num_int(er,St.slice(0,St.lastIndexOf(".")),tr)+hashq(St.slice(St.lastIndexOf(".")))}throw new Error("unsupported format |"+St+"|")}function write_num(er,St,tr){return(tr|0)===tr?write_num_int(er,St,tr):write_num_flt(er,St,tr)}function SSF_split_fmt(er){for(var St=[],tr=!1,rr=0,nr=0;rr<er.length;++rr)switch(er.charCodeAt(rr)){case 34:tr=!tr;break;case 95:case 42:case 92:++rr;break;case 59:St[St.length]=er.substr(nr,rr-nr),nr=rr+1}if(St[St.length]=er.substr(nr),tr===!0)throw new Error("Format |"+er+"| unterminated string ");return St}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(er){for(var St=0,tr="",rr="";St<er.length;)switch(tr=er.charAt(St)){case"G":SSF_isgeneral(er,St)&&(St+=6),St++;break;case'"':for(;er.charCodeAt(++St)!==34&&St<er.length;);++St;break;case"\\":St+=2;break;case"_":St+=2;break;case"@":++St;break;case"B":case"b":if(er.charAt(St+1)==="1"||er.charAt(St+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(er.substr(St,3).toUpperCase()==="A/P"||er.substr(St,5).toUpperCase()==="AM/PM"||er.substr(St,5).toUpperCase()==="/")return!0;++St;break;case"[":for(rr=tr;er.charAt(St++)!=="]"&&St<er.length;)rr+=er.charAt(St);if(rr.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;St<er.length&&("0#?.,E+-%".indexOf(tr=er.charAt(++St))>-1||tr=="\\"&&er.charAt(St+1)=="-"&&"0#".indexOf(er.charAt(St+2))>-1););break;case"?":for(;er.charAt(++St)===tr;);break;case"*":++St,(er.charAt(St)==" "||er.charAt(St)=="*")&&++St;break;case"(":case")":++St;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;St<er.length&&"0123456789".indexOf(er.charAt(++St))>-1;);break;case" ":++St;break;default:++St;break}return!1}function eval_fmt(er,St,tr,rr){for(var nr=[],sr="",ir=0,ar="",or="t",lr,cr,ur,dr="H";ir<er.length;)switch(ar=er.charAt(ir)){case"G":if(!SSF_isgeneral(er,ir))throw new Error("unrecognized character "+ar+" in "+er);nr[nr.length]={t:"G",v:"General"},ir+=7;break;case'"':for(sr="";(ur=er.charCodeAt(++ir))!==34&&ir<er.length;)sr+=String.fromCharCode(ur);nr[nr.length]={t:"t",v:sr},++ir;break;case"\\":var hr=er.charAt(++ir),Ar=hr==="("||hr===")"?hr:"t";nr[nr.length]={t:Ar,v:hr},++ir;break;case"_":nr[nr.length]={t:"t",v:" "},ir+=2;break;case"@":nr[nr.length]={t:"T",v:St},++ir;break;case"B":case"b":if(er.charAt(ir+1)==="1"||er.charAt(ir+1)==="2"){if(lr==null&&(lr=SSF_parse_date_code(St,tr,er.charAt(ir+1)==="2"),lr==null))return"";nr[nr.length]={t:"X",v:er.substr(ir,2)},or=ar,ir+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":ar=ar.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(St<0||lr==null&&(lr=SSF_parse_date_code(St,tr),lr==null))return"";for(sr=ar;++ir<er.length&&er.charAt(ir).toLowerCase()===ar;)sr+=ar;ar==="m"&&or.toLowerCase()==="h"&&(ar="M"),ar==="h"&&(ar=dr),nr[nr.length]={t:ar,v:sr},or=ar;break;case"A":case"a":case"":var fr={t:ar,v:ar};if(lr==null&&(lr=SSF_parse_date_code(St,tr)),er.substr(ir,3).toUpperCase()==="A/P"?(lr!=null&&(fr.v=lr.H>=12?"P":"A"),fr.t="T",dr="h",ir+=3):er.substr(ir,5).toUpperCase()==="AM/PM"?(lr!=null&&(fr.v=lr.H>=12?"PM":"AM"),fr.t="T",ir+=5,dr="h"):er.substr(ir,5).toUpperCase()==="/"?(lr!=null&&(fr.v=lr.H>=12?"":""),fr.t="T",ir+=5,dr="h"):(fr.t="t",++ir),lr==null&&fr.t==="T")return"";nr[nr.length]=fr,or=ar;break;case"[":for(sr=ar;er.charAt(ir++)!=="]"&&ir<er.length;)sr+=er.charAt(ir);if(sr.slice(-1)!=="]")throw'unterminated "[" block: |'+sr+"|";if(sr.match(SSF_abstime)){if(lr==null&&(lr=SSF_parse_date_code(St,tr),lr==null))return"";nr[nr.length]={t:"Z",v:sr.toLowerCase()},or=sr.charAt(1)}else sr.indexOf("$")>-1&&(sr=(sr.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(er)||(nr[nr.length]={t:"t",v:sr}));break;case".":if(lr!=null){for(sr=ar;++ir<er.length&&(ar=er.charAt(ir))==="0";)sr+=ar;nr[nr.length]={t:"s",v:sr};break}case"0":case"#":for(sr=ar;++ir<er.length&&"0#?.,E+-%".indexOf(ar=er.charAt(ir))>-1;)sr+=ar;nr[nr.length]={t:"n",v:sr};break;case"?":for(sr=ar;er.charAt(++ir)===ar;)sr+=ar;nr[nr.length]={t:ar,v:sr},or=ar;break;case"*":++ir,(er.charAt(ir)==" "||er.charAt(ir)=="*")&&++ir;break;case"(":case")":nr[nr.length]={t:rr===1?"t":ar,v:ar},++ir;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(sr=ar;ir<er.length&&"0123456789".indexOf(er.charAt(++ir))>-1;)sr+=er.charAt(ir);nr[nr.length]={t:"D",v:sr};break;case" ":nr[nr.length]={t:ar,v:ar},++ir;break;case"$":nr[nr.length]={t:"t",v:"$"},++ir;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(ar)===-1)throw new Error("unrecognized character "+ar+" in "+er);nr[nr.length]={t:"t",v:ar},++ir;break}var mr=0,pr=0,gr;for(ir=nr.length-1,or="t";ir>=0;--ir)switch(nr[ir].t){case"h":case"H":nr[ir].t=dr,or="h",mr<1&&(mr=1);break;case"s":(gr=nr[ir].v.match(/\.0+$/))&&(pr=Math.max(pr,gr[0].length-1)),mr<3&&(mr=3);case"d":case"y":case"M":case"e":or=nr[ir].t;break;case"m":or==="s"&&(nr[ir].t="M",mr<2&&(mr=2));break;case"X":break;case"Z":mr<1&&nr[ir].v.match(/[Hh]/)&&(mr=1),mr<2&&nr[ir].v.match(/[Mm]/)&&(mr=2),mr<3&&nr[ir].v.match(/[Ss]/)&&(mr=3)}switch(mr){case 0:break;case 1:lr.u>=.5&&(lr.u=0,++lr.S),lr.S>=60&&(lr.S=0,++lr.M),lr.M>=60&&(lr.M=0,++lr.H);break;case 2:lr.u>=.5&&(lr.u=0,++lr.S),lr.S>=60&&(lr.S=0,++lr.M);break}var xr="",yr;for(ir=0;ir<nr.length;++ir)switch(nr[ir].t){case"t":case"T":case" ":case"D":break;case"X":nr[ir].v="",nr[ir].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":nr[ir].v=SSF_write_date(nr[ir].t.charCodeAt(0),nr[ir].v,lr,pr),nr[ir].t="t";break;case"n":case"?":for(yr=ir+1;nr[yr]!=null&&((ar=nr[yr].t)==="?"||ar==="D"||(ar===" "||ar==="t")&&nr[yr+1]!=null&&(nr[yr+1].t==="?"||nr[yr+1].t==="t"&&nr[yr+1].v==="/")||nr[ir].t==="("&&(ar===" "||ar==="n"||ar===")")||ar==="t"&&(nr[yr].v==="/"||nr[yr].v===" "&&nr[yr+1]!=null&&nr[yr+1].t=="?"));)nr[ir].v+=nr[yr].v,nr[yr]={v:"",t:";"},++yr;xr+=nr[ir].v,ir=yr-1;break;case"G":nr[ir].t="t",nr[ir].v=SSF_general(St,tr);break}var Er="",_r,Sr;if(xr.length>0){xr.charCodeAt(0)==40?(_r=St<0&&xr.charCodeAt(0)===45?-St:St,Sr=write_num("n",xr,_r)):(_r=St<0&&rr>1?-St:St,Sr=write_num("n",xr,_r),_r<0&&nr[0]&&nr[0].t=="t"&&(Sr=Sr.substr(1),nr[0].v="-"+nr[0].v)),yr=Sr.length-1;var jr=nr.length;for(ir=0;ir<nr.length;++ir)if(nr[ir]!=null&&nr[ir].t!="t"&&nr[ir].v.indexOf(".")>-1){jr=ir;break}var Pr=nr.length;if(jr===nr.length&&Sr.indexOf("E")===-1){for(ir=nr.length-1;ir>=0;--ir)nr[ir]==null||"n?".indexOf(nr[ir].t)===-1||(yr>=nr[ir].v.length-1?(yr-=nr[ir].v.length,nr[ir].v=Sr.substr(yr+1,nr[ir].v.length)):yr<0?nr[ir].v="":(nr[ir].v=Sr.substr(0,yr+1),yr=-1),nr[ir].t="t",Pr=ir);yr>=0&&Pr<nr.length&&(nr[Pr].v=Sr.substr(0,yr+1)+nr[Pr].v)}else if(jr!==nr.length&&Sr.indexOf("E")===-1){for(yr=Sr.indexOf(".")-1,ir=jr;ir>=0;--ir)if(!(nr[ir]==null||"n?".indexOf(nr[ir].t)===-1)){for(cr=nr[ir].v.indexOf(".")>-1&&ir===jr?nr[ir].v.indexOf(".")-1:nr[ir].v.length-1,Er=nr[ir].v.substr(cr+1);cr>=0;--cr)yr>=0&&(nr[ir].v.charAt(cr)==="0"||nr[ir].v.charAt(cr)==="#")&&(Er=Sr.charAt(yr--)+Er);nr[ir].v=Er,nr[ir].t="t",Pr=ir}for(yr>=0&&Pr<nr.length&&(nr[Pr].v=Sr.substr(0,yr+1)+nr[Pr].v),yr=Sr.indexOf(".")+1,ir=jr;ir<nr.length;++ir)if(!(nr[ir]==null||"n?(".indexOf(nr[ir].t)===-1&&ir!==jr)){for(cr=nr[ir].v.indexOf(".")>-1&&ir===jr?nr[ir].v.indexOf(".")+1:0,Er=nr[ir].v.substr(0,cr);cr<nr[ir].v.length;++cr)yr<Sr.length&&(Er+=Sr.charAt(yr++));nr[ir].v=Er,nr[ir].t="t",Pr=ir}}}for(ir=0;ir<nr.length;++ir)nr[ir]!=null&&"n?".indexOf(nr[ir].t)>-1&&(_r=rr>1&&St<0&&ir>0&&nr[ir-1].v==="-"?-St:St,nr[ir].v=write_num(nr[ir].t,nr[ir].v,_r),nr[ir].t="t");var Mr="";for(ir=0;ir!==nr.length;++ir)nr[ir]!=null&&(Mr+=nr[ir].v);return Mr}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(er,St){if(St==null)return!1;var tr=parseFloat(St[2]);switch(St[1]){case"=":if(er==tr)return!0;break;case">":if(er>tr)return!0;break;case"<":if(er<tr)return!0;break;case"<>":if(er!=tr)return!0;break;case">=":if(er>=tr)return!0;break;case"<=":if(er<=tr)return!0;break}return!1}function choose_fmt(er,St){var tr=SSF_split_fmt(er),rr=tr.length,nr=tr[rr-1].indexOf("@");if(rr<4&&nr>-1&&--rr,tr.length>4)throw new Error("cannot find right format for |"+tr.join("|")+"|");if(typeof St!="number")return[4,tr.length===4||nr>-1?tr[tr.length-1]:"@"];switch(tr.length){case 1:tr=nr>-1?["General","General","General",tr[0]]:[tr[0],tr[0],tr[0],"@"];break;case 2:tr=nr>-1?[tr[0],tr[0],tr[0],tr[1]]:[tr[0],tr[1],tr[0],"@"];break;case 3:tr=nr>-1?[tr[0],tr[1],tr[0],tr[2]]:[tr[0],tr[1],tr[2],"@"];break}var sr=St>0?tr[0]:St<0?tr[1]:tr[2];if(tr[0].indexOf("[")===-1&&tr[1].indexOf("[")===-1)return[rr,sr];if(tr[0].match(/\[[=<>]/)!=null||tr[1].match(/\[[=<>]/)!=null){var ir=tr[0].match(cfregex2),ar=tr[1].match(cfregex2);return chkcond(St,ir)?[rr,tr[0]]:chkcond(St,ar)?[rr,tr[1]]:[rr,tr[ir!=null&&ar!=null?2:1]]}return[rr,sr]}function SSF_format(er,St,tr){tr==null&&(tr={});var rr="";switch(typeof er){case"string":er=="m/d/yy"&&tr.dateNF?rr=tr.dateNF:rr=er;break;case"number":er==14&&tr.dateNF?rr=tr.dateNF:rr=(tr.table!=null?tr.table:table_fmt)[er],rr==null&&(rr=tr.table&&tr.table[SSF_default_map[er]]||table_fmt[SSF_default_map[er]]),rr==null&&(rr=SSF_default_str[er]||"General");break}if(SSF_isgeneral(rr,0))return SSF_general(St,tr);St instanceof Date&&(St=datenum_local(St,tr.date1904));var nr=choose_fmt(rr,St);if(SSF_isgeneral(nr[1]))return SSF_general(St,tr);if(St===!0)St="TRUE";else if(St===!1)St="FALSE";else if(St===""||St==null)return"";return eval_fmt(nr[1],St,tr,nr[0])}function SSF_load(er,St){if(typeof St!="number"){St=+St||-1;for(var tr=0;tr<392;++tr){if(table_fmt[tr]==null){St<0&&(St=tr);continue}if(table_fmt[tr]==er){St=tr;break}}St<0&&(St=391)}return table_fmt[St]=er,St}function SSF_load_table(er){for(var St=0;St!=392;++St)er[St]!==void 0&&SSF_load(er[St],St)}function make_ssf(){table_fmt=SSF_init_table()}var dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(er){var St=typeof er=="number"?table_fmt[er]:er;return St=St.replace(dateNFregex,"(\\d+)"),new RegExp("^"+St+"$")}function dateNF_fix(er,St,tr){var rr=-1,nr=-1,sr=-1,ir=-1,ar=-1,or=-1;(St.match(dateNFregex)||[]).forEach(function(ur,dr){var hr=parseInt(tr[dr+1],10);switch(ur.toLowerCase().charAt(0)){case"y":rr=hr;break;case"d":sr=hr;break;case"h":ir=hr;break;case"s":or=hr;break;case"m":ir>=0?ar=hr:nr=hr;break}}),or>=0&&ar==-1&&nr>=0&&(ar=nr,nr=-1);var lr=(""+(rr>=0?rr:new Date().getFullYear())).slice(-4)+"-"+("00"+(nr>=1?nr:1)).slice(-2)+"-"+("00"+(sr>=1?sr:1)).slice(-2);lr.length==7&&(lr="0"+lr),lr.length==8&&(lr="20"+lr);var cr=("00"+(ir>=0?ir:0)).slice(-2)+":"+("00"+(ar>=0?ar:0)).slice(-2)+":"+("00"+(or>=0?or:0)).slice(-2);return ir==-1&&ar==-1&&or==-1?lr:rr==-1&&nr==-1&&sr==-1?cr:lr+"T"+cr}var CRC32=function(){var er={};er.version="1.2.0";function St(){for(var Sr=0,jr=new Array(256),Pr=0;Pr!=256;++Pr)Sr=Pr,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,Sr=Sr&1?-306674912^Sr>>>1:Sr>>>1,jr[Pr]=Sr;return typeof Int32Array<"u"?new Int32Array(jr):jr}var tr=St();function rr(Sr){var jr=0,Pr=0,Mr=0,Ir=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Mr=0;Mr!=256;++Mr)Ir[Mr]=Sr[Mr];for(Mr=0;Mr!=256;++Mr)for(Pr=Sr[Mr],jr=256+Mr;jr<4096;jr+=256)Pr=Ir[jr]=Pr>>>8^Sr[Pr&255];var Lr=[];for(Mr=1;Mr!=16;++Mr)Lr[Mr-1]=typeof Int32Array<"u"?Ir.subarray(Mr*256,Mr*256+256):Ir.slice(Mr*256,Mr*256+256);return Lr}var nr=rr(tr),sr=nr[0],ir=nr[1],ar=nr[2],or=nr[3],lr=nr[4],cr=nr[5],ur=nr[6],dr=nr[7],hr=nr[8],Ar=nr[9],fr=nr[10],mr=nr[11],pr=nr[12],gr=nr[13],xr=nr[14];function yr(Sr,jr){for(var Pr=jr^-1,Mr=0,Ir=Sr.length;Mr<Ir;)Pr=Pr>>>8^tr[(Pr^Sr.charCodeAt(Mr++))&255];return~Pr}function Er(Sr,jr){for(var Pr=jr^-1,Mr=Sr.length-15,Ir=0;Ir<Mr;)Pr=xr[Sr[Ir++]^Pr&255]^gr[Sr[Ir++]^Pr>>8&255]^pr[Sr[Ir++]^Pr>>16&255]^mr[Sr[Ir++]^Pr>>>24]^fr[Sr[Ir++]]^Ar[Sr[Ir++]]^hr[Sr[Ir++]]^dr[Sr[Ir++]]^ur[Sr[Ir++]]^cr[Sr[Ir++]]^lr[Sr[Ir++]]^or[Sr[Ir++]]^ar[Sr[Ir++]]^ir[Sr[Ir++]]^sr[Sr[Ir++]]^tr[Sr[Ir++]];for(Mr+=15;Ir<Mr;)Pr=Pr>>>8^tr[(Pr^Sr[Ir++])&255];return~Pr}function _r(Sr,jr){for(var Pr=jr^-1,Mr=0,Ir=Sr.length,Lr=0,Qr=0;Mr<Ir;)Lr=Sr.charCodeAt(Mr++),Lr<128?Pr=Pr>>>8^tr[(Pr^Lr)&255]:Lr<2048?(Pr=Pr>>>8^tr[(Pr^(192|Lr>>6&31))&255],Pr=Pr>>>8^tr[(Pr^(128|Lr&63))&255]):Lr>=55296&&Lr<57344?(Lr=(Lr&1023)+64,Qr=Sr.charCodeAt(Mr++)&1023,Pr=Pr>>>8^tr[(Pr^(240|Lr>>8&7))&255],Pr=Pr>>>8^tr[(Pr^(128|Lr>>2&63))&255],Pr=Pr>>>8^tr[(Pr^(128|Qr>>6&15|(Lr&3)<<4))&255],Pr=Pr>>>8^tr[(Pr^(128|Qr&63))&255]):(Pr=Pr>>>8^tr[(Pr^(224|Lr>>12&15))&255],Pr=Pr>>>8^tr[(Pr^(128|Lr>>6&63))&255],Pr=Pr>>>8^tr[(Pr^(128|Lr&63))&255]);return~Pr}return er.table=tr,er.bstr=yr,er.buf=Er,er.str=_r,er}(),CFB=function er(){var St={};St.version="1.2.1";function tr(un,Sn){for(var xn=un.split("/"),yn=Sn.split("/"),_n=0,Cn=0,Ln=Math.min(xn.length,yn.length);_n<Ln;++_n){if(Cn=xn[_n].length-yn[_n].length)return Cn;if(xn[_n]!=yn[_n])return xn[_n]<yn[_n]?-1:1}return xn.length-yn.length}function rr(un){if(un.charAt(un.length-1)=="/")return un.slice(0,-1).indexOf("/")===-1?un:rr(un.slice(0,-1));var Sn=un.lastIndexOf("/");return Sn===-1?un:un.slice(0,Sn+1)}function nr(un){if(un.charAt(un.length-1)=="/")return nr(un.slice(0,-1));var Sn=un.lastIndexOf("/");return Sn===-1?un:un.slice(Sn+1)}function sr(un,Sn){typeof Sn=="string"&&(Sn=new Date(Sn));var xn=Sn.getHours();xn=xn<<6|Sn.getMinutes(),xn=xn<<5|Sn.getSeconds()>>>1,un.write_shift(2,xn);var yn=Sn.getFullYear()-1980;yn=yn<<4|Sn.getMonth()+1,yn=yn<<5|Sn.getDate(),un.write_shift(2,yn)}function ir(un){var Sn=un.read_shift(2)&65535,xn=un.read_shift(2)&65535,yn=new Date,_n=xn&31;xn>>>=5;var Cn=xn&15;xn>>>=4,yn.setMilliseconds(0),yn.setFullYear(xn+1980),yn.setMonth(Cn-1),yn.setDate(_n);var Ln=Sn&31;Sn>>>=5;var Yn=Sn&63;return Sn>>>=6,yn.setHours(Sn),yn.setMinutes(Yn),yn.setSeconds(Ln<<1),yn}function ar(un){prep_blob(un,0);for(var Sn={},xn=0;un.l<=un.length-4;){var yn=un.read_shift(2),_n=un.read_shift(2),Cn=un.l+_n,Ln={};switch(yn){case 21589:xn=un.read_shift(1),xn&1&&(Ln.mtime=un.read_shift(4)),_n>5&&(xn&2&&(Ln.atime=un.read_shift(4)),xn&4&&(Ln.ctime=un.read_shift(4))),Ln.mtime&&(Ln.mt=new Date(Ln.mtime*1e3));break}un.l=Cn,Sn[yn]=Ln}return Sn}var or;function lr(){return or||(or={})}function cr(un,Sn){if(un[0]==80&&un[1]==75)return Qs(un,Sn);if((un[0]|32)==109&&(un[1]|32)==105)return tu(un,Sn);if(un.length<512)throw new Error("CFB file size "+un.length+" < 512");var xn=3,yn=512,_n=0,Cn=0,Ln=0,Yn=0,$n=0,Qn=[],Wn=un.slice(0,512);prep_blob(Wn,0);var hs=ur(Wn);switch(xn=hs[0],xn){case 3:yn=512;break;case 4:yn=4096;break;case 0:if(hs[1]==0)return Qs(un,Sn);default:throw new Error("Major Version: Expected 3 or 4 saw "+xn)}yn!==512&&(Wn=un.slice(0,yn),prep_blob(Wn,28));var gs=un.slice(0,yn);dr(Wn,xn);var bs=Wn.read_shift(4,"i");if(xn===3&&bs!==0)throw new Error("# Directory Sectors: Expected 0 saw "+bs);Wn.l+=4,Ln=Wn.read_shift(4,"i"),Wn.l+=4,Wn.chk("00100000","Mini Stream Cutoff Size: "),Yn=Wn.read_shift(4,"i"),_n=Wn.read_shift(4,"i"),$n=Wn.read_shift(4,"i"),Cn=Wn.read_shift(4,"i");for(var ms=-1,_s=0;_s<109&&(ms=Wn.read_shift(4,"i"),!(ms<0));++_s)Qn[_s]=ms;var ga=hr(un,yn);mr($n,Cn,ga,yn,Qn);var Ro=gr(ga,Ln,Qn,yn);Ro[Ln].name="!Directory",_n>0&&Yn!==Qr&&(Ro[Yn].name="!MiniFAT"),Ro[Qn[0]].name="!FAT",Ro.fat_addrs=Qn,Ro.ssz=yn;var Oo={},Ll=[],oA=[],np=[];xr(Ln,Ro,ga,Ll,_n,Oo,oA,Yn),Ar(oA,np,Ll),Ll.shift();var sp={FileIndex:oA,FullPaths:np};return Sn&&Sn.raw&&(sp.raw={header:gs,sectors:ga}),sp}function ur(un){if(un[un.l]==80&&un[un.l+1]==75)return[0,0];un.chk(Yr,"Header Signature: "),un.l+=16;var Sn=un.read_shift(2,"u");return[un.read_shift(2,"u"),Sn]}function dr(un,Sn){var xn=9;switch(un.l+=2,xn=un.read_shift(2)){case 9:if(Sn!=3)throw new Error("Sector Shift: Expected 9 saw "+xn);break;case 12:if(Sn!=4)throw new Error("Sector Shift: Expected 12 saw "+xn);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xn)}un.chk("0600","Mini Sector Shift: "),un.chk("000000000000","Reserved: ")}function hr(un,Sn){for(var xn=Math.ceil(un.length/Sn)-1,yn=[],_n=1;_n<xn;++_n)yn[_n-1]=un.slice(_n*Sn,(_n+1)*Sn);return yn[xn-1]=un.slice(xn*Sn),yn}function Ar(un,Sn,xn){for(var yn=0,_n=0,Cn=0,Ln=0,Yn=0,$n=xn.length,Qn=[],Wn=[];yn<$n;++yn)Qn[yn]=Wn[yn]=yn,Sn[yn]=xn[yn];for(;Yn<Wn.length;++Yn)yn=Wn[Yn],_n=un[yn].L,Cn=un[yn].R,Ln=un[yn].C,Qn[yn]===yn&&(_n!==-1&&Qn[_n]!==_n&&(Qn[yn]=Qn[_n]),Cn!==-1&&Qn[Cn]!==Cn&&(Qn[yn]=Qn[Cn])),Ln!==-1&&(Qn[Ln]=yn),_n!==-1&&yn!=Qn[yn]&&(Qn[_n]=Qn[yn],Wn.lastIndexOf(_n)<Yn&&Wn.push(_n)),Cn!==-1&&yn!=Qn[yn]&&(Qn[Cn]=Qn[yn],Wn.lastIndexOf(Cn)<Yn&&Wn.push(Cn));for(yn=1;yn<$n;++yn)Qn[yn]===yn&&(Cn!==-1&&Qn[Cn]!==Cn?Qn[yn]=Qn[Cn]:_n!==-1&&Qn[_n]!==_n&&(Qn[yn]=Qn[_n]));for(yn=1;yn<$n;++yn)if(un[yn].type!==0){if(Yn=yn,Yn!=Qn[Yn])do Yn=Qn[Yn],Sn[yn]=Sn[Yn]+"/"+Sn[yn];while(Yn!==0&&Qn[Yn]!==-1&&Yn!=Qn[Yn]);Qn[yn]=-1}for(Sn[0]+="/",yn=1;yn<$n;++yn)un[yn].type!==2&&(Sn[yn]+="/")}function fr(un,Sn,xn){for(var yn=un.start,_n=un.size,Cn=[],Ln=yn;xn&&_n>0&&Ln>=0;)Cn.push(Sn.slice(Ln*Lr,Ln*Lr+Lr)),_n-=Lr,Ln=__readInt32LE(xn,Ln*4);return Cn.length===0?new_buf(0):bconcat(Cn).slice(0,un.size)}function mr(un,Sn,xn,yn,_n){var Cn=Qr;if(un===Qr){if(Sn!==0)throw new Error("DIFAT chain shorter than expected")}else if(un!==-1){var Ln=xn[un],Yn=(yn>>>2)-1;if(!Ln)return;for(var $n=0;$n<Yn&&(Cn=__readInt32LE(Ln,$n*4))!==Qr;++$n)_n.push(Cn);mr(__readInt32LE(Ln,yn-4),Sn-1,xn,yn,_n)}}function pr(un,Sn,xn,yn,_n){var Cn=[],Ln=[];_n||(_n=[]);var Yn=yn-1,$n=0,Qn=0;for($n=Sn;$n>=0;){_n[$n]=!0,Cn[Cn.length]=$n,Ln.push(un[$n]);var Wn=xn[Math.floor($n*4/yn)];if(Qn=$n*4&Yn,yn<4+Qn)throw new Error("FAT boundary crossed: "+$n+" 4 "+yn);if(!un[Wn])break;$n=__readInt32LE(un[Wn],Qn)}return{nodes:Cn,data:__toBuffer([Ln])}}function gr(un,Sn,xn,yn){var _n=un.length,Cn=[],Ln=[],Yn=[],$n=[],Qn=yn-1,Wn=0,hs=0,gs=0,bs=0;for(Wn=0;Wn<_n;++Wn)if(Yn=[],gs=Wn+Sn,gs>=_n&&(gs-=_n),!Ln[gs]){$n=[];var ms=[];for(hs=gs;hs>=0;){ms[hs]=!0,Ln[hs]=!0,Yn[Yn.length]=hs,$n.push(un[hs]);var _s=xn[Math.floor(hs*4/yn)];if(bs=hs*4&Qn,yn<4+bs)throw new Error("FAT boundary crossed: "+hs+" 4 "+yn);if(!un[_s]||(hs=__readInt32LE(un[_s],bs),ms[hs]))break}Cn[gs]={nodes:Yn,data:__toBuffer([$n])}}return Cn}function xr(un,Sn,xn,yn,_n,Cn,Ln,Yn){for(var $n=0,Qn=yn.length?2:0,Wn=Sn[un].data,hs=0,gs=0,bs;hs<Wn.length;hs+=128){var ms=Wn.slice(hs,hs+128);prep_blob(ms,64),gs=ms.read_shift(2),bs=__utf16le(ms,0,gs-Qn),yn.push(bs);var _s={name:bs,type:ms.read_shift(1),color:ms.read_shift(1),L:ms.read_shift(4,"i"),R:ms.read_shift(4,"i"),C:ms.read_shift(4,"i"),clsid:ms.read_shift(16),state:ms.read_shift(4,"i"),start:0,size:0},ga=ms.read_shift(2)+ms.read_shift(2)+ms.read_shift(2)+ms.read_shift(2);ga!==0&&(_s.ct=yr(ms,ms.l-8));var Ro=ms.read_shift(2)+ms.read_shift(2)+ms.read_shift(2)+ms.read_shift(2);Ro!==0&&(_s.mt=yr(ms,ms.l-8)),_s.start=ms.read_shift(4,"i"),_s.size=ms.read_shift(4,"i"),_s.size<0&&_s.start<0&&(_s.size=_s.type=0,_s.start=Qr,_s.name=""),_s.type===5?($n=_s.start,_n>0&&$n!==Qr&&(Sn[$n].name="!StreamData")):_s.size>=4096?(_s.storage="fat",Sn[_s.start]===void 0&&(Sn[_s.start]=pr(xn,_s.start,Sn.fat_addrs,Sn.ssz)),Sn[_s.start].name=_s.name,_s.content=Sn[_s.start].data.slice(0,_s.size)):(_s.storage="minifat",_s.size<0?_s.size=0:$n!==Qr&&_s.start!==Qr&&Sn[$n]&&(_s.content=fr(_s,Sn[$n].data,(Sn[Yn]||{}).data))),_s.content&&prep_blob(_s.content,0),Cn[bs]=_s,Ln.push(_s)}}function yr(un,Sn){return new Date((__readUInt32LE(un,Sn+4)/1e7*Math.pow(2,32)+__readUInt32LE(un,Sn)/1e7-11644473600)*1e3)}function Er(un,Sn){return lr(),cr(or.readFileSync(un),Sn)}function _r(un,Sn){var xn=Sn&&Sn.type;switch(xn||has_buf&&Buffer.isBuffer(un)&&(xn="buffer"),xn||"base64"){case"file":return Er(un,Sn);case"base64":return cr(s2a(Base64_decode(un)),Sn);case"binary":return cr(s2a(un),Sn)}return cr(un,Sn)}function Sr(un,Sn){var xn=Sn||{},yn=xn.root||"Root Entry";if(un.FullPaths||(un.FullPaths=[]),un.FileIndex||(un.FileIndex=[]),un.FullPaths.length!==un.FileIndex.length)throw new Error("inconsistent CFB structure");un.FullPaths.length===0&&(un.FullPaths[0]=yn+"/",un.FileIndex[0]={name:yn,type:5}),xn.CLSID&&(un.FileIndex[0].clsid=xn.CLSID),jr(un)}function jr(un){var Sn="Sh33tJ5";if(!CFB.find(un,"/"+Sn)){var xn=new_buf(4);xn[0]=55,xn[1]=xn[3]=50,xn[2]=54,un.FileIndex.push({name:Sn,type:2,content:xn,size:4,L:69,R:69,C:69}),un.FullPaths.push(un.FullPaths[0]+Sn),Pr(un)}}function Pr(un,Sn){Sr(un);for(var xn=!1,yn=!1,_n=un.FullPaths.length-1;_n>=0;--_n){var Cn=un.FileIndex[_n];switch(Cn.type){case 0:yn?xn=!0:(un.FileIndex.pop(),un.FullPaths.pop());break;case 1:case 2:case 5:yn=!0,isNaN(Cn.R*Cn.L*Cn.C)&&(xn=!0),Cn.R>-1&&Cn.L>-1&&Cn.R==Cn.L&&(xn=!0);break;default:xn=!0;break}}if(!(!xn&&!Sn)){var Ln=new Date(1987,1,19),Yn=0,$n=Object.create?Object.create(null):{},Qn=[];for(_n=0;_n<un.FullPaths.length;++_n)$n[un.FullPaths[_n]]=!0,un.FileIndex[_n].type!==0&&Qn.push([un.FullPaths[_n],un.FileIndex[_n]]);for(_n=0;_n<Qn.length;++_n){var Wn=rr(Qn[_n][0]);yn=$n[Wn],yn||(Qn.push([Wn,{name:nr(Wn).replace("/",""),type:1,clsid:$r,ct:Ln,mt:Ln,content:null}]),$n[Wn]=!0)}for(Qn.sort(function(bs,ms){return tr(bs[0],ms[0])}),un.FullPaths=[],un.FileIndex=[],_n=0;_n<Qn.length;++_n)un.FullPaths[_n]=Qn[_n][0],un.FileIndex[_n]=Qn[_n][1];for(_n=0;_n<Qn.length;++_n){var hs=un.FileIndex[_n],gs=un.FullPaths[_n];if(hs.name=nr(gs).replace("/",""),hs.L=hs.R=hs.C=-(hs.color=1),hs.size=hs.content?hs.content.length:0,hs.start=0,hs.clsid=hs.clsid||$r,_n===0)hs.C=Qn.length>1?1:-1,hs.size=0,hs.type=5;else if(gs.slice(-1)=="/"){for(Yn=_n+1;Yn<Qn.length&&rr(un.FullPaths[Yn])!=gs;++Yn);for(hs.C=Yn>=Qn.length?-1:Yn,Yn=_n+1;Yn<Qn.length&&rr(un.FullPaths[Yn])!=rr(gs);++Yn);hs.R=Yn>=Qn.length?-1:Yn,hs.type=1}else rr(un.FullPaths[_n+1]||"")==rr(gs)&&(hs.R=_n+1),hs.type=2}}}function Mr(un,Sn){var xn=Sn||{};if(xn.fileType=="mad")return Ws(un,xn);switch(Pr(un),xn.fileType){case"zip":return Uo(un,xn)}var yn=function(bs){for(var ms=0,_s=0,ga=0;ga<bs.FileIndex.length;++ga){var Ro=bs.FileIndex[ga];if(Ro.content){var Oo=Ro.content.length;Oo>0&&(Oo<4096?ms+=Oo+63>>6:_s+=Oo+511>>9)}}for(var Ll=bs.FullPaths.length+3>>2,oA=ms+7>>3,np=ms+127>>7,sp=oA+_s+Ll+np,RA=sp+127>>7,ip=RA<=109?0:Math.ceil((RA-109)/127);sp+RA+ip+127>>7>RA;)ip=++RA<=109?0:Math.ceil((RA-109)/127);var qu=[1,ip,RA,np,Ll,_s,ms,0];return bs.FileIndex[0].size=ms<<6,qu[7]=(bs.FileIndex[0].start=qu[0]+qu[1]+qu[2]+qu[3]+qu[4]+qu[5])+(qu[6]+7>>3),qu}(un),_n=new_buf(yn[7]<<9),Cn=0,Ln=0;{for(Cn=0;Cn<8;++Cn)_n.write_shift(1,Gr[Cn]);for(Cn=0;Cn<8;++Cn)_n.write_shift(2,0);for(_n.write_shift(2,62),_n.write_shift(2,3),_n.write_shift(2,65534),_n.write_shift(2,9),_n.write_shift(2,6),Cn=0;Cn<3;++Cn)_n.write_shift(2,0);for(_n.write_shift(4,0),_n.write_shift(4,yn[2]),_n.write_shift(4,yn[0]+yn[1]+yn[2]+yn[3]-1),_n.write_shift(4,0),_n.write_shift(4,4096),_n.write_shift(4,yn[3]?yn[0]+yn[1]+yn[2]-1:Qr),_n.write_shift(4,yn[3]),_n.write_shift(-4,yn[1]?yn[0]-1:Qr),_n.write_shift(4,yn[1]),Cn=0;Cn<109;++Cn)_n.write_shift(-4,Cn<yn[2]?yn[1]+Cn:-1)}if(yn[1])for(Ln=0;Ln<yn[1];++Ln){for(;Cn<236+Ln*127;++Cn)_n.write_shift(-4,Cn<yn[2]?yn[1]+Cn:-1);_n.write_shift(-4,Ln===yn[1]-1?Qr:Ln+1)}var Yn=function(bs){for(Ln+=bs;Cn<Ln-1;++Cn)_n.write_shift(-4,Cn+1);bs&&(++Cn,_n.write_shift(-4,Qr))};for(Ln=Cn=0,Ln+=yn[1];Cn<Ln;++Cn)_n.write_shift(-4,Vr.DIFSECT);for(Ln+=yn[2];Cn<Ln;++Cn)_n.write_shift(-4,Vr.FATSECT);Yn(yn[3]),Yn(yn[4]);for(var $n=0,Qn=0,Wn=un.FileIndex[0];$n<un.FileIndex.length;++$n)Wn=un.FileIndex[$n],Wn.content&&(Qn=Wn.content.length,!(Qn<4096)&&(Wn.start=Ln,Yn(Qn+511>>9)));for(Yn(yn[6]+7>>3);_n.l&511;)_n.write_shift(-4,Vr.ENDOFCHAIN);for(Ln=Cn=0,$n=0;$n<un.FileIndex.length;++$n)Wn=un.FileIndex[$n],Wn.content&&(Qn=Wn.content.length,!(!Qn||Qn>=4096)&&(Wn.start=Ln,Yn(Qn+63>>6)));for(;_n.l&511;)_n.write_shift(-4,Vr.ENDOFCHAIN);for(Cn=0;Cn<yn[4]<<2;++Cn){var hs=un.FullPaths[Cn];if(!hs||hs.length===0){for($n=0;$n<17;++$n)_n.write_shift(4,0);for($n=0;$n<3;++$n)_n.write_shift(4,-1);for($n=0;$n<12;++$n)_n.write_shift(4,0);continue}Wn=un.FileIndex[Cn],Cn===0&&(Wn.start=Wn.size?Wn.start-1:Qr);var gs=Cn===0&&xn.root||Wn.name;if(Qn=2*(gs.length+1),_n.write_shift(64,gs,"utf16le"),_n.write_shift(2,Qn),_n.write_shift(1,Wn.type),_n.write_shift(1,Wn.color),_n.write_shift(-4,Wn.L),_n.write_shift(-4,Wn.R),_n.write_shift(-4,Wn.C),Wn.clsid)_n.write_shift(16,Wn.clsid,"hex");else for($n=0;$n<4;++$n)_n.write_shift(4,0);_n.write_shift(4,Wn.state||0),_n.write_shift(4,0),_n.write_shift(4,0),_n.write_shift(4,0),_n.write_shift(4,0),_n.write_shift(4,Wn.start),_n.write_shift(4,Wn.size),_n.write_shift(4,0)}for(Cn=1;Cn<un.FileIndex.length;++Cn)if(Wn=un.FileIndex[Cn],Wn.size>=4096)if(_n.l=Wn.start+1<<9,has_buf&&Buffer.isBuffer(Wn.content))Wn.content.copy(_n,_n.l,0,Wn.size),_n.l+=Wn.size+511&-512;else{for($n=0;$n<Wn.size;++$n)_n.write_shift(1,Wn.content[$n]);for(;$n&511;++$n)_n.write_shift(1,0)}for(Cn=1;Cn<un.FileIndex.length;++Cn)if(Wn=un.FileIndex[Cn],Wn.size>0&&Wn.size<4096)if(has_buf&&Buffer.isBuffer(Wn.content))Wn.content.copy(_n,_n.l,0,Wn.size),_n.l+=Wn.size+63&-64;else{for($n=0;$n<Wn.size;++$n)_n.write_shift(1,Wn.content[$n]);for(;$n&63;++$n)_n.write_shift(1,0)}if(has_buf)_n.l=_n.length;else for(;_n.l<_n.length;)_n.write_shift(1,0);return _n}function Ir(un,Sn){var xn=un.FullPaths.map(function($n){return $n.toUpperCase()}),yn=xn.map(function($n){var Qn=$n.split("/");return Qn[Qn.length-($n.slice(-1)=="/"?2:1)]}),_n=!1;Sn.charCodeAt(0)===47?(_n=!0,Sn=xn[0].slice(0,-1)+Sn):_n=Sn.indexOf("/")!==-1;var Cn=Sn.toUpperCase(),Ln=_n===!0?xn.indexOf(Cn):yn.indexOf(Cn);if(Ln!==-1)return un.FileIndex[Ln];var Yn=!Cn.match(chr1);for(Cn=Cn.replace(chr0,""),Yn&&(Cn=Cn.replace(chr1,"!")),Ln=0;Ln<xn.length;++Ln)if((Yn?xn[Ln].replace(chr1,"!"):xn[Ln]).replace(chr0,"")==Cn||(Yn?yn[Ln].replace(chr1,"!"):yn[Ln]).replace(chr0,"")==Cn)return un.FileIndex[Ln];return null}var Lr=64,Qr=-2,Yr="d0cf11e0a1b11ae1",Gr=[208,207,17,224,161,177,26,225],$r="00000000000000000000000000000000",Vr={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Qr,FREESECT:-1,HEADER_SIGNATURE:Yr,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$r,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Tr(un,Sn,xn){lr();var yn=Mr(un,xn);or.writeFileSync(Sn,yn)}function Fr(un){for(var Sn=new Array(un.length),xn=0;xn<un.length;++xn)Sn[xn]=String.fromCharCode(un[xn]);return Sn.join("")}function Wr(un,Sn){var xn=Mr(un,Sn);switch(Sn&&Sn.type||"buffer"){case"file":return lr(),or.writeFileSync(Sn.filename,xn),xn;case"binary":return typeof xn=="string"?xn:Fr(xn);case"base64":return Base64_encode(typeof xn=="string"?xn:Fr(xn));case"buffer":if(has_buf)return Buffer.isBuffer(xn)?xn:Buffer_from(xn);case"array":return typeof xn=="string"?s2a(xn):xn}return xn}var qr;function Rr(un){try{var Sn=un.InflateRaw,xn=new Sn;if(xn._processChunk(new Uint8Array([3,0]),xn._finishFlushFlag),xn.bytesRead)qr=un;else throw new Error("zlib does not expose bytesRead")}catch(yn){console.error("cannot use native zlib: "+(yn.message||yn))}}function Or(un,Sn){if(!qr)return eo(un,Sn);var xn=qr.InflateRaw,yn=new xn,_n=yn._processChunk(un.slice(un.l),yn._finishFlushFlag);return un.l+=yn.bytesRead,_n}function Hr(un){return qr?qr.deflateRawSync(un):Ds(un)}var zr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],nn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function vn(un){var Sn=(un<<1|un<<11)&139536|(un<<5|un<<15)&558144;return(Sn>>16|Sn>>8|Sn)&255}for(var hn=typeof Uint8Array<"u",En=hn?new Uint8Array(256):[],Tn=0;Tn<256;++Tn)En[Tn]=vn(Tn);function bn(un,Sn){var xn=En[un&255];return Sn<=8?xn>>>8-Sn:(xn=xn<<8|En[un>>8&255],Sn<=16?xn>>>16-Sn:(xn=xn<<8|En[un>>16&255],xn>>>24-Sn))}function Mn(un,Sn){var xn=Sn&7,yn=Sn>>>3;return(un[yn]|(xn<=6?0:un[yn+1]<<8))>>>xn&3}function Rn(un,Sn){var xn=Sn&7,yn=Sn>>>3;return(un[yn]|(xn<=5?0:un[yn+1]<<8))>>>xn&7}function Nn(un,Sn){var xn=Sn&7,yn=Sn>>>3;return(un[yn]|(xn<=4?0:un[yn+1]<<8))>>>xn&15}function pn(un,Sn){var xn=Sn&7,yn=Sn>>>3;return(un[yn]|(xn<=3?0:un[yn+1]<<8))>>>xn&31}function Gn(un,Sn){var xn=Sn&7,yn=Sn>>>3;return(un[yn]|(xn<=1?0:un[yn+1]<<8))>>>xn&127}function os(un,Sn,xn){var yn=Sn&7,_n=Sn>>>3,Cn=(1<<xn)-1,Ln=un[_n]>>>yn;return xn<8-yn||(Ln|=un[_n+1]<<8-yn,xn<16-yn)||(Ln|=un[_n+2]<<16-yn,xn<24-yn)||(Ln|=un[_n+3]<<24-yn),Ln&Cn}function es(un,Sn,xn){var yn=Sn&7,_n=Sn>>>3;return yn<=5?un[_n]|=(xn&7)<<yn:(un[_n]|=xn<<yn&255,un[_n+1]=(xn&7)>>8-yn),Sn+3}function cs(un,Sn,xn){var yn=Sn&7,_n=Sn>>>3;return xn=(xn&1)<<yn,un[_n]|=xn,Sn+1}function ts(un,Sn,xn){var yn=Sn&7,_n=Sn>>>3;return xn<<=yn,un[_n]|=xn&255,xn>>>=8,un[_n+1]=xn,Sn+8}function fs(un,Sn,xn){var yn=Sn&7,_n=Sn>>>3;return xn<<=yn,un[_n]|=xn&255,xn>>>=8,un[_n+1]=xn&255,un[_n+2]=xn>>>8,Sn+16}function vs(un,Sn){var xn=un.length,yn=2*xn>Sn?2*xn:Sn+5,_n=0;if(xn>=Sn)return un;if(has_buf){var Cn=new_unsafe_buf(yn);if(un.copy)un.copy(Cn);else for(;_n<un.length;++_n)Cn[_n]=un[_n];return Cn}else if(hn){var Ln=new Uint8Array(yn);if(Ln.set)Ln.set(un);else for(;_n<xn;++_n)Ln[_n]=un[_n];return Ln}return un.length=yn,un}function ws(un){for(var Sn=new Array(un),xn=0;xn<un;++xn)Sn[xn]=0;return Sn}function Rs(un,Sn,xn){var yn=1,_n=0,Cn=0,Ln=0,Yn=0,$n=un.length,Qn=hn?new Uint16Array(32):ws(32);for(Cn=0;Cn<32;++Cn)Qn[Cn]=0;for(Cn=$n;Cn<xn;++Cn)un[Cn]=0;$n=un.length;var Wn=hn?new Uint16Array($n):ws($n);for(Cn=0;Cn<$n;++Cn)Qn[_n=un[Cn]]++,yn<_n&&(yn=_n),Wn[Cn]=0;for(Qn[0]=0,Cn=1;Cn<=yn;++Cn)Qn[Cn+16]=Yn=Yn+Qn[Cn-1]<<1;for(Cn=0;Cn<$n;++Cn)Yn=un[Cn],Yn!=0&&(Wn[Cn]=Qn[Yn+16]++);var hs=0;for(Cn=0;Cn<$n;++Cn)if(hs=un[Cn],hs!=0)for(Yn=bn(Wn[Cn],yn)>>yn-hs,Ln=(1<<yn+4-hs)-1;Ln>=0;--Ln)Sn[Yn|Ln<<hs]=hs&15|Cn<<4;return yn}var ks=hn?new Uint16Array(512):ws(512),Fs=hn?new Uint16Array(32):ws(32);if(!hn){for(var Vs=0;Vs<512;++Vs)ks[Vs]=0;for(Vs=0;Vs<32;++Vs)Fs[Vs]=0}(function(){for(var un=[],Sn=0;Sn<32;Sn++)un.push(5);Rs(un,Fs,32);var xn=[];for(Sn=0;Sn<=143;Sn++)xn.push(8);for(;Sn<=255;Sn++)xn.push(9);for(;Sn<=279;Sn++)xn.push(7);for(;Sn<=287;Sn++)xn.push(8);Rs(xn,ks,288)})();var Ts=function(){for(var Sn=hn?new Uint8Array(32768):[],xn=0,yn=0;xn<nn.length-1;++xn)for(;yn<nn[xn+1];++yn)Sn[yn]=xn;for(;yn<32768;++yn)Sn[yn]=29;var _n=hn?new Uint8Array(259):[];for(xn=0,yn=0;xn<Zr.length-1;++xn)for(;yn<Zr[xn+1];++yn)_n[yn]=xn;function Cn(Yn,$n){for(var Qn=0;Qn<Yn.length;){var Wn=Math.min(65535,Yn.length-Qn),hs=Qn+Wn==Yn.length;for($n.write_shift(1,+hs),$n.write_shift(2,Wn),$n.write_shift(2,~Wn&65535);Wn-- >0;)$n[$n.l++]=Yn[Qn++]}return $n.l}function Ln(Yn,$n){for(var Qn=0,Wn=0,hs=hn?new Uint16Array(32768):[];Wn<Yn.length;){var gs=Math.min(65535,Yn.length-Wn);if(gs<10){for(Qn=es($n,Qn,+(Wn+gs==Yn.length)),Qn&7&&(Qn+=8-(Qn&7)),$n.l=Qn/8|0,$n.write_shift(2,gs),$n.write_shift(2,~gs&65535);gs-- >0;)$n[$n.l++]=Yn[Wn++];Qn=$n.l*8;continue}Qn=es($n,Qn,+(Wn+gs==Yn.length)+2);for(var bs=0;gs-- >0;){var ms=Yn[Wn];bs=(bs<<5^ms)&32767;var _s=-1,ga=0;if((_s=hs[bs])&&(_s|=Wn&-32768,_s>Wn&&(_s-=32768),_s<Wn))for(;Yn[_s+ga]==Yn[Wn+ga]&&ga<250;)++ga;if(ga>2){ms=_n[ga],ms<=22?Qn=ts($n,Qn,En[ms+1]>>1)-1:(ts($n,Qn,3),Qn+=5,ts($n,Qn,En[ms-23]>>5),Qn+=3);var Ro=ms<8?0:ms-4>>2;Ro>0&&(fs($n,Qn,ga-Zr[ms]),Qn+=Ro),ms=Sn[Wn-_s],Qn=ts($n,Qn,En[ms]>>3),Qn-=3;var Oo=ms<4?0:ms-2>>1;Oo>0&&(fs($n,Qn,Wn-_s-nn[ms]),Qn+=Oo);for(var Ll=0;Ll<ga;++Ll)hs[bs]=Wn&32767,bs=(bs<<5^Yn[Wn])&32767,++Wn;gs-=ga-1}else ms<=143?ms=ms+48:Qn=cs($n,Qn,1),Qn=ts($n,Qn,En[ms]),hs[bs]=Wn&32767,++Wn}Qn=ts($n,Qn,0)-1}return $n.l=(Qn+7)/8|0,$n.l}return function($n,Qn){return $n.length<8?Cn($n,Qn):Ln($n,Qn)}}();function Ds(un){var Sn=new_buf(50+Math.floor(un.length*1.1)),xn=Ts(un,Sn);return Sn.slice(0,xn)}var ys=hn?new Uint16Array(32768):ws(32768),$o=hn?new Uint16Array(32768):ws(32768),Zs=hn?new Uint16Array(128):ws(128),io=1,xa=1;function oo(un,Sn){var xn=pn(un,Sn)+257;Sn+=5;var yn=pn(un,Sn)+1;Sn+=5;var _n=Nn(un,Sn)+4;Sn+=4;for(var Cn=0,Ln=hn?new Uint8Array(19):ws(19),Yn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$n=1,Qn=hn?new Uint8Array(8):ws(8),Wn=hn?new Uint8Array(8):ws(8),hs=Ln.length,gs=0;gs<_n;++gs)Ln[zr[gs]]=Cn=Rn(un,Sn),$n<Cn&&($n=Cn),Qn[Cn]++,Sn+=3;var bs=0;for(Qn[0]=0,gs=1;gs<=$n;++gs)Wn[gs]=bs=bs+Qn[gs-1]<<1;for(gs=0;gs<hs;++gs)(bs=Ln[gs])!=0&&(Yn[gs]=Wn[bs]++);var ms=0;for(gs=0;gs<hs;++gs)if(ms=Ln[gs],ms!=0){bs=En[Yn[gs]]>>8-ms;for(var _s=(1<<7-ms)-1;_s>=0;--_s)Zs[bs|_s<<ms]=ms&7|gs<<3}var ga=[];for($n=1;ga.length<xn+yn;)switch(bs=Zs[Gn(un,Sn)],Sn+=bs&7,bs>>>=3){case 16:for(Cn=3+Mn(un,Sn),Sn+=2,bs=ga[ga.length-1];Cn-- >0;)ga.push(bs);break;case 17:for(Cn=3+Rn(un,Sn),Sn+=3;Cn-- >0;)ga.push(0);break;case 18:for(Cn=11+Gn(un,Sn),Sn+=7;Cn-- >0;)ga.push(0);break;default:ga.push(bs),$n<bs&&($n=bs);break}var Ro=ga.slice(0,xn),Oo=ga.slice(xn);for(gs=xn;gs<286;++gs)Ro[gs]=0;for(gs=yn;gs<30;++gs)Oo[gs]=0;return io=Rs(Ro,ys,286),xa=Rs(Oo,$o,30),Sn}function El(un,Sn){if(un[0]==3&&!(un[1]&3))return[new_raw_buf(Sn),2];for(var xn=0,yn=0,_n=new_unsafe_buf(Sn||1<<18),Cn=0,Ln=_n.length>>>0,Yn=0,$n=0;!(yn&1);){if(yn=Rn(un,xn),xn+=3,yn>>>1)yn>>1==1?(Yn=9,$n=5):(xn=oo(un,xn),Yn=io,$n=xa);else{xn&7&&(xn+=8-(xn&7));var Qn=un[xn>>>3]|un[(xn>>>3)+1]<<8;if(xn+=32,Qn>0)for(!Sn&&Ln<Cn+Qn&&(_n=vs(_n,Cn+Qn),Ln=_n.length);Qn-- >0;)_n[Cn++]=un[xn>>>3],xn+=8;continue}for(;;){!Sn&&Ln<Cn+32767&&(_n=vs(_n,Cn+32767),Ln=_n.length);var Wn=os(un,xn,Yn),hs=yn>>>1==1?ks[Wn]:ys[Wn];if(xn+=hs&15,hs>>>=4,!(hs>>>8&255))_n[Cn++]=hs;else{if(hs==256)break;hs-=257;var gs=hs<8?0:hs-4>>2;gs>5&&(gs=0);var bs=Cn+Zr[hs];gs>0&&(bs+=os(un,xn,gs),xn+=gs),Wn=os(un,xn,$n),hs=yn>>>1==1?Fs[Wn]:$o[Wn],xn+=hs&15,hs>>>=4;var ms=hs<4?0:hs-2>>1,_s=nn[hs];for(ms>0&&(_s+=os(un,xn,ms),xn+=ms),!Sn&&Ln<bs&&(_n=vs(_n,bs+100),Ln=_n.length);Cn<bs;)_n[Cn]=_n[Cn-_s],++Cn}}}return Sn?[_n,xn+7>>>3]:[_n.slice(0,Cn),xn+7>>>3]}function eo(un,Sn){var xn=un.slice(un.l||0),yn=El(xn,Sn);return un.l+=yn[1],yn[0]}function zs(un,Sn){if(un)typeof console<"u"&&console.error(Sn);else throw new Error(Sn)}function Qs(un,Sn){var xn=un;prep_blob(xn,0);var yn=[],_n=[],Cn={FileIndex:yn,FullPaths:_n};Sr(Cn,{root:Sn.root});for(var Ln=xn.length-4;(xn[Ln]!=80||xn[Ln+1]!=75||xn[Ln+2]!=5||xn[Ln+3]!=6)&&Ln>=0;)--Ln;xn.l=Ln+4,xn.l+=4;var Yn=xn.read_shift(2);xn.l+=6;var $n=xn.read_shift(4);for(xn.l=$n,Ln=0;Ln<Yn;++Ln){xn.l+=20;var Qn=xn.read_shift(4),Wn=xn.read_shift(4),hs=xn.read_shift(2),gs=xn.read_shift(2),bs=xn.read_shift(2);xn.l+=8;var ms=xn.read_shift(4),_s=ar(xn.slice(xn.l+hs,xn.l+hs+gs));xn.l+=hs+gs+bs;var ga=xn.l;xn.l=ms+4,Ys(xn,Qn,Wn,Cn,_s),xn.l=ga}return Cn}function Ys(un,Sn,xn,yn,_n){un.l+=2;var Cn=un.read_shift(2),Ln=un.read_shift(2),Yn=ir(un);if(Cn&8257)throw new Error("Unsupported ZIP encryption");for(var $n=un.read_shift(4),Qn=un.read_shift(4),Wn=un.read_shift(4),hs=un.read_shift(2),gs=un.read_shift(2),bs="",ms=0;ms<hs;++ms)bs+=String.fromCharCode(un[un.l++]);if(gs){var _s=ar(un.slice(un.l,un.l+gs));(_s[21589]||{}).mt&&(Yn=_s[21589].mt),((_n||{})[21589]||{}).mt&&(Yn=_n[21589].mt)}un.l+=gs;var ga=un.slice(un.l,un.l+Qn);switch(Ln){case 8:ga=Or(un,Wn);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ln)}var Ro=!1;Cn&8&&($n=un.read_shift(4),$n==134695760&&($n=un.read_shift(4),Ro=!0),Qn=un.read_shift(4),Wn=un.read_shift(4)),Qn!=Sn&&zs(Ro,"Bad compressed size: "+Sn+" != "+Qn),Wn!=xn&&zs(Ro,"Bad uncompressed size: "+xn+" != "+Wn),_l(yn,bs,ga,{unsafe:!0,mt:Yn})}function Uo(un,Sn){var xn=Sn||{},yn=[],_n=[],Cn=new_buf(1),Ln=xn.compression?8:0,Yn=0,$n=0,Qn=0,Wn=0,hs=0,gs=un.FullPaths[0],bs=gs,ms=un.FileIndex[0],_s=[],ga=0;for($n=1;$n<un.FullPaths.length;++$n)if(bs=un.FullPaths[$n].slice(gs.length),ms=un.FileIndex[$n],!(!ms.size||!ms.content||bs=="Sh33tJ5")){var Ro=Wn,Oo=new_buf(bs.length);for(Qn=0;Qn<bs.length;++Qn)Oo.write_shift(1,bs.charCodeAt(Qn)&127);Oo=Oo.slice(0,Oo.l),_s[hs]=CRC32.buf(ms.content,0);var Ll=ms.content;Ln==8&&(Ll=Hr(Ll)),Cn=new_buf(30),Cn.write_shift(4,67324752),Cn.write_shift(2,20),Cn.write_shift(2,Yn),Cn.write_shift(2,Ln),ms.mt?sr(Cn,ms.mt):Cn.write_shift(4,0),Cn.write_shift(-4,_s[hs]),Cn.write_shift(4,Ll.length),Cn.write_shift(4,ms.content.length),Cn.write_shift(2,Oo.length),Cn.write_shift(2,0),Wn+=Cn.length,yn.push(Cn),Wn+=Oo.length,yn.push(Oo),Wn+=Ll.length,yn.push(Ll),Cn=new_buf(46),Cn.write_shift(4,33639248),Cn.write_shift(2,0),Cn.write_shift(2,20),Cn.write_shift(2,Yn),Cn.write_shift(2,Ln),Cn.write_shift(4,0),Cn.write_shift(-4,_s[hs]),Cn.write_shift(4,Ll.length),Cn.write_shift(4,ms.content.length),Cn.write_shift(2,Oo.length),Cn.write_shift(2,0),Cn.write_shift(2,0),Cn.write_shift(2,0),Cn.write_shift(2,0),Cn.write_shift(4,0),Cn.write_shift(4,Ro),ga+=Cn.l,_n.push(Cn),ga+=Oo.length,_n.push(Oo),++hs}return Cn=new_buf(22),Cn.write_shift(4,101010256),Cn.write_shift(2,0),Cn.write_shift(2,0),Cn.write_shift(2,hs),Cn.write_shift(2,hs),Cn.write_shift(4,ga),Cn.write_shift(4,Wn),Cn.write_shift(2,0),bconcat([bconcat(yn),bconcat(_n),Cn])}var Ms={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bs(un,Sn){if(un.ctype)return un.ctype;var xn=un.name||"",yn=xn.match(/\.([^\.]+)$/);return yn&&Ms[yn[1]]||Sn&&(yn=(xn=Sn).match(/[\.\\]([^\.\\])+$/),yn&&Ms[yn[1]])?Ms[yn[1]]:"application/octet-stream"}function qs(un){for(var Sn=Base64_encode(un),xn=[],yn=0;yn<Sn.length;yn+=76)xn.push(Sn.slice(yn,yn+76));return xn.join(`\r
`)+`\r
`}function to(un){var Sn=un.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qn){var Wn=Qn.charCodeAt(0).toString(16).toUpperCase();return"="+(Wn.length==1?"0"+Wn:Wn)});Sn=Sn.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Sn.charAt(0)==`
`&&(Sn="=0D"+Sn.slice(1)),Sn=Sn.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xn=[],yn=Sn.split(`\r
`),_n=0;_n<yn.length;++_n){var Cn=yn[_n];if(Cn.length==0){xn.push("");continue}for(var Ln=0;Ln<Cn.length;){var Yn=76,$n=Cn.slice(Ln,Ln+Yn);$n.charAt(Yn-1)=="="?Yn--:$n.charAt(Yn-2)=="="?Yn-=2:$n.charAt(Yn-3)=="="&&(Yn-=3),$n=Cn.slice(Ln,Ln+Yn),Ln+=Yn,Ln<Cn.length&&($n+="="),xn.push($n)}}return xn.join(`\r
`)}function Os(un){for(var Sn=[],xn=0;xn<un.length;++xn){for(var yn=un[xn];xn<=un.length&&yn.charAt(yn.length-1)=="=";)yn=yn.slice(0,yn.length-1)+un[++xn];Sn.push(yn)}for(var _n=0;_n<Sn.length;++_n)Sn[_n]=Sn[_n].replace(/[=][0-9A-Fa-f]{2}/g,function(Cn){return String.fromCharCode(parseInt(Cn.slice(1),16))});return s2a(Sn.join(`\r
`))}function fu(un,Sn,xn){for(var yn="",_n="",Cn="",Ln,Yn=0;Yn<10;++Yn){var $n=Sn[Yn];if(!$n||$n.match(/^\s*$/))break;var Qn=$n.match(/^(.*?):\s*([^\s].*)$/);if(Qn)switch(Qn[1].toLowerCase()){case"content-location":yn=Qn[2].trim();break;case"content-type":Cn=Qn[2].trim();break;case"content-transfer-encoding":_n=Qn[2].trim();break}}switch(++Yn,_n.toLowerCase()){case"base64":Ln=s2a(Base64_decode(Sn.slice(Yn).join("")));break;case"quoted-printable":Ln=Os(Sn.slice(Yn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_n)}var Wn=_l(un,yn.slice(xn.length),Ln,{unsafe:!0});Cn&&(Wn.ctype=Cn)}function tu(un,Sn){if(Fr(un.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xn=Sn&&Sn.root||"",yn=(has_buf&&Buffer.isBuffer(un)?un.toString("binary"):Fr(un)).split(`\r
`),_n=0,Cn="";for(_n=0;_n<yn.length;++_n)if(Cn=yn[_n],!!/^Content-Location:/i.test(Cn)&&(Cn=Cn.slice(Cn.indexOf("file")),xn||(xn=Cn.slice(0,Cn.lastIndexOf("/")+1)),Cn.slice(0,xn.length)!=xn))for(;xn.length>0&&(xn=xn.slice(0,xn.length-1),xn=xn.slice(0,xn.lastIndexOf("/")+1),Cn.slice(0,xn.length)!=xn););var Ln=(yn[1]||"").match(/boundary="(.*?)"/);if(!Ln)throw new Error("MAD cannot find boundary");var Yn="--"+(Ln[1]||""),$n=[],Qn=[],Wn={FileIndex:$n,FullPaths:Qn};Sr(Wn);var hs,gs=0;for(_n=0;_n<yn.length;++_n){var bs=yn[_n];bs!==Yn&&bs!==Yn+"--"||(gs++&&fu(Wn,yn.slice(hs,_n),xn),hs=_n)}return Wn}function Ws(un,Sn){var xn=Sn||{},yn=xn.boundary||"SheetJS";yn="------="+yn;for(var _n=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+yn.slice(2)+'"',"","",""],Cn=un.FullPaths[0],Ln=Cn,Yn=un.FileIndex[0],$n=1;$n<un.FullPaths.length;++$n)if(Ln=un.FullPaths[$n].slice(Cn.length),Yn=un.FileIndex[$n],!(!Yn.size||!Yn.content||Ln=="Sh33tJ5")){Ln=Ln.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ga){return"_x"+ga.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ga){return"_u"+ga.charCodeAt(0).toString(16)+"_"});for(var Qn=Yn.content,Wn=has_buf&&Buffer.isBuffer(Qn)?Qn.toString("binary"):Fr(Qn),hs=0,gs=Math.min(1024,Wn.length),bs=0,ms=0;ms<=gs;++ms)(bs=Wn.charCodeAt(ms))>=32&&bs<128&&++hs;var _s=hs>=gs*4/5;_n.push(yn),_n.push("Content-Location: "+(xn.root||"file:///C:/SheetJS/")+Ln),_n.push("Content-Transfer-Encoding: "+(_s?"quoted-printable":"base64")),_n.push("Content-Type: "+Bs(Yn,Ln)),_n.push(""),_n.push(_s?to(Wn):qs(Wn))}return _n.push(yn+`--\r
`),_n.join(`\r
`)}function wl(un){var Sn={};return Sr(Sn,un),Sn}function _l(un,Sn,xn,yn){var _n=yn&&yn.unsafe;_n||Sr(un);var Cn=!_n&&CFB.find(un,Sn);if(!Cn){var Ln=un.FullPaths[0];Sn.slice(0,Ln.length)==Ln?Ln=Sn:(Ln.slice(-1)!="/"&&(Ln+="/"),Ln=(Ln+Sn).replace("//","/")),Cn={name:nr(Sn),type:2},un.FileIndex.push(Cn),un.FullPaths.push(Ln),_n||CFB.utils.cfb_gc(un)}return Cn.content=xn,Cn.size=xn?xn.length:0,yn&&(yn.CLSID&&(Cn.clsid=yn.CLSID),yn.mt&&(Cn.mt=yn.mt),yn.ct&&(Cn.ct=yn.ct)),Cn}function Al(un,Sn){Sr(un);var xn=CFB.find(un,Sn);if(xn){for(var yn=0;yn<un.FileIndex.length;++yn)if(un.FileIndex[yn]==xn)return un.FileIndex.splice(yn,1),un.FullPaths.splice(yn,1),!0}return!1}function zo(un,Sn,xn){Sr(un);var yn=CFB.find(un,Sn);if(yn){for(var _n=0;_n<un.FileIndex.length;++_n)if(un.FileIndex[_n]==yn)return un.FileIndex[_n].name=nr(xn),un.FullPaths[_n]=xn,!0}return!1}function Vo(un){Pr(un,!0)}return St.find=Ir,St.read=_r,St.parse=cr,St.write=Wr,St.writeFile=Tr,St.utils={cfb_new:wl,cfb_add:_l,cfb_del:Al,cfb_mov:zo,cfb_gc:Vo,ReadShift,CheckField,prep_blob,bconcat,use_zlib:Rr,_deflateRaw:Ds,_inflateRaw:eo,consts:Vr},St}();function blobify(er){return typeof er=="string"?s2ab(er):Array.isArray(er)?a2u(er):er}function write_dl(er,St,tr){if(typeof Deno<"u"){if(tr&&typeof St=="string")switch(tr){case"utf8":St=new TextEncoder(tr).encode(St);break;case"binary":St=s2ab(St);break;default:throw new Error("Unsupported encoding "+tr)}return Deno.writeFileSync(er,St)}var rr=tr=="utf8"?utf8write(St):St;if(typeof IE_SaveFile<"u")return IE_SaveFile(rr,er);if(typeof Blob<"u"){var nr=new Blob([blobify(rr)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(nr,er);if(typeof saveAs<"u")return saveAs(nr,er);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var sr=URL.createObjectURL(nr);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(sr)},6e4),chrome.downloads.download({url:sr,filename:er,saveAs:!0});var ir=document.createElement("a");if(ir.download!=null)return ir.download=er,ir.href=sr,document.body.appendChild(ir),ir.click(),document.body.removeChild(ir),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(sr)},6e4),sr}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var ar=File(er);return ar.open("w"),ar.encoding="binary",Array.isArray(St)&&(St=a2s(St)),ar.write(St),ar.close(),St}catch(or){if(!or.message||!or.message.match(/onstruct/))throw or}throw new Error("cannot save file "+er)}function keys(er){for(var St=Object.keys(er),tr=[],rr=0;rr<St.length;++rr)Object.prototype.hasOwnProperty.call(er,St[rr])&&tr.push(St[rr]);return tr}function evert_key(er,St){for(var tr=[],rr=keys(er),nr=0;nr!==rr.length;++nr)tr[er[rr[nr]][St]]==null&&(tr[er[rr[nr]][St]]=rr[nr]);return tr}function evert(er){for(var St=[],tr=keys(er),rr=0;rr!==tr.length;++rr)St[er[tr[rr]]]=tr[rr];return St}function evert_num(er){for(var St=[],tr=keys(er),rr=0;rr!==tr.length;++rr)St[er[tr[rr]]]=parseInt(tr[rr],10);return St}function evert_arr(er){for(var St=[],tr=keys(er),rr=0;rr!==tr.length;++rr)St[er[tr[rr]]]==null&&(St[er[tr[rr]]]=[]),St[er[tr[rr]]].push(tr[rr]);return St}var basedate=new Date(1899,11,30,0,0,0);function datenum(er,St){var tr=er.getTime(),rr=basedate.getTime()+(er.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(tr-rr)/(24*60*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(er){var St=new Date;return St.setTime(er*24*60*60*1e3+dnthresh),St.getTimezoneOffset()!==refoffset&&St.setTime(St.getTime()+(St.getTimezoneOffset()-refoffset)*6e4),St}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(er,St){var tr=new Date(er);if(good_pd)return St>0?tr.setTime(tr.getTime()+tr.getTimezoneOffset()*60*1e3):St<0&&tr.setTime(tr.getTime()-tr.getTimezoneOffset()*60*1e3),tr;if(er instanceof Date)return er;if(good_pd_date.getFullYear()==1917&&!isNaN(tr.getFullYear())){var rr=tr.getFullYear();return er.indexOf(""+rr)>-1||tr.setFullYear(tr.getFullYear()+100),tr}var nr=er.match(/\d+/g)||["2017","2","19","0","0","0"],sr=new Date(+nr[0],+nr[1]-1,+nr[2],+nr[3]||0,+nr[4]||0,+nr[5]||0);return er.indexOf("Z")>-1&&(sr=new Date(sr.getTime()-sr.getTimezoneOffset()*60*1e3)),sr}function cc2str(er,St){if(has_buf&&Buffer.isBuffer(er))return er.toString("binary");if(typeof TextDecoder<"u")try{var tr={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(er)&&(er=new Uint8Array(er)),new TextDecoder("latin1").decode(er).replace(/[]/g,function(sr){return tr[sr]||sr})}catch{}for(var rr=[],nr=0;nr!=er.length;++nr)rr.push(String.fromCharCode(er[nr]));return rr.join("")}function dup(er){if(typeof JSON<"u"&&!Array.isArray(er))return JSON.parse(JSON.stringify(er));if(typeof er!="object"||er==null)return er;if(er instanceof Date)return new Date(er.getTime());var St={};for(var tr in er)Object.prototype.hasOwnProperty.call(er,tr)&&(St[tr]=dup(er[tr]));return St}function fill(er,St){for(var tr="";tr.length<St;)tr+=er;return tr}function fuzzynum(er){var St=Number(er);if(!isNaN(St))return isFinite(St)?St:NaN;if(!/\d/.test(er))return St;var tr=1,rr=er.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return tr*=100,""});return!isNaN(St=Number(rr))||(rr=rr.replace(/[(](.*)[)]/,function(nr,sr){return tr=-tr,sr}),!isNaN(St=Number(rr)))?St/tr:St}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(er){var St=new Date(er),tr=new Date(NaN),rr=St.getYear(),nr=St.getMonth(),sr=St.getDate();if(isNaN(sr))return tr;var ir=er.toLowerCase();if(ir.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(ir=ir.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),ir.length>3&&lower_months.indexOf(ir)==-1)return tr}else if(ir.match(/[a-z]/))return tr;return rr<0||rr>8099?tr:(nr>0||sr>1)&&rr!=101?St:er.match(/[^-0-9:,\/\\]/)?tr:St}function zip_add_file(er,St,tr){if(er.FullPaths){if(typeof tr=="string"){var rr;return has_buf?rr=Buffer_from(tr):rr=utf8decode(tr),CFB.utils.cfb_add(er,St,rr)}CFB.utils.cfb_add(er,St,tr)}else er.file(St,tr)}function zip_new(){return CFB.utils.cfb_new()}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(er){var St=er+"";return St.replace(decregex,function(tr){return rencoding[tr]}).replace(charegex,function(tr){return"_x"+("000"+tr.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(er){return escapexml(er).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(er){var St=er+"";return St.replace(decregex,function(tr){return rencoding[tr]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(tr){return"&#x"+("000"+tr.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(er){var St=er+"";return St.replace(decregex,function(tr){return rencoding[tr]}).replace(htmlcharegex,function(tr){return"&#x"+tr.charCodeAt(0).toString(16).toUpperCase()+";"})}function xlml_unfixstr(er){return er.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(er){switch(er){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(er){for(var St="",tr=0,rr=0,nr=0,sr=0,ir=0,ar=0;tr<er.length;){if(rr=er.charCodeAt(tr++),rr<128){St+=String.fromCharCode(rr);continue}if(nr=er.charCodeAt(tr++),rr>191&&rr<224){ir=(rr&31)<<6,ir|=nr&63,St+=String.fromCharCode(ir);continue}if(sr=er.charCodeAt(tr++),rr<240){St+=String.fromCharCode((rr&15)<<12|(nr&63)<<6|sr&63);continue}ir=er.charCodeAt(tr++),ar=((rr&7)<<18|(nr&63)<<12|(sr&63)<<6|ir&63)-65536,St+=String.fromCharCode(55296+(ar>>>10&1023)),St+=String.fromCharCode(56320+(ar&1023))}return St}function utf8readb(er){var St=new_raw_buf(2*er.length),tr,rr,nr=1,sr=0,ir=0,ar;for(rr=0;rr<er.length;rr+=nr)nr=1,(ar=er.charCodeAt(rr))<128?tr=ar:ar<224?(tr=(ar&31)*64+(er.charCodeAt(rr+1)&63),nr=2):ar<240?(tr=(ar&15)*4096+(er.charCodeAt(rr+1)&63)*64+(er.charCodeAt(rr+2)&63),nr=3):(nr=4,tr=(ar&7)*262144+(er.charCodeAt(rr+1)&63)*4096+(er.charCodeAt(rr+2)&63)*64+(er.charCodeAt(rr+3)&63),tr-=65536,ir=55296+(tr>>>10&1023),tr=56320+(tr&1023)),ir!==0&&(St[sr++]=ir&255,St[sr++]=ir>>>8,ir=0),St[sr++]=tr%256,St[sr++]=tr>>>8;return St.slice(0,sr).toString("ucs2")}function utf8readc(er){return Buffer_from(er,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(er){return Buffer_from(er,"utf8").toString("binary")}:function(er){for(var St=[],tr=0,rr=0,nr=0;tr<er.length;)switch(rr=er.charCodeAt(tr++),!0){case rr<128:St.push(String.fromCharCode(rr));break;case rr<2048:St.push(String.fromCharCode(192+(rr>>6))),St.push(String.fromCharCode(128+(rr&63)));break;case(rr>=55296&&rr<57344):rr-=55296,nr=er.charCodeAt(tr++)-56320+(rr<<10),St.push(String.fromCharCode(240+(nr>>18&7))),St.push(String.fromCharCode(144+(nr>>12&63))),St.push(String.fromCharCode(128+(nr>>6&63))),St.push(String.fromCharCode(128+(nr&63)));break;default:St.push(String.fromCharCode(224+(rr>>12))),St.push(String.fromCharCode(128+(rr>>6&63))),St.push(String.fromCharCode(128+(rr&63)))}return St.join("")},htmldecode=function(){var er=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(St){return[new RegExp("&"+St[0]+";","ig"),St[1]]});return function(tr){for(var rr=tr.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),nr=0;nr<er.length;++nr)rr=rr.replace(er[nr][0],er[nr][1]);return rr}}(),wtregex=/(^\s|\s$|\n)/;function writetag(er,St){return"<"+er+(St.match(wtregex)?' xml:space="preserve"':"")+">"+St+"</"+er+">"}function wxt_helper(er){return keys(er).map(function(St){return" "+St+'="'+er[St]+'"'}).join("")}function writextag(er,St,tr){return"<"+er+(tr!=null?wxt_helper(tr):"")+(St!=null?(St.match(wtregex)?' xml:space="preserve"':"")+">"+St+"</"+er:"/")+">"}function write_w3cdtf(er,St){try{return er.toISOString().replace(/\.\d*/,"")}catch(tr){if(St)throw tr}return""}function write_vt(er,St){switch(typeof er){case"string":var tr=writextag("vt:lpwstr",escapexml(er));return tr=tr.replace(/&quot;/g,"_x0022_"),tr;case"number":return writextag((er|0)==er?"vt:i4":"vt:r8",escapexml(String(er)));case"boolean":return writextag("vt:bool",er?"true":"false")}if(er instanceof Date)return writextag("vt:filetime",write_w3cdtf(er));throw new Error("Unable to serialize "+er)}var XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(er,St){for(var tr=1-2*(er[St+7]>>>7),rr=((er[St+7]&127)<<4)+(er[St+6]>>>4&15),nr=er[St+6]&15,sr=5;sr>=0;--sr)nr=nr*256+er[St+sr];return rr==2047?nr==0?tr*(1/0):NaN:(rr==0?rr=-1022:(rr-=1023,nr+=Math.pow(2,52)),tr*Math.pow(2,rr-52)*nr)}function write_double_le(er,St,tr){var rr=(St<0||1/St==-1/0?1:0)<<7,nr=0,sr=0,ir=rr?-St:St;isFinite(ir)?ir==0?nr=sr=0:(nr=Math.floor(Math.log(ir)/Math.LN2),sr=ir*Math.pow(2,52-nr),nr<=-1023&&(!isFinite(sr)||sr<Math.pow(2,52))?nr=-1022:(sr-=Math.pow(2,52),nr+=1023)):(nr=2047,sr=isNaN(St)?26985:0);for(var ar=0;ar<=5;++ar,sr/=256)er[tr+ar]=sr&255;er[tr+6]=(nr&15)<<4|sr&15,er[tr+7]=nr>>4|rr}var ___toBuffer=function(er){for(var St=[],tr=10240,rr=0;rr<er[0].length;++rr)if(er[0][rr])for(var nr=0,sr=er[0][rr].length;nr<sr;nr+=tr)St.push.apply(St,er[0][rr].slice(nr,nr+tr));return St},__toBuffer=has_buf?function(er){return er[0].length>0&&Buffer.isBuffer(er[0][0])?Buffer.concat(er[0].map(function(St){return Buffer.isBuffer(St)?St:Buffer_from(St)})):___toBuffer(er)}:___toBuffer,___utf16le=function(er,St,tr){for(var rr=[],nr=St;nr<tr;nr+=2)rr.push(String.fromCharCode(__readUInt16LE(er,nr)));return rr.join("").replace(chr0,"")},__utf16le=has_buf?function(er,St,tr){return Buffer.isBuffer(er)?er.toString("utf16le",St,tr).replace(chr0,""):___utf16le(er,St,tr)}:___utf16le,___hexlify=function(er,St,tr){for(var rr=[],nr=St;nr<St+tr;++nr)rr.push(("0"+er[nr].toString(16)).slice(-2));return rr.join("")},__hexlify=has_buf?function(er,St,tr){return Buffer.isBuffer(er)?er.toString("hex",St,St+tr):___hexlify(er,St,tr)}:___hexlify,___utf8=function(er,St,tr){for(var rr=[],nr=St;nr<tr;nr++)rr.push(String.fromCharCode(__readUInt8(er,nr)));return rr.join("")},__utf8=has_buf?function er(St,tr,rr){return Buffer.isBuffer(St)?St.toString("utf8",tr,rr):___utf8(St,tr,rr)}:___utf8,___lpstr=function(er,St){var tr=__readUInt32LE(er,St);return tr>0?__utf8(er,St+4,St+4+tr-1):""},__lpstr=___lpstr,___cpstr=function(er,St){var tr=__readUInt32LE(er,St);return tr>0?__utf8(er,St+4,St+4+tr-1):""},__cpstr=___cpstr,___lpwstr=function(er,St){var tr=2*__readUInt32LE(er,St);return tr>0?__utf8(er,St+4,St+4+tr-1):""},__lpwstr=___lpwstr,___lpp4=function er(St,tr){var rr=__readUInt32LE(St,tr);return rr>0?__utf16le(St,tr+4,tr+4+rr):""},__lpp4=___lpp4,___8lpp4=function(er,St){var tr=__readUInt32LE(er,St);return tr>0?__utf8(er,St+4,St+4+tr):""},__8lpp4=___8lpp4,___double=function(er,St){return read_double_le(er,St)},__double=___double,is_buf=function er(St){return Array.isArray(St)||typeof Uint8Array<"u"&&St instanceof Uint8Array};has_buf&&(__lpstr=function(St,tr){if(!Buffer.isBuffer(St))return ___lpstr(St,tr);var rr=St.readUInt32LE(tr);return rr>0?St.toString("utf8",tr+4,tr+4+rr-1):""},__cpstr=function(St,tr){if(!Buffer.isBuffer(St))return ___cpstr(St,tr);var rr=St.readUInt32LE(tr);return rr>0?St.toString("utf8",tr+4,tr+4+rr-1):""},__lpwstr=function(St,tr){if(!Buffer.isBuffer(St))return ___lpwstr(St,tr);var rr=2*St.readUInt32LE(tr);return St.toString("utf16le",tr+4,tr+4+rr-1)},__lpp4=function(St,tr){if(!Buffer.isBuffer(St))return ___lpp4(St,tr);var rr=St.readUInt32LE(tr);return St.toString("utf16le",tr+4,tr+4+rr)},__8lpp4=function(St,tr){if(!Buffer.isBuffer(St))return ___8lpp4(St,tr);var rr=St.readUInt32LE(tr);return St.toString("utf8",tr+4,tr+4+rr)},__double=function(St,tr){return Buffer.isBuffer(St)?St.readDoubleLE(tr):___double(St,tr)},is_buf=function(St){return Buffer.isBuffer(St)||Array.isArray(St)||typeof Uint8Array<"u"&&St instanceof Uint8Array});var __readUInt8=function(er,St){return er[St]},__readUInt16LE=function(er,St){return er[St+1]*256+er[St]},__readInt16LE=function(er,St){var tr=er[St+1]*256+er[St];return tr<32768?tr:(65535-tr+1)*-1},__readUInt32LE=function(er,St){return er[St+3]*(1<<24)+(er[St+2]<<16)+(er[St+1]<<8)+er[St]},__readInt32LE=function(er,St){return er[St+3]<<24|er[St+2]<<16|er[St+1]<<8|er[St]},__readInt32BE=function(er,St){return er[St]<<24|er[St+1]<<16|er[St+2]<<8|er[St+3]};function ReadShift(er,St){var tr="",rr,nr,sr=[],ir,ar,or,lr;switch(St){case"dbcs":if(lr=this.l,has_buf&&Buffer.isBuffer(this))tr=this.slice(this.l,this.l+2*er).toString("utf16le");else for(or=0;or<er;++or)tr+=String.fromCharCode(__readUInt16LE(this,lr)),lr+=2;er*=2;break;case"utf8":tr=__utf8(this,this.l,this.l+er);break;case"utf16le":er*=2,tr=__utf16le(this,this.l,this.l+er);break;case"wstr":return ReadShift.call(this,er,"dbcs");case"lpstr-ansi":tr=__lpstr(this,this.l),er=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":tr=__cpstr(this,this.l),er=4+__readUInt32LE(this,this.l);break;case"lpwstr":tr=__lpwstr(this,this.l),er=4+2*__readUInt32LE(this,this.l);break;case"lpp4":er=4+__readUInt32LE(this,this.l),tr=__lpp4(this,this.l),er&2&&(er+=2);break;case"8lpp4":er=4+__readUInt32LE(this,this.l),tr=__8lpp4(this,this.l),er&3&&(er+=4-(er&3));break;case"cstr":for(er=0,tr="";(ir=__readUInt8(this,this.l+er++))!==0;)sr.push(_getchar(ir));tr=sr.join("");break;case"_wstr":for(er=0,tr="";(ir=__readUInt16LE(this,this.l+er))!==0;)sr.push(_getchar(ir)),er+=2;er+=2,tr=sr.join("");break;case"dbcs-cont":for(tr="",lr=this.l,or=0;or<er;++or){if(this.lens&&this.lens.indexOf(lr)!==-1)return ir=__readUInt8(this,lr),this.l=lr+1,ar=ReadShift.call(this,er-or,ir?"dbcs-cont":"sbcs-cont"),sr.join("")+ar;sr.push(_getchar(__readUInt16LE(this,lr))),lr+=2}tr=sr.join(""),er*=2;break;case"cpstr":case"sbcs-cont":for(tr="",lr=this.l,or=0;or!=er;++or){if(this.lens&&this.lens.indexOf(lr)!==-1)return ir=__readUInt8(this,lr),this.l=lr+1,ar=ReadShift.call(this,er-or,ir?"dbcs-cont":"sbcs-cont"),sr.join("")+ar;sr.push(_getchar(__readUInt8(this,lr))),lr+=1}tr=sr.join("");break;default:switch(er){case 1:return rr=__readUInt8(this,this.l),this.l++,rr;case 2:return rr=(St==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,rr;case 4:case-4:return St==="i"||!(this[this.l+3]&128)?(rr=(er>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,rr):(nr=__readUInt32LE(this,this.l),this.l+=4,nr);case 8:case-8:if(St==="f")return er==8?nr=__double(this,this.l):nr=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,nr;er=8;case 16:tr=__hexlify(this,this.l,er);break}}return this.l+=er,tr}var __writeUInt32LE=function(er,St,tr){er[tr]=St&255,er[tr+1]=St>>>8&255,er[tr+2]=St>>>16&255,er[tr+3]=St>>>24&255},__writeInt32LE=function(er,St,tr){er[tr]=St&255,er[tr+1]=St>>8&255,er[tr+2]=St>>16&255,er[tr+3]=St>>24&255},__writeUInt16LE=function(er,St,tr){er[tr]=St&255,er[tr+1]=St>>>8&255};function WriteShift(er,St,tr){var rr=0,nr=0;if(tr==="dbcs"){for(nr=0;nr!=St.length;++nr)__writeUInt16LE(this,St.charCodeAt(nr),this.l+2*nr);rr=2*St.length}else if(tr==="sbcs"){for(St=St.replace(/[^\x00-\x7F]/g,"_"),nr=0;nr!=St.length;++nr)this[this.l+nr]=St.charCodeAt(nr)&255;rr=St.length}else if(tr==="hex"){for(;nr<er;++nr)this[this.l++]=parseInt(St.slice(2*nr,2*nr+2),16)||0;return this}else if(tr==="utf16le"){var sr=Math.min(this.l+er,this.length);for(nr=0;nr<Math.min(St.length,er);++nr){var ir=St.charCodeAt(nr);this[this.l++]=ir&255,this[this.l++]=ir>>8}for(;this.l<sr;)this[this.l++]=0;return this}else switch(er){case 1:rr=1,this[this.l]=St&255;break;case 2:rr=2,this[this.l]=St&255,St>>>=8,this[this.l+1]=St&255;break;case 3:rr=3,this[this.l]=St&255,St>>>=8,this[this.l+1]=St&255,St>>>=8,this[this.l+2]=St&255;break;case 4:rr=4,__writeUInt32LE(this,St,this.l);break;case 8:if(rr=8,tr==="f"){write_double_le(this,St,this.l);break}case 16:break;case-4:rr=4,__writeInt32LE(this,St,this.l);break}return this.l+=rr,this}function CheckField(er,St){var tr=__hexlify(this,this.l,er.length>>1);if(tr!==er)throw new Error(St+"Expected "+er+" saw "+tr);this.l+=er.length>>1}function prep_blob(er,St){er.l=St,er.read_shift=ReadShift,er.chk=CheckField,er.write_shift=WriteShift}function parsenoop(er,St){er.l+=St}function new_buf(er){var St=new_raw_buf(er);return prep_blob(St,0),St}function buf_array(){var er=[],St=has_buf?256:2048,tr=function(lr){var cr=new_buf(lr);return prep_blob(cr,0),cr},rr=tr(St),nr=function(){rr&&(rr.length>rr.l&&(rr=rr.slice(0,rr.l),rr.l=rr.length),rr.length>0&&er.push(rr),rr=null)},sr=function(lr){return rr&&lr<rr.length-rr.l?rr:(nr(),rr=tr(Math.max(lr+1,St)))},ir=function(){return nr(),bconcat(er)},ar=function(lr){nr(),rr=lr,rr.l==null&&(rr.l=rr.length),sr(St)};return{next:sr,push:ar,end:ir,_bufs:er}}function write_record(er,St,tr,rr){var nr=+St,sr;if(!isNaN(nr)){rr||(rr=XLSBRecordEnum[nr].p||(tr||[]).length||0),sr=1+(nr>=128?1:0)+1,rr>=128&&++sr,rr>=16384&&++sr,rr>=2097152&&++sr;var ir=er.next(sr);nr<=127?ir.write_shift(1,nr):(ir.write_shift(1,(nr&127)+128),ir.write_shift(1,nr>>7));for(var ar=0;ar!=4;++ar)if(rr>=128)ir.write_shift(1,(rr&127)+128),rr>>=7;else{ir.write_shift(1,rr);break}rr>0&&is_buf(tr)&&er.push(tr)}}function shift_cell_xls(er,St,tr){var rr=dup(er);if(St.s?(rr.cRel&&(rr.c+=St.s.c),rr.rRel&&(rr.r+=St.s.r)):(rr.cRel&&(rr.c+=St.c),rr.rRel&&(rr.r+=St.r)),!tr||tr.biff<12){for(;rr.c>=256;)rr.c-=256;for(;rr.r>=65536;)rr.r-=65536}return rr}function shift_range_xls(er,St,tr){var rr=dup(er);return rr.s=shift_cell_xls(rr.s,St.s,tr),rr.e=shift_cell_xls(rr.e,St.s,tr),rr}function encode_cell_xls(er,St){if(er.cRel&&er.c<0)for(er=dup(er);er.c<0;)er.c+=St>8?16384:256;if(er.rRel&&er.r<0)for(er=dup(er);er.r<0;)er.r+=St>8?1048576:St>5?65536:16384;var tr=encode_cell(er);return!er.cRel&&er.cRel!=null&&(tr=fix_col(tr)),!er.rRel&&er.rRel!=null&&(tr=fix_row(tr)),tr}function encode_range_xls(er,St){return er.s.r==0&&!er.s.rRel&&er.e.r==(St.biff>=12?1048575:St.biff>=8?65536:16384)&&!er.e.rRel?(er.s.cRel?"":"$")+encode_col(er.s.c)+":"+(er.e.cRel?"":"$")+encode_col(er.e.c):er.s.c==0&&!er.s.cRel&&er.e.c==(St.biff>=12?16383:255)&&!er.e.cRel?(er.s.rRel?"":"$")+encode_row(er.s.r)+":"+(er.e.rRel?"":"$")+encode_row(er.e.r):encode_cell_xls(er.s,St.biff)+":"+encode_cell_xls(er.e,St.biff)}function decode_row(er){return parseInt(unfix_row(er),10)-1}function encode_row(er){return""+(er+1)}function fix_row(er){return er.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(er){return er.replace(/\$(\d+)$/,"$1")}function decode_col(er){for(var St=unfix_col(er),tr=0,rr=0;rr!==St.length;++rr)tr=26*tr+St.charCodeAt(rr)-64;return tr-1}function encode_col(er){if(er<0)throw new Error("invalid column "+er);var St="";for(++er;er;er=Math.floor((er-1)/26))St=String.fromCharCode((er-1)%26+65)+St;return St}function fix_col(er){return er.replace(/^([A-Z])/,"$$$1")}function unfix_col(er){return er.replace(/^\$([A-Z])/,"$1")}function split_cell(er){return er.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(er){for(var St=0,tr=0,rr=0;rr<er.length;++rr){var nr=er.charCodeAt(rr);nr>=48&&nr<=57?St=10*St+(nr-48):nr>=65&&nr<=90&&(tr=26*tr+(nr-64))}return{c:tr-1,r:St-1}}function encode_cell(er){for(var St=er.c+1,tr="";St;St=(St-1)/26|0)tr=String.fromCharCode((St-1)%26+65)+tr;return tr+(er.r+1)}function decode_range(er){var St=er.indexOf(":");return St==-1?{s:decode_cell(er),e:decode_cell(er)}:{s:decode_cell(er.slice(0,St)),e:decode_cell(er.slice(St+1))}}function encode_range(er,St){return typeof St>"u"||typeof St=="number"?encode_range(er.s,er.e):(typeof er!="string"&&(er=encode_cell(er)),typeof St!="string"&&(St=encode_cell(St)),er==St?er:er+":"+St)}function safe_decode_range(er){var St={s:{c:0,r:0},e:{c:0,r:0}},tr=0,rr=0,nr=0,sr=er.length;for(tr=0;rr<sr&&!((nr=er.charCodeAt(rr)-64)<1||nr>26);++rr)tr=26*tr+nr;for(St.s.c=--tr,tr=0;rr<sr&&!((nr=er.charCodeAt(rr)-48)<0||nr>9);++rr)tr=10*tr+nr;if(St.s.r=--tr,rr===sr||nr!=10)return St.e.c=St.s.c,St.e.r=St.s.r,St;for(++rr,tr=0;rr!=sr&&!((nr=er.charCodeAt(rr)-64)<1||nr>26);++rr)tr=26*tr+nr;for(St.e.c=--tr,tr=0;rr!=sr&&!((nr=er.charCodeAt(rr)-48)<0||nr>9);++rr)tr=10*tr+nr;return St.e.r=--tr,St}function safe_format_cell(er,St){var tr=er.t=="d"&&St instanceof Date;if(er.z!=null)try{return er.w=SSF_format(er.z,tr?datenum(St):St)}catch{}try{return er.w=SSF_format((er.XF||{}).numFmtId||(tr?14:0),tr?datenum(St):St)}catch{return""+St}}function format_cell(er,St,tr){return er==null||er.t==null||er.t=="z"?"":er.w!==void 0?er.w:(er.t=="d"&&!er.z&&tr&&tr.dateNF&&(er.z=tr.dateNF),er.t=="e"?BErr[er.v]||er.v:St==null?safe_format_cell(er,er.v):safe_format_cell(er,St))}function sheet_to_workbook(er,St){var tr=St&&St.sheet?St.sheet:"Sheet1",rr={};return rr[tr]=er,{SheetNames:[tr],Sheets:rr}}function sheet_add_aoa(er,St,tr){var rr=tr||{},nr=er?Array.isArray(er):rr.dense,sr=er||(nr?[]:{}),ir=0,ar=0;if(sr&&rr.origin!=null){if(typeof rr.origin=="number")ir=rr.origin;else{var or=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;ir=or.r,ar=or.c}sr["!ref"]||(sr["!ref"]="A1:A1")}var lr={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(sr["!ref"]){var cr=safe_decode_range(sr["!ref"]);lr.s.c=cr.s.c,lr.s.r=cr.s.r,lr.e.c=Math.max(lr.e.c,cr.e.c),lr.e.r=Math.max(lr.e.r,cr.e.r),ir==-1&&(lr.e.r=ir=cr.e.r+1)}for(var ur=0;ur!=St.length;++ur)if(St[ur]){if(!Array.isArray(St[ur]))throw new Error("aoa_to_sheet expects an array of arrays");for(var dr=0;dr!=St[ur].length;++dr)if(!(typeof St[ur][dr]>"u")){var hr={v:St[ur][dr]},Ar=ir+ur,fr=ar+dr;if(lr.s.r>Ar&&(lr.s.r=Ar),lr.s.c>fr&&(lr.s.c=fr),lr.e.r<Ar&&(lr.e.r=Ar),lr.e.c<fr&&(lr.e.c=fr),St[ur][dr]&&typeof St[ur][dr]=="object"&&!Array.isArray(St[ur][dr])&&!(St[ur][dr]instanceof Date))hr=St[ur][dr];else if(Array.isArray(hr.v)&&(hr.f=St[ur][dr][1],hr.v=hr.v[0]),hr.v===null)if(hr.f)hr.t="n";else if(rr.nullError)hr.t="e",hr.v=0;else if(rr.sheetStubs)hr.t="z";else continue;else typeof hr.v=="number"?hr.t="n":typeof hr.v=="boolean"?hr.t="b":hr.v instanceof Date?(hr.z=rr.dateNF||table_fmt[14],rr.cellDates?(hr.t="d",hr.w=SSF_format(hr.z,datenum(hr.v))):(hr.t="n",hr.v=datenum(hr.v),hr.w=SSF_format(hr.z,hr.v))):hr.t="s";if(nr)sr[Ar]||(sr[Ar]=[]),sr[Ar][fr]&&sr[Ar][fr].z&&(hr.z=sr[Ar][fr].z),sr[Ar][fr]=hr;else{var mr=encode_cell({c:fr,r:Ar});sr[mr]&&sr[mr].z&&(hr.z=sr[mr].z),sr[mr]=hr}}}return lr.s.c<1e7&&(sr["!ref"]=encode_range(lr)),sr}function aoa_to_sheet(er,St){return sheet_add_aoa(null,er,St)}function parse_Int32LE(er){return er.read_shift(4,"i")}function write_UInt32LE(er,St){return St||(St=new_buf(4)),St.write_shift(4,er),St}function parse_XLWideString(er){var St=er.read_shift(4);return St===0?"":er.read_shift(St,"dbcs")}function write_XLWideString(er,St){var tr=!1;return St==null&&(tr=!0,St=new_buf(4+2*er.length)),St.write_shift(4,er.length),er.length>0&&St.write_shift(0,er,"dbcs"),tr?St.slice(0,St.l):St}function parse_StrRun(er){return{ich:er.read_shift(2),ifnt:er.read_shift(2)}}function write_StrRun(er,St){return St||(St=new_buf(4)),St.write_shift(2,0),St.write_shift(2,0),St}function parse_RichStr(er,St){var tr=er.l,rr=er.read_shift(1),nr=parse_XLWideString(er),sr=[],ir={t:nr,h:nr};if(rr&1){for(var ar=er.read_shift(4),or=0;or!=ar;++or)sr.push(parse_StrRun(er));ir.r=sr}else ir.r=[{ich:0,ifnt:0}];return er.l=tr+St,ir}function write_RichStr(er,St){var tr=!1;return St==null&&(tr=!0,St=new_buf(15+4*er.t.length)),St.write_shift(1,0),write_XLWideString(er.t,St),tr?St.slice(0,St.l):St}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(er,St){var tr=!1;return St==null&&(tr=!0,St=new_buf(23+4*er.t.length)),St.write_shift(1,1),write_XLWideString(er.t,St),St.write_shift(4,1),write_StrRun({},St),tr?St.slice(0,St.l):St}function parse_XLSBCell(er){var St=er.read_shift(4),tr=er.read_shift(2);return tr+=er.read_shift(1)<<16,er.l++,{c:St,iStyleRef:tr}}function write_XLSBCell(er,St){return St==null&&(St=new_buf(8)),St.write_shift(-4,er.c),St.write_shift(3,er.iStyleRef||er.s),St.write_shift(1,0),St}function parse_XLSBShortCell(er){var St=er.read_shift(2);return St+=er.read_shift(1)<<16,er.l++,{c:-1,iStyleRef:St}}function write_XLSBShortCell(er,St){return St==null&&(St=new_buf(4)),St.write_shift(3,er.iStyleRef||er.s),St.write_shift(1,0),St}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(er){var St=er.read_shift(4);return St===0||St===4294967295?"":er.read_shift(St,"dbcs")}function write_XLNullableWideString(er,St){var tr=!1;return St==null&&(tr=!0,St=new_buf(127)),St.write_shift(4,er.length>0?er.length:4294967295),er.length>0&&St.write_shift(0,er,"dbcs"),tr?St.slice(0,St.l):St}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(er){var St=er.slice(er.l,er.l+4),tr=St[0]&1,rr=St[0]&2;er.l+=4;var nr=rr===0?__double([0,0,0,0,St[0]&252,St[1],St[2],St[3]],0):__readInt32LE(St,0)>>2;return tr?nr/100:nr}function write_RkNumber(er,St){St==null&&(St=new_buf(4));var tr=0,rr=0,nr=er*100;if(er==(er|0)&&er>=-536870912&&er<1<<29?rr=1:nr==(nr|0)&&nr>=-536870912&&nr<1<<29&&(rr=1,tr=1),rr)St.write_shift(-4,((tr?nr:er)<<2)+(tr+2));else throw new Error("unsupported RkNumber "+er)}function parse_RfX(er){var St={s:{},e:{}};return St.s.r=er.read_shift(4),St.e.r=er.read_shift(4),St.s.c=er.read_shift(4),St.e.c=er.read_shift(4),St}function write_RfX(er,St){return St||(St=new_buf(16)),St.write_shift(4,er.s.r),St.write_shift(4,er.e.r),St.write_shift(4,er.s.c),St.write_shift(4,er.e.c),St}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(er){if(er.length-er.l<8)throw"XLS Xnum Buffer underflow";return er.read_shift(8,"f")}function write_Xnum(er,St){return(St||new_buf(8)).write_shift(8,er,"f")}function parse_BrtColor(er){var St={},tr=er.read_shift(1),rr=tr>>>1,nr=er.read_shift(1),sr=er.read_shift(2,"i"),ir=er.read_shift(1),ar=er.read_shift(1),or=er.read_shift(1);switch(er.l++,rr){case 0:St.auto=1;break;case 1:St.index=nr;var lr=XLSIcv[nr];lr&&(St.rgb=rgb2Hex(lr));break;case 2:St.rgb=rgb2Hex([ir,ar,or]);break;case 3:St.theme=nr;break}return sr!=0&&(St.tint=sr>0?sr/32767:sr/32768),St}function write_BrtColor(er,St){if(St||(St=new_buf(8)),!er||er.auto)return St.write_shift(4,0),St.write_shift(4,0),St;er.index!=null?(St.write_shift(1,2),St.write_shift(1,er.index)):er.theme!=null?(St.write_shift(1,6),St.write_shift(1,er.theme)):(St.write_shift(1,5),St.write_shift(1,0));var tr=er.tint||0;if(tr>0?tr*=32767:tr<0&&(tr*=32768),St.write_shift(2,tr),!er.rgb||er.theme!=null)St.write_shift(2,0),St.write_shift(1,0),St.write_shift(1,0);else{var rr=er.rgb||"FFFFFF";typeof rr=="number"&&(rr=("000000"+rr.toString(16)).slice(-6)),St.write_shift(1,parseInt(rr.slice(0,2),16)),St.write_shift(1,parseInt(rr.slice(2,4),16)),St.write_shift(1,parseInt(rr.slice(4,6),16)),St.write_shift(1,255)}return St}function parse_FontFlags(er){var St=er.read_shift(1);er.l++;var tr={fBold:St&1,fItalic:St&2,fUnderline:St&4,fStrikeout:St&8,fOutline:St&16,fShadow:St&32,fCondense:St&64,fExtend:St&128};return tr}function write_FontFlags(er,St){St||(St=new_buf(2));var tr=(er.italic?2:0)|(er.strike?8:0)|(er.outline?16:0)|(er.shadow?32:0)|(er.condense?64:0)|(er.extend?128:0);return St.write_shift(1,tr),St.write_shift(1,0),St}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};function rgbify(er){return er.map(function(St){return[St>>16&255,St>>8&255,St&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function write_ct(er,St){var tr=evert_arr(ct2type),rr=[],nr;rr[rr.length]=XML_HEADER,rr[rr.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),rr=rr.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(or){return writextag("Default",null,{Extension:or[0],ContentType:or[1]})}));var sr=function(or){er[or]&&er[or].length>0&&(nr=er[or][0],rr[rr.length]=writextag("Override",null,{PartName:(nr[0]=="/"?"":"/")+nr,ContentType:CT_LIST[or][St.bookType]||CT_LIST[or].xlsx}))},ir=function(or){(er[or]||[]).forEach(function(lr){rr[rr.length]=writextag("Override",null,{PartName:(lr[0]=="/"?"":"/")+lr,ContentType:CT_LIST[or][St.bookType]||CT_LIST[or].xlsx})})},ar=function(or){(er[or]||[]).forEach(function(lr){rr[rr.length]=writextag("Override",null,{PartName:(lr[0]=="/"?"":"/")+lr,ContentType:tr[or][0]})})};return sr("workbooks"),ir("sheets"),ir("charts"),ar("themes"),["strs","styles"].forEach(sr),["coreprops","extprops","custprops"].forEach(ar),ar("vba"),ar("comments"),ar("threadedcomments"),ar("drawings"),ir("metadata"),ar("people"),rr.length>2&&(rr[rr.length]="</Types>",rr[1]=rr[1].replace("/>",">")),rr.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(er){var St=er.lastIndexOf("/");return er.slice(0,St+1)+"_rels/"+er.slice(St+1)+".rels"}function write_rels(er){var St=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(er["!id"]).forEach(function(tr){St[St.length]=writextag("Relationship",null,er["!id"][tr])}),St.length>2&&(St[St.length]="</Relationships>",St[1]=St[1].replace("/>",">")),St.join("")}function add_rels(er,St,tr,rr,nr,sr){if(nr||(nr={}),er["!id"]||(er["!id"]={}),er["!idx"]||(er["!idx"]=1),St<0)for(St=er["!idx"];er["!id"]["rId"+St];++St);if(er["!idx"]=St+1,nr.Id="rId"+St,nr.Type=rr,nr.Target=tr,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(nr.Type)>-1&&(nr.TargetMode="External"),er["!id"][nr.Id])throw new Error("Cannot rewrite rId "+St);return er["!id"][nr.Id]=nr,er[("/"+nr.Target).replace("//","/")]=nr,St}function write_manifest(er){var St=[XML_HEADER];St.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),St.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var tr=0;tr<er.length;++tr)St.push('  <manifest:file-entry manifest:full-path="'+er[tr][0]+'" manifest:media-type="'+er[tr][1]+`"/>
`);return St.push("</manifest:manifest>"),St.join("")}function write_rdf_type(er,St,tr){return['  <rdf:Description rdf:about="'+er+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(tr||"odf")+"#"+St+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(er,St){return['  <rdf:Description rdf:about="'+er+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+St+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(er){var St=[XML_HEADER];St.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var tr=0;tr!=er.length;++tr)St.push(write_rdf_type(er[tr][0],er[tr][1])),St.push(write_rdf_has("",er[tr][0]));return St.push(write_rdf_type("","Document","pkg")),St.push("</rdf:RDF>"),St.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cp_doit(er,St,tr,rr,nr){nr[er]!=null||St==null||St===""||(nr[er]=St,St=escapexml(St),rr[rr.length]=tr?writextag(er,St,tr):writetag(er,St))}function write_core_props(er,St){var tr=St||{},rr=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],nr={};if(!er&&!tr.Props)return rr.join("");er&&(er.CreatedDate!=null&&cp_doit("dcterms:created",typeof er.CreatedDate=="string"?er.CreatedDate:write_w3cdtf(er.CreatedDate,tr.WTF),{"xsi:type":"dcterms:W3CDTF"},rr,nr),er.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof er.ModifiedDate=="string"?er.ModifiedDate:write_w3cdtf(er.ModifiedDate,tr.WTF),{"xsi:type":"dcterms:W3CDTF"},rr,nr));for(var sr=0;sr!=CORE_PROPS.length;++sr){var ir=CORE_PROPS[sr],ar=tr.Props&&tr.Props[ir[1]]!=null?tr.Props[ir[1]]:er?er[ir[1]]:null;ar===!0?ar="1":ar===!1?ar="0":typeof ar=="number"&&(ar=String(ar)),ar!=null&&cp_doit(ir[0],ar,null,rr,nr)}return rr.length>2&&(rr[rr.length]="</cp:coreProperties>",rr[1]=rr[1].replace("/>",">")),rr.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function write_ext_props(er){var St=[],tr=writextag;return er||(er={}),er.Application="SheetJS",St[St.length]=XML_HEADER,St[St.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(rr){if(er[rr[1]]!==void 0){var nr;switch(rr[2]){case"string":nr=escapexml(String(er[rr[1]]));break;case"bool":nr=er[rr[1]]?"true":"false";break}nr!==void 0&&(St[St.length]=tr(rr[0],nr))}}),St[St.length]=tr("HeadingPairs",tr("vt:vector",tr("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+tr("vt:variant",tr("vt:i4",String(er.Worksheets))),{size:2,baseType:"variant"})),St[St.length]=tr("TitlesOfParts",tr("vt:vector",er.SheetNames.map(function(rr){return"<vt:lpstr>"+escapexml(rr)+"</vt:lpstr>"}).join(""),{size:er.Worksheets,baseType:"lpstr"})),St.length>2&&(St[St.length]="</Properties>",St[1]=St[1].replace("/>",">")),St.join("")}function write_cust_props(er){var St=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!er)return St.join("");var tr=1;return keys(er).forEach(function(nr){++tr,St[St.length]=writextag("property",write_vt(er[nr]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:tr,name:escapexml(nr)})}),St.length>2&&(St[St.length]="</Properties>",St[1]=St[1].replace("/>",">")),St.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xlml_write_docprops(er,St){var tr=[];return keys(XLMLDocPropsMap).map(function(rr){for(var nr=0;nr<CORE_PROPS.length;++nr)if(CORE_PROPS[nr][1]==rr)return CORE_PROPS[nr];for(nr=0;nr<EXT_PROPS.length;++nr)if(EXT_PROPS[nr][1]==rr)return EXT_PROPS[nr];throw rr}).forEach(function(rr){if(er[rr[1]]!=null){var nr=St&&St.Props&&St.Props[rr[1]]!=null?St.Props[rr[1]]:er[rr[1]];switch(rr[2]){case"date":nr=new Date(nr).toISOString().replace(/\.\d*Z/,"Z");break}typeof nr=="number"?nr=String(nr):nr===!0||nr===!1?nr=nr?"1":"0":nr instanceof Date&&(nr=new Date(nr).toISOString().replace(/\.\d*Z/,"")),tr.push(writetag(XLMLDocPropsMap[rr[1]]||rr[1],nr))}}),writextag("DocumentProperties",tr.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(er,St){var tr=["Worksheets","SheetNames"],rr="CustomDocumentProperties",nr=[];return er&&keys(er).forEach(function(sr){if(Object.prototype.hasOwnProperty.call(er,sr)){for(var ir=0;ir<CORE_PROPS.length;++ir)if(sr==CORE_PROPS[ir][1])return;for(ir=0;ir<EXT_PROPS.length;++ir)if(sr==EXT_PROPS[ir][1])return;for(ir=0;ir<tr.length;++ir)if(sr==tr[ir])return;var ar=er[sr],or="string";typeof ar=="number"?(or="float",ar=String(ar)):ar===!0||ar===!1?(or="boolean",ar=ar?"1":"0"):ar=String(ar),nr.push(writextag(escapexmltag(sr),ar,{"dt:dt":or}))}}),St&&keys(St).forEach(function(sr){if(Object.prototype.hasOwnProperty.call(St,sr)&&!(er&&Object.prototype.hasOwnProperty.call(er,sr))){var ir=St[sr],ar="string";typeof ir=="number"?(ar="float",ir=String(ir)):ir===!0||ir===!1?(ar="boolean",ir=ir?"1":"0"):ir instanceof Date?(ar="dateTime.tz",ir=ir.toISOString()):ir=String(ir),nr.push(writextag(escapexmltag(sr),ir,{"dt:dt":ar}))}}),"<"+rr+' xmlns="'+XLMLNS.o+'">'+nr.join("")+"</"+rr+">"}function write_FILETIME(er){var St=typeof er=="string"?new Date(Date.parse(er)):er,tr=St.getTime()/1e3+11644473600,rr=tr%Math.pow(2,32),nr=(tr-rr)/Math.pow(2,32);rr*=1e7,nr*=1e7;var sr=rr/Math.pow(2,32)|0;sr>0&&(rr=rr%Math.pow(2,32),nr+=sr);var ir=new_buf(8);return ir.write_shift(4,rr),ir.write_shift(4,nr),ir}function write_TypedPropertyValue(er,St){var tr=new_buf(4),rr=new_buf(4);switch(tr.write_shift(4,er==80?31:er),er){case 3:rr.write_shift(-4,St);break;case 5:rr=new_buf(8),rr.write_shift(8,St,"f");break;case 11:rr.write_shift(4,St?1:0);break;case 64:rr=write_FILETIME(St);break;case 31:case 80:for(rr=new_buf(4+2*(St.length+1)+(St.length%2?0:2)),rr.write_shift(4,St.length+1),rr.write_shift(0,St,"dbcs");rr.l!=rr.length;)rr.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+er+" "+St)}return bconcat([tr,rr])}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(er){switch(typeof er){case"boolean":return 11;case"number":return(er|0)==er?3:5;case"string":return 31;case"object":if(er instanceof Date)return 64;break}return-1}function write_PropertySet(er,St,tr){var rr=new_buf(8),nr=[],sr=[],ir=8,ar=0,or=new_buf(8),lr=new_buf(8);if(or.write_shift(4,2),or.write_shift(4,1200),lr.write_shift(4,1),sr.push(or),nr.push(lr),ir+=8+or.length,!St){lr=new_buf(8),lr.write_shift(4,0),nr.unshift(lr);var cr=[new_buf(4)];for(cr[0].write_shift(4,er.length),ar=0;ar<er.length;++ar){var ur=er[ar][0];for(or=new_buf(8+2*(ur.length+1)+(ur.length%2?0:2)),or.write_shift(4,ar+2),or.write_shift(4,ur.length+1),or.write_shift(0,ur,"dbcs");or.l!=or.length;)or.write_shift(1,0);cr.push(or)}or=bconcat(cr),sr.unshift(or),ir+=8+or.length}for(ar=0;ar<er.length;++ar)if(!(St&&!St[er[ar][0]])&&!(XLSPSSkip.indexOf(er[ar][0])>-1||PseudoPropsPairs.indexOf(er[ar][0])>-1)&&er[ar][1]!=null){var dr=er[ar][1],hr=0;if(St){hr=+St[er[ar][0]];var Ar=tr[hr];if(Ar.p=="version"&&typeof dr=="string"){var fr=dr.split(".");dr=(+fr[0]<<16)+(+fr[1]||0)}or=write_TypedPropertyValue(Ar.t,dr)}else{var mr=guess_property_type(dr);mr==-1&&(mr=31,dr=String(dr)),or=write_TypedPropertyValue(mr,dr)}sr.push(or),lr=new_buf(8),lr.write_shift(4,St?hr:2+ar),nr.push(lr),ir+=8+or.length}var pr=8*(sr.length+1);for(ar=0;ar<sr.length;++ar)nr[ar].write_shift(4,pr),pr+=sr[ar].length;return rr.write_shift(4,ir),rr.write_shift(4,sr.length),bconcat([rr].concat(nr).concat(sr))}function write_PropertySetStream(er,St,tr,rr,nr,sr){var ir=new_buf(nr?68:48),ar=[ir];ir.write_shift(2,65534),ir.write_shift(2,0),ir.write_shift(4,842412599),ir.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),ir.write_shift(4,nr?2:1),ir.write_shift(16,St,"hex"),ir.write_shift(4,nr?68:48);var or=write_PropertySet(er,tr,rr);if(ar.push(or),nr){var lr=write_PropertySet(nr,null,null);ir.write_shift(16,sr,"hex"),ir.write_shift(4,68+or.length),ar.push(lr)}return bconcat(ar)}function writezeroes(er,St){St||(St=new_buf(er));for(var tr=0;tr<er;++tr)St.write_shift(1,0);return St}function parsebool(er,St){return er.read_shift(St)===1}function writebool(er,St){return St||(St=new_buf(2)),St.write_shift(2,+!!er),St}function parseuint16(er){return er.read_shift(2,"u")}function writeuint16(er,St){return St||(St=new_buf(2)),St.write_shift(2,er),St}function write_Bes(er,St,tr){return tr||(tr=new_buf(2)),tr.write_shift(1,St=="e"?+er:+!!er),tr.write_shift(1,St=="e"?1:0),tr}function parse_ShortXLUnicodeString(er,St,tr){var rr=er.read_shift(tr&&tr.biff>=12?2:1),nr="sbcs-cont";if(tr&&tr.biff>=8,!tr||tr.biff==8){var sr=er.read_shift(1);sr&&(nr="dbcs-cont")}else tr.biff==12&&(nr="wstr");tr.biff>=2&&tr.biff<=5&&(nr="cpstr");var ir=rr?er.read_shift(rr,nr):"";return ir}function write_XLUnicodeRichExtendedString(er){var St=er.t||"",tr=new_buf(3);tr.write_shift(2,St.length),tr.write_shift(1,1);var rr=new_buf(2*St.length);rr.write_shift(2*St.length,St,"utf16le");var nr=[tr,rr];return bconcat(nr)}function parse_XLUnicodeStringNoCch(er,St,tr){var rr;if(tr){if(tr.biff>=2&&tr.biff<=5)return er.read_shift(St,"cpstr");if(tr.biff>=12)return er.read_shift(St,"dbcs-cont")}var nr=er.read_shift(1);return nr===0?rr=er.read_shift(St,"sbcs-cont"):rr=er.read_shift(St,"dbcs-cont"),rr}function parse_XLUnicodeString(er,St,tr){var rr=er.read_shift(tr&&tr.biff==2?1:2);return rr===0?(er.l++,""):parse_XLUnicodeStringNoCch(er,rr,tr)}function parse_XLUnicodeString2(er,St,tr){if(tr.biff>5)return parse_XLUnicodeString(er,St,tr);var rr=er.read_shift(1);return rr===0?(er.l++,""):er.read_shift(rr,tr.biff<=4||!er.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(er,St,tr){return tr||(tr=new_buf(3+2*er.length)),tr.write_shift(2,er.length),tr.write_shift(1,1),tr.write_shift(31,er,"utf16le"),tr}function write_HyperlinkString(er,St){St||(St=new_buf(6+er.length*2)),St.write_shift(4,1+er.length);for(var tr=0;tr<er.length;++tr)St.write_shift(2,er.charCodeAt(tr));return St.write_shift(2,0),St}function write_Hyperlink(er){var St=new_buf(512),tr=0,rr=er.Target;rr.slice(0,7)=="file://"&&(rr=rr.slice(7));var nr=rr.indexOf("#"),sr=nr>-1?31:23;switch(rr.charAt(0)){case"#":sr=28;break;case".":sr&=-3;break}St.write_shift(4,2),St.write_shift(4,sr);var ir=[8,6815827,6619237,4849780,83];for(tr=0;tr<ir.length;++tr)St.write_shift(4,ir[tr]);if(sr==28)rr=rr.slice(1),write_HyperlinkString(rr,St);else if(sr&2){for(ir="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),tr=0;tr<ir.length;++tr)St.write_shift(1,parseInt(ir[tr],16));var ar=nr>-1?rr.slice(0,nr):rr;for(St.write_shift(4,2*(ar.length+1)),tr=0;tr<ar.length;++tr)St.write_shift(2,ar.charCodeAt(tr));St.write_shift(2,0),sr&8&&write_HyperlinkString(nr>-1?rr.slice(nr+1):"",St)}else{for(ir="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),tr=0;tr<ir.length;++tr)St.write_shift(1,parseInt(ir[tr],16));for(var or=0;rr.slice(or*3,or*3+3)=="../"||rr.slice(or*3,or*3+3)=="..\\";)++or;for(St.write_shift(2,or),St.write_shift(4,rr.length-3*or+1),tr=0;tr<rr.length-3*or;++tr)St.write_shift(1,rr.charCodeAt(tr+3*or)&255);for(St.write_shift(1,0),St.write_shift(2,65535),St.write_shift(2,57005),tr=0;tr<6;++tr)St.write_shift(4,0)}return St.slice(0,St.l)}function write_XLSCell(er,St,tr,rr){return rr||(rr=new_buf(6)),rr.write_shift(2,er),rr.write_shift(2,St),rr.write_shift(2,tr||0),rr}function parse_XTI(er,St,tr){var rr=tr.biff>8?4:2,nr=er.read_shift(rr),sr=er.read_shift(rr,"i"),ir=er.read_shift(rr,"i");return[nr,sr,ir]}function parse_Ref8U(er){var St=er.read_shift(2),tr=er.read_shift(2),rr=er.read_shift(2),nr=er.read_shift(2);return{s:{c:rr,r:St},e:{c:nr,r:tr}}}function write_Ref8U(er,St){return St||(St=new_buf(8)),St.write_shift(2,er.s.r),St.write_shift(2,er.e.r),St.write_shift(2,er.s.c),St.write_shift(2,er.e.c),St}function write_BOF(er,St,tr){var rr=1536,nr=16;switch(tr.bookType){case"biff8":break;case"biff5":rr=1280,nr=8;break;case"biff4":rr=4,nr=6;break;case"biff3":rr=3,nr=6;break;case"biff2":rr=2,nr=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var sr=new_buf(nr);return sr.write_shift(2,rr),sr.write_shift(2,St),nr>4&&sr.write_shift(2,29282),nr>6&&sr.write_shift(2,1997),nr>8&&(sr.write_shift(2,49161),sr.write_shift(2,1),sr.write_shift(2,1798),sr.write_shift(2,0)),sr}function write_WriteAccess(er,St){var tr=!St||St.biff==8,rr=new_buf(tr?112:54);for(rr.write_shift(St.biff==8?2:1,7),tr&&rr.write_shift(1,0),rr.write_shift(4,859007059),rr.write_shift(4,5458548|(tr?0:536870912));rr.l<rr.length;)rr.write_shift(1,tr?0:32);return rr}function write_BoundSheet8(er,St){var tr=!St||St.biff>=8?2:1,rr=new_buf(8+tr*er.name.length);rr.write_shift(4,er.pos),rr.write_shift(1,er.hs||0),rr.write_shift(1,er.dt),rr.write_shift(1,er.name.length),St.biff>=8&&rr.write_shift(1,1),rr.write_shift(tr*er.name.length,er.name,St.biff<8?"sbcs":"utf16le");var nr=rr.slice(0,rr.l);return nr.l=rr.l,nr}function write_SST(er,St){var tr=new_buf(8);tr.write_shift(4,er.Count),tr.write_shift(4,er.Unique);for(var rr=[],nr=0;nr<er.length;++nr)rr[nr]=write_XLUnicodeRichExtendedString(er[nr]);var sr=bconcat([tr].concat(rr));return sr.parts=[tr.length].concat(rr.map(function(ir){return ir.length})),sr}function write_Window1(){var er=new_buf(18);return er.write_shift(2,0),er.write_shift(2,0),er.write_shift(2,29280),er.write_shift(2,17600),er.write_shift(2,56),er.write_shift(2,0),er.write_shift(2,0),er.write_shift(2,1),er.write_shift(2,500),er}function write_Window2(er){var St=new_buf(18),tr=1718;return er&&er.RTL&&(tr|=64),St.write_shift(2,tr),St.write_shift(4,0),St.write_shift(4,64),St.write_shift(4,0),St.write_shift(4,0),St}function write_Font(er,St){var tr=er.name||"Arial",rr=St&&St.biff==5,nr=rr?15+tr.length:16+2*tr.length,sr=new_buf(nr);return sr.write_shift(2,er.sz*20),sr.write_shift(4,0),sr.write_shift(2,400),sr.write_shift(4,0),sr.write_shift(2,0),sr.write_shift(1,tr.length),rr||sr.write_shift(1,1),sr.write_shift((rr?1:2)*tr.length,tr,rr?"sbcs":"utf16le"),sr}function write_LabelSst(er,St,tr,rr){var nr=new_buf(10);return write_XLSCell(er,St,rr,nr),nr.write_shift(4,tr),nr}function write_Label(er,St,tr,rr,nr){var sr=!nr||nr.biff==8,ir=new_buf(8+ +sr+(1+sr)*tr.length);return write_XLSCell(er,St,rr,ir),ir.write_shift(2,tr.length),sr&&ir.write_shift(1,1),ir.write_shift((1+sr)*tr.length,tr,sr?"utf16le":"sbcs"),ir}function write_Format(er,St,tr,rr){var nr=tr&&tr.biff==5;rr||(rr=new_buf(nr?3+St.length:5+2*St.length)),rr.write_shift(2,er),rr.write_shift(nr?1:2,St.length),nr||rr.write_shift(1,1),rr.write_shift((nr?1:2)*St.length,St,nr?"sbcs":"utf16le");var sr=rr.length>rr.l?rr.slice(0,rr.l):rr;return sr.l==null&&(sr.l=sr.length),sr}function write_Dimensions(er,St){var tr=St.biff==8||!St.biff?4:2,rr=new_buf(2*tr+6);return rr.write_shift(tr,er.s.r),rr.write_shift(tr,er.e.r+1),rr.write_shift(2,er.s.c),rr.write_shift(2,er.e.c+1),rr.write_shift(2,0),rr}function write_XF(er,St,tr,rr){var nr=tr&&tr.biff==5;rr||(rr=new_buf(nr?16:20)),rr.write_shift(2,0),er.style?(rr.write_shift(2,er.numFmtId||0),rr.write_shift(2,65524)):(rr.write_shift(2,er.numFmtId||0),rr.write_shift(2,St<<4));var sr=0;return er.numFmtId>0&&nr&&(sr|=1024),rr.write_shift(4,sr),rr.write_shift(4,0),nr||rr.write_shift(4,0),rr.write_shift(2,0),rr}function write_Guts(er){var St=new_buf(8);return St.write_shift(4,0),St.write_shift(2,0),St.write_shift(2,0),St}function write_BoolErr(er,St,tr,rr,nr,sr){var ir=new_buf(8);return write_XLSCell(er,St,rr,ir),write_Bes(tr,sr,ir),ir}function write_Number(er,St,tr,rr){var nr=new_buf(14);return write_XLSCell(er,St,rr,nr),write_Xnum(tr,nr),nr}function parse_ExternSheet(er,St,tr){if(tr.biff<8)return parse_BIFF5ExternSheet(er,St,tr);for(var rr=[],nr=er.l+St,sr=er.read_shift(tr.biff>8?4:2);sr--!==0;)rr.push(parse_XTI(er,tr.biff>8?12:6,tr));if(er.l!=nr)throw new Error("Bad ExternSheet: "+er.l+" != "+nr);return rr}function parse_BIFF5ExternSheet(er,St,tr){er[er.l+1]==3&&er[er.l]++;var rr=parse_ShortXLUnicodeString(er,St,tr);return rr.charCodeAt(0)==3?rr.slice(1):rr}function write_MergeCells(er){var St=new_buf(2+er.length*8);St.write_shift(2,er.length);for(var tr=0;tr<er.length;++tr)write_Ref8U(er[tr],St);return St}function write_HLink(er){var St=new_buf(24),tr=decode_cell(er[0]);St.write_shift(2,tr.r),St.write_shift(2,tr.r),St.write_shift(2,tr.c),St.write_shift(2,tr.c);for(var rr="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),nr=0;nr<16;++nr)St.write_shift(1,parseInt(rr[nr],16));return bconcat([St,write_Hyperlink(er[1])])}function write_HLinkTooltip(er){var St=er[1].Tooltip,tr=new_buf(10+2*(St.length+1));tr.write_shift(2,2048);var rr=decode_cell(er[0]);tr.write_shift(2,rr.r),tr.write_shift(2,rr.r),tr.write_shift(2,rr.c),tr.write_shift(2,rr.c);for(var nr=0;nr<St.length;++nr)tr.write_shift(2,St.charCodeAt(nr));return tr.write_shift(2,0),tr}function write_Country(er){return er||(er=new_buf(4)),er.write_shift(2,1),er.write_shift(2,1),er}function parse_ColInfo(er,St,tr){if(!tr.cellStyles)return parsenoop(er,St);var rr=tr&&tr.biff>=12?4:2,nr=er.read_shift(rr),sr=er.read_shift(rr),ir=er.read_shift(rr),ar=er.read_shift(rr),or=er.read_shift(2);rr==2&&(er.l+=2);var lr={s:nr,e:sr,w:ir,ixfe:ar,flags:or};return(tr.biff>=5||!tr.biff)&&(lr.level=or>>8&7),lr}function write_ColInfo(er,St){var tr=new_buf(12);tr.write_shift(2,St),tr.write_shift(2,St),tr.write_shift(2,er.width*256),tr.write_shift(2,0);var rr=0;return er.hidden&&(rr|=1),tr.write_shift(1,rr),rr=er.level||0,tr.write_shift(1,rr),tr.write_shift(2,0),tr}function write_RRTabId(er){for(var St=new_buf(2*er),tr=0;tr<er;++tr)St.write_shift(2,tr+1);return St}function write_BIFF2NUM(er,St,tr){var rr=new_buf(15);return write_BIFF2Cell(rr,er,St),rr.write_shift(8,tr,"f"),rr}function write_BIFF2INT(er,St,tr){var rr=new_buf(9);return write_BIFF2Cell(rr,er,St),rr.write_shift(2,tr),rr}var DBF=function(){var er={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},St=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function tr(ar,or){var lr=[],cr=new_raw_buf(1);switch(or.type){case"base64":cr=s2a(Base64_decode(ar));break;case"binary":cr=s2a(ar);break;case"buffer":case"array":cr=ar;break}prep_blob(cr,0);var ur=cr.read_shift(1),dr=!!(ur&136),hr=!1,Ar=!1;switch(ur){case 2:break;case 3:break;case 48:hr=!0,dr=!0;break;case 49:hr=!0,dr=!0;break;case 131:break;case 139:break;case 140:Ar=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+ur.toString(16))}var fr=0,mr=521;ur==2&&(fr=cr.read_shift(2)),cr.l+=3,ur!=2&&(fr=cr.read_shift(4)),fr>1048576&&(fr=1e6),ur!=2&&(mr=cr.read_shift(2));var pr=cr.read_shift(2),gr=or.codepage||1252;ur!=2&&(cr.l+=16,cr.read_shift(1),cr[cr.l]!==0&&(gr=er[cr[cr.l]]),cr.l+=1,cr.l+=2),Ar&&(cr.l+=36);for(var xr=[],yr={},Er=Math.min(cr.length,ur==2?521:mr-10-(hr?264:0)),_r=Ar?32:11;cr.l<Er&&cr[cr.l]!=13;)switch(yr={},yr.name=$cptable.utils.decode(gr,cr.slice(cr.l,cr.l+_r)).replace(/[\u0000\r\n].*$/g,""),cr.l+=_r,yr.type=String.fromCharCode(cr.read_shift(1)),ur!=2&&!Ar&&(yr.offset=cr.read_shift(4)),yr.len=cr.read_shift(1),ur==2&&(yr.offset=cr.read_shift(2)),yr.dec=cr.read_shift(1),yr.name.length&&xr.push(yr),ur!=2&&(cr.l+=Ar?13:14),yr.type){case"B":(!hr||yr.len!=8)&&or.WTF&&console.log("Skipping "+yr.name+":"+yr.type);break;case"G":case"P":or.WTF&&console.log("Skipping "+yr.name+":"+yr.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+yr.type)}if(cr[cr.l]!==13&&(cr.l=mr-1),cr.read_shift(1)!==13)throw new Error("DBF Terminator not found "+cr.l+" "+cr[cr.l]);cr.l=mr;var Sr=0,jr=0;for(lr[0]=[],jr=0;jr!=xr.length;++jr)lr[0][jr]=xr[jr].name;for(;fr-- >0;){if(cr[cr.l]===42){cr.l+=pr;continue}for(++cr.l,lr[++Sr]=[],jr=0,jr=0;jr!=xr.length;++jr){var Pr=cr.slice(cr.l,cr.l+xr[jr].len);cr.l+=xr[jr].len,prep_blob(Pr,0);var Mr=$cptable.utils.decode(gr,Pr);switch(xr[jr].type){case"C":Mr.trim().length&&(lr[Sr][jr]=Mr.replace(/\s+$/,""));break;case"D":Mr.length===8?lr[Sr][jr]=new Date(+Mr.slice(0,4),+Mr.slice(4,6)-1,+Mr.slice(6,8)):lr[Sr][jr]=Mr;break;case"F":lr[Sr][jr]=parseFloat(Mr.trim());break;case"+":case"I":lr[Sr][jr]=Ar?Pr.read_shift(-4,"i")^2147483648:Pr.read_shift(4,"i");break;case"L":switch(Mr.trim().toUpperCase()){case"Y":case"T":lr[Sr][jr]=!0;break;case"N":case"F":lr[Sr][jr]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Mr+"|")}break;case"M":if(!dr)throw new Error("DBF Unexpected MEMO for type "+ur.toString(16));lr[Sr][jr]="##MEMO##"+(Ar?parseInt(Mr.trim(),10):Pr.read_shift(4));break;case"N":Mr=Mr.replace(/\u0000/g,"").trim(),Mr&&Mr!="."&&(lr[Sr][jr]=+Mr||0);break;case"@":lr[Sr][jr]=new Date(Pr.read_shift(-8,"f")-621356832e5);break;case"T":lr[Sr][jr]=new Date((Pr.read_shift(4)-2440588)*864e5+Pr.read_shift(4));break;case"Y":lr[Sr][jr]=Pr.read_shift(4,"i")/1e4+Pr.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":lr[Sr][jr]=-Pr.read_shift(-8,"f");break;case"B":if(hr&&xr[jr].len==8){lr[Sr][jr]=Pr.read_shift(8,"f");break}case"G":case"P":Pr.l+=xr[jr].len;break;case"0":if(xr[jr].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+xr[jr].type)}}}if(ur!=2&&cr.l<cr.length&&cr[cr.l++]!=26)throw new Error("DBF EOF Marker missing "+(cr.l-1)+" of "+cr.length+" "+cr[cr.l-1].toString(16));return or&&or.sheetRows&&(lr=lr.slice(0,or.sheetRows)),or.DBF=xr,lr}function rr(ar,or){var lr=or||{};lr.dateNF||(lr.dateNF="yyyymmdd");var cr=aoa_to_sheet(tr(ar,lr),lr);return cr["!cols"]=lr.DBF.map(function(ur){return{wch:ur.len,DBF:ur}}),delete lr.DBF,cr}function nr(ar,or){try{return sheet_to_workbook(rr(ar,or),or)}catch(lr){if(or&&or.WTF)throw lr}return{SheetNames:[],Sheets:{}}}var sr={B:8,C:250,L:1,D:8,"?":0,"":0};function ir(ar,or){var lr=or||{};if(+lr.codepage>=0&&set_cp(+lr.codepage),lr.type=="string")throw new Error("Cannot write DBF to JS string");var cr=buf_array(),ur=sheet_to_json(ar,{header:1,raw:!0,cellDates:!0}),dr=ur[0],hr=ur.slice(1),Ar=ar["!cols"]||[],fr=0,mr=0,pr=0,gr=1;for(fr=0;fr<dr.length;++fr){if(((Ar[fr]||{}).DBF||{}).name){dr[fr]=Ar[fr].DBF.name,++pr;continue}if(dr[fr]!=null){if(++pr,typeof dr[fr]=="number"&&(dr[fr]=dr[fr].toString(10)),typeof dr[fr]!="string")throw new Error("DBF Invalid column name "+dr[fr]+" |"+typeof dr[fr]+"|");if(dr.indexOf(dr[fr])!==fr){for(mr=0;mr<1024;++mr)if(dr.indexOf(dr[fr]+"_"+mr)==-1){dr[fr]+="_"+mr;break}}}}var xr=safe_decode_range(ar["!ref"]),yr=[],Er=[],_r=[];for(fr=0;fr<=xr.e.c-xr.s.c;++fr){var Sr="",jr="",Pr=0,Mr=[];for(mr=0;mr<hr.length;++mr)hr[mr][fr]!=null&&Mr.push(hr[mr][fr]);if(Mr.length==0||dr[fr]==null){yr[fr]="?";continue}for(mr=0;mr<Mr.length;++mr){switch(typeof Mr[mr]){case"number":jr="B";break;case"string":jr="C";break;case"boolean":jr="L";break;case"object":jr=Mr[mr]instanceof Date?"D":"C";break;default:jr="C"}Pr=Math.max(Pr,String(Mr[mr]).length),Sr=Sr&&Sr!=jr?"C":jr}Pr>250&&(Pr=250),jr=((Ar[fr]||{}).DBF||{}).type,jr=="C"&&Ar[fr].DBF.len>Pr&&(Pr=Ar[fr].DBF.len),Sr=="B"&&jr=="N"&&(Sr="N",_r[fr]=Ar[fr].DBF.dec,Pr=Ar[fr].DBF.len),Er[fr]=Sr=="C"||jr=="N"?Pr:sr[Sr]||0,gr+=Er[fr],yr[fr]=Sr}var Ir=cr.next(32);for(Ir.write_shift(4,318902576),Ir.write_shift(4,hr.length),Ir.write_shift(2,296+32*pr),Ir.write_shift(2,gr),fr=0;fr<4;++fr)Ir.write_shift(4,0);for(Ir.write_shift(4,0|(+St[current_ansi]||3)<<8),fr=0,mr=0;fr<dr.length;++fr)if(dr[fr]!=null){var Lr=cr.next(32),Qr=(dr[fr].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Lr.write_shift(1,Qr,"sbcs"),Lr.write_shift(1,yr[fr]=="?"?"C":yr[fr],"sbcs"),Lr.write_shift(4,mr),Lr.write_shift(1,Er[fr]||sr[yr[fr]]||0),Lr.write_shift(1,_r[fr]||0),Lr.write_shift(1,2),Lr.write_shift(4,0),Lr.write_shift(1,0),Lr.write_shift(4,0),Lr.write_shift(4,0),mr+=Er[fr]||sr[yr[fr]]||0}var Yr=cr.next(264);for(Yr.write_shift(4,13),fr=0;fr<65;++fr)Yr.write_shift(4,0);for(fr=0;fr<hr.length;++fr){var Gr=cr.next(gr);for(Gr.write_shift(1,0),mr=0;mr<dr.length;++mr)if(dr[mr]!=null)switch(yr[mr]){case"L":Gr.write_shift(1,hr[fr][mr]==null?63:hr[fr][mr]?84:70);break;case"B":Gr.write_shift(8,hr[fr][mr]||0,"f");break;case"N":var $r="0";for(typeof hr[fr][mr]=="number"&&($r=hr[fr][mr].toFixed(_r[mr]||0)),pr=0;pr<Er[mr]-$r.length;++pr)Gr.write_shift(1,32);Gr.write_shift(1,$r,"sbcs");break;case"D":hr[fr][mr]?(Gr.write_shift(4,("0000"+hr[fr][mr].getFullYear()).slice(-4),"sbcs"),Gr.write_shift(2,("00"+(hr[fr][mr].getMonth()+1)).slice(-2),"sbcs"),Gr.write_shift(2,("00"+hr[fr][mr].getDate()).slice(-2),"sbcs")):Gr.write_shift(8,"00000000","sbcs");break;case"C":var Vr=String(hr[fr][mr]!=null?hr[fr][mr]:"").slice(0,Er[mr]);for(Gr.write_shift(1,Vr,"sbcs"),pr=0;pr<Er[mr]-Vr.length;++pr)Gr.write_shift(1,32);break}}return cr.next(1).write_shift(1,26),cr.end()}return{to_workbook:nr,to_sheet:rr,from_sheet:ir}}(),SYLK=function(){var er={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},St=new RegExp("\x1BN("+keys(er).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),tr=function(dr,hr){var Ar=er[hr];return typeof Ar=="number"?_getansi(Ar):Ar},rr=function(dr,hr,Ar){var fr=hr.charCodeAt(0)-32<<4|Ar.charCodeAt(0)-48;return fr==59?dr:_getansi(fr)};er["|"]=254;function nr(dr,hr){switch(hr.type){case"base64":return sr(Base64_decode(dr),hr);case"binary":return sr(dr,hr);case"buffer":return sr(has_buf&&Buffer.isBuffer(dr)?dr.toString("binary"):a2s(dr),hr);case"array":return sr(cc2str(dr),hr)}throw new Error("Unrecognized type "+hr.type)}function sr(dr,hr){var Ar=dr.split(/[\n\r]+/),fr=-1,mr=-1,pr=0,gr=0,xr=[],yr=[],Er=null,_r={},Sr=[],jr=[],Pr=[],Mr=0,Ir;for(+hr.codepage>=0&&set_cp(+hr.codepage);pr!==Ar.length;++pr){Mr=0;var Lr=Ar[pr].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,rr).replace(St,tr),Qr=Lr.replace(/;;/g,"\0").split(";").map(function(zr){return zr.replace(/\u0000/g,";")}),Yr=Qr[0],Gr;if(Lr.length>0)switch(Yr){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Qr[1].charAt(0)=="P"&&yr.push(Lr.slice(3).replace(/;;/g,";"));break;case"C":var $r=!1,Vr=!1,Tr=!1,Fr=!1,Wr=-1,qr=-1;for(gr=1;gr<Qr.length;++gr)switch(Qr[gr].charAt(0)){case"A":break;case"X":mr=parseInt(Qr[gr].slice(1))-1,Vr=!0;break;case"Y":for(fr=parseInt(Qr[gr].slice(1))-1,Vr||(mr=0),Ir=xr.length;Ir<=fr;++Ir)xr[Ir]=[];break;case"K":Gr=Qr[gr].slice(1),Gr.charAt(0)==='"'?Gr=Gr.slice(1,Gr.length-1):Gr==="TRUE"?Gr=!0:Gr==="FALSE"?Gr=!1:isNaN(fuzzynum(Gr))?isNaN(fuzzydate(Gr).getDate())||(Gr=parseDate(Gr)):(Gr=fuzzynum(Gr),Er!==null&&fmt_is_date(Er)&&(Gr=numdate(Gr))),$r=!0;break;case"E":Fr=!0;var Rr=rc_to_a1(Qr[gr].slice(1),{r:fr,c:mr});xr[fr][mr]=[xr[fr][mr],Rr];break;case"S":Tr=!0,xr[fr][mr]=[xr[fr][mr],"S5S"];break;case"G":break;case"R":Wr=parseInt(Qr[gr].slice(1))-1;break;case"C":qr=parseInt(Qr[gr].slice(1))-1;break;default:if(hr&&hr.WTF)throw new Error("SYLK bad record "+Lr)}if($r&&(xr[fr][mr]&&xr[fr][mr].length==2?xr[fr][mr][0]=Gr:xr[fr][mr]=Gr,Er=null),Tr){if(Fr)throw new Error("SYLK shared formula cannot have own formula");var Or=Wr>-1&&xr[Wr][qr];if(!Or||!Or[1])throw new Error("SYLK shared formula cannot find base");xr[fr][mr][1]=shift_formula_str(Or[1],{r:fr-Wr,c:mr-qr})}break;case"F":var Hr=0;for(gr=1;gr<Qr.length;++gr)switch(Qr[gr].charAt(0)){case"X":mr=parseInt(Qr[gr].slice(1))-1,++Hr;break;case"Y":for(fr=parseInt(Qr[gr].slice(1))-1,Ir=xr.length;Ir<=fr;++Ir)xr[Ir]=[];break;case"M":Mr=parseInt(Qr[gr].slice(1))/20;break;case"F":break;case"G":break;case"P":Er=yr[parseInt(Qr[gr].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Pr=Qr[gr].slice(1).split(" "),Ir=parseInt(Pr[0],10);Ir<=parseInt(Pr[1],10);++Ir)Mr=parseInt(Pr[2],10),jr[Ir-1]=Mr===0?{hidden:!0}:{wch:Mr},process_col(jr[Ir-1]);break;case"C":mr=parseInt(Qr[gr].slice(1))-1,jr[mr]||(jr[mr]={});break;case"R":fr=parseInt(Qr[gr].slice(1))-1,Sr[fr]||(Sr[fr]={}),Mr>0?(Sr[fr].hpt=Mr,Sr[fr].hpx=pt2px(Mr)):Mr===0&&(Sr[fr].hidden=!0);break;default:if(hr&&hr.WTF)throw new Error("SYLK bad record "+Lr)}Hr<1&&(Er=null);break;default:if(hr&&hr.WTF)throw new Error("SYLK bad record "+Lr)}}return Sr.length>0&&(_r["!rows"]=Sr),jr.length>0&&(_r["!cols"]=jr),hr&&hr.sheetRows&&(xr=xr.slice(0,hr.sheetRows)),[xr,_r]}function ir(dr,hr){var Ar=nr(dr,hr),fr=Ar[0],mr=Ar[1],pr=aoa_to_sheet(fr,hr);return keys(mr).forEach(function(gr){pr[gr]=mr[gr]}),pr}function ar(dr,hr){return sheet_to_workbook(ir(dr,hr),hr)}function or(dr,hr,Ar,fr){var mr="C;Y"+(Ar+1)+";X"+(fr+1)+";K";switch(dr.t){case"n":mr+=dr.v||0,dr.f&&!dr.F&&(mr+=";E"+a1_to_rc(dr.f,{r:Ar,c:fr}));break;case"b":mr+=dr.v?"TRUE":"FALSE";break;case"e":mr+=dr.w||dr.v;break;case"d":mr+='"'+(dr.w||dr.v)+'"';break;case"s":mr+='"'+dr.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return mr}function lr(dr,hr){hr.forEach(function(Ar,fr){var mr="F;W"+(fr+1)+" "+(fr+1)+" ";Ar.hidden?mr+="0":(typeof Ar.width=="number"&&!Ar.wpx&&(Ar.wpx=width2px(Ar.width)),typeof Ar.wpx=="number"&&!Ar.wch&&(Ar.wch=px2char(Ar.wpx)),typeof Ar.wch=="number"&&(mr+=Math.round(Ar.wch))),mr.charAt(mr.length-1)!=" "&&dr.push(mr)})}function cr(dr,hr){hr.forEach(function(Ar,fr){var mr="F;";Ar.hidden?mr+="M0;":Ar.hpt?mr+="M"+20*Ar.hpt+";":Ar.hpx&&(mr+="M"+20*px2pt(Ar.hpx)+";"),mr.length>2&&dr.push(mr+"R"+(fr+1))})}function ur(dr,hr){var Ar=["ID;PWXL;N;E"],fr=[],mr=safe_decode_range(dr["!ref"]),pr,gr=Array.isArray(dr),xr=`\r
`;Ar.push("P;PGeneral"),Ar.push("F;P0;DG0G8;M255"),dr["!cols"]&&lr(Ar,dr["!cols"]),dr["!rows"]&&cr(Ar,dr["!rows"]),Ar.push("B;Y"+(mr.e.r-mr.s.r+1)+";X"+(mr.e.c-mr.s.c+1)+";D"+[mr.s.c,mr.s.r,mr.e.c,mr.e.r].join(" "));for(var yr=mr.s.r;yr<=mr.e.r;++yr)for(var Er=mr.s.c;Er<=mr.e.c;++Er){var _r=encode_cell({r:yr,c:Er});pr=gr?(dr[yr]||[])[Er]:dr[_r],!(!pr||pr.v==null&&(!pr.f||pr.F))&&fr.push(or(pr,dr,yr,Er))}return Ar.join(xr)+xr+fr.join(xr)+xr+"E"+xr}return{to_workbook:ar,to_sheet:ir,from_sheet:ur}}(),DIF=function(){function er(sr,ir){switch(ir.type){case"base64":return St(Base64_decode(sr),ir);case"binary":return St(sr,ir);case"buffer":return St(has_buf&&Buffer.isBuffer(sr)?sr.toString("binary"):a2s(sr),ir);case"array":return St(cc2str(sr),ir)}throw new Error("Unrecognized type "+ir.type)}function St(sr,ir){for(var ar=sr.split(`
`),or=-1,lr=-1,cr=0,ur=[];cr!==ar.length;++cr){if(ar[cr].trim()==="BOT"){ur[++or]=[],lr=0;continue}if(!(or<0)){var dr=ar[cr].trim().split(","),hr=dr[0],Ar=dr[1];++cr;for(var fr=ar[cr]||"";(fr.match(/["]/g)||[]).length&1&&cr<ar.length-1;)fr+=`
`+ar[++cr];switch(fr=fr.trim(),+hr){case-1:if(fr==="BOT"){ur[++or]=[],lr=0;continue}else if(fr!=="EOD")throw new Error("Unrecognized DIF special command "+fr);break;case 0:fr==="TRUE"?ur[or][lr]=!0:fr==="FALSE"?ur[or][lr]=!1:isNaN(fuzzynum(Ar))?isNaN(fuzzydate(Ar).getDate())?ur[or][lr]=Ar:ur[or][lr]=parseDate(Ar):ur[or][lr]=fuzzynum(Ar),++lr;break;case 1:fr=fr.slice(1,fr.length-1),fr=fr.replace(/""/g,'"'),fr&&fr.match(/^=".*"$/)&&(fr=fr.slice(2,-1)),ur[or][lr++]=fr!==""?fr:null;break}if(fr==="EOD")break}}return ir&&ir.sheetRows&&(ur=ur.slice(0,ir.sheetRows)),ur}function tr(sr,ir){return aoa_to_sheet(er(sr,ir),ir)}function rr(sr,ir){return sheet_to_workbook(tr(sr,ir),ir)}var nr=function(){var sr=function(or,lr,cr,ur,dr){or.push(lr),or.push(cr+","+ur),or.push('"'+dr.replace(/"/g,'""')+'"')},ir=function(or,lr,cr,ur){or.push(lr+","+cr),or.push(lr==1?'"'+ur.replace(/"/g,'""')+'"':ur)};return function(or){var lr=[],cr=safe_decode_range(or["!ref"]),ur,dr=Array.isArray(or);sr(lr,"TABLE",0,1,"sheetjs"),sr(lr,"VECTORS",0,cr.e.r-cr.s.r+1,""),sr(lr,"TUPLES",0,cr.e.c-cr.s.c+1,""),sr(lr,"DATA",0,0,"");for(var hr=cr.s.r;hr<=cr.e.r;++hr){ir(lr,-1,0,"BOT");for(var Ar=cr.s.c;Ar<=cr.e.c;++Ar){var fr=encode_cell({r:hr,c:Ar});if(ur=dr?(or[hr]||[])[Ar]:or[fr],!ur){ir(lr,1,0,"");continue}switch(ur.t){case"n":var mr=ur.w;!mr&&ur.v!=null&&(mr=ur.v),mr==null?ur.f&&!ur.F?ir(lr,1,0,"="+ur.f):ir(lr,1,0,""):ir(lr,0,mr,"V");break;case"b":ir(lr,0,ur.v?1:0,ur.v?"TRUE":"FALSE");break;case"s":ir(lr,1,0,isNaN(ur.v)?ur.v:'="'+ur.v+'"');break;case"d":ur.w||(ur.w=SSF_format(ur.z||table_fmt[14],datenum(parseDate(ur.v)))),ir(lr,0,ur.w,"V");break;default:ir(lr,1,0,"")}}}ir(lr,-1,0,"EOD");var pr=`\r
`,gr=lr.join(pr);return gr}}();return{to_workbook:rr,to_sheet:tr,from_sheet:nr}}(),ETH=function(){function er(ur){return ur.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function St(ur){return ur.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function tr(ur,dr){for(var hr=ur.split(`
`),Ar=-1,fr=-1,mr=0,pr=[];mr!==hr.length;++mr){var gr=hr[mr].trim().split(":");if(gr[0]==="cell"){var xr=decode_cell(gr[1]);if(pr.length<=xr.r)for(Ar=pr.length;Ar<=xr.r;++Ar)pr[Ar]||(pr[Ar]=[]);switch(Ar=xr.r,fr=xr.c,gr[2]){case"t":pr[Ar][fr]=er(gr[3]);break;case"v":pr[Ar][fr]=+gr[3];break;case"vtf":var yr=gr[gr.length-1];case"vtc":switch(gr[3]){case"nl":pr[Ar][fr]=!!+gr[4];break;default:pr[Ar][fr]=+gr[4];break}gr[2]=="vtf"&&(pr[Ar][fr]=[pr[Ar][fr],yr])}}}return dr&&dr.sheetRows&&(pr=pr.slice(0,dr.sheetRows)),pr}function rr(ur,dr){return aoa_to_sheet(tr(ur,dr),dr)}function nr(ur,dr){return sheet_to_workbook(rr(ur,dr),dr)}var sr=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),ir=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,ar=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),or="--SocialCalcSpreadsheetControlSave--";function lr(ur){if(!ur||!ur["!ref"])return"";for(var dr=[],hr=[],Ar,fr="",mr=decode_range(ur["!ref"]),pr=Array.isArray(ur),gr=mr.s.r;gr<=mr.e.r;++gr)for(var xr=mr.s.c;xr<=mr.e.c;++xr)if(fr=encode_cell({r:gr,c:xr}),Ar=pr?(ur[gr]||[])[xr]:ur[fr],!(!Ar||Ar.v==null||Ar.t==="z")){switch(hr=["cell",fr,"t"],Ar.t){case"s":case"str":hr.push(St(Ar.v));break;case"n":Ar.f?(hr[2]="vtf",hr[3]="n",hr[4]=Ar.v,hr[5]=St(Ar.f)):(hr[2]="v",hr[3]=Ar.v);break;case"b":hr[2]="vt"+(Ar.f?"f":"c"),hr[3]="nl",hr[4]=Ar.v?"1":"0",hr[5]=St(Ar.f||(Ar.v?"TRUE":"FALSE"));break;case"d":var yr=datenum(parseDate(Ar.v));hr[2]="vtc",hr[3]="nd",hr[4]=""+yr,hr[5]=Ar.w||SSF_format(Ar.z||table_fmt[14],yr);break;case"e":continue}dr.push(hr.join(":"))}return dr.push("sheet:c:"+(mr.e.c-mr.s.c+1)+":r:"+(mr.e.r-mr.s.r+1)+":tvf:1"),dr.push("valueformat:1:text-wiki"),dr.join(`
`)}function cr(ur){return[sr,ir,ar,ir,lr(ur),or].join(`
`)}return{to_workbook:nr,to_sheet:rr,from_sheet:cr}}(),PRN=function(){function er(cr,ur,dr,hr,Ar){Ar.raw?ur[dr][hr]=cr:cr===""||(cr==="TRUE"?ur[dr][hr]=!0:cr==="FALSE"?ur[dr][hr]=!1:isNaN(fuzzynum(cr))?isNaN(fuzzydate(cr).getDate())?ur[dr][hr]=cr:ur[dr][hr]=parseDate(cr):ur[dr][hr]=fuzzynum(cr))}function St(cr,ur){var dr=ur||{},hr=[];if(!cr||cr.length===0)return hr;for(var Ar=cr.split(/[\r\n]/),fr=Ar.length-1;fr>=0&&Ar[fr].length===0;)--fr;for(var mr=10,pr=0,gr=0;gr<=fr;++gr)pr=Ar[gr].indexOf(" "),pr==-1?pr=Ar[gr].length:pr++,mr=Math.max(mr,pr);for(gr=0;gr<=fr;++gr){hr[gr]=[];var xr=0;for(er(Ar[gr].slice(0,mr).trim(),hr,gr,xr,dr),xr=1;xr<=(Ar[gr].length-mr)/10+1;++xr)er(Ar[gr].slice(mr+(xr-1)*10,mr+xr*10).trim(),hr,gr,xr,dr)}return dr.sheetRows&&(hr=hr.slice(0,dr.sheetRows)),hr}var tr={44:",",9:"	",59:";",124:"|"},rr={44:3,9:2,59:1,124:0};function nr(cr){for(var ur={},dr=!1,hr=0,Ar=0;hr<cr.length;++hr)(Ar=cr.charCodeAt(hr))==34?dr=!dr:!dr&&Ar in tr&&(ur[Ar]=(ur[Ar]||0)+1);Ar=[];for(hr in ur)Object.prototype.hasOwnProperty.call(ur,hr)&&Ar.push([ur[hr],hr]);if(!Ar.length){ur=rr;for(hr in ur)Object.prototype.hasOwnProperty.call(ur,hr)&&Ar.push([ur[hr],hr])}return Ar.sort(function(fr,mr){return fr[0]-mr[0]||rr[fr[1]]-rr[mr[1]]}),tr[Ar.pop()[1]]||44}function sr(cr,ur){var dr=ur||{},hr="",Ar=dr.dense?[]:{},fr={s:{c:0,r:0},e:{c:0,r:0}};cr.slice(0,4)=="sep="?cr.charCodeAt(5)==13&&cr.charCodeAt(6)==10?(hr=cr.charAt(4),cr=cr.slice(7)):cr.charCodeAt(5)==13||cr.charCodeAt(5)==10?(hr=cr.charAt(4),cr=cr.slice(6)):hr=nr(cr.slice(0,1024)):dr&&dr.FS?hr=dr.FS:hr=nr(cr.slice(0,1024));var mr=0,pr=0,gr=0,xr=0,yr=0,Er=hr.charCodeAt(0),_r=!1,Sr=0,jr=cr.charCodeAt(0);cr=cr.replace(/\r\n/mg,`
`);var Pr=dr.dateNF!=null?dateNF_regex(dr.dateNF):null;function Mr(){var Ir=cr.slice(xr,yr),Lr={};if(Ir.charAt(0)=='"'&&Ir.charAt(Ir.length-1)=='"'&&(Ir=Ir.slice(1,-1).replace(/""/g,'"')),Ir.length===0)Lr.t="z";else if(dr.raw)Lr.t="s",Lr.v=Ir;else if(Ir.trim().length===0)Lr.t="s",Lr.v=Ir;else if(Ir.charCodeAt(0)==61)Ir.charCodeAt(1)==34&&Ir.charCodeAt(Ir.length-1)==34?(Lr.t="s",Lr.v=Ir.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(Ir)?(Lr.t="n",Lr.f=Ir.slice(1)):(Lr.t="s",Lr.v=Ir);else if(Ir=="TRUE")Lr.t="b",Lr.v=!0;else if(Ir=="FALSE")Lr.t="b",Lr.v=!1;else if(!isNaN(gr=fuzzynum(Ir)))Lr.t="n",dr.cellText!==!1&&(Lr.w=Ir),Lr.v=gr;else if(!isNaN(fuzzydate(Ir).getDate())||Pr&&Ir.match(Pr)){Lr.z=dr.dateNF||table_fmt[14];var Qr=0;Pr&&Ir.match(Pr)&&(Ir=dateNF_fix(Ir,dr.dateNF,Ir.match(Pr)||[]),Qr=1),dr.cellDates?(Lr.t="d",Lr.v=parseDate(Ir,Qr)):(Lr.t="n",Lr.v=datenum(parseDate(Ir,Qr))),dr.cellText!==!1&&(Lr.w=SSF_format(Lr.z,Lr.v instanceof Date?datenum(Lr.v):Lr.v)),dr.cellNF||delete Lr.z}else Lr.t="s",Lr.v=Ir;if(Lr.t=="z"||(dr.dense?(Ar[mr]||(Ar[mr]=[]),Ar[mr][pr]=Lr):Ar[encode_cell({c:pr,r:mr})]=Lr),xr=yr+1,jr=cr.charCodeAt(xr),fr.e.c<pr&&(fr.e.c=pr),fr.e.r<mr&&(fr.e.r=mr),Sr==Er)++pr;else if(pr=0,++mr,dr.sheetRows&&dr.sheetRows<=mr)return!0}e:for(;yr<cr.length;++yr)switch(Sr=cr.charCodeAt(yr)){case 34:jr===34&&(_r=!_r);break;case Er:case 10:case 13:if(!_r&&Mr())break e;break}return yr-xr>0&&Mr(),Ar["!ref"]=encode_range(fr),Ar}function ir(cr,ur){return!(ur&&ur.PRN)||ur.FS||cr.slice(0,4)=="sep="||cr.indexOf("	")>=0||cr.indexOf(",")>=0||cr.indexOf(";")>=0?sr(cr,ur):aoa_to_sheet(St(cr,ur),ur)}function ar(cr,ur){var dr="",hr=ur.type=="string"?[0,0,0,0]:firstbyte(cr,ur);switch(ur.type){case"base64":dr=Base64_decode(cr);break;case"binary":dr=cr;break;case"buffer":ur.codepage==65001?dr=cr.toString("utf8"):ur.codepage&&typeof $cptable<"u"||(dr=has_buf&&Buffer.isBuffer(cr)?cr.toString("binary"):a2s(cr));break;case"array":dr=cc2str(cr);break;case"string":dr=cr;break;default:throw new Error("Unrecognized type "+ur.type)}return hr[0]==239&&hr[1]==187&&hr[2]==191?dr=utf8read(dr.slice(3)):ur.type!="string"&&ur.type!="buffer"&&ur.codepage==65001?dr=utf8read(dr):ur.type=="binary"&&typeof $cptable<"u",dr.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(ur.type=="string"?dr:utf8read(dr),ur):ir(dr,ur)}function or(cr,ur){return sheet_to_workbook(ar(cr,ur),ur)}function lr(cr){for(var ur=[],dr=safe_decode_range(cr["!ref"]),hr,Ar=Array.isArray(cr),fr=dr.s.r;fr<=dr.e.r;++fr){for(var mr=[],pr=dr.s.c;pr<=dr.e.c;++pr){var gr=encode_cell({r:fr,c:pr});if(hr=Ar?(cr[fr]||[])[pr]:cr[gr],!hr||hr.v==null){mr.push("          ");continue}for(var xr=(hr.w||(format_cell(hr),hr.w)||"").slice(0,10);xr.length<10;)xr+=" ";mr.push(xr+(pr===0?" ":""))}ur.push(mr.join(""))}return ur.join(`
`)}return{to_workbook:or,to_sheet:ar,from_sheet:lr}}(),WK_=function(){function er(Rr,Or,Hr){if(Rr){prep_blob(Rr,Rr.l||0);for(var zr=Hr.Enum||Wr;Rr.l<Rr.length;){var Zr=Rr.read_shift(2),nn=zr[Zr]||zr[65535],vn=Rr.read_shift(2),hn=Rr.l+vn,En=nn.f&&nn.f(Rr,vn,Hr);if(Rr.l=hn,Or(En,nn,Zr))return}}}function St(Rr,Or){switch(Or.type){case"base64":return tr(s2a(Base64_decode(Rr)),Or);case"binary":return tr(s2a(Rr),Or);case"buffer":case"array":return tr(Rr,Or)}throw"Unsupported type "+Or.type}function tr(Rr,Or){if(!Rr)return Rr;var Hr=Or||{},zr=Hr.dense?[]:{},Zr="Sheet1",nn="",vn=0,hn={},En=[],Tn=[],bn={s:{r:0,c:0},e:{r:0,c:0}},Mn=Hr.sheetRows||0;if(Rr[2]==0&&(Rr[3]==8||Rr[3]==9)&&Rr.length>=16&&Rr[14]==5&&Rr[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Rr[2]==2)Hr.Enum=Wr,er(Rr,function(Gn,os,es){switch(es){case 0:Hr.vers=Gn,Gn>=4096&&(Hr.qpro=!0);break;case 6:bn=Gn;break;case 204:Gn&&(nn=Gn);break;case 222:nn=Gn;break;case 15:case 51:Hr.qpro||(Gn[1].v=Gn[1].v.slice(1));case 13:case 14:case 16:es==14&&(Gn[2]&112)==112&&(Gn[2]&15)>1&&(Gn[2]&15)<15&&(Gn[1].z=Hr.dateNF||table_fmt[14],Hr.cellDates&&(Gn[1].t="d",Gn[1].v=numdate(Gn[1].v))),Hr.qpro&&Gn[3]>vn&&(zr["!ref"]=encode_range(bn),hn[Zr]=zr,En.push(Zr),zr=Hr.dense?[]:{},bn={s:{r:0,c:0},e:{r:0,c:0}},vn=Gn[3],Zr=nn||"Sheet"+(vn+1),nn="");var cs=Hr.dense?(zr[Gn[0].r]||[])[Gn[0].c]:zr[encode_cell(Gn[0])];if(cs){cs.t=Gn[1].t,cs.v=Gn[1].v,Gn[1].z!=null&&(cs.z=Gn[1].z),Gn[1].f!=null&&(cs.f=Gn[1].f);break}Hr.dense?(zr[Gn[0].r]||(zr[Gn[0].r]=[]),zr[Gn[0].r][Gn[0].c]=Gn[1]):zr[encode_cell(Gn[0])]=Gn[1];break}},Hr);else if(Rr[2]==26||Rr[2]==14)Hr.Enum=qr,Rr[2]==14&&(Hr.qpro=!0,Rr.l=0),er(Rr,function(Gn,os,es){switch(es){case 204:Zr=Gn;break;case 22:Gn[1].v=Gn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Gn[3]>vn&&(zr["!ref"]=encode_range(bn),hn[Zr]=zr,En.push(Zr),zr=Hr.dense?[]:{},bn={s:{r:0,c:0},e:{r:0,c:0}},vn=Gn[3],Zr="Sheet"+(vn+1)),Mn>0&&Gn[0].r>=Mn)break;Hr.dense?(zr[Gn[0].r]||(zr[Gn[0].r]=[]),zr[Gn[0].r][Gn[0].c]=Gn[1]):zr[encode_cell(Gn[0])]=Gn[1],bn.e.c<Gn[0].c&&(bn.e.c=Gn[0].c),bn.e.r<Gn[0].r&&(bn.e.r=Gn[0].r);break;case 27:Gn[14e3]&&(Tn[Gn[14e3][0]]=Gn[14e3][1]);break;case 1537:Tn[Gn[0]]=Gn[1],Gn[0]==vn&&(Zr=Gn[1]);break}},Hr);else throw new Error("Unrecognized LOTUS BOF "+Rr[2]);if(zr["!ref"]=encode_range(bn),hn[nn||Zr]=zr,En.push(nn||Zr),!Tn.length)return{SheetNames:En,Sheets:hn};for(var Rn={},Nn=[],pn=0;pn<Tn.length;++pn)hn[En[pn]]?(Nn.push(Tn[pn]||En[pn]),Rn[Tn[pn]]=hn[Tn[pn]]||hn[En[pn]]):(Nn.push(Tn[pn]),Rn[Tn[pn]]={"!ref":"A1"});return{SheetNames:Nn,Sheets:Rn}}function rr(Rr,Or){var Hr=Or||{};if(+Hr.codepage>=0&&set_cp(+Hr.codepage),Hr.type=="string")throw new Error("Cannot write WK1 to JS string");var zr=buf_array(),Zr=safe_decode_range(Rr["!ref"]),nn=Array.isArray(Rr),vn=[];write_biff_rec(zr,0,sr(1030)),write_biff_rec(zr,6,or(Zr));for(var hn=Math.min(Zr.e.r,8191),En=Zr.s.r;En<=hn;++En)for(var Tn=encode_row(En),bn=Zr.s.c;bn<=Zr.e.c;++bn){En===Zr.s.r&&(vn[bn]=encode_col(bn));var Mn=vn[bn]+Tn,Rn=nn?(Rr[En]||[])[bn]:Rr[Mn];if(!(!Rn||Rn.t=="z"))if(Rn.t=="n")(Rn.v|0)==Rn.v&&Rn.v>=-32768&&Rn.v<=32767?write_biff_rec(zr,13,hr(En,bn,Rn.v)):write_biff_rec(zr,14,fr(En,bn,Rn.v));else{var Nn=format_cell(Rn);write_biff_rec(zr,15,ur(En,bn,Nn.slice(0,239)))}}return write_biff_rec(zr,1),zr.end()}function nr(Rr,Or){var Hr=Or||{};if(+Hr.codepage>=0&&set_cp(+Hr.codepage),Hr.type=="string")throw new Error("Cannot write WK3 to JS string");var zr=buf_array();write_biff_rec(zr,0,ir(Rr));for(var Zr=0,nn=0;Zr<Rr.SheetNames.length;++Zr)(Rr.Sheets[Rr.SheetNames[Zr]]||{})["!ref"]&&write_biff_rec(zr,27,Fr(Rr.SheetNames[Zr],nn++));var vn=0;for(Zr=0;Zr<Rr.SheetNames.length;++Zr){var hn=Rr.Sheets[Rr.SheetNames[Zr]];if(!(!hn||!hn["!ref"])){for(var En=safe_decode_range(hn["!ref"]),Tn=Array.isArray(hn),bn=[],Mn=Math.min(En.e.r,8191),Rn=En.s.r;Rn<=Mn;++Rn)for(var Nn=encode_row(Rn),pn=En.s.c;pn<=En.e.c;++pn){Rn===En.s.r&&(bn[pn]=encode_col(pn));var Gn=bn[pn]+Nn,os=Tn?(hn[Rn]||[])[pn]:hn[Gn];if(!(!os||os.t=="z"))if(os.t=="n")write_biff_rec(zr,23,Mr(Rn,pn,vn,os.v));else{var es=format_cell(os);write_biff_rec(zr,22,Sr(Rn,pn,vn,es.slice(0,239)))}}++vn}}return write_biff_rec(zr,1),zr.end()}function sr(Rr){var Or=new_buf(2);return Or.write_shift(2,Rr),Or}function ir(Rr){var Or=new_buf(26);Or.write_shift(2,4096),Or.write_shift(2,4),Or.write_shift(4,0);for(var Hr=0,zr=0,Zr=0,nn=0;nn<Rr.SheetNames.length;++nn){var vn=Rr.SheetNames[nn],hn=Rr.Sheets[vn];if(!(!hn||!hn["!ref"])){++Zr;var En=decode_range(hn["!ref"]);Hr<En.e.r&&(Hr=En.e.r),zr<En.e.c&&(zr=En.e.c)}}return Hr>8191&&(Hr=8191),Or.write_shift(2,Hr),Or.write_shift(1,Zr),Or.write_shift(1,zr),Or.write_shift(2,0),Or.write_shift(2,0),Or.write_shift(1,1),Or.write_shift(1,2),Or.write_shift(4,0),Or.write_shift(4,0),Or}function ar(Rr,Or,Hr){var zr={s:{c:0,r:0},e:{c:0,r:0}};return Or==8&&Hr.qpro?(zr.s.c=Rr.read_shift(1),Rr.l++,zr.s.r=Rr.read_shift(2),zr.e.c=Rr.read_shift(1),Rr.l++,zr.e.r=Rr.read_shift(2),zr):(zr.s.c=Rr.read_shift(2),zr.s.r=Rr.read_shift(2),Or==12&&Hr.qpro&&(Rr.l+=2),zr.e.c=Rr.read_shift(2),zr.e.r=Rr.read_shift(2),Or==12&&Hr.qpro&&(Rr.l+=2),zr.s.c==65535&&(zr.s.c=zr.e.c=zr.s.r=zr.e.r=0),zr)}function or(Rr){var Or=new_buf(8);return Or.write_shift(2,Rr.s.c),Or.write_shift(2,Rr.s.r),Or.write_shift(2,Rr.e.c),Or.write_shift(2,Rr.e.r),Or}function lr(Rr,Or,Hr){var zr=[{c:0,r:0},{t:"n",v:0},0,0];return Hr.qpro&&Hr.vers!=20768?(zr[0].c=Rr.read_shift(1),zr[3]=Rr.read_shift(1),zr[0].r=Rr.read_shift(2),Rr.l+=2):(zr[2]=Rr.read_shift(1),zr[0].c=Rr.read_shift(2),zr[0].r=Rr.read_shift(2)),zr}function cr(Rr,Or,Hr){var zr=Rr.l+Or,Zr=lr(Rr,Or,Hr);if(Zr[1].t="s",Hr.vers==20768){Rr.l++;var nn=Rr.read_shift(1);return Zr[1].v=Rr.read_shift(nn,"utf8"),Zr}return Hr.qpro&&Rr.l++,Zr[1].v=Rr.read_shift(zr-Rr.l,"cstr"),Zr}function ur(Rr,Or,Hr){var zr=new_buf(7+Hr.length);zr.write_shift(1,255),zr.write_shift(2,Or),zr.write_shift(2,Rr),zr.write_shift(1,39);for(var Zr=0;Zr<zr.length;++Zr){var nn=Hr.charCodeAt(Zr);zr.write_shift(1,nn>=128?95:nn)}return zr.write_shift(1,0),zr}function dr(Rr,Or,Hr){var zr=lr(Rr,Or,Hr);return zr[1].v=Rr.read_shift(2,"i"),zr}function hr(Rr,Or,Hr){var zr=new_buf(7);return zr.write_shift(1,255),zr.write_shift(2,Or),zr.write_shift(2,Rr),zr.write_shift(2,Hr,"i"),zr}function Ar(Rr,Or,Hr){var zr=lr(Rr,Or,Hr);return zr[1].v=Rr.read_shift(8,"f"),zr}function fr(Rr,Or,Hr){var zr=new_buf(13);return zr.write_shift(1,255),zr.write_shift(2,Or),zr.write_shift(2,Rr),zr.write_shift(8,Hr,"f"),zr}function mr(Rr,Or,Hr){var zr=Rr.l+Or,Zr=lr(Rr,Or,Hr);if(Zr[1].v=Rr.read_shift(8,"f"),Hr.qpro)Rr.l=zr;else{var nn=Rr.read_shift(2);yr(Rr.slice(Rr.l,Rr.l+nn),Zr),Rr.l+=nn}return Zr}function pr(Rr,Or,Hr){var zr=Or&32768;return Or&=-32769,Or=(zr?Rr:0)+(Or>=8192?Or-16384:Or),(zr?"":"$")+(Hr?encode_col(Or):encode_row(Or))}var gr={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},xr=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function yr(Rr,Or){prep_blob(Rr,0);for(var Hr=[],zr=0,Zr="",nn="",vn="",hn="";Rr.l<Rr.length;){var En=Rr[Rr.l++];switch(En){case 0:Hr.push(Rr.read_shift(8,"f"));break;case 1:nn=pr(Or[0].c,Rr.read_shift(2),!0),Zr=pr(Or[0].r,Rr.read_shift(2),!1),Hr.push(nn+Zr);break;case 2:{var Tn=pr(Or[0].c,Rr.read_shift(2),!0),bn=pr(Or[0].r,Rr.read_shift(2),!1);nn=pr(Or[0].c,Rr.read_shift(2),!0),Zr=pr(Or[0].r,Rr.read_shift(2),!1),Hr.push(Tn+bn+":"+nn+Zr)}break;case 3:if(Rr.l<Rr.length){console.error("WK1 premature formula end");return}break;case 4:Hr.push("("+Hr.pop()+")");break;case 5:Hr.push(Rr.read_shift(2));break;case 6:{for(var Mn="";En=Rr[Rr.l++];)Mn+=String.fromCharCode(En);Hr.push('"'+Mn.replace(/"/g,'""')+'"')}break;case 8:Hr.push("-"+Hr.pop());break;case 23:Hr.push("+"+Hr.pop());break;case 22:Hr.push("NOT("+Hr.pop()+")");break;case 20:case 21:hn=Hr.pop(),vn=Hr.pop(),Hr.push(["AND","OR"][En-20]+"("+vn+","+hn+")");break;default:if(En<32&&xr[En])hn=Hr.pop(),vn=Hr.pop(),Hr.push(vn+xr[En]+hn);else if(gr[En]){if(zr=gr[En][1],zr==69&&(zr=Rr[Rr.l++]),zr>Hr.length){console.error("WK1 bad formula parse 0x"+En.toString(16)+":|"+Hr.join("|")+"|");return}var Rn=Hr.slice(-zr);Hr.length-=zr,Hr.push(gr[En][0]+"("+Rn.join(",")+")")}else return En<=7?console.error("WK1 invalid opcode "+En.toString(16)):En<=24?console.error("WK1 unsupported op "+En.toString(16)):En<=30?console.error("WK1 invalid opcode "+En.toString(16)):En<=115?console.error("WK1 unsupported function opcode "+En.toString(16)):console.error("WK1 unrecognized opcode "+En.toString(16))}}Hr.length==1?Or[1].f=""+Hr[0]:console.error("WK1 bad formula parse |"+Hr.join("|")+"|")}function Er(Rr){var Or=[{c:0,r:0},{t:"n",v:0},0];return Or[0].r=Rr.read_shift(2),Or[3]=Rr[Rr.l++],Or[0].c=Rr[Rr.l++],Or}function _r(Rr,Or){var Hr=Er(Rr);return Hr[1].t="s",Hr[1].v=Rr.read_shift(Or-4,"cstr"),Hr}function Sr(Rr,Or,Hr,zr){var Zr=new_buf(6+zr.length);Zr.write_shift(2,Rr),Zr.write_shift(1,Hr),Zr.write_shift(1,Or),Zr.write_shift(1,39);for(var nn=0;nn<zr.length;++nn){var vn=zr.charCodeAt(nn);Zr.write_shift(1,vn>=128?95:vn)}return Zr.write_shift(1,0),Zr}function jr(Rr,Or){var Hr=Er(Rr);Hr[1].v=Rr.read_shift(2);var zr=Hr[1].v>>1;if(Hr[1].v&1)switch(zr&7){case 0:zr=(zr>>3)*5e3;break;case 1:zr=(zr>>3)*500;break;case 2:zr=(zr>>3)/20;break;case 3:zr=(zr>>3)/200;break;case 4:zr=(zr>>3)/2e3;break;case 5:zr=(zr>>3)/2e4;break;case 6:zr=(zr>>3)/16;break;case 7:zr=(zr>>3)/64;break}return Hr[1].v=zr,Hr}function Pr(Rr,Or){var Hr=Er(Rr),zr=Rr.read_shift(4),Zr=Rr.read_shift(4),nn=Rr.read_shift(2);if(nn==65535)return zr===0&&Zr===3221225472?(Hr[1].t="e",Hr[1].v=15):zr===0&&Zr===3489660928?(Hr[1].t="e",Hr[1].v=42):Hr[1].v=0,Hr;var vn=nn&32768;return nn=(nn&32767)-16446,Hr[1].v=(1-vn*2)*(Zr*Math.pow(2,nn+32)+zr*Math.pow(2,nn)),Hr}function Mr(Rr,Or,Hr,zr){var Zr=new_buf(14);if(Zr.write_shift(2,Rr),Zr.write_shift(1,Hr),Zr.write_shift(1,Or),zr==0)return Zr.write_shift(4,0),Zr.write_shift(4,0),Zr.write_shift(2,65535),Zr;var nn=0,vn=0,hn=0,En=0;return zr<0&&(nn=1,zr=-zr),vn=Math.log2(zr)|0,zr/=Math.pow(2,vn-31),En=zr>>>0,En&2147483648||(zr/=2,++vn,En=zr>>>0),zr-=En,En|=2147483648,En>>>=0,zr*=Math.pow(2,32),hn=zr>>>0,Zr.write_shift(4,hn),Zr.write_shift(4,En),vn+=16383+(nn?32768:0),Zr.write_shift(2,vn),Zr}function Ir(Rr,Or){var Hr=Pr(Rr);return Rr.l+=Or-14,Hr}function Lr(Rr,Or){var Hr=Er(Rr),zr=Rr.read_shift(4);return Hr[1].v=zr>>6,Hr}function Qr(Rr,Or){var Hr=Er(Rr),zr=Rr.read_shift(8,"f");return Hr[1].v=zr,Hr}function Yr(Rr,Or){var Hr=Qr(Rr);return Rr.l+=Or-10,Hr}function Gr(Rr,Or){return Rr[Rr.l+Or-1]==0?Rr.read_shift(Or,"cstr"):""}function $r(Rr,Or){var Hr=Rr[Rr.l++];Hr>Or-1&&(Hr=Or-1);for(var zr="";zr.length<Hr;)zr+=String.fromCharCode(Rr[Rr.l++]);return zr}function Vr(Rr,Or,Hr){if(!(!Hr.qpro||Or<21)){var zr=Rr.read_shift(1);Rr.l+=17,Rr.l+=1,Rr.l+=2;var Zr=Rr.read_shift(Or-21,"cstr");return[zr,Zr]}}function Tr(Rr,Or){for(var Hr={},zr=Rr.l+Or;Rr.l<zr;){var Zr=Rr.read_shift(2);if(Zr==14e3){for(Hr[Zr]=[0,""],Hr[Zr][0]=Rr.read_shift(2);Rr[Rr.l];)Hr[Zr][1]+=String.fromCharCode(Rr[Rr.l]),Rr.l++;Rr.l++}}return Hr}function Fr(Rr,Or){var Hr=new_buf(5+Rr.length);Hr.write_shift(2,14e3),Hr.write_shift(2,Or);for(var zr=0;zr<Rr.length;++zr){var Zr=Rr.charCodeAt(zr);Hr[Hr.l++]=Zr>127?95:Zr}return Hr[Hr.l++]=0,Hr}var Wr={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:ar},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:dr},14:{n:"NUMBER",f:Ar},15:{n:"LABEL",f:cr},16:{n:"FORMULA",f:mr},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:cr},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Gr},222:{n:"SHEETNAMELP",f:$r},65535:{n:""}},qr={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_r},23:{n:"NUMBER17",f:Pr},24:{n:"NUMBER18",f:jr},25:{n:"FORMULA19",f:Ir},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Tr},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Lr},38:{n:"??"},39:{n:"NUMBER27",f:Qr},40:{n:"FORMULA28",f:Yr},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Gr},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Vr},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:rr,book_to_wk3:nr,to_workbook:St}}(),straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(er,St){if(!St.bookSST)return"";var tr=[XML_HEADER];tr[tr.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:er.Count,uniqueCount:er.Unique});for(var rr=0;rr!=er.length;++rr)if(er[rr]!=null){var nr=er[rr],sr="<si>";nr.r?sr+=nr.r:(sr+="<t",nr.t||(nr.t=""),nr.t.match(straywsregex)&&(sr+=' xml:space="preserve"'),sr+=">"+escapexml(nr.t)+"</t>"),sr+="</si>",tr[tr.length]=sr}return tr.length>2&&(tr[tr.length]="</sst>",tr[1]=tr[1].replace("/>",">")),tr.join("")}function parse_BrtBeginSst(er){return[er.read_shift(4),er.read_shift(4)]}function write_BrtBeginSst(er,St){return St||(St=new_buf(8)),St.write_shift(4,er.Count),St.write_shift(4,er.Unique),St}var write_BrtSSTItem=write_RichStr;function write_sst_bin(er){var St=buf_array();write_record(St,159,write_BrtBeginSst(er));for(var tr=0;tr<er.length;++tr)write_record(St,19,write_BrtSSTItem(er[tr]));return write_record(St,160),St.end()}function _JS2ANSI(er){for(var St=[],tr=er.split(""),rr=0;rr<tr.length;++rr)St[rr]=tr[rr].charCodeAt(0);return St}function crypto_CreatePasswordVerifier_Method1(er){var St=0,tr,rr=_JS2ANSI(er),nr=rr.length+1,sr,ir,ar,or,lr;for(tr=new_raw_buf(nr),tr[0]=rr.length,sr=1;sr!=nr;++sr)tr[sr]=rr[sr-1];for(sr=nr-1;sr>=0;--sr)ir=tr[sr],ar=St&16384?1:0,or=St<<1&32767,lr=ar|or,St=lr^ir;return St^52811}var RTF=function(){function er(nr,sr){switch(sr.type){case"base64":return St(Base64_decode(nr),sr);case"binary":return St(nr,sr);case"buffer":return St(has_buf&&Buffer.isBuffer(nr)?nr.toString("binary"):a2s(nr),sr);case"array":return St(cc2str(nr),sr)}throw new Error("Unrecognized type "+sr.type)}function St(nr,sr){var ir=sr||{},ar=ir.dense?[]:{},or=nr.match(/\\trowd.*?\\row\b/g);if(!or.length)throw new Error("RTF missing table");var lr={s:{c:0,r:0},e:{c:0,r:or.length-1}};return or.forEach(function(cr,ur){Array.isArray(ar)&&(ar[ur]=[]);for(var dr=/\\\w+\b/g,hr=0,Ar,fr=-1;Ar=dr.exec(cr);){switch(Ar[0]){case"\\cell":var mr=cr.slice(hr,dr.lastIndex-Ar[0].length);if(mr[0]==" "&&(mr=mr.slice(1)),++fr,mr.length){var pr={v:mr,t:"s"};Array.isArray(ar)?ar[ur][fr]=pr:ar[encode_cell({r:ur,c:fr})]=pr}break}hr=dr.lastIndex}fr>lr.e.c&&(lr.e.c=fr)}),ar["!ref"]=encode_range(lr),ar}function tr(nr,sr){return sheet_to_workbook(er(nr,sr),sr)}function rr(nr){for(var sr=["{\\rtf1\\ansi"],ir=safe_decode_range(nr["!ref"]),ar,or=Array.isArray(nr),lr=ir.s.r;lr<=ir.e.r;++lr){sr.push("\\trowd\\trautofit1");for(var cr=ir.s.c;cr<=ir.e.c;++cr)sr.push("\\cellx"+(cr+1));for(sr.push("\\pard\\intbl"),cr=ir.s.c;cr<=ir.e.c;++cr){var ur=encode_cell({r:lr,c:cr});ar=or?(nr[lr]||[])[cr]:nr[ur],!(!ar||ar.v==null&&(!ar.f||ar.F))&&(sr.push(" "+(ar.w||(format_cell(ar),ar.w))),sr.push("\\cell"))}sr.push("\\pard\\intbl\\row")}return sr.join("")+"}"}return{to_workbook:tr,to_sheet:er,from_sheet:rr}}();function rgb2Hex(er){for(var St=0,tr=1;St!=3;++St)tr=tr*256+(er[St]>255?255:er[St]<0?0:er[St]);return tr.toString(16).toUpperCase().slice(1)}var DEF_MDW=6,MDW=DEF_MDW;function width2px(er){return Math.floor((er+Math.round(128/MDW)/256)*MDW)}function px2char(er){return Math.floor((er-5)/MDW*100+.5)/100}function char2width(er){return Math.round((er*MDW+5)/MDW*256)/256}function process_col(er){er.width?(er.wpx=width2px(er.width),er.wch=px2char(er.wpx),er.MDW=MDW):er.wpx?(er.wch=px2char(er.wpx),er.width=char2width(er.wch),er.MDW=MDW):typeof er.wch=="number"&&(er.width=char2width(er.wch),er.wpx=width2px(er.width),er.MDW=MDW),er.customWidth&&delete er.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(er){return er*96/PPI}function pt2px(er){return er*PPI/96}function write_numFmts(er){var St=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(tr){for(var rr=tr[0];rr<=tr[1];++rr)er[rr]!=null&&(St[St.length]=writextag("numFmt",null,{numFmtId:rr,formatCode:escapexml(er[rr])}))}),St.length===1?"":(St[St.length]="</numFmts>",St[0]=writextag("numFmts",null,{count:St.length-2}).replace("/>",">"),St.join(""))}function write_cellXfs(er){var St=[];return St[St.length]=writextag("cellXfs",null),er.forEach(function(tr){St[St.length]=writextag("xf",null,tr)}),St[St.length]="</cellXfs>",St.length===2?"":(St[0]=writextag("cellXfs",null,{count:St.length-2}).replace("/>",">"),St.join(""))}function write_sty_xml(er,St){var tr=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],rr;return er.SSF&&(rr=write_numFmts(er.SSF))!=null&&(tr[tr.length]=rr),tr[tr.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',tr[tr.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',tr[tr.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',tr[tr.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(rr=write_cellXfs(St.cellXfs))&&(tr[tr.length]=rr),tr[tr.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',tr[tr.length]='<dxfs count="0"/>',tr[tr.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',tr.length>2&&(tr[tr.length]="</styleSheet>",tr[1]=tr[1].replace("/>",">")),tr.join("")}function parse_BrtFmt(er,St){var tr=er.read_shift(2),rr=parse_XLWideString(er);return[tr,rr]}function write_BrtFmt(er,St,tr){tr||(tr=new_buf(6+4*St.length)),tr.write_shift(2,er),write_XLWideString(St,tr);var rr=tr.length>tr.l?tr.slice(0,tr.l):tr;return tr.l==null&&(tr.l=tr.length),rr}function parse_BrtFont(er,St,tr){var rr={};rr.sz=er.read_shift(2)/20;var nr=parse_FontFlags(er);nr.fItalic&&(rr.italic=1),nr.fCondense&&(rr.condense=1),nr.fExtend&&(rr.extend=1),nr.fShadow&&(rr.shadow=1),nr.fOutline&&(rr.outline=1),nr.fStrikeout&&(rr.strike=1);var sr=er.read_shift(2);switch(sr===700&&(rr.bold=1),er.read_shift(2)){case 1:rr.vertAlign="superscript";break;case 2:rr.vertAlign="subscript";break}var ir=er.read_shift(1);ir!=0&&(rr.underline=ir);var ar=er.read_shift(1);ar>0&&(rr.family=ar);var or=er.read_shift(1);switch(or>0&&(rr.charset=or),er.l++,rr.color=parse_BrtColor(er),er.read_shift(1)){case 1:rr.scheme="major";break;case 2:rr.scheme="minor";break}return rr.name=parse_XLWideString(er),rr}function write_BrtFont(er,St){St||(St=new_buf(25+4*32)),St.write_shift(2,er.sz*20),write_FontFlags(er,St),St.write_shift(2,er.bold?700:400);var tr=0;er.vertAlign=="superscript"?tr=1:er.vertAlign=="subscript"&&(tr=2),St.write_shift(2,tr),St.write_shift(1,er.underline||0),St.write_shift(1,er.family||0),St.write_shift(1,er.charset||0),St.write_shift(1,0),write_BrtColor(er.color,St);var rr=0;return rr=2,St.write_shift(1,rr),write_XLWideString(er.name,St),St.length>St.l?St.slice(0,St.l):St}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(er,St){St||(St=new_buf(4*3+8*7+16*1)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var tr=rev_XLSBFillPTNames[er.patternType];tr==null&&(tr=40),St.write_shift(4,tr);var rr=0;if(tr!=40)for(write_BrtColor({auto:1},St),write_BrtColor({auto:1},St);rr<12;++rr)St.write_shift(4,0);else{for(;rr<4;++rr)St.write_shift(4,0);for(;rr<12;++rr)St.write_shift(4,0)}return St.length>St.l?St.slice(0,St.l):St}function parse_BrtXF(er,St){var tr=er.l+St,rr=er.read_shift(2),nr=er.read_shift(2);return er.l=tr,{ixfe:rr,numFmtId:nr}}function write_BrtXF(er,St,tr){tr||(tr=new_buf(16)),tr.write_shift(2,St||0),tr.write_shift(2,er.numFmtId||0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(1,0),tr.write_shift(1,0);var rr=0;return tr.write_shift(1,rr),tr.write_shift(1,0),tr.write_shift(1,0),tr.write_shift(1,0),tr}function write_Blxf(er,St){return St||(St=new_buf(10)),St.write_shift(1,0),St.write_shift(1,0),St.write_shift(4,0),St.write_shift(4,0),St}var parse_BrtBorder=parsenoop;function write_BrtBorder(er,St){return St||(St=new_buf(51)),St.write_shift(1,0),write_Blxf(null,St),write_Blxf(null,St),write_Blxf(null,St),write_Blxf(null,St),write_Blxf(null,St),St.length>St.l?St.slice(0,St.l):St}function write_BrtStyle(er,St){return St||(St=new_buf(12+4*10)),St.write_shift(4,er.xfId),St.write_shift(2,1),St.write_shift(1,0),St.write_shift(1,0),write_XLNullableWideString(er.name||"",St),St.length>St.l?St.slice(0,St.l):St}function write_BrtBeginTableStyles(er,St,tr){var rr=new_buf(2052);return rr.write_shift(4,er),write_XLNullableWideString(St,rr),write_XLNullableWideString(tr,rr),rr.length>rr.l?rr.slice(0,rr.l):rr}function write_FMTS_bin(er,St){if(St){var tr=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)St[nr]!=null&&++tr}),tr!=0&&(write_record(er,615,write_UInt32LE(tr)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)St[nr]!=null&&write_record(er,44,write_BrtFmt(nr,St[nr]))}),write_record(er,616))}}function write_FONTS_bin(er){var St=1;write_record(er,611,write_UInt32LE(St)),write_record(er,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(er,612)}function write_FILLS_bin(er){var St=2;write_record(er,603,write_UInt32LE(St)),write_record(er,45,write_BrtFill({patternType:"none"})),write_record(er,45,write_BrtFill({patternType:"gray125"})),write_record(er,604)}function write_BORDERS_bin(er){var St=1;write_record(er,613,write_UInt32LE(St)),write_record(er,46,write_BrtBorder()),write_record(er,614)}function write_CELLSTYLEXFS_bin(er){var St=1;write_record(er,626,write_UInt32LE(St)),write_record(er,47,write_BrtXF({numFmtId:0},65535)),write_record(er,627)}function write_CELLXFS_bin(er,St){write_record(er,617,write_UInt32LE(St.length)),St.forEach(function(tr){write_record(er,47,write_BrtXF(tr,0))}),write_record(er,618)}function write_STYLES_bin(er){var St=1;write_record(er,619,write_UInt32LE(St)),write_record(er,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(er,620)}function write_DXFS_bin(er){var St=0;write_record(er,505,write_UInt32LE(St)),write_record(er,506)}function write_TABLESTYLES_bin(er){var St=0;write_record(er,508,write_BrtBeginTableStyles(St,"TableStyleMedium9","PivotStyleMedium4")),write_record(er,509)}function write_sty_bin(er,St){var tr=buf_array();return write_record(tr,278),write_FMTS_bin(tr,er.SSF),write_FONTS_bin(tr),write_FILLS_bin(tr),write_BORDERS_bin(tr),write_CELLSTYLEXFS_bin(tr),write_CELLXFS_bin(tr,St.cellXfs),write_STYLES_bin(tr),write_DXFS_bin(tr),write_TABLESTYLES_bin(tr),write_record(tr,279),tr.end()}function write_theme(er,St){if(St&&St.themeXLSX)return St.themeXLSX;if(er&&typeof er.raw=="string")return er.raw;var tr=[XML_HEADER];return tr[tr.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',tr[tr.length]="<a:themeElements>",tr[tr.length]='<a:clrScheme name="Office">',tr[tr.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',tr[tr.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',tr[tr.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',tr[tr.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',tr[tr.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',tr[tr.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',tr[tr.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',tr[tr.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',tr[tr.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',tr[tr.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',tr[tr.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',tr[tr.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',tr[tr.length]="</a:clrScheme>",tr[tr.length]='<a:fontScheme name="Office">',tr[tr.length]="<a:majorFont>",tr[tr.length]='<a:latin typeface="Cambria"/>',tr[tr.length]='<a:ea typeface=""/>',tr[tr.length]='<a:cs typeface=""/>',tr[tr.length]='<a:font script="Jpan" typeface=" "/>',tr[tr.length]='<a:font script="Hang" typeface=" "/>',tr[tr.length]='<a:font script="Hans" typeface=""/>',tr[tr.length]='<a:font script="Hant" typeface=""/>',tr[tr.length]='<a:font script="Arab" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Hebr" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Thai" typeface="Tahoma"/>',tr[tr.length]='<a:font script="Ethi" typeface="Nyala"/>',tr[tr.length]='<a:font script="Beng" typeface="Vrinda"/>',tr[tr.length]='<a:font script="Gujr" typeface="Shruti"/>',tr[tr.length]='<a:font script="Khmr" typeface="MoolBoran"/>',tr[tr.length]='<a:font script="Knda" typeface="Tunga"/>',tr[tr.length]='<a:font script="Guru" typeface="Raavi"/>',tr[tr.length]='<a:font script="Cans" typeface="Euphemia"/>',tr[tr.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',tr[tr.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',tr[tr.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',tr[tr.length]='<a:font script="Thaa" typeface="MV Boli"/>',tr[tr.length]='<a:font script="Deva" typeface="Mangal"/>',tr[tr.length]='<a:font script="Telu" typeface="Gautami"/>',tr[tr.length]='<a:font script="Taml" typeface="Latha"/>',tr[tr.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',tr[tr.length]='<a:font script="Orya" typeface="Kalinga"/>',tr[tr.length]='<a:font script="Mlym" typeface="Kartika"/>',tr[tr.length]='<a:font script="Laoo" typeface="DokChampa"/>',tr[tr.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',tr[tr.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',tr[tr.length]='<a:font script="Viet" typeface="Times New Roman"/>',tr[tr.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',tr[tr.length]='<a:font script="Geor" typeface="Sylfaen"/>',tr[tr.length]="</a:majorFont>",tr[tr.length]="<a:minorFont>",tr[tr.length]='<a:latin typeface="Calibri"/>',tr[tr.length]='<a:ea typeface=""/>',tr[tr.length]='<a:cs typeface=""/>',tr[tr.length]='<a:font script="Jpan" typeface=" "/>',tr[tr.length]='<a:font script="Hang" typeface=" "/>',tr[tr.length]='<a:font script="Hans" typeface=""/>',tr[tr.length]='<a:font script="Hant" typeface=""/>',tr[tr.length]='<a:font script="Arab" typeface="Arial"/>',tr[tr.length]='<a:font script="Hebr" typeface="Arial"/>',tr[tr.length]='<a:font script="Thai" typeface="Tahoma"/>',tr[tr.length]='<a:font script="Ethi" typeface="Nyala"/>',tr[tr.length]='<a:font script="Beng" typeface="Vrinda"/>',tr[tr.length]='<a:font script="Gujr" typeface="Shruti"/>',tr[tr.length]='<a:font script="Khmr" typeface="DaunPenh"/>',tr[tr.length]='<a:font script="Knda" typeface="Tunga"/>',tr[tr.length]='<a:font script="Guru" typeface="Raavi"/>',tr[tr.length]='<a:font script="Cans" typeface="Euphemia"/>',tr[tr.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',tr[tr.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',tr[tr.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',tr[tr.length]='<a:font script="Thaa" typeface="MV Boli"/>',tr[tr.length]='<a:font script="Deva" typeface="Mangal"/>',tr[tr.length]='<a:font script="Telu" typeface="Gautami"/>',tr[tr.length]='<a:font script="Taml" typeface="Latha"/>',tr[tr.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',tr[tr.length]='<a:font script="Orya" typeface="Kalinga"/>',tr[tr.length]='<a:font script="Mlym" typeface="Kartika"/>',tr[tr.length]='<a:font script="Laoo" typeface="DokChampa"/>',tr[tr.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',tr[tr.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',tr[tr.length]='<a:font script="Viet" typeface="Arial"/>',tr[tr.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',tr[tr.length]='<a:font script="Geor" typeface="Sylfaen"/>',tr[tr.length]="</a:minorFont>",tr[tr.length]="</a:fontScheme>",tr[tr.length]='<a:fmtScheme name="Office">',tr[tr.length]="<a:fillStyleLst>",tr[tr.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:lin ang="16200000" scaled="1"/>',tr[tr.length]="</a:gradFill>",tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:lin ang="16200000" scaled="0"/>',tr[tr.length]="</a:gradFill>",tr[tr.length]="</a:fillStyleLst>",tr[tr.length]="<a:lnStyleLst>",tr[tr.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',tr[tr.length]="</a:lnStyleLst>",tr[tr.length]="<a:effectStyleLst>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]="</a:effectStyle>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]="</a:effectStyle>",tr[tr.length]="<a:effectStyle>",tr[tr.length]="<a:effectLst>",tr[tr.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',tr[tr.length]="</a:effectLst>",tr[tr.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',tr[tr.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',tr[tr.length]="</a:effectStyle>",tr[tr.length]="</a:effectStyleLst>",tr[tr.length]="<a:bgFillStyleLst>",tr[tr.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',tr[tr.length]="</a:gradFill>",tr[tr.length]='<a:gradFill rotWithShape="1">',tr[tr.length]="<a:gsLst>",tr[tr.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',tr[tr.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',tr[tr.length]="</a:gsLst>",tr[tr.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',tr[tr.length]="</a:gradFill>",tr[tr.length]="</a:bgFillStyleLst>",tr[tr.length]="</a:fmtScheme>",tr[tr.length]="</a:themeElements>",tr[tr.length]="<a:objectDefaults>",tr[tr.length]="<a:spDef>",tr[tr.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',tr[tr.length]="</a:spDef>",tr[tr.length]="<a:lnDef>",tr[tr.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',tr[tr.length]="</a:lnDef>",tr[tr.length]="</a:objectDefaults>",tr[tr.length]="<a:extraClrSchemeLst/>",tr[tr.length]="</a:theme>",tr.join("")}function parse_BrtMdtinfo(er,St){return{flags:er.read_shift(4),version:er.read_shift(4),name:parse_XLWideString(er)}}function write_BrtMdtinfo(er){var St=new_buf(12+2*er.name.length);return St.write_shift(4,er.flags),St.write_shift(4,er.version),write_XLWideString(er.name,St),St.slice(0,St.l)}function parse_BrtMdb(er){for(var St=[],tr=er.read_shift(4);tr-- >0;)St.push([er.read_shift(4),er.read_shift(4)]);return St}function write_BrtMdb(er){var St=new_buf(4+8*er.length);St.write_shift(4,er.length);for(var tr=0;tr<er.length;++tr)St.write_shift(4,er[tr][0]),St.write_shift(4,er[tr][1]);return St}function write_BrtBeginEsfmd(er,St){var tr=new_buf(8+2*St.length);return tr.write_shift(4,er),write_XLWideString(St,tr),tr.slice(0,tr.l)}function parse_BrtBeginEsmdb(er){return er.l+=4,er.read_shift(4)!=0}function write_BrtBeginEsmdb(er,St){var tr=new_buf(8);return tr.write_shift(4,er),tr.write_shift(4,1),tr}function write_xlmeta_bin(){var er=buf_array();return write_record(er,332),write_record(er,334,write_UInt32LE(1)),write_record(er,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(er,336),write_record(er,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(er,52),write_record(er,35,write_UInt32LE(514)),write_record(er,4096,write_UInt32LE(0)),write_record(er,4097,writeuint16(1)),write_record(er,36),write_record(er,53),write_record(er,340),write_record(er,337,write_BrtBeginEsmdb(1)),write_record(er,51,write_BrtMdb([[1,0]])),write_record(er,338),write_record(er,333),er.end()}function write_xlmeta_xml(){var er=[XML_HEADER];return er.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),er.join("")}function parse_BrtCalcChainItem$(er){var St={};St.i=er.read_shift(4);var tr={};tr.r=er.read_shift(4),tr.c=er.read_shift(4),St.r=encode_cell(tr);var rr=er.read_shift(1);return rr&2&&(St.l="1"),rr&8&&(St.a="1"),St}var _shapeid=1024;function write_comments_vml(er,St){for(var tr=[21600,21600],rr=["m0,0l0",tr[1],tr[0],tr[1],tr[0],"0xe"].join(","),nr=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:er}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:tr.join(","),path:rr})];_shapeid<er*1e3;)_shapeid+=1e3;return St.forEach(function(sr){var ir=decode_cell(sr[0]),ar={color2:"#BEFF82",type:"gradient"};ar.type=="gradient"&&(ar.angle="-180");var or=ar.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,lr=writextag("v:fill",or,ar),cr={on:"t",obscured:"t"};++_shapeid,nr=nr.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(sr[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",lr,writextag("v:shadow",null,cr),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[ir.c+1,0,ir.r+1,0,ir.c+3,20,ir.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(ir.r)),writetag("x:Column",String(ir.c)),sr[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),nr.push("</xml>"),nr.join("")}function write_comments_xml(er){var St=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],tr=[];return St.push("<authors>"),er.forEach(function(rr){rr[1].forEach(function(nr){var sr=escapexml(nr.a);tr.indexOf(sr)==-1&&(tr.push(sr),St.push("<author>"+sr+"</author>")),nr.T&&nr.ID&&tr.indexOf("tc="+nr.ID)==-1&&(tr.push("tc="+nr.ID),St.push("<author>tc="+nr.ID+"</author>"))})}),tr.length==0&&(tr.push("SheetJ5"),St.push("<author>SheetJ5</author>")),St.push("</authors>"),St.push("<commentList>"),er.forEach(function(rr){var nr=0,sr=[];if(rr[1][0]&&rr[1][0].T&&rr[1][0].ID?nr=tr.indexOf("tc="+rr[1][0].ID):rr[1].forEach(function(or){or.a&&(nr=tr.indexOf(escapexml(or.a))),sr.push(or.t||"")}),St.push('<comment ref="'+rr[0]+'" authorId="'+nr+'"><text>'),sr.length<=1)St.push(writetag("t",escapexml(sr[0]||"")));else{for(var ir=`Comment:
    `+sr[0]+`
`,ar=1;ar<sr.length;++ar)ir+=`Reply:
    `+sr[ar]+`
`;St.push(writetag("t",escapexml(ir)))}St.push("</text></comment>")}),St.push("</commentList>"),St.length>2&&(St[St.length]="</comments>",St[1]=St[1].replace("/>",">")),St.join("")}function write_tcmnt_xml(er,St,tr){var rr=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return er.forEach(function(nr){var sr="";(nr[1]||[]).forEach(function(ir,ar){if(!ir.T){delete ir.ID;return}ir.a&&St.indexOf(ir.a)==-1&&St.push(ir.a);var or={ref:nr[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+tr.tcid++).slice(-12)+"}"};ar==0?sr=or.id:or.parentId=sr,ir.ID=or.id,ir.a&&(or.personId="{54EE7950-7262-4200-6969-"+("000000000000"+St.indexOf(ir.a)).slice(-12)+"}"),rr.push(writextag("threadedComment",writetag("text",ir.t||""),or))})}),rr.push("</ThreadedComments>"),rr.join("")}function write_people_xml(er){var St=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return er.forEach(function(tr,rr){St.push(writextag("person",null,{displayName:tr,id:"{54EE7950-7262-4200-6969-"+("000000000000"+rr).slice(-12)+"}",userId:tr,providerId:"None"}))}),St.push("</personList>"),St.join("")}function parse_BrtBeginComment(er){var St={};St.iauthor=er.read_shift(4);var tr=parse_UncheckedRfX(er);return St.rfx=tr.s,St.ref=encode_cell(tr.s),er.l+=16,St}function write_BrtBeginComment(er,St){return St==null&&(St=new_buf(36)),St.write_shift(4,er[1].iauthor),write_UncheckedRfX(er[0],St),St.write_shift(4,0),St.write_shift(4,0),St.write_shift(4,0),St.write_shift(4,0),St}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(er){return write_XLWideString(er.slice(0,54))}function write_comments_bin(er){var St=buf_array(),tr=[];return write_record(St,628),write_record(St,630),er.forEach(function(rr){rr[1].forEach(function(nr){tr.indexOf(nr.a)>-1||(tr.push(nr.a.slice(0,54)),write_record(St,632,write_BrtCommentAuthor(nr.a)))})}),write_record(St,631),write_record(St,633),er.forEach(function(rr){rr[1].forEach(function(nr){nr.iauthor=tr.indexOf(nr.a);var sr={s:decode_cell(rr[0]),e:decode_cell(rr[0])};write_record(St,635,write_BrtBeginComment([sr,nr])),nr.t&&nr.t.length>0&&write_record(St,637,write_BrtCommentText(nr)),write_record(St,636),delete nr.iauthor})}),write_record(St,634),write_record(St,629),St.end()}function fill_vba_xls(er,St){St.FullPaths.forEach(function(tr,rr){if(rr!=0){var nr=tr.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");nr.slice(-1)!=="/"&&CFB.utils.cfb_add(er,nr,St.FileIndex[rr].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"],rc_to_a1=function(){var er=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,St={r:0,c:0};function tr(rr,nr,sr,ir){var ar=!1,or=!1;sr.length==0?or=!0:sr.charAt(0)=="["&&(or=!0,sr=sr.slice(1,-1)),ir.length==0?ar=!0:ir.charAt(0)=="["&&(ar=!0,ir=ir.slice(1,-1));var lr=sr.length>0?parseInt(sr,10)|0:0,cr=ir.length>0?parseInt(ir,10)|0:0;return ar?cr+=St.c:--cr,or?lr+=St.r:--lr,nr+(ar?"":"$")+encode_col(cr)+(or?"":"$")+encode_row(lr)}return function(nr,sr){return St=sr,nr.replace(er,tr)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(){return function(St,tr){return St.replace(crefregex,function(rr,nr,sr,ir,ar,or){var lr=decode_col(ir)-(sr?0:tr.c),cr=decode_row(or)-(ar?0:tr.r),ur=cr==0?"":ar?cr+1:"["+cr+"]",dr=lr==0?"":sr?lr+1:"["+lr+"]";return nr+"R"+ur+"C"+dr})}}();function shift_formula_str(er,St){return er.replace(crefregex,function(tr,rr,nr,sr,ir,ar){return rr+(nr=="$"?nr+sr:encode_col(decode_col(sr)+St.c))+(ir=="$"?ir+ar:encode_row(decode_row(ar)+St.r))})}function fuzzyfmla(er){return er.length!=1}function parseread1(er){er.l+=1}function parse_ColRelU(er,St){var tr=er.read_shift(2);return[tr&16383,tr>>14&1,tr>>15&1]}function parse_RgceArea(er,St,tr){var rr=2;if(tr){if(tr.biff>=2&&tr.biff<=5)return parse_RgceArea_BIFF2(er);tr.biff==12&&(rr=4)}var nr=er.read_shift(rr),sr=er.read_shift(rr),ir=parse_ColRelU(er),ar=parse_ColRelU(er);return{s:{r:nr,c:ir[0],cRel:ir[1],rRel:ir[2]},e:{r:sr,c:ar[0],cRel:ar[1],rRel:ar[2]}}}function parse_RgceArea_BIFF2(er){var St=parse_ColRelU(er),tr=parse_ColRelU(er),rr=er.read_shift(1),nr=er.read_shift(1);return{s:{r:St[0],c:rr,cRel:St[1],rRel:St[2]},e:{r:tr[0],c:nr,cRel:tr[1],rRel:tr[2]}}}function parse_RgceAreaRel(er,St,tr){if(tr.biff<8)return parse_RgceArea_BIFF2(er);var rr=er.read_shift(tr.biff==12?4:2),nr=er.read_shift(tr.biff==12?4:2),sr=parse_ColRelU(er),ir=parse_ColRelU(er);return{s:{r:rr,c:sr[0],cRel:sr[1],rRel:sr[2]},e:{r:nr,c:ir[0],cRel:ir[1],rRel:ir[2]}}}function parse_RgceLoc(er,St,tr){if(tr&&tr.biff>=2&&tr.biff<=5)return parse_RgceLoc_BIFF2(er);var rr=er.read_shift(tr&&tr.biff==12?4:2),nr=parse_ColRelU(er);return{r:rr,c:nr[0],cRel:nr[1],rRel:nr[2]}}function parse_RgceLoc_BIFF2(er){var St=parse_ColRelU(er),tr=er.read_shift(1);return{r:St[0],c:tr,cRel:St[1],rRel:St[2]}}function parse_RgceElfLoc(er){var St=er.read_shift(2),tr=er.read_shift(2);return{r:St,c:tr&255,fQuoted:!!(tr&16384),cRel:tr>>15,rRel:tr>>15}}function parse_RgceLocRel(er,St,tr){var rr=tr&&tr.biff?tr.biff:8;if(rr>=2&&rr<=5)return parse_RgceLocRel_BIFF2(er);var nr=er.read_shift(rr>=12?4:2),sr=er.read_shift(2),ir=(sr&16384)>>14,ar=(sr&32768)>>15;if(sr&=16383,ar==1)for(;nr>524287;)nr-=1048576;if(ir==1)for(;sr>8191;)sr=sr-16384;return{r:nr,c:sr,cRel:ir,rRel:ar}}function parse_RgceLocRel_BIFF2(er){var St=er.read_shift(2),tr=er.read_shift(1),rr=(St&32768)>>15,nr=(St&16384)>>14;return St&=16383,rr==1&&St>=8192&&(St=St-16384),nr==1&&tr>=128&&(tr=tr-256),{r:St,c:tr,cRel:nr,rRel:rr}}function parse_PtgArea(er,St,tr){var rr=(er[er.l++]&96)>>5,nr=parse_RgceArea(er,tr.biff>=2&&tr.biff<=5?6:8,tr);return[rr,nr]}function parse_PtgArea3d(er,St,tr){var rr=(er[er.l++]&96)>>5,nr=er.read_shift(2,"i"),sr=8;if(tr)switch(tr.biff){case 5:er.l+=12,sr=6;break;case 12:sr=12;break}var ir=parse_RgceArea(er,sr,tr);return[rr,nr,ir]}function parse_PtgAreaErr(er,St,tr){var rr=(er[er.l++]&96)>>5;return er.l+=tr&&tr.biff>8?12:tr.biff<8?6:8,[rr]}function parse_PtgAreaErr3d(er,St,tr){var rr=(er[er.l++]&96)>>5,nr=er.read_shift(2),sr=8;if(tr)switch(tr.biff){case 5:er.l+=12,sr=6;break;case 12:sr=12;break}return er.l+=sr,[rr,nr]}function parse_PtgAreaN(er,St,tr){var rr=(er[er.l++]&96)>>5,nr=parse_RgceAreaRel(er,St-1,tr);return[rr,nr]}function parse_PtgArray(er,St,tr){var rr=(er[er.l++]&96)>>5;return er.l+=tr.biff==2?6:tr.biff==12?14:7,[rr]}function parse_PtgAttrBaxcel(er){var St=er[er.l+1]&1,tr=1;return er.l+=4,[St,tr]}function parse_PtgAttrChoose(er,St,tr){er.l+=2;for(var rr=er.read_shift(tr&&tr.biff==2?1:2),nr=[],sr=0;sr<=rr;++sr)nr.push(er.read_shift(tr&&tr.biff==2?1:2));return nr}function parse_PtgAttrGoto(er,St,tr){var rr=er[er.l+1]&255?1:0;return er.l+=2,[rr,er.read_shift(tr&&tr.biff==2?1:2)]}function parse_PtgAttrIf(er,St,tr){var rr=er[er.l+1]&255?1:0;return er.l+=2,[rr,er.read_shift(tr&&tr.biff==2?1:2)]}function parse_PtgAttrIfError(er){var St=er[er.l+1]&255?1:0;return er.l+=2,[St,er.read_shift(2)]}function parse_PtgAttrSemi(er,St,tr){var rr=er[er.l+1]&255?1:0;return er.l+=tr&&tr.biff==2?3:4,[rr]}function parse_PtgAttrSpaceType(er){var St=er.read_shift(1),tr=er.read_shift(1);return[St,tr]}function parse_PtgAttrSpace(er){return er.read_shift(2),parse_PtgAttrSpaceType(er)}function parse_PtgAttrSpaceSemi(er){return er.read_shift(2),parse_PtgAttrSpaceType(er)}function parse_PtgRef(er,St,tr){var rr=(er[er.l]&96)>>5;er.l+=1;var nr=parse_RgceLoc(er,0,tr);return[rr,nr]}function parse_PtgRefN(er,St,tr){var rr=(er[er.l]&96)>>5;er.l+=1;var nr=parse_RgceLocRel(er,0,tr);return[rr,nr]}function parse_PtgRef3d(er,St,tr){var rr=(er[er.l]&96)>>5;er.l+=1;var nr=er.read_shift(2);tr&&tr.biff==5&&(er.l+=12);var sr=parse_RgceLoc(er,0,tr);return[rr,nr,sr]}function parse_PtgFunc(er,St,tr){var rr=(er[er.l]&96)>>5;er.l+=1;var nr=er.read_shift(tr&&tr.biff<=3?1:2);return[FtabArgc[nr],Ftab[nr],rr]}function parse_PtgFuncVar(er,St,tr){var rr=er[er.l++],nr=er.read_shift(1),sr=tr&&tr.biff<=3?[rr==88?-1:0,er.read_shift(1)]:parsetab(er);return[nr,(sr[0]===0?Ftab:Cetab)[sr[1]]]}function parsetab(er){return[er[er.l+1]>>7,er.read_shift(2)&32767]}function parse_PtgAttrSum(er,St,tr){er.l+=tr&&tr.biff==2?3:4}function parse_PtgExp(er,St,tr){if(er.l++,tr&&tr.biff==12)return[er.read_shift(4,"i"),0];var rr=er.read_shift(2),nr=er.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgErr(er){return er.l++,BErr[er.read_shift(1)]}function parse_PtgInt(er){return er.l++,er.read_shift(2)}function parse_PtgBool(er){return er.l++,er.read_shift(1)!==0}function parse_PtgNum(er){return er.l++,parse_Xnum(er)}function parse_PtgStr(er,St,tr){return er.l++,parse_ShortXLUnicodeString(er,St-1,tr)}function parse_SerAr(er,St){var tr=[er.read_shift(1)];if(St==12)switch(tr[0]){case 2:tr[0]=4;break;case 4:tr[0]=16;break;case 0:tr[0]=1;break;case 1:tr[0]=2;break}switch(tr[0]){case 4:tr[1]=parsebool(er,1)?"TRUE":"FALSE",St!=12&&(er.l+=7);break;case 37:case 16:tr[1]=BErr[er[er.l]],er.l+=St==12?4:8;break;case 0:er.l+=8;break;case 1:tr[1]=parse_Xnum(er);break;case 2:tr[1]=parse_XLUnicodeString2(er,0,{biff:St>0&&St<8?2:St});break;default:throw new Error("Bad SerAr: "+tr[0])}return tr}function parse_PtgExtraMem(er,St,tr){for(var rr=er.read_shift(tr.biff==12?4:2),nr=[],sr=0;sr!=rr;++sr)nr.push((tr.biff==12?parse_UncheckedRfX:parse_Ref8U)(er));return nr}function parse_PtgExtraArray(er,St,tr){var rr=0,nr=0;tr.biff==12?(rr=er.read_shift(4),nr=er.read_shift(4)):(nr=1+er.read_shift(1),rr=1+er.read_shift(2)),tr.biff>=2&&tr.biff<8&&(--rr,--nr==0&&(nr=256));for(var sr=0,ir=[];sr!=rr&&(ir[sr]=[]);++sr)for(var ar=0;ar!=nr;++ar)ir[sr][ar]=parse_SerAr(er,tr.biff);return ir}function parse_PtgName(er,St,tr){var rr=er.read_shift(1)>>>5&3,nr=!tr||tr.biff>=8?4:2,sr=er.read_shift(nr);switch(tr.biff){case 2:er.l+=5;break;case 3:case 4:er.l+=8;break;case 5:er.l+=12;break}return[rr,0,sr]}function parse_PtgNameX(er,St,tr){if(tr.biff==5)return parse_PtgNameX_BIFF5(er);var rr=er.read_shift(1)>>>5&3,nr=er.read_shift(2),sr=er.read_shift(4);return[rr,nr,sr]}function parse_PtgNameX_BIFF5(er){var St=er.read_shift(1)>>>5&3,tr=er.read_shift(2,"i");er.l+=8;var rr=er.read_shift(2);return er.l+=12,[St,tr,rr]}function parse_PtgMemArea(er,St,tr){var rr=er.read_shift(1)>>>5&3;er.l+=tr&&tr.biff==2?3:4;var nr=er.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgMemFunc(er,St,tr){var rr=er.read_shift(1)>>>5&3,nr=er.read_shift(tr&&tr.biff==2?1:2);return[rr,nr]}function parse_PtgRefErr(er,St,tr){var rr=er.read_shift(1)>>>5&3;return er.l+=4,tr.biff<8&&er.l--,tr.biff==12&&(er.l+=2),[rr]}function parse_PtgRefErr3d(er,St,tr){var rr=(er[er.l++]&96)>>5,nr=er.read_shift(2),sr=4;if(tr)switch(tr.biff){case 5:sr=15;break;case 12:sr=6;break}return er.l+=sr,[rr,nr]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(er,St,tr){return er.l+=2,[parse_RgceElfLoc(er)]}function parse_PtgElfNoop(er){return er.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(er){return er.l+=2,[parseuint16(er),er.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(er){er.l+=2;var St=er.read_shift(2),tr=er.read_shift(2),rr=er.read_shift(4),nr=er.read_shift(2),sr=er.read_shift(2),ir=PtgListRT[tr>>2&31];return{ixti:St,coltype:tr&3,rt:ir,idx:rr,c:nr,C:sr}}function parse_PtgSxName(er){return er.l+=2,[er.read_shift(4)]}function parse_PtgSheet(er,St,tr){return er.l+=5,er.l+=2,er.l+=tr.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(er,St,tr){return er.l+=tr.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(er){var St=er.read_shift(1)>>>5&3,tr=er.read_shift(2);return[St,tr]}function parse_PtgMemNoMemN(er){var St=er.read_shift(1)>>>5&3,tr=er.read_shift(2);return[St,tr]}function parse_PtgAttrNoop(er){return er.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(er,St,tr,rr){if(rr.biff<8)return parsenoop(er,St);for(var nr=er.l+St,sr=[],ir=0;ir!==tr.length;++ir)switch(tr[ir][0]){case"PtgArray":tr[ir][1]=parse_PtgExtraArray(er,0,rr),sr.push(tr[ir][1]);break;case"PtgMemArea":tr[ir][2]=parse_PtgExtraMem(er,tr[ir][1],rr),sr.push(tr[ir][2]);break;case"PtgExp":rr&&rr.biff==12&&(tr[ir][1][1]=er.read_shift(4),sr.push(tr[ir][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+tr[ir][0]}return St=nr-er.l,St!==0&&sr.push(parsenoop(er,St)),sr}function parse_Rgce(er,St,tr){for(var rr=er.l+St,nr,sr,ir=[];rr!=er.l;)St=rr-er.l,sr=er[er.l],nr=PtgTypes[sr]||PtgTypes[PtgDupes[sr]],(sr===24||sr===25)&&(nr=(sr===24?Ptg18:Ptg19)[er[er.l+1]]),!nr||!nr.f?parsenoop(er,St):ir.push([nr.n,nr.f(er,St,tr)]);return ir}function stringify_array(er){for(var St=[],tr=0;tr<er.length;++tr){for(var rr=er[tr],nr=[],sr=0;sr<rr.length;++sr){var ir=rr[sr];if(ir)switch(ir[0]){case 2:nr.push('"'+ir[1].replace(/"/g,'""')+'"');break;default:nr.push(ir[1])}else nr.push("")}St.push(nr.join(","))}return St.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(er,St){if(!er&&!(St&&St.biff<=5&&St.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(er)?"'"+er+"'":er}function get_ixti_raw(er,St,tr){if(!er)return"SH33TJSERR0";if(tr.biff>8&&(!er.XTI||!er.XTI[St]))return er.SheetNames[St];if(!er.XTI)return"SH33TJSERR6";var rr=er.XTI[St];if(tr.biff<8)return St>1e4&&(St-=65536),St<0&&(St=-St),St==0?"":er.XTI[St-1];if(!rr)return"SH33TJSERR1";var nr="";if(tr.biff>8)switch(er[rr[0]][0]){case 357:return nr=rr[1]==-1?"#REF":er.SheetNames[rr[1]],rr[1]==rr[2]?nr:nr+":"+er.SheetNames[rr[2]];case 358:return tr.SID!=null?er.SheetNames[tr.SID]:"SH33TJSSAME"+er[rr[0]][0];case 355:default:return"SH33TJSSRC"+er[rr[0]][0]}switch(er[rr[0]][0][0]){case 1025:return nr=rr[1]==-1?"#REF":er.SheetNames[rr[1]]||"SH33TJSERR3",rr[1]==rr[2]?nr:nr+":"+er.SheetNames[rr[2]];case 14849:return er[rr[0]].slice(1).map(function(sr){return sr.Name}).join(";;");default:return er[rr[0]][0][3]?(nr=rr[1]==-1?"#REF":er[rr[0]][0][3][rr[1]]||"SH33TJSERR4",rr[1]==rr[2]?nr:nr+":"+er[rr[0]][0][3][rr[2]]):"SH33TJSERR2"}}function get_ixti(er,St,tr){var rr=get_ixti_raw(er,St,tr);return rr=="#REF"?rr:formula_quote_sheet_name(rr,tr)}function stringify_formula(er,St,tr,rr,nr){var sr=nr&&nr.biff||8,ir={s:{c:0,r:0}},ar=[],or,lr,cr,ur=0,dr=0,hr,Ar="";if(!er[0]||!er[0][0])return"";for(var fr=-1,mr="",pr=0,gr=er[0].length;pr<gr;++pr){var xr=er[0][pr];switch(xr[0]){case"PtgUminus":ar.push("-"+ar.pop());break;case"PtgUplus":ar.push("+"+ar.pop());break;case"PtgPercent":ar.push(ar.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(or=ar.pop(),lr=ar.pop(),fr>=0){switch(er[0][fr][1][0]){case 0:mr=fill(" ",er[0][fr][1][1]);break;case 1:mr=fill("\r",er[0][fr][1][1]);break;default:if(mr="",nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+er[0][fr][1][0])}lr=lr+mr,fr=-1}ar.push(lr+PtgBinOp[xr[0]]+or);break;case"PtgIsect":or=ar.pop(),lr=ar.pop(),ar.push(lr+" "+or);break;case"PtgUnion":or=ar.pop(),lr=ar.pop(),ar.push(lr+","+or);break;case"PtgRange":or=ar.pop(),lr=ar.pop(),ar.push(lr+":"+or);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":cr=shift_cell_xls(xr[1][1],ir,nr),ar.push(encode_cell_xls(cr,sr));break;case"PtgRefN":cr=tr?shift_cell_xls(xr[1][1],tr,nr):xr[1][1],ar.push(encode_cell_xls(cr,sr));break;case"PtgRef3d":ur=xr[1][1],cr=shift_cell_xls(xr[1][2],ir,nr),Ar=get_ixti(rr,ur,nr),ar.push(Ar+"!"+encode_cell_xls(cr,sr));break;case"PtgFunc":case"PtgFuncVar":var yr=xr[1][0],Er=xr[1][1];yr||(yr=0),yr&=127;var _r=yr==0?[]:ar.slice(-yr);ar.length-=yr,Er==="User"&&(Er=_r.shift()),ar.push(Er+"("+_r.join(",")+")");break;case"PtgBool":ar.push(xr[1]?"TRUE":"FALSE");break;case"PtgInt":ar.push(xr[1]);break;case"PtgNum":ar.push(String(xr[1]));break;case"PtgStr":ar.push('"'+xr[1].replace(/"/g,'""')+'"');break;case"PtgErr":ar.push(xr[1]);break;case"PtgAreaN":hr=shift_range_xls(xr[1][1],tr?{s:tr}:ir,nr),ar.push(encode_range_xls(hr,nr));break;case"PtgArea":hr=shift_range_xls(xr[1][1],ir,nr),ar.push(encode_range_xls(hr,nr));break;case"PtgArea3d":ur=xr[1][1],hr=xr[1][2],Ar=get_ixti(rr,ur,nr),ar.push(Ar+"!"+encode_range_xls(hr,nr));break;case"PtgAttrSum":ar.push("SUM("+ar.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":dr=xr[1][2];var Sr=(rr.names||[])[dr-1]||(rr[0]||[])[dr],jr=Sr?Sr.Name:"SH33TJSNAME"+String(dr);jr&&jr.slice(0,6)=="_xlfn."&&!nr.xlfn&&(jr=jr.slice(6)),ar.push(jr);break;case"PtgNameX":var Pr=xr[1][1];dr=xr[1][2];var Mr;if(nr.biff<=5)Pr<0&&(Pr=-Pr),rr[Pr]&&(Mr=rr[Pr][dr]);else{var Ir="";if(((rr[Pr]||[])[0]||[])[0]==14849||(((rr[Pr]||[])[0]||[])[0]==1025?rr[Pr][dr]&&rr[Pr][dr].itab>0&&(Ir=rr.SheetNames[rr[Pr][dr].itab-1]+"!"):Ir=rr.SheetNames[dr-1]+"!"),rr[Pr]&&rr[Pr][dr])Ir+=rr[Pr][dr].Name;else if(rr[0]&&rr[0][dr])Ir+=rr[0][dr].Name;else{var Lr=(get_ixti_raw(rr,Pr,nr)||"").split(";;");Lr[dr-1]?Ir=Lr[dr-1]:Ir+="SH33TJSERRX"}ar.push(Ir);break}Mr||(Mr={Name:"SH33TJSERRY"}),ar.push(Mr.Name);break;case"PtgParen":var Qr="(",Yr=")";if(fr>=0){switch(mr="",er[0][fr][1][0]){case 2:Qr=fill(" ",er[0][fr][1][1])+Qr;break;case 3:Qr=fill("\r",er[0][fr][1][1])+Qr;break;case 4:Yr=fill(" ",er[0][fr][1][1])+Yr;break;case 5:Yr=fill("\r",er[0][fr][1][1])+Yr;break;default:if(nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+er[0][fr][1][0])}fr=-1}ar.push(Qr+ar.pop()+Yr);break;case"PtgRefErr":ar.push("#REF!");break;case"PtgRefErr3d":ar.push("#REF!");break;case"PtgExp":cr={c:xr[1][1],r:xr[1][0]};var Gr={c:tr.c,r:tr.r};if(rr.sharedf[encode_cell(cr)]){var $r=rr.sharedf[encode_cell(cr)];ar.push(stringify_formula($r,ir,Gr,rr,nr))}else{var Vr=!1;for(or=0;or!=rr.arrayf.length;++or)if(lr=rr.arrayf[or],!(cr.c<lr[0].s.c||cr.c>lr[0].e.c)&&!(cr.r<lr[0].s.r||cr.r>lr[0].e.r)){ar.push(stringify_formula(lr[1],ir,Gr,rr,nr)),Vr=!0;break}Vr||ar.push(xr[1])}break;case"PtgArray":ar.push("{"+stringify_array(xr[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":fr=pr;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":ar.push("");break;case"PtgAreaErr":ar.push("#REF!");break;case"PtgAreaErr3d":ar.push("#REF!");break;case"PtgList":ar.push("Table"+xr[1].idx+"[#"+xr[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(xr));default:throw new Error("Unrecognized Formula Token: "+String(xr))}var Tr=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(nr.biff!=3&&fr>=0&&Tr.indexOf(er[0][pr][0])==-1){xr=er[0][fr];var Fr=!0;switch(xr[1][0]){case 4:Fr=!1;case 0:mr=fill(" ",xr[1][1]);break;case 5:Fr=!1;case 1:mr=fill("\r",xr[1][1]);break;default:if(mr="",nr.WTF)throw new Error("Unexpected PtgAttrSpaceType "+xr[1][0])}ar.push((Fr?mr:"")+ar.pop()+(Fr?"":mr)),fr=-1}}if(ar.length>1&&nr.WTF)throw new Error("bad formula stack");return ar[0]}function write_FormulaValue(er){if(er==null){var St=new_buf(8);return St.write_shift(1,3),St.write_shift(1,0),St.write_shift(2,0),St.write_shift(2,0),St.write_shift(2,65535),St}else if(typeof er=="number")return write_Xnum(er);return write_Xnum(0)}function write_Formula(er,St,tr,rr,nr){var sr=write_XLSCell(St,tr,nr),ir=write_FormulaValue(er.v),ar=new_buf(6),or=33;ar.write_shift(2,or),ar.write_shift(4,0);for(var lr=new_buf(er.bf.length),cr=0;cr<er.bf.length;++cr)lr[cr]=er.bf[cr];var ur=bconcat([sr,ir,ar,lr]);return ur}function parse_XLSBParsedFormula(er,St,tr){var rr=er.read_shift(4),nr=parse_Rgce(er,rr,tr),sr=er.read_shift(4),ir=sr>0?parse_RgbExtra(er,sr,nr,tr):null;return[nr,ir]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function csf_to_ods_formula(er){var St="of:="+er.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return St.replace(/;/g,"|").replace(/,/g,";")}function csf_to_ods_3D(er){return er.replace(/\./,"!")}var browser_has_Map=typeof Map<"u";function get_sst_id(er,St,tr){var rr=0,nr=er.length;if(tr){if(browser_has_Map?tr.has(St):Object.prototype.hasOwnProperty.call(tr,St)){for(var sr=browser_has_Map?tr.get(St):tr[St];rr<sr.length;++rr)if(er[sr[rr]].t===St)return er.Count++,sr[rr]}}else for(;rr<nr;++rr)if(er[rr].t===St)return er.Count++,rr;return er[nr]={t:St},er.Count++,er.Unique++,tr&&(browser_has_Map?(tr.has(St)||tr.set(St,[]),tr.get(St).push(nr)):(Object.prototype.hasOwnProperty.call(tr,St)||(tr[St]=[]),tr[St].push(nr))),nr}function col_obj_w(er,St){var tr={min:er+1,max:er+1},rr=-1;return St.MDW&&(MDW=St.MDW),St.width!=null?tr.customWidth=1:St.wpx!=null?rr=px2char(St.wpx):St.wch!=null&&(rr=St.wch),rr>-1?(tr.width=char2width(rr),tr.customWidth=1):St.width!=null&&(tr.width=St.width),St.hidden&&(tr.hidden=!0),St.level!=null&&(tr.outlineLevel=tr.level=St.level),tr}function default_margins(er,St){if(er){var tr=[.7,.7,.75,.75,.3,.3];er.left==null&&(er.left=tr[0]),er.right==null&&(er.right=tr[1]),er.top==null&&(er.top=tr[2]),er.bottom==null&&(er.bottom=tr[3]),er.header==null&&(er.header=tr[4]),er.footer==null&&(er.footer=tr[5])}}function get_cell_style(er,St,tr){var rr=tr.revssf[St.z!=null?St.z:"General"],nr=60,sr=er.length;if(rr==null&&tr.ssf){for(;nr<392;++nr)if(tr.ssf[nr]==null){SSF_load(St.z,nr),tr.ssf[nr]=St.z,tr.revssf[St.z]=rr=nr;break}}for(nr=0;nr!=sr;++nr)if(er[nr].numFmtId===rr)return nr;return er[sr]={numFmtId:rr,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},sr}function check_ws(er,St,tr){if(er&&er["!ref"]){var rr=safe_decode_range(er["!ref"]);if(rr.e.c<rr.s.c||rr.e.r<rr.s.r)throw new Error("Bad range ("+tr+"): "+er["!ref"])}}function write_ws_xml_merges(er){if(er.length===0)return"";for(var St='<mergeCells count="'+er.length+'">',tr=0;tr!=er.length;++tr)St+='<mergeCell ref="'+encode_range(er[tr])+'"/>';return St+"</mergeCells>"}function write_ws_xml_sheetpr(er,St,tr,rr,nr){var sr=!1,ir={},ar=null;if(rr.bookType!=="xlsx"&&St.vbaraw){var or=St.SheetNames[tr];try{St.Workbook&&(or=St.Workbook.Sheets[tr].CodeName||or)}catch{}sr=!0,ir.codeName=utf8write(escapexml(or))}if(er&&er["!outline"]){var lr={summaryBelow:1,summaryRight:1};er["!outline"].above&&(lr.summaryBelow=0),er["!outline"].left&&(lr.summaryRight=0),ar=(ar||"")+writextag("outlinePr",null,lr)}!sr&&!ar||(nr[nr.length]=writextag("sheetPr",ar,ir))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(er){var St={sheet:1};return sheetprot_deffalse.forEach(function(tr){er[tr]!=null&&er[tr]&&(St[tr]="1")}),sheetprot_deftrue.forEach(function(tr){er[tr]!=null&&!er[tr]&&(St[tr]="0")}),er.password&&(St.password=crypto_CreatePasswordVerifier_Method1(er.password).toString(16).toUpperCase()),writextag("sheetProtection",null,St)}function write_ws_xml_margins(er){return default_margins(er),writextag("pageMargins",null,er)}function write_ws_xml_cols(er,St){for(var tr=["<cols>"],rr,nr=0;nr!=St.length;++nr)(rr=St[nr])&&(tr[tr.length]=writextag("col",null,col_obj_w(nr,rr)));return tr[tr.length]="</cols>",tr.join("")}function write_ws_xml_autofilter(er,St,tr,rr){var nr=typeof er.ref=="string"?er.ref:encode_range(er.ref);tr.Workbook||(tr.Workbook={Sheets:[]}),tr.Workbook.Names||(tr.Workbook.Names=[]);var sr=tr.Workbook.Names,ir=decode_range(nr);ir.s.r==ir.e.r&&(ir.e.r=decode_range(St["!ref"]).e.r,nr=encode_range(ir));for(var ar=0;ar<sr.length;++ar){var or=sr[ar];if(or.Name=="_xlnm._FilterDatabase"&&or.Sheet==rr){or.Ref="'"+tr.SheetNames[rr]+"'!"+nr;break}}return ar==sr.length&&sr.push({Name:"_xlnm._FilterDatabase",Sheet:rr,Ref:"'"+tr.SheetNames[rr]+"'!"+nr}),writextag("autoFilter",null,{ref:nr})}function write_ws_xml_sheetviews(er,St,tr,rr){var nr={workbookViewId:"0"};return(((rr||{}).Workbook||{}).Views||[])[0]&&(nr.rightToLeft=rr.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,nr),{})}function write_ws_xml_cell(er,St,tr,rr){if(er.c&&tr["!comments"].push([St,er.c]),er.v===void 0&&typeof er.f!="string"||er.t==="z"&&!er.f)return"";var nr="",sr=er.t,ir=er.v;if(er.t!=="z")switch(er.t){case"b":nr=er.v?"1":"0";break;case"n":nr=""+er.v;break;case"e":nr=BErr[er.v];break;case"d":rr&&rr.cellDates?nr=parseDate(er.v,-1).toISOString():(er=dup(er),er.t="n",nr=""+(er.v=datenum(parseDate(er.v)))),typeof er.z>"u"&&(er.z=table_fmt[14]);break;default:nr=er.v;break}var ar=writetag("v",escapexml(nr)),or={r:St},lr=get_cell_style(rr.cellXfs,er,rr);switch(lr!==0&&(or.s=lr),er.t){case"n":break;case"d":or.t="d";break;case"b":or.t="b";break;case"e":or.t="e";break;case"z":break;default:if(er.v==null){delete er.t;break}if(er.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(rr&&rr.bookSST){ar=writetag("v",""+get_sst_id(rr.Strings,er.v,rr.revStrings)),or.t="s";break}or.t="str";break}if(er.t!=sr&&(er.t=sr,er.v=ir),typeof er.f=="string"&&er.f){var cr=er.F&&er.F.slice(0,St.length)==St?{t:"array",ref:er.F}:null;ar=writextag("f",escapexml(er.f),cr)+(er.v!=null?ar:"")}return er.l&&tr["!links"].push([St,er.l]),er.D&&(or.cm=1),writextag("c",ar,or)}function write_ws_xml_data(er,St,tr,rr){var nr=[],sr=[],ir=safe_decode_range(er["!ref"]),ar="",or,lr="",cr=[],ur=0,dr=0,hr=er["!rows"],Ar=Array.isArray(er),fr={r:lr},mr,pr=-1;for(dr=ir.s.c;dr<=ir.e.c;++dr)cr[dr]=encode_col(dr);for(ur=ir.s.r;ur<=ir.e.r;++ur){for(sr=[],lr=encode_row(ur),dr=ir.s.c;dr<=ir.e.c;++dr){or=cr[dr]+lr;var gr=Ar?(er[ur]||[])[dr]:er[or];gr!==void 0&&(ar=write_ws_xml_cell(gr,or,er,St))!=null&&sr.push(ar)}(sr.length>0||hr&&hr[ur])&&(fr={r:lr},hr&&hr[ur]&&(mr=hr[ur],mr.hidden&&(fr.hidden=1),pr=-1,mr.hpx?pr=px2pt(mr.hpx):mr.hpt&&(pr=mr.hpt),pr>-1&&(fr.ht=pr,fr.customHeight=1),mr.level&&(fr.outlineLevel=mr.level)),nr[nr.length]=writextag("row",sr.join(""),fr))}if(hr)for(;ur<hr.length;++ur)hr&&hr[ur]&&(fr={r:ur+1},mr=hr[ur],mr.hidden&&(fr.hidden=1),pr=-1,mr.hpx?pr=px2pt(mr.hpx):mr.hpt&&(pr=mr.hpt),pr>-1&&(fr.ht=pr,fr.customHeight=1),mr.level&&(fr.outlineLevel=mr.level),nr[nr.length]=writextag("row","",fr));return nr.join("")}function write_ws_xml(er,St,tr,rr){var nr=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],sr=tr.SheetNames[er],ir=0,ar="",or=tr.Sheets[sr];or==null&&(or={});var lr=or["!ref"]||"A1",cr=safe_decode_range(lr);if(cr.e.c>16383||cr.e.r>1048575){if(St.WTF)throw new Error("Range "+lr+" exceeds format limit A1:XFD1048576");cr.e.c=Math.min(cr.e.c,16383),cr.e.r=Math.min(cr.e.c,1048575),lr=encode_range(cr)}rr||(rr={}),or["!comments"]=[];var ur=[];write_ws_xml_sheetpr(or,tr,er,St,nr),nr[nr.length]=writextag("dimension",null,{ref:lr}),nr[nr.length]=write_ws_xml_sheetviews(or,St,er,tr),St.sheetFormat&&(nr[nr.length]=writextag("sheetFormatPr",null,{defaultRowHeight:St.sheetFormat.defaultRowHeight||"16",baseColWidth:St.sheetFormat.baseColWidth||"10",outlineLevelRow:St.sheetFormat.outlineLevelRow||"7"})),or["!cols"]!=null&&or["!cols"].length>0&&(nr[nr.length]=write_ws_xml_cols(or,or["!cols"])),nr[ir=nr.length]="<sheetData/>",or["!links"]=[],or["!ref"]!=null&&(ar=write_ws_xml_data(or,St),ar.length>0&&(nr[nr.length]=ar)),nr.length>ir+1&&(nr[nr.length]="</sheetData>",nr[ir]=nr[ir].replace("/>",">")),or["!protect"]&&(nr[nr.length]=write_ws_xml_protection(or["!protect"])),or["!autofilter"]!=null&&(nr[nr.length]=write_ws_xml_autofilter(or["!autofilter"],or,tr,er)),or["!merges"]!=null&&or["!merges"].length>0&&(nr[nr.length]=write_ws_xml_merges(or["!merges"]));var dr=-1,hr,Ar=-1;return or["!links"].length>0&&(nr[nr.length]="<hyperlinks>",or["!links"].forEach(function(fr){fr[1].Target&&(hr={ref:fr[0]},fr[1].Target.charAt(0)!="#"&&(Ar=add_rels(rr,-1,escapexml(fr[1].Target).replace(/#.*$/,""),RELS.HLINK),hr["r:id"]="rId"+Ar),(dr=fr[1].Target.indexOf("#"))>-1&&(hr.location=escapexml(fr[1].Target.slice(dr+1))),fr[1].Tooltip&&(hr.tooltip=escapexml(fr[1].Tooltip)),nr[nr.length]=writextag("hyperlink",null,hr))}),nr[nr.length]="</hyperlinks>"),delete or["!links"],or["!margins"]!=null&&(nr[nr.length]=write_ws_xml_margins(or["!margins"])),(!St||St.ignoreEC||St.ignoreEC==null)&&(nr[nr.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:lr}))),ur.length>0&&(Ar=add_rels(rr,-1,"../drawings/drawing"+(er+1)+".xml",RELS.DRAW),nr[nr.length]=writextag("drawing",null,{"r:id":"rId"+Ar}),or["!drawing"]=ur),or["!comments"].length>0&&(Ar=add_rels(rr,-1,"../drawings/vmlDrawing"+(er+1)+".vml",RELS.VML),nr[nr.length]=writextag("legacyDrawing",null,{"r:id":"rId"+Ar}),or["!legacy"]=Ar),nr.length>1&&(nr[nr.length]="</worksheet>",nr[1]=nr[1].replace("/>",">")),nr.join("")}function parse_BrtRowHdr(er,St){var tr={},rr=er.l+St;tr.r=er.read_shift(4),er.l+=4;var nr=er.read_shift(2);er.l+=1;var sr=er.read_shift(1);return er.l=rr,sr&7&&(tr.level=sr&7),sr&16&&(tr.hidden=!0),sr&32&&(tr.hpt=nr/20),tr}function write_BrtRowHdr(er,St,tr){var rr=new_buf(145),nr=(tr["!rows"]||[])[er]||{};rr.write_shift(4,er),rr.write_shift(4,0);var sr=320;nr.hpx?sr=px2pt(nr.hpx)*20:nr.hpt&&(sr=nr.hpt*20),rr.write_shift(2,sr),rr.write_shift(1,0);var ir=0;nr.level&&(ir|=nr.level),nr.hidden&&(ir|=16),(nr.hpx||nr.hpt)&&(ir|=32),rr.write_shift(1,ir),rr.write_shift(1,0);var ar=0,or=rr.l;rr.l+=4;for(var lr={r:er,c:0},cr=0;cr<16;++cr)if(!(St.s.c>cr+1<<10||St.e.c<cr<<10)){for(var ur=-1,dr=-1,hr=cr<<10;hr<cr+1<<10;++hr){lr.c=hr;var Ar=Array.isArray(tr)?(tr[lr.r]||[])[lr.c]:tr[encode_cell(lr)];Ar&&(ur<0&&(ur=hr),dr=hr)}ur<0||(++ar,rr.write_shift(4,ur),rr.write_shift(4,dr))}var fr=rr.l;return rr.l=or,rr.write_shift(4,ar),rr.l=fr,rr.length>rr.l?rr.slice(0,rr.l):rr}function write_row_header(er,St,tr,rr){var nr=write_BrtRowHdr(rr,tr,St);(nr.length>17||(St["!rows"]||[])[rr])&&write_record(er,0,nr)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(er,St){var tr={},rr=er[er.l];return++er.l,tr.above=!(rr&64),tr.left=!(rr&128),er.l+=18,tr.name=parse_XLSBCodeName(er),tr}function write_BrtWsProp(er,St,tr){tr==null&&(tr=new_buf(84+4*er.length));var rr=192;St&&(St.above&&(rr&=-65),St.left&&(rr&=-129)),tr.write_shift(1,rr);for(var nr=1;nr<3;++nr)tr.write_shift(1,0);return write_BrtColor({auto:1},tr),tr.write_shift(-4,-1),tr.write_shift(-4,-1),write_XLSBCodeName(er,tr),tr.slice(0,tr.l)}function parse_BrtCellBlank(er){var St=parse_XLSBCell(er);return[St]}function write_BrtCellBlank(er,St,tr){return tr==null&&(tr=new_buf(8)),write_XLSBCell(St,tr)}function parse_BrtShortBlank(er){var St=parse_XLSBShortCell(er);return[St]}function write_BrtShortBlank(er,St,tr){return tr==null&&(tr=new_buf(4)),write_XLSBShortCell(St,tr)}function parse_BrtCellBool(er){var St=parse_XLSBCell(er),tr=er.read_shift(1);return[St,tr,"b"]}function write_BrtCellBool(er,St,tr){return tr==null&&(tr=new_buf(9)),write_XLSBCell(St,tr),tr.write_shift(1,er.v?1:0),tr}function parse_BrtShortBool(er){var St=parse_XLSBShortCell(er),tr=er.read_shift(1);return[St,tr,"b"]}function write_BrtShortBool(er,St,tr){return tr==null&&(tr=new_buf(5)),write_XLSBShortCell(St,tr),tr.write_shift(1,er.v?1:0),tr}function parse_BrtCellError(er){var St=parse_XLSBCell(er),tr=er.read_shift(1);return[St,tr,"e"]}function write_BrtCellError(er,St,tr){return tr==null&&(tr=new_buf(9)),write_XLSBCell(St,tr),tr.write_shift(1,er.v),tr}function parse_BrtShortError(er){var St=parse_XLSBShortCell(er),tr=er.read_shift(1);return[St,tr,"e"]}function write_BrtShortError(er,St,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(St,tr),tr.write_shift(1,er.v),tr.write_shift(2,0),tr.write_shift(1,0),tr}function parse_BrtCellIsst(er){var St=parse_XLSBCell(er),tr=er.read_shift(4);return[St,tr,"s"]}function write_BrtCellIsst(er,St,tr){return tr==null&&(tr=new_buf(12)),write_XLSBCell(St,tr),tr.write_shift(4,St.v),tr}function parse_BrtShortIsst(er){var St=parse_XLSBShortCell(er),tr=er.read_shift(4);return[St,tr,"s"]}function write_BrtShortIsst(er,St,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(St,tr),tr.write_shift(4,St.v),tr}function parse_BrtCellReal(er){var St=parse_XLSBCell(er),tr=parse_Xnum(er);return[St,tr,"n"]}function write_BrtCellReal(er,St,tr){return tr==null&&(tr=new_buf(16)),write_XLSBCell(St,tr),write_Xnum(er.v,tr),tr}function parse_BrtShortReal(er){var St=parse_XLSBShortCell(er),tr=parse_Xnum(er);return[St,tr,"n"]}function write_BrtShortReal(er,St,tr){return tr==null&&(tr=new_buf(12)),write_XLSBShortCell(St,tr),write_Xnum(er.v,tr),tr}function parse_BrtCellRk(er){var St=parse_XLSBCell(er),tr=parse_RkNumber(er);return[St,tr,"n"]}function write_BrtCellRk(er,St,tr){return tr==null&&(tr=new_buf(12)),write_XLSBCell(St,tr),write_RkNumber(er.v,tr),tr}function parse_BrtShortRk(er){var St=parse_XLSBShortCell(er),tr=parse_RkNumber(er);return[St,tr,"n"]}function write_BrtShortRk(er,St,tr){return tr==null&&(tr=new_buf(8)),write_XLSBShortCell(St,tr),write_RkNumber(er.v,tr),tr}function parse_BrtCellRString(er){var St=parse_XLSBCell(er),tr=parse_RichStr(er);return[St,tr,"is"]}function parse_BrtCellSt(er){var St=parse_XLSBCell(er),tr=parse_XLWideString(er);return[St,tr,"str"]}function write_BrtCellSt(er,St,tr){return tr==null&&(tr=new_buf(12+4*er.v.length)),write_XLSBCell(St,tr),write_XLWideString(er.v,tr),tr.length>tr.l?tr.slice(0,tr.l):tr}function parse_BrtShortSt(er){var St=parse_XLSBShortCell(er),tr=parse_XLWideString(er);return[St,tr,"str"]}function write_BrtShortSt(er,St,tr){return tr==null&&(tr=new_buf(8+4*er.v.length)),write_XLSBShortCell(St,tr),write_XLWideString(er.v,tr),tr.length>tr.l?tr.slice(0,tr.l):tr}function parse_BrtFmlaBool(er,St,tr){var rr=er.l+St,nr=parse_XLSBCell(er);nr.r=tr["!row"];var sr=er.read_shift(1),ir=[nr,sr,"b"];if(tr.cellFormula){er.l+=2;var ar=parse_XLSBCellParsedFormula(er,rr-er.l,tr);ir[3]=stringify_formula(ar,null,nr,tr.supbooks,tr)}else er.l=rr;return ir}function parse_BrtFmlaError(er,St,tr){var rr=er.l+St,nr=parse_XLSBCell(er);nr.r=tr["!row"];var sr=er.read_shift(1),ir=[nr,sr,"e"];if(tr.cellFormula){er.l+=2;var ar=parse_XLSBCellParsedFormula(er,rr-er.l,tr);ir[3]=stringify_formula(ar,null,nr,tr.supbooks,tr)}else er.l=rr;return ir}function parse_BrtFmlaNum(er,St,tr){var rr=er.l+St,nr=parse_XLSBCell(er);nr.r=tr["!row"];var sr=parse_Xnum(er),ir=[nr,sr,"n"];if(tr.cellFormula){er.l+=2;var ar=parse_XLSBCellParsedFormula(er,rr-er.l,tr);ir[3]=stringify_formula(ar,null,nr,tr.supbooks,tr)}else er.l=rr;return ir}function parse_BrtFmlaString(er,St,tr){var rr=er.l+St,nr=parse_XLSBCell(er);nr.r=tr["!row"];var sr=parse_XLWideString(er),ir=[nr,sr,"str"];if(tr.cellFormula){er.l+=2;var ar=parse_XLSBCellParsedFormula(er,rr-er.l,tr);ir[3]=stringify_formula(ar,null,nr,tr.supbooks,tr)}else er.l=rr;return ir}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(er,St){return St==null&&(St=new_buf(4)),St.write_shift(4,er),St}function parse_BrtHLink(er,St){var tr=er.l+St,rr=parse_UncheckedRfX(er),nr=parse_XLNullableWideString(er),sr=parse_XLWideString(er),ir=parse_XLWideString(er),ar=parse_XLWideString(er);er.l=tr;var or={rfx:rr,relId:nr,loc:sr,display:ar};return ir&&(or.Tooltip=ir),or}function write_BrtHLink(er,St){var tr=new_buf(50+4*(er[1].Target.length+(er[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(er[0]),e:decode_cell(er[0])},tr),write_RelID("rId"+St,tr);var rr=er[1].Target.indexOf("#"),nr=rr==-1?"":er[1].Target.slice(rr+1);return write_XLWideString(nr||"",tr),write_XLWideString(er[1].Tooltip||"",tr),write_XLWideString("",tr),tr.slice(0,tr.l)}function parse_BrtPane(){}function parse_BrtArrFmla(er,St,tr){var rr=er.l+St,nr=parse_RfX(er),sr=er.read_shift(1),ir=[nr];if(ir[2]=sr,tr.cellFormula){var ar=parse_XLSBArrayParsedFormula(er,rr-er.l,tr);ir[1]=ar}else er.l=rr;return ir}function parse_BrtShrFmla(er,St,tr){var rr=er.l+St,nr=parse_UncheckedRfX(er),sr=[nr];if(tr.cellFormula){var ir=parse_XLSBSharedParsedFormula(er,rr-er.l,tr);sr[1]=ir,er.l=rr}else er.l=rr;return sr}function write_BrtColInfo(er,St,tr){tr==null&&(tr=new_buf(18));var rr=col_obj_w(er,St);tr.write_shift(-4,er),tr.write_shift(-4,er),tr.write_shift(4,(rr.width||10)*256),tr.write_shift(4,0);var nr=0;return St.hidden&&(nr|=1),typeof rr.width=="number"&&(nr|=2),St.level&&(nr|=St.level<<8),tr.write_shift(2,nr),tr}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(er){var St={};return BrtMarginKeys.forEach(function(tr){St[tr]=parse_Xnum(er)}),St}function write_BrtMargins(er,St){return St==null&&(St=new_buf(6*8)),default_margins(er),BrtMarginKeys.forEach(function(tr){write_Xnum(er[tr],St)}),St}function parse_BrtBeginWsView(er){var St=er.read_shift(2);return er.l+=28,{RTL:St&32}}function write_BrtBeginWsView(er,St,tr){tr==null&&(tr=new_buf(30));var rr=924;return(((St||{}).Views||[])[0]||{}).RTL&&(rr|=32),tr.write_shift(2,rr),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(1,0),tr.write_shift(1,0),tr.write_shift(2,0),tr.write_shift(2,100),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(2,0),tr.write_shift(4,0),tr}function write_BrtCellIgnoreEC(er){var St=new_buf(24);return St.write_shift(4,4),St.write_shift(4,1),write_UncheckedRfX(er,St),St}function write_BrtSheetProtection(er,St){return St==null&&(St=new_buf(16*4+2)),St.write_shift(2,er.password?crypto_CreatePasswordVerifier_Method1(er.password):0),St.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(tr){tr[1]?St.write_shift(4,er[tr[0]]!=null&&!er[tr[0]]?1:0):St.write_shift(4,er[tr[0]]!=null&&er[tr[0]]?0:1)}),St}function parse_BrtDVal(){}function parse_BrtDVal14(){}function write_ws_bin_cell(er,St,tr,rr,nr,sr,ir){if(St.v===void 0)return!1;var ar="";switch(St.t){case"b":ar=St.v?"1":"0";break;case"d":St=dup(St),St.z=St.z||table_fmt[14],St.v=datenum(parseDate(St.v)),St.t="n";break;case"n":case"e":ar=""+St.v;break;default:ar=St.v;break}var or={r:tr,c:rr};switch(or.s=get_cell_style(nr.cellXfs,St,nr),St.l&&sr["!links"].push([encode_cell(or),St.l]),St.c&&sr["!comments"].push([encode_cell(or),St.c]),St.t){case"s":case"str":return nr.bookSST?(ar=get_sst_id(nr.Strings,St.v,nr.revStrings),or.t="s",or.v=ar,ir?write_record(er,18,write_BrtShortIsst(St,or)):write_record(er,7,write_BrtCellIsst(St,or))):(or.t="str",ir?write_record(er,17,write_BrtShortSt(St,or)):write_record(er,6,write_BrtCellSt(St,or))),!0;case"n":return St.v==(St.v|0)&&St.v>-1e3&&St.v<1e3?ir?write_record(er,13,write_BrtShortRk(St,or)):write_record(er,2,write_BrtCellRk(St,or)):ir?write_record(er,16,write_BrtShortReal(St,or)):write_record(er,5,write_BrtCellReal(St,or)),!0;case"b":return or.t="b",ir?write_record(er,15,write_BrtShortBool(St,or)):write_record(er,4,write_BrtCellBool(St,or)),!0;case"e":return or.t="e",ir?write_record(er,14,write_BrtShortError(St,or)):write_record(er,3,write_BrtCellError(St,or)),!0}return ir?write_record(er,12,write_BrtShortBlank(St,or)):write_record(er,1,write_BrtCellBlank(St,or)),!0}function write_CELLTABLE(er,St,tr,rr){var nr=safe_decode_range(St["!ref"]||"A1"),sr,ir="",ar=[];write_record(er,145);var or=Array.isArray(St),lr=nr.e.r;St["!rows"]&&(lr=Math.max(nr.e.r,St["!rows"].length-1));for(var cr=nr.s.r;cr<=lr;++cr){ir=encode_row(cr),write_row_header(er,St,nr,cr);var ur=!1;if(cr<=nr.e.r)for(var dr=nr.s.c;dr<=nr.e.c;++dr){cr===nr.s.r&&(ar[dr]=encode_col(dr)),sr=ar[dr]+ir;var hr=or?(St[cr]||[])[dr]:St[sr];if(!hr){ur=!1;continue}ur=write_ws_bin_cell(er,hr,cr,dr,rr,St,ur)}}write_record(er,146)}function write_MERGECELLS(er,St){!St||!St["!merges"]||(write_record(er,177,write_BrtBeginMergeCells(St["!merges"].length)),St["!merges"].forEach(function(tr){write_record(er,176,write_BrtMergeCell(tr))}),write_record(er,178))}function write_COLINFOS(er,St){!St||!St["!cols"]||(write_record(er,390),St["!cols"].forEach(function(tr,rr){tr&&write_record(er,60,write_BrtColInfo(rr,tr))}),write_record(er,391))}function write_IGNOREECS(er,St){!St||!St["!ref"]||(write_record(er,648),write_record(er,649,write_BrtCellIgnoreEC(safe_decode_range(St["!ref"]))),write_record(er,650))}function write_HLINKS(er,St,tr){St["!links"].forEach(function(rr){if(rr[1].Target){var nr=add_rels(tr,-1,rr[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(er,494,write_BrtHLink(rr,nr))}}),delete St["!links"]}function write_LEGACYDRAWING(er,St,tr,rr){if(St["!comments"].length>0){var nr=add_rels(rr,-1,"../drawings/vmlDrawing"+(tr+1)+".vml",RELS.VML);write_record(er,551,write_RelID("rId"+nr)),St["!legacy"]=nr}}function write_AUTOFILTER(er,St,tr,rr){if(St["!autofilter"]){var nr=St["!autofilter"],sr=typeof nr.ref=="string"?nr.ref:encode_range(nr.ref);tr.Workbook||(tr.Workbook={Sheets:[]}),tr.Workbook.Names||(tr.Workbook.Names=[]);var ir=tr.Workbook.Names,ar=decode_range(sr);ar.s.r==ar.e.r&&(ar.e.r=decode_range(St["!ref"]).e.r,sr=encode_range(ar));for(var or=0;or<ir.length;++or){var lr=ir[or];if(lr.Name=="_xlnm._FilterDatabase"&&lr.Sheet==rr){lr.Ref="'"+tr.SheetNames[rr]+"'!"+sr;break}}or==ir.length&&ir.push({Name:"_xlnm._FilterDatabase",Sheet:rr,Ref:"'"+tr.SheetNames[rr]+"'!"+sr}),write_record(er,161,write_UncheckedRfX(safe_decode_range(sr))),write_record(er,162)}}function write_WSVIEWS2(er,St,tr){write_record(er,133),write_record(er,137,write_BrtBeginWsView(St,tr)),write_record(er,138),write_record(er,134)}function write_SHEETPROTECT(er,St){St["!protect"]&&write_record(er,535,write_BrtSheetProtection(St["!protect"]))}function write_ws_bin(er,St,tr,rr){var nr=buf_array(),sr=tr.SheetNames[er],ir=tr.Sheets[sr]||{},ar=sr;try{tr&&tr.Workbook&&(ar=tr.Workbook.Sheets[er].CodeName||ar)}catch{}var or=safe_decode_range(ir["!ref"]||"A1");if(or.e.c>16383||or.e.r>1048575){if(St.WTF)throw new Error("Range "+(ir["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");or.e.c=Math.min(or.e.c,16383),or.e.r=Math.min(or.e.c,1048575)}return ir["!links"]=[],ir["!comments"]=[],write_record(nr,129),(tr.vbaraw||ir["!outline"])&&write_record(nr,147,write_BrtWsProp(ar,ir["!outline"])),write_record(nr,148,write_BrtWsDim(or)),write_WSVIEWS2(nr,ir,tr.Workbook),write_COLINFOS(nr,ir),write_CELLTABLE(nr,ir,er,St),write_SHEETPROTECT(nr,ir),write_AUTOFILTER(nr,ir,tr,er),write_MERGECELLS(nr,ir),write_HLINKS(nr,ir,rr),ir["!margins"]&&write_record(nr,476,write_BrtMargins(ir["!margins"])),(!St||St.ignoreEC||St.ignoreEC==null)&&write_IGNOREECS(nr,ir),write_LEGACYDRAWING(nr,ir,er,rr),write_record(nr,130),nr.end()}function parse_BrtCsProp(er,St){er.l+=10;var tr=parse_XLWideString(er);return{name:tr}}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function safe1904(er){return!er.Workbook||!er.Workbook.WBProps?"false":parsexmlbool(er.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(er,St){if(er.length>31)throw new Error("Sheet names cannot exceed 31 chars");var tr=!0;return badchars.forEach(function(rr){if(er.indexOf(rr)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),tr}function check_wb_names(er,St,tr){er.forEach(function(rr,nr){check_ws_name(rr);for(var sr=0;sr<nr;++sr)if(rr==er[sr])throw new Error("Duplicate Sheet Name: "+rr);if(tr){var ir=St&&St[nr]&&St[nr].CodeName||rr;if(ir.charCodeAt(0)==95&&ir.length>22)throw new Error("Bad Code Name: Worksheet"+ir)}})}function check_wb(er){if(!er||!er.SheetNames||!er.Sheets)throw new Error("Invalid Workbook");if(!er.SheetNames.length)throw new Error("Workbook is empty");var St=er.Workbook&&er.Workbook.Sheets||[];check_wb_names(er.SheetNames,St,!!er.vbaraw);for(var tr=0;tr<er.SheetNames.length;++tr)check_ws(er.Sheets[er.SheetNames[tr]],er.SheetNames[tr],tr)}function write_wb_xml(er){var St=[XML_HEADER];St[St.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var tr=er.Workbook&&(er.Workbook.Names||[]).length>0,rr={codeName:"ThisWorkbook"};er.Workbook&&er.Workbook.WBProps&&(WBPropsDef.forEach(function(ar){er.Workbook.WBProps[ar[0]]!=null&&er.Workbook.WBProps[ar[0]]!=ar[1]&&(rr[ar[0]]=er.Workbook.WBProps[ar[0]])}),er.Workbook.WBProps.CodeName&&(rr.codeName=er.Workbook.WBProps.CodeName,delete rr.CodeName)),St[St.length]=writextag("workbookPr",null,rr);var nr=er.Workbook&&er.Workbook.Sheets||[],sr=0;if(nr&&nr[0]&&nr[0].Hidden){for(St[St.length]="<bookViews>",sr=0;sr!=er.SheetNames.length&&!(!nr[sr]||!nr[sr].Hidden);++sr);sr==er.SheetNames.length&&(sr=0),St[St.length]='<workbookView firstSheet="'+sr+'" activeTab="'+sr+'"/>',St[St.length]="</bookViews>"}for(St[St.length]="<sheets>",sr=0;sr!=er.SheetNames.length;++sr){var ir={name:escapexml(er.SheetNames[sr].slice(0,31))};if(ir.sheetId=""+(sr+1),ir["r:id"]="rId"+(sr+1),nr[sr])switch(nr[sr].Hidden){case 1:ir.state="hidden";break;case 2:ir.state="veryHidden";break}St[St.length]=writextag("sheet",null,ir)}return St[St.length]="</sheets>",tr&&(St[St.length]="<definedNames>",er.Workbook&&er.Workbook.Names&&er.Workbook.Names.forEach(function(ar){var or={name:ar.Name};ar.Comment&&(or.comment=ar.Comment),ar.Sheet!=null&&(or.localSheetId=""+ar.Sheet),ar.Hidden&&(or.hidden="1"),ar.Ref&&(St[St.length]=writextag("definedName",escapexml(ar.Ref),or))}),St[St.length]="</definedNames>"),St.length>2&&(St[St.length]="</workbook>",St[1]=St[1].replace("/>",">")),St.join("")}function parse_BrtBundleSh(er,St){var tr={};return tr.Hidden=er.read_shift(4),tr.iTabID=er.read_shift(4),tr.strRelID=parse_RelID(er),tr.name=parse_XLWideString(er),tr}function write_BrtBundleSh(er,St){return St||(St=new_buf(127)),St.write_shift(4,er.Hidden),St.write_shift(4,er.iTabID),write_RelID(er.strRelID,St),write_XLWideString(er.name.slice(0,31),St),St.length>St.l?St.slice(0,St.l):St}function parse_BrtWbProp(er,St){var tr={},rr=er.read_shift(4);tr.defaultThemeVersion=er.read_shift(4);var nr=St>8?parse_XLWideString(er):"";return nr.length>0&&(tr.CodeName=nr),tr.autoCompressPictures=!!(rr&65536),tr.backupFile=!!(rr&64),tr.checkCompatibility=!!(rr&4096),tr.date1904=!!(rr&1),tr.filterPrivacy=!!(rr&8),tr.hidePivotFieldList=!!(rr&1024),tr.promptedSolutions=!!(rr&16),tr.publishItems=!!(rr&2048),tr.refreshAllConnections=!!(rr&262144),tr.saveExternalLinkValues=!!(rr&128),tr.showBorderUnselectedTables=!!(rr&4),tr.showInkAnnotation=!!(rr&32),tr.showObjects=["all","placeholders","none"][rr>>13&3],tr.showPivotChartFilter=!!(rr&32768),tr.updateLinks=["userSet","never","always"][rr>>8&3],tr}function write_BrtWbProp(er,St){St||(St=new_buf(72));var tr=0;return er&&er.filterPrivacy&&(tr|=8),St.write_shift(4,tr),St.write_shift(4,0),write_XLSBCodeName(er&&er.CodeName||"ThisWorkbook",St),St.slice(0,St.l)}function parse_BrtName(er,St,tr){var rr=er.l+St;er.l+=4,er.l+=1;var nr=er.read_shift(4),sr=parse_XLNameWideString(er),ir=parse_XLSBNameParsedFormula(er,0,tr),ar=parse_XLNullableWideString(er);er.l=rr;var or={Name:sr,Ptg:ir};return nr<268435455&&(or.Sheet=nr),ar&&(or.Comment=ar),or}function write_BUNDLESHS(er,St){write_record(er,143);for(var tr=0;tr!=St.SheetNames.length;++tr){var rr=St.Workbook&&St.Workbook.Sheets&&St.Workbook.Sheets[tr]&&St.Workbook.Sheets[tr].Hidden||0,nr={Hidden:rr,iTabID:tr+1,strRelID:"rId"+(tr+1),name:St.SheetNames[tr]};write_record(er,156,write_BrtBundleSh(nr))}write_record(er,144)}function write_BrtFileVersion(er,St){St||(St=new_buf(127));for(var tr=0;tr!=4;++tr)St.write_shift(4,0);return write_XLWideString("SheetJS",St),write_XLWideString(XLSX.version,St),write_XLWideString(XLSX.version,St),write_XLWideString("7262",St),St.length>St.l?St.slice(0,St.l):St}function write_BrtBookView(er,St){St||(St=new_buf(29)),St.write_shift(-4,0),St.write_shift(-4,460),St.write_shift(4,28800),St.write_shift(4,17600),St.write_shift(4,500),St.write_shift(4,er),St.write_shift(4,er);var tr=120;return St.write_shift(1,tr),St.length>St.l?St.slice(0,St.l):St}function write_BOOKVIEWS(er,St){if(!(!St.Workbook||!St.Workbook.Sheets)){for(var tr=St.Workbook.Sheets,rr=0,nr=-1,sr=-1;rr<tr.length;++rr)!tr[rr]||!tr[rr].Hidden&&nr==-1?nr=rr:tr[rr].Hidden==1&&sr==-1&&(sr=rr);sr>nr||(write_record(er,135),write_record(er,158,write_BrtBookView(nr)),write_record(er,136))}}function write_wb_bin(er,St){var tr=buf_array();return write_record(tr,131),write_record(tr,128,write_BrtFileVersion()),write_record(tr,153,write_BrtWbProp(er.Workbook&&er.Workbook.WBProps||null)),write_BOOKVIEWS(tr,er),write_BUNDLESHS(tr,er),write_record(tr,132),tr.end()}function write_wb(er,St,tr){return(St.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(er)}function write_ws(er,St,tr,rr,nr){return(St.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(er,tr,rr,nr)}function write_sty(er,St,tr){return(St.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(er,tr)}function write_sst(er,St,tr){return(St.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(er,tr)}function write_cmnt(er,St,tr){return(St.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(er)}function write_xlmeta(er){return(er.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}function write_props_xlml(er,St){var tr=[];return er.Props&&tr.push(xlml_write_docprops(er.Props,St)),er.Custprops&&tr.push(xlml_write_custprops(er.Props,er.Custprops)),tr.join("")}function write_wb_xlml(){return""}function write_sty_xlml(er,St){var tr=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return St.cellXfs.forEach(function(rr,nr){var sr=[];sr.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[rr.numFmtId])}));var ir={"ss:ID":"s"+(21+nr)};tr.push(writextag("Style",sr.join(""),ir))}),writextag("Styles",tr.join(""))}function write_name_xlml(er){return writextag("NamedRange",null,{"ss:Name":er.Name,"ss:RefersTo":"="+a1_to_rc(er.Ref,{r:0,c:0})})}function write_names_xlml(er){if(!((er||{}).Workbook||{}).Names)return"";for(var St=er.Workbook.Names,tr=[],rr=0;rr<St.length;++rr){var nr=St[rr];nr.Sheet==null&&(nr.Name.match(/^_xlfn\./)||tr.push(write_name_xlml(nr)))}return writextag("Names",tr.join(""))}function write_ws_xlml_names(er,St,tr,rr){if(!er||!((rr||{}).Workbook||{}).Names)return"";for(var nr=rr.Workbook.Names,sr=[],ir=0;ir<nr.length;++ir){var ar=nr[ir];ar.Sheet==tr&&(ar.Name.match(/^_xlfn\./)||sr.push(write_name_xlml(ar)))}return sr.join("")}function write_ws_xlml_wsopts(er,St,tr,rr){if(!er)return"";var nr=[];if(er["!margins"]&&(nr.push("<PageSetup>"),er["!margins"].header&&nr.push(writextag("Header",null,{"x:Margin":er["!margins"].header})),er["!margins"].footer&&nr.push(writextag("Footer",null,{"x:Margin":er["!margins"].footer})),nr.push(writextag("PageMargins",null,{"x:Bottom":er["!margins"].bottom||"0.75","x:Left":er["!margins"].left||"0.7","x:Right":er["!margins"].right||"0.7","x:Top":er["!margins"].top||"0.75"})),nr.push("</PageSetup>")),rr&&rr.Workbook&&rr.Workbook.Sheets&&rr.Workbook.Sheets[tr])if(rr.Workbook.Sheets[tr].Hidden)nr.push(writextag("Visible",rr.Workbook.Sheets[tr].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var sr=0;sr<tr&&!(rr.Workbook.Sheets[sr]&&!rr.Workbook.Sheets[sr].Hidden);++sr);sr==tr&&nr.push("<Selected/>")}return((((rr||{}).Workbook||{}).Views||[])[0]||{}).RTL&&nr.push("<DisplayRightToLeft/>"),er["!protect"]&&(nr.push(writetag("ProtectContents","True")),er["!protect"].objects&&nr.push(writetag("ProtectObjects","True")),er["!protect"].scenarios&&nr.push(writetag("ProtectScenarios","True")),er["!protect"].selectLockedCells!=null&&!er["!protect"].selectLockedCells?nr.push(writetag("EnableSelection","NoSelection")):er["!protect"].selectUnlockedCells!=null&&!er["!protect"].selectUnlockedCells&&nr.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(ir){er["!protect"][ir[0]]&&nr.push("<"+ir[1]+"/>")})),nr.length==0?"":writextag("WorksheetOptions",nr.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(er){return er.map(function(St){var tr=xlml_unfixstr(St.t||""),rr=writextag("ss:Data",tr,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",rr,{"ss:Author":St.a})}).join("")}function write_ws_xlml_cell(er,St,tr,rr,nr,sr,ir){if(!er||er.v==null&&er.f==null)return"";var ar={};if(er.f&&(ar["ss:Formula"]="="+escapexml(a1_to_rc(er.f,ir))),er.F&&er.F.slice(0,St.length)==St){var or=decode_cell(er.F.slice(St.length+1));ar["ss:ArrayRange"]="RC:R"+(or.r==ir.r?"":"["+(or.r-ir.r)+"]")+"C"+(or.c==ir.c?"":"["+(or.c-ir.c)+"]")}if(er.l&&er.l.Target&&(ar["ss:HRef"]=escapexml(er.l.Target),er.l.Tooltip&&(ar["x:HRefScreenTip"]=escapexml(er.l.Tooltip))),tr["!merges"])for(var lr=tr["!merges"],cr=0;cr!=lr.length;++cr)lr[cr].s.c!=ir.c||lr[cr].s.r!=ir.r||(lr[cr].e.c>lr[cr].s.c&&(ar["ss:MergeAcross"]=lr[cr].e.c-lr[cr].s.c),lr[cr].e.r>lr[cr].s.r&&(ar["ss:MergeDown"]=lr[cr].e.r-lr[cr].s.r));var ur="",dr="";switch(er.t){case"z":if(!rr.sheetStubs)return"";break;case"n":ur="Number",dr=String(er.v);break;case"b":ur="Boolean",dr=er.v?"1":"0";break;case"e":ur="Error",dr=BErr[er.v];break;case"d":ur="DateTime",dr=new Date(er.v).toISOString(),er.z==null&&(er.z=er.z||table_fmt[14]);break;case"s":ur="String",dr=escapexlml(er.v||"");break}var hr=get_cell_style(rr.cellXfs,er,rr);ar["ss:StyleID"]="s"+(21+hr),ar["ss:Index"]=ir.c+1;var Ar=er.v!=null?dr:"",fr=er.t=="z"?"":'<Data ss:Type="'+ur+'">'+Ar+"</Data>";return(er.c||[]).length>0&&(fr+=write_ws_xlml_comment(er.c)),writextag("Cell",fr,ar)}function write_ws_xlml_row(er,St){var tr='<Row ss:Index="'+(er+1)+'"';return St&&(St.hpt&&!St.hpx&&(St.hpx=pt2px(St.hpt)),St.hpx&&(tr+=' ss:AutoFitHeight="0" ss:Height="'+St.hpx+'"'),St.hidden&&(tr+=' ss:Hidden="1"')),tr+">"}function write_ws_xlml_table(er,St,tr,rr){if(!er["!ref"])return"";var nr=safe_decode_range(er["!ref"]),sr=er["!merges"]||[],ir=0,ar=[];er["!cols"]&&er["!cols"].forEach(function(mr,pr){process_col(mr);var gr=!!mr.width,xr=col_obj_w(pr,mr),yr={"ss:Index":pr+1};gr&&(yr["ss:Width"]=width2px(xr.width)),mr.hidden&&(yr["ss:Hidden"]="1"),ar.push(writextag("Column",null,yr))});for(var or=Array.isArray(er),lr=nr.s.r;lr<=nr.e.r;++lr){for(var cr=[write_ws_xlml_row(lr,(er["!rows"]||[])[lr])],ur=nr.s.c;ur<=nr.e.c;++ur){var dr=!1;for(ir=0;ir!=sr.length;++ir)if(!(sr[ir].s.c>ur)&&!(sr[ir].s.r>lr)&&!(sr[ir].e.c<ur)&&!(sr[ir].e.r<lr)){(sr[ir].s.c!=ur||sr[ir].s.r!=lr)&&(dr=!0);break}if(!dr){var hr={r:lr,c:ur},Ar=encode_cell(hr),fr=or?(er[lr]||[])[ur]:er[Ar];cr.push(write_ws_xlml_cell(fr,Ar,er,St,tr,rr,hr))}}cr.push("</Row>"),cr.length>2&&ar.push(cr.join(""))}return ar.join("")}function write_ws_xlml(er,St,tr){var rr=[],nr=tr.SheetNames[er],sr=tr.Sheets[nr],ir=sr?write_ws_xlml_names(sr,St,er,tr):"";return ir.length>0&&rr.push("<Names>"+ir+"</Names>"),ir=sr?write_ws_xlml_table(sr,St,er,tr):"",ir.length>0&&rr.push("<Table>"+ir+"</Table>"),rr.push(write_ws_xlml_wsopts(sr,St,er,tr)),rr.join("")}function write_xlml(er,St){St||(St={}),er.SSF||(er.SSF=dup(table_fmt)),er.SSF&&(make_ssf(),SSF_load_table(er.SSF),St.revssf=evert_num(er.SSF),St.revssf[er.SSF[65535]]=0,St.ssf=er.SSF,St.cellXfs=[],get_cell_style(St.cellXfs,{},{revssf:{General:0}}));var tr=[];tr.push(write_props_xlml(er,St)),tr.push(write_wb_xlml()),tr.push(""),tr.push("");for(var rr=0;rr<er.SheetNames.length;++rr)tr.push(writextag("Worksheet",write_ws_xlml(rr,St,er),{"ss:Name":escapexml(er.SheetNames[rr])}));return tr[2]=write_sty_xlml(er,St),tr[3]=write_names_xlml(er),XML_HEADER+writextag("Workbook",tr.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function write_xls_props(er,St){var tr=[],rr=[],nr=[],sr=0,ir,ar=evert_key(DocSummaryPIDDSI,"n"),or=evert_key(SummaryPIDSI,"n");if(er.Props)for(ir=keys(er.Props),sr=0;sr<ir.length;++sr)(Object.prototype.hasOwnProperty.call(ar,ir[sr])?tr:Object.prototype.hasOwnProperty.call(or,ir[sr])?rr:nr).push([ir[sr],er.Props[ir[sr]]]);if(er.Custprops)for(ir=keys(er.Custprops),sr=0;sr<ir.length;++sr)Object.prototype.hasOwnProperty.call(er.Props||{},ir[sr])||(Object.prototype.hasOwnProperty.call(ar,ir[sr])?tr:Object.prototype.hasOwnProperty.call(or,ir[sr])?rr:nr).push([ir[sr],er.Custprops[ir[sr]]]);var lr=[];for(sr=0;sr<nr.length;++sr)XLSPSSkip.indexOf(nr[sr][0])>-1||PseudoPropsPairs.indexOf(nr[sr][0])>-1||nr[sr][1]!=null&&lr.push(nr[sr]);rr.length&&CFB.utils.cfb_add(St,"/SummaryInformation",write_PropertySetStream(rr,PSCLSID.SI,or,SummaryPIDSI)),(tr.length||lr.length)&&CFB.utils.cfb_add(St,"/DocumentSummaryInformation",write_PropertySetStream(tr,PSCLSID.DSI,ar,DocSummaryPIDDSI,lr.length?lr:null,PSCLSID.UDI))}function write_xlscfb(er,St){var tr=St||{},rr=CFB.utils.cfb_new({root:"R"}),nr="/Workbook";switch(tr.bookType||"xls"){case"xls":tr.bookType="biff8";case"xla":tr.bookType||(tr.bookType="xla");case"biff8":nr="/Workbook",tr.biff=8;break;case"biff5":nr="/Book",tr.biff=5;break;default:throw new Error("invalid type "+tr.bookType+" for XLS CFB")}return CFB.utils.cfb_add(rr,nr,write_biff_buf(er,tr)),tr.biff==8&&(er.Props||er.Custprops)&&write_xls_props(er,rr),tr.biff==8&&er.vbaraw&&fill_vba_xls(rr,CFB.read(er.vbaraw,{type:typeof er.vbaraw=="string"?"binary":"buffer"})),rr}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function write_biff_rec(er,St,tr,rr){var nr=St;if(!isNaN(nr)){var sr=rr||(tr||[]).length||0,ir=er.next(4);ir.write_shift(2,nr),ir.write_shift(2,sr),sr>0&&is_buf(tr)&&er.push(tr)}}function write_biff_continue(er,St,tr,rr){var nr=(tr||[]).length||0;if(nr<=8224)return write_biff_rec(er,St,tr,nr);var sr=St;if(!isNaN(sr)){for(var ir=tr.parts||[],ar=0,or=0,lr=0;lr+(ir[ar]||8224)<=8224;)lr+=ir[ar]||8224,ar++;var cr=er.next(4);for(cr.write_shift(2,sr),cr.write_shift(2,lr),er.push(tr.slice(or,or+lr)),or+=lr;or<nr;){for(cr=er.next(4),cr.write_shift(2,60),lr=0;lr+(ir[ar]||8224)<=8224;)lr+=ir[ar]||8224,ar++;cr.write_shift(2,lr),er.push(tr.slice(or,or+lr)),or+=lr}}}function write_BIFF2Cell(er,St,tr){return er||(er=new_buf(7)),er.write_shift(2,St),er.write_shift(2,tr),er.write_shift(2,0),er.write_shift(1,0),er}function write_BIFF2BERR(er,St,tr,rr){var nr=new_buf(9);return write_BIFF2Cell(nr,er,St),write_Bes(tr,rr||"b",nr),nr}function write_BIFF2LABEL(er,St,tr){var rr=new_buf(8+2*tr.length);return write_BIFF2Cell(rr,er,St),rr.write_shift(1,tr.length),rr.write_shift(tr.length,tr,"sbcs"),rr.l<rr.length?rr.slice(0,rr.l):rr}function write_ws_biff2_cell(er,St,tr,rr){if(St.v!=null)switch(St.t){case"d":case"n":var nr=St.t=="d"?datenum(parseDate(St.v)):St.v;nr==(nr|0)&&nr>=0&&nr<65536?write_biff_rec(er,2,write_BIFF2INT(tr,rr,nr)):write_biff_rec(er,3,write_BIFF2NUM(tr,rr,nr));return;case"b":case"e":write_biff_rec(er,5,write_BIFF2BERR(tr,rr,St.v,St.t));return;case"s":case"str":write_biff_rec(er,4,write_BIFF2LABEL(tr,rr,(St.v||"").slice(0,255)));return}write_biff_rec(er,1,write_BIFF2Cell(null,tr,rr))}function write_ws_biff2(er,St,tr,rr){var nr=Array.isArray(St),sr=safe_decode_range(St["!ref"]||"A1"),ir,ar="",or=[];if(sr.e.c>255||sr.e.r>16383){if(rr.WTF)throw new Error("Range "+(St["!ref"]||"A1")+" exceeds format limit A1:IV16384");sr.e.c=Math.min(sr.e.c,255),sr.e.r=Math.min(sr.e.c,16383),ir=encode_range(sr)}for(var lr=sr.s.r;lr<=sr.e.r;++lr){ar=encode_row(lr);for(var cr=sr.s.c;cr<=sr.e.c;++cr){lr===sr.s.r&&(or[cr]=encode_col(cr)),ir=or[cr]+ar;var ur=nr?(St[lr]||[])[cr]:St[ir];ur&&write_ws_biff2_cell(er,ur,lr,cr)}}}function write_biff2_buf(er,St){for(var tr=St||{},rr=buf_array(),nr=0,sr=0;sr<er.SheetNames.length;++sr)er.SheetNames[sr]==tr.sheet&&(nr=sr);if(nr==0&&tr.sheet&&er.SheetNames[0]!=tr.sheet)throw new Error("Sheet not found: "+tr.sheet);return write_biff_rec(rr,tr.biff==4?1033:tr.biff==3?521:9,write_BOF(er,16,tr)),write_ws_biff2(rr,er.Sheets[er.SheetNames[nr]],nr,tr),write_biff_rec(rr,10),rr.end()}function write_FONTS_biff8(er,St,tr){write_biff_rec(er,49,write_Font({sz:12,name:"Arial"},tr))}function write_FMTS_biff8(er,St,tr){St&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(rr){for(var nr=rr[0];nr<=rr[1];++nr)St[nr]!=null&&write_biff_rec(er,1054,write_Format(nr,St[nr],tr))})}function write_FEAT(er,St){var tr=new_buf(19);tr.write_shift(4,2151),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(2,3),tr.write_shift(1,1),tr.write_shift(4,0),write_biff_rec(er,2151,tr),tr=new_buf(39),tr.write_shift(4,2152),tr.write_shift(4,0),tr.write_shift(4,0),tr.write_shift(2,3),tr.write_shift(1,0),tr.write_shift(4,0),tr.write_shift(2,1),tr.write_shift(4,4),tr.write_shift(2,0),write_Ref8U(safe_decode_range(St["!ref"]||"A1"),tr),tr.write_shift(4,4),write_biff_rec(er,2152,tr)}function write_CELLXFS_biff8(er,St){for(var tr=0;tr<16;++tr)write_biff_rec(er,224,write_XF({numFmtId:0,style:!0},0,St));St.cellXfs.forEach(function(rr){write_biff_rec(er,224,write_XF(rr,0,St))})}function write_ws_biff8_hlinks(er,St){for(var tr=0;tr<St["!links"].length;++tr){var rr=St["!links"][tr];write_biff_rec(er,440,write_HLink(rr)),rr[1].Tooltip&&write_biff_rec(er,2048,write_HLinkTooltip(rr))}delete St["!links"]}function write_ws_cols_biff8(er,St){if(St){var tr=0;St.forEach(function(rr,nr){++tr<=256&&rr&&write_biff_rec(er,125,write_ColInfo(col_obj_w(nr,rr),nr))})}}function write_ws_biff8_cell(er,St,tr,rr,nr){var sr=16+get_cell_style(nr.cellXfs,St,nr);if(St.v==null&&!St.bf){write_biff_rec(er,513,write_XLSCell(tr,rr,sr));return}if(St.bf)write_biff_rec(er,6,write_Formula(St,tr,rr,nr,sr));else switch(St.t){case"d":case"n":var ir=St.t=="d"?datenum(parseDate(St.v)):St.v;write_biff_rec(er,515,write_Number(tr,rr,ir,sr));break;case"b":case"e":write_biff_rec(er,517,write_BoolErr(tr,rr,St.v,sr,nr,St.t));break;case"s":case"str":if(nr.bookSST){var ar=get_sst_id(nr.Strings,St.v,nr.revStrings);write_biff_rec(er,253,write_LabelSst(tr,rr,ar,sr))}else write_biff_rec(er,516,write_Label(tr,rr,(St.v||"").slice(0,255),sr,nr));break;default:write_biff_rec(er,513,write_XLSCell(tr,rr,sr))}}function write_ws_biff8(er,St,tr){var rr=buf_array(),nr=tr.SheetNames[er],sr=tr.Sheets[nr]||{},ir=(tr||{}).Workbook||{},ar=(ir.Sheets||[])[er]||{},or=Array.isArray(sr),lr=St.biff==8,cr,ur="",dr=[],hr=safe_decode_range(sr["!ref"]||"A1"),Ar=lr?65536:16384;if(hr.e.c>255||hr.e.r>=Ar){if(St.WTF)throw new Error("Range "+(sr["!ref"]||"A1")+" exceeds format limit A1:IV16384");hr.e.c=Math.min(hr.e.c,255),hr.e.r=Math.min(hr.e.c,Ar-1)}write_biff_rec(rr,2057,write_BOF(tr,16,St)),write_biff_rec(rr,13,writeuint16(1)),write_biff_rec(rr,12,writeuint16(100)),write_biff_rec(rr,15,writebool(!0)),write_biff_rec(rr,17,writebool(!1)),write_biff_rec(rr,16,write_Xnum(.001)),write_biff_rec(rr,95,writebool(!0)),write_biff_rec(rr,42,writebool(!1)),write_biff_rec(rr,43,writebool(!1)),write_biff_rec(rr,130,writeuint16(1)),write_biff_rec(rr,128,write_Guts()),write_biff_rec(rr,131,writebool(!1)),write_biff_rec(rr,132,writebool(!1)),lr&&write_ws_cols_biff8(rr,sr["!cols"]),write_biff_rec(rr,512,write_Dimensions(hr,St)),lr&&(sr["!links"]=[]);for(var fr=hr.s.r;fr<=hr.e.r;++fr){ur=encode_row(fr);for(var mr=hr.s.c;mr<=hr.e.c;++mr){fr===hr.s.r&&(dr[mr]=encode_col(mr)),cr=dr[mr]+ur;var pr=or?(sr[fr]||[])[mr]:sr[cr];pr&&(write_ws_biff8_cell(rr,pr,fr,mr,St),lr&&pr.l&&sr["!links"].push([cr,pr.l]))}}var gr=ar.CodeName||ar.name||nr;return lr&&write_biff_rec(rr,574,write_Window2((ir.Views||[])[0])),lr&&(sr["!merges"]||[]).length&&write_biff_rec(rr,229,write_MergeCells(sr["!merges"])),lr&&write_ws_biff8_hlinks(rr,sr),write_biff_rec(rr,442,write_XLUnicodeString(gr)),lr&&write_FEAT(rr,sr),write_biff_rec(rr,10),rr.end()}function write_biff8_global(er,St,tr){var rr=buf_array(),nr=(er||{}).Workbook||{},sr=nr.Sheets||[],ir=nr.WBProps||{},ar=tr.biff==8,or=tr.biff==5;if(write_biff_rec(rr,2057,write_BOF(er,5,tr)),tr.bookType=="xla"&&write_biff_rec(rr,135),write_biff_rec(rr,225,ar?writeuint16(1200):null),write_biff_rec(rr,193,writezeroes(2)),or&&write_biff_rec(rr,191),or&&write_biff_rec(rr,192),write_biff_rec(rr,226),write_biff_rec(rr,92,write_WriteAccess("SheetJS",tr)),write_biff_rec(rr,66,writeuint16(ar?1200:1252)),ar&&write_biff_rec(rr,353,writeuint16(0)),ar&&write_biff_rec(rr,448),write_biff_rec(rr,317,write_RRTabId(er.SheetNames.length)),ar&&er.vbaraw&&write_biff_rec(rr,211),ar&&er.vbaraw){var lr=ir.CodeName||"ThisWorkbook";write_biff_rec(rr,442,write_XLUnicodeString(lr))}write_biff_rec(rr,156,writeuint16(17)),write_biff_rec(rr,25,writebool(!1)),write_biff_rec(rr,18,writebool(!1)),write_biff_rec(rr,19,writeuint16(0)),ar&&write_biff_rec(rr,431,writebool(!1)),ar&&write_biff_rec(rr,444,writeuint16(0)),write_biff_rec(rr,61,write_Window1()),write_biff_rec(rr,64,writebool(!1)),write_biff_rec(rr,141,writeuint16(0)),write_biff_rec(rr,34,writebool(safe1904(er)=="true")),write_biff_rec(rr,14,writebool(!0)),ar&&write_biff_rec(rr,439,writebool(!1)),write_biff_rec(rr,218,writeuint16(0)),write_FONTS_biff8(rr,er,tr),write_FMTS_biff8(rr,er.SSF,tr),write_CELLXFS_biff8(rr,tr),ar&&write_biff_rec(rr,352,writebool(!1));var cr=rr.end(),ur=buf_array();ar&&write_biff_rec(ur,140,write_Country()),ar&&tr.Strings&&write_biff_continue(ur,252,write_SST(tr.Strings)),write_biff_rec(ur,10);var dr=ur.end(),hr=buf_array(),Ar=0,fr=0;for(fr=0;fr<er.SheetNames.length;++fr)Ar+=(ar?12:11)+(ar?2:1)*er.SheetNames[fr].length;var mr=cr.length+Ar+dr.length;for(fr=0;fr<er.SheetNames.length;++fr){var pr=sr[fr]||{};write_biff_rec(hr,133,write_BoundSheet8({pos:mr,hs:pr.Hidden||0,dt:0,name:er.SheetNames[fr]},tr)),mr+=St[fr].length}var gr=hr.end();if(Ar!=gr.length)throw new Error("BS8 "+Ar+" != "+gr.length);var xr=[];return cr.length&&xr.push(cr),gr.length&&xr.push(gr),dr.length&&xr.push(dr),bconcat(xr)}function write_biff8_buf(er,St){var tr=St||{},rr=[];er&&!er.SSF&&(er.SSF=dup(table_fmt)),er&&er.SSF&&(make_ssf(),SSF_load_table(er.SSF),tr.revssf=evert_num(er.SSF),tr.revssf[er.SSF[65535]]=0,tr.ssf=er.SSF),tr.Strings=[],tr.Strings.Count=0,tr.Strings.Unique=0,fix_write_opts(tr),tr.cellXfs=[],get_cell_style(tr.cellXfs,{},{revssf:{General:0}}),er.Props||(er.Props={});for(var nr=0;nr<er.SheetNames.length;++nr)rr[rr.length]=write_ws_biff8(nr,tr,er);return rr.unshift(write_biff8_global(er,rr,tr)),bconcat(rr)}function write_biff_buf(er,St){for(var tr=0;tr<=er.SheetNames.length;++tr){var rr=er.Sheets[er.SheetNames[tr]];if(!(!rr||!rr["!ref"])){var nr=decode_range(rr["!ref"]);nr.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+er.SheetNames[tr]+"' extends beyond column IV (255).  Data may be lost.")}}var sr=St||{};switch(sr.biff||2){case 8:case 5:return write_biff8_buf(er,St);case 4:case 3:case 2:return write_biff2_buf(er,St)}throw new Error("invalid type "+sr.bookType+" for BIFF")}function make_html_row(er,St,tr,rr){for(var nr=er["!merges"]||[],sr=[],ir=St.s.c;ir<=St.e.c;++ir){for(var ar=0,or=0,lr=0;lr<nr.length;++lr)if(!(nr[lr].s.r>tr||nr[lr].s.c>ir)&&!(nr[lr].e.r<tr||nr[lr].e.c<ir)){if(nr[lr].s.r<tr||nr[lr].s.c<ir){ar=-1;break}ar=nr[lr].e.r-nr[lr].s.r+1,or=nr[lr].e.c-nr[lr].s.c+1;break}if(!(ar<0)){var cr=encode_cell({r:tr,c:ir}),ur=rr.dense?(er[tr]||[])[ir]:er[cr],dr=ur&&ur.v!=null&&(ur.h||escapehtml(ur.w||(format_cell(ur),ur.w)||""))||"",hr={};ar>1&&(hr.rowspan=ar),or>1&&(hr.colspan=or),rr.editable?dr='<span contenteditable="true">'+dr+"</span>":ur&&(hr["data-t"]=ur&&ur.t||"z",ur.v!=null&&(hr["data-v"]=ur.v),ur.z!=null&&(hr["data-z"]=ur.z),ur.l&&(ur.l.Target||"#").charAt(0)!="#"&&(dr='<a href="'+ur.l.Target+'">'+dr+"</a>")),hr.id=(rr.id||"sjs")+"-"+cr,sr.push(writextag("td",dr,hr))}}var Ar="<tr>";return Ar+sr.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function make_html_preamble(er,St,tr){var rr=[];return rr.join("")+"<table"+(tr&&tr.id?' id="'+tr.id+'"':"")+">"}function sheet_to_html(er,St){var tr=St||{},rr=tr.header!=null?tr.header:HTML_BEGIN,nr=tr.footer!=null?tr.footer:HTML_END,sr=[rr],ir=decode_range(er["!ref"]);tr.dense=Array.isArray(er),sr.push(make_html_preamble(er,ir,tr));for(var ar=ir.s.r;ar<=ir.e.r;++ar)sr.push(make_html_row(er,ir,ar,tr));return sr.push("</table>"+nr),sr.join("")}function sheet_add_dom(er,St,tr){var rr=tr||{},nr=0,sr=0;if(rr.origin!=null)if(typeof rr.origin=="number")nr=rr.origin;else{var ir=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;nr=ir.r,sr=ir.c}var ar=St.getElementsByTagName("tr"),or=Math.min(rr.sheetRows||1e7,ar.length),lr={s:{r:0,c:0},e:{r:nr,c:sr}};if(er["!ref"]){var cr=decode_range(er["!ref"]);lr.s.r=Math.min(lr.s.r,cr.s.r),lr.s.c=Math.min(lr.s.c,cr.s.c),lr.e.r=Math.max(lr.e.r,cr.e.r),lr.e.c=Math.max(lr.e.c,cr.e.c),nr==-1&&(lr.e.r=nr=cr.e.r+1)}var ur=[],dr=0,hr=er["!rows"]||(er["!rows"]=[]),Ar=0,fr=0,mr=0,pr=0,gr=0,xr=0;for(er["!cols"]||(er["!cols"]=[]);Ar<ar.length&&fr<or;++Ar){var yr=ar[Ar];if(is_dom_element_hidden(yr)){if(rr.display)continue;hr[fr]={hidden:!0}}var Er=yr.children;for(mr=pr=0;mr<Er.length;++mr){var _r=Er[mr];if(!(rr.display&&is_dom_element_hidden(_r))){var Sr=_r.hasAttribute("data-v")?_r.getAttribute("data-v"):_r.hasAttribute("v")?_r.getAttribute("v"):htmldecode(_r.innerHTML),jr=_r.getAttribute("data-z")||_r.getAttribute("z");for(dr=0;dr<ur.length;++dr){var Pr=ur[dr];Pr.s.c==pr+sr&&Pr.s.r<fr+nr&&fr+nr<=Pr.e.r&&(pr=Pr.e.c+1-sr,dr=-1)}xr=+_r.getAttribute("colspan")||1,((gr=+_r.getAttribute("rowspan")||1)>1||xr>1)&&ur.push({s:{r:fr+nr,c:pr+sr},e:{r:fr+nr+(gr||1)-1,c:pr+sr+(xr||1)-1}});var Mr={t:"s",v:Sr},Ir=_r.getAttribute("data-t")||_r.getAttribute("t")||"";Sr!=null&&(Sr.length==0?Mr.t=Ir||"z":rr.raw||Sr.trim().length==0||Ir=="s"||(Sr==="TRUE"?Mr={t:"b",v:!0}:Sr==="FALSE"?Mr={t:"b",v:!1}:isNaN(fuzzynum(Sr))?isNaN(fuzzydate(Sr).getDate())||(Mr={t:"d",v:parseDate(Sr)},rr.cellDates||(Mr={t:"n",v:datenum(Mr.v)}),Mr.z=rr.dateNF||table_fmt[14]):Mr={t:"n",v:fuzzynum(Sr)})),Mr.z===void 0&&jr!=null&&(Mr.z=jr);var Lr="",Qr=_r.getElementsByTagName("A");if(Qr&&Qr.length)for(var Yr=0;Yr<Qr.length&&!(Qr[Yr].hasAttribute("href")&&(Lr=Qr[Yr].getAttribute("href"),Lr.charAt(0)!="#"));++Yr);Lr&&Lr.charAt(0)!="#"&&(Mr.l={Target:Lr}),rr.dense?(er[fr+nr]||(er[fr+nr]=[]),er[fr+nr][pr+sr]=Mr):er[encode_cell({c:pr+sr,r:fr+nr})]=Mr,lr.e.c<pr+sr&&(lr.e.c=pr+sr),pr+=xr}}++fr}return ur.length&&(er["!merges"]=(er["!merges"]||[]).concat(ur)),lr.e.r=Math.max(lr.e.r,fr-1+nr),er["!ref"]=encode_range(lr),fr>=or&&(er["!fullref"]=encode_range((lr.e.r=ar.length-Ar+fr-1+nr,lr))),er}function parse_dom_table(er,St){var tr=St||{},rr=tr.dense?[]:{};return sheet_add_dom(rr,er,St)}function table_to_book(er,St){return sheet_to_workbook(parse_dom_table(er,St),St)}function is_dom_element_hidden(er){var St="",tr=get_get_computed_style_function(er);return tr&&(St=tr(er).getPropertyValue("display")),St||(St=er.style&&er.style.display),St==="none"}function get_get_computed_style_function(er){return er.ownerDocument.defaultView&&typeof er.ownerDocument.defaultView.getComputedStyle=="function"?er.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var write_styles_ods=function(){var er=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),St="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+er+"</office:document-styles>";return function(){return XML_HEADER+St}}(),write_content_ods=function(){var er=function(sr){return escapexml(sr).replace(/  +/g,function(ir){return'<text:s text:c="'+ir.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},St=`          <table:table-cell />
`,tr=`          <table:covered-table-cell/>
`,rr=function(sr,ir,ar){var or=[];or.push('      <table:table table:name="'+escapexml(ir.SheetNames[ar])+`" table:style-name="ta1">
`);var lr=0,cr=0,ur=decode_range(sr["!ref"]||"A1"),dr=sr["!merges"]||[],hr=0,Ar=Array.isArray(sr);if(sr["!cols"])for(cr=0;cr<=ur.e.c;++cr)or.push("        <table:table-column"+(sr["!cols"][cr]?' table:style-name="co'+sr["!cols"][cr].ods+'"':"")+`></table:table-column>
`);var fr="",mr=sr["!rows"]||[];for(lr=0;lr<ur.s.r;++lr)fr=mr[lr]?' table:style-name="ro'+mr[lr].ods+'"':"",or.push("        <table:table-row"+fr+`></table:table-row>
`);for(;lr<=ur.e.r;++lr){for(fr=mr[lr]?' table:style-name="ro'+mr[lr].ods+'"':"",or.push("        <table:table-row"+fr+`>
`),cr=0;cr<ur.s.c;++cr)or.push(St);for(;cr<=ur.e.c;++cr){var pr=!1,gr={},xr="";for(hr=0;hr!=dr.length;++hr)if(!(dr[hr].s.c>cr)&&!(dr[hr].s.r>lr)&&!(dr[hr].e.c<cr)&&!(dr[hr].e.r<lr)){(dr[hr].s.c!=cr||dr[hr].s.r!=lr)&&(pr=!0),gr["table:number-columns-spanned"]=dr[hr].e.c-dr[hr].s.c+1,gr["table:number-rows-spanned"]=dr[hr].e.r-dr[hr].s.r+1;break}if(pr){or.push(tr);continue}var yr=encode_cell({r:lr,c:cr}),Er=Ar?(sr[lr]||[])[cr]:sr[yr];if(Er&&Er.f&&(gr["table:formula"]=escapexml(csf_to_ods_formula(Er.f)),Er.F&&Er.F.slice(0,yr.length)==yr)){var _r=decode_range(Er.F);gr["table:number-matrix-columns-spanned"]=_r.e.c-_r.s.c+1,gr["table:number-matrix-rows-spanned"]=_r.e.r-_r.s.r+1}if(!Er){or.push(St);continue}switch(Er.t){case"b":xr=Er.v?"TRUE":"FALSE",gr["office:value-type"]="boolean",gr["office:boolean-value"]=Er.v?"true":"false";break;case"n":xr=Er.w||String(Er.v||0),gr["office:value-type"]="float",gr["office:value"]=Er.v||0;break;case"s":case"str":xr=Er.v==null?"":Er.v,gr["office:value-type"]="string";break;case"d":xr=Er.w||parseDate(Er.v).toISOString(),gr["office:value-type"]="date",gr["office:date-value"]=parseDate(Er.v).toISOString(),gr["table:style-name"]="ce1";break;default:or.push(St);continue}var Sr=er(xr);if(Er.l&&Er.l.Target){var jr=Er.l.Target;jr=jr.charAt(0)=="#"?"#"+csf_to_ods_3D(jr.slice(1)):jr,jr.charAt(0)!="#"&&!jr.match(/^\w+:/)&&(jr="../"+jr),Sr=writextag("text:a",Sr,{"xlink:href":jr.replace(/&/g,"&amp;")})}or.push("          "+writextag("table:table-cell",writextag("text:p",Sr,{}),gr)+`
`)}or.push(`        </table:table-row>
`)}return or.push(`      </table:table>
`),or.join("")},nr=function(sr,ir){sr.push(` <office:automatic-styles>
`),sr.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),sr.push(`   <number:month number:style="long"/>
`),sr.push(`   <number:text>/</number:text>
`),sr.push(`   <number:day number:style="long"/>
`),sr.push(`   <number:text>/</number:text>
`),sr.push(`   <number:year/>
`),sr.push(`  </number:date-style>
`);var ar=0;ir.SheetNames.map(function(lr){return ir.Sheets[lr]}).forEach(function(lr){if(lr&&lr["!cols"]){for(var cr=0;cr<lr["!cols"].length;++cr)if(lr["!cols"][cr]){var ur=lr["!cols"][cr];if(ur.width==null&&ur.wpx==null&&ur.wch==null)continue;process_col(ur),ur.ods=ar;var dr=lr["!cols"][cr].wpx+"px";sr.push('  <style:style style:name="co'+ar+`" style:family="table-column">
`),sr.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+dr+`"/>
`),sr.push(`  </style:style>
`),++ar}}});var or=0;ir.SheetNames.map(function(lr){return ir.Sheets[lr]}).forEach(function(lr){if(lr&&lr["!rows"]){for(var cr=0;cr<lr["!rows"].length;++cr)if(lr["!rows"][cr]){lr["!rows"][cr].ods=or;var ur=lr["!rows"][cr].hpx+"px";sr.push('  <style:style style:name="ro'+or+`" style:family="table-row">
`),sr.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+ur+`"/>
`),sr.push(`  </style:style>
`),++or}}}),sr.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),sr.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),sr.push(`  </style:style>
`),sr.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),sr.push(` </office:automatic-styles>
`)};return function(ir,ar){var or=[XML_HEADER],lr=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),cr=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});ar.bookType=="fods"?(or.push("<office:document"+lr+cr+`>
`),or.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):or.push("<office:document-content"+lr+`>
`),nr(or,ir),or.push(`  <office:body>
`),or.push(`    <office:spreadsheet>
`);for(var ur=0;ur!=ir.SheetNames.length;++ur)or.push(rr(ir.Sheets[ir.SheetNames[ur]],ir,ur));return or.push(`    </office:spreadsheet>
`),or.push(`  </office:body>
`),ar.bookType=="fods"?or.push("</office:document>"):or.push("</office:document-content>"),or.join("")}}();function write_ods(er,St){if(St.bookType=="fods")return write_content_ods(er,St);var tr=zip_new(),rr="",nr=[],sr=[];return rr="mimetype",zip_add_file(tr,rr,"application/vnd.oasis.opendocument.spreadsheet"),rr="content.xml",zip_add_file(tr,rr,write_content_ods(er,St)),nr.push([rr,"text/xml"]),sr.push([rr,"ContentFile"]),rr="styles.xml",zip_add_file(tr,rr,write_styles_ods(er,St)),nr.push([rr,"text/xml"]),sr.push([rr,"StylesFile"]),rr="meta.xml",zip_add_file(tr,rr,XML_HEADER+write_meta_ods()),nr.push([rr,"text/xml"]),sr.push([rr,"MetadataFile"]),rr="manifest.rdf",zip_add_file(tr,rr,write_rdf(sr)),nr.push([rr,"application/rdf+xml"]),rr="META-INF/manifest.xml",zip_add_file(tr,rr,write_manifest(nr)),tr}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(er){return new DataView(er.buffer,er.byteOffset,er.byteLength)}function stru8(er){return typeof TextEncoder<"u"?new TextEncoder().encode(er):s2a(utf8write(er))}function u8contains(er,St){e:for(var tr=0;tr<=er.length-St.length;++tr){for(var rr=0;rr<St.length;++rr)if(er[tr+rr]!=St[rr])continue e;return!0}return!1}function u8concat(er){var St=er.reduce(function(nr,sr){return nr+sr.length},0),tr=new Uint8Array(St),rr=0;return er.forEach(function(nr){tr.set(nr,rr),rr+=nr.length}),tr}function writeDecimal128LE(er,St,tr){var rr=Math.floor(tr==0?0:Math.LOG10E*Math.log(Math.abs(tr)))+6176-20,nr=tr/Math.pow(10,rr-6176);er[St+15]|=rr>>7,er[St+14]|=(rr&127)<<1;for(var sr=0;nr>=1;++sr,nr/=256)er[St+sr]=nr&255;er[St+15]|=tr>=0?0:128}function parse_varint49(er,St){var tr=St?St[0]:0,rr=er[tr]&127;e:if(er[tr++]>=128&&(rr|=(er[tr]&127)<<7,er[tr++]<128||(rr|=(er[tr]&127)<<14,er[tr++]<128)||(rr|=(er[tr]&127)<<21,er[tr++]<128)||(rr+=(er[tr]&127)*Math.pow(2,28),++tr,er[tr++]<128)||(rr+=(er[tr]&127)*Math.pow(2,35),++tr,er[tr++]<128)||(rr+=(er[tr]&127)*Math.pow(2,42),++tr,er[tr++]<128)))break e;return St&&(St[0]=tr),rr}function write_varint49(er){var St=new Uint8Array(7);St[0]=er&127;var tr=1;e:if(er>127){if(St[tr-1]|=128,St[tr]=er>>7&127,++tr,er<=16383||(St[tr-1]|=128,St[tr]=er>>14&127,++tr,er<=2097151)||(St[tr-1]|=128,St[tr]=er>>21&127,++tr,er<=268435455)||(St[tr-1]|=128,St[tr]=er/256>>>21&127,++tr,er<=34359738367)||(St[tr-1]|=128,St[tr]=er/65536>>>21&127,++tr,er<=4398046511103))break e;St[tr-1]|=128,St[tr]=er/16777216>>>21&127,++tr}return St.slice(0,tr)}function varint_to_i32(er){var St=0,tr=er[St]&127;e:if(er[St++]>=128){if(tr|=(er[St]&127)<<7,er[St++]<128||(tr|=(er[St]&127)<<14,er[St++]<128)||(tr|=(er[St]&127)<<21,er[St++]<128))break e;tr|=(er[St]&127)<<28}return tr}function parse_shallow(er){for(var St=[],tr=[0];tr[0]<er.length;){var rr=tr[0],nr=parse_varint49(er,tr),sr=nr&7;nr=Math.floor(nr/8);var ir=0,ar;if(nr==0)break;switch(sr){case 0:{for(var or=tr[0];er[tr[0]++]>=128;);ar=er.slice(or,tr[0])}break;case 5:ir=4,ar=er.slice(tr[0],tr[0]+ir),tr[0]+=ir;break;case 1:ir=8,ar=er.slice(tr[0],tr[0]+ir),tr[0]+=ir;break;case 2:ir=parse_varint49(er,tr),ar=er.slice(tr[0],tr[0]+ir),tr[0]+=ir;break;case 3:case 4:default:throw new Error("PB Type ".concat(sr," for Field ").concat(nr," at offset ").concat(rr))}var lr={data:ar,type:sr};St[nr]==null?St[nr]=[lr]:St[nr].push(lr)}return St}function write_shallow(er){var St=[];return er.forEach(function(tr,rr){tr.forEach(function(nr){nr.data&&(St.push(write_varint49(rr*8+nr.type)),nr.type==2&&St.push(write_varint49(nr.data.length)),St.push(nr.data))})}),u8concat(St)}function parse_iwa_file(er){for(var St,tr=[],rr=[0];rr[0]<er.length;){var nr=parse_varint49(er,rr),sr=parse_shallow(er.slice(rr[0],rr[0]+nr));rr[0]+=nr;var ir={id:varint_to_i32(sr[1][0].data),messages:[]};sr[2].forEach(function(ar){var or=parse_shallow(ar.data),lr=varint_to_i32(or[3][0].data);ir.messages.push({meta:or,data:er.slice(rr[0],rr[0]+lr)}),rr[0]+=lr}),(St=sr[3])!=null&&St[0]&&(ir.merge=varint_to_i32(sr[3][0].data)>>>0>0),tr.push(ir)}return tr}function write_iwa_file(er){var St=[];return er.forEach(function(tr){var rr=[];rr[1]=[{data:write_varint49(tr.id),type:0}],rr[2]=[],tr.merge!=null&&(rr[3]=[{data:write_varint49(+!!tr.merge),type:0}]);var nr=[];tr.messages.forEach(function(ir){nr.push(ir.data),ir.meta[3]=[{type:0,data:write_varint49(ir.data.length)}],rr[2].push({data:write_shallow(ir.meta),type:2})});var sr=write_shallow(rr);St.push(write_varint49(sr.length)),St.push(sr),nr.forEach(function(ir){return St.push(ir)})}),u8concat(St)}function parse_snappy_chunk(er,St){if(er!=0)throw new Error("Unexpected Snappy chunk type ".concat(er));for(var tr=[0],rr=parse_varint49(St,tr),nr=[];tr[0]<St.length;){var sr=St[tr[0]]&3;if(sr==0){var ir=St[tr[0]++]>>2;if(ir<60)++ir;else{var ar=ir-59;ir=St[tr[0]],ar>1&&(ir|=St[tr[0]+1]<<8),ar>2&&(ir|=St[tr[0]+2]<<16),ar>3&&(ir|=St[tr[0]+3]<<24),ir>>>=0,ir++,tr[0]+=ar}nr.push(St.slice(tr[0],tr[0]+ir)),tr[0]+=ir;continue}else{var or=0,lr=0;if(sr==1?(lr=(St[tr[0]]>>2&7)+4,or=(St[tr[0]++]&224)<<3,or|=St[tr[0]++]):(lr=(St[tr[0]++]>>2)+1,sr==2?(or=St[tr[0]]|St[tr[0]+1]<<8,tr[0]+=2):(or=(St[tr[0]]|St[tr[0]+1]<<8|St[tr[0]+2]<<16|St[tr[0]+3]<<24)>>>0,tr[0]+=4)),nr=[u8concat(nr)],or==0)throw new Error("Invalid offset 0");if(or>nr[0].length)throw new Error("Invalid offset beyond length");if(lr>=or)for(nr.push(nr[0].slice(-or)),lr-=or;lr>=nr[nr.length-1].length;)nr.push(nr[nr.length-1]),lr-=nr[nr.length-1].length;nr.push(nr[0].slice(-or,-or+lr))}}var cr=u8concat(nr);if(cr.length!=rr)throw new Error("Unexpected length: ".concat(cr.length," != ").concat(rr));return cr}function decompress_iwa_file(er){for(var St=[],tr=0;tr<er.length;){var rr=er[tr++],nr=er[tr]|er[tr+1]<<8|er[tr+2]<<16;tr+=3,St.push(parse_snappy_chunk(rr,er.slice(tr,tr+nr))),tr+=nr}if(tr!==er.length)throw new Error("data is not a valid framed stream!");return u8concat(St)}function compress_iwa_file(er){for(var St=[],tr=0;tr<er.length;){var rr=Math.min(er.length-tr,268435455),nr=new Uint8Array(4);St.push(nr);var sr=write_varint49(rr),ir=sr.length;St.push(sr),rr<=60?(ir++,St.push(new Uint8Array([rr-1<<2]))):rr<=256?(ir+=2,St.push(new Uint8Array([240,rr-1&255]))):rr<=65536?(ir+=3,St.push(new Uint8Array([244,rr-1&255,rr-1>>8&255]))):rr<=16777216?(ir+=4,St.push(new Uint8Array([248,rr-1&255,rr-1>>8&255,rr-1>>16&255]))):rr<=4294967296&&(ir+=5,St.push(new Uint8Array([252,rr-1&255,rr-1>>8&255,rr-1>>16&255,rr-1>>>24&255]))),St.push(er.slice(tr,tr+rr)),ir+=rr,nr[0]=0,nr[1]=ir&255,nr[2]=ir>>8&255,nr[3]=ir>>16&255,tr+=rr}return u8concat(St)}function write_new_storage(er,St){var tr=new Uint8Array(32),rr=u8_to_dataview(tr),nr=12,sr=0;switch(tr[0]=5,er.t){case"n":tr[1]=2,writeDecimal128LE(tr,nr,er.v),sr|=1,nr+=16;break;case"b":tr[1]=6,rr.setFloat64(nr,er.v?1:0,!0),sr|=2,nr+=8;break;case"s":if(St.indexOf(er.v)==-1)throw new Error("Value ".concat(er.v," missing from SST!"));tr[1]=3,rr.setUint32(nr,St.indexOf(er.v),!0),sr|=8,nr+=4;break;default:throw"unsupported cell type "+er.t}return rr.setUint32(8,sr,!0),tr.slice(0,nr)}function write_old_storage(er,St){var tr=new Uint8Array(32),rr=u8_to_dataview(tr),nr=12,sr=0;switch(tr[0]=3,er.t){case"n":tr[2]=2,rr.setFloat64(nr,er.v,!0),sr|=32,nr+=8;break;case"b":tr[2]=6,rr.setFloat64(nr,er.v?1:0,!0),sr|=32,nr+=8;break;case"s":if(St.indexOf(er.v)==-1)throw new Error("Value ".concat(er.v," missing from SST!"));tr[2]=3,rr.setUint32(nr,St.indexOf(er.v),!0),sr|=16,nr+=4;break;default:throw"unsupported cell type "+er.t}return rr.setUint32(4,sr,!0),tr.slice(0,nr)}function parse_TSP_Reference(er){var St=parse_shallow(er);return parse_varint49(St[1][0].data)}function write_tile_row(er,St,tr){var rr,nr,sr,ir;if(!((rr=er[6])!=null&&rr[0])||!((nr=er[7])!=null&&nr[0]))throw"Mutation only works on post-BNC storages!";var ar=((ir=(sr=er[8])==null?void 0:sr[0])==null?void 0:ir.data)&&varint_to_i32(er[8][0].data)>0||!1;if(ar)throw"Math only works with normal offsets";for(var or=0,lr=u8_to_dataview(er[7][0].data),cr=0,ur=[],dr=u8_to_dataview(er[4][0].data),hr=0,Ar=[],fr=0;fr<St.length;++fr){if(St[fr]==null){lr.setUint16(fr*2,65535,!0),dr.setUint16(fr*2,65535);continue}lr.setUint16(fr*2,cr,!0),dr.setUint16(fr*2,hr,!0);var mr,pr;switch(typeof St[fr]){case"string":mr=write_new_storage({t:"s",v:St[fr]},tr),pr=write_old_storage({t:"s",v:St[fr]},tr);break;case"number":mr=write_new_storage({t:"n",v:St[fr]},tr),pr=write_old_storage({t:"n",v:St[fr]},tr);break;case"boolean":mr=write_new_storage({t:"b",v:St[fr]},tr),pr=write_old_storage({t:"b",v:St[fr]},tr);break;default:throw new Error("Unsupported value "+St[fr])}ur.push(mr),cr+=mr.length,Ar.push(pr),hr+=pr.length,++or}for(er[2][0].data=write_varint49(or);fr<er[7][0].data.length/2;++fr)lr.setUint16(fr*2,65535,!0),dr.setUint16(fr*2,65535,!0);return er[6][0].data=u8concat(ur),er[3][0].data=u8concat(Ar),or}function write_numbers_iwa(er,St){if(!St||!St.numbers)throw new Error("Must pass a `numbers` option -- check the README");var tr=er.Sheets[er.SheetNames[0]];er.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var rr=decode_range(tr["!ref"]);rr.s.r=rr.s.c=0;var nr=!1;rr.e.c>9&&(nr=!0,rr.e.c=9),rr.e.r>49&&(nr=!0,rr.e.r=49),nr&&console.error("The Numbers writer is currently limited to ".concat(encode_range(rr)));var sr=sheet_to_json(tr,{range:rr,header:1}),ir=["~Sh33tJ5~"];sr.forEach(function(Or){return Or.forEach(function(Hr){typeof Hr=="string"&&ir.push(Hr)})});var ar={},or=[],lr=CFB.read(St.numbers,{type:"base64"});lr.FileIndex.map(function(Or,Hr){return[Or,lr.FullPaths[Hr]]}).forEach(function(Or){var Hr=Or[0],zr=Or[1];if(Hr.type==2&&Hr.name.match(/\.iwa/)){var Zr=Hr.content,nn=decompress_iwa_file(Zr),vn=parse_iwa_file(nn);vn.forEach(function(hn){or.push(hn.id),ar[hn.id]={deps:[],location:zr,type:varint_to_i32(hn.messages[0].meta[1][0].data)}})}}),or.sort(function(Or,Hr){return Or-Hr});var cr=or.filter(function(Or){return Or>1}).map(function(Or){return[Or,write_varint49(Or)]});lr.FileIndex.map(function(Or,Hr){return[Or,lr.FullPaths[Hr]]}).forEach(function(Or){var Hr=Or[0];if(Or[1],!!Hr.name.match(/\.iwa/)){var zr=parse_iwa_file(decompress_iwa_file(Hr.content));zr.forEach(function(Zr){Zr.messages.forEach(function(nn){cr.forEach(function(vn){Zr.messages.some(function(hn){return varint_to_i32(hn.meta[1][0].data)!=11006&&u8contains(hn.data,vn[1])})&&ar[vn[0]].deps.push(Zr.id)})})})}});for(var ur=CFB.find(lr,ar[1].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),hr,Ar=0;Ar<dr.length;++Ar){var fr=dr[Ar];fr.id==1&&(hr=fr)}var mr=parse_TSP_Reference(parse_shallow(hr.messages[0].data)[1][0].data);for(ur=CFB.find(lr,ar[mr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),Ar=0;Ar<dr.length;++Ar)fr=dr[Ar],fr.id==mr&&(hr=fr);for(mr=parse_TSP_Reference(parse_shallow(hr.messages[0].data)[2][0].data),ur=CFB.find(lr,ar[mr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),Ar=0;Ar<dr.length;++Ar)fr=dr[Ar],fr.id==mr&&(hr=fr);for(mr=parse_TSP_Reference(parse_shallow(hr.messages[0].data)[2][0].data),ur=CFB.find(lr,ar[mr].location),dr=parse_iwa_file(decompress_iwa_file(ur.content)),Ar=0;Ar<dr.length;++Ar)fr=dr[Ar],fr.id==mr&&(hr=fr);var pr=parse_shallow(hr.messages[0].data);{pr[6][0].data=write_varint49(rr.e.r+1),pr[7][0].data=write_varint49(rr.e.c+1);var gr=parse_TSP_Reference(pr[46][0].data),xr=CFB.find(lr,ar[gr].location),yr=parse_iwa_file(decompress_iwa_file(xr.content));{for(var Er=0;Er<yr.length&&yr[Er].id!=gr;++Er);if(yr[Er].id!=gr)throw"Bad ColumnRowUIDMapArchive";var _r=parse_shallow(yr[Er].messages[0].data);_r[1]=[],_r[2]=[],_r[3]=[];for(var Sr=0;Sr<=rr.e.c;++Sr){var jr=[];jr[1]=jr[2]=[{type:0,data:write_varint49(Sr+420690)}],_r[1].push({type:2,data:write_shallow(jr)}),_r[2].push({type:0,data:write_varint49(Sr)}),_r[3].push({type:0,data:write_varint49(Sr)})}_r[4]=[],_r[5]=[],_r[6]=[];for(var Pr=0;Pr<=rr.e.r;++Pr)jr=[],jr[1]=jr[2]=[{type:0,data:write_varint49(Pr+726270)}],_r[4].push({type:2,data:write_shallow(jr)}),_r[5].push({type:0,data:write_varint49(Pr)}),_r[6].push({type:0,data:write_varint49(Pr)});yr[Er].messages[0].data=write_shallow(_r)}xr.content=compress_iwa_file(write_iwa_file(yr)),xr.size=xr.content.length,delete pr[46];var Mr=parse_shallow(pr[4][0].data);{Mr[7][0].data=write_varint49(rr.e.r+1);var Ir=parse_shallow(Mr[1][0].data),Lr=parse_TSP_Reference(Ir[2][0].data);xr=CFB.find(lr,ar[Lr].location),yr=parse_iwa_file(decompress_iwa_file(xr.content));{if(yr[0].id!=Lr)throw"Bad HeaderStorageBucket";var Qr=parse_shallow(yr[0].messages[0].data);for(Pr=0;Pr<sr.length;++Pr){var Yr=parse_shallow(Qr[2][0].data);Yr[1][0].data=write_varint49(Pr),Yr[4][0].data=write_varint49(sr[Pr].length),Qr[2][Pr]={type:Qr[2][0].type,data:write_shallow(Yr)}}yr[0].messages[0].data=write_shallow(Qr)}xr.content=compress_iwa_file(write_iwa_file(yr)),xr.size=xr.content.length;var Gr=parse_TSP_Reference(Mr[2][0].data);xr=CFB.find(lr,ar[Gr].location),yr=parse_iwa_file(decompress_iwa_file(xr.content));{if(yr[0].id!=Gr)throw"Bad HeaderStorageBucket";for(Qr=parse_shallow(yr[0].messages[0].data),Sr=0;Sr<=rr.e.c;++Sr)Yr=parse_shallow(Qr[2][0].data),Yr[1][0].data=write_varint49(Sr),Yr[4][0].data=write_varint49(rr.e.r+1),Qr[2][Sr]={type:Qr[2][0].type,data:write_shallow(Yr)};yr[0].messages[0].data=write_shallow(Qr)}xr.content=compress_iwa_file(write_iwa_file(yr)),xr.size=xr.content.length;var $r=parse_TSP_Reference(Mr[4][0].data);(function(){for(var Or=CFB.find(lr,ar[$r].location),Hr=parse_iwa_file(decompress_iwa_file(Or.content)),zr,Zr=0;Zr<Hr.length;++Zr){var nn=Hr[Zr];nn.id==$r&&(zr=nn)}var vn=parse_shallow(zr.messages[0].data);{vn[3]=[];var hn=[];ir.forEach(function(bn,Mn){hn[1]=[{type:0,data:write_varint49(Mn)}],hn[2]=[{type:0,data:write_varint49(1)}],hn[3]=[{type:2,data:stru8(bn)}],vn[3].push({type:2,data:write_shallow(hn)})})}zr.messages[0].data=write_shallow(vn);var En=write_iwa_file(Hr),Tn=compress_iwa_file(En);Or.content=Tn,Or.size=Or.content.length})();var Vr=parse_shallow(Mr[3][0].data);{var Tr=Vr[1][0];delete Vr[2];var Fr=parse_shallow(Tr.data);{var Wr=parse_TSP_Reference(Fr[2][0].data);(function(){for(var Or=CFB.find(lr,ar[Wr].location),Hr=parse_iwa_file(decompress_iwa_file(Or.content)),zr,Zr=0;Zr<Hr.length;++Zr){var nn=Hr[Zr];nn.id==Wr&&(zr=nn)}var vn=parse_shallow(zr.messages[0].data);{delete vn[6],delete Vr[7];var hn=new Uint8Array(vn[5][0].data);vn[5]=[];for(var En=0,Tn=0;Tn<=rr.e.r;++Tn){var bn=parse_shallow(hn);En+=write_tile_row(bn,sr[Tn],ir),bn[1][0].data=write_varint49(Tn),vn[5].push({data:write_shallow(bn),type:2})}vn[1]=[{type:0,data:write_varint49(rr.e.c+1)}],vn[2]=[{type:0,data:write_varint49(rr.e.r+1)}],vn[3]=[{type:0,data:write_varint49(En)}],vn[4]=[{type:0,data:write_varint49(rr.e.r+1)}]}zr.messages[0].data=write_shallow(vn);var Mn=write_iwa_file(Hr),Rn=compress_iwa_file(Mn);Or.content=Rn,Or.size=Or.content.length})()}Tr.data=write_shallow(Fr)}Mr[3][0].data=write_shallow(Vr)}pr[4][0].data=write_shallow(Mr)}hr.messages[0].data=write_shallow(pr);var qr=write_iwa_file(dr),Rr=compress_iwa_file(qr);return ur.content=Rr,ur.size=ur.content.length,lr}function fix_opts_func(er){return function(tr){for(var rr=0;rr!=er.length;++rr){var nr=er[rr];tr[nr[0]]===void 0&&(tr[nr[0]]=nr[1]),nr[2]==="n"&&(tr[nr[0]]=Number(tr[nr[0]]))}}}function fix_write_opts(er){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(er)}function write_zip(er,St){return St.bookType=="ods"?write_ods(er,St):St.bookType=="numbers"?write_numbers_iwa(er,St):St.bookType=="xlsb"?write_zip_xlsxb(er,St):write_zip_xlsx(er,St)}function write_zip_xlsxb(er,St){_shapeid=1024,er&&!er.SSF&&(er.SSF=dup(table_fmt)),er&&er.SSF&&(make_ssf(),SSF_load_table(er.SSF),St.revssf=evert_num(er.SSF),St.revssf[er.SSF[65535]]=0,St.ssf=er.SSF),St.rels={},St.wbrels={},St.Strings=[],St.Strings.Count=0,St.Strings.Unique=0,browser_has_Map?St.revStrings=new Map:(St.revStrings={},St.revStrings.foo=[],delete St.revStrings.foo);var tr=St.bookType=="xlsb"?"bin":"xml",rr=VBAFMTS.indexOf(St.bookType)>-1,nr=new_ct();fix_write_opts(St=St||{});var sr=zip_new(),ir="",ar=0;if(St.cellXfs=[],get_cell_style(St.cellXfs,{},{revssf:{General:0}}),er.Props||(er.Props={}),ir="docProps/core.xml",zip_add_file(sr,ir,write_core_props(er.Props,St)),nr.coreprops.push(ir),add_rels(St.rels,2,ir,RELS.CORE_PROPS),ir="docProps/app.xml",!(er.Props&&er.Props.SheetNames))if(!er.Workbook||!er.Workbook.Sheets)er.Props.SheetNames=er.SheetNames;else{for(var or=[],lr=0;lr<er.SheetNames.length;++lr)(er.Workbook.Sheets[lr]||{}).Hidden!=2&&or.push(er.SheetNames[lr]);er.Props.SheetNames=or}for(er.Props.Worksheets=er.Props.SheetNames.length,zip_add_file(sr,ir,write_ext_props(er.Props)),nr.extprops.push(ir),add_rels(St.rels,3,ir,RELS.EXT_PROPS),er.Custprops!==er.Props&&keys(er.Custprops||{}).length>0&&(ir="docProps/custom.xml",zip_add_file(sr,ir,write_cust_props(er.Custprops)),nr.custprops.push(ir),add_rels(St.rels,4,ir,RELS.CUST_PROPS)),ar=1;ar<=er.SheetNames.length;++ar){var cr={"!id":{}},ur=er.Sheets[er.SheetNames[ar-1]],dr=(ur||{})["!type"]||"sheet";switch(dr){case"chart":default:ir="xl/worksheets/sheet"+ar+"."+tr,zip_add_file(sr,ir,write_ws(ar-1,ir,St,er,cr)),nr.sheets.push(ir),add_rels(St.wbrels,-1,"worksheets/sheet"+ar+"."+tr,RELS.WS[0])}if(ur){var hr=ur["!comments"],Ar=!1,fr="";hr&&hr.length>0&&(fr="xl/comments"+ar+"."+tr,zip_add_file(sr,fr,write_cmnt(hr,fr)),nr.comments.push(fr),add_rels(cr,-1,"../comments"+ar+"."+tr,RELS.CMNT),Ar=!0),ur["!legacy"]&&Ar&&zip_add_file(sr,"xl/drawings/vmlDrawing"+ar+".vml",write_comments_vml(ar,ur["!comments"])),delete ur["!comments"],delete ur["!legacy"]}cr["!id"].rId1&&zip_add_file(sr,get_rels_path(ir),write_rels(cr))}return St.Strings!=null&&St.Strings.length>0&&(ir="xl/sharedStrings."+tr,zip_add_file(sr,ir,write_sst(St.Strings,ir,St)),nr.strs.push(ir),add_rels(St.wbrels,-1,"sharedStrings."+tr,RELS.SST)),ir="xl/workbook."+tr,zip_add_file(sr,ir,write_wb(er,ir)),nr.workbooks.push(ir),add_rels(St.rels,1,ir,RELS.WB),ir="xl/theme/theme1.xml",zip_add_file(sr,ir,write_theme(er.Themes,St)),nr.themes.push(ir),add_rels(St.wbrels,-1,"theme/theme1.xml",RELS.THEME),ir="xl/styles."+tr,zip_add_file(sr,ir,write_sty(er,ir,St)),nr.styles.push(ir),add_rels(St.wbrels,-1,"styles."+tr,RELS.STY),er.vbaraw&&rr&&(ir="xl/vbaProject.bin",zip_add_file(sr,ir,er.vbaraw),nr.vba.push(ir),add_rels(St.wbrels,-1,"vbaProject.bin",RELS.VBA)),ir="xl/metadata."+tr,zip_add_file(sr,ir,write_xlmeta(ir)),nr.metadata.push(ir),add_rels(St.wbrels,-1,"metadata."+tr,RELS.XLMETA),zip_add_file(sr,"[Content_Types].xml",write_ct(nr,St)),zip_add_file(sr,"_rels/.rels",write_rels(St.rels)),zip_add_file(sr,"xl/_rels/workbook."+tr+".rels",write_rels(St.wbrels)),delete St.revssf,delete St.ssf,sr}function write_zip_xlsx(er,St){_shapeid=1024,er&&!er.SSF&&(er.SSF=dup(table_fmt)),er&&er.SSF&&(make_ssf(),SSF_load_table(er.SSF),St.revssf=evert_num(er.SSF),St.revssf[er.SSF[65535]]=0,St.ssf=er.SSF),St.rels={},St.wbrels={},St.Strings=[],St.Strings.Count=0,St.Strings.Unique=0,browser_has_Map?St.revStrings=new Map:(St.revStrings={},St.revStrings.foo=[],delete St.revStrings.foo);var tr="xml",rr=VBAFMTS.indexOf(St.bookType)>-1,nr=new_ct();fix_write_opts(St=St||{});var sr=zip_new(),ir="",ar=0;if(St.cellXfs=[],get_cell_style(St.cellXfs,{},{revssf:{General:0}}),er.Props||(er.Props={}),ir="docProps/core.xml",zip_add_file(sr,ir,write_core_props(er.Props,St)),nr.coreprops.push(ir),add_rels(St.rels,2,ir,RELS.CORE_PROPS),ir="docProps/app.xml",!(er.Props&&er.Props.SheetNames))if(!er.Workbook||!er.Workbook.Sheets)er.Props.SheetNames=er.SheetNames;else{for(var or=[],lr=0;lr<er.SheetNames.length;++lr)(er.Workbook.Sheets[lr]||{}).Hidden!=2&&or.push(er.SheetNames[lr]);er.Props.SheetNames=or}er.Props.Worksheets=er.Props.SheetNames.length,zip_add_file(sr,ir,write_ext_props(er.Props)),nr.extprops.push(ir),add_rels(St.rels,3,ir,RELS.EXT_PROPS),er.Custprops!==er.Props&&keys(er.Custprops||{}).length>0&&(ir="docProps/custom.xml",zip_add_file(sr,ir,write_cust_props(er.Custprops)),nr.custprops.push(ir),add_rels(St.rels,4,ir,RELS.CUST_PROPS));var cr=["SheetJ5"];for(St.tcid=0,ar=1;ar<=er.SheetNames.length;++ar){var ur={"!id":{}},dr=er.Sheets[er.SheetNames[ar-1]],hr=(dr||{})["!type"]||"sheet";switch(hr){case"chart":default:ir="xl/worksheets/sheet"+ar+"."+tr,zip_add_file(sr,ir,write_ws_xml(ar-1,St,er,ur)),nr.sheets.push(ir),add_rels(St.wbrels,-1,"worksheets/sheet"+ar+"."+tr,RELS.WS[0])}if(dr){var Ar=dr["!comments"],fr=!1,mr="";if(Ar&&Ar.length>0){var pr=!1;Ar.forEach(function(gr){gr[1].forEach(function(xr){xr.T==!0&&(pr=!0)})}),pr&&(mr="xl/threadedComments/threadedComment"+ar+"."+tr,zip_add_file(sr,mr,write_tcmnt_xml(Ar,cr,St)),nr.threadedcomments.push(mr),add_rels(ur,-1,"../threadedComments/threadedComment"+ar+"."+tr,RELS.TCMNT)),mr="xl/comments"+ar+"."+tr,zip_add_file(sr,mr,write_comments_xml(Ar)),nr.comments.push(mr),add_rels(ur,-1,"../comments"+ar+"."+tr,RELS.CMNT),fr=!0}dr["!legacy"]&&fr&&zip_add_file(sr,"xl/drawings/vmlDrawing"+ar+".vml",write_comments_vml(ar,dr["!comments"])),delete dr["!comments"],delete dr["!legacy"]}ur["!id"].rId1&&zip_add_file(sr,get_rels_path(ir),write_rels(ur))}return St.Strings!=null&&St.Strings.length>0&&(ir="xl/sharedStrings."+tr,zip_add_file(sr,ir,write_sst_xml(St.Strings,St)),nr.strs.push(ir),add_rels(St.wbrels,-1,"sharedStrings."+tr,RELS.SST)),ir="xl/workbook."+tr,zip_add_file(sr,ir,write_wb_xml(er)),nr.workbooks.push(ir),add_rels(St.rels,1,ir,RELS.WB),ir="xl/theme/theme1.xml",zip_add_file(sr,ir,write_theme(er.Themes,St)),nr.themes.push(ir),add_rels(St.wbrels,-1,"theme/theme1.xml",RELS.THEME),ir="xl/styles."+tr,zip_add_file(sr,ir,write_sty_xml(er,St)),nr.styles.push(ir),add_rels(St.wbrels,-1,"styles."+tr,RELS.STY),er.vbaraw&&rr&&(ir="xl/vbaProject.bin",zip_add_file(sr,ir,er.vbaraw),nr.vba.push(ir),add_rels(St.wbrels,-1,"vbaProject.bin",RELS.VBA)),ir="xl/metadata."+tr,zip_add_file(sr,ir,write_xlmeta_xml()),nr.metadata.push(ir),add_rels(St.wbrels,-1,"metadata."+tr,RELS.XLMETA),cr.length>1&&(ir="xl/persons/person.xml",zip_add_file(sr,ir,write_people_xml(cr)),nr.people.push(ir),add_rels(St.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(sr,"[Content_Types].xml",write_ct(nr,St)),zip_add_file(sr,"_rels/.rels",write_rels(St.rels)),zip_add_file(sr,"xl/_rels/workbook."+tr+".rels",write_rels(St.wbrels)),delete St.revssf,delete St.ssf,sr}function firstbyte(er,St){var tr="";switch((St||{}).type||"base64"){case"buffer":return[er[0],er[1],er[2],er[3],er[4],er[5],er[6],er[7]];case"base64":tr=Base64_decode(er.slice(0,12));break;case"binary":tr=er;break;case"array":return[er[0],er[1],er[2],er[3],er[4],er[5],er[6],er[7]];default:throw new Error("Unrecognized type "+(St&&St.type||"undefined"))}return[tr.charCodeAt(0),tr.charCodeAt(1),tr.charCodeAt(2),tr.charCodeAt(3),tr.charCodeAt(4),tr.charCodeAt(5),tr.charCodeAt(6),tr.charCodeAt(7)]}function write_cfb_ctr(er,St){switch(St.type){case"base64":case"binary":break;case"buffer":case"array":St.type="";break;case"file":return write_dl(St.file,CFB.write(er,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+St.bookType+"' files");default:throw new Error("Unrecognized type "+St.type)}return CFB.write(er,St)}function write_zip_type(er,St){var tr=dup(St||{}),rr=write_zip(er,tr);return write_zip_denouement(rr,tr)}function write_zip_denouement(er,St){var tr={},rr=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(St.compression&&(tr.compression="DEFLATE"),St.password)tr.type=rr;else switch(St.type){case"base64":tr.type="base64";break;case"binary":tr.type="string";break;case"string":throw new Error("'string' output type invalid for '"+St.bookType+"' files");case"buffer":case"file":tr.type=rr;break;default:throw new Error("Unrecognized type "+St.type)}var nr=er.FullPaths?CFB.write(er,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[tr.type]||tr.type,compression:!!St.compression}):er.generate(tr);if(typeof Deno<"u"&&typeof nr=="string"){if(St.type=="binary"||St.type=="base64")return nr;nr=new Uint8Array(s2ab(nr))}return St.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(nr,St.password),St):St.type==="file"?write_dl(St.file,nr):St.type=="string"?utf8read(nr):nr}function write_cfb_type(er,St){var tr=St||{},rr=write_xlscfb(er,tr);return write_cfb_ctr(rr,tr)}function write_string_type(er,St,tr){tr||(tr="");var rr=tr+er;switch(St.type){case"base64":return Base64_encode(utf8write(rr));case"binary":return utf8write(rr);case"string":return er;case"file":return write_dl(St.file,rr,"utf8");case"buffer":return has_buf?Buffer_from(rr,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(rr):write_string_type(rr,{type:"binary"}).split("").map(function(nr){return nr.charCodeAt(0)})}throw new Error("Unrecognized type "+St.type)}function write_stxt_type(er,St){switch(St.type){case"base64":return Base64_encode(er);case"binary":return er;case"string":return er;case"file":return write_dl(St.file,er,"binary");case"buffer":return has_buf?Buffer_from(er,"binary"):er.split("").map(function(tr){return tr.charCodeAt(0)})}throw new Error("Unrecognized type "+St.type)}function write_binary_type(er,St){switch(St.type){case"string":case"base64":case"binary":for(var tr="",rr=0;rr<er.length;++rr)tr+=String.fromCharCode(er[rr]);return St.type=="base64"?Base64_encode(tr):St.type=="string"?utf8read(tr):tr;case"file":return write_dl(St.file,er);case"buffer":return er;default:throw new Error("Unrecognized type "+St.type)}}function writeSync(er,St){reset_cp(),check_wb(er);var tr=dup(St||{});if(tr.cellStyles&&(tr.cellNF=!0,tr.sheetStubs=!0),tr.type=="array"){tr.type="binary";var rr=writeSync(er,tr);return tr.type="array",s2ab(rr)}var nr=0;if(tr.sheet&&(typeof tr.sheet=="number"?nr=tr.sheet:nr=er.SheetNames.indexOf(tr.sheet),!er.SheetNames[nr]))throw new Error("Sheet not found: "+tr.sheet+" : "+typeof tr.sheet);switch(tr.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(er,tr),tr);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"htm":case"html":return write_string_type(sheet_to_html(er.Sheets[er.SheetNames[nr]],tr),tr);case"txt":return write_stxt_type(sheet_to_txt(er.Sheets[er.SheetNames[nr]],tr),tr);case"csv":return write_string_type(sheet_to_csv(er.Sheets[er.SheetNames[nr]],tr),tr,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"dbf":return write_binary_type(DBF.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"prn":return write_string_type(PRN.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"rtf":return write_string_type(RTF.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"eth":return write_string_type(ETH.from_sheet(er.Sheets[er.SheetNames[nr]],tr),tr);case"fods":return write_string_type(write_ods(er,tr),tr);case"wk1":return write_binary_type(WK_.sheet_to_wk1(er.Sheets[er.SheetNames[nr]],tr),tr);case"wk3":return write_binary_type(WK_.book_to_wk3(er,tr),tr);case"biff2":tr.biff||(tr.biff=2);case"biff3":tr.biff||(tr.biff=3);case"biff4":return tr.biff||(tr.biff=4),write_binary_type(write_biff_buf(er,tr),tr);case"biff5":tr.biff||(tr.biff=5);case"biff8":case"xla":case"xls":return tr.biff||(tr.biff=8),write_cfb_type(er,tr);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(er,tr);default:throw new Error("Unrecognized bookType |"+tr.bookType+"|")}}function resolve_book_type(er){if(!er.bookType){var St={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},tr=er.file.slice(er.file.lastIndexOf(".")).toLowerCase();tr.match(/^\.[a-z]+$/)&&(er.bookType=tr.slice(1)),er.bookType=St[er.bookType]||er.bookType}}function writeFileSync(er,St,tr){var rr={};return rr.type="file",rr.file=St,resolve_book_type(rr),writeSync(er,rr)}function make_json_row(er,St,tr,rr,nr,sr,ir,ar){var or=encode_row(tr),lr=ar.defval,cr=ar.raw||!Object.prototype.hasOwnProperty.call(ar,"raw"),ur=!0,dr=nr===1?[]:{};if(nr!==1)if(Object.defineProperty)try{Object.defineProperty(dr,"__rowNum__",{value:tr,enumerable:!1})}catch{dr.__rowNum__=tr}else dr.__rowNum__=tr;if(!ir||er[tr])for(var hr=St.s.c;hr<=St.e.c;++hr){var Ar=ir?er[tr][hr]:er[rr[hr]+or];if(Ar===void 0||Ar.t===void 0){if(lr===void 0)continue;sr[hr]!=null&&(dr[sr[hr]]=lr);continue}var fr=Ar.v;switch(Ar.t){case"z":if(fr==null)break;continue;case"e":fr=fr==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Ar.t)}if(sr[hr]!=null){if(fr==null)if(Ar.t=="e"&&fr===null)dr[sr[hr]]=null;else if(lr!==void 0)dr[sr[hr]]=lr;else if(cr&&fr===null)dr[sr[hr]]=null;else continue;else dr[sr[hr]]=cr&&(Ar.t!=="n"||Ar.t==="n"&&ar.rawNumbers!==!1)?fr:format_cell(Ar,fr,ar);fr!=null&&(ur=!1)}}return{row:dr,isempty:ur}}function sheet_to_json(er,St){if(er==null||er["!ref"]==null)return[];var tr={t:"n",v:0},rr=0,nr=1,sr=[],ir=0,ar="",or={s:{r:0,c:0},e:{r:0,c:0}},lr=St||{},cr=lr.range!=null?lr.range:er["!ref"];switch(lr.header===1?rr=1:lr.header==="A"?rr=2:Array.isArray(lr.header)?rr=3:lr.header==null&&(rr=0),typeof cr){case"string":or=safe_decode_range(cr);break;case"number":or=safe_decode_range(er["!ref"]),or.s.r=cr;break;default:or=cr}rr>0&&(nr=0);var ur=encode_row(or.s.r),dr=[],hr=[],Ar=0,fr=0,mr=Array.isArray(er),pr=or.s.r,gr=0,xr={};mr&&!er[pr]&&(er[pr]=[]);var yr=lr.skipHidden&&er["!cols"]||[],Er=lr.skipHidden&&er["!rows"]||[];for(gr=or.s.c;gr<=or.e.c;++gr)if(!(yr[gr]||{}).hidden)switch(dr[gr]=encode_col(gr),tr=mr?er[pr][gr]:er[dr[gr]+ur],rr){case 1:sr[gr]=gr-or.s.c;break;case 2:sr[gr]=dr[gr];break;case 3:sr[gr]=lr.header[gr-or.s.c];break;default:if(tr==null&&(tr={w:"__EMPTY",t:"s"}),ar=ir=format_cell(tr,null,lr),fr=xr[ir]||0,!fr)xr[ir]=1;else{do ar=ir+"_"+fr++;while(xr[ar]);xr[ir]=fr,xr[ar]=1}sr[gr]=ar}for(pr=or.s.r+nr;pr<=or.e.r;++pr)if(!(Er[pr]||{}).hidden){var _r=make_json_row(er,or,pr,dr,rr,sr,mr,lr);(_r.isempty===!1||(rr===1?lr.blankrows!==!1:lr.blankrows))&&(hr[Ar++]=_r.row)}return hr.length=Ar,hr}var qreg=/"/g;function make_csv_row(er,St,tr,rr,nr,sr,ir,ar){for(var or=!0,lr=[],cr="",ur=encode_row(tr),dr=St.s.c;dr<=St.e.c;++dr)if(rr[dr]){var hr=ar.dense?(er[tr]||[])[dr]:er[rr[dr]+ur];if(hr==null)cr="";else if(hr.v!=null){or=!1,cr=""+(ar.rawNumbers&&hr.t=="n"?hr.v:format_cell(hr,null,ar));for(var Ar=0,fr=0;Ar!==cr.length;++Ar)if((fr=cr.charCodeAt(Ar))===nr||fr===sr||fr===34||ar.forceQuotes){cr='"'+cr.replace(qreg,'""')+'"';break}cr=="ID"&&(cr='"ID"')}else hr.f!=null&&!hr.F?(or=!1,cr="="+hr.f,cr.indexOf(",")>=0&&(cr='"'+cr.replace(qreg,'""')+'"')):cr="";lr.push(cr)}return ar.blankrows===!1&&or?null:lr.join(ir)}function sheet_to_csv(er,St){var tr=[],rr=St??{};if(er==null||er["!ref"]==null)return"";var nr=safe_decode_range(er["!ref"]),sr=rr.FS!==void 0?rr.FS:",",ir=sr.charCodeAt(0),ar=rr.RS!==void 0?rr.RS:`
`,or=ar.charCodeAt(0),lr=new RegExp((sr=="|"?"\\|":sr)+"+$"),cr="",ur=[];rr.dense=Array.isArray(er);for(var dr=rr.skipHidden&&er["!cols"]||[],hr=rr.skipHidden&&er["!rows"]||[],Ar=nr.s.c;Ar<=nr.e.c;++Ar)(dr[Ar]||{}).hidden||(ur[Ar]=encode_col(Ar));for(var fr=0,mr=nr.s.r;mr<=nr.e.r;++mr)(hr[mr]||{}).hidden||(cr=make_csv_row(er,nr,mr,ur,ir,or,sr,rr),cr!=null&&(rr.strip&&(cr=cr.replace(lr,"")),(cr||rr.blankrows!==!1)&&tr.push((fr++?ar:"")+cr)));return delete rr.dense,tr.join("")}function sheet_to_txt(er,St){St||(St={}),St.FS="	",St.RS=`
`;var tr=sheet_to_csv(er,St);return tr}function sheet_to_formulae(er){var St="",tr,rr="";if(er==null||er["!ref"]==null)return[];var nr=safe_decode_range(er["!ref"]),sr="",ir=[],ar,or=[],lr=Array.isArray(er);for(ar=nr.s.c;ar<=nr.e.c;++ar)ir[ar]=encode_col(ar);for(var cr=nr.s.r;cr<=nr.e.r;++cr)for(sr=encode_row(cr),ar=nr.s.c;ar<=nr.e.c;++ar)if(St=ir[ar]+sr,tr=lr?(er[cr]||[])[ar]:er[St],rr="",tr!==void 0){if(tr.F!=null){if(St=tr.F,!tr.f)continue;rr=tr.f,St.indexOf(":")==-1&&(St=St+":"+St)}if(tr.f!=null)rr=tr.f;else{if(tr.t=="z")continue;if(tr.t=="n"&&tr.v!=null)rr=""+tr.v;else if(tr.t=="b")rr=tr.v?"TRUE":"FALSE";else if(tr.w!==void 0)rr="'"+tr.w;else{if(tr.v===void 0)continue;tr.t=="s"?rr="'"+tr.v:rr=""+tr.v}}or[or.length]=St+"="+rr}return or}function sheet_add_json(er,St,tr){var rr=tr||{},nr=+!rr.skipHeader,sr=er||{},ir=0,ar=0;if(sr&&rr.origin!=null)if(typeof rr.origin=="number")ir=rr.origin;else{var or=typeof rr.origin=="string"?decode_cell(rr.origin):rr.origin;ir=or.r,ar=or.c}var lr,cr={s:{c:0,r:0},e:{c:ar,r:ir+St.length-1+nr}};if(sr["!ref"]){var ur=safe_decode_range(sr["!ref"]);cr.e.c=Math.max(cr.e.c,ur.e.c),cr.e.r=Math.max(cr.e.r,ur.e.r),ir==-1&&(ir=ur.e.r+1,cr.e.r=ir+St.length-1+nr)}else ir==-1&&(ir=0,cr.e.r=St.length-1+nr);var dr=rr.header||[],hr=0;St.forEach(function(fr,mr){keys(fr).forEach(function(pr){(hr=dr.indexOf(pr))==-1&&(dr[hr=dr.length]=pr);var gr=fr[pr],xr="z",yr="",Er=encode_cell({c:ar+hr,r:ir+mr+nr});lr=ws_get_cell_stub(sr,Er),gr&&typeof gr=="object"&&!(gr instanceof Date)?sr[Er]=gr:(typeof gr=="number"?xr="n":typeof gr=="boolean"?xr="b":typeof gr=="string"?xr="s":gr instanceof Date?(xr="d",rr.cellDates||(xr="n",gr=datenum(gr)),yr=rr.dateNF||table_fmt[14]):gr===null&&rr.nullError&&(xr="e",gr=0),lr?(lr.t=xr,lr.v=gr,delete lr.w,delete lr.R,yr&&(lr.z=yr)):sr[Er]=lr={t:xr,v:gr},yr&&(lr.z=yr))})}),cr.e.c=Math.max(cr.e.c,ar+dr.length-1);var Ar=encode_row(ir);if(nr)for(hr=0;hr<dr.length;++hr)sr[encode_col(hr+ar)+Ar]={t:"s",v:dr[hr]};return sr["!ref"]=encode_range(cr),sr}function json_to_sheet(er,St){return sheet_add_json(null,er,St)}function ws_get_cell_stub(er,St,tr){if(typeof St=="string"){if(Array.isArray(er)){var rr=decode_cell(St);return er[rr.r]||(er[rr.r]=[]),er[rr.r][rr.c]||(er[rr.r][rr.c]={t:"z"})}return er[St]||(er[St]={t:"z"})}return typeof St!="number"?ws_get_cell_stub(er,encode_cell(St)):ws_get_cell_stub(er,encode_cell({r:St,c:tr||0}))}function wb_sheet_idx(er,St){if(typeof St=="number"){if(St>=0&&er.SheetNames.length>St)return St;throw new Error("Cannot find sheet # "+St)}else if(typeof St=="string"){var tr=er.SheetNames.indexOf(St);if(tr>-1)return tr;throw new Error("Cannot find sheet name |"+St+"|")}else throw new Error("Cannot find sheet |"+St+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(er,St,tr,rr){var nr=1;if(!tr)for(;nr<=65535&&er.SheetNames.indexOf(tr="Sheet"+nr)!=-1;++nr,tr=void 0);if(!tr||er.SheetNames.length>=65535)throw new Error("Too many worksheets");if(rr&&er.SheetNames.indexOf(tr)>=0){var sr=tr.match(/(^.*?)(\d+)$/);nr=sr&&+sr[2]||0;var ir=sr&&sr[1]||tr;for(++nr;nr<=65535&&er.SheetNames.indexOf(tr=ir+nr)!=-1;++nr);}if(check_ws_name(tr),er.SheetNames.indexOf(tr)>=0)throw new Error("Worksheet with name |"+tr+"| already exists!");return er.SheetNames.push(tr),er.Sheets[tr]=St,tr}function book_set_sheet_visibility(er,St,tr){er.Workbook||(er.Workbook={}),er.Workbook.Sheets||(er.Workbook.Sheets=[]);var rr=wb_sheet_idx(er,St);switch(er.Workbook.Sheets[rr]||(er.Workbook.Sheets[rr]={}),tr){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+tr)}er.Workbook.Sheets[rr].Hidden=tr}function cell_set_number_format(er,St){return er.z=St,er}function cell_set_hyperlink(er,St,tr){return St?(er.l={Target:St},tr&&(er.l.Tooltip=tr)):delete er.l,er}function cell_set_internal_link(er,St,tr){return cell_set_hyperlink(er,"#"+St,tr)}function cell_add_comment(er,St,tr){er.c||(er.c=[]),er.c.push({t:St,a:tr||"SheetJS"})}function sheet_set_array_formula(er,St,tr,rr){for(var nr=typeof St!="string"?St:safe_decode_range(St),sr=typeof St=="string"?St:encode_range(St),ir=nr.s.r;ir<=nr.e.r;++ir)for(var ar=nr.s.c;ar<=nr.e.c;++ar){var or=ws_get_cell_stub(er,ir,ar);or.t="n",or.F=sr,delete or.v,ir==nr.s.r&&ar==nr.s.c&&(or.f=tr,rr&&(or.D=!0))}return er}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function _typeof(er){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},_typeof(er)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(er,St){for(var tr=new u16(31),rr=0;rr<31;++rr)tr[rr]=St+=1<<er[rr-1];for(var nr=new i32(tr[30]),rr=1;rr<30;++rr)for(var sr=tr[rr];sr<tr[rr+1];++sr)nr[sr]=sr-tr[rr]<<5|rr;return{b:tr,r:nr}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$5=0;i$5<32768;++i$5){var x$1=(i$5&43690)>>1|(i$5&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$5]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(er,St,tr){for(var rr=er.length,nr=0,sr=new u16(St);nr<rr;++nr)er[nr]&&++sr[er[nr]-1];var ir=new u16(St);for(nr=1;nr<St;++nr)ir[nr]=ir[nr-1]+sr[nr-1]<<1;var ar;if(tr){ar=new u16(1<<St);var or=15-St;for(nr=0;nr<rr;++nr)if(er[nr])for(var lr=nr<<4|er[nr],cr=St-er[nr],ur=ir[er[nr]-1]++<<cr,dr=ur|(1<<cr)-1;ur<=dr;++ur)ar[rev[ur]>>or]=lr}else for(ar=new u16(rr),nr=0;nr<rr;++nr)er[nr]&&(ar[nr]=rev[ir[er[nr]-1]++]>>15-er[nr]);return ar},flt=new u8(288);for(var i$5=0;i$5<144;++i$5)flt[i$5]=8;for(var i$5=144;i$5<256;++i$5)flt[i$5]=9;for(var i$5=256;i$5<280;++i$5)flt[i$5]=7;for(var i$5=280;i$5<288;++i$5)flt[i$5]=8;var fdt=new u8(32);for(var i$5=0;i$5<32;++i$5)fdt[i$5]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(er){for(var St=er[0],tr=1;tr<er.length;++tr)er[tr]>St&&(St=er[tr]);return St},bits=function(er,St,tr){var rr=St/8|0;return(er[rr]|er[rr+1]<<8)>>(St&7)&tr},bits16=function(er,St){var tr=St/8|0;return(er[tr]|er[tr+1]<<8|er[tr+2]<<16)>>(St&7)},shft=function(er){return(er+7)/8|0},slc=function(er,St,tr){return(tr==null||tr>er.length)&&(tr=er.length),new u8(er.subarray(St,tr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(er,St,tr){var rr=new Error(St||ec[er]);if(rr.code=er,Error.captureStackTrace&&Error.captureStackTrace(rr,err),!tr)throw rr;return rr},inflt=function(er,St,tr,rr){var nr=er.length,sr=0;if(!nr||St.f&&!St.l)return tr||new u8(0);var ir=!tr,ar=ir||St.i!=2,or=St.i;ir&&(tr=new u8(nr*3));var lr=function(Tn){var bn=tr.length;if(Tn>bn){var Mn=new u8(Math.max(bn*2,Tn));Mn.set(tr),tr=Mn}},cr=St.f||0,ur=St.p||0,dr=St.b||0,hr=St.l,Ar=St.d,fr=St.m,mr=St.n,pr=nr*8;do{if(!hr){cr=bits(er,ur,1);var gr=bits(er,ur+1,3);if(ur+=3,gr)if(gr==1)hr=flrm,Ar=fdrm,fr=9,mr=5;else if(gr==2){var _r=bits(er,ur,31)+257,Sr=bits(er,ur+10,15)+4,jr=_r+bits(er,ur+5,31)+1;ur+=14;for(var Pr=new u8(jr),Mr=new u8(19),Ir=0;Ir<Sr;++Ir)Mr[clim[Ir]]=bits(er,ur+Ir*3,7);ur+=Sr*3;for(var Lr=max(Mr),Qr=(1<<Lr)-1,Yr=hMap(Mr,Lr,1),Ir=0;Ir<jr;){var Gr=Yr[bits(er,ur,Qr)];ur+=Gr&15;var xr=Gr>>4;if(xr<16)Pr[Ir++]=xr;else{var $r=0,Vr=0;for(xr==16?(Vr=3+bits(er,ur,3),ur+=2,$r=Pr[Ir-1]):xr==17?(Vr=3+bits(er,ur,7),ur+=3):xr==18&&(Vr=11+bits(er,ur,127),ur+=7);Vr--;)Pr[Ir++]=$r}}var Tr=Pr.subarray(0,_r),Fr=Pr.subarray(_r);fr=max(Tr),mr=max(Fr),hr=hMap(Tr,fr,1),Ar=hMap(Fr,mr,1)}else err(1);else{var xr=shft(ur)+4,yr=er[xr-4]|er[xr-3]<<8,Er=xr+yr;if(Er>nr){or&&err(0);break}ar&&lr(dr+yr),tr.set(er.subarray(xr,Er),dr),St.b=dr+=yr,St.p=ur=Er*8,St.f=cr;continue}if(ur>pr){or&&err(0);break}}ar&&lr(dr+131072);for(var Wr=(1<<fr)-1,qr=(1<<mr)-1,Rr=ur;;Rr=ur){var $r=hr[bits16(er,ur)&Wr],Or=$r>>4;if(ur+=$r&15,ur>pr){or&&err(0);break}if($r||err(2),Or<256)tr[dr++]=Or;else if(Or==256){Rr=ur,hr=null;break}else{var Hr=Or-254;if(Or>264){var Ir=Or-257,zr=fleb[Ir];Hr=bits(er,ur,(1<<zr)-1)+fl[Ir],ur+=zr}var Zr=Ar[bits16(er,ur)&qr],nn=Zr>>4;Zr||err(3),ur+=Zr&15;var Fr=fd[nn];if(nn>3){var zr=fdeb[nn];Fr+=bits16(er,ur)&(1<<zr)-1,ur+=zr}if(ur>pr){or&&err(0);break}ar&&lr(dr+131072);var vn=dr+Hr;if(dr<Fr){var hn=sr-Fr,En=Math.min(Fr,vn);for(hn+dr<0&&err(3);dr<En;++dr)tr[dr]=rr[hn+dr]}for(;dr<vn;++dr)tr[dr]=tr[dr-Fr]}}St.l=hr,St.p=Rr,St.b=dr,St.f=cr,hr&&(cr=1,St.m=fr,St.d=Ar,St.n=mr)}while(!cr);return dr!=tr.length&&ir?slc(tr,0,dr):tr.subarray(0,dr)},wbits=function(er,St,tr){tr<<=St&7;var rr=St/8|0;er[rr]|=tr,er[rr+1]|=tr>>8},wbits16=function(er,St,tr){tr<<=St&7;var rr=St/8|0;er[rr]|=tr,er[rr+1]|=tr>>8,er[rr+2]|=tr>>16},hTree=function(er,St){for(var tr=[],rr=0;rr<er.length;++rr)er[rr]&&tr.push({s:rr,f:er[rr]});var nr=tr.length,sr=tr.slice();if(!nr)return{t:et$1,l:0};if(nr==1){var ir=new u8(tr[0].s+1);return ir[tr[0].s]=1,{t:ir,l:1}}tr.sort(function(Er,_r){return Er.f-_r.f}),tr.push({s:-1,f:25001});var ar=tr[0],or=tr[1],lr=0,cr=1,ur=2;for(tr[0]={s:-1,f:ar.f+or.f,l:ar,r:or};cr!=nr-1;)ar=tr[tr[lr].f<tr[ur].f?lr++:ur++],or=tr[lr!=cr&&tr[lr].f<tr[ur].f?lr++:ur++],tr[cr++]={s:-1,f:ar.f+or.f,l:ar,r:or};for(var dr=sr[0].s,rr=1;rr<nr;++rr)sr[rr].s>dr&&(dr=sr[rr].s);var hr=new u16(dr+1),Ar=ln(tr[cr-1],hr,0);if(Ar>St){var rr=0,fr=0,mr=Ar-St,pr=1<<mr;for(sr.sort(function(_r,Sr){return hr[Sr.s]-hr[_r.s]||_r.f-Sr.f});rr<nr;++rr){var gr=sr[rr].s;if(hr[gr]>St)fr+=pr-(1<<Ar-hr[gr]),hr[gr]=St;else break}for(fr>>=mr;fr>0;){var xr=sr[rr].s;hr[xr]<St?fr-=1<<St-hr[xr]++-1:++rr}for(;rr>=0&&fr;--rr){var yr=sr[rr].s;hr[yr]==St&&(--hr[yr],++fr)}Ar=St}return{t:new u8(hr),l:Ar}},ln=function(er,St,tr){return er.s==-1?Math.max(ln(er.l,St,tr+1),ln(er.r,St,tr+1)):St[er.s]=tr},lc=function(er){for(var St=er.length;St&&!er[--St];);for(var tr=new u16(++St),rr=0,nr=er[0],sr=1,ir=function(or){tr[rr++]=or},ar=1;ar<=St;++ar)if(er[ar]==nr&&ar!=St)++sr;else{if(!nr&&sr>2){for(;sr>138;sr-=138)ir(32754);sr>2&&(ir(sr>10?sr-11<<5|28690:sr-3<<5|12305),sr=0)}else if(sr>3){for(ir(nr),--sr;sr>6;sr-=6)ir(8304);sr>2&&(ir(sr-3<<5|8208),sr=0)}for(;sr--;)ir(nr);sr=1,nr=er[ar]}return{c:tr.subarray(0,rr),n:St}},clen=function(er,St){for(var tr=0,rr=0;rr<St.length;++rr)tr+=er[rr]*St[rr];return tr},wfblk=function(er,St,tr){var rr=tr.length,nr=shft(St+2);er[nr]=rr&255,er[nr+1]=rr>>8,er[nr+2]=er[nr]^255,er[nr+3]=er[nr+1]^255;for(var sr=0;sr<rr;++sr)er[nr+sr+4]=tr[sr];return(nr+4+rr)*8},wblk=function(er,St,tr,rr,nr,sr,ir,ar,or,lr,cr){wbits(St,cr++,tr),++nr[256];for(var ur=hTree(nr,15),dr=ur.t,hr=ur.l,Ar=hTree(sr,15),fr=Ar.t,mr=Ar.l,pr=lc(dr),gr=pr.c,xr=pr.n,yr=lc(fr),Er=yr.c,_r=yr.n,Sr=new u16(19),jr=0;jr<gr.length;++jr)++Sr[gr[jr]&31];for(var jr=0;jr<Er.length;++jr)++Sr[Er[jr]&31];for(var Pr=hTree(Sr,7),Mr=Pr.t,Ir=Pr.l,Lr=19;Lr>4&&!Mr[clim[Lr-1]];--Lr);var Qr=lr+5<<3,Yr=clen(nr,flt)+clen(sr,fdt)+ir,Gr=clen(nr,dr)+clen(sr,fr)+ir+14+3*Lr+clen(Sr,Mr)+2*Sr[16]+3*Sr[17]+7*Sr[18];if(or>=0&&Qr<=Yr&&Qr<=Gr)return wfblk(St,cr,er.subarray(or,or+lr));var $r,Vr,Tr,Fr;if(wbits(St,cr,1+(Gr<Yr)),cr+=2,Gr<Yr){$r=hMap(dr,hr,0),Vr=dr,Tr=hMap(fr,mr,0),Fr=fr;var Wr=hMap(Mr,Ir,0);wbits(St,cr,xr-257),wbits(St,cr+5,_r-1),wbits(St,cr+10,Lr-4),cr+=14;for(var jr=0;jr<Lr;++jr)wbits(St,cr+3*jr,Mr[clim[jr]]);cr+=3*Lr;for(var qr=[gr,Er],Rr=0;Rr<2;++Rr)for(var Or=qr[Rr],jr=0;jr<Or.length;++jr){var Hr=Or[jr]&31;wbits(St,cr,Wr[Hr]),cr+=Mr[Hr],Hr>15&&(wbits(St,cr,Or[jr]>>5&127),cr+=Or[jr]>>12)}}else $r=flm,Vr=flt,Tr=fdm,Fr=fdt;for(var jr=0;jr<ar;++jr){var zr=rr[jr];if(zr>255){var Hr=zr>>18&31;wbits16(St,cr,$r[Hr+257]),cr+=Vr[Hr+257],Hr>7&&(wbits(St,cr,zr>>23&31),cr+=fleb[Hr]);var Zr=zr&31;wbits16(St,cr,Tr[Zr]),cr+=Fr[Zr],Zr>3&&(wbits16(St,cr,zr>>5&8191),cr+=fdeb[Zr])}else wbits16(St,cr,$r[zr]),cr+=Vr[zr]}return wbits16(St,cr,$r[256]),cr+Vr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(er,St,tr,rr,nr,sr){var ir=sr.z||er.length,ar=new u8(rr+ir+5*(1+Math.ceil(ir/7e3))+nr),or=ar.subarray(rr,ar.length-nr),lr=sr.l,cr=(sr.r||0)&7;if(St){cr&&(or[0]=sr.r>>3);for(var ur=deo[St-1],dr=ur>>13,hr=ur&8191,Ar=(1<<tr)-1,fr=sr.p||new u16(32768),mr=sr.h||new u16(Ar+1),pr=Math.ceil(tr/3),gr=2*pr,xr=function(Rn){return(er[Rn]^er[Rn+1]<<pr^er[Rn+2]<<gr)&Ar},yr=new i32(25e3),Er=new u16(288),_r=new u16(32),Sr=0,jr=0,Pr=sr.i||0,Mr=0,Ir=sr.w||0,Lr=0;Pr+2<ir;++Pr){var Qr=xr(Pr),Yr=Pr&32767,Gr=mr[Qr];if(fr[Yr]=Gr,mr[Qr]=Yr,Ir<=Pr){var $r=ir-Pr;if((Sr>7e3||Mr>24576)&&($r>423||!lr)){cr=wblk(er,or,0,yr,Er,_r,jr,Mr,Lr,Pr-Lr,cr),Mr=Sr=jr=0,Lr=Pr;for(var Vr=0;Vr<286;++Vr)Er[Vr]=0;for(var Vr=0;Vr<30;++Vr)_r[Vr]=0}var Tr=2,Fr=0,Wr=hr,qr=Yr-Gr&32767;if($r>2&&Qr==xr(Pr-qr))for(var Rr=Math.min(dr,$r)-1,Or=Math.min(32767,Pr),Hr=Math.min(258,$r);qr<=Or&&--Wr&&Yr!=Gr;){if(er[Pr+Tr]==er[Pr+Tr-qr]){for(var zr=0;zr<Hr&&er[Pr+zr]==er[Pr+zr-qr];++zr);if(zr>Tr){if(Tr=zr,Fr=qr,zr>Rr)break;for(var Zr=Math.min(qr,zr-2),nn=0,Vr=0;Vr<Zr;++Vr){var vn=Pr-qr+Vr&32767,hn=fr[vn],En=vn-hn&32767;En>nn&&(nn=En,Gr=vn)}}}Yr=Gr,Gr=fr[Yr],qr+=Yr-Gr&32767}if(Fr){yr[Mr++]=268435456|revfl[Tr]<<18|revfd[Fr];var Tn=revfl[Tr]&31,bn=revfd[Fr]&31;jr+=fleb[Tn]+fdeb[bn],++Er[257+Tn],++_r[bn],Ir=Pr+Tr,++Sr}else yr[Mr++]=er[Pr],++Er[er[Pr]]}}for(Pr=Math.max(Pr,Ir);Pr<ir;++Pr)yr[Mr++]=er[Pr],++Er[er[Pr]];cr=wblk(er,or,lr,yr,Er,_r,jr,Mr,Lr,Pr-Lr,cr),lr||(sr.r=cr&7|or[cr/8|0]<<3,cr-=7,sr.h=mr,sr.p=fr,sr.i=Pr,sr.w=Ir)}else{for(var Pr=sr.w||0;Pr<ir+lr;Pr+=65535){var Mn=Pr+65535;Mn>=ir&&(or[cr/8|0]=lr,Mn=ir),cr=wfblk(or,cr+1,er.subarray(Pr,Mn))}sr.i=ir}return slc(ar,0,rr+shft(cr)+nr)},adler=function(){var er=1,St=0;return{p:function(tr){for(var rr=er,nr=St,sr=tr.length|0,ir=0;ir!=sr;){for(var ar=Math.min(ir+2655,sr);ir<ar;++ir)nr+=rr+=tr[ir];rr=(rr&65535)+15*(rr>>16),nr=(nr&65535)+15*(nr>>16)}er=rr,St=nr},d:function(){return er%=65521,St%=65521,(er&255)<<24|(er&65280)<<8|(St&255)<<8|St>>8}}},dopt=function(er,St,tr,rr,nr){if(!nr&&(nr={l:1},St.dictionary)){var sr=St.dictionary.subarray(-32768),ir=new u8(sr.length+er.length);ir.set(sr),ir.set(er,sr.length),er=ir,nr.w=sr.length}return dflt(er,St.level==null?6:St.level,St.mem==null?nr.l?Math.ceil(Math.max(8,Math.min(13,Math.log(er.length)))*1.5):20:12+St.mem,tr,rr,nr)},wbytes=function(er,St,tr){for(;tr;++St)er[St]=tr,tr>>>=8},zlh=function(er,St){var tr=St.level,rr=tr==0?0:tr<6?1:tr==9?3:2;if(er[0]=120,er[1]=rr<<6|(St.dictionary&&32),er[1]|=31-(er[0]<<8|er[1])%31,St.dictionary){var nr=adler();nr.p(St.dictionary),wbytes(er,2,nr.d())}},zls=function(er,St){return((er[0]&15)!=8||er[0]>>4>7||(er[0]<<8|er[1])%31)&&err(6,"invalid zlib data"),(er[1]>>5&1)==1&&err(6,"invalid zlib data: "+(er[1]&32?"need":"unexpected")+" dictionary"),(er[1]>>3&4)+2};function zlibSync(er,St){St||(St={});var tr=adler();tr.p(er);var rr=dopt(er,St,St.dictionary?6:2,4);return zlh(rr,St),wbytes(rr,rr.length-4,tr.d()),rr}function unzlibSync(er,St){return inflt(er.subarray(zls(er),-4),{i:2},St,St)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(er){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$4(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a$1={log:i$4,warn:function(er){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i$4.call(null,arguments))},error:function(er){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i$4(er))}};function o(er,St,tr){var rr=new XMLHttpRequest;rr.open("GET",er),rr.responseType="blob",rr.onload=function(){l(rr.response,St,tr)},rr.onerror=function(){a$1.error("could not download file")},rr.send()}function s(er){var St=new XMLHttpRequest;St.open("HEAD",er,!1);try{St.send()}catch{}return St.status>=200&&St.status<=299}function c(er){try{er.dispatchEvent(new MouseEvent("click"))}catch{var St=document.createEvent("MouseEvents");St.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),er.dispatchEvent(St)}}var u$1,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(er,St,tr){var rr=n.URL||n.webkitURL,nr=document.createElement("a");St=St||er.name||"download",nr.download=St,nr.rel="noopener",typeof er=="string"?(nr.href=er,nr.origin!==location.origin?s(nr.href)?o(er,St,tr):c(nr,nr.target="_blank"):c(nr)):(nr.href=rr.createObjectURL(er),setTimeout(function(){rr.revokeObjectURL(nr.href)},4e4),setTimeout(function(){c(nr)},0))}:"msSaveOrOpenBlob"in navigator?function(er,St,tr){if(St=St||er.name||"download",typeof er=="string")if(s(er))o(er,St,tr);else{var rr=document.createElement("a");rr.href=er,rr.target="_blank",setTimeout(function(){c(rr)})}else navigator.msSaveOrOpenBlob(function(nr,sr){return sr===void 0?sr={autoBom:!1}:_typeof(sr)!=="object"&&(a$1.warn("Deprecated: Expected third argument to be a object"),sr={autoBom:!sr}),sr.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nr.type)?new Blob(["\uFEFF",nr],{type:nr.type}):nr}(er,tr),St)}:function(er,St,tr,rr){if((rr=rr||open("","_blank"))&&(rr.document.title=rr.document.body.innerText="downloading..."),typeof er=="string")return o(er,St,tr);var nr=er.type==="application/octet-stream",sr=/constructor/i.test(n.HTMLElement)||n.safari,ir=/CriOS\/[\d]+/.test(navigator.userAgent);if((ir||nr&&sr)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var ar=new FileReader;ar.onloadend=function(){var cr=ar.result;cr=ir?cr:cr.replace(/^data:[^;]*;/,"data:attachment/file;"),rr?rr.location.href=cr:location=cr,rr=null},ar.readAsDataURL(er)}else{var or=n.URL||n.webkitURL,lr=or.createObjectURL(er);rr?rr.location=lr:location.href=lr,rr=null,setTimeout(function(){or.revokeObjectURL(lr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$1(er){var St;er=er||"",this.ok=!1,er.charAt(0)=="#"&&(er=er.substr(1,6)),er={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[er=(er=er.replace(/ /g,"")).toLowerCase()]||er;for(var tr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ar){return[parseInt(ar[1]),parseInt(ar[2]),parseInt(ar[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ar){return[parseInt(ar[1],16),parseInt(ar[2],16),parseInt(ar[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ar){return[parseInt(ar[1]+ar[1],16),parseInt(ar[2]+ar[2],16),parseInt(ar[3]+ar[3],16)]}}],rr=0;rr<tr.length;rr++){var nr=tr[rr].re,sr=tr[rr].process,ir=nr.exec(er);ir&&(St=sr(ir),this.r=St[0],this.g=St[1],this.b=St[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ar=this.r.toString(16),or=this.g.toString(16),lr=this.b.toString(16);return ar.length==1&&(ar="0"+ar),or.length==1&&(or="0"+or),lr.length==1&&(lr="0"+lr),"#"+ar+or+lr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(er,St){var tr=er[0],rr=er[1],nr=er[2],sr=er[3];tr=g(tr,rr,nr,sr,St[0],7,-680876936),sr=g(sr,tr,rr,nr,St[1],12,-389564586),nr=g(nr,sr,tr,rr,St[2],17,606105819),rr=g(rr,nr,sr,tr,St[3],22,-1044525330),tr=g(tr,rr,nr,sr,St[4],7,-176418897),sr=g(sr,tr,rr,nr,St[5],12,1200080426),nr=g(nr,sr,tr,rr,St[6],17,-1473231341),rr=g(rr,nr,sr,tr,St[7],22,-45705983),tr=g(tr,rr,nr,sr,St[8],7,1770035416),sr=g(sr,tr,rr,nr,St[9],12,-1958414417),nr=g(nr,sr,tr,rr,St[10],17,-42063),rr=g(rr,nr,sr,tr,St[11],22,-1990404162),tr=g(tr,rr,nr,sr,St[12],7,1804603682),sr=g(sr,tr,rr,nr,St[13],12,-40341101),nr=g(nr,sr,tr,rr,St[14],17,-1502002290),tr=m(tr,rr=g(rr,nr,sr,tr,St[15],22,1236535329),nr,sr,St[1],5,-165796510),sr=m(sr,tr,rr,nr,St[6],9,-1069501632),nr=m(nr,sr,tr,rr,St[11],14,643717713),rr=m(rr,nr,sr,tr,St[0],20,-373897302),tr=m(tr,rr,nr,sr,St[5],5,-701558691),sr=m(sr,tr,rr,nr,St[10],9,38016083),nr=m(nr,sr,tr,rr,St[15],14,-660478335),rr=m(rr,nr,sr,tr,St[4],20,-405537848),tr=m(tr,rr,nr,sr,St[9],5,568446438),sr=m(sr,tr,rr,nr,St[14],9,-1019803690),nr=m(nr,sr,tr,rr,St[3],14,-187363961),rr=m(rr,nr,sr,tr,St[8],20,1163531501),tr=m(tr,rr,nr,sr,St[13],5,-1444681467),sr=m(sr,tr,rr,nr,St[2],9,-51403784),nr=m(nr,sr,tr,rr,St[7],14,1735328473),tr=v(tr,rr=m(rr,nr,sr,tr,St[12],20,-1926607734),nr,sr,St[5],4,-378558),sr=v(sr,tr,rr,nr,St[8],11,-2022574463),nr=v(nr,sr,tr,rr,St[11],16,1839030562),rr=v(rr,nr,sr,tr,St[14],23,-35309556),tr=v(tr,rr,nr,sr,St[1],4,-1530992060),sr=v(sr,tr,rr,nr,St[4],11,1272893353),nr=v(nr,sr,tr,rr,St[7],16,-155497632),rr=v(rr,nr,sr,tr,St[10],23,-1094730640),tr=v(tr,rr,nr,sr,St[13],4,681279174),sr=v(sr,tr,rr,nr,St[0],11,-358537222),nr=v(nr,sr,tr,rr,St[3],16,-722521979),rr=v(rr,nr,sr,tr,St[6],23,76029189),tr=v(tr,rr,nr,sr,St[9],4,-640364487),sr=v(sr,tr,rr,nr,St[12],11,-421815835),nr=v(nr,sr,tr,rr,St[15],16,530742520),tr=b(tr,rr=v(rr,nr,sr,tr,St[2],23,-995338651),nr,sr,St[0],6,-198630844),sr=b(sr,tr,rr,nr,St[7],10,1126891415),nr=b(nr,sr,tr,rr,St[14],15,-1416354905),rr=b(rr,nr,sr,tr,St[5],21,-57434055),tr=b(tr,rr,nr,sr,St[12],6,1700485571),sr=b(sr,tr,rr,nr,St[3],10,-1894986606),nr=b(nr,sr,tr,rr,St[10],15,-1051523),rr=b(rr,nr,sr,tr,St[1],21,-2054922799),tr=b(tr,rr,nr,sr,St[8],6,1873313359),sr=b(sr,tr,rr,nr,St[15],10,-30611744),nr=b(nr,sr,tr,rr,St[6],15,-1560198380),rr=b(rr,nr,sr,tr,St[13],21,1309151649),tr=b(tr,rr,nr,sr,St[4],6,-145523070),sr=b(sr,tr,rr,nr,St[11],10,-1120210379),nr=b(nr,sr,tr,rr,St[2],15,718787259),rr=b(rr,nr,sr,tr,St[9],21,-343485551),er[0]=_(tr,er[0]),er[1]=_(rr,er[1]),er[2]=_(nr,er[2]),er[3]=_(sr,er[3])}function p(er,St,tr,rr,nr,sr){return St=_(_(St,er),_(rr,sr)),_(St<<nr|St>>>32-nr,tr)}function g(er,St,tr,rr,nr,sr,ir){return p(St&tr|~St&rr,er,St,nr,sr,ir)}function m(er,St,tr,rr,nr,sr,ir){return p(St&rr|tr&~rr,er,St,nr,sr,ir)}function v(er,St,tr,rr,nr,sr,ir){return p(St^tr^rr,er,St,nr,sr,ir)}function b(er,St,tr,rr,nr,sr,ir){return p(tr^(St|~rr),er,St,nr,sr,ir)}function y(er){var St,tr=er.length,rr=[1732584193,-271733879,-1732584194,271733878];for(St=64;St<=er.length;St+=64)d(rr,w(er.substring(St-64,St)));er=er.substring(St-64);var nr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(St=0;St<er.length;St++)nr[St>>2]|=er.charCodeAt(St)<<(St%4<<3);if(nr[St>>2]|=128<<(St%4<<3),St>55)for(d(rr,nr),St=0;St<16;St++)nr[St]=0;return nr[14]=8*tr,d(rr,nr),rr}function w(er){var St,tr=[];for(St=0;St<64;St+=4)tr[St>>2]=er.charCodeAt(St)+(er.charCodeAt(St+1)<<8)+(er.charCodeAt(St+2)<<16)+(er.charCodeAt(St+3)<<24);return tr}u$1=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L$1(er){for(var St="",tr=0;tr<4;tr++)St+=N[er>>8*tr+4&15]+N[er>>8*tr&15];return St}function A$1(er){return String.fromCharCode((255&er)>>0,(65280&er)>>8,(16711680&er)>>16,(4278190080&er)>>24)}function x(er){return y(er).map(A$1).join("")}var S=function(er){for(var St=0;St<er.length;St++)er[St]=L$1(er[St]);return er.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(er,St){if(S){var tr=(65535&er)+(65535&St);return(er>>16)+(St>>16)+(tr>>16)<<16|65535&tr}return er+St&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(er,St){var tr,rr,nr,sr;if(er!==tr){for(var ir=(nr=er,sr=1+(256/er.length>>0),new Array(sr+1).join(nr)),ar=[],or=0;or<256;or++)ar[or]=or;var lr=0;for(or=0;or<256;or++){var cr=ar[or];lr=(lr+cr+ir.charCodeAt(or))%256,ar[or]=ar[lr],ar[lr]=cr}tr=er,rr=ar}else ar=rr;var ur=St.length,dr=0,hr=0,Ar="";for(or=0;or<ur;or++)hr=(hr+(cr=ar[dr=(dr+1)%256]))%256,ar[dr]=ar[hr],ar[hr]=cr,ir=ar[(ar[dr]+ar[hr])%256],Ar+=String.fromCharCode(St.charCodeAt(or)^ir);return Ar}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(er,St,tr,rr){this.v=1,this.r=2;var nr=192;er.forEach(function(ar){if(k.perm!==void 0)throw new Error("Invalid permission: "+ar);nr+=k[ar]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var sr=(St+this.padding).substr(0,32),ir=(tr+this.padding).substr(0,32);this.O=this.processOwnerPassword(sr,ir),this.P=-(1+(255^nr)),this.encryptionKey=x(sr+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(rr)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F$1(er){if(/[^\u0000-\u00ff]/.test(er))throw new Error("Invalid PDF Name Object: "+er+", Only accept ASCII characters.");for(var St="",tr=er.length,rr=0;rr<tr;rr++){var nr=er.charCodeAt(rr);nr<33||nr===35||nr===37||nr===40||nr===41||nr===47||nr===60||nr===62||nr===91||nr===93||nr===123||nr===125||nr>126?St+="#"+("0"+nr.toString(16)).slice(-2):St+=er[rr]}return St}function C(er){if(_typeof(er)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var St={};this.subscribe=function(tr,rr,nr){if(nr=nr||!1,typeof tr!="string"||typeof rr!="function"||typeof nr!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");St.hasOwnProperty(tr)||(St[tr]={});var sr=Math.random().toString(35);return St[tr][sr]=[rr,!!nr],sr},this.unsubscribe=function(tr){for(var rr in St)if(St[rr][tr])return delete St[rr][tr],Object.keys(St[rr]).length===0&&delete St[rr],!0;return!1},this.publish=function(tr){if(St.hasOwnProperty(tr)){var rr=Array.prototype.slice.call(arguments,1),nr=[];for(var sr in St[tr]){var ir=St[tr][sr];try{ir[0].apply(er,rr)}catch(ar){n.console&&a$1.error("jsPDF PubSub Error",ar.message,ar)}ir[1]&&nr.push(sr)}nr.length&&nr.forEach(this.unsubscribe)}},this.getTopics=function(){return St}}function j(er){if(!(this instanceof j))return new j(er);var St="opacity,stroke-opacity".split(",");for(var tr in er)er.hasOwnProperty(tr)&&St.indexOf(tr)>=0&&(this[tr]=er[tr]);this.id="",this.objectNumber=-1}function O(er,St){this.gState=er,this.matrix=St,this.id="",this.objectNumber=-1}function B(er,St,tr,rr,nr){if(!(this instanceof B))return new B(er,St,tr,rr,nr);this.type=er==="axial"?2:3,this.coords=St,this.colors=tr,O.call(this,rr,nr)}function M(er,St,tr,rr,nr){if(!(this instanceof M))return new M(er,St,tr,rr,nr);this.boundingBox=er,this.xStep=St,this.yStep=tr,this.stream="",this.cloneIndex=0,O.call(this,rr,nr)}function E$1(er){var St,tr=typeof arguments[0]=="string"?arguments[0]:"p",rr=arguments[1],nr=arguments[2],sr=arguments[3],ir=[],ar=1,or=16,lr="S",cr=null;_typeof(er=er||{})==="object"&&(tr=er.orientation,rr=er.unit||rr,nr=er.format||nr,sr=er.compress||er.compressPdf||sr,(cr=er.encryption||null)!==null&&(cr.userPassword=cr.userPassword||"",cr.ownerPassword=cr.ownerPassword||"",cr.userPermissions=cr.userPermissions||[]),ar=typeof er.userUnit=="number"?Math.abs(er.userUnit):1,er.precision!==void 0&&(St=er.precision),er.floatPrecision!==void 0&&(or=er.floatPrecision),lr=er.defaultPathOperation||"S"),ir=er.filters||(sr===!0?["FlateEncode"]:ir),rr=rr||"mm",tr=(""+(tr||"P")).toLowerCase();var ur=er.putOnlyUsedFonts||!1,dr={},hr={internal:{},__private__:{}};hr.__private__.PubSub=C;var Ar="1.3",fr=hr.__private__.getPdfVersion=function(){return Ar};hr.__private__.setPdfVersion=function(Dr){Ar=Dr};var mr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};hr.__private__.getPageFormats=function(){return mr};var pr=hr.__private__.getPageFormat=function(Dr){return mr[Dr]};nr=nr||"a4";var gr={COMPAT:"compat",ADVANCED:"advanced"},xr=gr.COMPAT;function yr(){this.saveGraphicsState(),pn(new Ws(ys,0,0,-ys,0,up()*ys).toString()+" cm"),this.setFontSize(this.getFontSize()/ys),lr="n",xr=gr.ADVANCED}function Er(){this.restoreGraphicsState(),lr="S",xr=gr.COMPAT}var _r=hr.__private__.combineFontStyleAndFontWeight=function(Dr,tn){if(Dr=="bold"&&tn=="normal"||Dr=="bold"&&tn==400||Dr=="normal"&&tn=="italic"||Dr=="bold"&&tn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return tn&&(Dr=tn==400||tn==="normal"?Dr==="italic"?"italic":"normal":tn!=700&&tn!=="bold"||Dr!=="normal"?(tn==700?"bold":tn)+""+Dr:"bold"),Dr};hr.advancedAPI=function(Dr){var tn=xr===gr.COMPAT;return tn&&yr.call(this),typeof Dr!="function"||(Dr(this),tn&&Er.call(this)),this},hr.compatAPI=function(Dr){var tn=xr===gr.ADVANCED;return tn&&Er.call(this),typeof Dr!="function"||(Dr(this),tn&&yr.call(this)),this},hr.isAdvancedAPI=function(){return xr===gr.ADVANCED};var Sr,jr=function(Dr){if(xr!==gr.ADVANCED)throw new Error(Dr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Pr=hr.roundToPrecision=hr.__private__.roundToPrecision=function(Dr,tn){var jn=St||tn;if(isNaN(Dr)||isNaN(jn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Dr.toFixed(jn).replace(/0+$/,"")};Sr=hr.hpf=hr.__private__.hpf=typeof or=="number"?function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.hpf");return Pr(Dr,or)}:or==="smart"?function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.hpf");return Pr(Dr,Dr>-1&&Dr<1?16:5)}:function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.hpf");return Pr(Dr,16)};var Mr=hr.f2=hr.__private__.f2=function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.f2");return Pr(Dr,2)},Ir=hr.__private__.f3=function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.f3");return Pr(Dr,3)},Lr=hr.scale=hr.__private__.scale=function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.scale");return xr===gr.COMPAT?Dr*ys:xr===gr.ADVANCED?Dr:void 0},Qr=function(Dr){return xr===gr.COMPAT?up()-Dr:xr===gr.ADVANCED?Dr:void 0},Yr=function(Dr){return Lr(Qr(Dr))};hr.__private__.setPrecision=hr.setPrecision=function(Dr){typeof parseInt(Dr,10)=="number"&&(St=parseInt(Dr,10))};var Gr,$r="00000000000000000000000000000000",Vr=hr.__private__.getFileId=function(){return $r},Tr=hr.__private__.setFileId=function(Dr){return $r=Dr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Dr)?Dr.toUpperCase():$r.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),cr!==null&&(Au=new I(cr.userPermissions,cr.userPassword,cr.ownerPassword,$r)),$r};hr.setFileId=function(Dr){return Tr(Dr),this},hr.getFileId=function(){return Vr()};var Fr=hr.__private__.convertDateToPDFDate=function(Dr){var tn=Dr.getTimezoneOffset(),jn=tn<0?"+":"-",Bn=Math.floor(Math.abs(tn/60)),Vn=Math.abs(tn%60),Jn=[jn,Hr(Bn),"'",Hr(Vn),"'"].join("");return["D:",Dr.getFullYear(),Hr(Dr.getMonth()+1),Hr(Dr.getDate()),Hr(Dr.getHours()),Hr(Dr.getMinutes()),Hr(Dr.getSeconds()),Jn].join("")},Wr=hr.__private__.convertPDFDateToDate=function(Dr){var tn=parseInt(Dr.substr(2,4),10),jn=parseInt(Dr.substr(6,2),10)-1,Bn=parseInt(Dr.substr(8,2),10),Vn=parseInt(Dr.substr(10,2),10),Jn=parseInt(Dr.substr(12,2),10),ds=parseInt(Dr.substr(14,2),10);return new Date(tn,jn,Bn,Vn,Jn,ds,0)},qr=hr.__private__.setCreationDate=function(Dr){var tn;if(Dr===void 0&&(Dr=new Date),Dr instanceof Date)tn=Fr(Dr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Dr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");tn=Dr}return Gr=tn},Rr=hr.__private__.getCreationDate=function(Dr){var tn=Gr;return Dr==="jsDate"&&(tn=Wr(Gr)),tn};hr.setCreationDate=function(Dr){return qr(Dr),this},hr.getCreationDate=function(Dr){return Rr(Dr)};var Or,Hr=hr.__private__.padd2=function(Dr){return("0"+parseInt(Dr)).slice(-2)},zr=hr.__private__.padd2Hex=function(Dr){return("00"+(Dr=Dr.toString())).substr(Dr.length)},Zr=0,nn=[],vn=[],hn=0,En=[],Tn=[],bn=!1,Mn=vn,Rn=function(){Zr=0,hn=0,vn=[],nn=[],En=[],xn=Vo(),yn=Vo()};hr.__private__.setCustomOutputDestination=function(Dr){bn=!0,Mn=Dr};var Nn=function(Dr){bn||(Mn=Dr)};hr.__private__.resetCustomOutputDestination=function(){bn=!1,Mn=vn};var pn=hr.__private__.out=function(Dr){return Dr=Dr.toString(),hn+=Dr.length+1,Mn.push(Dr),Mn},Gn=hr.__private__.write=function(Dr){return pn(arguments.length===1?Dr.toString():Array.prototype.join.call(arguments," "))},os=hr.__private__.getArrayBuffer=function(Dr){for(var tn=Dr.length,jn=new ArrayBuffer(tn),Bn=new Uint8Array(jn);tn--;)Bn[tn]=Dr.charCodeAt(tn);return jn},es=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];hr.__private__.getStandardFonts=function(){return es};var cs=er.fontSize||16;hr.__private__.setFontSize=hr.setFontSize=function(Dr){return cs=xr===gr.ADVANCED?Dr/ys:Dr,this};var ts,fs=hr.__private__.getFontSize=hr.getFontSize=function(){return xr===gr.COMPAT?cs:cs*ys},vs=er.R2L||!1;hr.__private__.setR2L=hr.setR2L=function(Dr){return vs=Dr,this},hr.__private__.getR2L=hr.getR2L=function(){return vs};var ws,Rs=hr.__private__.setZoomMode=function(Dr){var tn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Dr))ts=Dr;else if(isNaN(Dr)){if(tn.indexOf(Dr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Dr+'" is not recognized.');ts=Dr}else ts=parseInt(Dr,10)};hr.__private__.getZoomMode=function(){return ts};var ks,Fs=hr.__private__.setPageMode=function(Dr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Dr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Dr+'" is not recognized.');ws=Dr};hr.__private__.getPageMode=function(){return ws};var Vs=hr.__private__.setLayoutMode=function(Dr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Dr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Dr+'" is not recognized.');ks=Dr};hr.__private__.getLayoutMode=function(){return ks},hr.__private__.setDisplayMode=hr.setDisplayMode=function(Dr,tn,jn){return Rs(Dr),Vs(tn),Fs(jn),this};var Ts={title:"",subject:"",author:"",keywords:"",creator:""};hr.__private__.getDocumentProperty=function(Dr){if(Object.keys(Ts).indexOf(Dr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ts[Dr]},hr.__private__.getDocumentProperties=function(){return Ts},hr.__private__.setDocumentProperties=hr.setProperties=hr.setDocumentProperties=function(Dr){for(var tn in Ts)Ts.hasOwnProperty(tn)&&Dr[tn]&&(Ts[tn]=Dr[tn]);return this},hr.__private__.setDocumentProperty=function(Dr,tn){if(Object.keys(Ts).indexOf(Dr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ts[Dr]=tn};var Ds,ys,$o,Zs,io,xa={},oo={},El=[],eo={},zs={},Qs={},Ys={},Uo=null,Ms=0,Bs=[],qs=new C(hr),to=er.hotfixes||[],Os={},fu={},tu=[],Ws=function Dr(tn,jn,Bn,Vn,Jn,ds){if(!(this instanceof Dr))return new Dr(tn,jn,Bn,Vn,Jn,ds);isNaN(tn)&&(tn=1),isNaN(jn)&&(jn=0),isNaN(Bn)&&(Bn=0),isNaN(Vn)&&(Vn=1),isNaN(Jn)&&(Jn=0),isNaN(ds)&&(ds=0),this._matrix=[tn,jn,Bn,Vn,Jn,ds]};Object.defineProperty(Ws.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Dr){this._matrix[0]=Dr}}),Object.defineProperty(Ws.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Dr){this._matrix[1]=Dr}}),Object.defineProperty(Ws.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Dr){this._matrix[2]=Dr}}),Object.defineProperty(Ws.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Dr){this._matrix[3]=Dr}}),Object.defineProperty(Ws.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Dr){this._matrix[4]=Dr}}),Object.defineProperty(Ws.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Dr){this._matrix[5]=Dr}}),Object.defineProperty(Ws.prototype,"a",{get:function(){return this._matrix[0]},set:function(Dr){this._matrix[0]=Dr}}),Object.defineProperty(Ws.prototype,"b",{get:function(){return this._matrix[1]},set:function(Dr){this._matrix[1]=Dr}}),Object.defineProperty(Ws.prototype,"c",{get:function(){return this._matrix[2]},set:function(Dr){this._matrix[2]=Dr}}),Object.defineProperty(Ws.prototype,"d",{get:function(){return this._matrix[3]},set:function(Dr){this._matrix[3]=Dr}}),Object.defineProperty(Ws.prototype,"e",{get:function(){return this._matrix[4]},set:function(Dr){this._matrix[4]=Dr}}),Object.defineProperty(Ws.prototype,"f",{get:function(){return this._matrix[5]},set:function(Dr){this._matrix[5]=Dr}}),Object.defineProperty(Ws.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ws.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ws.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ws.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ws.prototype.join=function(Dr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Sr).join(Dr)},Ws.prototype.multiply=function(Dr){var tn=Dr.sx*this.sx+Dr.shy*this.shx,jn=Dr.sx*this.shy+Dr.shy*this.sy,Bn=Dr.shx*this.sx+Dr.sy*this.shx,Vn=Dr.shx*this.shy+Dr.sy*this.sy,Jn=Dr.tx*this.sx+Dr.ty*this.shx+this.tx,ds=Dr.tx*this.shy+Dr.ty*this.sy+this.ty;return new Ws(tn,jn,Bn,Vn,Jn,ds)},Ws.prototype.decompose=function(){var Dr=this.sx,tn=this.shy,jn=this.shx,Bn=this.sy,Vn=this.tx,Jn=this.ty,ds=Math.sqrt(Dr*Dr+tn*tn),Ps=(Dr/=ds)*jn+(tn/=ds)*Bn;jn-=Dr*Ps,Bn-=tn*Ps;var Gs=Math.sqrt(jn*jn+Bn*Bn);return Ps/=Gs,Dr*(Bn/=Gs)<tn*(jn/=Gs)&&(Dr=-Dr,tn=-tn,Ps=-Ps,ds=-ds),{scale:new Ws(ds,0,0,Gs,0,0),translate:new Ws(1,0,0,1,Vn,Jn),rotate:new Ws(Dr,tn,-tn,Dr,0,0),skew:new Ws(1,0,Ps,1,0,0)}},Ws.prototype.toString=function(Dr){return this.join(" ")},Ws.prototype.inversed=function(){var Dr=this.sx,tn=this.shy,jn=this.shx,Bn=this.sy,Vn=this.tx,Jn=this.ty,ds=1/(Dr*Bn-tn*jn),Ps=Bn*ds,Gs=-tn*ds,ro=-jn*ds,$a=Dr*ds;return new Ws(Ps,Gs,ro,$a,-Ps*Vn-ro*Jn,-Gs*Vn-$a*Jn)},Ws.prototype.applyToPoint=function(Dr){var tn=Dr.x*this.sx+Dr.y*this.shx+this.tx,jn=Dr.x*this.shy+Dr.y*this.sy+this.ty;return new ou(tn,jn)},Ws.prototype.applyToRectangle=function(Dr){var tn=this.applyToPoint(Dr),jn=this.applyToPoint(new ou(Dr.x+Dr.w,Dr.y+Dr.h));return new gv(tn.x,tn.y,jn.x-tn.x,jn.y-tn.y)},Ws.prototype.clone=function(){var Dr=this.sx,tn=this.shy,jn=this.shx,Bn=this.sy,Vn=this.tx,Jn=this.ty;return new Ws(Dr,tn,jn,Bn,Vn,Jn)},hr.Matrix=Ws;var wl=hr.matrixMult=function(Dr,tn){return tn.multiply(Dr)},_l=new Ws(1,0,0,1,0,0);hr.unitMatrix=hr.identityMatrix=_l;var Al=function(Dr,tn){if(!zs[Dr]){var jn=(tn instanceof B?"Sh":"P")+(Object.keys(eo).length+1).toString(10);tn.id=jn,zs[Dr]=jn,eo[jn]=tn,qs.publish("addPattern",tn)}};hr.ShadingPattern=B,hr.TilingPattern=M,hr.addShadingPattern=function(Dr,tn){return jr("addShadingPattern()"),Al(Dr,tn),this},hr.beginTilingPattern=function(Dr){jr("beginTilingPattern()"),TA(Dr.boundingBox[0],Dr.boundingBox[1],Dr.boundingBox[2]-Dr.boundingBox[0],Dr.boundingBox[3]-Dr.boundingBox[1],Dr.matrix)},hr.endTilingPattern=function(Dr,tn){jr("endTilingPattern()"),tn.stream=Tn[Or].join(`
`),Al(Dr,tn),qs.publish("endTilingPattern",tn),tu.pop().restore()};var zo=hr.__private__.newObject=function(){var Dr=Vo();return un(Dr,!0),Dr},Vo=hr.__private__.newObjectDeferred=function(){return Zr++,nn[Zr]=function(){return hn},Zr},un=function(Dr,tn){return tn=typeof tn=="boolean"&&tn,nn[Dr]=hn,tn&&pn(Dr+" 0 obj"),Dr},Sn=hr.__private__.newAdditionalObject=function(){var Dr={objId:Vo(),content:""};return En.push(Dr),Dr},xn=Vo(),yn=Vo(),_n=hr.__private__.decodeColorString=function(Dr){var tn=Dr.split(" ");if(tn.length!==2||tn[1]!=="g"&&tn[1]!=="G")tn.length===5&&(tn[4]==="k"||tn[4]==="K")&&(tn=[(1-tn[0])*(1-tn[3]),(1-tn[1])*(1-tn[3]),(1-tn[2])*(1-tn[3]),"r"]);else{var jn=parseFloat(tn[0]);tn=[jn,jn,jn,"r"]}for(var Bn="#",Vn=0;Vn<3;Vn++)Bn+=("0"+Math.floor(255*parseFloat(tn[Vn])).toString(16)).slice(-2);return Bn},Cn=hr.__private__.encodeColorString=function(Dr){var tn;typeof Dr=="string"&&(Dr={ch1:Dr});var jn=Dr.ch1,Bn=Dr.ch2,Vn=Dr.ch3,Jn=Dr.ch4,ds=Dr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof jn=="string"&&jn.charAt(0)!=="#"){var Ps=new f$1(jn);if(Ps.ok)jn=Ps.toHex();else if(!/^\d*\.?\d*$/.test(jn))throw new Error('Invalid color "'+jn+'" passed to jsPDF.encodeColorString.')}if(typeof jn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(jn)&&(jn="#"+jn[1]+jn[1]+jn[2]+jn[2]+jn[3]+jn[3]),typeof jn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(jn)){var Gs=parseInt(jn.substr(1),16);jn=Gs>>16&255,Bn=Gs>>8&255,Vn=255&Gs}if(Bn===void 0||Jn===void 0&&jn===Bn&&Bn===Vn)if(typeof jn=="string")tn=jn+" "+ds[0];else switch(Dr.precision){case 2:tn=Mr(jn/255)+" "+ds[0];break;case 3:default:tn=Ir(jn/255)+" "+ds[0]}else if(Jn===void 0||_typeof(Jn)==="object"){if(Jn&&!isNaN(Jn.a)&&Jn.a===0)return tn=["1.","1.","1.",ds[1]].join(" ");if(typeof jn=="string")tn=[jn,Bn,Vn,ds[1]].join(" ");else switch(Dr.precision){case 2:tn=[Mr(jn/255),Mr(Bn/255),Mr(Vn/255),ds[1]].join(" ");break;default:case 3:tn=[Ir(jn/255),Ir(Bn/255),Ir(Vn/255),ds[1]].join(" ")}}else if(typeof jn=="string")tn=[jn,Bn,Vn,Jn,ds[2]].join(" ");else switch(Dr.precision){case 2:tn=[Mr(jn),Mr(Bn),Mr(Vn),Mr(Jn),ds[2]].join(" ");break;case 3:default:tn=[Ir(jn),Ir(Bn),Ir(Vn),Ir(Jn),ds[2]].join(" ")}return tn},Ln=hr.__private__.getFilters=function(){return ir},Yn=hr.__private__.putStream=function(Dr){var tn=(Dr=Dr||{}).data||"",jn=Dr.filters||Ln(),Bn=Dr.alreadyAppliedFilters||[],Vn=Dr.addLength1||!1,Jn=tn.length,ds=Dr.objectId,Ps=function(ru){return ru};if(cr!==null&&ds===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");cr!==null&&(Ps=Au.encryptor(ds,0));var Gs={};jn===!0&&(jn=["FlateEncode"]);var ro=Dr.additionalKeyValues||[],$a=(Gs=E$1.API.processDataByFilters!==void 0?E$1.API.processDataByFilters(tn,jn):{data:tn,reverseChain:[]}).reverseChain+(Array.isArray(Bn)?Bn.join(" "):Bn.toString());if(Gs.data.length!==0&&(ro.push({key:"Length",value:Gs.data.length}),Vn===!0&&ro.push({key:"Length1",value:Jn})),$a.length!=0)if($a.split("/").length-1==1)ro.push({key:"Filter",value:$a});else{ro.push({key:"Filter",value:"["+$a+"]"});for(var mo=0;mo<ro.length;mo+=1)if(ro[mo].key==="DecodeParms"){for(var Yo=[],Rl=0;Rl<Gs.reverseChain.split("/").length-1;Rl+=1)Yo.push("null");Yo.push(ro[mo].value),ro[mo].value="["+Yo.join(" ")+"]"}}pn("<<");for(var Tl=0;Tl<ro.length;Tl++)pn("/"+ro[Tl].key+" "+ro[Tl].value);pn(">>"),Gs.data.length!==0&&(pn("stream"),pn(Ps(Gs.data)),pn("endstream"))},$n=hr.__private__.putPage=function(Dr){var tn=Dr.number,jn=Dr.data,Bn=Dr.objId,Vn=Dr.contentsObjId;un(Bn,!0),pn("<</Type /Page"),pn("/Parent "+Dr.rootDictionaryObjId+" 0 R"),pn("/Resources "+Dr.resourceDictionaryObjId+" 0 R"),pn("/MediaBox ["+parseFloat(Sr(Dr.mediaBox.bottomLeftX))+" "+parseFloat(Sr(Dr.mediaBox.bottomLeftY))+" "+Sr(Dr.mediaBox.topRightX)+" "+Sr(Dr.mediaBox.topRightY)+"]"),Dr.cropBox!==null&&pn("/CropBox ["+Sr(Dr.cropBox.bottomLeftX)+" "+Sr(Dr.cropBox.bottomLeftY)+" "+Sr(Dr.cropBox.topRightX)+" "+Sr(Dr.cropBox.topRightY)+"]"),Dr.bleedBox!==null&&pn("/BleedBox ["+Sr(Dr.bleedBox.bottomLeftX)+" "+Sr(Dr.bleedBox.bottomLeftY)+" "+Sr(Dr.bleedBox.topRightX)+" "+Sr(Dr.bleedBox.topRightY)+"]"),Dr.trimBox!==null&&pn("/TrimBox ["+Sr(Dr.trimBox.bottomLeftX)+" "+Sr(Dr.trimBox.bottomLeftY)+" "+Sr(Dr.trimBox.topRightX)+" "+Sr(Dr.trimBox.topRightY)+"]"),Dr.artBox!==null&&pn("/ArtBox ["+Sr(Dr.artBox.bottomLeftX)+" "+Sr(Dr.artBox.bottomLeftY)+" "+Sr(Dr.artBox.topRightX)+" "+Sr(Dr.artBox.topRightY)+"]"),typeof Dr.userUnit=="number"&&Dr.userUnit!==1&&pn("/UserUnit "+Dr.userUnit),qs.publish("putPage",{objId:Bn,pageContext:Bs[tn],pageNumber:tn,page:jn}),pn("/Contents "+Vn+" 0 R"),pn(">>"),pn("endobj");var Jn=jn.join(`
`);return xr===gr.ADVANCED&&(Jn+=`
Q`),un(Vn,!0),Yn({data:Jn,filters:Ln(),objectId:Vn}),pn("endobj"),Bn},Qn=hr.__private__.putPages=function(){var Dr,tn,jn=[];for(Dr=1;Dr<=Ms;Dr++)Bs[Dr].objId=Vo(),Bs[Dr].contentsObjId=Vo();for(Dr=1;Dr<=Ms;Dr++)jn.push($n({number:Dr,data:Tn[Dr],objId:Bs[Dr].objId,contentsObjId:Bs[Dr].contentsObjId,mediaBox:Bs[Dr].mediaBox,cropBox:Bs[Dr].cropBox,bleedBox:Bs[Dr].bleedBox,trimBox:Bs[Dr].trimBox,artBox:Bs[Dr].artBox,userUnit:Bs[Dr].userUnit,rootDictionaryObjId:xn,resourceDictionaryObjId:yn}));un(xn,!0),pn("<</Type /Pages");var Bn="/Kids [";for(tn=0;tn<Ms;tn++)Bn+=jn[tn]+" 0 R ";pn(Bn+"]"),pn("/Count "+Ms),pn(">>"),pn("endobj"),qs.publish("postPutPages")},Wn=function(Dr){qs.publish("putFont",{font:Dr,out:pn,newObject:zo,putStream:Yn}),Dr.isAlreadyPutted!==!0&&(Dr.objectNumber=zo(),pn("<<"),pn("/Type /Font"),pn("/BaseFont /"+F$1(Dr.postScriptName)),pn("/Subtype /Type1"),typeof Dr.encoding=="string"&&pn("/Encoding /"+Dr.encoding),pn("/FirstChar 32"),pn("/LastChar 255"),pn(">>"),pn("endobj"))},hs=function(){for(var Dr in xa)xa.hasOwnProperty(Dr)&&(ur===!1||ur===!0&&dr.hasOwnProperty(Dr))&&Wn(xa[Dr])},gs=function(Dr){Dr.objectNumber=zo();var tn=[];tn.push({key:"Type",value:"/XObject"}),tn.push({key:"Subtype",value:"/Form"}),tn.push({key:"BBox",value:"["+[Sr(Dr.x),Sr(Dr.y),Sr(Dr.x+Dr.width),Sr(Dr.y+Dr.height)].join(" ")+"]"}),tn.push({key:"Matrix",value:"["+Dr.matrix.toString()+"]"});var jn=Dr.pages[1].join(`
`);Yn({data:jn,additionalKeyValues:tn,objectId:Dr.objectNumber}),pn("endobj")},bs=function(){for(var Dr in Os)Os.hasOwnProperty(Dr)&&gs(Os[Dr])},ms=function(Dr,tn){var jn,Bn=[],Vn=1/(tn-1);for(jn=0;jn<1;jn+=Vn)Bn.push(jn);if(Bn.push(1),Dr[0].offset!=0){var Jn={offset:0,color:Dr[0].color};Dr.unshift(Jn)}if(Dr[Dr.length-1].offset!=1){var ds={offset:1,color:Dr[Dr.length-1].color};Dr.push(ds)}for(var Ps="",Gs=0,ro=0;ro<Bn.length;ro++){for(jn=Bn[ro];jn>Dr[Gs+1].offset;)Gs++;var $a=Dr[Gs].offset,mo=(jn-$a)/(Dr[Gs+1].offset-$a),Yo=Dr[Gs].color,Rl=Dr[Gs+1].color;Ps+=zr(Math.round((1-mo)*Yo[0]+mo*Rl[0]).toString(16))+zr(Math.round((1-mo)*Yo[1]+mo*Rl[1]).toString(16))+zr(Math.round((1-mo)*Yo[2]+mo*Rl[2]).toString(16))}return Ps.trim()},_s=function(Dr,tn){tn||(tn=21);var jn=zo(),Bn=ms(Dr.colors,tn),Vn=[];Vn.push({key:"FunctionType",value:"0"}),Vn.push({key:"Domain",value:"[0.0 1.0]"}),Vn.push({key:"Size",value:"["+tn+"]"}),Vn.push({key:"BitsPerSample",value:"8"}),Vn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yn({data:Bn,additionalKeyValues:Vn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:jn}),pn("endobj"),Dr.objectNumber=zo(),pn("<< /ShadingType "+Dr.type),pn("/ColorSpace /DeviceRGB");var Jn="/Coords ["+Sr(parseFloat(Dr.coords[0]))+" "+Sr(parseFloat(Dr.coords[1]))+" ";Dr.type===2?Jn+=Sr(parseFloat(Dr.coords[2]))+" "+Sr(parseFloat(Dr.coords[3])):Jn+=Sr(parseFloat(Dr.coords[2]))+" "+Sr(parseFloat(Dr.coords[3]))+" "+Sr(parseFloat(Dr.coords[4]))+" "+Sr(parseFloat(Dr.coords[5])),pn(Jn+="]"),Dr.matrix&&pn("/Matrix ["+Dr.matrix.toString()+"]"),pn("/Function "+jn+" 0 R"),pn("/Extend [true true]"),pn(">>"),pn("endobj")},ga=function(Dr,tn){var jn=Vo(),Bn=zo();tn.push({resourcesOid:jn,objectOid:Bn}),Dr.objectNumber=Bn;var Vn=[];Vn.push({key:"Type",value:"/Pattern"}),Vn.push({key:"PatternType",value:"1"}),Vn.push({key:"PaintType",value:"1"}),Vn.push({key:"TilingType",value:"1"}),Vn.push({key:"BBox",value:"["+Dr.boundingBox.map(Sr).join(" ")+"]"}),Vn.push({key:"XStep",value:Sr(Dr.xStep)}),Vn.push({key:"YStep",value:Sr(Dr.yStep)}),Vn.push({key:"Resources",value:jn+" 0 R"}),Dr.matrix&&Vn.push({key:"Matrix",value:"["+Dr.matrix.toString()+"]"}),Yn({data:Dr.stream,additionalKeyValues:Vn,objectId:Dr.objectNumber}),pn("endobj")},Ro=function(Dr){var tn;for(tn in eo)eo.hasOwnProperty(tn)&&(eo[tn]instanceof B?_s(eo[tn]):eo[tn]instanceof M&&ga(eo[tn],Dr))},Oo=function(Dr){for(var tn in Dr.objectNumber=zo(),pn("<<"),Dr)switch(tn){case"opacity":pn("/ca "+Mr(Dr[tn]));break;case"stroke-opacity":pn("/CA "+Mr(Dr[tn]))}pn(">>"),pn("endobj")},Ll=function(){var Dr;for(Dr in Qs)Qs.hasOwnProperty(Dr)&&Oo(Qs[Dr])},oA=function(){for(var Dr in pn("/XObject <<"),Os)Os.hasOwnProperty(Dr)&&Os[Dr].objectNumber>=0&&pn("/"+Dr+" "+Os[Dr].objectNumber+" 0 R");qs.publish("putXobjectDict"),pn(">>")},np=function(){Au.oid=zo(),pn("<<"),pn("/Filter /Standard"),pn("/V "+Au.v),pn("/R "+Au.r),pn("/U <"+Au.toHexString(Au.U)+">"),pn("/O <"+Au.toHexString(Au.O)+">"),pn("/P "+Au.P),pn(">>"),pn("endobj")},sp=function(){for(var Dr in pn("/Font <<"),xa)xa.hasOwnProperty(Dr)&&(ur===!1||ur===!0&&dr.hasOwnProperty(Dr))&&pn("/"+Dr+" "+xa[Dr].objectNumber+" 0 R");pn(">>")},RA=function(){if(Object.keys(eo).length>0){for(var Dr in pn("/Shading <<"),eo)eo.hasOwnProperty(Dr)&&eo[Dr]instanceof B&&eo[Dr].objectNumber>=0&&pn("/"+Dr+" "+eo[Dr].objectNumber+" 0 R");qs.publish("putShadingPatternDict"),pn(">>")}},ip=function(Dr){if(Object.keys(eo).length>0){for(var tn in pn("/Pattern <<"),eo)eo.hasOwnProperty(tn)&&eo[tn]instanceof hr.TilingPattern&&eo[tn].objectNumber>=0&&eo[tn].objectNumber<Dr&&pn("/"+tn+" "+eo[tn].objectNumber+" 0 R");qs.publish("putTilingPatternDict"),pn(">>")}},qu=function(){if(Object.keys(Qs).length>0){var Dr;for(Dr in pn("/ExtGState <<"),Qs)Qs.hasOwnProperty(Dr)&&Qs[Dr].objectNumber>=0&&pn("/"+Dr+" "+Qs[Dr].objectNumber+" 0 R");qs.publish("putGStateDict"),pn(">>")}},Sl=function(Dr){un(Dr.resourcesOid,!0),pn("<<"),pn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),sp(),RA(),ip(Dr.objectOid),qu(),oA(),pn(">>"),pn("endobj")},ov=function(){var Dr=[];hs(),Ll(),bs(),Ro(Dr),qs.publish("putResources"),Dr.forEach(Sl),Sl({resourcesOid:yn,objectOid:Number.MAX_SAFE_INTEGER}),qs.publish("postPutResources")},lv=function(){qs.publish("putAdditionalObjects");for(var Dr=0;Dr<En.length;Dr++){var tn=En[Dr];un(tn.objId,!0),pn(tn.content),pn("endobj")}qs.publish("postPutAdditionalObjects")},Wx=function(Dr){oo[Dr.fontName]=oo[Dr.fontName]||{},oo[Dr.fontName][Dr.fontStyle]=Dr.id},cv=function(Dr,tn,jn,Bn,Vn){var Jn={id:"F"+(Object.keys(xa).length+1).toString(10),postScriptName:Dr,fontName:tn,fontStyle:jn,encoding:Bn,isStandardFont:Vn||!1,metadata:{}};return qs.publish("addFont",{font:Jn,instance:this}),xa[Jn.id]=Jn,Wx(Jn),Jn.id},Jy=function(Dr){for(var tn=0,jn=es.length;tn<jn;tn++){var Bn=cv.call(this,Dr[tn][0],Dr[tn][1],Dr[tn][2],es[tn][3],!0);ur===!1&&(dr[Bn]=!0);var Vn=Dr[tn][0].split("-");Wx({id:Bn,fontName:Vn[0],fontStyle:Vn[1]||""})}qs.publish("addFonts",{fonts:xa,dictionary:oo})},ku=function(Dr){return Dr.foo=function(){try{return Dr.apply(this,arguments)}catch(Bn){var tn=Bn.stack||"";~tn.indexOf(" at ")&&(tn=tn.split(" at ")[1]);var jn="Error in function "+tn.split(`
`)[0].split("<")[0]+": "+Bn.message;if(!n.console)throw new Error(jn);n.console.error(jn,Bn),n.alert&&alert(jn)}},Dr.foo.bar=Dr,Dr.foo},Dm=function(Dr,tn){var jn,Bn,Vn,Jn,ds,Ps,Gs,ro,$a;if(Vn=(tn=tn||{}).sourceEncoding||"Unicode",ds=tn.outputEncoding,(tn.autoencode||ds)&&xa[Ds].metadata&&xa[Ds].metadata[Vn]&&xa[Ds].metadata[Vn].encoding&&(Jn=xa[Ds].metadata[Vn].encoding,!ds&&xa[Ds].encoding&&(ds=xa[Ds].encoding),!ds&&Jn.codePages&&(ds=Jn.codePages[0]),typeof ds=="string"&&(ds=Jn[ds]),ds)){for(Gs=!1,Ps=[],jn=0,Bn=Dr.length;jn<Bn;jn++)(ro=ds[Dr.charCodeAt(jn)])?Ps.push(String.fromCharCode(ro)):Ps.push(Dr[jn]),Ps[jn].charCodeAt(0)>>8&&(Gs=!0);Dr=Ps.join("")}for(jn=Dr.length;Gs===void 0&&jn!==0;)Dr.charCodeAt(jn-1)>>8&&(Gs=!0),jn--;if(!Gs)return Dr;for(Ps=tn.noBOM?[]:[254,255],jn=0,Bn=Dr.length;jn<Bn;jn++){if(($a=(ro=Dr.charCodeAt(jn))>>8)>>8)throw new Error("Character at position "+jn+" of string '"+Dr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ps.push($a),Ps.push(ro-($a<<8))}return String.fromCharCode.apply(void 0,Ps)},Fu=hr.__private__.pdfEscape=hr.pdfEscape=function(Dr,tn){return Dm(Dr,tn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gx=hr.__private__.beginPage=function(Dr){Tn[++Ms]=[],Bs[Ms]={objId:0,contentsObjId:0,userUnit:Number(ar),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Dr[0]),topRightY:Number(Dr[1])}},Zy(Ms),Nn(Tn[Or])},uv=function(Dr,tn){var jn,Bn,Vn;switch(tr=tn||tr,typeof Dr=="string"&&(jn=pr(Dr.toLowerCase()),Array.isArray(jn)&&(Bn=jn[0],Vn=jn[1])),Array.isArray(Dr)&&(Bn=Dr[0]*ys,Vn=Dr[1]*ys),isNaN(Bn)&&(Bn=nr[0],Vn=nr[1]),(Bn>14400||Vn>14400)&&(a$1.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Bn=Math.min(14400,Bn),Vn=Math.min(14400,Vn)),nr=[Bn,Vn],tr.substr(0,1)){case"l":Vn>Bn&&(nr=[Vn,Bn]);break;case"p":Bn>Vn&&(nr=[Vn,Bn])}Gx(nr),a1(pv),pn(Cl),Jx!==0&&pn(Jx+" J"),au!==0&&pn(au+" j"),qs.publish("addPage",{pageNumber:Ms})},dv=function(Dr){Dr>0&&Dr<=Ms&&(Tn.splice(Dr,1),Bs.splice(Dr,1),Ms--,Or>Ms&&(Or=Ms),this.setPage(Or))},Zy=function(Dr){Dr>0&&Dr<=Ms&&(Or=Dr)},e1=hr.__private__.getNumberOfPages=hr.getNumberOfPages=function(){return Tn.length-1},Kx=function(Dr,tn,jn){var Bn,Vn=void 0;return jn=jn||{},Dr=Dr!==void 0?Dr:xa[Ds].fontName,tn=tn!==void 0?tn:xa[Ds].fontStyle,Bn=Dr.toLowerCase(),oo[Bn]!==void 0&&oo[Bn][tn]!==void 0?Vn=oo[Bn][tn]:oo[Dr]!==void 0&&oo[Dr][tn]!==void 0?Vn=oo[Dr][tn]:jn.disableWarning===!1&&a$1.warn("Unable to look up font label for font '"+Dr+"', '"+tn+"'. Refer to getFontList() for available fonts."),Vn||jn.noFallback||(Vn=oo.times[tn])==null&&(Vn=oo.times.normal),Vn},hv=hr.__private__.putInfo=function(){var Dr=zo(),tn=function(Bn){return Bn};for(var jn in cr!==null&&(tn=Au.encryptor(Dr,0)),pn("<<"),pn("/Producer ("+Fu(tn("jsPDF "+E$1.version))+")"),Ts)Ts.hasOwnProperty(jn)&&Ts[jn]&&pn("/"+jn.substr(0,1).toUpperCase()+jn.substr(1)+" ("+Fu(tn(Ts[jn]))+")");pn("/CreationDate ("+Fu(tn(Gr))+")"),pn(">>"),pn("endobj")},ap=hr.__private__.putCatalog=function(Dr){var tn=(Dr=Dr||{}).rootDictionaryObjId||xn;switch(zo(),pn("<<"),pn("/Type /Catalog"),pn("/Pages "+tn+" 0 R"),ts||(ts="fullwidth"),ts){case"fullwidth":pn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pn("/OpenAction [3 0 R /Fit]");break;case"original":pn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var jn=""+ts;jn.substr(jn.length-1)==="%"&&(ts=parseInt(ts)/100),typeof ts=="number"&&pn("/OpenAction [3 0 R /XYZ null null "+Mr(ts)+"]")}switch(ks||(ks="continuous"),ks){case"continuous":pn("/PageLayout /OneColumn");break;case"single":pn("/PageLayout /SinglePage");break;case"two":case"twoleft":pn("/PageLayout /TwoColumnLeft");break;case"tworight":pn("/PageLayout /TwoColumnRight")}ws&&pn("/PageMode /"+ws),qs.publish("putCatalog"),pn(">>"),pn("endobj")},r1=hr.__private__.putTrailer=function(){pn("trailer"),pn("<<"),pn("/Size "+(Zr+1)),pn("/Root "+Zr+" 0 R"),pn("/Info "+(Zr-1)+" 0 R"),cr!==null&&pn("/Encrypt "+Au.oid+" 0 R"),pn("/ID [ <"+$r+"> <"+$r+"> ]"),pn(">>")},n1=hr.__private__.putHeader=function(){pn("%PDF-"+Ar),pn("%")},WE=hr.__private__.putXRef=function(){var Dr="0000000000";pn("xref"),pn("0 "+(Zr+1)),pn("0000000000 65535 f ");for(var tn=1;tn<=Zr;tn++)typeof nn[tn]=="function"?pn((Dr+nn[tn]()).slice(-10)+" 00000 n "):nn[tn]!==void 0?pn((Dr+nn[tn]).slice(-10)+" 00000 n "):pn("0000000000 00000 n ")},op=hr.__private__.buildDocument=function(){Rn(),Nn(vn),qs.publish("buildDocument"),n1(),Qn(),lv(),ov(),cr!==null&&np(),hv(),ap();var Dr=hn;return WE(),r1(),pn("startxref"),pn(""+Dr),pn("%%EOF"),Nn(Tn[Or]),vn.join(`
`)},Mm=hr.__private__.getBlob=function(Dr){return new Blob([os(Dr)],{type:"application/pdf"})},$m=hr.output=hr.__private__.output=ku(function(Dr,tn){switch(typeof(tn=tn||{})=="string"?tn={filename:tn}:tn.filename=tn.filename||"generated.pdf",Dr){case void 0:return op();case"save":hr.save(tn.filename);break;case"arraybuffer":return os(op());case"blob":return Mm(op());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Mm(op()))||void 0;a$1.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var jn="",Bn=op();try{jn=h(Bn)}catch{jn=h(unescape(encodeURIComponent(Bn)))}return"data:application/pdf;filename="+tn.filename+";base64,"+jn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Vn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Jn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';tn.pdfObjectUrl&&(Vn=tn.pdfObjectUrl,Jn="");var ds='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Vn+'"'+Jn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(tn)+");<\/script></body></html>",Ps=n.open();return Ps!==null&&Ps.document.write(ds),Ps}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Gs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(tn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+tn.filename+'" width="500px" height="400px" /></body></html>',ro=n.open();if(ro!==null){ro.document.write(Gs);var $a=this;ro.document.documentElement.querySelector("#pdfViewer").onload=function(){ro.document.title=tn.filename,ro.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($a.output("bloburl"))}}return ro}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mo='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",tn)+'"></iframe></body></html>',Yo=n.open();if(Yo!==null&&(Yo.document.write(mo),Yo.document.title=tn.filename),Yo||typeof safari>"u")return Yo;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",tn);default:return null}}),fv=function(Dr){return Array.isArray(to)===!0&&to.indexOf(Dr)>-1};switch(rr){case"pt":ys=1;break;case"mm":ys=72/25.4;break;case"cm":ys=72/2.54;break;case"in":ys=72;break;case"px":ys=fv("px_scaling")==1?.75:96/72;break;case"pc":case"em":ys=12;break;case"ex":ys=6;break;default:if(typeof rr!="number")throw new Error("Invalid unit: "+rr);ys=rr}var Au=null;qr(),Tr();var GE=function(Dr){return cr!==null?Au.encryptor(Dr,0):function(tn){return tn}},s1=hr.__private__.getPageInfo=hr.getPageInfo=function(Dr){if(isNaN(Dr)||Dr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bs[Dr].objId,pageNumber:Dr,pageContext:Bs[Dr]}},ba=hr.__private__.getPageInfoByObjId=function(Dr){if(isNaN(Dr)||Dr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var tn in Bs)if(Bs[tn].objId===Dr)break;return s1(tn)},KE=hr.__private__.getCurrentPageInfo=hr.getCurrentPageInfo=function(){return{objId:Bs[Or].objId,pageNumber:Or,pageContext:Bs[Or]}};hr.addPage=function(){return uv.apply(this,arguments),this},hr.setPage=function(){return Zy.apply(this,arguments),Nn.call(this,Tn[Or]),this},hr.insertPage=function(Dr){return this.addPage(),this.movePage(Or,Dr),this},hr.movePage=function(Dr,tn){var jn,Bn;if(Dr>tn){jn=Tn[Dr],Bn=Bs[Dr];for(var Vn=Dr;Vn>tn;Vn--)Tn[Vn]=Tn[Vn-1],Bs[Vn]=Bs[Vn-1];Tn[tn]=jn,Bs[tn]=Bn,this.setPage(tn)}else if(Dr<tn){jn=Tn[Dr],Bn=Bs[Dr];for(var Jn=Dr;Jn<tn;Jn++)Tn[Jn]=Tn[Jn+1],Bs[Jn]=Bs[Jn+1];Tn[tn]=jn,Bs[tn]=Bn,this.setPage(tn)}return this},hr.deletePage=function(){return dv.apply(this,arguments),this},hr.__private__.text=hr.text=function(Dr,tn,jn,Bn,Vn){var Jn,ds,Ps,Gs,ro,$a,mo,Yo,Rl,Tl=(Bn=Bn||{}).scope||this;if(typeof Dr=="number"&&typeof tn=="number"&&(typeof jn=="string"||Array.isArray(jn))){var ru=jn;jn=tn,tn=Dr,Dr=ru}if(arguments[3]instanceof Ws?(jr("The transform parameter of text() with a Matrix value"),Rl=Vn):(Ps=arguments[4],Gs=arguments[5],_typeof(mo=arguments[3])==="object"&&mo!==null||(typeof Ps=="string"&&(Gs=Ps,Ps=null),typeof mo=="string"&&(Gs=mo,mo=null),typeof mo=="number"&&(Ps=mo,mo=null),Bn={flags:mo,angle:Ps,align:Gs})),isNaN(tn)||isNaN(jn)||Dr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Dr.length===0)return Tl;var nu="",uA=!1,qo=typeof Bn.lineHeightFactor=="number"?Bn.lineHeightFactor:Um,dA=Tl.internal.scaleFactor;function um(ko){return ko=ko.split("	").join(Array(Bn.TabLen||9).join(" ")),Fu(ko,mo)}function r0(ko){for(var Qo,Ol=ko.concat(),Yl=[],AA=Ol.length;AA--;)typeof(Qo=Ol.shift())=="string"?Yl.push(Qo):Array.isArray(ko)&&(Qo.length===1||Qo[1]===void 0&&Qo[2]===void 0)?Yl.push(Qo[0]):Yl.push([Qo[0],Qo[1],Qo[2]]);return Yl}function n0(ko,Qo){var Ol;if(typeof ko=="string")Ol=Qo(ko)[0];else if(Array.isArray(ko)){for(var Yl,AA,pA=ko.concat(),Ip=[],Ev=pA.length;Ev--;)typeof(Yl=pA.shift())=="string"?Ip.push(Qo(Yl)[0]):Array.isArray(Yl)&&typeof Yl[0]=="string"&&(AA=Qo(Yl[0],Yl[1],Yl[2]),Ip.push([AA[0],AA[1],AA[2]]));Ol=Ip}return Ol}var s0=!1,vv=!0;if(typeof Dr=="string")s0=!0;else if(Array.isArray(Dr)){var yv=Dr.concat();ds=[];for(var i0,lu=yv.length;lu--;)(typeof(i0=yv.shift())!="string"||Array.isArray(i0)&&typeof i0[0]!="string")&&(vv=!1);s0=vv}if(s0===!1)throw new Error('Type of text must be string or Array. "'+Dr+'" is not recognized.');typeof Dr=="string"&&(Dr=Dr.match(/[\r?\n]/)?Dr.split(/\r\n|\r|\n/g):[Dr]);var PA=cs/Tl.internal.scaleFactor,a0=PA*(qo-1);switch(Bn.baseline){case"bottom":jn-=a0;break;case"top":jn+=PA-a0;break;case"hanging":jn+=PA-2*a0;break;case"middle":jn+=PA/2-a0}if(($a=Bn.maxWidth||0)>0&&(typeof Dr=="string"?Dr=Tl.splitTextToSize(Dr,$a):Object.prototype.toString.call(Dr)==="[object Array]"&&(Dr=Dr.reduce(function(ko,Qo){return ko.concat(Tl.splitTextToSize(Qo,$a))},[]))),Jn={text:Dr,x:tn,y:jn,options:Bn,mutex:{pdfEscape:Fu,activeFontKey:Ds,fonts:xa,activeFontSize:cs}},qs.publish("preProcessText",Jn),Dr=Jn.text,Ps=(Bn=Jn.options).angle,!(Rl instanceof Ws)&&Ps&&typeof Ps=="number"){Ps*=Math.PI/180,Bn.rotationDirection===0&&(Ps=-Ps),xr===gr.ADVANCED&&(Ps=-Ps);var o0=Math.cos(Ps),Vm=Math.sin(Ps);Rl=new Ws(o0,Vm,-Vm,o0,0,0)}else Ps&&Ps instanceof Ws&&(Rl=Ps);xr!==gr.ADVANCED||Rl||(Rl=_l),(ro=Bn.charSpace||Hm)!==void 0&&(nu+=Sr(Lr(ro))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yo=Bn.horizontalScale)!==void 0&&(nu+=Sr(100*Yo)+` Tz
`),Bn.lang;var _u=-1,dp=Bn.renderingMode!==void 0?Bn.renderingMode:Bn.stroke,dm=Tl.internal.getCurrentPageInfo().pageContext;switch(dp){case 0:case!1:case"fill":_u=0;break;case 1:case!0:case"stroke":_u=1;break;case 2:case"fillThenStroke":_u=2;break;case 3:case"invisible":_u=3;break;case 4:case"fillAndAddForClipping":_u=4;break;case 5:case"strokeAndAddPathForClipping":_u=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_u=6;break;case 7:case"addToPathForClipping":_u=7}var h1=dm.usedRenderingMode!==void 0?dm.usedRenderingMode:-1;_u!==-1?nu+=_u+` Tr
`:h1!==-1&&(nu+=`0 Tr
`),_u!==-1&&(dm.usedRenderingMode=_u),Gs=Bn.align||"left";var hA,l0=cs*qo,Pp=Tl.internal.pageSize.getWidth(),Lu=xa[Ds];ro=Bn.charSpace||Hm,$a=Bn.maxWidth||0,mo=Object.assign({autoencode:!0,noBOM:!0},Bn.flags);var Np=[],Qm=function(ko){return Tl.getStringUnitWidth(ko,{font:Lu,charSpace:ro,fontSize:cs,doKerning:!1})*cs/dA};if(Object.prototype.toString.call(Dr)==="[object Array]"){var Ou;ds=r0(Dr),Gs!=="left"&&(hA=ds.map(Qm));var Su,hm=0;if(Gs==="right"){tn-=hA[0],Dr=[],lu=ds.length;for(var Bp=0;Bp<lu;Bp++)Bp===0?(Su=lA(tn),Ou=bu(jn)):(Su=Lr(hm-hA[Bp]),Ou=-l0),Dr.push([ds[Bp],Su,Ou]),hm=hA[Bp]}else if(Gs==="center"){tn-=hA[0]/2,Dr=[],lu=ds.length;for(var Du=0;Du<lu;Du++)Du===0?(Su=lA(tn),Ou=bu(jn)):(Su=Lr((hm-hA[Du])/2),Ou=-l0),Dr.push([ds[Du],Su,Ou]),hm=hA[Du]}else if(Gs==="left"){Dr=[],lu=ds.length;for(var Dn=0;Dn<lu;Dn++)Dr.push(ds[Dn])}else if(Gs==="justify"&&Lu.encoding==="Identity-H"){Dr=[],lu=ds.length,$a=$a!==0?$a:Pp;for(var Zn=0,Kn=0;Kn<lu;Kn++)if(Ou=Kn===0?bu(jn):-l0,Su=Kn===0?lA(tn):Zn,Kn<lu-1){var Ns=Lr(($a-hA[Kn])/(ds[Kn].split(" ").length-1)),$s=ds[Kn].split(" ");Dr.push([$s[0]+" ",Su,Ou]),Zn=0;for(var no=1;no<$s.length;no++){var Xo=(Qm($s[no-1]+" "+$s[no])-Qm($s[no]))*dA+Ns;no==$s.length-1?Dr.push([$s[no],Xo,0]):Dr.push([$s[no]+" ",Xo,0]),Zn-=Xo}}else Dr.push([ds[Kn],Su,Ou]);Dr.push(["",Zn,0])}else{if(Gs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Dr=[],lu=ds.length,$a=$a!==0?$a:Pp,Kn=0;Kn<lu;Kn++)Ou=Kn===0?bu(jn):-l0,Su=Kn===0?lA(tn):0,Kn<lu-1?Np.push(Sr(Lr(($a-hA[Kn])/(ds[Kn].split(" ").length-1)))):Np.push(0),Dr.push([ds[Kn],Su,Ou])}}var Po=typeof Bn.R2L=="boolean"?Bn.R2L:vs;Po===!0&&(Dr=n0(Dr,function(ko,Qo,Ol){return[ko.split("").reverse().join(""),Qo,Ol]})),Jn={text:Dr,x:tn,y:jn,options:Bn,mutex:{pdfEscape:Fu,activeFontKey:Ds,fonts:xa,activeFontSize:cs}},qs.publish("postProcessText",Jn),Dr=Jn.text,uA=Jn.mutex.isHex||!1;var Wm=xa[Ds].encoding;Wm!=="WinAnsiEncoding"&&Wm!=="StandardEncoding"||(Dr=n0(Dr,function(ko,Qo,Ol){return[um(ko),Qo,Ol]})),ds=r0(Dr),Dr=[];for(var Gm,su,NA,Km=0,IA=1,hp=Array.isArray(ds[0])?IA:Km,kA="",Eo=function(ko,Qo,Ol){var Yl="";return Ol instanceof Ws?(Ol=typeof Bn.angle=="number"?wl(Ol,new Ws(1,0,0,1,ko,Qo)):wl(new Ws(1,0,0,1,ko,Qo),Ol),xr===gr.ADVANCED&&(Ol=wl(new Ws(1,0,0,-1,0,0),Ol)),Yl=Ol.join(" ")+` Tm
`):Yl=Sr(ko)+" "+Sr(Qo)+` Td
`,Yl},fA=0;fA<ds.length;fA++){switch(kA="",hp){case IA:NA=(uA?"<":"(")+ds[fA][0]+(uA?">":")"),Gm=parseFloat(ds[fA][1]),su=parseFloat(ds[fA][2]);break;case Km:NA=(uA?"<":"(")+ds[fA]+(uA?">":")"),Gm=lA(tn),su=bu(jn)}Np!==void 0&&Np[fA]!==void 0&&(kA=Np[fA]+` Tw
`),fA===0?Dr.push(kA+Eo(Gm,su,Rl)+NA):hp===Km?Dr.push(kA+NA):hp===IA&&Dr.push(kA+Eo(Gm,su,Rl)+NA)}Dr=hp===Km?Dr.join(` Tj
T* `):Dr.join(` Tj
`),Dr+=` Tj
`;var Yu=`BT
/`;return Yu+=Ds+" "+cs+` Tf
`,Yu+=Sr(cs*qo)+` TL
`,Yu+=lm+`
`,Yu+=nu,Yu+=Dr,pn(Yu+="ET"),dr[Ds]=!0,Tl};var zE=hr.__private__.clip=hr.clip=function(Dr){return pn(Dr==="evenodd"?"W*":"W"),this};hr.clipEvenOdd=function(){return zE("evenodd")},hr.__private__.discardPath=hr.discardPath=function(){return pn("n"),this};var lp=hr.__private__.isValidStyle=function(Dr){var tn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Dr)!==-1&&(tn=!0),tn};hr.__private__.setDefaultPathOperation=hr.setDefaultPathOperation=function(Dr){return lp(Dr)&&(lr=Dr),this};var i1=hr.__private__.getStyle=hr.getStyle=function(Dr){var tn=lr;switch(Dr){case"D":case"S":tn="S";break;case"F":tn="f";break;case"FD":case"DF":tn="B";break;case"f":case"f*":case"B":case"B*":tn=Dr}return tn},zx=hr.close=function(){return pn("h"),this};hr.stroke=function(){return pn("S"),this},hr.fill=function(Dr){return qx("f",Dr),this},hr.fillEvenOdd=function(Dr){return qx("f*",Dr),this},hr.fillStroke=function(Dr){return qx("B",Dr),this},hr.fillStrokeEvenOdd=function(Dr){return qx("B*",Dr),this};var qx=function(Dr,tn){_typeof(tn)==="object"?YE(tn,Dr):pn(Dr)},Av=function(Dr){Dr===null||xr===gr.ADVANCED&&Dr===void 0||(Dr=i1(Dr),pn(Dr))};function qE(Dr,tn,jn,Bn,Vn){var Jn=new M(tn||this.boundingBox,jn||this.xStep,Bn||this.yStep,this.gState,Vn||this.matrix);Jn.stream=this.stream;var ds=Dr+"$$"+this.cloneIndex+++"$$";return Al(ds,Jn),Jn}var YE=function(Dr,tn){var jn=zs[Dr.key],Bn=eo[jn];if(Bn instanceof B)pn("q"),pn(XE(tn)),Bn.gState&&hr.setGState(Bn.gState),pn(Dr.matrix.toString()+" cm"),pn("/"+jn+" sh"),pn("Q");else if(Bn instanceof M){var Vn=new Ws(1,0,0,-1,0,up());Dr.matrix&&(Vn=Vn.multiply(Dr.matrix||_l),jn=qE.call(Bn,Dr.key,Dr.boundingBox,Dr.xStep,Dr.yStep,Vn).id),pn("q"),pn("/Pattern cs"),pn("/"+jn+" scn"),Bn.gState&&hr.setGState(Bn.gState),pn(tn),pn("Q")}},XE=function(Dr){switch(Dr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Io=hr.moveTo=function(Dr,tn){return pn(Sr(Lr(Dr))+" "+Sr(Yr(tn))+" m"),this},bo=hr.lineTo=function(Dr,tn){return pn(Sr(Lr(Dr))+" "+Sr(Yr(tn))+" l"),this},om=hr.curveTo=function(Dr,tn,jn,Bn,Vn,Jn){return pn([Sr(Lr(Dr)),Sr(Yr(tn)),Sr(Lr(jn)),Sr(Yr(Bn)),Sr(Lr(Vn)),Sr(Yr(Jn)),"c"].join(" ")),this};hr.__private__.line=hr.line=function(Dr,tn,jn,Bn,Vn){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||isNaN(Bn)||!lp(Vn))throw new Error("Invalid arguments passed to jsPDF.line");return xr===gr.COMPAT?this.lines([[jn-Dr,Bn-tn]],Dr,tn,[1,1],Vn||"S"):this.lines([[jn-Dr,Bn-tn]],Dr,tn,[1,1]).stroke()},hr.__private__.lines=hr.lines=function(Dr,tn,jn,Bn,Vn,Jn){var ds,Ps,Gs,ro,$a,mo,Yo,Rl,Tl,ru,nu,uA;if(typeof Dr=="number"&&(uA=jn,jn=tn,tn=Dr,Dr=uA),Bn=Bn||[1,1],Jn=Jn||!1,isNaN(tn)||isNaN(jn)||!Array.isArray(Dr)||!Array.isArray(Bn)||!lp(Vn)||typeof Jn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Io(tn,jn),ds=Bn[0],Ps=Bn[1],ro=Dr.length,ru=tn,nu=jn,Gs=0;Gs<ro;Gs++)($a=Dr[Gs]).length===2?(ru=$a[0]*ds+ru,nu=$a[1]*Ps+nu,bo(ru,nu)):(mo=$a[0]*ds+ru,Yo=$a[1]*Ps+nu,Rl=$a[2]*ds+ru,Tl=$a[3]*Ps+nu,ru=$a[4]*ds+ru,nu=$a[5]*Ps+nu,om(mo,Yo,Rl,Tl,ru,nu));return Jn&&zx(),Av(Vn),this},hr.path=function(Dr){for(var tn=0;tn<Dr.length;tn++){var jn=Dr[tn],Bn=jn.c;switch(jn.op){case"m":Io(Bn[0],Bn[1]);break;case"l":bo(Bn[0],Bn[1]);break;case"c":om.apply(this,Bn);break;case"h":zx()}}return this},hr.__private__.rect=hr.rect=function(Dr,tn,jn,Bn,Vn){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||isNaN(Bn)||!lp(Vn))throw new Error("Invalid arguments passed to jsPDF.rect");return xr===gr.COMPAT&&(Bn=-Bn),pn([Sr(Lr(Dr)),Sr(Yr(tn)),Sr(Lr(jn)),Sr(Lr(Bn)),"re"].join(" ")),Av(Vn),this},hr.__private__.triangle=hr.triangle=function(Dr,tn,jn,Bn,Vn,Jn,ds){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||isNaN(Bn)||isNaN(Vn)||isNaN(Jn)||!lp(ds))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[jn-Dr,Bn-tn],[Vn-jn,Jn-Bn],[Dr-Vn,tn-Jn]],Dr,tn,[1,1],ds,!0),this},hr.__private__.roundedRect=hr.roundedRect=function(Dr,tn,jn,Bn,Vn,Jn,ds){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||isNaN(Bn)||isNaN(Vn)||isNaN(Jn)||!lp(ds))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ps=4/3*(Math.SQRT2-1);return Vn=Math.min(Vn,.5*jn),Jn=Math.min(Jn,.5*Bn),this.lines([[jn-2*Vn,0],[Vn*Ps,0,Vn,Jn-Jn*Ps,Vn,Jn],[0,Bn-2*Jn],[0,Jn*Ps,-Vn*Ps,Jn,-Vn,Jn],[2*Vn-jn,0],[-Vn*Ps,0,-Vn,-Jn*Ps,-Vn,-Jn],[0,2*Jn-Bn],[0,-Jn*Ps,Vn*Ps,-Jn,Vn,-Jn]],Dr+Vn,tn,[1,1],ds,!0),this},hr.__private__.ellipse=hr.ellipse=function(Dr,tn,jn,Bn,Vn){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||isNaN(Bn)||!lp(Vn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Jn=4/3*(Math.SQRT2-1)*jn,ds=4/3*(Math.SQRT2-1)*Bn;return Io(Dr+jn,tn),om(Dr+jn,tn-ds,Dr+Jn,tn-Bn,Dr,tn-Bn),om(Dr-Jn,tn-Bn,Dr-jn,tn-ds,Dr-jn,tn),om(Dr-jn,tn+ds,Dr-Jn,tn+Bn,Dr,tn+Bn),om(Dr+Jn,tn+Bn,Dr+jn,tn+ds,Dr+jn,tn),Av(Vn),this},hr.__private__.circle=hr.circle=function(Dr,tn,jn,Bn){if(isNaN(Dr)||isNaN(tn)||isNaN(jn)||!lp(Bn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Dr,tn,jn,jn,Bn)},hr.setFont=function(Dr,tn,jn){return jn&&(tn=_r(tn,jn)),Ds=Kx(Dr,tn,{disableWarning:!1}),this};var JE=hr.__private__.getFont=hr.getFont=function(){return xa[Kx.apply(hr,arguments)]};hr.__private__.getFontList=hr.getFontList=function(){var Dr,tn,jn={};for(Dr in oo)if(oo.hasOwnProperty(Dr))for(tn in jn[Dr]=[],oo[Dr])oo[Dr].hasOwnProperty(tn)&&jn[Dr].push(tn);return jn},hr.addFont=function(Dr,tn,jn,Bn,Vn){var Jn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Jn.indexOf(arguments[3])!==-1?Vn=arguments[3]:arguments[3]&&Jn.indexOf(arguments[3])==-1&&(jn=_r(jn,Bn)),Vn=Vn||"Identity-H",cv.call(this,Dr,tn,jn,Vn)};var Um,pv=er.lineWidth||.200025,Yx=hr.__private__.getLineWidth=hr.getLineWidth=function(){return pv},a1=hr.__private__.setLineWidth=hr.setLineWidth=function(Dr){return pv=Dr,pn(Sr(Lr(Dr))+" w"),this};hr.__private__.setLineDash=E$1.API.setLineDash=E$1.API.setLineDashPattern=function(Dr,tn){if(Dr=Dr||[],tn=tn||0,isNaN(tn)||!Array.isArray(Dr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Dr=Dr.map(function(jn){return Sr(Lr(jn))}).join(" "),tn=Sr(Lr(tn)),pn("["+Dr+"] "+tn+" d"),this};var mv=hr.__private__.getLineHeight=hr.getLineHeight=function(){return cs*Um};hr.__private__.getLineHeight=hr.getLineHeight=function(){return cs*Um};var o1=hr.__private__.setLineHeightFactor=hr.setLineHeightFactor=function(Dr){return typeof(Dr=Dr||1.15)=="number"&&(Um=Dr),this},Hl=hr.__private__.getLineHeightFactor=hr.getLineHeightFactor=function(){return Um};o1(er.lineHeight);var lA=hr.__private__.getHorizontalCoordinate=function(Dr){return Lr(Dr)},bu=hr.__private__.getVerticalCoordinate=function(Dr){return xr===gr.ADVANCED?Dr:Bs[Or].mediaBox.topRightY-Bs[Or].mediaBox.bottomLeftY-Lr(Dr)},l1=hr.__private__.getHorizontalCoordinateString=hr.getHorizontalCoordinateString=function(Dr){return Sr(lA(Dr))},cp=hr.__private__.getVerticalCoordinateString=hr.getVerticalCoordinateString=function(Dr){return Sr(bu(Dr))},Cl=er.strokeColor||"0 G";hr.__private__.getStrokeColor=hr.getDrawColor=function(){return _n(Cl)},hr.__private__.setStrokeColor=hr.setDrawColor=function(Dr,tn,jn,Bn){return Cl=Cn({ch1:Dr,ch2:tn,ch3:jn,ch4:Bn,pdfColorType:"draw",precision:2}),pn(Cl),this};var Xx=er.fillColor||"0 g";hr.__private__.getFillColor=hr.getFillColor=function(){return _n(Xx)},hr.__private__.setFillColor=hr.setFillColor=function(Dr,tn,jn,Bn){return Xx=Cn({ch1:Dr,ch2:tn,ch3:jn,ch4:Bn,pdfColorType:"fill",precision:2}),pn(Xx),this};var lm=er.textColor||"0 g",c1=hr.__private__.getTextColor=hr.getTextColor=function(){return _n(lm)};hr.__private__.setTextColor=hr.setTextColor=function(Dr,tn,jn,Bn){return lm=Cn({ch1:Dr,ch2:tn,ch3:jn,ch4:Bn,pdfColorType:"text",precision:3}),this};var Hm=er.charSpace,u1=hr.__private__.getCharSpace=hr.getCharSpace=function(){return parseFloat(Hm||0)};hr.__private__.setCharSpace=hr.setCharSpace=function(Dr){if(isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hm=Dr,this};var Jx=0;hr.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},hr.__private__.setLineCap=hr.setLineCap=function(Dr){var tn=hr.CapJoinStyles[Dr];if(tn===void 0)throw new Error("Line cap style of '"+Dr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jx=tn,pn(tn+" J"),this};var au=0;hr.__private__.setLineJoin=hr.setLineJoin=function(Dr){var tn=hr.CapJoinStyles[Dr];if(tn===void 0)throw new Error("Line join style of '"+Dr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=tn,pn(tn+" j"),this},hr.__private__.setLineMiterLimit=hr.__private__.setMiterLimit=hr.setLineMiterLimit=hr.setMiterLimit=function(Dr){if(Dr=Dr||0,isNaN(Dr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pn(Sr(Lr(Dr))+" M"),this},hr.GState=j,hr.setGState=function(Dr){(Dr=typeof Dr=="string"?Qs[Ys[Dr]]:d1(null,Dr)).equals(Uo)||(pn("/"+Dr.id+" gs"),Uo=Dr)};var d1=function(Dr,tn){if(!Dr||!Ys[Dr]){var jn=!1;for(var Bn in Qs)if(Qs.hasOwnProperty(Bn)&&Qs[Bn].equals(tn)){jn=!0;break}if(jn)tn=Qs[Bn];else{var Vn="GS"+(Object.keys(Qs).length+1).toString(10);Qs[Vn]=tn,tn.id=Vn}return Dr&&(Ys[Dr]=tn.id),qs.publish("addGState",tn),tn}};hr.addGState=function(Dr,tn){return d1(Dr,tn),this},hr.saveGraphicsState=function(){return pn("q"),El.push({key:Ds,size:cs,color:lm}),this},hr.restoreGraphicsState=function(){pn("Q");var Dr=El.pop();return Ds=Dr.key,cs=Dr.size,lm=Dr.color,Uo=null,this},hr.setCurrentTransformationMatrix=function(Dr){return pn(Dr.toString()+" cm"),this},hr.comment=function(Dr){return pn("#"+Dr),this};var ou=function(Dr,tn){var jn=Dr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return jn},set:function(Jn){isNaN(Jn)||(jn=parseFloat(Jn))}});var Bn=tn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Bn},set:function(Jn){isNaN(Jn)||(Bn=parseFloat(Jn))}});var Vn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Vn},set:function(Jn){Vn=Jn.toString()}}),this},gv=function(Dr,tn,jn,Bn){ou.call(this,Dr,tn),this.type="rect";var Vn=jn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Vn},set:function(ds){isNaN(ds)||(Vn=parseFloat(ds))}});var Jn=Bn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Jn},set:function(ds){isNaN(ds)||(Jn=parseFloat(ds))}}),this},Zx=function(){this.page=Ms,this.currentPage=Or,this.pages=Tn.slice(0),this.pagesContext=Bs.slice(0),this.x=$o,this.y=Zs,this.matrix=io,this.width=To(Or),this.height=up(Or),this.outputDestination=Mn,this.id="",this.objectNumber=-1};Zx.prototype.restore=function(){Ms=this.page,Or=this.currentPage,Bs=this.pagesContext,Tn=this.pages,$o=this.x,Zs=this.y,io=this.matrix,cA(Or,this.width),xv(Or,this.height),Mn=this.outputDestination};var TA=function(Dr,tn,jn,Bn,Vn){tu.push(new Zx),Ms=Or=0,Tn=[],$o=Dr,Zs=tn,io=Vn,Gx([jn,Bn])},e0=function(Dr){if(fu[Dr])tu.pop().restore();else{var tn=new Zx,jn="Xo"+(Object.keys(Os).length+1).toString(10);tn.id=jn,fu[Dr]=jn,Os[jn]=tn,qs.publish("addFormObject",tn),tu.pop().restore()}};for(var cm in hr.beginFormObject=function(Dr,tn,jn,Bn,Vn){return TA(Dr,tn,jn,Bn,Vn),this},hr.endFormObject=function(Dr){return e0(Dr),this},hr.doFormObject=function(Dr,tn){var jn=Os[fu[Dr]];return pn("q"),pn(tn.toString()+" cm"),pn("/"+jn.id+" Do"),pn("Q"),this},hr.getFormObject=function(Dr){var tn=Os[fu[Dr]];return{x:tn.x,y:tn.y,width:tn.width,height:tn.height,matrix:tn.matrix}},hr.save=function(Dr,tn){return Dr=Dr||"generated.pdf",(tn=tn||{}).returnPromise=tn.returnPromise||!1,tn.returnPromise===!1?(l(Mm(op()),Dr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(jn,Bn){try{var Vn=l(Mm(op()),Dr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),jn(Vn)}catch(Jn){Bn(Jn.message)}})},E$1.API)E$1.API.hasOwnProperty(cm)&&(cm==="events"&&E$1.API.events.length?function(Dr,tn){var jn,Bn,Vn;for(Vn=tn.length-1;Vn!==-1;Vn--)jn=tn[Vn][0],Bn=tn[Vn][1],Dr.subscribe.apply(Dr,[jn].concat(typeof Bn=="function"?[Bn]:Bn))}(qs,E$1.API.events):hr[cm]=E$1.API[cm]);var To=hr.getPageWidth=function(Dr){return(Bs[Dr=Dr||Or].mediaBox.topRightX-Bs[Dr].mediaBox.bottomLeftX)/ys},cA=hr.setPageWidth=function(Dr,tn){Bs[Dr].mediaBox.topRightX=tn*ys+Bs[Dr].mediaBox.bottomLeftX},up=hr.getPageHeight=function(Dr){return(Bs[Dr=Dr||Or].mediaBox.topRightY-Bs[Dr].mediaBox.bottomLeftY)/ys},xv=hr.setPageHeight=function(Dr,tn){Bs[Dr].mediaBox.topRightY=tn*ys+Bs[Dr].mediaBox.bottomLeftY};return hr.internal={pdfEscape:Fu,getStyle:i1,getFont:JE,getFontSize:fs,getCharSpace:u1,getTextColor:c1,getLineHeight:mv,getLineHeightFactor:Hl,getLineWidth:Yx,write:Gn,getHorizontalCoordinate:lA,getVerticalCoordinate:bu,getCoordinateString:l1,getVerticalCoordinateString:cp,collections:{},newObject:zo,newAdditionalObject:Sn,newObjectDeferred:Vo,newObjectDeferredBegin:un,getFilters:Ln,putStream:Yn,events:qs,scaleFactor:ys,pageSize:{getWidth:function(){return To(Or)},setWidth:function(Dr){cA(Or,Dr)},getHeight:function(){return up(Or)},setHeight:function(Dr){xv(Or,Dr)}},encryptionOptions:cr,encryption:Au,getEncryptor:GE,output:$m,getNumberOfPages:e1,pages:Tn,out:pn,f2:Mr,f3:Ir,getPageInfo:s1,getPageInfoByObjId:ba,getCurrentPageInfo:KE,getPDFVersion:fr,Point:ou,Rectangle:gv,Matrix:Ws,hasHotfix:fv},Object.defineProperty(hr.internal.pageSize,"width",{get:function(){return To(Or)},set:function(Dr){cA(Or,Dr)},enumerable:!0,configurable:!0}),Object.defineProperty(hr.internal.pageSize,"height",{get:function(){return up(Or)},set:function(Dr){xv(Or,Dr)},enumerable:!0,configurable:!0}),Jy.call(hr,es),Ds="F1",uv(nr,tr),qs.publish("initialized"),hr}I.prototype.lsbFirstWord=function(er){return String.fromCharCode(er>>0&255,er>>8&255,er>>16&255,er>>24&255)},I.prototype.toHexString=function(er){return er.split("").map(function(St){return("0"+(255&St.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(er){for(var St=[],tr=0;tr<er.length;tr+=2)St.push(String.fromCharCode(parseInt(er.substr(tr,2),16)));return St.join("")},I.prototype.processOwnerPassword=function(er,St){return P(x(St).substr(0,5),er)},I.prototype.encryptor=function(er,St){var tr=x(this.encryptionKey+String.fromCharCode(255&er,er>>8&255,er>>16&255,255&St,St>>8&255)).substr(0,10);return function(rr){return P(tr,rr)}},j.prototype.equals=function(er){var St,tr="id,objectNumber,equals";if(!er||_typeof(er)!==_typeof(this))return!1;var rr=0;for(St in this)if(!(tr.indexOf(St)>=0)){if(this.hasOwnProperty(St)&&!er.hasOwnProperty(St)||this[St]!==er[St])return!1;rr++}for(St in er)er.hasOwnProperty(St)&&tr.indexOf(St)<0&&rr--;return rr===0},E$1.API={events:[]},E$1.version="3.0.1";var q=E$1.API,D=1,R=function(er){return er.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T$1=function(er){return er.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$1=function(er){return er.toFixed(2)},z$1=function(er){return er.toFixed(5)};q.__acroform__={};var H=function(er,St){er.prototype=Object.create(St.prototype),er.prototype.constructor=er},W=function(er){return er*D},V$1=function(er){var St=new ut,tr=At.internal.getHeight(er)||0,rr=At.internal.getWidth(er)||0;return St.BBox=[0,0,Number(U$1(rr)),Number(U$1(tr))],St},G=q.__acroform__.setBit=function(er,St){if(er=er||0,St=St||0,isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return er|=1<<St},Y=q.__acroform__.clearBit=function(er,St){if(er=er||0,St=St||0,isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return er&=~(1<<St)},J=q.__acroform__.getBit=function(er,St){if(isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return er&1<<St?1:0},X=q.__acroform__.getBitForPdf=function(er,St){if(isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(er,St-1)},K=q.__acroform__.setBitForPdf=function(er,St){if(isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(er,St-1)},Z$1=q.__acroform__.clearBitForPdf=function(er,St){if(isNaN(er)||isNaN(St))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(er,St-1)},$$1=q.__acroform__.calculateCoordinates=function(er,St){var tr=St.internal.getHorizontalCoordinate,rr=St.internal.getVerticalCoordinate,nr=er[0],sr=er[1],ir=er[2],ar=er[3],or={};return or.lowerLeft_X=tr(nr)||0,or.lowerLeft_Y=rr(sr+ar)||0,or.upperRight_X=tr(nr+ir)||0,or.upperRight_Y=rr(sr)||0,[Number(U$1(or.lowerLeft_X)),Number(U$1(or.lowerLeft_Y)),Number(U$1(or.upperRight_X)),Number(U$1(or.upperRight_Y))]},Q=function(er){if(er.appearanceStreamContent)return er.appearanceStreamContent;if(er.V||er.DV){var St=[],tr=er._V||er.DV,rr=tt(er,tr),nr=er.scope.internal.getFont(er.fontName,er.fontStyle).id;St.push("/Tx BMC"),St.push("q"),St.push("BT"),St.push(er.scope.__private__.encodeColorString(er.color)),St.push("/"+nr+" "+U$1(rr.fontSize)+" Tf"),St.push("1 0 0 1 0 0 Tm"),St.push(rr.text),St.push("ET"),St.push("Q"),St.push("EMC");var sr=V$1(er);return sr.scope=er.scope,sr.stream=St.join(`
`),sr}},tt=function(er,St){var tr=er.fontSize===0?er.maxFontSize:er.fontSize,rr={text:"",fontSize:""},nr=(St=(St=St.substr(0,1)=="("?St.substr(1):St).substr(St.length-1)==")"?St.substr(0,St.length-1):St).split(" ");nr=er.multiline?nr.map(function(Ir){return Ir.split(`
`)}):nr.map(function(Ir){return[Ir]});var sr=tr,ir=At.internal.getHeight(er)||0;ir=ir<0?-ir:ir;var ar=At.internal.getWidth(er)||0;ar=ar<0?-ar:ar;var or=function(Ir,Lr,Qr){if(Ir+1<nr.length){var Yr=Lr+" "+nr[Ir+1][0];return et(Yr,er,Qr).width<=ar-4}return!1};sr++;e:for(;sr>0;){St="",sr--;var lr,cr,ur=et("3",er,sr).height,dr=er.multiline?ir-sr:(ir-ur)/2,hr=dr+=2,Ar=0,fr=0,mr=0;if(sr<=0){St=`(...) Tj
`,St+="% Width of Text: "+et(St,er,sr=12).width+", FieldWidth:"+ar+`
`;break}for(var pr="",gr=0,xr=0;xr<nr.length;xr++)if(nr.hasOwnProperty(xr)){var yr=!1;if(nr[xr].length!==1&&mr!==nr[xr].length-1){if((ur+2)*(gr+2)+2>ir)continue e;pr+=nr[xr][mr],yr=!0,fr=xr,xr--}else{pr=(pr+=nr[xr][mr]+" ").substr(pr.length-1)==" "?pr.substr(0,pr.length-1):pr;var Er=parseInt(xr),_r=or(Er,pr,sr),Sr=xr>=nr.length-1;if(_r&&!Sr){pr+=" ",mr=0;continue}if(_r||Sr){if(Sr)fr=Er;else if(er.multiline&&(ur+2)*(gr+2)+2>ir)continue e}else{if(!er.multiline||(ur+2)*(gr+2)+2>ir)continue e;fr=Er}}for(var jr="",Pr=Ar;Pr<=fr;Pr++){var Mr=nr[Pr];if(er.multiline){if(Pr===fr){jr+=Mr[mr]+" ",mr=(mr+1)%Mr.length;continue}if(Pr===Ar){jr+=Mr[Mr.length-1]+" ";continue}}jr+=Mr[0]+" "}switch(jr=jr.substr(jr.length-1)==" "?jr.substr(0,jr.length-1):jr,cr=et(jr,er,sr).width,er.textAlign){case"right":lr=ar-cr-2;break;case"center":lr=(ar-cr)/2;break;case"left":default:lr=2}St+=U$1(lr)+" "+U$1(hr)+` Td
`,St+="("+R(jr)+`) Tj
`,St+=-U$1(lr)+` 0 Td
`,hr=-(sr+2),cr=0,Ar=yr?fr:fr+1,gr++,pr=""}break}return rr.text=St,rr.fontSize=sr,rr},et=function(er,St,tr){var rr=St.scope.internal.getFont(St.fontName,St.fontStyle),nr=St.scope.getStringUnitWidth(er,{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr);return{height:St.scope.getStringUnitWidth("3",{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr)*1.5,width:nr}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(er,St){var tr={type:"reference",object:er};St.internal.getPageInfo(er.page).pageContext.annotations.find(function(rr){return rr.type===tr.type&&rr.object===tr.object})===void 0&&St.internal.getPageInfo(er.page).pageContext.annotations.push(tr)},it=function(er,St){for(var tr in er)if(er.hasOwnProperty(tr)){var rr=tr,nr=er[tr];St.internal.newObjectDeferredBegin(nr.objId,!0),_typeof(nr)==="object"&&typeof nr.putStream=="function"&&nr.putStream(),delete er[rr]}},at=function(er,St){if(St.scope=er,er.internal!==void 0&&(er.internal.acroformPlugin===void 0||er.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,er.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),er.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=er.internal.scaleFactor,er.internal.acroformPlugin.acroFormDictionaryRoot=new ht,er.internal.acroformPlugin.acroFormDictionaryRoot.scope=er,er.internal.acroformPlugin.acroFormDictionaryRoot._eventID=er.internal.events.subscribe("postPutResources",function(){(function(tr){tr.internal.events.unsubscribe(tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,tr.internal.acroformPlugin.printedOut=!0})(er)}),er.internal.events.subscribe("buildDocument",function(){(function(tr){tr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var rr=tr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nr in rr)if(rr.hasOwnProperty(nr)){var sr=rr[nr];sr.objId=void 0,sr.hasAnnotation&&nt(sr,tr)}})(er)}),er.internal.events.subscribe("putCatalog",function(){(function(tr){if(tr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");tr.internal.write("/AcroForm "+tr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(er)}),er.internal.events.subscribe("postPutPages",function(tr){(function(rr,nr){var sr=!rr;for(var ir in rr||(nr.internal.newObjectDeferredBegin(nr.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),nr.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),rr=rr||nr.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(rr.hasOwnProperty(ir)){var ar=rr[ir],or=[],lr=ar.Rect;if(ar.Rect&&(ar.Rect=$$1(ar.Rect,nr)),nr.internal.newObjectDeferredBegin(ar.objId,!0),ar.DA=At.createDefaultAppearanceStream(ar),_typeof(ar)==="object"&&typeof ar.getKeyValueListForStream=="function"&&(or=ar.getKeyValueListForStream()),ar.Rect=lr,ar.hasAppearanceStream&&!ar.appearanceStreamContent){var cr=Q(ar);or.push({key:"AP",value:"<</N "+cr+">>"}),nr.internal.acroformPlugin.xForms.push(cr)}if(ar.appearanceStreamContent){var ur="";for(var dr in ar.appearanceStreamContent)if(ar.appearanceStreamContent.hasOwnProperty(dr)){var hr=ar.appearanceStreamContent[dr];if(ur+="/"+dr+" ",ur+="<<",Object.keys(hr).length>=1||Array.isArray(hr)){for(var ir in hr)if(hr.hasOwnProperty(ir)){var Ar=hr[ir];typeof Ar=="function"&&(Ar=Ar.call(nr,ar)),ur+="/"+ir+" "+Ar+" ",nr.internal.acroformPlugin.xForms.indexOf(Ar)>=0||nr.internal.acroformPlugin.xForms.push(Ar)}}else typeof(Ar=hr)=="function"&&(Ar=Ar.call(nr,ar)),ur+="/"+ir+" "+Ar,nr.internal.acroformPlugin.xForms.indexOf(Ar)>=0||nr.internal.acroformPlugin.xForms.push(Ar);ur+=">>"}or.push({key:"AP",value:`<<
`+ur+">>"})}nr.internal.putStream({additionalKeyValues:or,objectId:ar.objId}),nr.internal.out("endobj")}sr&&it(nr.internal.acroformPlugin.xForms,nr)})(tr,er)}),er.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(er,St,tr){var rr=function(ir){return ir};if(Array.isArray(er)){for(var nr="[",sr=0;sr<er.length;sr++)switch(sr!==0&&(nr+=" "),_typeof(er[sr])){case"boolean":case"number":case"object":nr+=er[sr].toString();break;case"string":er[sr].substr(0,1)!=="/"?(St!==void 0&&tr&&(rr=tr.internal.getEncryptor(St)),nr+="("+R(rr(er[sr].toString()))+")"):nr+=er[sr].toString()}return nr+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(er,St,tr){var rr=function(nr){return nr};return St!==void 0&&tr&&(rr=tr.internal.getEncryptor(St)),(er=er||"").toString(),er="("+R(rr(er))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(er){this._objId=er}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var er=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:er,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var er=[],St=Object.getOwnPropertyNames(this).filter(function(sr){return sr!="content"&&sr!="appearanceStreamContent"&&sr!="scope"&&sr!="objId"&&sr.substring(0,1)!="_"});for(var tr in St)if(Object.getOwnPropertyDescriptor(this,St[tr]).configurable===!1){var rr=St[tr],nr=this[rr];nr&&(Array.isArray(nr)?er.push({key:rr,value:ot(nr,this.objId,this.scope)}):nr instanceof ct?(nr.scope=this.scope,er.push({key:rr,value:nr.objId+" 0 R"})):typeof nr!="function"&&er.push({key:rr,value:nr}))}return er};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var er,St=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return St},set:function(tr){St=tr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(tr){er=tr.trim()},get:function(){return er||null}})};H(ut,ct);var ht=function(){ct.call(this);var er,St=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return St.length>0?St:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return St}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(er){var tr=function(rr){return rr};return this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),"("+R(tr(er))+")"}},set:function(tr){er=tr}})};H(ht,ct);var lt=function er(){ct.call(this);var St=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return St},set:function(pr){if(isNaN(pr))throw new Error('Invalid value "'+pr+'" for attribute F supplied.');St=pr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(St,3)},set:function(pr){pr?this.F=K(St,3):this.F=Z$1(St,3)}});var tr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(pr){if(isNaN(pr))throw new Error('Invalid value "'+pr+'" for attribute Ff supplied.');tr=pr}});var rr=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(rr.length!==0)return rr},set:function(pr){rr=pr!==void 0?pr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[0])?0:rr[0]},set:function(pr){rr[0]=pr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[1])?0:rr[1]},set:function(pr){rr[1]=pr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[2])?0:rr[2]},set:function(pr){rr[2]=pr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[3])?0:rr[3]},set:function(pr){rr[3]=pr}});var nr="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return nr},set:function(pr){switch(pr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":nr=pr;break;default:throw new Error('Invalid value "'+pr+'" for attribute FT supplied.')}}});var sr=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!sr||sr.length<1){if(this instanceof yt)return;sr="FieldObject"+er.FieldNum++}var pr=function(gr){return gr};return this.scope&&(pr=this.scope.internal.getEncryptor(this.objId)),"("+R(pr(sr))+")"},set:function(pr){sr=pr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return sr},set:function(pr){sr=pr}});var ir="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ir},set:function(pr){ir=pr}});var ar="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ar},set:function(pr){ar=pr}});var or=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return or},set:function(pr){or=pr}});var lr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return lr===void 0?50/D:lr},set:function(pr){lr=pr}});var cr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return cr},set:function(pr){cr=pr}});var ur="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ur||this instanceof yt||this instanceof Nt))return st(ur,this.objId,this.scope)},set:function(pr){pr=pr.toString(),ur=pr}});var dr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(dr)return this instanceof mt?dr:st(dr,this.objId,this.scope)},set:function(pr){pr=pr.toString(),dr=this instanceof mt?pr:pr.substr(0,1)==="("?T$1(pr.substr(1,pr.length-2)):T$1(pr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$1(dr.substr(1,dr.length-1)):dr},set:function(pr){pr=pr.toString(),dr=this instanceof mt?"/"+pr:pr}});var hr=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(hr)return hr},set:function(pr){this.V=pr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(hr)return this instanceof mt?hr:st(hr,this.objId,this.scope)},set:function(pr){pr=pr.toString(),hr=this instanceof mt?pr:pr.substr(0,1)==="("?T$1(pr.substr(1,pr.length-2)):T$1(pr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$1(hr.substr(1,hr.length-1)):hr},set:function(pr){pr=pr.toString(),hr=this instanceof mt?"/"+pr:pr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Ar,fr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return fr},set:function(pr){pr=!!pr,fr=pr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Ar)return Ar},set:function(pr){Ar=pr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(pr){pr?this.Ff=K(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(pr){pr?this.Ff=K(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(pr){pr?this.Ff=K(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var mr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(mr!==null)return mr},set:function(pr){if([0,1,2].indexOf(pr)===-1)throw new Error('Invalid value "'+pr+'" for attribute Q supplied.');mr=pr}}),Object.defineProperty(this,"textAlign",{get:function(){var pr;switch(mr){case 0:default:pr="left";break;case 1:pr="center";break;case 2:pr="right"}return pr},configurable:!0,enumerable:!0,set:function(pr){switch(pr){case"right":case 2:mr=2;break;case"center":case 1:mr=1;break;case"left":case 0:default:mr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var er=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return er},set:function(tr){er=tr}});var St=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(St,this.objId,this.scope)},set:function(tr){var rr,nr;nr=[],typeof(rr=tr)=="string"&&(nr=function(sr,ir,ar){ar||(ar=1);for(var or,lr=[];or=ir.exec(sr);)lr.push(or[ar]);return lr}(rr,/\((.*?)\)/g)),St=nr}}),this.getOptions=function(){return St},this.setOptions=function(tr){St=tr,this.sort&&St.sort()},this.addOption=function(tr){tr=(tr=tr||"").toString(),St.push(tr),this.sort&&St.sort()},this.removeOption=function(tr,rr){for(rr=rr||!1,tr=(tr=tr||"").toString();St.indexOf(tr)!==-1&&(St.splice(St.indexOf(tr),1),rr!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(tr){tr?this.Ff=K(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(tr){this.combo===!0&&(tr?this.Ff=K(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(tr){tr?(this.Ff=K(this.Ff,20),St.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(tr){tr?this.Ff=K(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(tr){tr?this.Ff=K(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(tr){tr?this.Ff=K(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(tr){tr?this.Ff=K(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(tr){tr?this.Ff=K(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(tr){tr?this.Ff=K(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(tr){tr?this.Ff=K(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var er,St={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var tr=function(sr){return sr};if(this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),Object.keys(St).length!==0){var rr,nr=[];for(rr in nr.push("<<"),St)nr.push("/"+rr+" ("+R(tr(St[rr]))+")");return nr.push(">>"),nr.join(`
`)}},set:function(tr){_typeof(tr)==="object"&&(St=tr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return St.CA||""},set:function(tr){typeof tr=="string"&&(St.CA=tr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return er.substr(1,er.length-1)},set:function(tr){er="/"+tr}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var er=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return er},set:function(St){er=St!==void 0?St:[]}})};H(bt,mt);var yt=function(){var er,St;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return er},set:function(nr){er=nr}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return St},set:function(nr){St=nr}});var tr,rr={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var nr=function(ar){return ar};this.scope&&(nr=this.scope.internal.getEncryptor(this.objId));var sr,ir=[];for(sr in ir.push("<<"),rr)ir.push("/"+sr+" ("+R(nr(rr[sr]))+")");return ir.push(">>"),ir.join(`
`)},set:function(nr){_typeof(nr)==="object"&&(rr=nr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return rr.CA||""},set:function(nr){typeof nr=="string"&&(rr.CA=nr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(nr){tr=nr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return tr.substr(1,tr.length-1)},set:function(nr){tr="/"+nr}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(er){if(!("createAppearanceStream"in er)||!("getCA"in er))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var St in this.Kids)if(this.Kids.hasOwnProperty(St)){var tr=this.Kids[St];tr.appearanceStreamContent=er.createAppearanceStream(tr.optionName),tr.caption=er.getCA()}},bt.prototype.createOption=function(er){var St=new yt;return St.Parent=this,St.optionName=er,this.Kids.push(St),xt.call(this.scope,St),St};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(St){St?this.Ff=K(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(St){St?this.Ff=K(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(St){St?this.Ff=K(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(St){St?this.Ff=K(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(St){St?this.Ff=K(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(St){St?this.Ff=K(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var er=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return er},set:function(St){er=St}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return er},set:function(St){Number.isInteger(St)&&(er=St)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(er){er?this.Ff=K(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=[],rr=er.scope.internal.getFont(er.fontName,er.fontStyle).id,nr=er.scope.__private__.encodeColorString(er.color),sr=tt(er,er.caption);return tr.push("0.749023 g"),tr.push("0 0 "+U$1(At.internal.getWidth(er))+" "+U$1(At.internal.getHeight(er))+" re"),tr.push("f"),tr.push("BMC"),tr.push("q"),tr.push("0 0 1 rg"),tr.push("/"+rr+" "+U$1(sr.fontSize)+" Tf "+nr),tr.push("BT"),tr.push(sr.text),tr.push("ET"),tr.push("Q"),tr.push("EMC"),St.stream=tr.join(`
`),St},YesNormal:function(er){var St=V$1(er);St.scope=er.scope;var tr=er.scope.internal.getFont(er.fontName,er.fontStyle).id,rr=er.scope.__private__.encodeColorString(er.color),nr=[],sr=At.internal.getHeight(er),ir=At.internal.getWidth(er),ar=tt(er,er.caption);return nr.push("1 g"),nr.push("0 0 "+U$1(ir)+" "+U$1(sr)+" re"),nr.push("f"),nr.push("q"),nr.push("0 0 1 rg"),nr.push("0 0 "+U$1(ir-1)+" "+U$1(sr-1)+" re"),nr.push("W"),nr.push("n"),nr.push("0 g"),nr.push("BT"),nr.push("/"+tr+" "+U$1(ar.fontSize)+" Tf "+rr),nr.push(ar.text),nr.push("ET"),nr.push("Q"),St.stream=nr.join(`
`),St},OffPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U$1(At.internal.getWidth(er))+" "+U$1(At.internal.getHeight(er))+" re"),tr.push("f"),St.stream=tr.join(`
`),St}},RadioButton:{Circle:{createAppearanceStream:function(er){var St={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return St.N[er]=At.RadioButton.Circle.YesNormal,St.D[er]=At.RadioButton.Circle.YesPushDown,St},getCA:function(){return"l"},YesNormal:function(er){var St=V$1(er);St.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=At.internal.Bezier_C,sr=Number((rr*nr).toFixed(5));return tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(er)/2)+" "+z$1(At.internal.getHeight(er)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+sr+" "+sr+" "+rr+" 0 "+rr+" c"),tr.push("-"+sr+" "+rr+" -"+rr+" "+sr+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+sr+" -"+sr+" -"+rr+" 0 -"+rr+" c"),tr.push(sr+" -"+rr+" "+rr+" -"+sr+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),St.stream=tr.join(`
`),St},YesPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),sr=Number((nr*At.internal.Bezier_C).toFixed(5)),ir=Number((rr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(er)/2)+" "+z$1(At.internal.getHeight(er)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+sr+" "+sr+" "+nr+" 0 "+nr+" c"),tr.push("-"+sr+" "+nr+" -"+nr+" "+sr+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+sr+" -"+sr+" -"+nr+" 0 -"+nr+" c"),tr.push(sr+" -"+nr+" "+nr+" -"+sr+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),tr.push("0 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(er)/2)+" "+z$1(At.internal.getHeight(er)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+ir+" "+ir+" "+rr+" 0 "+rr+" c"),tr.push("-"+ir+" "+rr+" -"+rr+" "+ir+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+ir+" -"+ir+" -"+rr+" 0 -"+rr+" c"),tr.push(ir+" -"+rr+" "+rr+" -"+ir+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),St.stream=tr.join(`
`),St},OffPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),sr=Number((nr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z$1(At.internal.getWidth(er)/2)+" "+z$1(At.internal.getHeight(er)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+sr+" "+sr+" "+nr+" 0 "+nr+" c"),tr.push("-"+sr+" "+nr+" -"+nr+" "+sr+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+sr+" -"+sr+" -"+nr+" 0 -"+nr+" c"),tr.push(sr+" -"+nr+" "+nr+" -"+sr+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),St.stream=tr.join(`
`),St}},Cross:{createAppearanceStream:function(er){var St={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return St.N[er]=At.RadioButton.Cross.YesNormal,St.D[er]=At.RadioButton.Cross.YesPushDown,St},getCA:function(){return"8"},YesNormal:function(er){var St=V$1(er);St.scope=er.scope;var tr=[],rr=At.internal.calculateCross(er);return tr.push("q"),tr.push("1 1 "+U$1(At.internal.getWidth(er)-2)+" "+U$1(At.internal.getHeight(er)-2)+" re"),tr.push("W"),tr.push("n"),tr.push(U$1(rr.x1.x)+" "+U$1(rr.x1.y)+" m"),tr.push(U$1(rr.x2.x)+" "+U$1(rr.x2.y)+" l"),tr.push(U$1(rr.x4.x)+" "+U$1(rr.x4.y)+" m"),tr.push(U$1(rr.x3.x)+" "+U$1(rr.x3.y)+" l"),tr.push("s"),tr.push("Q"),St.stream=tr.join(`
`),St},YesPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=At.internal.calculateCross(er),rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U$1(At.internal.getWidth(er))+" "+U$1(At.internal.getHeight(er))+" re"),rr.push("f"),rr.push("q"),rr.push("1 1 "+U$1(At.internal.getWidth(er)-2)+" "+U$1(At.internal.getHeight(er)-2)+" re"),rr.push("W"),rr.push("n"),rr.push(U$1(tr.x1.x)+" "+U$1(tr.x1.y)+" m"),rr.push(U$1(tr.x2.x)+" "+U$1(tr.x2.y)+" l"),rr.push(U$1(tr.x4.x)+" "+U$1(tr.x4.y)+" m"),rr.push(U$1(tr.x3.x)+" "+U$1(tr.x3.y)+" l"),rr.push("s"),rr.push("Q"),St.stream=rr.join(`
`),St},OffPushDown:function(er){var St=V$1(er);St.scope=er.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U$1(At.internal.getWidth(er))+" "+U$1(At.internal.getHeight(er))+" re"),tr.push("f"),St.stream=tr.join(`
`),St}}},createDefaultAppearanceStream:function(er){var St=er.scope.internal.getFont(er.fontName,er.fontStyle).id,tr=er.scope.__private__.encodeColorString(er.color);return"/"+St+" "+er.fontSize+" Tf "+tr}};At.internal={Bezier_C:.551915024494,calculateCross:function(er){var St=At.internal.getWidth(er),tr=At.internal.getHeight(er),rr=Math.min(St,tr);return{x1:{x:(St-rr)/2,y:(tr-rr)/2+rr},x2:{x:(St-rr)/2+rr,y:(tr-rr)/2},x3:{x:(St-rr)/2,y:(tr-rr)/2},x4:{x:(St-rr)/2+rr,y:(tr-rr)/2+rr}}}},At.internal.getWidth=function(er){var St=0;return _typeof(er)==="object"&&(St=W(er.Rect[2])),St},At.internal.getHeight=function(er){var St=0;return _typeof(er)==="object"&&(St=W(er.Rect[3])),St};var xt=q.addField=function(er){if(at(this,er),!(er instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var St;return(St=er).scope.internal.acroformPlugin.printedOut&&(St.scope.internal.acroformPlugin.printedOut=!1,St.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),St.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(St),er.page=er.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E$1.AcroForm;function _t(er){return er.reduce(function(St,tr,rr){return St[tr]=rr,St},{})}(function(er){er.__addimage__={};var St="UNKNOWN",tr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},rr=er.__addimage__.getImageFileTypeByImageData=function(Ir,Lr){var Qr,Yr,Gr,$r,Vr,Tr=St;if((Lr=Lr||St)==="RGBA"||Ir.data!==void 0&&Ir.data instanceof Uint8ClampedArray&&"height"in Ir&&"width"in Ir)return"RGBA";if(_r(Ir))for(Vr in tr)for(Gr=tr[Vr],Qr=0;Qr<Gr.length;Qr+=1){for($r=!0,Yr=0;Yr<Gr[Qr].length;Yr+=1)if(Gr[Qr][Yr]!==void 0&&Gr[Qr][Yr]!==Ir[Yr]){$r=!1;break}if($r===!0){Tr=Vr;break}}else for(Vr in tr)for(Gr=tr[Vr],Qr=0;Qr<Gr.length;Qr+=1){for($r=!0,Yr=0;Yr<Gr[Qr].length;Yr+=1)if(Gr[Qr][Yr]!==void 0&&Gr[Qr][Yr]!==Ir.charCodeAt(Yr)){$r=!1;break}if($r===!0){Tr=Vr;break}}return Tr===St&&Lr!==St&&(Tr=Lr),Tr},nr=function Ir(Lr){for(var Qr=this.internal.write,Yr=this.internal.putStream,Gr=(0,this.internal.getFilters)();Gr.indexOf("FlateEncode")!==-1;)Gr.splice(Gr.indexOf("FlateEncode"),1);Lr.objectId=this.internal.newObject();var $r=[];if($r.push({key:"Type",value:"/XObject"}),$r.push({key:"Subtype",value:"/Image"}),$r.push({key:"Width",value:Lr.width}),$r.push({key:"Height",value:Lr.height}),Lr.colorSpace===mr.INDEXED?$r.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Lr.palette.length/3-1)+" "+("sMask"in Lr&&Lr.sMask!==void 0?Lr.objectId+2:Lr.objectId+1)+" 0 R]"}):($r.push({key:"ColorSpace",value:"/"+Lr.colorSpace}),Lr.colorSpace===mr.DEVICE_CMYK&&$r.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$r.push({key:"BitsPerComponent",value:Lr.bitsPerComponent}),"decodeParameters"in Lr&&Lr.decodeParameters!==void 0&&$r.push({key:"DecodeParms",value:"<<"+Lr.decodeParameters+">>"}),"transparency"in Lr&&Array.isArray(Lr.transparency)){for(var Vr="",Tr=0,Fr=Lr.transparency.length;Tr<Fr;Tr++)Vr+=Lr.transparency[Tr]+" "+Lr.transparency[Tr]+" ";$r.push({key:"Mask",value:"["+Vr+"]"})}Lr.sMask!==void 0&&$r.push({key:"SMask",value:Lr.objectId+1+" 0 R"});var Wr=Lr.filter!==void 0?["/"+Lr.filter]:void 0;if(Yr({data:Lr.data,additionalKeyValues:$r,alreadyAppliedFilters:Wr,objectId:Lr.objectId}),Qr("endobj"),"sMask"in Lr&&Lr.sMask!==void 0){var qr="/Predictor "+Lr.predictor+" /Colors 1 /BitsPerComponent "+Lr.bitsPerComponent+" /Columns "+Lr.width,Rr={width:Lr.width,height:Lr.height,colorSpace:"DeviceGray",bitsPerComponent:Lr.bitsPerComponent,decodeParameters:qr,data:Lr.sMask};"filter"in Lr&&(Rr.filter=Lr.filter),Ir.call(this,Rr)}if(Lr.colorSpace===mr.INDEXED){var Or=this.internal.newObject();Yr({data:jr(new Uint8Array(Lr.palette)),objectId:Or}),Qr("endobj")}},sr=function(){var Ir=this.internal.collections.addImage_images;for(var Lr in Ir)nr.call(this,Ir[Lr])},ir=function(){var Ir,Lr=this.internal.collections.addImage_images,Qr=this.internal.write;for(var Yr in Lr)Qr("/I"+(Ir=Lr[Yr]).index,Ir.objectId,"0","R")},ar=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",sr),this.internal.events.subscribe("putXobjectDict",ir))},or=function(){var Ir=this.internal.collections.addImage_images;return ar.call(this),Ir},lr=function(){return Object.keys(this.internal.collections.addImage_images).length},cr=function(Ir){return typeof er["process"+Ir.toUpperCase()]=="function"},ur=function(Ir){return _typeof(Ir)==="object"&&Ir.nodeType===1},dr=function(Ir,Lr){if(Ir.nodeName==="IMG"&&Ir.hasAttribute("src")){var Qr=""+Ir.getAttribute("src");if(Qr.indexOf("data:image/")===0)return u$1(unescape(Qr).split("base64,").pop());var Yr=er.loadFile(Qr,!0);if(Yr!==void 0)return Yr}if(Ir.nodeName==="CANVAS"){if(Ir.width===0||Ir.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ir.width+", height: "+Ir.height);var Gr;switch(Lr){case"PNG":Gr="image/png";break;case"WEBP":Gr="image/webp";break;case"JPEG":case"JPG":default:Gr="image/jpeg"}return u$1(Ir.toDataURL(Gr,1).split("base64,").pop())}},hr=function(Ir){var Lr=this.internal.collections.addImage_images;if(Lr){for(var Qr in Lr)if(Ir===Lr[Qr].alias)return Lr[Qr]}},Ar=function(Ir,Lr,Qr){return Ir||Lr||(Ir=-96,Lr=-96),Ir<0&&(Ir=-1*Qr.width*72/Ir/this.internal.scaleFactor),Lr<0&&(Lr=-1*Qr.height*72/Lr/this.internal.scaleFactor),Ir===0&&(Ir=Lr*Qr.width/Qr.height),Lr===0&&(Lr=Ir*Qr.height/Qr.width),[Ir,Lr]},fr=function(Ir,Lr,Qr,Yr,Gr,$r){var Vr=Ar.call(this,Qr,Yr,Gr),Tr=this.internal.getCoordinateString,Fr=this.internal.getVerticalCoordinateString,Wr=or.call(this);if(Qr=Vr[0],Yr=Vr[1],Wr[Gr.index]=Gr,$r){$r*=Math.PI/180;var qr=Math.cos($r),Rr=Math.sin($r),Or=function(zr){return zr.toFixed(4)},Hr=[Or(qr),Or(Rr),Or(-1*Rr),Or(qr),0,0,"cm"]}this.internal.write("q"),$r?(this.internal.write([1,"0","0",1,Tr(Ir),Fr(Lr+Yr),"cm"].join(" ")),this.internal.write(Hr.join(" ")),this.internal.write([Tr(Qr),"0","0",Tr(Yr),"0","0","cm"].join(" "))):this.internal.write([Tr(Qr),"0","0",Tr(Yr),Tr(Ir),Fr(Lr+Yr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Gr.index+" Do"),this.internal.write("Q")},mr=er.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};er.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var pr=er.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gr=er.__addimage__.sHashCode=function(Ir){var Lr,Qr,Yr=0;if(typeof Ir=="string")for(Qr=Ir.length,Lr=0;Lr<Qr;Lr++)Yr=(Yr<<5)-Yr+Ir.charCodeAt(Lr),Yr|=0;else if(_r(Ir))for(Qr=Ir.byteLength/2,Lr=0;Lr<Qr;Lr++)Yr=(Yr<<5)-Yr+Ir[Lr],Yr|=0;return Yr},xr=er.__addimage__.validateStringAsBase64=function(Ir){(Ir=Ir||"").toString().trim();var Lr=!0;return Ir.length===0&&(Lr=!1),Ir.length%4!=0&&(Lr=!1),/^[A-Za-z0-9+/]+$/.test(Ir.substr(0,Ir.length-2))===!1&&(Lr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ir.substr(-2))===!1&&(Lr=!1),Lr},yr=er.__addimage__.extractImageFromDataUrl=function(Ir){if(Ir==null||!(Ir=Ir.trim()).startsWith("data:"))return null;var Lr=Ir.indexOf(",");return Lr<0?null:Ir.substring(0,Lr).trim().endsWith("base64")?Ir.substring(Lr+1):null},Er=er.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};er.__addimage__.isArrayBuffer=function(Ir){return Er()&&Ir instanceof ArrayBuffer};var _r=er.__addimage__.isArrayBufferView=function(Ir){return Er()&&typeof Uint32Array<"u"&&(Ir instanceof Int8Array||Ir instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ir instanceof Uint8ClampedArray||Ir instanceof Int16Array||Ir instanceof Uint16Array||Ir instanceof Int32Array||Ir instanceof Uint32Array||Ir instanceof Float32Array||Ir instanceof Float64Array)},Sr=er.__addimage__.binaryStringToUint8Array=function(Ir){for(var Lr=Ir.length,Qr=new Uint8Array(Lr),Yr=0;Yr<Lr;Yr++)Qr[Yr]=Ir.charCodeAt(Yr);return Qr},jr=er.__addimage__.arrayBufferToBinaryString=function(Ir){for(var Lr="",Qr=_r(Ir)?Ir:new Uint8Array(Ir),Yr=0;Yr<Qr.length;Yr+=8192)Lr+=String.fromCharCode.apply(null,Qr.subarray(Yr,Yr+8192));return Lr};er.addImage=function(){var Ir,Lr,Qr,Yr,Gr,$r,Vr,Tr,Fr;if(typeof arguments[1]=="number"?(Lr=St,Qr=arguments[1],Yr=arguments[2],Gr=arguments[3],$r=arguments[4],Vr=arguments[5],Tr=arguments[6],Fr=arguments[7]):(Lr=arguments[1],Qr=arguments[2],Yr=arguments[3],Gr=arguments[4],$r=arguments[5],Vr=arguments[6],Tr=arguments[7],Fr=arguments[8]),_typeof(Ir=arguments[0])==="object"&&!ur(Ir)&&"imageData"in Ir){var Wr=Ir;Ir=Wr.imageData,Lr=Wr.format||Lr||St,Qr=Wr.x||Qr||0,Yr=Wr.y||Yr||0,Gr=Wr.w||Wr.width||Gr,$r=Wr.h||Wr.height||$r,Vr=Wr.alias||Vr,Tr=Wr.compression||Tr,Fr=Wr.rotation||Wr.angle||Fr}var qr=this.internal.getFilters();if(Tr===void 0&&qr.indexOf("FlateEncode")!==-1&&(Tr="SLOW"),isNaN(Qr)||isNaN(Yr))throw new Error("Invalid coordinates passed to jsPDF.addImage");ar.call(this);var Rr=Pr.call(this,Ir,Lr,Vr,Tr);return fr.call(this,Qr,Yr,Gr,$r,Rr,Fr),this};var Pr=function(Ir,Lr,Qr,Yr){var Gr,$r,Vr;if(typeof Ir=="string"&&rr(Ir)===St){Ir=unescape(Ir);var Tr=Mr(Ir,!1);(Tr!==""||(Tr=er.loadFile(Ir,!0))!==void 0)&&(Ir=Tr)}if(ur(Ir)&&(Ir=dr(Ir,Lr)),Lr=rr(Ir,Lr),!cr(Lr))throw new Error("addImage does not support files of type '"+Lr+"', please ensure that a plugin for '"+Lr+"' support is added.");if(((Vr=Qr)==null||Vr.length===0)&&(Qr=function(Fr){return typeof Fr=="string"||_r(Fr)?gr(Fr):_r(Fr.data)?gr(Fr.data):null}(Ir)),(Gr=hr.call(this,Qr))||(Er()&&(Ir instanceof Uint8Array||Lr==="RGBA"||($r=Ir,Ir=Sr(Ir))),Gr=this["process"+Lr.toUpperCase()](Ir,lr.call(this),Qr,function(Fr){return Fr&&typeof Fr=="string"&&(Fr=Fr.toUpperCase()),Fr in er.image_compression?Fr:pr.NONE}(Yr),$r)),!Gr)throw new Error("An unknown error occurred whilst processing the image.");return Gr},Mr=er.__addimage__.convertBase64ToBinaryString=function(Ir,Lr){Lr=typeof Lr!="boolean"||Lr;var Qr,Yr="";if(typeof Ir=="string"){var Gr;Qr=(Gr=yr(Ir))!==null&&Gr!==void 0?Gr:Ir;try{Yr=u$1(Qr)}catch($r){if(Lr)throw xr(Qr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$r.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Yr};er.getImageProperties=function(Ir){var Lr,Qr,Yr="";if(ur(Ir)&&(Ir=dr(Ir)),typeof Ir=="string"&&rr(Ir)===St&&((Yr=Mr(Ir,!1))===""&&(Yr=er.loadFile(Ir)||""),Ir=Yr),Qr=rr(Ir),!cr(Qr))throw new Error("addImage does not support files of type '"+Qr+"', please ensure that a plugin for '"+Qr+"' support is added.");if(!Er()||Ir instanceof Uint8Array||(Ir=Sr(Ir)),!(Lr=this["process"+Qr.toUpperCase()](Ir)))throw new Error("An unknown error occurred whilst processing the image");return Lr.fileType=Qr,Lr}})(E$1.API),function(er){var St=function(tr){if(tr!==void 0&&tr!="")return!0};E$1.API.events.push(["addPage",function(tr){this.internal.getPageInfo(tr.pageNumber).pageContext.annotations=[]}]),er.events.push(["putPage",function(tr){for(var rr,nr,sr,ir=this.internal.getCoordinateString,ar=this.internal.getVerticalCoordinateString,or=this.internal.getPageInfoByObjId(tr.objId),lr=tr.pageContext.annotations,cr=!1,ur=0;ur<lr.length&&!cr;ur++)switch((rr=lr[ur]).type){case"link":(St(rr.options.url)||St(rr.options.pageNumber))&&(cr=!0);break;case"reference":case"text":case"freetext":cr=!0}if(cr!=0){this.internal.write("/Annots [");for(var dr=0;dr<lr.length;dr++){rr=lr[dr];var hr=this.internal.pdfEscape,Ar=this.internal.getEncryptor(tr.objId);switch(rr.type){case"reference":this.internal.write(" "+rr.object.objId+" 0 R ");break;case"text":var fr=this.internal.newAdditionalObject(),mr=this.internal.newAdditionalObject(),pr=this.internal.getEncryptor(fr.objId),gr=rr.title||"Note";sr="<</Type /Annot /Subtype /Text "+(nr="/Rect ["+ir(rr.bounds.x)+" "+ar(rr.bounds.y+rr.bounds.h)+" "+ir(rr.bounds.x+rr.bounds.w)+" "+ar(rr.bounds.y)+"] ")+"/Contents ("+hr(pr(rr.contents))+")",sr+=" /Popup "+mr.objId+" 0 R",sr+=" /P "+or.objId+" 0 R",sr+=" /T ("+hr(pr(gr))+") >>",fr.content=sr;var xr=fr.objId+" 0 R";sr="<</Type /Annot /Subtype /Popup "+(nr="/Rect ["+ir(rr.bounds.x+30)+" "+ar(rr.bounds.y+rr.bounds.h)+" "+ir(rr.bounds.x+rr.bounds.w+30)+" "+ar(rr.bounds.y)+"] ")+" /Parent "+xr,rr.open&&(sr+=" /Open true"),sr+=" >>",mr.content=sr,this.internal.write(fr.objId,"0 R",mr.objId,"0 R");break;case"freetext":nr="/Rect ["+ir(rr.bounds.x)+" "+ar(rr.bounds.y)+" "+ir(rr.bounds.x+rr.bounds.w)+" "+ar(rr.bounds.y+rr.bounds.h)+"] ";var yr=rr.color||"#000000";sr="<</Type /Annot /Subtype /FreeText "+nr+"/Contents ("+hr(Ar(rr.contents))+")",sr+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+yr+")",sr+=" /Border [0 0 0]",sr+=" >>",this.internal.write(sr);break;case"link":if(rr.options.name){var Er=this.annotations._nameMap[rr.options.name];rr.options.pageNumber=Er.page,rr.options.top=Er.y}else rr.options.top||(rr.options.top=0);if(nr="/Rect ["+rr.finalBounds.x+" "+rr.finalBounds.y+" "+rr.finalBounds.w+" "+rr.finalBounds.h+"] ",sr="",rr.options.url)sr="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /A <</S /URI /URI ("+hr(Ar(rr.options.url))+") >>";else if(rr.options.pageNumber)switch(sr="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(rr.options.pageNumber).objId+" 0 R",rr.options.magFactor=rr.options.magFactor||"XYZ",rr.options.magFactor){case"Fit":sr+=" /Fit]";break;case"FitH":sr+=" /FitH "+rr.options.top+"]";break;case"FitV":rr.options.left=rr.options.left||0,sr+=" /FitV "+rr.options.left+"]";break;case"XYZ":default:var _r=ar(rr.options.top);rr.options.left=rr.options.left||0,rr.options.zoom===void 0&&(rr.options.zoom=0),sr+=" /XYZ "+rr.options.left+" "+_r+" "+rr.options.zoom+"]"}sr!=""&&(sr+=" >>",this.internal.write(sr))}}this.internal.write("]")}}]),er.createAnnotation=function(tr){var rr=this.internal.getCurrentPageInfo();switch(tr.type){case"link":this.link(tr.bounds.x,tr.bounds.y,tr.bounds.w,tr.bounds.h,tr);break;case"text":case"freetext":rr.pageContext.annotations.push(tr)}},er.link=function(tr,rr,nr,sr,ir){var ar=this.internal.getCurrentPageInfo(),or=this.internal.getCoordinateString,lr=this.internal.getVerticalCoordinateString;ar.pageContext.annotations.push({finalBounds:{x:or(tr),y:lr(rr),w:or(tr+nr),h:lr(rr+sr)},options:ir,type:"link"})},er.textWithLink=function(tr,rr,nr,sr){var ir,ar,or=this.getTextWidth(tr),lr=this.internal.getLineHeight()/this.internal.scaleFactor;if(sr.maxWidth!==void 0){ar=sr.maxWidth;var cr=this.splitTextToSize(tr,ar).length;ir=Math.ceil(lr*cr)}else ar=or,ir=lr;return this.text(tr,rr,nr,sr),nr+=.2*lr,sr.align==="center"&&(rr-=or/2),sr.align==="right"&&(rr-=or),this.link(rr,nr-lr,ar,ir,sr),or},er.getTextWidth=function(tr){var rr=this.internal.getFontSize();return this.getStringUnitWidth(tr)*rr/this.internal.scaleFactor}}(E$1.API),function(er){var St={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},tr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},rr={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},nr=[1570,1571,1573,1575];er.__arabicParser__={};var sr=er.__arabicParser__.isInArabicSubstitutionA=function(fr){return St[fr.charCodeAt(0)]!==void 0},ir=er.__arabicParser__.isArabicLetter=function(fr){return typeof fr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(fr)},ar=er.__arabicParser__.isArabicEndLetter=function(fr){return ir(fr)&&sr(fr)&&St[fr.charCodeAt(0)].length<=2},or=er.__arabicParser__.isArabicAlfLetter=function(fr){return ir(fr)&&nr.indexOf(fr.charCodeAt(0))>=0};er.__arabicParser__.arabicLetterHasIsolatedForm=function(fr){return ir(fr)&&sr(fr)&&St[fr.charCodeAt(0)].length>=1};var lr=er.__arabicParser__.arabicLetterHasFinalForm=function(fr){return ir(fr)&&sr(fr)&&St[fr.charCodeAt(0)].length>=2};er.__arabicParser__.arabicLetterHasInitialForm=function(fr){return ir(fr)&&sr(fr)&&St[fr.charCodeAt(0)].length>=3};var cr=er.__arabicParser__.arabicLetterHasMedialForm=function(fr){return ir(fr)&&sr(fr)&&St[fr.charCodeAt(0)].length==4},ur=er.__arabicParser__.resolveLigatures=function(fr){var mr=0,pr=tr,gr="",xr=0;for(mr=0;mr<fr.length;mr+=1)pr[fr.charCodeAt(mr)]!==void 0?(xr++,typeof(pr=pr[fr.charCodeAt(mr)])=="number"&&(gr+=String.fromCharCode(pr),pr=tr,xr=0),mr===fr.length-1&&(pr=tr,gr+=fr.charAt(mr-(xr-1)),mr-=xr-1,xr=0)):(pr=tr,gr+=fr.charAt(mr-xr),mr-=xr,xr=0);return gr};er.__arabicParser__.isArabicDiacritic=function(fr){return fr!==void 0&&rr[fr.charCodeAt(0)]!==void 0};var dr=er.__arabicParser__.getCorrectForm=function(fr,mr,pr){return ir(fr)?sr(fr)===!1?-1:!lr(fr)||!ir(mr)&&!ir(pr)||!ir(pr)&&ar(mr)||ar(fr)&&!ir(mr)||ar(fr)&&or(mr)||ar(fr)&&ar(mr)?0:cr(fr)&&ir(mr)&&!ar(mr)&&ir(pr)&&lr(pr)?3:ar(fr)||!ir(pr)?1:2:-1},hr=function(fr){var mr=0,pr=0,gr=0,xr="",yr="",Er="",_r=(fr=fr||"").split("\\s+"),Sr=[];for(mr=0;mr<_r.length;mr+=1){for(Sr.push(""),pr=0;pr<_r[mr].length;pr+=1)xr=_r[mr][pr],yr=_r[mr][pr-1],Er=_r[mr][pr+1],ir(xr)?(gr=dr(xr,yr,Er),Sr[mr]+=gr!==-1?String.fromCharCode(St[xr.charCodeAt(0)][gr]):xr):Sr[mr]+=xr;Sr[mr]=ur(Sr[mr])}return Sr.join(" ")},Ar=er.__arabicParser__.processArabic=er.processArabic=function(){var fr,mr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,pr=[];if(Array.isArray(mr)){var gr=0;for(pr=[],gr=0;gr<mr.length;gr+=1)Array.isArray(mr[gr])?pr.push([hr(mr[gr][0]),mr[gr][1],mr[gr][2]]):pr.push([hr(mr[gr])]);fr=pr}else fr=hr(mr);return typeof arguments[0]=="string"?fr:(arguments[0].text=fr,arguments[0])};er.events.push(["preProcessText",Ar])}(E$1.API),E$1.API.autoPrint=function(er){var St;switch((er=er||{}).variant=er.variant||"non-conform",er.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){St=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+St+" 0 R")})}return this},function(er){var St=function(){var tr=void 0;Object.defineProperty(this,"pdf",{get:function(){return tr},set:function(ar){tr=ar}});var rr=150;Object.defineProperty(this,"width",{get:function(){return rr},set:function(ar){rr=isNaN(ar)||Number.isInteger(ar)===!1||ar<0?150:ar,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=rr+1)}});var nr=300;Object.defineProperty(this,"height",{get:function(){return nr},set:function(ar){nr=isNaN(ar)||Number.isInteger(ar)===!1||ar<0?300:ar,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nr+1)}});var sr=[];Object.defineProperty(this,"childNodes",{get:function(){return sr},set:function(ar){sr=ar}});var ir={};Object.defineProperty(this,"style",{get:function(){return ir},set:function(ar){ir=ar}}),Object.defineProperty(this,"parentNode",{})};St.prototype.getContext=function(tr,rr){var nr;if((tr=tr||"2d")!=="2d")return null;for(nr in rr)this.pdf.context2d.hasOwnProperty(nr)&&(this.pdf.context2d[nr]=rr[nr]);return this.pdf.context2d._canvas=this,this.pdf.context2d},St.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},er.events.push(["initialized",function(){this.canvas=new St,this.canvas.pdf=this}])}(E$1.API),function(er){var St={left:0,top:0,bottom:0,right:0},tr=!1,rr=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},St),this.internal.__cell__.margins.width=this.getPageWidth(),nr.call(this))},nr=function(){this.internal.__cell__.lastCell=new sr,this.internal.__cell__.pages=1},sr=function(){var or=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return or},set:function(fr){or=fr}});var lr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lr},set:function(fr){lr=fr}});var cr=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return cr},set:function(fr){cr=fr}});var ur=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ur},set:function(fr){ur=fr}});var dr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return dr},set:function(fr){dr=fr}});var hr=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return hr},set:function(fr){hr=fr}});var Ar=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Ar},set:function(fr){Ar=fr}}),this};sr.prototype.clone=function(){return new sr(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},sr.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},er.setHeaderFunction=function(or){return rr.call(this),this.internal.__cell__.headerFunction=typeof or=="function"?or:void 0,this},er.getTextDimensions=function(or,lr){rr.call(this);var cr=(lr=lr||{}).fontSize||this.getFontSize(),ur=lr.font||this.getFont(),dr=lr.scaleFactor||this.internal.scaleFactor,hr=0,Ar=0,fr=0,mr=this;if(!Array.isArray(or)&&typeof or!="string"){if(typeof or!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");or=String(or)}var pr=lr.maxWidth;pr>0?typeof or=="string"?or=this.splitTextToSize(or,pr):Object.prototype.toString.call(or)==="[object Array]"&&(or=or.reduce(function(xr,yr){return xr.concat(mr.splitTextToSize(yr,pr))},[])):or=Array.isArray(or)?or:[or];for(var gr=0;gr<or.length;gr++)hr<(fr=this.getStringUnitWidth(or[gr],{font:ur})*cr)&&(hr=fr);return hr!==0&&(Ar=or.length),{w:hr/=dr,h:Math.max((Ar*cr*this.getLineHeightFactor()-cr*(this.getLineHeightFactor()-1))/dr,0)}},er.cellAddPage=function(){rr.call(this),this.addPage();var or=this.internal.__cell__.margins||St;return this.internal.__cell__.lastCell=new sr(or.left,or.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ir=er.cell=function(){var or;or=arguments[0]instanceof sr?arguments[0]:new sr(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),rr.call(this);var lr=this.internal.__cell__.lastCell,cr=this.internal.__cell__.padding,ur=this.internal.__cell__.margins||St,dr=this.internal.__cell__.tableHeaderRow,hr=this.internal.__cell__.printHeaders;return lr.lineNumber!==void 0&&(lr.lineNumber===or.lineNumber?(or.x=(lr.x||0)+(lr.width||0),or.y=lr.y||0):lr.y+lr.height+or.height+ur.bottom>this.getPageHeight()?(this.cellAddPage(),or.y=ur.top,hr&&dr&&(this.printHeaderRow(or.lineNumber,!0),or.y+=dr[0].height)):or.y=lr.y+lr.height||or.y),or.text[0]!==void 0&&(this.rect(or.x,or.y,or.width,or.height,tr===!0?"FD":void 0),or.align==="right"?this.text(or.text,or.x+or.width-cr,or.y+cr,{align:"right",baseline:"top"}):or.align==="center"?this.text(or.text,or.x+or.width/2,or.y+cr,{align:"center",baseline:"top",maxWidth:or.width-cr-cr}):this.text(or.text,or.x+cr,or.y+cr,{align:"left",baseline:"top",maxWidth:or.width-cr-cr})),this.internal.__cell__.lastCell=or,this};er.table=function(or,lr,cr,ur,dr){if(rr.call(this),!cr)throw new Error("No data for PDF table.");var hr,Ar,fr,mr,pr=[],gr=[],xr=[],yr={},Er={},_r=[],Sr=[],jr=(dr=dr||{}).autoSize||!1,Pr=dr.printHeaders!==!1,Mr=dr.css&&dr.css["font-size"]!==void 0?16*dr.css["font-size"]:dr.fontSize||12,Ir=dr.margins||Object.assign({width:this.getPageWidth()},St),Lr=typeof dr.padding=="number"?dr.padding:3,Qr=dr.headerBackgroundColor||"#c8c8c8",Yr=dr.headerTextColor||"#000";if(nr.call(this),this.internal.__cell__.printHeaders=Pr,this.internal.__cell__.margins=Ir,this.internal.__cell__.table_font_size=Mr,this.internal.__cell__.padding=Lr,this.internal.__cell__.headerBackgroundColor=Qr,this.internal.__cell__.headerTextColor=Yr,this.setFontSize(Mr),ur==null)gr=pr=Object.keys(cr[0]),xr=pr.map(function(){return"left"});else if(Array.isArray(ur)&&_typeof(ur[0])==="object")for(pr=ur.map(function(Wr){return Wr.name}),gr=ur.map(function(Wr){return Wr.prompt||Wr.name||""}),xr=ur.map(function(Wr){return Wr.align||"left"}),hr=0;hr<ur.length;hr+=1)Er[ur[hr].name]=ur[hr].width*(19.049976/25.4);else Array.isArray(ur)&&typeof ur[0]=="string"&&(gr=pr=ur,xr=pr.map(function(){return"left"}));if(jr||Array.isArray(ur)&&typeof ur[0]=="string")for(hr=0;hr<pr.length;hr+=1){for(yr[mr=pr[hr]]=cr.map(function(Wr){return Wr[mr]}),this.setFont(void 0,"bold"),_r.push(this.getTextDimensions(gr[hr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Ar=yr[mr],this.setFont(void 0,"normal"),fr=0;fr<Ar.length;fr+=1)_r.push(this.getTextDimensions(Ar[fr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Er[mr]=Math.max.apply(null,_r)+Lr+Lr,_r=[]}if(Pr){var Gr={};for(hr=0;hr<pr.length;hr+=1)Gr[pr[hr]]={},Gr[pr[hr]].text=gr[hr],Gr[pr[hr]].align=xr[hr];var $r=ar.call(this,Gr,Er);Sr=pr.map(function(Wr){return new sr(or,lr,Er[Wr],$r,Gr[Wr].text,void 0,Gr[Wr].align)}),this.setTableHeaderRow(Sr),this.printHeaderRow(1,!1)}var Vr=ur.reduce(function(Wr,qr){return Wr[qr.name]=qr.align,Wr},{});for(hr=0;hr<cr.length;hr+=1){"rowStart"in dr&&dr.rowStart instanceof Function&&dr.rowStart({row:hr,data:cr[hr]},this);var Tr=ar.call(this,cr[hr],Er);for(fr=0;fr<pr.length;fr+=1){var Fr=cr[hr][pr[fr]];"cellStart"in dr&&dr.cellStart instanceof Function&&dr.cellStart({row:hr,col:fr,data:Fr},this),ir.call(this,new sr(or,lr,Er[pr[fr]],Tr,Fr,hr+2,Vr[pr[fr]]))}}return this.internal.__cell__.table_x=or,this.internal.__cell__.table_y=lr,this};var ar=function(or,lr){var cr=this.internal.__cell__.padding,ur=this.internal.__cell__.table_font_size,dr=this.internal.scaleFactor;return Object.keys(or).map(function(hr){var Ar=or[hr];return this.splitTextToSize(Ar.hasOwnProperty("text")?Ar.text:Ar,lr[hr]-cr-cr)},this).map(function(hr){return this.getLineHeightFactor()*hr.length*ur/dr+cr+cr},this).reduce(function(hr,Ar){return Math.max(hr,Ar)},0)};er.setTableHeaderRow=function(or){rr.call(this),this.internal.__cell__.tableHeaderRow=or},er.printHeaderRow=function(or,lr){if(rr.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var cr;if(tr=!0,typeof this.internal.__cell__.headerFunction=="function"){var ur=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new sr(ur[0],ur[1],ur[2],ur[3],void 0,-1)}this.setFont(void 0,"bold");for(var dr=[],hr=0;hr<this.internal.__cell__.tableHeaderRow.length;hr+=1){cr=this.internal.__cell__.tableHeaderRow[hr].clone(),lr&&(cr.y=this.internal.__cell__.margins.top||0,dr.push(cr)),cr.lineNumber=or;var Ar=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ir.call(this,cr),this.setTextColor(Ar)}dr.length>0&&this.setTableHeaderRow(dr),this.setFont(void 0,"normal"),tr=!1}}(E$1.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(er){var St=er.family.replace(/"|'/g,"").toLowerCase(),tr=function(sr){return Pt[sr=sr||"normal"]?sr:"normal"}(er.style),rr=function(sr){if(!sr)return 400;if(typeof sr=="number")return sr>=100&&sr<=900&&sr%100==0?sr:400;if(/^\d00$/.test(sr))return parseInt(sr);switch(sr){case"bold":return 700;case"normal":default:return 400}}(er.weight),nr=function(sr){return typeof It[sr=sr||"normal"]=="number"?sr:"normal"}(er.stretch);return{family:St,style:tr,weight:rr,stretch:nr,src:er.src||[],ref:er.ref||{name:St,style:[nr,tr,rr].join(" ")}}}function Ot(er,St,tr,rr){var nr;for(nr=tr;nr>=0&&nr<St.length;nr+=rr)if(er[St[nr]])return er[St[nr]];for(nr=tr;nr>=0&&nr<St.length;nr-=rr)if(er[St[nr]])return er[St[nr]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(er){return[er.stretch,er.style,er.weight,er.family].join(" ")}function qt(er,St,tr){for(var rr=(tr=tr||{}).defaultFontFamily||"times",nr=Object.assign({},Bt,tr.genericFontFamilies||{}),sr=null,ir=null,ar=0;ar<St.length;++ar)if(nr[(sr=jt(St[ar])).family]&&(sr.family=nr[sr.family]),er.hasOwnProperty(sr.family)){ir=er[sr.family];break}if(!(ir=ir||er[rr]))throw new Error("Could not find a font-family for the rule '"+Et(sr)+"' and default family '"+rr+"'.");if(ir=function(or,lr){if(lr[or])return lr[or];var cr=It[or],ur=cr<=It.normal?-1:1,dr=Ot(lr,kt,cr,ur);if(!dr)throw new Error("Could not find a matching font-stretch value for "+or);return dr}(sr.stretch,ir),ir=function(or,lr){if(lr[or])return lr[or];for(var cr=Pt[or],ur=0;ur<cr.length;++ur)if(lr[cr[ur]])return lr[cr[ur]];throw new Error("Could not find a matching font-style for "+or)}(sr.style,ir),!(ir=function(or,lr){if(lr[or])return lr[or];if(or===400&&lr[500])return lr[500];if(or===500&&lr[400])return lr[400];var cr=Ct[or],ur=Ot(lr,Ft,cr,or<400?-1:1);if(!ur)throw new Error("Could not find a matching font-weight for value "+or);return ur}(sr.weight,ir)))throw new Error("Failed to resolve a font for the rule '"+Et(sr)+"'.");return ir}function Dt(er){return er.trimLeft()}function Rt(er,St){for(var tr=0;tr<er.length;){if(er.charAt(tr)===St)return[er.substring(0,tr),er.substring(tr+1)];tr+=1}return null}function Tt(er){var St=er.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return St===null?null:[St[0],er.substring(St[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(er){var St,tr,rr,nr,sr,ir,ar,or,lr,cr=function(Rr){return Rr=Rr||{},this.isStrokeTransparent=Rr.isStrokeTransparent||!1,this.strokeOpacity=Rr.strokeOpacity||1,this.strokeStyle=Rr.strokeStyle||"#000000",this.fillStyle=Rr.fillStyle||"#000000",this.isFillTransparent=Rr.isFillTransparent||!1,this.fillOpacity=Rr.fillOpacity||1,this.font=Rr.font||"10px sans-serif",this.textBaseline=Rr.textBaseline||"alphabetic",this.textAlign=Rr.textAlign||"left",this.lineWidth=Rr.lineWidth||1,this.lineJoin=Rr.lineJoin||"miter",this.lineCap=Rr.lineCap||"butt",this.path=Rr.path||[],this.transform=Rr.transform!==void 0?Rr.transform.clone():new or,this.globalCompositeOperation=Rr.globalCompositeOperation||"normal",this.globalAlpha=Rr.globalAlpha||1,this.clip_path=Rr.clip_path||[],this.currentPoint=Rr.currentPoint||new ir,this.miterLimit=Rr.miterLimit||10,this.lastPoint=Rr.lastPoint||new ir,this.lineDashOffset=Rr.lineDashOffset||0,this.lineDash=Rr.lineDash||[],this.margin=Rr.margin||[0,0,0,0],this.prevPageLastElemOffset=Rr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Rr.ignoreClearRect!="boolean"||Rr.ignoreClearRect,this};er.events.push(["initialized",function(){this.context2d=new ur(this),St=this.internal.f2,tr=this.internal.getCoordinateString,rr=this.internal.getVerticalCoordinateString,nr=this.internal.getHorizontalCoordinate,sr=this.internal.getVerticalCoordinate,ir=this.internal.Point,ar=this.internal.Rectangle,or=this.internal.Matrix,lr=new cr}]);var ur=function(Rr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Or=Rr;Object.defineProperty(this,"pdf",{get:function(){return Or}});var Hr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Hr},set:function(Nn){Hr=!!Nn}});var zr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return zr},set:function(Nn){zr=!!Nn}});var Zr=0;Object.defineProperty(this,"posX",{get:function(){return Zr},set:function(Nn){isNaN(Nn)||(Zr=Nn)}});var nn=0;Object.defineProperty(this,"posY",{get:function(){return nn},set:function(Nn){isNaN(Nn)||(nn=Nn)}}),Object.defineProperty(this,"margin",{get:function(){return lr.margin},set:function(Nn){var pn;typeof Nn=="number"?pn=[Nn,Nn,Nn,Nn]:((pn=new Array(4))[0]=Nn[0],pn[1]=Nn.length>=2?Nn[1]:pn[0],pn[2]=Nn.length>=3?Nn[2]:pn[0],pn[3]=Nn.length>=4?Nn[3]:pn[1]),lr.margin=pn}});var vn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return vn},set:function(Nn){vn=Nn}});var hn=0;Object.defineProperty(this,"lastBreak",{get:function(){return hn},set:function(Nn){hn=Nn}});var En=[];Object.defineProperty(this,"pageBreaks",{get:function(){return En},set:function(Nn){En=Nn}}),Object.defineProperty(this,"ctx",{get:function(){return lr},set:function(Nn){Nn instanceof cr&&(lr=Nn)}}),Object.defineProperty(this,"path",{get:function(){return lr.path},set:function(Nn){lr.path=Nn}});var Tn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Tn},set:function(Nn){Tn=Nn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Nn){var pn;pn=dr(Nn),this.ctx.fillStyle=pn.style,this.ctx.isFillTransparent=pn.a===0,this.ctx.fillOpacity=pn.a,this.pdf.setFillColor(pn.r,pn.g,pn.b,{a:pn.a}),this.pdf.setTextColor(pn.r,pn.g,pn.b,{a:pn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Nn){var pn=dr(Nn);this.ctx.strokeStyle=pn.style,this.ctx.isStrokeTransparent=pn.a===0,this.ctx.strokeOpacity=pn.a,pn.a===0?this.pdf.setDrawColor(255,255,255):(pn.a,this.pdf.setDrawColor(pn.r,pn.g,pn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Nn){["butt","round","square"].indexOf(Nn)!==-1&&(this.ctx.lineCap=Nn,this.pdf.setLineCap(Nn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Nn){isNaN(Nn)||(this.ctx.lineWidth=Nn,this.pdf.setLineWidth(Nn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Nn){["bevel","round","miter"].indexOf(Nn)!==-1&&(this.ctx.lineJoin=Nn,this.pdf.setLineJoin(Nn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Nn){isNaN(Nn)||(this.ctx.miterLimit=Nn,this.pdf.setMiterLimit(Nn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Nn){this.ctx.textBaseline=Nn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Nn){["right","end","center","left","start"].indexOf(Nn)!==-1&&(this.ctx.textAlign=Nn)}});var bn=null;function Mn(Nn,pn){if(bn===null){var Gn=function(os){var es=[];return Object.keys(os).forEach(function(cs){os[cs].forEach(function(ts){var fs=null;switch(ts){case"bold":fs={family:cs,weight:"bold"};break;case"italic":fs={family:cs,style:"italic"};break;case"bolditalic":fs={family:cs,weight:"bold",style:"italic"};break;case"":case"normal":fs={family:cs}}fs!==null&&(fs.ref={name:cs,style:ts},es.push(fs))})}),es}(Nn.getFontList());bn=function(os){for(var es={},cs=0;cs<os.length;++cs){var ts=jt(os[cs]),fs=ts.family,vs=ts.stretch,ws=ts.style,Rs=ts.weight;es[fs]=es[fs]||{},es[fs][vs]=es[fs][vs]||{},es[fs][vs][ws]=es[fs][vs][ws]||{},es[fs][vs][ws][Rs]=ts}return es}(Gn.concat(pn))}return bn}var Rn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Rn},set:function(Nn){bn=null,Rn=Nn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Nn){var pn;if(this.ctx.font=Nn,(pn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Nn))!==null){var Gn=pn[1];pn[2];var os=pn[3],es=pn[4];pn[5];var cs=pn[6],ts=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(es)[2];es=Math.floor(ts==="px"?parseFloat(es)*this.pdf.internal.scaleFactor:ts==="em"?parseFloat(es)*this.pdf.getFontSize():parseFloat(es)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(es);var fs=function(Ts){var Ds,ys,$o=[],Zs=Ts.trim();if(Zs==="")return Wt;if(Zs in Mt)return[Mt[Zs]];for(;Zs!=="";){switch(ys=null,Ds=(Zs=Dt(Zs)).charAt(0)){case'"':case"'":ys=Rt(Zs.substring(1),Ds);break;default:ys=Tt(Zs)}if(ys===null||($o.push(ys[0]),(Zs=Dt(ys[1]))!==""&&Zs.charAt(0)!==","))return Wt;Zs=Zs.replace(/^,/,"")}return $o}(cs);if(this.fontFaces){var vs=qt(Mn(this.pdf,this.fontFaces),fs.map(function(Ts){return{family:Ts,stretch:"normal",weight:os,style:Gn}}));this.pdf.setFont(vs.ref.name,vs.ref.style)}else{var ws="";(os==="bold"||parseInt(os,10)>=700||Gn==="bold")&&(ws="bold"),Gn==="italic"&&(ws+="italic"),ws.length===0&&(ws="normal");for(var Rs="",ks={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fs=0;Fs<fs.length;Fs++){if(this.pdf.internal.getFont(fs[Fs],ws,{noFallback:!0,disableWarning:!0})!==void 0){Rs=fs[Fs];break}if(ws==="bolditalic"&&this.pdf.internal.getFont(fs[Fs],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rs=fs[Fs],ws="bold";else if(this.pdf.internal.getFont(fs[Fs],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rs=fs[Fs],ws="normal";break}}if(Rs===""){for(var Vs=0;Vs<fs.length;Vs++)if(ks[fs[Vs]]){Rs=ks[fs[Vs]];break}}Rs=Rs===""?"Times":Rs,this.pdf.setFont(Rs,ws)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Nn){this.ctx.globalCompositeOperation=Nn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Nn){this.ctx.globalAlpha=Nn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Nn){this.ctx.lineDashOffset=Nn,qr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Nn){this.ctx.lineDash=Nn,qr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Nn){this.ctx.ignoreClearRect=!!Nn}})};ur.prototype.setLineDash=function(Rr){this.lineDash=Rr},ur.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ur.prototype.fill=function(){yr.call(this,"fill",!1)},ur.prototype.stroke=function(){yr.call(this,"stroke",!1)},ur.prototype.beginPath=function(){this.path=[{type:"begin"}]},ur.prototype.moveTo=function(Rr,Or){if(isNaN(Rr)||isNaN(Or))throw a$1.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Hr=this.ctx.transform.applyToPoint(new ir(Rr,Or));this.path.push({type:"mt",x:Hr.x,y:Hr.y}),this.ctx.lastPoint=new ir(Rr,Or)},ur.prototype.closePath=function(){var Rr=new ir(0,0),Or=0;for(Or=this.path.length-1;Or!==-1;Or--)if(this.path[Or].type==="begin"&&_typeof(this.path[Or+1])==="object"&&typeof this.path[Or+1].x=="number"){Rr=new ir(this.path[Or+1].x,this.path[Or+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ir(Rr.x,Rr.y)},ur.prototype.lineTo=function(Rr,Or){if(isNaN(Rr)||isNaN(Or))throw a$1.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Hr=this.ctx.transform.applyToPoint(new ir(Rr,Or));this.path.push({type:"lt",x:Hr.x,y:Hr.y}),this.ctx.lastPoint=new ir(Hr.x,Hr.y)},ur.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),yr.call(this,null,!0)},ur.prototype.quadraticCurveTo=function(Rr,Or,Hr,zr){if(isNaN(Hr)||isNaN(zr)||isNaN(Rr)||isNaN(Or))throw a$1.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Zr=this.ctx.transform.applyToPoint(new ir(Hr,zr)),nn=this.ctx.transform.applyToPoint(new ir(Rr,Or));this.path.push({type:"qct",x1:nn.x,y1:nn.y,x:Zr.x,y:Zr.y}),this.ctx.lastPoint=new ir(Zr.x,Zr.y)},ur.prototype.bezierCurveTo=function(Rr,Or,Hr,zr,Zr,nn){if(isNaN(Zr)||isNaN(nn)||isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr))throw a$1.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var vn=this.ctx.transform.applyToPoint(new ir(Zr,nn)),hn=this.ctx.transform.applyToPoint(new ir(Rr,Or)),En=this.ctx.transform.applyToPoint(new ir(Hr,zr));this.path.push({type:"bct",x1:hn.x,y1:hn.y,x2:En.x,y2:En.y,x:vn.x,y:vn.y}),this.ctx.lastPoint=new ir(vn.x,vn.y)},ur.prototype.arc=function(Rr,Or,Hr,zr,Zr,nn){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr)||isNaN(Zr))throw a$1.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nn=!!nn,!this.ctx.transform.isIdentity){var vn=this.ctx.transform.applyToPoint(new ir(Rr,Or));Rr=vn.x,Or=vn.y;var hn=this.ctx.transform.applyToPoint(new ir(0,Hr)),En=this.ctx.transform.applyToPoint(new ir(0,0));Hr=Math.sqrt(Math.pow(hn.x-En.x,2)+Math.pow(hn.y-En.y,2))}Math.abs(Zr-zr)>=2*Math.PI&&(zr=0,Zr=2*Math.PI),this.path.push({type:"arc",x:Rr,y:Or,radius:Hr,startAngle:zr,endAngle:Zr,counterclockwise:nn})},ur.prototype.arcTo=function(Rr,Or,Hr,zr,Zr){throw new Error("arcTo not implemented.")},ur.prototype.rect=function(Rr,Or,Hr,zr){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr))throw a$1.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Rr,Or),this.lineTo(Rr+Hr,Or),this.lineTo(Rr+Hr,Or+zr),this.lineTo(Rr,Or+zr),this.lineTo(Rr,Or),this.lineTo(Rr+Hr,Or),this.lineTo(Rr,Or)},ur.prototype.fillRect=function(Rr,Or,Hr,zr){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr))throw a$1.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!hr.call(this)){var Zr={};this.lineCap!=="butt"&&(Zr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Zr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Rr,Or,Hr,zr),this.fill(),Zr.hasOwnProperty("lineCap")&&(this.lineCap=Zr.lineCap),Zr.hasOwnProperty("lineJoin")&&(this.lineJoin=Zr.lineJoin)}},ur.prototype.strokeRect=function(Rr,Or,Hr,zr){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr))throw a$1.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Ar.call(this)||(this.beginPath(),this.rect(Rr,Or,Hr,zr),this.stroke())},ur.prototype.clearRect=function(Rr,Or,Hr,zr){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr))throw a$1.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Rr,Or,Hr,zr))},ur.prototype.save=function(Rr){Rr=typeof Rr!="boolean"||Rr;for(var Or=this.pdf.internal.getCurrentPageInfo().pageNumber,Hr=0;Hr<this.pdf.internal.getNumberOfPages();Hr++)this.pdf.setPage(Hr+1),this.pdf.internal.out("q");if(this.pdf.setPage(Or),Rr){this.ctx.fontSize=this.pdf.internal.getFontSize();var zr=new cr(this.ctx);this.ctxStack.push(this.ctx),this.ctx=zr}},ur.prototype.restore=function(Rr){Rr=typeof Rr!="boolean"||Rr;for(var Or=this.pdf.internal.getCurrentPageInfo().pageNumber,Hr=0;Hr<this.pdf.internal.getNumberOfPages();Hr++)this.pdf.setPage(Hr+1),this.pdf.internal.out("Q");this.pdf.setPage(Or),Rr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ur.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var dr=function(Rr){var Or,Hr,zr,Zr;if(Rr.isCanvasGradient===!0&&(Rr=Rr.getColor()),!Rr)return{r:0,g:0,b:0,a:0,style:Rr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Rr))Or=0,Hr=0,zr=0,Zr=0;else{var nn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Rr);if(nn!==null)Or=parseInt(nn[1]),Hr=parseInt(nn[2]),zr=parseInt(nn[3]),Zr=1;else if((nn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Rr))!==null)Or=parseInt(nn[1]),Hr=parseInt(nn[2]),zr=parseInt(nn[3]),Zr=parseFloat(nn[4]);else{if(Zr=1,typeof Rr=="string"&&Rr.charAt(0)!=="#"){var vn=new f$1(Rr);Rr=vn.ok?vn.toHex():"#000000"}Rr.length===4?(Or=Rr.substring(1,2),Or+=Or,Hr=Rr.substring(2,3),Hr+=Hr,zr=Rr.substring(3,4),zr+=zr):(Or=Rr.substring(1,3),Hr=Rr.substring(3,5),zr=Rr.substring(5,7)),Or=parseInt(Or,16),Hr=parseInt(Hr,16),zr=parseInt(zr,16)}}return{r:Or,g:Hr,b:zr,a:Zr,style:Rr}},hr=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Ar=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ur.prototype.fillText=function(Rr,Or,Hr,zr){if(isNaN(Or)||isNaN(Hr)||typeof Rr!="string")throw a$1.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(zr=isNaN(zr)?void 0:zr,!hr.call(this)){var Zr=Tr(this.ctx.transform.rotation),nn=this.ctx.transform.scaleX;Lr.call(this,{text:Rr,x:Or,y:Hr,scale:nn,angle:Zr,align:this.textAlign,maxWidth:zr})}},ur.prototype.strokeText=function(Rr,Or,Hr,zr){if(isNaN(Or)||isNaN(Hr)||typeof Rr!="string")throw a$1.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Ar.call(this)){zr=isNaN(zr)?void 0:zr;var Zr=Tr(this.ctx.transform.rotation),nn=this.ctx.transform.scaleX;Lr.call(this,{text:Rr,x:Or,y:Hr,scale:nn,renderingMode:"stroke",angle:Zr,align:this.textAlign,maxWidth:zr})}},ur.prototype.measureText=function(Rr){if(typeof Rr!="string")throw a$1.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Or=this.pdf,Hr=this.pdf.internal.scaleFactor,zr=Or.internal.getFontSize(),Zr=Or.getStringUnitWidth(Rr)*zr/Or.internal.scaleFactor,nn=function(vn){var hn=(vn=vn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return hn}}),this};return new nn({width:Zr*=Math.round(96*Hr/72*1e4)/1e4})},ur.prototype.scale=function(Rr,Or){if(isNaN(Rr)||isNaN(Or))throw a$1.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Hr=new or(Rr,0,0,Or,0,0);this.ctx.transform=this.ctx.transform.multiply(Hr)},ur.prototype.rotate=function(Rr){if(isNaN(Rr))throw a$1.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Or=new or(Math.cos(Rr),Math.sin(Rr),-Math.sin(Rr),Math.cos(Rr),0,0);this.ctx.transform=this.ctx.transform.multiply(Or)},ur.prototype.translate=function(Rr,Or){if(isNaN(Rr)||isNaN(Or))throw a$1.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Hr=new or(1,0,0,1,Rr,Or);this.ctx.transform=this.ctx.transform.multiply(Hr)},ur.prototype.transform=function(Rr,Or,Hr,zr,Zr,nn){if(isNaN(Rr)||isNaN(Or)||isNaN(Hr)||isNaN(zr)||isNaN(Zr)||isNaN(nn))throw a$1.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var vn=new or(Rr,Or,Hr,zr,Zr,nn);this.ctx.transform=this.ctx.transform.multiply(vn)},ur.prototype.setTransform=function(Rr,Or,Hr,zr,Zr,nn){Rr=isNaN(Rr)?1:Rr,Or=isNaN(Or)?0:Or,Hr=isNaN(Hr)?0:Hr,zr=isNaN(zr)?1:zr,Zr=isNaN(Zr)?0:Zr,nn=isNaN(nn)?0:nn,this.ctx.transform=new or(Rr,Or,Hr,zr,Zr,nn)};var fr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ur.prototype.drawImage=function(Rr,Or,Hr,zr,Zr,nn,vn,hn,En){var Tn=this.pdf.getImageProperties(Rr),bn=1,Mn=1,Rn=1,Nn=1;zr!==void 0&&hn!==void 0&&(Rn=hn/zr,Nn=En/Zr,bn=Tn.width/zr*hn/zr,Mn=Tn.height/Zr*En/Zr),nn===void 0&&(nn=Or,vn=Hr,Or=0,Hr=0),zr!==void 0&&hn===void 0&&(hn=zr,En=Zr),zr===void 0&&hn===void 0&&(hn=Tn.width,En=Tn.height);for(var pn,Gn=this.ctx.transform.decompose(),os=Tr(Gn.rotate.shx),es=new or,cs=(es=(es=(es=es.multiply(Gn.translate)).multiply(Gn.skew)).multiply(Gn.scale)).applyToRectangle(new ar(nn-Or*Rn,vn-Hr*Nn,zr*bn,Zr*Mn)),ts=mr.call(this,cs),fs=[],vs=0;vs<ts.length;vs+=1)fs.indexOf(ts[vs])===-1&&fs.push(ts[vs]);if(xr(fs),this.autoPaging)for(var ws=fs[0],Rs=fs[fs.length-1],ks=ws;ks<Rs+1;ks++){this.pdf.setPage(ks);var Fs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vs=ks===1?this.posY+this.margin[0]:this.margin[0],Ts=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ds=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ys=ks===1?0:Ts+(ks-2)*Ds;if(this.ctx.clip_path.length!==0){var $o=this.path;pn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(pn,this.posX+this.margin[3],-ys+Vs+this.ctx.prevPageLastElemOffset),Er.call(this,"fill",!0),this.path=$o}var Zs=JSON.parse(JSON.stringify(cs));Zs=gr([Zs],this.posX+this.margin[3],-ys+Vs+this.ctx.prevPageLastElemOffset)[0];var io=(ks>ws||ks<Rs)&&fr.call(this);io&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fs,Ds,null).clip().discardPath()),this.pdf.addImage(Rr,"JPEG",Zs.x,Zs.y,Zs.w,Zs.h,null,null,os),io&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Rr,"JPEG",cs.x,cs.y,cs.w,cs.h,null,null,os)};var mr=function(Rr,Or,Hr){var zr=[];Or=Or||this.pdf.internal.pageSize.width,Hr=Hr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Zr=this.posY+this.ctx.prevPageLastElemOffset;switch(Rr.type){default:case"mt":case"lt":zr.push(Math.floor((Rr.y+Zr)/Hr)+1);break;case"arc":zr.push(Math.floor((Rr.y+Zr-Rr.radius)/Hr)+1),zr.push(Math.floor((Rr.y+Zr+Rr.radius)/Hr)+1);break;case"qct":var nn=Fr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Rr.x1,Rr.y1,Rr.x,Rr.y);zr.push(Math.floor((nn.y+Zr)/Hr)+1),zr.push(Math.floor((nn.y+nn.h+Zr)/Hr)+1);break;case"bct":var vn=Wr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Rr.x1,Rr.y1,Rr.x2,Rr.y2,Rr.x,Rr.y);zr.push(Math.floor((vn.y+Zr)/Hr)+1),zr.push(Math.floor((vn.y+vn.h+Zr)/Hr)+1);break;case"rect":zr.push(Math.floor((Rr.y+Zr)/Hr)+1),zr.push(Math.floor((Rr.y+Rr.h+Zr)/Hr)+1)}for(var hn=0;hn<zr.length;hn+=1)for(;this.pdf.internal.getNumberOfPages()<zr[hn];)pr.call(this);return zr},pr=function(){var Rr=this.fillStyle,Or=this.strokeStyle,Hr=this.font,zr=this.lineCap,Zr=this.lineWidth,nn=this.lineJoin;this.pdf.addPage(),this.fillStyle=Rr,this.strokeStyle=Or,this.font=Hr,this.lineCap=zr,this.lineWidth=Zr,this.lineJoin=nn},gr=function(Rr,Or,Hr){for(var zr=0;zr<Rr.length;zr++)switch(Rr[zr].type){case"bct":Rr[zr].x2+=Or,Rr[zr].y2+=Hr;case"qct":Rr[zr].x1+=Or,Rr[zr].y1+=Hr;case"mt":case"lt":case"arc":default:Rr[zr].x+=Or,Rr[zr].y+=Hr}return Rr},xr=function(Rr){return Rr.sort(function(Or,Hr){return Or-Hr})},yr=function(Rr,Or){for(var Hr,zr,Zr=this.fillStyle,nn=this.strokeStyle,vn=this.lineCap,hn=this.lineWidth,En=Math.abs(hn*this.ctx.transform.scaleX),Tn=this.lineJoin,bn=JSON.parse(JSON.stringify(this.path)),Mn=JSON.parse(JSON.stringify(this.path)),Rn=[],Nn=0;Nn<Mn.length;Nn++)if(Mn[Nn].x!==void 0)for(var pn=mr.call(this,Mn[Nn]),Gn=0;Gn<pn.length;Gn+=1)Rn.indexOf(pn[Gn])===-1&&Rn.push(pn[Gn]);for(var os=0;os<Rn.length;os++)for(;this.pdf.internal.getNumberOfPages()<Rn[os];)pr.call(this);if(xr(Rn),this.autoPaging)for(var es=Rn[0],cs=Rn[Rn.length-1],ts=es;ts<cs+1;ts++){this.pdf.setPage(ts),this.fillStyle=Zr,this.strokeStyle=nn,this.lineCap=vn,this.lineWidth=En,this.lineJoin=Tn;var fs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vs=ts===1?this.posY+this.margin[0]:this.margin[0],ws=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ks=ts===1?0:ws+(ts-2)*Rs;if(this.ctx.clip_path.length!==0){var Fs=this.path;Hr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(Hr,this.posX+this.margin[3],-ks+vs+this.ctx.prevPageLastElemOffset),Er.call(this,Rr,!0),this.path=Fs}if(zr=JSON.parse(JSON.stringify(bn)),this.path=gr(zr,this.posX+this.margin[3],-ks+vs+this.ctx.prevPageLastElemOffset),Or===!1||ts===0){var Vs=(ts>es||ts<cs)&&fr.call(this);Vs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fs,Rs,null).clip().discardPath()),Er.call(this,Rr,Or),Vs&&this.pdf.restoreGraphicsState()}this.lineWidth=hn}else this.lineWidth=En,Er.call(this,Rr,Or),this.lineWidth=hn;this.path=bn},Er=function(Rr,Or){if((Rr!=="stroke"||Or||!Ar.call(this))&&(Rr==="stroke"||Or||!hr.call(this))){for(var Hr,zr,Zr=[],nn=this.path,vn=0;vn<nn.length;vn++){var hn=nn[vn];switch(hn.type){case"begin":Zr.push({begin:!0});break;case"close":Zr.push({close:!0});break;case"mt":Zr.push({start:hn,deltas:[],abs:[]});break;case"lt":var En=Zr.length;if(nn[vn-1]&&!isNaN(nn[vn-1].x)&&(Hr=[hn.x-nn[vn-1].x,hn.y-nn[vn-1].y],En>0)){for(;En>=0;En--)if(Zr[En-1].close!==!0&&Zr[En-1].begin!==!0){Zr[En-1].deltas.push(Hr),Zr[En-1].abs.push(hn);break}}break;case"bct":Hr=[hn.x1-nn[vn-1].x,hn.y1-nn[vn-1].y,hn.x2-nn[vn-1].x,hn.y2-nn[vn-1].y,hn.x-nn[vn-1].x,hn.y-nn[vn-1].y],Zr[Zr.length-1].deltas.push(Hr);break;case"qct":var Tn=nn[vn-1].x+2/3*(hn.x1-nn[vn-1].x),bn=nn[vn-1].y+2/3*(hn.y1-nn[vn-1].y),Mn=hn.x+2/3*(hn.x1-hn.x),Rn=hn.y+2/3*(hn.y1-hn.y),Nn=hn.x,pn=hn.y;Hr=[Tn-nn[vn-1].x,bn-nn[vn-1].y,Mn-nn[vn-1].x,Rn-nn[vn-1].y,Nn-nn[vn-1].x,pn-nn[vn-1].y],Zr[Zr.length-1].deltas.push(Hr);break;case"arc":Zr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Zr[Zr.length-1].abs)&&Zr[Zr.length-1].abs.push(hn)}}zr=Or?null:Rr==="stroke"?"stroke":"fill";for(var Gn=!1,os=0;os<Zr.length;os++)if(Zr[os].arc)for(var es=Zr[os].abs,cs=0;cs<es.length;cs++){var ts=es[cs];ts.type==="arc"?jr.call(this,ts.x,ts.y,ts.radius,ts.startAngle,ts.endAngle,ts.counterclockwise,void 0,Or,!Gn):Qr.call(this,ts.x,ts.y),Gn=!0}else if(Zr[os].close===!0)this.pdf.internal.out("h"),Gn=!1;else if(Zr[os].begin!==!0){var fs=Zr[os].start.x,vs=Zr[os].start.y;Yr.call(this,Zr[os].deltas,fs,vs),Gn=!0}zr&&Pr.call(this,zr),Or&&Mr.call(this)}},_r=function(Rr){var Or=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Hr=Or*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Rr-Hr;case"top":return Rr+Or-Hr;case"hanging":return Rr+Or-2*Hr;case"middle":return Rr+Or/2-Hr;case"ideographic":return Rr;case"alphabetic":default:return Rr}},Sr=function(Rr){return Rr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ur.prototype.createLinearGradient=function(){var Rr=function(){};return Rr.colorStops=[],Rr.addColorStop=function(Or,Hr){this.colorStops.push([Or,Hr])},Rr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Rr.isCanvasGradient=!0,Rr},ur.prototype.createPattern=function(){return this.createLinearGradient()},ur.prototype.createRadialGradient=function(){return this.createLinearGradient()};var jr=function(Rr,Or,Hr,zr,Zr,nn,vn,hn,En){for(var Tn=$r.call(this,Hr,zr,Zr,nn),bn=0;bn<Tn.length;bn++){var Mn=Tn[bn];bn===0&&(En?Ir.call(this,Mn.x1+Rr,Mn.y1+Or):Qr.call(this,Mn.x1+Rr,Mn.y1+Or)),Gr.call(this,Rr,Or,Mn.x2,Mn.y2,Mn.x3,Mn.y3,Mn.x4,Mn.y4)}hn?Mr.call(this):Pr.call(this,vn)},Pr=function(Rr){switch(Rr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Mr=function(){this.pdf.clip(),this.pdf.discardPath()},Ir=function(Rr,Or){this.pdf.internal.out(tr(Rr)+" "+rr(Or)+" m")},Lr=function(Rr){var Or;switch(Rr.align){case"right":case"end":Or="right";break;case"center":Or="center";break;case"left":case"start":default:Or="left"}var Hr=this.pdf.getTextDimensions(Rr.text),zr=_r.call(this,Rr.y),Zr=Sr.call(this,zr)-Hr.h,nn=this.ctx.transform.applyToPoint(new ir(Rr.x,zr)),vn=this.ctx.transform.decompose(),hn=new or;hn=(hn=(hn=hn.multiply(vn.translate)).multiply(vn.skew)).multiply(vn.scale);for(var En,Tn,bn,Mn=this.ctx.transform.applyToRectangle(new ar(Rr.x,zr,Hr.w,Hr.h)),Rn=hn.applyToRectangle(new ar(Rr.x,Zr,Hr.w,Hr.h)),Nn=mr.call(this,Rn),pn=[],Gn=0;Gn<Nn.length;Gn+=1)pn.indexOf(Nn[Gn])===-1&&pn.push(Nn[Gn]);if(xr(pn),this.autoPaging)for(var os=pn[0],es=pn[pn.length-1],cs=os;cs<es+1;cs++){this.pdf.setPage(cs);var ts=cs===1?this.posY+this.margin[0]:this.margin[0],fs=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vs=this.pdf.internal.pageSize.height-this.margin[2],ws=vs-this.margin[0],Rs=this.pdf.internal.pageSize.width-this.margin[1],ks=Rs-this.margin[3],Fs=cs===1?0:fs+(cs-2)*ws;if(this.ctx.clip_path.length!==0){var Vs=this.path;En=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gr(En,this.posX+this.margin[3],-1*Fs+ts),Er.call(this,"fill",!0),this.path=Vs}var Ts=gr([JSON.parse(JSON.stringify(Rn))],this.posX+this.margin[3],-Fs+ts+this.ctx.prevPageLastElemOffset)[0];Rr.scale>=.01&&(Tn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Tn*Rr.scale),bn=this.lineWidth,this.lineWidth=bn*Rr.scale);var Ds=this.autoPaging!=="text";if(Ds||Ts.y+Ts.h<=vs){if(Ds||Ts.y>=ts&&Ts.x<=Rs){var ys=Ds?Rr.text:this.pdf.splitTextToSize(Rr.text,Rr.maxWidth||Rs-Ts.x)[0],$o=gr([JSON.parse(JSON.stringify(Mn))],this.posX+this.margin[3],-Fs+ts+this.ctx.prevPageLastElemOffset)[0],Zs=Ds&&(cs>os||cs<es)&&fr.call(this);Zs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ks,ws,null).clip().discardPath()),this.pdf.text(ys,$o.x,$o.y,{angle:Rr.angle,align:Or,renderingMode:Rr.renderingMode}),Zs&&this.pdf.restoreGraphicsState()}}else Ts.y<vs&&(this.ctx.prevPageLastElemOffset+=vs-Ts.y);Rr.scale>=.01&&(this.pdf.setFontSize(Tn),this.lineWidth=bn)}else Rr.scale>=.01&&(Tn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Tn*Rr.scale),bn=this.lineWidth,this.lineWidth=bn*Rr.scale),this.pdf.text(Rr.text,nn.x+this.posX,nn.y+this.posY,{angle:Rr.angle,align:Or,renderingMode:Rr.renderingMode,maxWidth:Rr.maxWidth}),Rr.scale>=.01&&(this.pdf.setFontSize(Tn),this.lineWidth=bn)},Qr=function(Rr,Or,Hr,zr){Hr=Hr||0,zr=zr||0,this.pdf.internal.out(tr(Rr+Hr)+" "+rr(Or+zr)+" l")},Yr=function(Rr,Or,Hr){return this.pdf.lines(Rr,Or,Hr,null,null)},Gr=function(Rr,Or,Hr,zr,Zr,nn,vn,hn){this.pdf.internal.out([St(nr(Hr+Rr)),St(sr(zr+Or)),St(nr(Zr+Rr)),St(sr(nn+Or)),St(nr(vn+Rr)),St(sr(hn+Or)),"c"].join(" "))},$r=function(Rr,Or,Hr,zr){for(var Zr=2*Math.PI,nn=Math.PI/2;Or>Hr;)Or-=Zr;var vn=Math.abs(Hr-Or);vn<Zr&&zr&&(vn=Zr-vn);for(var hn=[],En=zr?-1:1,Tn=Or;vn>1e-5;){var bn=Tn+En*Math.min(vn,nn);hn.push(Vr.call(this,Rr,Tn,bn)),vn-=Math.abs(bn-Tn),Tn=bn}return hn},Vr=function(Rr,Or,Hr){var zr=(Hr-Or)/2,Zr=Rr*Math.cos(zr),nn=Rr*Math.sin(zr),vn=Zr,hn=-nn,En=vn*vn+hn*hn,Tn=En+vn*Zr+hn*nn,bn=4/3*(Math.sqrt(2*En*Tn)-Tn)/(vn*nn-hn*Zr),Mn=vn-bn*hn,Rn=hn+bn*vn,Nn=Mn,pn=-Rn,Gn=zr+Or,os=Math.cos(Gn),es=Math.sin(Gn);return{x1:Rr*Math.cos(Or),y1:Rr*Math.sin(Or),x2:Mn*os-Rn*es,y2:Mn*es+Rn*os,x3:Nn*os-pn*es,y3:Nn*es+pn*os,x4:Rr*Math.cos(Hr),y4:Rr*Math.sin(Hr)}},Tr=function(Rr){return 180*Rr/Math.PI},Fr=function(Rr,Or,Hr,zr,Zr,nn){var vn=Rr+.5*(Hr-Rr),hn=Or+.5*(zr-Or),En=Zr+.5*(Hr-Zr),Tn=nn+.5*(zr-nn),bn=Math.min(Rr,Zr,vn,En),Mn=Math.max(Rr,Zr,vn,En),Rn=Math.min(Or,nn,hn,Tn),Nn=Math.max(Or,nn,hn,Tn);return new ar(bn,Rn,Mn-bn,Nn-Rn)},Wr=function(Rr,Or,Hr,zr,Zr,nn,vn,hn){var En,Tn,bn,Mn,Rn,Nn,pn,Gn,os,es,cs,ts,fs,vs,ws=Hr-Rr,Rs=zr-Or,ks=Zr-Hr,Fs=nn-zr,Vs=vn-Zr,Ts=hn-nn;for(Tn=0;Tn<41;Tn++)os=(pn=(bn=Rr+(En=Tn/40)*ws)+En*((Rn=Hr+En*ks)-bn))+En*(Rn+En*(Zr+En*Vs-Rn)-pn),es=(Gn=(Mn=Or+En*Rs)+En*((Nn=zr+En*Fs)-Mn))+En*(Nn+En*(nn+En*Ts-Nn)-Gn),Tn==0?(cs=os,ts=es,fs=os,vs=es):(cs=Math.min(cs,os),ts=Math.min(ts,es),fs=Math.max(fs,os),vs=Math.max(vs,es));return new ar(Math.round(cs),Math.round(ts),Math.round(fs-cs),Math.round(vs-ts))},qr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Rr,Or,Hr=(Rr=this.ctx.lineDash,Or=this.ctx.lineDashOffset,JSON.stringify({lineDash:Rr,lineDashOffset:Or}));this.prevLineDash!==Hr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Hr)}}})(E$1.API),function(er){var St=function(sr){var ir,ar,or,lr,cr,ur,dr,hr,Ar,fr;for(ar=[],or=0,lr=(sr+=ir="\0\0\0\0".slice(sr.length%4||4)).length;lr>or;or+=4)(cr=(sr.charCodeAt(or)<<24)+(sr.charCodeAt(or+1)<<16)+(sr.charCodeAt(or+2)<<8)+sr.charCodeAt(or+3))!==0?(ur=(cr=((cr=((cr=((cr=(cr-(fr=cr%85))/85)-(Ar=cr%85))/85)-(hr=cr%85))/85)-(dr=cr%85))/85)%85,ar.push(ur+33,dr+33,hr+33,Ar+33,fr+33)):ar.push(122);return function(mr,pr){for(var gr=pr;gr>0;gr--)mr.pop()}(ar,ir.length),String.fromCharCode.apply(String,ar)+"~>"},tr=function(sr){var ir,ar,or,lr,cr,ur=String,dr="length",hr=255,Ar="charCodeAt",fr="slice",mr="replace";for(sr[fr](-2),sr=sr[fr](0,-2)[mr](/\s/g,"")[mr]("z","!!!!!"),or=[],lr=0,cr=(sr+=ir="uuuuu"[fr](sr[dr]%5||5))[dr];cr>lr;lr+=5)ar=52200625*(sr[Ar](lr)-33)+614125*(sr[Ar](lr+1)-33)+7225*(sr[Ar](lr+2)-33)+85*(sr[Ar](lr+3)-33)+(sr[Ar](lr+4)-33),or.push(hr&ar>>24,hr&ar>>16,hr&ar>>8,hr&ar);return function(pr,gr){for(var xr=gr;xr>0;xr--)pr.pop()}(or,ir[dr]),ur.fromCharCode.apply(ur,or)},rr=function(sr){var ir=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((sr=sr.replace(/\s/g,"")).indexOf(">")!==-1&&(sr=sr.substr(0,sr.indexOf(">"))),sr.length%2&&(sr+="0"),ir.test(sr)===!1)return"";for(var ar="",or=0;or<sr.length;or+=2)ar+=String.fromCharCode("0x"+(sr[or]+sr[or+1]));return ar},nr=function(sr){for(var ir=new Uint8Array(sr.length),ar=sr.length;ar--;)ir[ar]=sr.charCodeAt(ar);return sr=(ir=zlibSync(ir)).reduce(function(or,lr){return or+String.fromCharCode(lr)},"")};er.processDataByFilters=function(sr,ir){var ar=0,or=sr||"",lr=[];for(typeof(ir=ir||[])=="string"&&(ir=[ir]),ar=0;ar<ir.length;ar+=1)switch(ir[ar]){case"ASCII85Decode":case"/ASCII85Decode":or=tr(or),lr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":or=St(or),lr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":or=rr(or),lr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":or=or.split("").map(function(cr){return("0"+cr.charCodeAt().toString(16)).slice(-2)}).join("")+">",lr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":or=nr(or),lr.push("/FlateDecode");break;default:throw new Error('The filter: "'+ir[ar]+'" is not implemented')}return{data:or,reverseChain:lr.reverse().join(" ")}}}(E$1.API),function(er){er.loadFile=function(St,tr,rr){return function(nr,sr,ir){sr=sr!==!1,ir=typeof ir=="function"?ir:function(){};var ar=void 0;try{ar=function(or,lr,cr){var ur=new XMLHttpRequest,dr=0,hr=function(Ar){var fr=Ar.length,mr=[],pr=String.fromCharCode;for(dr=0;dr<fr;dr+=1)mr.push(pr(255&Ar.charCodeAt(dr)));return mr.join("")};if(ur.open("GET",or,!lr),ur.overrideMimeType("text/plain; charset=x-user-defined"),lr===!1&&(ur.onload=function(){ur.status===200?cr(hr(this.responseText)):cr(void 0)}),ur.send(null),lr&&ur.status===200)return hr(ur.responseText)}(nr,sr,ir)}catch{}return ar}(St,tr,rr)},er.loadImageFile=er.loadFile}(E$1.API),function(er){function St(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>Promise.resolve().then(()=>html2canvas_esm),[])).catch(function(ir){return Promise.reject(new Error("Could not load html2canvas: "+ir))}).then(function(ir){return ir.default?ir.default:ir})}function tr(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(ir){return Promise.reject(new Error("Could not load dompurify: "+ir))}).then(function(ir){return ir.default?ir.default:ir})}var rr=function(ir){var ar=_typeof(ir);return ar==="undefined"?"undefined":ar==="string"||ir instanceof String?"string":ar==="number"||ir instanceof Number?"number":ar==="function"||ir instanceof Function?"function":ir&&ir.constructor===Array?"array":ir&&ir.nodeType===1?"element":ar==="object"?"object":"unknown"},nr=function(ir,ar){var or=document.createElement(ir);for(var lr in ar.className&&(or.className=ar.className),ar.innerHTML&&ar.dompurify&&(or.innerHTML=ar.dompurify.sanitize(ar.innerHTML)),ar.style)or.style[lr]=ar.style[lr];return or},sr=function ir(ar){var or=Object.assign(ir.convert(Promise.resolve()),JSON.parse(JSON.stringify(ir.template))),lr=ir.convert(Promise.resolve(),or);return lr=(lr=lr.setProgress(1,ir,1,[ir])).set(ar)};(sr.prototype=Object.create(Promise.prototype)).constructor=sr,sr.convert=function(ir,ar){return ir.__proto__=ar||sr.prototype,ir},sr.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},sr.prototype.from=function(ir,ar){return this.then(function(){switch(ar=ar||function(or){switch(rr(or)){case"string":return"string";case"element":return or.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(ir)){case"string":return this.then(tr).then(function(or){return this.set({src:nr("div",{innerHTML:ir,dompurify:or})})});case"element":return this.set({src:ir});case"canvas":return this.set({canvas:ir});case"img":return this.set({img:ir});default:return this.error("Unknown source type.")}})},sr.prototype.to=function(ir){switch(ir){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},sr.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ir={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ar=function or(lr,cr){for(var ur=lr.nodeType===3?document.createTextNode(lr.nodeValue):lr.cloneNode(!1),dr=lr.firstChild;dr;dr=dr.nextSibling)cr!==!0&&dr.nodeType===1&&dr.nodeName==="SCRIPT"||ur.appendChild(or(dr,cr));return lr.nodeType===1&&(lr.nodeName==="CANVAS"?(ur.width=lr.width,ur.height=lr.height,ur.getContext("2d").drawImage(lr,0,0)):lr.nodeName!=="TEXTAREA"&&lr.nodeName!=="SELECT"||(ur.value=lr.value),ur.addEventListener("load",function(){ur.scrollTop=lr.scrollTop,ur.scrollLeft=lr.scrollLeft},!0)),ur}(this.prop.src,this.opt.html2canvas.javascriptEnabled);ar.tagName==="BODY"&&(ir.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nr("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nr("div",{className:"html2pdf__container",style:ir}),this.prop.container.appendChild(ar),this.prop.container.firstChild.appendChild(nr("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},sr.prototype.toCanvas=function(){var ir=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ir).then(St).then(function(ar){var or=Object.assign({},this.opt.html2canvas);return delete or.onrendered,ar(this.prop.container,or)}).then(function(ar){(this.opt.html2canvas.onrendered||function(){})(ar),this.prop.canvas=ar,document.body.removeChild(this.prop.overlay)})},sr.prototype.toContext2d=function(){var ir=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ir).then(St).then(function(ar){var or=this.opt.jsPDF,lr=this.opt.fontFaces,cr=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ur=Object.assign({async:!0,allowTaint:!0,scale:cr,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ur.onrendered,or.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,or.context2d.posX=this.opt.x,or.context2d.posY=this.opt.y,or.context2d.margin=this.opt.margin,or.context2d.fontFaces=lr,lr)for(var dr=0;dr<lr.length;++dr){var hr=lr[dr],Ar=hr.src.find(function(fr){return fr.format==="truetype"});Ar&&or.addFont(Ar.url,hr.ref.name,hr.ref.style)}return ur.windowHeight=ur.windowHeight||0,ur.windowHeight=ur.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ur.windowHeight,or.context2d.save(!0),ar(this.prop.container,ur)}).then(function(ar){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ar),this.prop.canvas=ar,document.body.removeChild(this.prop.overlay)})},sr.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ir=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ir})},sr.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},sr.prototype.output=function(ir,ar,or){return(or=or||"pdf").toLowerCase()==="img"||or.toLowerCase()==="image"?this.outputImg(ir,ar):this.outputPdf(ir,ar)},sr.prototype.outputPdf=function(ir,ar){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ir,ar)})},sr.prototype.outputImg=function(ir){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ir){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ir+'" is not supported.'}})},sr.prototype.save=function(ir){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ir?{filename:ir}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},sr.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},sr.prototype.set=function(ir){if(rr(ir)!=="object")return this;var ar=Object.keys(ir||{}).map(function(or){if(or in sr.template.prop)return function(){this.prop[or]=ir[or]};switch(or){case"margin":return this.setMargin.bind(this,ir.margin);case"jsPDF":return function(){return this.opt.jsPDF=ir.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ir.pageSize);default:return function(){this.opt[or]=ir[or]}}},this);return this.then(function(){return this.thenList(ar)})},sr.prototype.get=function(ir,ar){return this.then(function(){var or=ir in sr.template.prop?this.prop[ir]:this.opt[ir];return ar?ar(or):or})},sr.prototype.setMargin=function(ir){return this.then(function(){switch(rr(ir)){case"number":ir=[ir,ir,ir,ir];case"array":if(ir.length===2&&(ir=[ir[0],ir[1],ir[0],ir[1]]),ir.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ir}).then(this.setPageSize)},sr.prototype.setPageSize=function(ir){function ar(or,lr){return Math.floor(or*lr/72*96)}return this.then(function(){(ir=ir||E$1.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ir.inner={width:ir.width-this.opt.margin[1]-this.opt.margin[3],height:ir.height-this.opt.margin[0]-this.opt.margin[2]},ir.inner.px={width:ar(ir.inner.width,ir.k),height:ar(ir.inner.height,ir.k)},ir.inner.ratio=ir.inner.height/ir.inner.width),this.prop.pageSize=ir})},sr.prototype.setProgress=function(ir,ar,or,lr){return ir!=null&&(this.progress.val=ir),ar!=null&&(this.progress.state=ar),or!=null&&(this.progress.n=or),lr!=null&&(this.progress.stack=lr),this.progress.ratio=this.progress.val/this.progress.state,this},sr.prototype.updateProgress=function(ir,ar,or,lr){return this.setProgress(ir?this.progress.val+ir:null,ar||null,or?this.progress.n+or:null,lr?this.progress.stack.concat(lr):null)},sr.prototype.then=function(ir,ar){var or=this;return this.thenCore(ir,ar,function(lr,cr){return or.updateProgress(null,null,1,[lr]),Promise.prototype.then.call(this,function(ur){return or.updateProgress(null,lr),ur}).then(lr,cr).then(function(ur){return or.updateProgress(1),ur})})},sr.prototype.thenCore=function(ir,ar,or){or=or||Promise.prototype.then,ir&&(ir=ir.bind(this)),ar&&(ar=ar.bind(this));var lr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:sr.convert(Object.assign({},this),Promise.prototype),cr=or.call(lr,ir,ar);return sr.convert(cr,this.__proto__)},sr.prototype.thenExternal=function(ir,ar){return Promise.prototype.then.call(this,ir,ar)},sr.prototype.thenList=function(ir){var ar=this;return ir.forEach(function(or){ar=ar.thenCore(or)}),ar},sr.prototype.catch=function(ir){ir&&(ir=ir.bind(this));var ar=Promise.prototype.catch.call(this,ir);return sr.convert(ar,this)},sr.prototype.catchExternal=function(ir){return Promise.prototype.catch.call(this,ir)},sr.prototype.error=function(ir){return this.then(function(){throw new Error(ir)})},sr.prototype.using=sr.prototype.set,sr.prototype.saveAs=sr.prototype.save,sr.prototype.export=sr.prototype.output,sr.prototype.run=sr.prototype.then,E$1.getPageSize=function(ir,ar,or){if(_typeof(ir)==="object"){var lr=ir;ir=lr.orientation,ar=lr.unit||ar,or=lr.format||or}ar=ar||"mm",or=or||"a4",ir=(""+(ir||"P")).toLowerCase();var cr,ur=(""+or).toLowerCase(),dr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ar){case"pt":cr=1;break;case"mm":cr=72/25.4;break;case"cm":cr=72/2.54;break;case"in":cr=72;break;case"px":cr=.75;break;case"pc":case"em":cr=12;break;case"ex":cr=6;break;default:throw"Invalid unit: "+ar}var hr,Ar=0,fr=0;if(dr.hasOwnProperty(ur))Ar=dr[ur][1]/cr,fr=dr[ur][0]/cr;else try{Ar=or[1],fr=or[0]}catch{throw new Error("Invalid format: "+or)}if(ir==="p"||ir==="portrait")ir="p",fr>Ar&&(hr=fr,fr=Ar,Ar=hr);else{if(ir!=="l"&&ir!=="landscape")throw"Invalid orientation: "+ir;ir="l",Ar>fr&&(hr=fr,fr=Ar,Ar=hr)}return{width:fr,height:Ar,unit:ar,k:cr,orientation:ir}},er.html=function(ir,ar){(ar=ar||{}).callback=ar.callback||function(){},ar.html2canvas=ar.html2canvas||{},ar.html2canvas.canvas=ar.html2canvas.canvas||this.canvas,ar.jsPDF=ar.jsPDF||this,ar.fontFaces=ar.fontFaces?ar.fontFaces.map(jt):null;var or=new sr(ar);return ar.worker?or:or.from(ir).doCallback()}}(E$1.API),E$1.API.addJS=function(er){return Ht=er,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(er){var St;er.events.push(["postPutResources",function(){var tr=this,rr=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var nr=tr.outline.render().split(/\r\n/),sr=0;sr<nr.length;sr++){var ir=nr[sr],ar=rr.exec(ir);if(ar!=null){var or=ar[1];tr.internal.newObjectDeferredBegin(or,!1)}tr.internal.write(ir)}if(this.outline.createNamedDestinations){var lr=this.internal.pages.length,cr=[];for(sr=0;sr<lr;sr++){var ur=tr.internal.newObject();cr.push(ur);var dr=tr.internal.getPageInfo(sr+1);tr.internal.write("<< /D["+dr.objId+" 0 R /XYZ null null null]>> endobj")}var hr=tr.internal.newObject();for(tr.internal.write("<< /Names [ "),sr=0;sr<cr.length;sr++)tr.internal.write("(page_"+(sr+1)+")"+cr[sr]+" 0 R");tr.internal.write(" ] >>","endobj"),St=tr.internal.newObject(),tr.internal.write("<< /Dests "+hr+" 0 R"),tr.internal.write(">>","endobj")}}]),er.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+St+" 0 R"))}]),er.events.push(["initialized",function(){var tr=this;tr.outline={createNamedDestinations:!1,root:{children:[]}},tr.outline.add=function(rr,nr,sr){var ir={title:nr,options:sr,children:[]};return rr==null&&(rr=this.root),rr.children.push(ir),ir},tr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=tr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},tr.outline.genIds_r=function(rr){rr.id=tr.internal.newObjectDeferred();for(var nr=0;nr<rr.children.length;nr++)this.genIds_r(rr.children[nr])},tr.outline.renderRoot=function(rr){this.objStart(rr),this.line("/Type /Outlines"),rr.children.length>0&&(this.line("/First "+this.makeRef(rr.children[0])),this.line("/Last "+this.makeRef(rr.children[rr.children.length-1]))),this.line("/Count "+this.count_r({count:0},rr)),this.objEnd()},tr.outline.renderItems=function(rr){for(var nr=this.ctx.pdf.internal.getVerticalCoordinateString,sr=0;sr<rr.children.length;sr++){var ir=rr.children[sr];this.objStart(ir),this.line("/Title "+this.makeString(ir.title)),this.line("/Parent "+this.makeRef(rr)),sr>0&&this.line("/Prev "+this.makeRef(rr.children[sr-1])),sr<rr.children.length-1&&this.line("/Next "+this.makeRef(rr.children[sr+1])),ir.children.length>0&&(this.line("/First "+this.makeRef(ir.children[0])),this.line("/Last "+this.makeRef(ir.children[ir.children.length-1])));var ar=this.count=this.count_r({count:0},ir);if(ar>0&&this.line("/Count "+ar),ir.options&&ir.options.pageNumber){var or=tr.internal.getPageInfo(ir.options.pageNumber);this.line("/Dest ["+or.objId+" 0 R /XYZ 0 "+nr(0)+" 0]")}this.objEnd()}for(var lr=0;lr<rr.children.length;lr++)this.renderItems(rr.children[lr])},tr.outline.line=function(rr){this.ctx.val+=rr+`\r
`},tr.outline.makeRef=function(rr){return rr.id+" 0 R"},tr.outline.makeString=function(rr){return"("+tr.internal.pdfEscape(rr)+")"},tr.outline.objStart=function(rr){this.ctx.val+=`\r
`+rr.id+` 0 obj\r
<<\r
`},tr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},tr.outline.count_r=function(rr,nr){for(var sr=0;sr<nr.children.length;sr++)rr.count++,this.count_r(rr,nr.children[sr]);return rr.count}}])}(E$1.API),function(er){var St=[192,193,194,195,196,197,198,199];er.processJPEG=function(tr,rr,nr,sr,ir,ar){var or,lr=this.decode.DCT_DECODE,cr=null;if(typeof tr=="string"||this.__addimage__.isArrayBuffer(tr)||this.__addimage__.isArrayBufferView(tr)){switch(tr=ir||tr,tr=this.__addimage__.isArrayBuffer(tr)?new Uint8Array(tr):tr,(or=function(ur){for(var dr,hr=256*ur.charCodeAt(4)+ur.charCodeAt(5),Ar=ur.length,fr={width:0,height:0,numcomponents:1},mr=4;mr<Ar;mr+=2){if(mr+=hr,St.indexOf(ur.charCodeAt(mr+1))!==-1){dr=256*ur.charCodeAt(mr+5)+ur.charCodeAt(mr+6),fr={width:256*ur.charCodeAt(mr+7)+ur.charCodeAt(mr+8),height:dr,numcomponents:ur.charCodeAt(mr+9)};break}hr=256*ur.charCodeAt(mr+2)+ur.charCodeAt(mr+3)}return fr}(tr=this.__addimage__.isArrayBufferView(tr)?this.__addimage__.arrayBufferToBinaryString(tr):tr)).numcomponents){case 1:ar=this.color_spaces.DEVICE_GRAY;break;case 4:ar=this.color_spaces.DEVICE_CMYK;break;case 3:ar=this.color_spaces.DEVICE_RGB}cr={data:tr,width:or.width,height:or.height,colorSpace:ar,bitsPerComponent:8,filter:lr,index:rr,alias:nr}}return cr}}(E$1.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var er,St,tr;function rr(sr){var ir,ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr;for(this.data=sr,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ur=null;;){switch(ir=this.readUInt32(),Ar=(function(){var yr,Er;for(Er=[],yr=0;yr<4;++yr)Er.push(String.fromCharCode(this.data[this.pos++]));return Er}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(ir);break;case"fcTL":ur&&this.animation.frames.push(ur),this.pos+=4,ur={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},cr=this.readUInt16(),lr=this.readUInt16()||100,ur.delay=1e3*cr/lr,ur.disposeOp=this.data[this.pos++],ur.blendOp=this.data[this.pos++],ur.data=[];break;case"IDAT":case"fdAT":for(Ar==="fdAT"&&(this.pos+=4,ir-=4),sr=(ur!=null?ur.data:void 0)||this.imgData,pr=0;0<=ir?pr<ir:pr>ir;0<=ir?++pr:--pr)sr.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(or=this.palette.length/3,this.transparency.indexed=this.read(ir),this.transparency.indexed.length>or)throw new Error("More transparent colors than palette size");if((fr=or-this.transparency.indexed.length)>0)for(gr=0;0<=fr?gr<fr:gr>fr;0<=fr?++gr:--gr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(ir)[0];break;case 2:this.transparency.rgb=this.read(ir)}break;case"tEXt":dr=(mr=this.read(ir)).indexOf(0),hr=String.fromCharCode.apply(String,mr.slice(0,dr)),this.text[hr]=String.fromCharCode.apply(String,mr.slice(dr+1));break;case"IEND":return ur&&this.animation.frames.push(ur),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(xr=this.colorType)===4||xr===6,ar=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*ar,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=ir}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}rr.prototype.read=function(sr){var ir,ar;for(ar=[],ir=0;0<=sr?ir<sr:ir>sr;0<=sr?++ir:--ir)ar.push(this.data[this.pos++]);return ar},rr.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.decodePixels=function(sr){var ir=this.pixelBitlength/8,ar=new Uint8Array(this.width*this.height*ir),or=0,lr=this;if(sr==null&&(sr=this.imgData),sr.length===0)return new Uint8Array(0);function cr(ur,dr,hr,Ar){var fr,mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr,Gr,$r,Vr,Tr,Fr,Wr=Math.ceil((lr.width-ur)/hr),qr=Math.ceil((lr.height-dr)/Ar),Rr=lr.width==Wr&&lr.height==qr;for(Lr=ir*Wr,Mr=Rr?ar:new Uint8Array(Lr*qr),yr=sr.length,Ir=0,mr=0;Ir<qr&&or<yr;){switch(sr[or++]){case 0:for(gr=Gr=0;Gr<Lr;gr=Gr+=1)Mr[mr++]=sr[or++];break;case 1:for(gr=$r=0;$r<Lr;gr=$r+=1)fr=sr[or++],xr=gr<ir?0:Mr[mr-ir],Mr[mr++]=(fr+xr)%256;break;case 2:for(gr=Vr=0;Vr<Lr;gr=Vr+=1)fr=sr[or++],pr=(gr-gr%ir)/ir,Qr=Ir&&Mr[(Ir-1)*Lr+pr*ir+gr%ir],Mr[mr++]=(Qr+fr)%256;break;case 3:for(gr=Tr=0;Tr<Lr;gr=Tr+=1)fr=sr[or++],pr=(gr-gr%ir)/ir,xr=gr<ir?0:Mr[mr-ir],Qr=Ir&&Mr[(Ir-1)*Lr+pr*ir+gr%ir],Mr[mr++]=(fr+Math.floor((xr+Qr)/2))%256;break;case 4:for(gr=Fr=0;Fr<Lr;gr=Fr+=1)fr=sr[or++],pr=(gr-gr%ir)/ir,xr=gr<ir?0:Mr[mr-ir],Ir===0?Qr=Yr=0:(Qr=Mr[(Ir-1)*Lr+pr*ir+gr%ir],Yr=pr&&Mr[(Ir-1)*Lr+(pr-1)*ir+gr%ir]),Er=xr+Qr-Yr,_r=Math.abs(Er-xr),jr=Math.abs(Er-Qr),Pr=Math.abs(Er-Yr),Sr=_r<=jr&&_r<=Pr?xr:jr<=Pr?Qr:Yr,Mr[mr++]=(fr+Sr)%256;break;default:throw new Error("Invalid filter algorithm: "+sr[or-1])}if(!Rr){var Or=((dr+Ir*Ar)*lr.width+ur)*ir,Hr=Ir*Lr;for(gr=0;gr<Wr;gr+=1){for(var zr=0;zr<ir;zr+=1)ar[Or++]=Mr[Hr++];Or+=(hr-1)*ir}}Ir++}}return sr=unzlibSync(sr),lr.interlaceMethod==1?(cr(0,0,8,8),cr(4,0,8,8),cr(0,4,4,8),cr(2,0,4,4),cr(0,2,2,4),cr(1,0,2,2),cr(0,1,1,2)):cr(0,0,1,1),ar},rr.prototype.decodePalette=function(){var sr,ir,ar,or,lr,cr,ur,dr,hr;for(ar=this.palette,cr=this.transparency.indexed||[],lr=new Uint8Array((cr.length||0)+ar.length),or=0,sr=0,ir=ur=0,dr=ar.length;ur<dr;ir=ur+=3)lr[or++]=ar[ir],lr[or++]=ar[ir+1],lr[or++]=ar[ir+2],lr[or++]=(hr=cr[sr++])!=null?hr:255;return lr},rr.prototype.copyToImageData=function(sr,ir){var ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr;if(or=this.colors,fr=null,ar=this.hasAlphaChannel,this.palette.length&&(fr=(pr=this._decodedPalette)!=null?pr:this._decodedPalette=this.decodePalette(),or=4,ar=!0),Ar=(lr=sr.data||sr).length,ur=fr||ir,cr=dr=0,or===1)for(;cr<Ar;)hr=fr?4*ir[cr/4]:dr,mr=ur[hr++],lr[cr++]=mr,lr[cr++]=mr,lr[cr++]=mr,lr[cr++]=ar?ur[hr++]:255,dr=hr;else for(;cr<Ar;)hr=fr?4*ir[cr/4]:dr,lr[cr++]=ur[hr++],lr[cr++]=ur[hr++],lr[cr++]=ur[hr++],lr[cr++]=ar?ur[hr++]:255,dr=hr},rr.prototype.decode=function(){var sr;return sr=new Uint8Array(this.width*this.height*4),this.copyToImageData(sr,this.decodePixels()),sr};var nr=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{St=n.document.createElement("canvas"),tr=St.getContext("2d")}catch{return!1}return!0}return!1};return nr(),er=function(sr){var ir;if(nr()===!0)return tr.width=sr.width,tr.height=sr.height,tr.clearRect(0,0,sr.width,sr.height),tr.putImageData(sr,0,0),(ir=new Image).src=St.toDataURL(),ir;throw new Error("This method requires a Browser with Canvas-capability.")},rr.prototype.decodeFrames=function(sr){var ir,ar,or,lr,cr,ur,dr,hr;if(this.animation){for(hr=[],ar=cr=0,ur=(dr=this.animation.frames).length;cr<ur;ar=++cr)ir=dr[ar],or=sr.createImageData(ir.width,ir.height),lr=this.decodePixels(new Uint8Array(ir.data)),this.copyToImageData(or,lr),ir.imageData=or,hr.push(ir.image=er(or));return hr}},rr.prototype.renderFrame=function(sr,ir){var ar,or,lr;return ar=(or=this.animation.frames)[ir],lr=or[ir-1],ir===0&&sr.clearRect(0,0,this.width,this.height),(lr!=null?lr.disposeOp:void 0)===1?sr.clearRect(lr.xOffset,lr.yOffset,lr.width,lr.height):(lr!=null?lr.disposeOp:void 0)===2&&sr.putImageData(lr.imageData,lr.xOffset,lr.yOffset),ar.blendOp===0&&sr.clearRect(ar.xOffset,ar.yOffset,ar.width,ar.height),sr.drawImage(ar.image,ar.xOffset,ar.yOffset)},rr.prototype.animate=function(sr){var ir,ar,or,lr,cr,ur,dr=this;return ar=0,ur=this.animation,lr=ur.numFrames,or=ur.frames,cr=ur.numPlays,(ir=function(){var hr,Ar;if(hr=ar++%lr,Ar=or[hr],dr.renderFrame(sr,hr),lr>1&&ar/lr<cr)return dr.animation._timeout=setTimeout(ir,Ar.delay)})()},rr.prototype.stopAnimation=function(){var sr;return clearTimeout((sr=this.animation)!=null?sr._timeout:void 0)},rr.prototype.render=function(sr){var ir,ar;return sr._png&&sr._png.stopAnimation(),sr._png=this,sr.width=this.width,sr.height=this.height,ir=sr.getContext("2d"),this.animation?(this.decodeFrames(ir),this.animate(ir)):(ar=ir.createImageData(this.width,this.height),this.copyToImageData(ar,this.decodePixels()),ir.putImageData(ar,0,0))},rr}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(er){var St=0;if(er[St++]!==71||er[St++]!==73||er[St++]!==70||er[St++]!==56||(er[St++]+1&253)!=56||er[St++]!==97)throw new Error("Invalid GIF 87a/89a header.");var tr=er[St++]|er[St++]<<8,rr=er[St++]|er[St++]<<8,nr=er[St++],sr=nr>>7,ir=1<<(7&nr)+1;er[St++],er[St++];var ar=null,or=null;sr&&(ar=St,or=ir,St+=3*ir);var lr=!0,cr=[],ur=0,dr=null,hr=0,Ar=null;for(this.width=tr,this.height=rr;lr&&St<er.length;)switch(er[St++]){case 33:switch(er[St++]){case 255:if(er[St]!==11||er[St+1]==78&&er[St+2]==69&&er[St+3]==84&&er[St+4]==83&&er[St+5]==67&&er[St+6]==65&&er[St+7]==80&&er[St+8]==69&&er[St+9]==50&&er[St+10]==46&&er[St+11]==48&&er[St+12]==3&&er[St+13]==1&&er[St+16]==0)St+=14,Ar=er[St++]|er[St++]<<8,St++;else for(St+=12;;){if(!((Ir=er[St++])>=0))throw Error("Invalid block size");if(Ir===0)break;St+=Ir}break;case 249:if(er[St++]!==4||er[St+4]!==0)throw new Error("Invalid graphics extension block.");var fr=er[St++];ur=er[St++]|er[St++]<<8,dr=er[St++],!(1&fr)&&(dr=null),hr=fr>>2&7,St++;break;case 254:for(;;){if(!((Ir=er[St++])>=0))throw Error("Invalid block size");if(Ir===0)break;St+=Ir}break;default:throw new Error("Unknown graphic control label: 0x"+er[St-1].toString(16))}break;case 44:var mr=er[St++]|er[St++]<<8,pr=er[St++]|er[St++]<<8,gr=er[St++]|er[St++]<<8,xr=er[St++]|er[St++]<<8,yr=er[St++],Er=yr>>6&1,_r=1<<(7&yr)+1,Sr=ar,jr=or,Pr=!1;yr>>7&&(Pr=!0,Sr=St,jr=_r,St+=3*_r);var Mr=St;for(St++;;){var Ir;if(!((Ir=er[St++])>=0))throw Error("Invalid block size");if(Ir===0)break;St+=Ir}cr.push({x:mr,y:pr,width:gr,height:xr,has_local_palette:Pr,palette_offset:Sr,palette_size:jr,data_offset:Mr,data_length:St-Mr,transparent_index:dr,interlaced:!!Er,delay:ur,disposal:hr});break;case 59:lr=!1;break;default:throw new Error("Unknown gif block: 0x"+er[St-1].toString(16))}this.numFrames=function(){return cr.length},this.loopCount=function(){return Ar},this.frameInfo=function(Lr){if(Lr<0||Lr>=cr.length)throw new Error("Frame index out of range.");return cr[Lr]},this.decodeAndBlitFrameBGRA=function(Lr,Qr){var Yr=this.frameInfo(Lr),Gr=Yr.width*Yr.height,$r=new Uint8Array(Gr);$t(er,Yr.data_offset,$r,Gr);var Vr=Yr.palette_offset,Tr=Yr.transparent_index;Tr===null&&(Tr=256);var Fr=Yr.width,Wr=tr-Fr,qr=Fr,Rr=4*(Yr.y*tr+Yr.x),Or=4*((Yr.y+Yr.height)*tr+Yr.x),Hr=Rr,zr=4*Wr;Yr.interlaced===!0&&(zr+=4*tr*7);for(var Zr=8,nn=0,vn=$r.length;nn<vn;++nn){var hn=$r[nn];if(qr===0&&(qr=Fr,(Hr+=zr)>=Or&&(zr=4*Wr+4*tr*(Zr-1),Hr=Rr+(Fr+Wr)*(Zr<<1),Zr>>=1)),hn===Tr)Hr+=4;else{var En=er[Vr+3*hn],Tn=er[Vr+3*hn+1],bn=er[Vr+3*hn+2];Qr[Hr++]=bn,Qr[Hr++]=Tn,Qr[Hr++]=En,Qr[Hr++]=255}--qr}},this.decodeAndBlitFrameRGBA=function(Lr,Qr){var Yr=this.frameInfo(Lr),Gr=Yr.width*Yr.height,$r=new Uint8Array(Gr);$t(er,Yr.data_offset,$r,Gr);var Vr=Yr.palette_offset,Tr=Yr.transparent_index;Tr===null&&(Tr=256);var Fr=Yr.width,Wr=tr-Fr,qr=Fr,Rr=4*(Yr.y*tr+Yr.x),Or=4*((Yr.y+Yr.height)*tr+Yr.x),Hr=Rr,zr=4*Wr;Yr.interlaced===!0&&(zr+=4*tr*7);for(var Zr=8,nn=0,vn=$r.length;nn<vn;++nn){var hn=$r[nn];if(qr===0&&(qr=Fr,(Hr+=zr)>=Or&&(zr=4*Wr+4*tr*(Zr-1),Hr=Rr+(Fr+Wr)*(Zr<<1),Zr>>=1)),hn===Tr)Hr+=4;else{var En=er[Vr+3*hn],Tn=er[Vr+3*hn+1],bn=er[Vr+3*hn+2];Qr[Hr++]=En,Qr[Hr++]=Tn,Qr[Hr++]=bn,Qr[Hr++]=255}--qr}}}function $t(er,St,tr,rr){for(var nr=er[St++],sr=1<<nr,ir=sr+1,ar=ir+1,or=nr+1,lr=(1<<or)-1,cr=0,ur=0,dr=0,hr=er[St++],Ar=new Int32Array(4096),fr=null;;){for(;cr<16&&hr!==0;)ur|=er[St++]<<cr,cr+=8,hr===1?hr=er[St++]:--hr;if(cr<or)break;var mr=ur&lr;if(ur>>=or,cr-=or,mr!==sr){if(mr===ir)break;for(var pr=mr<ar?mr:fr,gr=0,xr=pr;xr>sr;)xr=Ar[xr]>>8,++gr;var yr=xr;if(dr+gr+(pr!==mr?1:0)>rr)return void a$1.log("Warning, gif stream longer than expected.");tr[dr++]=yr;var Er=dr+=gr;for(pr!==mr&&(tr[dr++]=yr),xr=pr;gr--;)xr=Ar[xr],tr[--Er]=255&xr,xr>>=8;fr!==null&&ar<4096&&(Ar[ar++]=fr<<8|yr,ar>=lr+1&&or<12&&(++or,lr=lr<<1|1)),fr=mr}else ar=ir+1,lr=(1<<(or=nr+1))-1,fr=null}return dr!==rr&&a$1.log("Warning, gif stream shorter than expected."),tr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(er){var St,tr,rr,nr,sr,ir=Math.floor,ar=new Array(64),or=new Array(64),lr=new Array(64),cr=new Array(64),ur=new Array(65535),dr=new Array(65535),hr=new Array(64),Ar=new Array(64),fr=[],mr=0,pr=7,gr=new Array(64),xr=new Array(64),yr=new Array(64),Er=new Array(256),_r=new Array(2048),Sr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],jr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Pr=[0,1,2,3,4,5,6,7,8,9,10,11],Mr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ir=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Lr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Qr=[0,1,2,3,4,5,6,7,8,9,10,11],Yr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Gr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $r(Rr,Or){for(var Hr=0,zr=0,Zr=new Array,nn=1;nn<=16;nn++){for(var vn=1;vn<=Rr[nn];vn++)Zr[Or[zr]]=[],Zr[Or[zr]][0]=Hr,Zr[Or[zr]][1]=nn,zr++,Hr++;Hr*=2}return Zr}function Vr(Rr){for(var Or=Rr[0],Hr=Rr[1]-1;Hr>=0;)Or&1<<Hr&&(mr|=1<<pr),Hr--,--pr<0&&(mr==255?(Tr(255),Tr(0)):Tr(mr),pr=7,mr=0)}function Tr(Rr){fr.push(Rr)}function Fr(Rr){Tr(Rr>>8&255),Tr(255&Rr)}function Wr(Rr,Or,Hr,zr,Zr){for(var nn,vn=Zr[0],hn=Zr[240],En=function(es,cs){var ts,fs,vs,ws,Rs,ks,Fs,Vs,Ts,Ds,ys=0;for(Ts=0;Ts<8;++Ts){ts=es[ys],fs=es[ys+1],vs=es[ys+2],ws=es[ys+3],Rs=es[ys+4],ks=es[ys+5],Fs=es[ys+6];var $o=ts+(Vs=es[ys+7]),Zs=ts-Vs,io=fs+Fs,xa=fs-Fs,oo=vs+ks,El=vs-ks,eo=ws+Rs,zs=ws-Rs,Qs=$o+eo,Ys=$o-eo,Uo=io+oo,Ms=io-oo;es[ys]=Qs+Uo,es[ys+4]=Qs-Uo;var Bs=.707106781*(Ms+Ys);es[ys+2]=Ys+Bs,es[ys+6]=Ys-Bs;var qs=.382683433*((Qs=zs+El)-(Ms=xa+Zs)),to=.5411961*Qs+qs,Os=1.306562965*Ms+qs,fu=.707106781*(Uo=El+xa),tu=Zs+fu,Ws=Zs-fu;es[ys+5]=Ws+to,es[ys+3]=Ws-to,es[ys+1]=tu+Os,es[ys+7]=tu-Os,ys+=8}for(ys=0,Ts=0;Ts<8;++Ts){ts=es[ys],fs=es[ys+8],vs=es[ys+16],ws=es[ys+24],Rs=es[ys+32],ks=es[ys+40],Fs=es[ys+48];var wl=ts+(Vs=es[ys+56]),_l=ts-Vs,Al=fs+Fs,zo=fs-Fs,Vo=vs+ks,un=vs-ks,Sn=ws+Rs,xn=ws-Rs,yn=wl+Sn,_n=wl-Sn,Cn=Al+Vo,Ln=Al-Vo;es[ys]=yn+Cn,es[ys+32]=yn-Cn;var Yn=.707106781*(Ln+_n);es[ys+16]=_n+Yn,es[ys+48]=_n-Yn;var $n=.382683433*((yn=xn+un)-(Ln=zo+_l)),Qn=.5411961*yn+$n,Wn=1.306562965*Ln+$n,hs=.707106781*(Cn=un+zo),gs=_l+hs,bs=_l-hs;es[ys+40]=bs+Qn,es[ys+24]=bs-Qn,es[ys+8]=gs+Wn,es[ys+56]=gs-Wn,ys++}for(Ts=0;Ts<64;++Ts)Ds=es[Ts]*cs[Ts],hr[Ts]=Ds>0?Ds+.5|0:Ds-.5|0;return hr}(Rr,Or),Tn=0;Tn<64;++Tn)Ar[Sr[Tn]]=En[Tn];var bn=Ar[0]-Hr;Hr=Ar[0],bn==0?Vr(zr[0]):(Vr(zr[dr[nn=32767+bn]]),Vr(ur[nn]));for(var Mn=63;Mn>0&&Ar[Mn]==0;)Mn--;if(Mn==0)return Vr(vn),Hr;for(var Rn,Nn=1;Nn<=Mn;){for(var pn=Nn;Ar[Nn]==0&&Nn<=Mn;)++Nn;var Gn=Nn-pn;if(Gn>=16){Rn=Gn>>4;for(var os=1;os<=Rn;++os)Vr(hn);Gn&=15}nn=32767+Ar[Nn],Vr(Zr[(Gn<<4)+dr[nn]]),Vr(ur[nn]),Nn++}return Mn!=63&&Vr(vn),Hr}function qr(Rr){Rr=Math.min(Math.max(Rr,1),100),sr!=Rr&&(function(Or){for(var Hr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],zr=0;zr<64;zr++){var Zr=ir((Hr[zr]*Or+50)/100);Zr=Math.min(Math.max(Zr,1),255),ar[Sr[zr]]=Zr}for(var nn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],vn=0;vn<64;vn++){var hn=ir((nn[vn]*Or+50)/100);hn=Math.min(Math.max(hn,1),255),or[Sr[vn]]=hn}for(var En=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Tn=0,bn=0;bn<8;bn++)for(var Mn=0;Mn<8;Mn++)lr[Tn]=1/(ar[Sr[Tn]]*En[bn]*En[Mn]*8),cr[Tn]=1/(or[Sr[Tn]]*En[bn]*En[Mn]*8),Tn++}(Rr<50?Math.floor(5e3/Rr):Math.floor(200-2*Rr)),sr=Rr)}this.encode=function(Rr,Or){Or&&qr(Or),fr=new Array,mr=0,pr=7,Fr(65496),Fr(65504),Fr(16),Tr(74),Tr(70),Tr(73),Tr(70),Tr(0),Tr(1),Tr(1),Tr(0),Fr(1),Fr(1),Tr(0),Tr(0),function(){Fr(65499),Fr(132),Tr(0);for(var fs=0;fs<64;fs++)Tr(ar[fs]);Tr(1);for(var vs=0;vs<64;vs++)Tr(or[vs])}(),function(fs,vs){Fr(65472),Fr(17),Tr(8),Fr(vs),Fr(fs),Tr(3),Tr(1),Tr(17),Tr(0),Tr(2),Tr(17),Tr(1),Tr(3),Tr(17),Tr(1)}(Rr.width,Rr.height),function(){Fr(65476),Fr(418),Tr(0);for(var fs=0;fs<16;fs++)Tr(jr[fs+1]);for(var vs=0;vs<=11;vs++)Tr(Pr[vs]);Tr(16);for(var ws=0;ws<16;ws++)Tr(Mr[ws+1]);for(var Rs=0;Rs<=161;Rs++)Tr(Ir[Rs]);Tr(1);for(var ks=0;ks<16;ks++)Tr(Lr[ks+1]);for(var Fs=0;Fs<=11;Fs++)Tr(Qr[Fs]);Tr(17);for(var Vs=0;Vs<16;Vs++)Tr(Yr[Vs+1]);for(var Ts=0;Ts<=161;Ts++)Tr(Gr[Ts])}(),Fr(65498),Fr(12),Tr(3),Tr(1),Tr(0),Tr(2),Tr(17),Tr(3),Tr(17),Tr(0),Tr(63),Tr(0);var Hr=0,zr=0,Zr=0;mr=0,pr=7,this.encode.displayName="_encode_";for(var nn,vn,hn,En,Tn,bn,Mn,Rn,Nn,pn=Rr.data,Gn=Rr.width,os=Rr.height,es=4*Gn,cs=0;cs<os;){for(nn=0;nn<es;){for(Tn=es*cs+nn,Mn=-1,Rn=0,Nn=0;Nn<64;Nn++)bn=Tn+(Rn=Nn>>3)*es+(Mn=4*(7&Nn)),cs+Rn>=os&&(bn-=es*(cs+1+Rn-os)),nn+Mn>=es&&(bn-=nn+Mn-es+4),vn=pn[bn++],hn=pn[bn++],En=pn[bn++],gr[Nn]=(_r[vn]+_r[hn+256>>0]+_r[En+512>>0]>>16)-128,xr[Nn]=(_r[vn+768>>0]+_r[hn+1024>>0]+_r[En+1280>>0]>>16)-128,yr[Nn]=(_r[vn+1280>>0]+_r[hn+1536>>0]+_r[En+1792>>0]>>16)-128;Hr=Wr(gr,lr,Hr,St,rr),zr=Wr(xr,cr,zr,tr,nr),Zr=Wr(yr,cr,Zr,tr,nr),nn+=32}cs+=8}if(pr>=0){var ts=[];ts[1]=pr+1,ts[0]=(1<<pr+1)-1,Vr(ts)}return Fr(65497),new Uint8Array(fr)},er=er||50,function(){for(var Rr=String.fromCharCode,Or=0;Or<256;Or++)Er[Or]=Rr(Or)}(),St=$r(jr,Pr),tr=$r(Lr,Qr),rr=$r(Mr,Ir),nr=$r(Yr,Gr),function(){for(var Rr=1,Or=2,Hr=1;Hr<=15;Hr++){for(var zr=Rr;zr<Or;zr++)dr[32767+zr]=Hr,ur[32767+zr]=[],ur[32767+zr][1]=Hr,ur[32767+zr][0]=zr;for(var Zr=-(Or-1);Zr<=-Rr;Zr++)dr[32767+Zr]=Hr,ur[32767+Zr]=[],ur[32767+Zr][1]=Hr,ur[32767+Zr][0]=Or-1+Zr;Rr<<=1,Or<<=1}}(),function(){for(var Rr=0;Rr<256;Rr++)_r[Rr]=19595*Rr,_r[Rr+256>>0]=38470*Rr,_r[Rr+512>>0]=7471*Rr+32768,_r[Rr+768>>0]=-11059*Rr,_r[Rr+1024>>0]=-21709*Rr,_r[Rr+1280>>0]=32768*Rr+8421375,_r[Rr+1536>>0]=-27439*Rr,_r[Rr+1792>>0]=-5329*Rr}(),qr(er)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(er,St){if(this.pos=0,this.buffer=er,this.datav=new DataView(er.buffer),this.is_with_alpha=!!St,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(er){function St(jr){if(!jr)throw Error("assert :P")}function tr(jr,Pr,Mr){for(var Ir=0;4>Ir;Ir++)if(jr[Pr+Ir]!=Mr.charCodeAt(Ir))return!0;return!1}function rr(jr,Pr,Mr,Ir,Lr){for(var Qr=0;Qr<Lr;Qr++)jr[Pr+Qr]=Mr[Ir+Qr]}function nr(jr,Pr,Mr,Ir){for(var Lr=0;Lr<Ir;Lr++)jr[Pr+Lr]=Mr}function sr(jr){return new Int32Array(jr)}function ir(jr,Pr){for(var Mr=[],Ir=0;Ir<jr;Ir++)Mr.push(new Pr);return Mr}function ar(jr,Pr){var Mr=[];return function Ir(Lr,Qr,Yr){for(var Gr=Yr[Qr],$r=0;$r<Gr&&(Lr.push(Yr.length>Qr+1?[]:new Pr),!(Yr.length<Qr+1));$r++)Ir(Lr[$r],Qr+1,Yr)}(Mr,0,jr),Mr}var or=function(){var jr=this;function Pr(Cr,Nr){for(var Ur=1<<Nr-1>>>0;Cr&Ur;)Ur>>>=1;return Ur?(Cr&Ur-1)+Ur:Cr}function Mr(Cr,Nr,Ur,Xr,en){St(!(Xr%Ur));do Cr[Nr+(Xr-=Ur)]=en;while(0<Xr)}function Ir(Cr,Nr,Ur,Xr,en){if(St(2328>=en),512>=en)var on=sr(512);else if((on=sr(en))==null)return 0;return function(dn,fn,mn,wn,Fn,zn){var qn,Un,ss=fn,Xn=1<<mn,In=sr(16),On=sr(16);for(St(Fn!=0),St(wn!=null),St(dn!=null),St(0<mn),Un=0;Un<Fn;++Un){if(15<wn[Un])return 0;++In[wn[Un]]}if(In[0]==Fn)return 0;for(On[1]=0,qn=1;15>qn;++qn){if(In[qn]>1<<qn)return 0;On[qn+1]=On[qn]+In[qn]}for(Un=0;Un<Fn;++Un)qn=wn[Un],0<wn[Un]&&(zn[On[qn]++]=Un);if(On[15]==1)return(wn=new Lr).g=0,wn.value=zn[0],Mr(dn,ss,1,Xn,wn),Xn;var rs,us=-1,ns=Xn-1,Ss=0,Es=1,Us=1,xs=1<<mn;for(Un=0,qn=1,Fn=2;qn<=mn;++qn,Fn<<=1){if(Es+=Us<<=1,0>(Us-=In[qn]))return 0;for(;0<In[qn];--In[qn])(wn=new Lr).g=qn,wn.value=zn[Un++],Mr(dn,ss+Ss,Fn,xs,wn),Ss=Pr(Ss,qn)}for(qn=mn+1,Fn=2;15>=qn;++qn,Fn<<=1){if(Es+=Us<<=1,0>(Us-=In[qn]))return 0;for(;0<In[qn];--In[qn]){if(wn=new Lr,(Ss&ns)!=us){for(ss+=xs,rs=1<<(us=qn)-mn;15>us&&!(0>=(rs-=In[us]));)++us,rs<<=1;Xn+=xs=1<<(rs=us-mn),dn[fn+(us=Ss&ns)].g=rs+mn,dn[fn+us].value=ss-fn-us}wn.g=qn-mn,wn.value=zn[Un++],Mr(dn,ss+(Ss>>mn),Fn,xs,wn),Ss=Pr(Ss,qn)}}return Es!=2*On[15]-1?0:Xn}(Cr,Nr,Ur,Xr,en,on)}function Lr(){this.value=this.g=0}function Qr(){this.value=this.g=0}function Yr(){this.G=ir(5,Lr),this.H=sr(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ir(lu,Qr)}function Gr(Cr,Nr,Ur,Xr){St(Cr!=null),St(Nr!=null),St(2147483648>Xr),Cr.Ca=254,Cr.I=0,Cr.b=-8,Cr.Ka=0,Cr.oa=Nr,Cr.pa=Ur,Cr.Jd=Nr,Cr.Yc=Ur+Xr,Cr.Zc=4<=Xr?Ur+Xr-4+1:Ur,nn(Cr)}function $r(Cr,Nr){for(var Ur=0;0<Nr--;)Ur|=hn(Cr,128)<<Nr;return Ur}function Vr(Cr,Nr){var Ur=$r(Cr,Nr);return vn(Cr)?-Ur:Ur}function Tr(Cr,Nr,Ur,Xr){var en,on=0;for(St(Cr!=null),St(Nr!=null),St(4294967288>Xr),Cr.Sb=Xr,Cr.Ra=0,Cr.u=0,Cr.h=0,4<Xr&&(Xr=4),en=0;en<Xr;++en)on+=Nr[Ur+en]<<8*en;Cr.Ra=on,Cr.bb=Xr,Cr.oa=Nr,Cr.pa=Ur}function Fr(Cr){for(;8<=Cr.u&&Cr.bb<Cr.Sb;)Cr.Ra>>>=8,Cr.Ra+=Cr.oa[Cr.pa+Cr.bb]<<o0-8>>>0,++Cr.bb,Cr.u-=8;Hr(Cr)&&(Cr.h=1,Cr.u=0)}function Wr(Cr,Nr){if(St(0<=Nr),!Cr.h&&Nr<=a0){var Ur=Or(Cr)&PA[Nr];return Cr.u+=Nr,Fr(Cr),Ur}return Cr.h=1,Cr.u=0}function qr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Rr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Or(Cr){return Cr.Ra>>>(Cr.u&o0-1)>>>0}function Hr(Cr){return St(Cr.bb<=Cr.Sb),Cr.h||Cr.bb==Cr.Sb&&Cr.u>o0}function zr(Cr,Nr){Cr.u=Nr,Cr.h=Hr(Cr)}function Zr(Cr){Cr.u>=Vm&&(St(Cr.u>=Vm),Fr(Cr))}function nn(Cr){St(Cr!=null&&Cr.oa!=null),Cr.pa<Cr.Zc?(Cr.I=(Cr.oa[Cr.pa++]|Cr.I<<8)>>>0,Cr.b+=8):(St(Cr!=null&&Cr.oa!=null),Cr.pa<Cr.Yc?(Cr.b+=8,Cr.I=Cr.oa[Cr.pa++]|Cr.I<<8):Cr.Ka?Cr.b=0:(Cr.I<<=8,Cr.b+=8,Cr.Ka=1))}function vn(Cr){return $r(Cr,1)}function hn(Cr,Nr){var Ur=Cr.Ca;0>Cr.b&&nn(Cr);var Xr=Cr.b,en=Ur*Nr>>>8,on=(Cr.I>>>Xr>en)+0;for(on?(Ur-=en,Cr.I-=en+1<<Xr>>>0):Ur=en+1,Xr=Ur,en=0;256<=Xr;)en+=8,Xr>>=8;return Xr=7^en+_u[Xr],Cr.b-=Xr,Cr.Ca=(Ur<<Xr)-1,on}function En(Cr,Nr,Ur){Cr[Nr+0]=Ur>>24&255,Cr[Nr+1]=Ur>>16&255,Cr[Nr+2]=Ur>>8&255,Cr[Nr+3]=Ur>>0&255}function Tn(Cr,Nr){return Cr[Nr+0]<<0|Cr[Nr+1]<<8}function bn(Cr,Nr){return Tn(Cr,Nr)|Cr[Nr+2]<<16}function Mn(Cr,Nr){return Tn(Cr,Nr)|Tn(Cr,Nr+2)<<16}function Rn(Cr,Nr){var Ur=1<<Nr;return St(Cr!=null),St(0<Nr),Cr.X=sr(Ur),Cr.X==null?0:(Cr.Mb=32-Nr,Cr.Xa=Nr,1)}function Nn(Cr,Nr){St(Cr!=null),St(Nr!=null),St(Cr.Xa==Nr.Xa),rr(Nr.X,0,Cr.X,0,1<<Nr.Xa)}function pn(){this.X=[],this.Xa=this.Mb=0}function Gn(Cr,Nr,Ur,Xr){St(Ur!=null),St(Xr!=null);var en=Ur[0],on=Xr[0];return en==0&&(en=(Cr*on+Nr/2)/Nr),on==0&&(on=(Nr*en+Cr/2)/Cr),0>=en||0>=on?0:(Ur[0]=en,Xr[0]=on,1)}function os(Cr,Nr){return Cr+(1<<Nr)-1>>>Nr}function es(Cr,Nr){return((4278255360&Cr)+(4278255360&Nr)>>>0&4278255360)+((16711935&Cr)+(16711935&Nr)>>>0&16711935)>>>0}function cs(Cr,Nr){jr[Nr]=function(Ur,Xr,en,on,dn,fn,mn){var wn;for(wn=0;wn<dn;++wn){var Fn=jr[Cr](fn[mn+wn-1],en,on+wn);fn[mn+wn]=es(Ur[Xr+wn],Fn)}}}function ts(){this.ud=this.hd=this.jd=0}function fs(Cr,Nr){return((4278124286&(Cr^Nr))>>>1)+(Cr&Nr)>>>0}function vs(Cr){return 0<=Cr&&256>Cr?Cr:0>Cr?0:255<Cr?255:void 0}function ws(Cr,Nr){return vs(Cr+(Cr-Nr+.5>>1))}function Rs(Cr,Nr,Ur){return Math.abs(Nr-Ur)-Math.abs(Cr-Ur)}function ks(Cr,Nr,Ur,Xr,en,on,dn){for(Xr=on[dn-1],Ur=0;Ur<en;++Ur)on[dn+Ur]=Xr=es(Cr[Nr+Ur],Xr)}function Fs(Cr,Nr,Ur,Xr,en){var on;for(on=0;on<Ur;++on){var dn=Cr[Nr+on],fn=dn>>8&255,mn=16711935&(mn=(mn=16711935&dn)+((fn<<16)+fn));Xr[en+on]=(4278255360&dn)+mn>>>0}}function Vs(Cr,Nr){Nr.jd=Cr>>0&255,Nr.hd=Cr>>8&255,Nr.ud=Cr>>16&255}function Ts(Cr,Nr,Ur,Xr,en,on){var dn;for(dn=0;dn<Xr;++dn){var fn=Nr[Ur+dn],mn=fn>>>8,wn=fn,Fn=255&(Fn=(Fn=fn>>>16)+((Cr.jd<<24>>24)*(mn<<24>>24)>>>5));wn=255&(wn=(wn=wn+((Cr.hd<<24>>24)*(mn<<24>>24)>>>5))+((Cr.ud<<24>>24)*(Fn<<24>>24)>>>5)),en[on+dn]=(4278255360&fn)+(Fn<<16)+wn}}function Ds(Cr,Nr,Ur,Xr,en){jr[Nr]=function(on,dn,fn,mn,wn,Fn,zn,qn,Un){for(mn=zn;mn<qn;++mn)for(zn=0;zn<Un;++zn)wn[Fn++]=en(fn[Xr(on[dn++])])},jr[Cr]=function(on,dn,fn,mn,wn,Fn,zn){var qn=8>>on.b,Un=on.Ea,ss=on.K[0],Xn=on.w;if(8>qn)for(on=(1<<on.b)-1,Xn=(1<<qn)-1;dn<fn;++dn){var In,On=0;for(In=0;In<Un;++In)In&on||(On=Xr(mn[wn++])),Fn[zn++]=en(ss[On&Xn]),On>>=qn}else jr["VP8LMapColor"+Ur](mn,wn,ss,Xn,Fn,zn,dn,fn,Un)}}function ys(Cr,Nr,Ur,Xr,en){for(Ur=Nr+Ur;Nr<Ur;){var on=Cr[Nr++];Xr[en++]=on>>16&255,Xr[en++]=on>>8&255,Xr[en++]=on>>0&255}}function $o(Cr,Nr,Ur,Xr,en){for(Ur=Nr+Ur;Nr<Ur;){var on=Cr[Nr++];Xr[en++]=on>>16&255,Xr[en++]=on>>8&255,Xr[en++]=on>>0&255,Xr[en++]=on>>24&255}}function Zs(Cr,Nr,Ur,Xr,en){for(Ur=Nr+Ur;Nr<Ur;){var on=(dn=Cr[Nr++])>>16&240|dn>>12&15,dn=dn>>0&240|dn>>28&15;Xr[en++]=on,Xr[en++]=dn}}function io(Cr,Nr,Ur,Xr,en){for(Ur=Nr+Ur;Nr<Ur;){var on=(dn=Cr[Nr++])>>16&248|dn>>13&7,dn=dn>>5&224|dn>>3&31;Xr[en++]=on,Xr[en++]=dn}}function xa(Cr,Nr,Ur,Xr,en){for(Ur=Nr+Ur;Nr<Ur;){var on=Cr[Nr++];Xr[en++]=on>>0&255,Xr[en++]=on>>8&255,Xr[en++]=on>>16&255}}function oo(Cr,Nr,Ur,Xr,en,on){if(on==0)for(Ur=Nr+Ur;Nr<Ur;)En(Xr,((on=Cr[Nr++])[0]>>24|on[1]>>8&65280|on[2]<<8&16711680|on[3]<<24)>>>0),en+=32;else rr(Xr,en,Cr,Nr,Ur)}function El(Cr,Nr){jr[Nr][0]=jr[Cr+"0"],jr[Nr][1]=jr[Cr+"1"],jr[Nr][2]=jr[Cr+"2"],jr[Nr][3]=jr[Cr+"3"],jr[Nr][4]=jr[Cr+"4"],jr[Nr][5]=jr[Cr+"5"],jr[Nr][6]=jr[Cr+"6"],jr[Nr][7]=jr[Cr+"7"],jr[Nr][8]=jr[Cr+"8"],jr[Nr][9]=jr[Cr+"9"],jr[Nr][10]=jr[Cr+"10"],jr[Nr][11]=jr[Cr+"11"],jr[Nr][12]=jr[Cr+"12"],jr[Nr][13]=jr[Cr+"13"],jr[Nr][14]=jr[Cr+"0"],jr[Nr][15]=jr[Cr+"0"]}function eo(Cr){return Cr==u0||Cr==d0||Cr==h0||Cr==ew}function zs(){this.eb=[],this.size=this.A=this.fb=0}function Qs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ys(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zs,this.f.kb=new Qs,this.sd=null}function Uo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ms(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bs(Cr){return alert("todo:WebPSamplerProcessPlane"),Cr.T}function qs(Cr,Nr){var Ur=Cr.T,Xr=Nr.ba.f.RGBA,en=Xr.eb,on=Xr.fb+Cr.ka*Xr.A,dn=Xu[Nr.ba.S],fn=Cr.y,mn=Cr.O,wn=Cr.f,Fn=Cr.N,zn=Cr.ea,qn=Cr.W,Un=Nr.cc,ss=Nr.dc,Xn=Nr.Mc,In=Nr.Nc,On=Cr.ka,rs=Cr.ka+Cr.T,us=Cr.U,ns=us+1>>1;for(On==0?dn(fn,mn,null,null,wn,Fn,zn,qn,wn,Fn,zn,qn,en,on,null,null,us):(dn(Nr.ec,Nr.fc,fn,mn,Un,ss,Xn,In,wn,Fn,zn,qn,en,on-Xr.A,en,on,us),++Ur);On+2<rs;On+=2)Un=wn,ss=Fn,Xn=zn,In=qn,Fn+=Cr.Rc,qn+=Cr.Rc,on+=2*Xr.A,dn(fn,(mn+=2*Cr.fa)-Cr.fa,fn,mn,Un,ss,Xn,In,wn,Fn,zn,qn,en,on-Xr.A,en,on,us);return mn+=Cr.fa,Cr.j+rs<Cr.o?(rr(Nr.ec,Nr.fc,fn,mn,us),rr(Nr.cc,Nr.dc,wn,Fn,ns),rr(Nr.Mc,Nr.Nc,zn,qn,ns),Ur--):1&rs||dn(fn,mn,null,null,wn,Fn,zn,qn,wn,Fn,zn,qn,en,on+Xr.A,null,null,us),Ur}function to(Cr,Nr,Ur){var Xr=Cr.F,en=[Cr.J];if(Xr!=null){var on=Cr.U,dn=Nr.ba.S,fn=dn==f1||dn==h0;Nr=Nr.ba.f.RGBA;var mn=[0],wn=Cr.ka;mn[0]=Cr.T,Cr.Kb&&(wn==0?--mn[0]:(--wn,en[0]-=Cr.width),Cr.j+Cr.ka+Cr.T==Cr.o&&(mn[0]=Cr.o-Cr.j-wn));var Fn=Nr.eb;wn=Nr.fb+wn*Nr.A,Cr=Qo(Xr,en[0],Cr.width,on,mn,Fn,wn+(fn?0:3),Nr.A),St(Ur==mn),Cr&&eo(dn)&&Yu(Fn,wn,fn,on,mn,Nr.A)}return 0}function Os(Cr){var Nr=Cr.ma,Ur=Nr.ba.S,Xr=11>Ur,en=Ur==fm||Ur==zm||Ur==f1||Ur==ZE||Ur==12||eo(Ur);if(Nr.memory=null,Nr.Ib=null,Nr.Jb=null,Nr.Nd=null,!vv(Nr.Oa,Cr,en?11:12))return 0;if(en&&eo(Ur)&&ds(),Cr.da)alert("todo:use_scaling");else{if(Xr){if(Nr.Ib=Bs,Cr.Kb){if(Ur=Cr.U+1>>1,Nr.memory=sr(Cr.U+2*Ur),Nr.memory==null)return 0;Nr.ec=Nr.memory,Nr.fc=0,Nr.cc=Nr.ec,Nr.dc=Nr.fc+Cr.U,Nr.Mc=Nr.cc,Nr.Nc=Nr.dc+Ur,Nr.Ib=qs,ds()}}else alert("todo:EmitYUV");en&&(Nr.Jb=to,Xr&&Vn())}if(Xr&&!lS){for(Cr=0;256>Cr;++Cr)z2[Cr]=89858*(Cr-128)+fp>>p1,Y2[Cr]=-22014*(Cr-128)+fp,q2[Cr]=-45773*(Cr-128),Lp[Cr]=113618*(Cr-128)+fp>>p1;for(Cr=Rv;Cr<nw;++Cr)Nr=76283*(Cr-16)+fp>>p1,X2[Cr-Rv]=qo(Nr,255),J2[Cr-Rv]=qo(Nr+8>>4,15);lS=1}return 1}function fu(Cr){var Nr=Cr.ma,Ur=Cr.U,Xr=Cr.T;return St(!(1&Cr.ka)),0>=Ur||0>=Xr?0:(Ur=Nr.Ib(Cr,Nr),Nr.Jb!=null&&Nr.Jb(Cr,Nr,Ur),Nr.Dc+=Ur,1)}function tu(Cr){Cr.ma.memory=null}function Ws(Cr,Nr,Ur,Xr){return Wr(Cr,8)!=47?0:(Nr[0]=Wr(Cr,14)+1,Ur[0]=Wr(Cr,14)+1,Xr[0]=Wr(Cr,1),Wr(Cr,3)!=0?0:!Cr.h)}function wl(Cr,Nr){if(4>Cr)return Cr+1;var Ur=Cr-2>>1;return(2+(1&Cr)<<Ur)+Wr(Nr,Ur)+1}function _l(Cr,Nr){return 120<Nr?Nr-120:1<=(Ur=((Ur=U2[Nr-1])>>4)*Cr+(8-(15&Ur)))?Ur:1;var Ur}function Al(Cr,Nr,Ur){var Xr=Or(Ur),en=Cr[Nr+=255&Xr].g-8;return 0<en&&(zr(Ur,Ur.u+8),Xr=Or(Ur),Nr+=Cr[Nr].value,Nr+=Xr&(1<<en)-1),zr(Ur,Ur.u+Cr[Nr].g),Cr[Nr].value}function zo(Cr,Nr,Ur){return Ur.g+=Cr.g,Ur.value+=Cr.value<<Nr>>>0,St(8>=Ur.g),Cr.g}function Vo(Cr,Nr,Ur){var Xr=Cr.xc;return St((Nr=Xr==0?0:Cr.vc[Cr.md*(Ur>>Xr)+(Nr>>Xr)])<Cr.Wb),Cr.Ya[Nr]}function un(Cr,Nr,Ur,Xr){var en=Cr.ab,on=Cr.c*Nr,dn=Cr.C;Nr=dn+Nr;var fn=Ur,mn=Xr;for(Xr=Cr.Ta,Ur=Cr.Ua;0<en--;){var wn=Cr.gc[en],Fn=dn,zn=Nr,qn=fn,Un=mn,ss=(mn=Xr,fn=Ur,wn.Ea);switch(St(Fn<zn),St(zn<=wn.nc),wn.hc){case 2:h1(qn,Un,(zn-Fn)*ss,mn,fn);break;case 0:var Xn=Fn,In=zn,On=mn,rs=fn,us=(xs=wn).Ea;Xn==0&&(dp(qn,Un,null,null,1,On,rs),ks(qn,Un+1,0,0,us-1,On,rs+1),Un+=us,rs+=us,++Xn);for(var ns=1<<xs.b,Ss=ns-1,Es=os(us,xs.b),Us=xs.K,xs=xs.w+(Xn>>xs.b)*Es;Xn<In;){var _o=Us,No=xs,vo=1;for(dm(qn,Un,On,rs-us,1,On,rs);vo<us;){var lo=(vo&~Ss)+ns;lo>us&&(lo=us),(0,Np[_o[No++]>>8&15])(qn,Un+ +vo,On,rs+vo-us,lo-vo,On,rs+vo),vo=lo}Un+=us,rs+=us,++Xn&Ss||(xs+=Es)}zn!=wn.nc&&rr(mn,fn-ss,mn,fn+(zn-Fn-1)*ss,ss);break;case 1:for(ss=qn,In=Un,us=(qn=wn.Ea)-(rs=qn&~(On=(Un=1<<wn.b)-1)),Xn=os(qn,wn.b),ns=wn.K,wn=wn.w+(Fn>>wn.b)*Xn;Fn<zn;){for(Ss=ns,Es=wn,Us=new ts,xs=In+rs,_o=In+qn;In<xs;)Vs(Ss[Es++],Us),Qm(Us,ss,In,Un,mn,fn),In+=Un,fn+=Un;In<_o&&(Vs(Ss[Es++],Us),Qm(Us,ss,In,us,mn,fn),In+=us,fn+=us),++Fn&On||(wn+=Xn)}break;case 3:if(qn==mn&&Un==fn&&0<wn.b){for(In=mn,qn=ss=fn+(zn-Fn)*ss-(rs=(zn-Fn)*os(wn.Ea,wn.b)),Un=mn,On=fn,Xn=[],rs=(us=rs)-1;0<=rs;--rs)Xn[rs]=Un[On+rs];for(rs=us-1;0<=rs;--rs)In[qn+rs]=Xn[rs];hA(wn,Fn,zn,mn,ss,mn,fn)}else hA(wn,Fn,zn,qn,Un,mn,fn)}fn=Xr,mn=Ur}mn!=Ur&&rr(Xr,Ur,fn,mn,on)}function Sn(Cr,Nr){var Ur=Cr.V,Xr=Cr.Ba+Cr.c*Cr.C,en=Nr-Cr.C;if(St(Nr<=Cr.l.o),St(16>=en),0<en){var on=Cr.l,dn=Cr.Ta,fn=Cr.Ua,mn=on.width;if(un(Cr,en,Ur,Xr),en=fn=[fn],St((Ur=Cr.C)<(Xr=Nr)),St(on.v<on.va),Xr>on.o&&(Xr=on.o),Ur<on.j){var wn=on.j-Ur;Ur=on.j,en[0]+=wn*mn}if(Ur>=Xr?Ur=0:(en[0]+=4*on.v,on.ka=Ur-on.j,on.U=on.va-on.v,on.T=Xr-Ur,Ur=1),Ur){if(fn=fn[0],11>(Ur=Cr.ca).S){var Fn=Ur.f.RGBA,zn=(Xr=Ur.S,en=on.U,on=on.T,wn=Fn.eb,Fn.A),qn=on;for(Fn=Fn.fb+Cr.Ma*Fn.A;0<qn--;){var Un=dn,ss=fn,Xn=en,In=wn,On=Fn;switch(Xr){case bv:Ou(Un,ss,Xn,In,On);break;case fm:Su(Un,ss,Xn,In,On);break;case u0:Su(Un,ss,Xn,In,On),Yu(In,On,0,Xn,1,0);break;case Am:Du(Un,ss,Xn,In,On);break;case zm:oo(Un,ss,Xn,In,On,1);break;case d0:oo(Un,ss,Xn,In,On,1),Yu(In,On,0,Xn,1,0);break;case f1:oo(Un,ss,Xn,In,On,0);break;case h0:oo(Un,ss,Xn,In,On,0),Yu(In,On,1,Xn,1,0);break;case ZE:hm(Un,ss,Xn,In,On);break;case ew:hm(Un,ss,Xn,In,On),ko(In,On,Xn,1,0);break;case nS:Bp(Un,ss,Xn,In,On);break;default:St(0)}fn+=mn,Fn+=zn}Cr.Ma+=on}else alert("todo:EmitRescaledRowsYUVA");St(Cr.Ma<=Ur.height)}}Cr.C=Nr,St(Cr.C<=Cr.i)}function xn(Cr){var Nr;if(0<Cr.ua)return 0;for(Nr=0;Nr<Cr.Wb;++Nr){var Ur=Cr.Ya[Nr].G,Xr=Cr.Ya[Nr].H;if(0<Ur[1][Xr[1]+0].g||0<Ur[2][Xr[2]+0].g||0<Ur[3][Xr[3]+0].g)return 0}return 1}function yn(Cr,Nr,Ur,Xr,en,on){if(Cr.Z!=0){var dn=Cr.qd,fn=Cr.rd;for(St(mA[Cr.Z]!=null);Nr<Ur;++Nr)mA[Cr.Z](dn,fn,Xr,en,Xr,en,on),dn=Xr,fn=en,en+=on;Cr.qd=dn,Cr.rd=fn}}function _n(Cr,Nr){var Ur=Cr.l.ma,Xr=Ur.Z==0||Ur.Z==1?Cr.l.j:Cr.C;if(Xr=Cr.C<Xr?Xr:Cr.C,St(Nr<=Cr.l.o),Nr>Xr){var en=Cr.l.width,on=Ur.ca,dn=Ur.tb+en*Xr,fn=Cr.V,mn=Cr.Ba+Cr.c*Xr,wn=Cr.gc;St(Cr.ab==1),St(wn[0].hc==3),Pp(wn[0],Xr,Nr,fn,mn,on,dn),yn(Ur,Xr,Nr,on,dn,en)}Cr.C=Cr.Ma=Nr}function Cn(Cr,Nr,Ur,Xr,en,on,dn){var fn=Cr.$/Xr,mn=Cr.$%Xr,wn=Cr.m,Fn=Cr.s,zn=Ur+Cr.$,qn=zn;en=Ur+Xr*en;var Un=Ur+Xr*on,ss=280+Fn.ua,Xn=Cr.Pb?fn:16777216,In=0<Fn.ua?Fn.Wa:null,On=Fn.wc,rs=zn<Un?Vo(Fn,mn,fn):null;St(Cr.C<on),St(Un<=en);var us=!1;e:for(;;){for(;us||zn<Un;){var ns=0;if(fn>=Xn){var Ss=zn-Ur;St((Xn=Cr).Pb),Xn.wd=Xn.m,Xn.xd=Ss,0<Xn.s.ua&&Nn(Xn.s.Wa,Xn.s.vb),Xn=fn+aS}if(mn&On||(rs=Vo(Fn,mn,fn)),St(rs!=null),rs.Qb&&(Nr[zn]=rs.qb,us=!0),!us)if(Zr(wn),rs.jc){ns=wn,Ss=Nr;var Es=zn,Us=rs.pd[Or(ns)&lu-1];St(rs.jc),256>Us.g?(zr(ns,ns.u+Us.g),Ss[Es]=Us.value,ns=0):(zr(ns,ns.u+Us.g-256),St(256<=Us.value),ns=Us.value),ns==0&&(us=!0)}else ns=Al(rs.G[0],rs.H[0],wn);if(wn.h)break;if(us||256>ns){if(!us)if(rs.nd)Nr[zn]=(rs.qb|ns<<8)>>>0;else{if(Zr(wn),us=Al(rs.G[1],rs.H[1],wn),Zr(wn),Ss=Al(rs.G[2],rs.H[2],wn),Es=Al(rs.G[3],rs.H[3],wn),wn.h)break;Nr[zn]=(Es<<24|us<<16|ns<<8|Ss)>>>0}if(us=!1,++zn,++mn>=Xr&&(mn=0,++fn,dn!=null&&fn<=on&&!(fn%16)&&dn(Cr,fn),In!=null))for(;qn<zn;)ns=Nr[qn++],In.X[(506832829*ns&4294967295)>>>In.Mb]=ns}else if(280>ns){if(ns=wl(ns-256,wn),Ss=Al(rs.G[4],rs.H[4],wn),Zr(wn),Ss=_l(Xr,Ss=wl(Ss,wn)),wn.h)break;if(zn-Ur<Ss||en-zn<ns)break e;for(Es=0;Es<ns;++Es)Nr[zn+Es]=Nr[zn+Es-Ss];for(zn+=ns,mn+=ns;mn>=Xr;)mn-=Xr,++fn,dn!=null&&fn<=on&&!(fn%16)&&dn(Cr,fn);if(St(zn<=en),mn&On&&(rs=Vo(Fn,mn,fn)),In!=null)for(;qn<zn;)ns=Nr[qn++],In.X[(506832829*ns&4294967295)>>>In.Mb]=ns}else{if(!(ns<ss))break e;for(us=ns-280,St(In!=null);qn<zn;)ns=Nr[qn++],In.X[(506832829*ns&4294967295)>>>In.Mb]=ns;ns=zn,St(!(us>>>(Ss=In).Xa)),Nr[ns]=Ss.X[us],us=!0}us||St(wn.h==Hr(wn))}if(Cr.Pb&&wn.h&&zn<en)St(Cr.m.h),Cr.a=5,Cr.m=Cr.wd,Cr.$=Cr.xd,0<Cr.s.ua&&Nn(Cr.s.vb,Cr.s.Wa);else{if(wn.h)break e;dn!=null&&dn(Cr,fn>on?on:fn),Cr.a=0,Cr.$=zn-Ur}return 1}return Cr.a=3,0}function Ln(Cr){St(Cr!=null),Cr.vc=null,Cr.yc=null,Cr.Ya=null;var Nr=Cr.Wa;Nr!=null&&(Nr.X=null),Cr.vb=null,St(Cr!=null)}function Yn(){var Cr=new e0;return Cr==null?null:(Cr.a=0,Cr.xb=Cv,El("Predictor","VP8LPredictors"),El("Predictor","VP8LPredictors_C"),El("PredictorAdd","VP8LPredictorsAdd"),El("PredictorAdd","VP8LPredictorsAdd_C"),h1=Fs,Qm=Ts,Ou=ys,Su=$o,hm=Zs,Bp=io,Du=xa,jr.VP8LMapColor32b=l0,jr.VP8LMapColor8b=Lu,Cr)}function $n(Cr,Nr,Ur,Xr,en){var on=1,dn=[Cr],fn=[Nr],mn=Xr.m,wn=Xr.s,Fn=null,zn=0;e:for(;;){if(Ur)for(;on&&Wr(mn,1);){var qn=dn,Un=fn,ss=Xr,Xn=1,In=ss.m,On=ss.gc[ss.ab],rs=Wr(In,2);if(ss.Oc&1<<rs)on=0;else{switch(ss.Oc|=1<<rs,On.hc=rs,On.Ea=qn[0],On.nc=Un[0],On.K=[null],++ss.ab,St(4>=ss.ab),rs){case 0:case 1:On.b=Wr(In,3)+2,Xn=$n(os(On.Ea,On.b),os(On.nc,On.b),0,ss,On.K),On.K=On.K[0];break;case 3:var us,ns=Wr(In,8)+1,Ss=16<ns?0:4<ns?1:2<ns?2:3;if(qn[0]=os(On.Ea,Ss),On.b=Ss,us=Xn=$n(ns,1,0,ss,On.K)){var Es,Us=ns,xs=On,_o=1<<(8>>xs.b),No=sr(_o);if(No==null)us=0;else{var vo=xs.K[0],lo=xs.w;for(No[0]=xs.K[0][0],Es=1;Es<1*Us;++Es)No[Es]=es(vo[lo+Es],No[Es-1]);for(;Es<4*_o;++Es)No[Es]=0;xs.K[0]=null,xs.K[0]=No,us=1}}Xn=us;break;case 2:break;default:St(0)}on=Xn}}if(dn=dn[0],fn=fn[0],on&&Wr(mn,1)&&!(on=1<=(zn=Wr(mn,4))&&11>=zn)){Xr.a=3;break e}var yo;if(yo=on)t:{var Fo,so,xl,$u=Xr,Dl=dn,Bo=fn,So=zn,Uu=Ur,Pl=$u.m,Vl=$u.s,Ql=[null],Ml=1,Zu=0,Jo=V2[So];r:for(;;){if(Uu&&Wr(Pl,1)){var Wl=Wr(Pl,3)+2,Op=os(Dl,Wl),qm=os(Bo,Wl),g0=Op*qm;if(!$n(Op,qm,0,$u,Ql))break r;for(Ql=Ql[0],Vl.xc=Wl,Fo=0;Fo<g0;++Fo){var Ap=Ql[Fo]>>8&65535;Ql[Fo]=Ap,Ap>=Ml&&(Ml=Ap+1)}}if(Pl.h)break r;for(so=0;5>so;++so){var Nl=iS[so];!so&&0<So&&(Nl+=1<<So),Zu<Nl&&(Zu=Nl)}var Ym=ir(Ml*Jo,Lr),sw=Ml,dS=ir(sw,Yr);if(dS==null)var m1=null;else St(65536>=sw),m1=dS;var Dp=sr(Zu);if(m1==null||Dp==null||Ym==null){$u.a=1;break r}var g1=Ym;for(Fo=xl=0;Fo<Ml;++Fo){var LA=m1[Fo],mm=LA.G,Xm=LA.H,hS=0,x1=1,fS=0;for(so=0;5>so;++so){Nl=iS[so],mm[so]=g1,Xm[so]=xl,!so&&0<So&&(Nl+=1<<So);s:{var Tv,Pv=Nl,v1=$u,Jm=Dp,AS=g1,pS=xl,y1=0,OA=v1.m,tC=Wr(OA,1);if(nr(Jm,0,0,Pv),tC){var mS=Wr(OA,1)+1,gS=Wr(OA,1),xS=Wr(OA,gS==0?1:8);Jm[xS]=1,mS==2&&(Jm[xS=Wr(OA,8)]=1);var Nv=1}else{var vS=sr(19),E1=Wr(OA,4)+4;if(19<E1){v1.a=3;var Bv=0;break s}for(Tv=0;Tv<E1;++Tv)vS[pu[Tv]]=Wr(OA,3);var Iv=void 0,kv=void 0,w1=v1,uo=vS,b1=Pv,yS=Jm,Zm=0,Mp=w1.m,ES=8,wS=ir(128,Lr);n:for(;Ir(wS,0,7,uo,19);){if(Wr(Mp,1)){var xA=2+2*Wr(Mp,3);if((Iv=2+Wr(Mp,xA))>b1)break n}else Iv=b1;for(kv=0;kv<b1&&Iv--;){Zr(Mp);var bS=wS[0+(127&Or(Mp))];zr(Mp,Mp.u+bS.g);var $p=bS.value;if(16>$p)yS[kv++]=$p,$p!=0&&(ES=$p);else{var iw=$p==16,aw=$p-16,_S=$2[aw],Hu=Wr(Mp,sS[aw])+_S;if(kv+Hu>b1)break n;for(var gm=iw?ES:0;0<Hu--;)yS[kv++]=gm}}Zm=1;break n}Zm||(w1.a=3),Nv=Zm}(Nv=Nv&&!OA.h)&&(y1=Ir(AS,pS,8,Jm,Pv)),Nv&&y1!=0?Bv=y1:(v1.a=3,Bv=0)}if(Bv==0)break r;if(x1&&Xl[so]==1&&(x1=g1[xl].g==0),hS+=g1[xl].g,xl+=Bv,3>=so){var _g,_1=Dp[0];for(_g=1;_g<Nl;++_g)Dp[_g]>_1&&(_1=Dp[_g]);fS+=_1}}if(LA.nd=x1,LA.Qb=0,x1&&(LA.qb=(mm[3][Xm[3]+0].value<<24|mm[1][Xm[1]+0].value<<16|mm[2][Xm[2]+0].value)>>>0,hS==0&&256>mm[0][Xm[0]+0].value&&(LA.Qb=1,LA.qb+=mm[0][Xm[0]+0].value<<8)),LA.jc=!LA.Qb&&6>fS,LA.jc){var ex,pp=LA;for(ex=0;ex<lu;++ex){var mp=ex,Up=pp.pd[mp],x0=pp.G[0][pp.H[0]+mp];256<=x0.value?(Up.g=x0.g+256,Up.value=x0.value):(Up.g=0,Up.value=0,mp>>=zo(x0,8,Up),mp>>=zo(pp.G[1][pp.H[1]+mp],16,Up),mp>>=zo(pp.G[2][pp.H[2]+mp],0,Up),zo(pp.G[3][pp.H[3]+mp],24,Up))}}}Vl.vc=Ql,Vl.Wb=Ml,Vl.Ya=m1,Vl.yc=Ym,yo=1;break t}yo=0}if(!(on=yo)){Xr.a=3;break e}if(0<zn){if(wn.ua=1<<zn,!Rn(wn.Wa,zn)){Xr.a=1,on=0;break e}}else wn.ua=0;var Fv=Xr,Hp=dn,rC=fn,gp=Fv.s,S1=gp.xc;if(Fv.c=Hp,Fv.i=rC,gp.md=os(Hp,S1),gp.wc=S1==0?-1:(1<<S1)-1,Ur){Xr.xb=W2;break e}if((Fn=sr(dn*fn))==null){Xr.a=1,on=0;break e}on=(on=Cn(Xr,Fn,0,dn,fn,fn,null))&&!mn.h;break e}return on?(en!=null?en[0]=Fn:(St(Fn==null),St(Ur)),Xr.$=0,Ur||Ln(wn)):Ln(wn),on}function Qn(Cr,Nr){var Ur=Cr.c*Cr.i,Xr=Ur+Nr+16*Nr;return St(Cr.c<=Nr),Cr.V=sr(Xr),Cr.V==null?(Cr.Ta=null,Cr.Ua=0,Cr.a=1,0):(Cr.Ta=Cr.V,Cr.Ua=Cr.Ba+Ur+Nr,1)}function Wn(Cr,Nr){var Ur=Cr.C,Xr=Nr-Ur,en=Cr.V,on=Cr.Ba+Cr.c*Ur;for(St(Nr<=Cr.l.o);0<Xr;){var dn=16<Xr?16:Xr,fn=Cr.l.ma,mn=Cr.l.width,wn=mn*dn,Fn=fn.ca,zn=fn.tb+mn*Ur,qn=Cr.Ta,Un=Cr.Ua;un(Cr,dn,en,on),Ol(qn,Un,Fn,zn,wn),yn(fn,Ur,Ur+dn,Fn,zn,mn),Xr-=dn,en+=dn*Cr.c,Ur+=dn}St(Ur==Nr),Cr.C=Cr.Ma=Nr}function hs(){this.ub=this.yd=this.td=this.Rb=0}function gs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bs(){this.Fb=this.Bb=this.Cb=0,this.Zb=sr(4),this.Lb=sr(4)}function ms(){this.Yb=function(){var Cr=[];return function Nr(Ur,Xr,en){for(var on=en[Xr],dn=0;dn<on&&(Ur.push(en.length>Xr+1?[]:0),!(en.length<Xr+1));dn++)Nr(Ur[dn],Xr+1,en)}(Cr,0,[3,11]),Cr}()}function _s(){this.jb=sr(3),this.Wc=ar([4,8],ms),this.Xc=ar([4,17],ms)}function ga(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new sr(4),this.od=new sr(4)}function Ro(){this.ld=this.La=this.dd=this.tc=0}function Oo(){this.Na=this.la=0}function Ll(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oA(){this.ad=sr(384),this.Za=0,this.Ob=sr(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function np(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ro),this.Y=0,this.ya=Array(new oA),this.aa=0,this.l=new ip}function sp(){this.y=sr(16),this.f=sr(8),this.ea=sr(8)}function RA(){this.cb=this.a=0,this.sc="",this.m=new qr,this.Od=new hs,this.Kc=new gs,this.ed=new ga,this.Qa=new bs,this.Ic=this.$c=this.Aa=0,this.D=new np,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ir(8,qr),this.ia=0,this.pb=ir(4,Ll),this.Pa=new _s,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sp),this.Hd=0,this.rb=Array(new Oo),this.sb=0,this.wa=Array(new Ro),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oA),this.L=this.aa=0,this.gd=ar([4,2],Ro),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ip(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qu(){var Cr=new RA;return Cr!=null&&(Cr.a=0,Cr.sc="OK",Cr.cb=0,Cr.Xb=0,kp||(kp=Wx)),Cr}function Sl(Cr,Nr,Ur){return Cr.a==0&&(Cr.a=Nr,Cr.sc=Ur,Cr.cb=0),0}function ov(Cr,Nr,Ur){return 3<=Ur&&Cr[Nr+0]==157&&Cr[Nr+1]==1&&Cr[Nr+2]==42}function lv(Cr,Nr){if(Cr==null)return 0;if(Cr.a=0,Cr.sc="OK",Nr==null)return Sl(Cr,2,"null VP8Io passed to VP8GetHeaders()");var Ur=Nr.data,Xr=Nr.w,en=Nr.ha;if(4>en)return Sl(Cr,7,"Truncated header.");var on=Ur[Xr+0]|Ur[Xr+1]<<8|Ur[Xr+2]<<16,dn=Cr.Od;if(dn.Rb=!(1&on),dn.td=on>>1&7,dn.yd=on>>4&1,dn.ub=on>>5,3<dn.td)return Sl(Cr,3,"Incorrect keyframe parameters.");if(!dn.yd)return Sl(Cr,4,"Frame not displayable.");Xr+=3,en-=3;var fn=Cr.Kc;if(dn.Rb){if(7>en)return Sl(Cr,7,"cannot parse picture header");if(!ov(Ur,Xr,en))return Sl(Cr,3,"Bad code word");fn.c=16383&(Ur[Xr+4]<<8|Ur[Xr+3]),fn.Td=Ur[Xr+4]>>6,fn.i=16383&(Ur[Xr+6]<<8|Ur[Xr+5]),fn.Ud=Ur[Xr+6]>>6,Xr+=7,en-=7,Cr.za=fn.c+15>>4,Cr.Ub=fn.i+15>>4,Nr.width=fn.c,Nr.height=fn.i,Nr.Da=0,Nr.j=0,Nr.v=0,Nr.va=Nr.width,Nr.o=Nr.height,Nr.da=0,Nr.ib=Nr.width,Nr.hb=Nr.height,Nr.U=Nr.width,Nr.T=Nr.height,nr((on=Cr.Pa).jb,0,255,on.jb.length),St((on=Cr.Qa)!=null),on.Cb=0,on.Bb=0,on.Fb=1,nr(on.Zb,0,0,on.Zb.length),nr(on.Lb,0,0,on.Lb)}if(dn.ub>en)return Sl(Cr,7,"bad partition length");Gr(on=Cr.m,Ur,Xr,dn.ub),Xr+=dn.ub,en-=dn.ub,dn.Rb&&(fn.Ld=vn(on),fn.Kd=vn(on)),fn=Cr.Qa;var mn,wn=Cr.Pa;if(St(on!=null),St(fn!=null),fn.Cb=vn(on),fn.Cb){if(fn.Bb=vn(on),vn(on)){for(fn.Fb=vn(on),mn=0;4>mn;++mn)fn.Zb[mn]=vn(on)?Vr(on,7):0;for(mn=0;4>mn;++mn)fn.Lb[mn]=vn(on)?Vr(on,6):0}if(fn.Bb)for(mn=0;3>mn;++mn)wn.jb[mn]=vn(on)?$r(on,8):255}else fn.Bb=0;if(on.Ka)return Sl(Cr,3,"cannot parse segment header");if((fn=Cr.ed).zd=vn(on),fn.Tb=$r(on,6),fn.wb=$r(on,3),fn.Pc=vn(on),fn.Pc&&vn(on)){for(wn=0;4>wn;++wn)vn(on)&&(fn.vd[wn]=Vr(on,6));for(wn=0;4>wn;++wn)vn(on)&&(fn.od[wn]=Vr(on,6))}if(Cr.L=fn.Tb==0?0:fn.zd?1:2,on.Ka)return Sl(Cr,3,"cannot parse filter header");var Fn=en;if(en=mn=Xr,Xr=mn+Fn,fn=Fn,Cr.Xb=(1<<$r(Cr.m,2))-1,Fn<3*(wn=Cr.Xb))Ur=7;else{for(mn+=3*wn,fn-=3*wn,Fn=0;Fn<wn;++Fn){var zn=Ur[en+0]|Ur[en+1]<<8|Ur[en+2]<<16;zn>fn&&(zn=fn),Gr(Cr.Jc[+Fn],Ur,mn,zn),mn+=zn,fn-=zn,en+=3}Gr(Cr.Jc[+wn],Ur,mn,fn),Ur=mn<Xr?0:5}if(Ur!=0)return Sl(Cr,Ur,"cannot parse partitions");for(Ur=$r(mn=Cr.m,7),en=vn(mn)?Vr(mn,4):0,Xr=vn(mn)?Vr(mn,4):0,fn=vn(mn)?Vr(mn,4):0,wn=vn(mn)?Vr(mn,4):0,mn=vn(mn)?Vr(mn,4):0,Fn=Cr.Qa,zn=0;4>zn;++zn){if(Fn.Cb){var qn=Fn.Zb[zn];Fn.Fb||(qn+=Ur)}else{if(0<zn){Cr.pb[zn]=Cr.pb[0];continue}qn=Ur}var Un=Cr.pb[zn];Un.Sc[0]=tw[qo(qn+en,127)],Un.Sc[1]=_v[qo(qn+0,127)],Un.Eb[0]=2*tw[qo(qn+Xr,127)],Un.Eb[1]=101581*_v[qo(qn+fn,127)]>>16,8>Un.Eb[1]&&(Un.Eb[1]=8),Un.Qc[0]=tw[qo(qn+wn,117)],Un.Qc[1]=_v[qo(qn+mn,127)],Un.lc=qn+mn}if(!dn.Rb)return Sl(Cr,4,"Not a key frame.");for(vn(on),dn=Cr.Pa,Ur=0;4>Ur;++Ur){for(en=0;8>en;++en)for(Xr=0;3>Xr;++Xr)for(fn=0;11>fn;++fn)wn=hn(on,p0[Ur][en][Xr][fn])?$r(on,8):Sv[Ur][en][Xr][fn],dn.Wc[Ur][en].Yb[Xr][fn]=wn;for(en=0;17>en;++en)dn.Xc[Ur][en]=dn.Wc[Ur][Q2[en]]}return Cr.kc=vn(on),Cr.kc&&(Cr.Bd=$r(on,8)),Cr.cb=1}function Wx(Cr,Nr,Ur,Xr,en,on,dn){var fn=Nr[en].Yb[Ur];for(Ur=0;16>en;++en){if(!hn(Cr,fn[Ur+0]))return en;for(;!hn(Cr,fn[Ur+1]);)if(fn=Nr[++en].Yb[0],Ur=0,en==16)return 16;var mn=Nr[en+1].Yb;if(hn(Cr,fn[Ur+2])){var wn=Cr,Fn=0;if(hn(wn,(qn=fn)[(zn=Ur)+3]))if(hn(wn,qn[zn+6])){for(fn=0,zn=2*(Fn=hn(wn,qn[zn+8]))+(qn=hn(wn,qn[zn+9+Fn])),Fn=0,qn=rw[zn];qn[fn];++fn)Fn+=Fn+hn(wn,qn[fn]);Fn+=3+(8<<zn)}else hn(wn,qn[zn+7])?(Fn=7+2*hn(wn,165),Fn+=hn(wn,145)):Fn=5+hn(wn,159);else Fn=hn(wn,qn[zn+4])?3+hn(wn,qn[zn+5]):2;fn=mn[2]}else Fn=1,fn=mn[1];mn=dn+f0[en],0>(wn=Cr).b&&nn(wn);var zn,qn=wn.b,Un=(zn=wn.Ca>>1)-(wn.I>>qn)>>31;--wn.b,wn.Ca+=Un,wn.Ca|=1,wn.I-=(zn+1&Un)<<qn,on[mn]=((Fn^Un)-Un)*Xr[(0<en)+0]}return 16}function cv(Cr){var Nr=Cr.rb[Cr.sb-1];Nr.la=0,Nr.Na=0,nr(Cr.zc,0,0,Cr.zc.length),Cr.ja=0}function Jy(Cr,Nr){if(Cr==null)return 0;if(Nr==null)return Sl(Cr,2,"NULL VP8Io parameter in VP8Decode().");if(!Cr.cb&&!lv(Cr,Nr))return 0;if(St(Cr.cb),Nr.ac==null||Nr.ac(Nr)){Nr.ob&&(Cr.L=0);var Ur=gA[Cr.L];if(Cr.L==2?(Cr.yb=0,Cr.zb=0):(Cr.yb=Nr.v-Ur>>4,Cr.zb=Nr.j-Ur>>4,0>Cr.yb&&(Cr.yb=0),0>Cr.zb&&(Cr.zb=0)),Cr.Va=Nr.o+15+Ur>>4,Cr.Hb=Nr.va+15+Ur>>4,Cr.Hb>Cr.za&&(Cr.Hb=Cr.za),Cr.Va>Cr.Ub&&(Cr.Va=Cr.Ub),0<Cr.L){var Xr=Cr.ed;for(Ur=0;4>Ur;++Ur){var en;if(Cr.Qa.Cb){var on=Cr.Qa.Lb[Ur];Cr.Qa.Fb||(on+=Xr.Tb)}else on=Xr.Tb;for(en=0;1>=en;++en){var dn=Cr.gd[Ur][en],fn=on;if(Xr.Pc&&(fn+=Xr.vd[0],en&&(fn+=Xr.od[0])),0<(fn=0>fn?0:63<fn?63:fn)){var mn=fn;0<Xr.wb&&(mn=4<Xr.wb?mn>>2:mn>>1)>9-Xr.wb&&(mn=9-Xr.wb),1>mn&&(mn=1),dn.dd=mn,dn.tc=2*fn+mn,dn.ld=40<=fn?2:15<=fn?1:0}else dn.tc=0;dn.La=en}}}Ur=0}else Sl(Cr,6,"Frame setup failed"),Ur=Cr.a;if(Ur=Ur==0){if(Ur){Cr.$c=0,0<Cr.Aa||(Cr.Ic=eC);e:{Ur=Cr.Ic,Xr=4*(mn=Cr.za);var wn=32*mn,Fn=mn+1,zn=0<Cr.L?mn*(0<Cr.Aa?2:1):0,qn=(Cr.Aa==2?2:1)*mn;if((dn=Xr+832+(en=3*(16*Ur+gA[Cr.L])/2*wn)+(on=Cr.Fa!=null&&0<Cr.Fa.length?Cr.Kc.c*Cr.Kc.i:0))!=dn)Ur=0;else{if(dn>Cr.Vb){if(Cr.Vb=0,Cr.Ec=sr(dn),Cr.Fc=0,Cr.Ec==null){Ur=Sl(Cr,1,"no memory during frame initialization.");break e}Cr.Vb=dn}dn=Cr.Ec,fn=Cr.Fc,Cr.Ac=dn,Cr.Bc=fn,fn+=Xr,Cr.Gd=ir(wn,sp),Cr.Hd=0,Cr.rb=ir(Fn+1,Oo),Cr.sb=1,Cr.wa=zn?ir(zn,Ro):null,Cr.Y=0,Cr.D.Nb=0,Cr.D.wa=Cr.wa,Cr.D.Y=Cr.Y,0<Cr.Aa&&(Cr.D.Y+=mn),St(!0),Cr.oc=dn,Cr.pc=fn,fn+=832,Cr.ya=ir(qn,oA),Cr.aa=0,Cr.D.ya=Cr.ya,Cr.D.aa=Cr.aa,Cr.Aa==2&&(Cr.D.aa+=mn),Cr.R=16*mn,Cr.B=8*mn,mn=(wn=gA[Cr.L])*Cr.R,wn=wn/2*Cr.B,Cr.sa=dn,Cr.ta=fn+mn,Cr.qa=Cr.sa,Cr.ra=Cr.ta+16*Ur*Cr.R+wn,Cr.Ha=Cr.qa,Cr.Ia=Cr.ra+8*Ur*Cr.B+wn,Cr.$c=0,fn+=en,Cr.mb=on?dn:null,Cr.nb=on?fn:null,St(fn+on<=Cr.Fc+Cr.Vb),cv(Cr),nr(Cr.Ac,Cr.Bc,0,Xr),Ur=1}}if(Ur){if(Nr.ka=0,Nr.y=Cr.sa,Nr.O=Cr.ta,Nr.f=Cr.qa,Nr.N=Cr.ra,Nr.ea=Cr.Ha,Nr.Vd=Cr.Ia,Nr.fa=Cr.R,Nr.Rc=Cr.B,Nr.F=null,Nr.J=0,!Ev){for(Ur=-255;255>=Ur;++Ur)Yl[255+Ur]=0>Ur?-Ur:Ur;for(Ur=-1020;1020>=Ur;++Ur)AA[1020+Ur]=-128>Ur?-128:127<Ur?127:Ur;for(Ur=-112;112>=Ur;++Ur)pA[112+Ur]=-16>Ur?-16:15<Ur?15:Ur;for(Ur=-255;510>=Ur;++Ur)Ip[255+Ur]=0>Ur?0:255<Ur?255:Ur;Ev=1}Dn=hv,Zn=dv,Ns=Zy,$s=e1,no=Kx,Kn=uv,Xo=Xx,Po=lm,Wm=u1,Gm=Jx,su=c1,NA=Hm,Km=au,IA=d1,hp=Hl,kA=lA,Eo=bu,fA=l1,FA[0]=lp,FA[1]=r1,FA[2]=KE,FA[3]=zE,FA[4]=i1,FA[5]=qx,FA[6]=zx,FA[7]=Av,FA[8]=YE,FA[9]=qE,pm[0]=fv,pm[1]=WE,pm[2]=op,pm[3]=Mm,pm[4]=Au,pm[5]=GE,pm[6]=s1,Fp[0]=om,Fp[1]=n1,Fp[2]=XE,Fp[3]=Io,Fp[4]=Um,Fp[5]=JE,Fp[6]=pv,Ur=1}else Ur=0}Ur&&(Ur=function(Un,ss){for(Un.M=0;Un.M<Un.Va;++Un.M){var Xn,In=Un.Jc[Un.M&Un.Xb],On=Un.m,rs=Un;for(Xn=0;Xn<rs.za;++Xn){var us=On,ns=rs,Ss=ns.Ac,Es=ns.Bc+4*Xn,Us=ns.zc,xs=ns.ya[ns.aa+Xn];if(ns.Qa.Bb?xs.$b=hn(us,ns.Pa.jb[0])?2+hn(us,ns.Pa.jb[2]):hn(us,ns.Pa.jb[1]):xs.$b=0,ns.kc&&(xs.Ad=hn(us,ns.Bd)),xs.Za=!hn(us,145)+0,xs.Za){var _o=xs.Ob,No=0;for(ns=0;4>ns;++ns){var vo,lo=Us[0+ns];for(vo=0;4>vo;++vo){lo=A1[Ss[Es+vo]][lo];for(var yo=A0[hn(us,lo[0])];0<yo;)yo=A0[2*yo+hn(us,lo[yo])];lo=-yo,Ss[Es+vo]=lo}rr(_o,No,Ss,Es,4),No+=4,Us[0+ns]=lo}}else lo=hn(us,156)?hn(us,128)?1:3:hn(us,163)?2:0,xs.Ob[0]=lo,nr(Ss,Es,lo,4),nr(Us,0,lo,4);xs.Dd=hn(us,142)?hn(us,114)?hn(us,183)?1:3:2:0}if(rs.m.Ka)return Sl(Un,7,"Premature end-of-partition0 encountered.");for(;Un.ja<Un.za;++Un.ja){if(rs=In,us=(On=Un).rb[On.sb-1],Ss=On.rb[On.sb+On.ja],Xn=On.ya[On.aa+On.ja],Es=On.kc?Xn.Ad:0)us.la=Ss.la=0,Xn.Za||(us.Na=Ss.Na=0),Xn.Hc=0,Xn.Gc=0,Xn.ia=0;else{var Fo,so;if(us=Ss,Ss=rs,Es=On.Pa.Xc,Us=On.ya[On.aa+On.ja],xs=On.pb[Us.$b],ns=Us.ad,_o=0,No=On.rb[On.sb-1],lo=vo=0,nr(ns,_o,0,384),Us.Za)var xl=0,$u=Es[3];else{yo=sr(16);var Dl=us.Na+No.Na;if(Dl=kp(Ss,Es[1],Dl,xs.Eb,0,yo,0),us.Na=No.Na=(0<Dl)+0,1<Dl)Dn(yo,0,ns,_o);else{var Bo=yo[0]+3>>3;for(yo=0;256>yo;yo+=16)ns[_o+yo]=Bo}xl=1,$u=Es[0]}var So=15&us.la,Uu=15&No.la;for(yo=0;4>yo;++yo){var Pl=1&Uu;for(Bo=so=0;4>Bo;++Bo)So=So>>1|(Pl=(Dl=kp(Ss,$u,Dl=Pl+(1&So),xs.Sc,xl,ns,_o))>xl)<<7,so=so<<2|(3<Dl?3:1<Dl?2:ns[_o+0]!=0),_o+=16;So>>=4,Uu=Uu>>1|Pl<<7,vo=(vo<<8|so)>>>0}for($u=So,xl=Uu>>4,Fo=0;4>Fo;Fo+=2){for(so=0,So=us.la>>4+Fo,Uu=No.la>>4+Fo,yo=0;2>yo;++yo){for(Pl=1&Uu,Bo=0;2>Bo;++Bo)Dl=Pl+(1&So),So=So>>1|(Pl=0<(Dl=kp(Ss,Es[2],Dl,xs.Qc,0,ns,_o)))<<3,so=so<<2|(3<Dl?3:1<Dl?2:ns[_o+0]!=0),_o+=16;So>>=2,Uu=Uu>>1|Pl<<5}lo|=so<<4*Fo,$u|=So<<4<<Fo,xl|=(240&Uu)<<Fo}us.la=$u,No.la=xl,Us.Hc=vo,Us.Gc=lo,Us.ia=43690&lo?0:xs.ia,Es=!(vo|lo)}if(0<On.L&&(On.wa[On.Y+On.ja]=On.gd[Xn.$b][Xn.Za],On.wa[On.Y+On.ja].La|=!Es),rs.Ka)return Sl(Un,7,"Premature end-of-file encountered.")}if(cv(Un),On=ss,rs=1,Xn=(In=Un).D,us=0<In.L&&In.M>=In.zb&&In.M<=In.Va,In.Aa==0)e:{if(Xn.M=In.M,Xn.uc=us,n0(In,Xn),rs=1,Xn=(so=In.D).Nb,us=(lo=gA[In.L])*In.R,Ss=lo/2*In.B,yo=16*Xn*In.R,Bo=8*Xn*In.B,Es=In.sa,Us=In.ta-us+yo,xs=In.qa,ns=In.ra-Ss+Bo,_o=In.Ha,No=In.Ia-Ss+Bo,Uu=(So=so.M)==0,vo=So>=In.Va-1,In.Aa==2&&n0(In,so),so.uc)for(Pl=(Dl=In).D.M,St(Dl.D.uc),so=Dl.yb;so<Dl.Hb;++so){xl=so,$u=Pl;var Vl=(Ql=(Nl=Dl).D).Nb;Fo=Nl.R;var Ql=Ql.wa[Ql.Y+xl],Ml=Nl.sa,Zu=Nl.ta+16*Vl*Fo+16*xl,Jo=Ql.dd,Wl=Ql.tc;if(Wl!=0)if(St(3<=Wl),Nl.L==1)0<xl&&kA(Ml,Zu,Fo,Wl+4),Ql.La&&fA(Ml,Zu,Fo,Wl),0<$u&&hp(Ml,Zu,Fo,Wl+4),Ql.La&&Eo(Ml,Zu,Fo,Wl);else{var Op=Nl.B,qm=Nl.qa,g0=Nl.ra+8*Vl*Op+8*xl,Ap=Nl.Ha,Nl=Nl.Ia+8*Vl*Op+8*xl;Vl=Ql.ld,0<xl&&(Po(Ml,Zu,Fo,Wl+4,Jo,Vl),Gm(qm,g0,Ap,Nl,Op,Wl+4,Jo,Vl)),Ql.La&&(NA(Ml,Zu,Fo,Wl,Jo,Vl),IA(qm,g0,Ap,Nl,Op,Wl,Jo,Vl)),0<$u&&(Xo(Ml,Zu,Fo,Wl+4,Jo,Vl),Wm(qm,g0,Ap,Nl,Op,Wl+4,Jo,Vl)),Ql.La&&(su(Ml,Zu,Fo,Wl,Jo,Vl),Km(qm,g0,Ap,Nl,Op,Wl,Jo,Vl))}}if(In.ia&&alert("todo:DitherRow"),On.put!=null){if(so=16*So,So=16*(So+1),Uu?(On.y=In.sa,On.O=In.ta+yo,On.f=In.qa,On.N=In.ra+Bo,On.ea=In.Ha,On.W=In.Ia+Bo):(so-=lo,On.y=Es,On.O=Us,On.f=xs,On.N=ns,On.ea=_o,On.W=No),vo||(So-=lo),So>On.o&&(So=On.o),On.F=null,On.J=null,In.Fa!=null&&0<In.Fa.length&&so<So&&(On.J=xv(In,On,so,So-so),On.F=In.mb,On.F==null&&On.F.length==0)){rs=Sl(In,3,"Could not decode alpha data.");break e}so<On.j&&(lo=On.j-so,so=On.j,St(!(1&lo)),On.O+=In.R*lo,On.N+=In.B*(lo>>1),On.W+=In.B*(lo>>1),On.F!=null&&(On.J+=On.width*lo)),so<So&&(On.O+=On.v,On.N+=On.v>>1,On.W+=On.v>>1,On.F!=null&&(On.J+=On.v),On.ka=so-On.j,On.U=On.va-On.v,On.T=So-so,rs=On.put(On))}Xn+1!=In.Ic||vo||(rr(In.sa,In.ta-us,Es,Us+16*In.R,us),rr(In.qa,In.ra-Ss,xs,ns+8*In.B,Ss),rr(In.Ha,In.Ia-Ss,_o,No+8*In.B,Ss))}if(!rs)return Sl(Un,6,"Output aborted.")}return 1}(Cr,Nr)),Nr.bc!=null&&Nr.bc(Nr),Ur&=1}return Ur?(Cr.cb=0,Ur):0}function ku(Cr,Nr,Ur,Xr,en){en=Cr[Nr+Ur+32*Xr]+(en>>3),Cr[Nr+Ur+32*Xr]=-256&en?0>en?0:255:en}function Dm(Cr,Nr,Ur,Xr,en,on){ku(Cr,Nr,0,Ur,Xr+en),ku(Cr,Nr,1,Ur,Xr+on),ku(Cr,Nr,2,Ur,Xr-on),ku(Cr,Nr,3,Ur,Xr-en)}function Fu(Cr){return(20091*Cr>>16)+Cr}function Gx(Cr,Nr,Ur,Xr){var en,on=0,dn=sr(16);for(en=0;4>en;++en){var fn=Cr[Nr+0]+Cr[Nr+8],mn=Cr[Nr+0]-Cr[Nr+8],wn=(35468*Cr[Nr+4]>>16)-Fu(Cr[Nr+12]),Fn=Fu(Cr[Nr+4])+(35468*Cr[Nr+12]>>16);dn[on+0]=fn+Fn,dn[on+1]=mn+wn,dn[on+2]=mn-wn,dn[on+3]=fn-Fn,on+=4,Nr++}for(en=on=0;4>en;++en)fn=(Cr=dn[on+0]+4)+dn[on+8],mn=Cr-dn[on+8],wn=(35468*dn[on+4]>>16)-Fu(dn[on+12]),ku(Ur,Xr,0,0,fn+(Fn=Fu(dn[on+4])+(35468*dn[on+12]>>16))),ku(Ur,Xr,1,0,mn+wn),ku(Ur,Xr,2,0,mn-wn),ku(Ur,Xr,3,0,fn-Fn),on++,Xr+=32}function uv(Cr,Nr,Ur,Xr){var en=Cr[Nr+0]+4,on=35468*Cr[Nr+4]>>16,dn=Fu(Cr[Nr+4]),fn=35468*Cr[Nr+1]>>16;Dm(Ur,Xr,0,en+dn,Cr=Fu(Cr[Nr+1]),fn),Dm(Ur,Xr,1,en+on,Cr,fn),Dm(Ur,Xr,2,en-on,Cr,fn),Dm(Ur,Xr,3,en-dn,Cr,fn)}function dv(Cr,Nr,Ur,Xr,en){Gx(Cr,Nr,Ur,Xr),en&&Gx(Cr,Nr+16,Ur,Xr+4)}function Zy(Cr,Nr,Ur,Xr){Zn(Cr,Nr+0,Ur,Xr,1),Zn(Cr,Nr+32,Ur,Xr+128,1)}function e1(Cr,Nr,Ur,Xr){var en;for(Cr=Cr[Nr+0]+4,en=0;4>en;++en)for(Nr=0;4>Nr;++Nr)ku(Ur,Xr,Nr,en,Cr)}function Kx(Cr,Nr,Ur,Xr){Cr[Nr+0]&&$s(Cr,Nr+0,Ur,Xr),Cr[Nr+16]&&$s(Cr,Nr+16,Ur,Xr+4),Cr[Nr+32]&&$s(Cr,Nr+32,Ur,Xr+128),Cr[Nr+48]&&$s(Cr,Nr+48,Ur,Xr+128+4)}function hv(Cr,Nr,Ur,Xr){var en,on=sr(16);for(en=0;4>en;++en){var dn=Cr[Nr+0+en]+Cr[Nr+12+en],fn=Cr[Nr+4+en]+Cr[Nr+8+en],mn=Cr[Nr+4+en]-Cr[Nr+8+en],wn=Cr[Nr+0+en]-Cr[Nr+12+en];on[0+en]=dn+fn,on[8+en]=dn-fn,on[4+en]=wn+mn,on[12+en]=wn-mn}for(en=0;4>en;++en)dn=(Cr=on[0+4*en]+3)+on[3+4*en],fn=on[1+4*en]+on[2+4*en],mn=on[1+4*en]-on[2+4*en],wn=Cr-on[3+4*en],Ur[Xr+0]=dn+fn>>3,Ur[Xr+16]=wn+mn>>3,Ur[Xr+32]=dn-fn>>3,Ur[Xr+48]=wn-mn>>3,Xr+=64}function ap(Cr,Nr,Ur){var Xr,en=Nr-32,on=Mu,dn=255-Cr[en-1];for(Xr=0;Xr<Ur;++Xr){var fn,mn=on,wn=dn+Cr[Nr-1];for(fn=0;fn<Ur;++fn)Cr[Nr+fn]=mn[wn+Cr[en+fn]];Nr+=32}}function r1(Cr,Nr){ap(Cr,Nr,4)}function n1(Cr,Nr){ap(Cr,Nr,8)}function WE(Cr,Nr){ap(Cr,Nr,16)}function op(Cr,Nr){var Ur;for(Ur=0;16>Ur;++Ur)rr(Cr,Nr+32*Ur,Cr,Nr-32,16)}function Mm(Cr,Nr){var Ur;for(Ur=16;0<Ur;--Ur)nr(Cr,Nr,Cr[Nr-1],16),Nr+=32}function $m(Cr,Nr,Ur){var Xr;for(Xr=0;16>Xr;++Xr)nr(Nr,Ur+32*Xr,Cr,16)}function fv(Cr,Nr){var Ur,Xr=16;for(Ur=0;16>Ur;++Ur)Xr+=Cr[Nr-1+32*Ur]+Cr[Nr+Ur-32];$m(Xr>>5,Cr,Nr)}function Au(Cr,Nr){var Ur,Xr=8;for(Ur=0;16>Ur;++Ur)Xr+=Cr[Nr-1+32*Ur];$m(Xr>>4,Cr,Nr)}function GE(Cr,Nr){var Ur,Xr=8;for(Ur=0;16>Ur;++Ur)Xr+=Cr[Nr+Ur-32];$m(Xr>>4,Cr,Nr)}function s1(Cr,Nr){$m(128,Cr,Nr)}function ba(Cr,Nr,Ur){return Cr+2*Nr+Ur+2>>2}function KE(Cr,Nr){var Ur,Xr=Nr-32;for(Xr=new Uint8Array([ba(Cr[Xr-1],Cr[Xr+0],Cr[Xr+1]),ba(Cr[Xr+0],Cr[Xr+1],Cr[Xr+2]),ba(Cr[Xr+1],Cr[Xr+2],Cr[Xr+3]),ba(Cr[Xr+2],Cr[Xr+3],Cr[Xr+4])]),Ur=0;4>Ur;++Ur)rr(Cr,Nr+32*Ur,Xr,0,Xr.length)}function zE(Cr,Nr){var Ur=Cr[Nr-1],Xr=Cr[Nr-1+32],en=Cr[Nr-1+64],on=Cr[Nr-1+96];En(Cr,Nr+0,16843009*ba(Cr[Nr-1-32],Ur,Xr)),En(Cr,Nr+32,16843009*ba(Ur,Xr,en)),En(Cr,Nr+64,16843009*ba(Xr,en,on)),En(Cr,Nr+96,16843009*ba(en,on,on))}function lp(Cr,Nr){var Ur,Xr=4;for(Ur=0;4>Ur;++Ur)Xr+=Cr[Nr+Ur-32]+Cr[Nr-1+32*Ur];for(Xr>>=3,Ur=0;4>Ur;++Ur)nr(Cr,Nr+32*Ur,Xr,4)}function i1(Cr,Nr){var Ur=Cr[Nr-1+0],Xr=Cr[Nr-1+32],en=Cr[Nr-1+64],on=Cr[Nr-1-32],dn=Cr[Nr+0-32],fn=Cr[Nr+1-32],mn=Cr[Nr+2-32],wn=Cr[Nr+3-32];Cr[Nr+0+96]=ba(Xr,en,Cr[Nr-1+96]),Cr[Nr+1+96]=Cr[Nr+0+64]=ba(Ur,Xr,en),Cr[Nr+2+96]=Cr[Nr+1+64]=Cr[Nr+0+32]=ba(on,Ur,Xr),Cr[Nr+3+96]=Cr[Nr+2+64]=Cr[Nr+1+32]=Cr[Nr+0+0]=ba(dn,on,Ur),Cr[Nr+3+64]=Cr[Nr+2+32]=Cr[Nr+1+0]=ba(fn,dn,on),Cr[Nr+3+32]=Cr[Nr+2+0]=ba(mn,fn,dn),Cr[Nr+3+0]=ba(wn,mn,fn)}function zx(Cr,Nr){var Ur=Cr[Nr+1-32],Xr=Cr[Nr+2-32],en=Cr[Nr+3-32],on=Cr[Nr+4-32],dn=Cr[Nr+5-32],fn=Cr[Nr+6-32],mn=Cr[Nr+7-32];Cr[Nr+0+0]=ba(Cr[Nr+0-32],Ur,Xr),Cr[Nr+1+0]=Cr[Nr+0+32]=ba(Ur,Xr,en),Cr[Nr+2+0]=Cr[Nr+1+32]=Cr[Nr+0+64]=ba(Xr,en,on),Cr[Nr+3+0]=Cr[Nr+2+32]=Cr[Nr+1+64]=Cr[Nr+0+96]=ba(en,on,dn),Cr[Nr+3+32]=Cr[Nr+2+64]=Cr[Nr+1+96]=ba(on,dn,fn),Cr[Nr+3+64]=Cr[Nr+2+96]=ba(dn,fn,mn),Cr[Nr+3+96]=ba(fn,mn,mn)}function qx(Cr,Nr){var Ur=Cr[Nr-1+0],Xr=Cr[Nr-1+32],en=Cr[Nr-1+64],on=Cr[Nr-1-32],dn=Cr[Nr+0-32],fn=Cr[Nr+1-32],mn=Cr[Nr+2-32],wn=Cr[Nr+3-32];Cr[Nr+0+0]=Cr[Nr+1+64]=on+dn+1>>1,Cr[Nr+1+0]=Cr[Nr+2+64]=dn+fn+1>>1,Cr[Nr+2+0]=Cr[Nr+3+64]=fn+mn+1>>1,Cr[Nr+3+0]=mn+wn+1>>1,Cr[Nr+0+96]=ba(en,Xr,Ur),Cr[Nr+0+64]=ba(Xr,Ur,on),Cr[Nr+0+32]=Cr[Nr+1+96]=ba(Ur,on,dn),Cr[Nr+1+32]=Cr[Nr+2+96]=ba(on,dn,fn),Cr[Nr+2+32]=Cr[Nr+3+96]=ba(dn,fn,mn),Cr[Nr+3+32]=ba(fn,mn,wn)}function Av(Cr,Nr){var Ur=Cr[Nr+0-32],Xr=Cr[Nr+1-32],en=Cr[Nr+2-32],on=Cr[Nr+3-32],dn=Cr[Nr+4-32],fn=Cr[Nr+5-32],mn=Cr[Nr+6-32],wn=Cr[Nr+7-32];Cr[Nr+0+0]=Ur+Xr+1>>1,Cr[Nr+1+0]=Cr[Nr+0+64]=Xr+en+1>>1,Cr[Nr+2+0]=Cr[Nr+1+64]=en+on+1>>1,Cr[Nr+3+0]=Cr[Nr+2+64]=on+dn+1>>1,Cr[Nr+0+32]=ba(Ur,Xr,en),Cr[Nr+1+32]=Cr[Nr+0+96]=ba(Xr,en,on),Cr[Nr+2+32]=Cr[Nr+1+96]=ba(en,on,dn),Cr[Nr+3+32]=Cr[Nr+2+96]=ba(on,dn,fn),Cr[Nr+3+64]=ba(dn,fn,mn),Cr[Nr+3+96]=ba(fn,mn,wn)}function qE(Cr,Nr){var Ur=Cr[Nr-1+0],Xr=Cr[Nr-1+32],en=Cr[Nr-1+64],on=Cr[Nr-1+96];Cr[Nr+0+0]=Ur+Xr+1>>1,Cr[Nr+2+0]=Cr[Nr+0+32]=Xr+en+1>>1,Cr[Nr+2+32]=Cr[Nr+0+64]=en+on+1>>1,Cr[Nr+1+0]=ba(Ur,Xr,en),Cr[Nr+3+0]=Cr[Nr+1+32]=ba(Xr,en,on),Cr[Nr+3+32]=Cr[Nr+1+64]=ba(en,on,on),Cr[Nr+3+64]=Cr[Nr+2+64]=Cr[Nr+0+96]=Cr[Nr+1+96]=Cr[Nr+2+96]=Cr[Nr+3+96]=on}function YE(Cr,Nr){var Ur=Cr[Nr-1+0],Xr=Cr[Nr-1+32],en=Cr[Nr-1+64],on=Cr[Nr-1+96],dn=Cr[Nr-1-32],fn=Cr[Nr+0-32],mn=Cr[Nr+1-32],wn=Cr[Nr+2-32];Cr[Nr+0+0]=Cr[Nr+2+32]=Ur+dn+1>>1,Cr[Nr+0+32]=Cr[Nr+2+64]=Xr+Ur+1>>1,Cr[Nr+0+64]=Cr[Nr+2+96]=en+Xr+1>>1,Cr[Nr+0+96]=on+en+1>>1,Cr[Nr+3+0]=ba(fn,mn,wn),Cr[Nr+2+0]=ba(dn,fn,mn),Cr[Nr+1+0]=Cr[Nr+3+32]=ba(Ur,dn,fn),Cr[Nr+1+32]=Cr[Nr+3+64]=ba(Xr,Ur,dn),Cr[Nr+1+64]=Cr[Nr+3+96]=ba(en,Xr,Ur),Cr[Nr+1+96]=ba(on,en,Xr)}function XE(Cr,Nr){var Ur;for(Ur=0;8>Ur;++Ur)rr(Cr,Nr+32*Ur,Cr,Nr-32,8)}function Io(Cr,Nr){var Ur;for(Ur=0;8>Ur;++Ur)nr(Cr,Nr,Cr[Nr-1],8),Nr+=32}function bo(Cr,Nr,Ur){var Xr;for(Xr=0;8>Xr;++Xr)nr(Nr,Ur+32*Xr,Cr,8)}function om(Cr,Nr){var Ur,Xr=8;for(Ur=0;8>Ur;++Ur)Xr+=Cr[Nr+Ur-32]+Cr[Nr-1+32*Ur];bo(Xr>>4,Cr,Nr)}function JE(Cr,Nr){var Ur,Xr=4;for(Ur=0;8>Ur;++Ur)Xr+=Cr[Nr+Ur-32];bo(Xr>>3,Cr,Nr)}function Um(Cr,Nr){var Ur,Xr=4;for(Ur=0;8>Ur;++Ur)Xr+=Cr[Nr-1+32*Ur];bo(Xr>>3,Cr,Nr)}function pv(Cr,Nr){bo(128,Cr,Nr)}function Yx(Cr,Nr,Ur){var Xr=Cr[Nr-Ur],en=Cr[Nr+0],on=3*(en-Xr)+c0[1020+Cr[Nr-2*Ur]-Cr[Nr+Ur]],dn=wv[112+(on+4>>3)];Cr[Nr-Ur]=Mu[255+Xr+wv[112+(on+3>>3)]],Cr[Nr+0]=Mu[255+en-dn]}function a1(Cr,Nr,Ur,Xr){var en=Cr[Nr+0],on=Cr[Nr+Ur];return Cu[255+Cr[Nr-2*Ur]-Cr[Nr-Ur]]>Xr||Cu[255+on-en]>Xr}function mv(Cr,Nr,Ur,Xr){return 4*Cu[255+Cr[Nr-Ur]-Cr[Nr+0]]+Cu[255+Cr[Nr-2*Ur]-Cr[Nr+Ur]]<=Xr}function o1(Cr,Nr,Ur,Xr,en){var on=Cr[Nr-3*Ur],dn=Cr[Nr-2*Ur],fn=Cr[Nr-Ur],mn=Cr[Nr+0],wn=Cr[Nr+Ur],Fn=Cr[Nr+2*Ur],zn=Cr[Nr+3*Ur];return 4*Cu[255+fn-mn]+Cu[255+dn-wn]>Xr?0:Cu[255+Cr[Nr-4*Ur]-on]<=en&&Cu[255+on-dn]<=en&&Cu[255+dn-fn]<=en&&Cu[255+zn-Fn]<=en&&Cu[255+Fn-wn]<=en&&Cu[255+wn-mn]<=en}function Hl(Cr,Nr,Ur,Xr){var en=2*Xr+1;for(Xr=0;16>Xr;++Xr)mv(Cr,Nr+Xr,Ur,en)&&Yx(Cr,Nr+Xr,Ur)}function lA(Cr,Nr,Ur,Xr){var en=2*Xr+1;for(Xr=0;16>Xr;++Xr)mv(Cr,Nr+Xr*Ur,1,en)&&Yx(Cr,Nr+Xr*Ur,1)}function bu(Cr,Nr,Ur,Xr){var en;for(en=3;0<en;--en)Hl(Cr,Nr+=4*Ur,Ur,Xr)}function l1(Cr,Nr,Ur,Xr){var en;for(en=3;0<en;--en)lA(Cr,Nr+=4,Ur,Xr)}function cp(Cr,Nr,Ur,Xr,en,on,dn,fn){for(on=2*on+1;0<en--;){if(o1(Cr,Nr,Ur,on,dn))if(a1(Cr,Nr,Ur,fn))Yx(Cr,Nr,Ur);else{var mn=Cr,wn=Nr,Fn=Ur,zn=mn[wn-2*Fn],qn=mn[wn-Fn],Un=mn[wn+0],ss=mn[wn+Fn],Xn=mn[wn+2*Fn],In=27*(rs=c0[1020+3*(Un-qn)+c0[1020+zn-ss]])+63>>7,On=18*rs+63>>7,rs=9*rs+63>>7;mn[wn-3*Fn]=Mu[255+mn[wn-3*Fn]+rs],mn[wn-2*Fn]=Mu[255+zn+On],mn[wn-Fn]=Mu[255+qn+In],mn[wn+0]=Mu[255+Un-In],mn[wn+Fn]=Mu[255+ss-On],mn[wn+2*Fn]=Mu[255+Xn-rs]}Nr+=Xr}}function Cl(Cr,Nr,Ur,Xr,en,on,dn,fn){for(on=2*on+1;0<en--;){if(o1(Cr,Nr,Ur,on,dn))if(a1(Cr,Nr,Ur,fn))Yx(Cr,Nr,Ur);else{var mn=Cr,wn=Nr,Fn=Ur,zn=mn[wn-Fn],qn=mn[wn+0],Un=mn[wn+Fn],ss=wv[112+((Xn=3*(qn-zn))+4>>3)],Xn=wv[112+(Xn+3>>3)],In=ss+1>>1;mn[wn-2*Fn]=Mu[255+mn[wn-2*Fn]+In],mn[wn-Fn]=Mu[255+zn+Xn],mn[wn+0]=Mu[255+qn-ss],mn[wn+Fn]=Mu[255+Un-In]}Nr+=Xr}}function Xx(Cr,Nr,Ur,Xr,en,on){cp(Cr,Nr,Ur,1,16,Xr,en,on)}function lm(Cr,Nr,Ur,Xr,en,on){cp(Cr,Nr,1,Ur,16,Xr,en,on)}function c1(Cr,Nr,Ur,Xr,en,on){var dn;for(dn=3;0<dn;--dn)Cl(Cr,Nr+=4*Ur,Ur,1,16,Xr,en,on)}function Hm(Cr,Nr,Ur,Xr,en,on){var dn;for(dn=3;0<dn;--dn)Cl(Cr,Nr+=4,1,Ur,16,Xr,en,on)}function u1(Cr,Nr,Ur,Xr,en,on,dn,fn){cp(Cr,Nr,en,1,8,on,dn,fn),cp(Ur,Xr,en,1,8,on,dn,fn)}function Jx(Cr,Nr,Ur,Xr,en,on,dn,fn){cp(Cr,Nr,1,en,8,on,dn,fn),cp(Ur,Xr,1,en,8,on,dn,fn)}function au(Cr,Nr,Ur,Xr,en,on,dn,fn){Cl(Cr,Nr+4*en,en,1,8,on,dn,fn),Cl(Ur,Xr+4*en,en,1,8,on,dn,fn)}function d1(Cr,Nr,Ur,Xr,en,on,dn,fn){Cl(Cr,Nr+4,1,en,8,on,dn,fn),Cl(Ur,Xr+4,1,en,8,on,dn,fn)}function ou(){this.ba=new Ys,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ms,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gv(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zx(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function TA(){this.ua=0,this.Wa=new pn,this.vb=new pn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Yr,this.yc=new Lr}function e0(){this.xb=this.a=0,this.l=new ip,this.ca=new Ys,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Rr,this.Pb=0,this.wd=new Rr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new TA,this.ab=0,this.gc=ir(4,Zx),this.Oc=0}function cm(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ip,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function To(Cr,Nr,Ur,Xr,en,on,dn){for(Cr=Cr==null?0:Cr[Nr+0],Nr=0;Nr<dn;++Nr)en[on+Nr]=Cr+Ur[Xr+Nr]&255,Cr=en[on+Nr]}function cA(Cr,Nr,Ur,Xr,en,on,dn){var fn;if(Cr==null)To(null,null,Ur,Xr,en,on,dn);else for(fn=0;fn<dn;++fn)en[on+fn]=Cr[Nr+fn]+Ur[Xr+fn]&255}function up(Cr,Nr,Ur,Xr,en,on,dn){if(Cr==null)To(null,null,Ur,Xr,en,on,dn);else{var fn,mn=Cr[Nr+0],wn=mn,Fn=mn;for(fn=0;fn<dn;++fn)wn=Fn+(mn=Cr[Nr+fn])-wn,Fn=Ur[Xr+fn]+(-256&wn?0>wn?0:255:wn)&255,wn=mn,en[on+fn]=Fn}}function xv(Cr,Nr,Ur,Xr){var en=Nr.width,on=Nr.o;if(St(Cr!=null&&Nr!=null),0>Ur||0>=Xr||Ur+Xr>on)return null;if(!Cr.Cc){if(Cr.ga==null){var dn;if(Cr.ga=new cm,(dn=Cr.ga==null)||(dn=Nr.width*Nr.o,St(Cr.Gb.length==0),Cr.Gb=sr(dn),Cr.Uc=0,Cr.Gb==null?dn=0:(Cr.mb=Cr.Gb,Cr.nb=Cr.Uc,Cr.rc=null,dn=1),dn=!dn),!dn){dn=Cr.ga;var fn=Cr.Fa,mn=Cr.P,wn=Cr.qc,Fn=Cr.mb,zn=Cr.nb,qn=mn+1,Un=wn-1,ss=dn.l;if(St(fn!=null&&Fn!=null&&Nr!=null),mA[0]=null,mA[1]=To,mA[2]=cA,mA[3]=up,dn.ca=Fn,dn.tb=zn,dn.c=Nr.width,dn.i=Nr.height,St(0<dn.c&&0<dn.i),1>=wn)Nr=0;else if(dn.$a=fn[mn+0]>>0&3,dn.Z=fn[mn+0]>>2&3,dn.Lc=fn[mn+0]>>4&3,mn=fn[mn+0]>>6&3,0>dn.$a||1<dn.$a||4<=dn.Z||1<dn.Lc||mn)Nr=0;else if(ss.put=fu,ss.ac=Os,ss.bc=tu,ss.ma=dn,ss.width=Nr.width,ss.height=Nr.height,ss.Da=Nr.Da,ss.v=Nr.v,ss.va=Nr.va,ss.j=Nr.j,ss.o=Nr.o,dn.$a)e:{St(dn.$a==1),Nr=Yn();t:for(;;){if(Nr==null){Nr=0;break e}if(St(dn!=null),dn.mc=Nr,Nr.c=dn.c,Nr.i=dn.i,Nr.l=dn.l,Nr.l.ma=dn,Nr.l.width=dn.c,Nr.l.height=dn.i,Nr.a=0,Tr(Nr.m,fn,qn,Un),!$n(dn.c,dn.i,1,Nr,null)||(Nr.ab==1&&Nr.gc[0].hc==3&&xn(Nr.s)?(dn.ic=1,fn=Nr.c*Nr.i,Nr.Ta=null,Nr.Ua=0,Nr.V=sr(fn),Nr.Ba=0,Nr.V==null?(Nr.a=1,Nr=0):Nr=1):(dn.ic=0,Nr=Qn(Nr,dn.c)),!Nr))break t;Nr=1;break e}dn.mc=null,Nr=0}else Nr=Un>=dn.c*dn.i;dn=!Nr}if(dn)return null;Cr.ga.Lc!=1?Cr.Ga=0:Xr=on-Ur}St(Cr.ga!=null),St(Ur+Xr<=on);e:{if(Nr=(fn=Cr.ga).c,on=fn.l.o,fn.$a==0){if(qn=Cr.rc,Un=Cr.Vc,ss=Cr.Fa,mn=Cr.P+1+Ur*Nr,wn=Cr.mb,Fn=Cr.nb+Ur*Nr,St(mn<=Cr.P+Cr.qc),fn.Z!=0)for(St(mA[fn.Z]!=null),dn=0;dn<Xr;++dn)mA[fn.Z](qn,Un,ss,mn,wn,Fn,Nr),qn=wn,Un=Fn,Fn+=Nr,mn+=Nr;else for(dn=0;dn<Xr;++dn)rr(wn,Fn,ss,mn,Nr),qn=wn,Un=Fn,Fn+=Nr,mn+=Nr;Cr.rc=qn,Cr.Vc=Un}else{if(St(fn.mc!=null),Nr=Ur+Xr,St((dn=fn.mc)!=null),St(Nr<=dn.i),dn.C>=Nr)Nr=1;else if(fn.ic||Vn(),fn.ic){fn=dn.V,qn=dn.Ba,Un=dn.c;var Xn=dn.i,In=(ss=1,mn=dn.$/Un,wn=dn.$%Un,Fn=dn.m,zn=dn.s,dn.$),On=Un*Xn,rs=Un*Nr,us=zn.wc,ns=In<rs?Vo(zn,wn,mn):null;St(In<=On),St(Nr<=Xn),St(xn(zn));t:for(;;){for(;!Fn.h&&In<rs;){if(wn&us||(ns=Vo(zn,wn,mn)),St(ns!=null),Zr(Fn),256>(Xn=Al(ns.G[0],ns.H[0],Fn)))fn[qn+In]=Xn,++In,++wn>=Un&&(wn=0,++mn<=Nr&&!(mn%16)&&_n(dn,mn));else{if(!(280>Xn)){ss=0;break t}Xn=wl(Xn-256,Fn);var Ss,Es=Al(ns.G[4],ns.H[4],Fn);if(Zr(Fn),!(In>=(Es=_l(Un,Es=wl(Es,Fn)))&&On-In>=Xn)){ss=0;break t}for(Ss=0;Ss<Xn;++Ss)fn[qn+In+Ss]=fn[qn+In+Ss-Es];for(In+=Xn,wn+=Xn;wn>=Un;)wn-=Un,++mn<=Nr&&!(mn%16)&&_n(dn,mn);In<rs&&wn&us&&(ns=Vo(zn,wn,mn))}St(Fn.h==Hr(Fn))}_n(dn,mn>Nr?Nr:mn);break t}!ss||Fn.h&&In<On?(ss=0,dn.a=Fn.h?5:3):dn.$=In,Nr=ss}else Nr=Cn(dn,dn.V,dn.Ba,dn.c,dn.i,Nr,Wn);if(!Nr){Xr=0;break e}}Ur+Xr>=on&&(Cr.Cc=1),Xr=1}if(!Xr)return null;if(Cr.Cc&&((Xr=Cr.ga)!=null&&(Xr.mc=null),Cr.ga=null,0<Cr.Ga))return alert("todo:WebPDequantizeLevels"),null}return Cr.nb+Ur*en}function Dr(Cr,Nr,Ur,Xr,en,on){for(;0<en--;){var dn,fn=Cr,mn=Nr+(Ur?1:0),wn=Cr,Fn=Nr+(Ur?0:3);for(dn=0;dn<Xr;++dn){var zn=wn[Fn+4*dn];zn!=255&&(zn*=32897,fn[mn+4*dn+0]=fn[mn+4*dn+0]*zn>>23,fn[mn+4*dn+1]=fn[mn+4*dn+1]*zn>>23,fn[mn+4*dn+2]=fn[mn+4*dn+2]*zn>>23)}Nr+=on}}function tn(Cr,Nr,Ur,Xr,en){for(;0<Xr--;){var on;for(on=0;on<Ur;++on){var dn=Cr[Nr+2*on+0],fn=15&(wn=Cr[Nr+2*on+1]),mn=4369*fn,wn=(240&wn|wn>>4)*mn>>16;Cr[Nr+2*on+0]=(240&dn|dn>>4)*mn>>16&240|(15&dn|dn<<4)*mn>>16>>4&15,Cr[Nr+2*on+1]=240&wn|fn}Nr+=en}}function jn(Cr,Nr,Ur,Xr,en,on,dn,fn){var mn,wn,Fn=255;for(wn=0;wn<en;++wn){for(mn=0;mn<Xr;++mn){var zn=Cr[Nr+mn];on[dn+4*mn]=zn,Fn&=zn}Nr+=Ur,dn+=fn}return Fn!=255}function Bn(Cr,Nr,Ur,Xr,en){var on;for(on=0;on<en;++on)Ur[Xr+on]=Cr[Nr+on]>>8}function Vn(){Yu=Dr,ko=tn,Qo=jn,Ol=Bn}function Jn(Cr,Nr,Ur){jr[Cr]=function(Xr,en,on,dn,fn,mn,wn,Fn,zn,qn,Un,ss,Xn,In,On,rs,us){var ns,Ss=us-1>>1,Es=fn[mn+0]|wn[Fn+0]<<16,Us=zn[qn+0]|Un[ss+0]<<16;St(Xr!=null);var xs=3*Es+Us+131074>>2;for(Nr(Xr[en+0],255&xs,xs>>16,Xn,In),on!=null&&(xs=3*Us+Es+131074>>2,Nr(on[dn+0],255&xs,xs>>16,On,rs)),ns=1;ns<=Ss;++ns){var _o=fn[mn+ns]|wn[Fn+ns]<<16,No=zn[qn+ns]|Un[ss+ns]<<16,vo=Es+_o+Us+No+524296,lo=vo+2*(_o+Us)>>3;xs=lo+Es>>1,Es=(vo=vo+2*(Es+No)>>3)+_o>>1,Nr(Xr[en+2*ns-1],255&xs,xs>>16,Xn,In+(2*ns-1)*Ur),Nr(Xr[en+2*ns-0],255&Es,Es>>16,Xn,In+(2*ns-0)*Ur),on!=null&&(xs=vo+Us>>1,Es=lo+No>>1,Nr(on[dn+2*ns-1],255&xs,xs>>16,On,rs+(2*ns-1)*Ur),Nr(on[dn+2*ns+0],255&Es,Es>>16,On,rs+(2*ns+0)*Ur)),Es=_o,Us=No}1&us||(xs=3*Es+Us+131074>>2,Nr(Xr[en+us-1],255&xs,xs>>16,Xn,In+(us-1)*Ur),on!=null&&(xs=3*Us+Es+131074>>2,Nr(on[dn+us-1],255&xs,xs>>16,On,rs+(us-1)*Ur)))}}function ds(){Xu[bv]=An,Xu[fm]=jv,Xu[Am]=m0,Xu[zm]=Ju,Xu[f1]=po,Xu[ZE]=oS,Xu[nS]=G2,Xu[u0]=jv,Xu[d0]=Ju,Xu[h0]=po,Xu[ew]=oS}function Ps(Cr){return Cr&-16384?0>Cr?0:255:Cr>>K2}function Gs(Cr,Nr){return Ps((19077*Cr>>8)+(26149*Nr>>8)-14234)}function ro(Cr,Nr,Ur){return Ps((19077*Cr>>8)-(6419*Nr>>8)-(13320*Ur>>8)+8708)}function $a(Cr,Nr){return Ps((19077*Cr>>8)+(33050*Nr>>8)-17685)}function mo(Cr,Nr,Ur,Xr,en){Xr[en+0]=Gs(Cr,Ur),Xr[en+1]=ro(Cr,Nr,Ur),Xr[en+2]=$a(Cr,Nr)}function Yo(Cr,Nr,Ur,Xr,en){Xr[en+0]=$a(Cr,Nr),Xr[en+1]=ro(Cr,Nr,Ur),Xr[en+2]=Gs(Cr,Ur)}function Rl(Cr,Nr,Ur,Xr,en){var on=ro(Cr,Nr,Ur);Nr=on<<3&224|$a(Cr,Nr)>>3,Xr[en+0]=248&Gs(Cr,Ur)|on>>5,Xr[en+1]=Nr}function Tl(Cr,Nr,Ur,Xr,en){var on=240&$a(Cr,Nr)|15;Xr[en+0]=240&Gs(Cr,Ur)|ro(Cr,Nr,Ur)>>4,Xr[en+1]=on}function ru(Cr,Nr,Ur,Xr,en){Xr[en+0]=255,mo(Cr,Nr,Ur,Xr,en+1)}function nu(Cr,Nr,Ur,Xr,en){Yo(Cr,Nr,Ur,Xr,en),Xr[en+3]=255}function uA(Cr,Nr,Ur,Xr,en){mo(Cr,Nr,Ur,Xr,en),Xr[en+3]=255}function qo(Cr,Nr){return 0>Cr?0:Cr>Nr?Nr:Cr}function dA(Cr,Nr,Ur){jr[Cr]=function(Xr,en,on,dn,fn,mn,wn,Fn,zn){for(var qn=Fn+(-2&zn)*Ur;Fn!=qn;)Nr(Xr[en+0],on[dn+0],fn[mn+0],wn,Fn),Nr(Xr[en+1],on[dn+0],fn[mn+0],wn,Fn+Ur),en+=2,++dn,++mn,Fn+=2*Ur;1&zn&&Nr(Xr[en+0],on[dn+0],fn[mn+0],wn,Fn)}}function um(Cr,Nr,Ur){return Ur==0?Cr==0?Nr==0?6:5:Nr==0?4:0:Ur}function r0(Cr,Nr,Ur,Xr,en){switch(Cr>>>30){case 3:Zn(Nr,Ur,Xr,en,0);break;case 2:Kn(Nr,Ur,Xr,en);break;case 1:$s(Nr,Ur,Xr,en)}}function n0(Cr,Nr){var Ur,Xr,en=Nr.M,on=Nr.Nb,dn=Cr.oc,fn=Cr.pc+40,mn=Cr.oc,wn=Cr.pc+584,Fn=Cr.oc,zn=Cr.pc+600;for(Ur=0;16>Ur;++Ur)dn[fn+32*Ur-1]=129;for(Ur=0;8>Ur;++Ur)mn[wn+32*Ur-1]=129,Fn[zn+32*Ur-1]=129;for(0<en?dn[fn-1-32]=mn[wn-1-32]=Fn[zn-1-32]=129:(nr(dn,fn-32-1,127,21),nr(mn,wn-32-1,127,9),nr(Fn,zn-32-1,127,9)),Xr=0;Xr<Cr.za;++Xr){var qn=Nr.ya[Nr.aa+Xr];if(0<Xr){for(Ur=-1;16>Ur;++Ur)rr(dn,fn+32*Ur-4,dn,fn+32*Ur+12,4);for(Ur=-1;8>Ur;++Ur)rr(mn,wn+32*Ur-4,mn,wn+32*Ur+4,4),rr(Fn,zn+32*Ur-4,Fn,zn+32*Ur+4,4)}var Un=Cr.Gd,ss=Cr.Hd+Xr,Xn=qn.ad,In=qn.Hc;if(0<en&&(rr(dn,fn-32,Un[ss].y,0,16),rr(mn,wn-32,Un[ss].f,0,8),rr(Fn,zn-32,Un[ss].ea,0,8)),qn.Za){var On=dn,rs=fn-32+16;for(0<en&&(Xr>=Cr.za-1?nr(On,rs,Un[ss].y[15],4):rr(On,rs,Un[ss+1].y,0,4)),Ur=0;4>Ur;Ur++)On[rs+128+Ur]=On[rs+256+Ur]=On[rs+384+Ur]=On[rs+0+Ur];for(Ur=0;16>Ur;++Ur,In<<=2)On=dn,rs=fn+cS[Ur],FA[qn.Ob[Ur]](On,rs),r0(In,Xn,16*+Ur,On,rs)}else if(On=um(Xr,en,qn.Ob[0]),pm[On](dn,fn),In!=0)for(Ur=0;16>Ur;++Ur,In<<=2)r0(In,Xn,16*+Ur,dn,fn+cS[Ur]);for(Ur=qn.Gc,On=um(Xr,en,qn.Dd),Fp[On](mn,wn),Fp[On](Fn,zn),In=Xn,On=mn,rs=wn,255&(qn=Ur>>0)&&(170&qn?Ns(In,256,On,rs):no(In,256,On,rs)),qn=Fn,In=zn,255&(Ur>>=8)&&(170&Ur?Ns(Xn,320,qn,In):no(Xn,320,qn,In)),en<Cr.Ub-1&&(rr(Un[ss].y,0,dn,fn+480,16),rr(Un[ss].f,0,mn,wn+224,8),rr(Un[ss].ea,0,Fn,zn+224,8)),Ur=8*on*Cr.B,Un=Cr.sa,ss=Cr.ta+16*Xr+16*on*Cr.R,Xn=Cr.qa,qn=Cr.ra+8*Xr+Ur,In=Cr.Ha,On=Cr.Ia+8*Xr+Ur,Ur=0;16>Ur;++Ur)rr(Un,ss+Ur*Cr.R,dn,fn+32*Ur,16);for(Ur=0;8>Ur;++Ur)rr(Xn,qn+Ur*Cr.B,mn,wn+32*Ur,8),rr(In,On+Ur*Cr.B,Fn,zn+32*Ur,8)}}function s0(Cr,Nr,Ur,Xr,en,on,dn,fn,mn){var wn=[0],Fn=[0],zn=0,qn=mn!=null?mn.kd:0,Un=mn??new gv;if(Cr==null||12>Ur)return 7;Un.data=Cr,Un.w=Nr,Un.ha=Ur,Nr=[Nr],Ur=[Ur],Un.gb=[Un.gb];e:{var ss=Nr,Xn=Ur,In=Un.gb;if(St(Cr!=null),St(Xn!=null),St(In!=null),In[0]=0,12<=Xn[0]&&!tr(Cr,ss[0],"RIFF")){if(tr(Cr,ss[0]+8,"WEBP")){In=3;break e}var On=Mn(Cr,ss[0]+4);if(12>On||4294967286<On){In=3;break e}if(qn&&On>Xn[0]-8){In=7;break e}In[0]=On,ss[0]+=12,Xn[0]-=12}In=0}if(In!=0)return In;for(On=0<Un.gb[0],Ur=Ur[0];;){e:{var rs=Cr;Xn=Nr,In=Ur;var us=wn,ns=Fn,Ss=ss=[0];if((xs=zn=[zn])[0]=0,8>In[0])In=7;else{if(!tr(rs,Xn[0],"VP8X")){if(Mn(rs,Xn[0]+4)!=10){In=3;break e}if(18>In[0]){In=7;break e}var Es=Mn(rs,Xn[0]+8),Us=1+bn(rs,Xn[0]+12);if(2147483648<=Us*(rs=1+bn(rs,Xn[0]+15))){In=3;break e}Ss!=null&&(Ss[0]=Es),us!=null&&(us[0]=Us),ns!=null&&(ns[0]=rs),Xn[0]+=18,In[0]-=18,xs[0]=1}In=0}}if(zn=zn[0],ss=ss[0],In!=0)return In;if(Xn=!!(2&ss),!On&&zn)return 3;if(on!=null&&(on[0]=!!(16&ss)),dn!=null&&(dn[0]=Xn),fn!=null&&(fn[0]=0),dn=wn[0],ss=Fn[0],zn&&Xn&&mn==null){In=0;break}if(4>Ur){In=7;break}if(On&&zn||!On&&!zn&&!tr(Cr,Nr[0],"ALPH")){Ur=[Ur],Un.na=[Un.na],Un.P=[Un.P],Un.Sa=[Un.Sa];e:{Es=Cr,In=Nr,On=Ur;var xs=Un.gb;us=Un.na,ns=Un.P,Ss=Un.Sa,Us=22,St(Es!=null),St(On!=null),rs=In[0];var _o=On[0];for(St(us!=null),St(Ss!=null),us[0]=null,ns[0]=null,Ss[0]=0;;){if(In[0]=rs,On[0]=_o,8>_o){In=7;break e}var No=Mn(Es,rs+4);if(4294967286<No){In=3;break e}var vo=8+No+1&-2;if(Us+=vo,0<xs&&Us>xs){In=3;break e}if(!tr(Es,rs,"VP8 ")||!tr(Es,rs,"VP8L")){In=0;break e}if(_o[0]<vo){In=7;break e}tr(Es,rs,"ALPH")||(us[0]=Es,ns[0]=rs+8,Ss[0]=No),rs+=vo,_o-=vo}}if(Ur=Ur[0],Un.na=Un.na[0],Un.P=Un.P[0],Un.Sa=Un.Sa[0],In!=0)break}Ur=[Ur],Un.Ja=[Un.Ja],Un.xa=[Un.xa];e:if(xs=Cr,In=Nr,On=Ur,us=Un.gb[0],ns=Un.Ja,Ss=Un.xa,Es=In[0],rs=!tr(xs,Es,"VP8 "),Us=!tr(xs,Es,"VP8L"),St(xs!=null),St(On!=null),St(ns!=null),St(Ss!=null),8>On[0])In=7;else{if(rs||Us){if(xs=Mn(xs,Es+4),12<=us&&xs>us-12){In=3;break e}if(qn&&xs>On[0]-8){In=7;break e}ns[0]=xs,In[0]+=8,On[0]-=8,Ss[0]=Us}else Ss[0]=5<=On[0]&&xs[Es+0]==47&&!(xs[Es+4]>>5),ns[0]=On[0];In=0}if(Ur=Ur[0],Un.Ja=Un.Ja[0],Un.xa=Un.xa[0],Nr=Nr[0],In!=0)break;if(4294967286<Un.Ja)return 3;if(fn==null||Xn||(fn[0]=Un.xa?2:1),dn=[dn],ss=[ss],Un.xa){if(5>Ur){In=7;break}fn=dn,qn=ss,Xn=on,Cr==null||5>Ur?Cr=0:5<=Ur&&Cr[Nr+0]==47&&!(Cr[Nr+4]>>5)?(On=[0],xs=[0],us=[0],Tr(ns=new Rr,Cr,Nr,Ur),Ws(ns,On,xs,us)?(fn!=null&&(fn[0]=On[0]),qn!=null&&(qn[0]=xs[0]),Xn!=null&&(Xn[0]=us[0]),Cr=1):Cr=0):Cr=0}else{if(10>Ur){In=7;break}fn=ss,Cr==null||10>Ur||!ov(Cr,Nr+3,Ur-3)?Cr=0:(qn=Cr[Nr+0]|Cr[Nr+1]<<8|Cr[Nr+2]<<16,Xn=16383&(Cr[Nr+7]<<8|Cr[Nr+6]),Cr=16383&(Cr[Nr+9]<<8|Cr[Nr+8]),1&qn||3<(qn>>1&7)||!(qn>>4&1)||qn>>5>=Un.Ja||!Xn||!Cr?Cr=0:(dn&&(dn[0]=Xn),fn&&(fn[0]=Cr),Cr=1))}if(!Cr||(dn=dn[0],ss=ss[0],zn&&(wn[0]!=dn||Fn[0]!=ss)))return 3;mn!=null&&(mn[0]=Un,mn.offset=Nr-mn.w,St(4294967286>Nr-mn.w),St(mn.offset==mn.ha-Ur));break}return In==0||In==7&&zn&&mn==null?(on!=null&&(on[0]|=Un.na!=null&&0<Un.na.length),Xr!=null&&(Xr[0]=dn),en!=null&&(en[0]=ss),0):In}function vv(Cr,Nr,Ur){var Xr=Nr.width,en=Nr.height,on=0,dn=0,fn=Xr,mn=en;if(Nr.Da=Cr!=null&&0<Cr.Da,Nr.Da&&(fn=Cr.cd,mn=Cr.bd,on=Cr.v,dn=Cr.j,11>Ur||(on&=-2,dn&=-2),0>on||0>dn||0>=fn||0>=mn||on+fn>Xr||dn+mn>en))return 0;if(Nr.v=on,Nr.j=dn,Nr.va=on+fn,Nr.o=dn+mn,Nr.U=fn,Nr.T=mn,Nr.da=Cr!=null&&0<Cr.da,Nr.da){if(!Gn(fn,mn,Ur=[Cr.ib],on=[Cr.hb]))return 0;Nr.ib=Ur[0],Nr.hb=on[0]}return Nr.ob=Cr!=null&&Cr.ob,Nr.Kb=Cr==null||!Cr.Sd,Nr.da&&(Nr.ob=Nr.ib<3*Xr/4&&Nr.hb<3*en/4,Nr.Kb=0),1}function yv(Cr){if(Cr==null)return 2;if(11>Cr.S){var Nr=Cr.f.RGBA;Nr.fb+=(Cr.height-1)*Nr.A,Nr.A=-Nr.A}else Nr=Cr.f.kb,Cr=Cr.height,Nr.O+=(Cr-1)*Nr.fa,Nr.fa=-Nr.fa,Nr.N+=(Cr-1>>1)*Nr.Ab,Nr.Ab=-Nr.Ab,Nr.W+=(Cr-1>>1)*Nr.Db,Nr.Db=-Nr.Db,Nr.F!=null&&(Nr.J+=(Cr-1)*Nr.lb,Nr.lb=-Nr.lb);return 0}function i0(Cr,Nr,Ur,Xr){if(Xr==null||0>=Cr||0>=Nr)return 2;if(Ur!=null){if(Ur.Da){var en=Ur.cd,on=Ur.bd,dn=-2&Ur.v,fn=-2&Ur.j;if(0>dn||0>fn||0>=en||0>=on||dn+en>Cr||fn+on>Nr)return 2;Cr=en,Nr=on}if(Ur.da){if(!Gn(Cr,Nr,en=[Ur.ib],on=[Ur.hb]))return 2;Cr=en[0],Nr=on[0]}}Xr.width=Cr,Xr.height=Nr;e:{var mn=Xr.width,wn=Xr.height;if(Cr=Xr.S,0>=mn||0>=wn||!(Cr>=bv&&13>Cr))Cr=2;else{if(0>=Xr.Rd&&Xr.sd==null){dn=on=en=Nr=0;var Fn=(fn=mn*uS[Cr])*wn;if(11>Cr||(on=(wn+1)/2*(Nr=(mn+1)/2),Cr==12&&(dn=(en=mn)*wn)),(wn=sr(Fn+2*on+dn))==null){Cr=1;break e}Xr.sd=wn,11>Cr?((mn=Xr.f.RGBA).eb=wn,mn.fb=0,mn.A=fn,mn.size=Fn):((mn=Xr.f.kb).y=wn,mn.O=0,mn.fa=fn,mn.Fd=Fn,mn.f=wn,mn.N=0+Fn,mn.Ab=Nr,mn.Cd=on,mn.ea=wn,mn.W=0+Fn+on,mn.Db=Nr,mn.Ed=on,Cr==12&&(mn.F=wn,mn.J=0+Fn+2*on),mn.Tc=dn,mn.lb=en)}if(Nr=1,en=Xr.S,on=Xr.width,dn=Xr.height,en>=bv&&13>en)if(11>en)Cr=Xr.f.RGBA,Nr&=(fn=Math.abs(Cr.A))*(dn-1)+on<=Cr.size,Nr&=fn>=on*uS[en],Nr&=Cr.eb!=null;else{Cr=Xr.f.kb,fn=(on+1)/2,Fn=(dn+1)/2,mn=Math.abs(Cr.fa),wn=Math.abs(Cr.Ab);var zn=Math.abs(Cr.Db),qn=Math.abs(Cr.lb),Un=qn*(dn-1)+on;Nr&=mn*(dn-1)+on<=Cr.Fd,Nr&=wn*(Fn-1)+fn<=Cr.Cd,Nr=(Nr&=zn*(Fn-1)+fn<=Cr.Ed)&mn>=on&wn>=fn&zn>=fn,Nr&=Cr.y!=null,Nr&=Cr.f!=null,Nr&=Cr.ea!=null,en==12&&(Nr&=qn>=on,Nr&=Un<=Cr.Tc,Nr&=Cr.F!=null)}else Nr=0;Cr=Nr?0:2}}return Cr!=0||Ur!=null&&Ur.fd&&(Cr=yv(Xr)),Cr}var lu=64,PA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],a0=24,o0=32,Vm=8,_u=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];cs("Predictor0","PredictorAdd0"),jr.Predictor0=function(){return 4278190080},jr.Predictor1=function(Cr){return Cr},jr.Predictor2=function(Cr,Nr,Ur){return Nr[Ur+0]},jr.Predictor3=function(Cr,Nr,Ur){return Nr[Ur+1]},jr.Predictor4=function(Cr,Nr,Ur){return Nr[Ur-1]},jr.Predictor5=function(Cr,Nr,Ur){return fs(fs(Cr,Nr[Ur+1]),Nr[Ur+0])},jr.Predictor6=function(Cr,Nr,Ur){return fs(Cr,Nr[Ur-1])},jr.Predictor7=function(Cr,Nr,Ur){return fs(Cr,Nr[Ur+0])},jr.Predictor8=function(Cr,Nr,Ur){return fs(Nr[Ur-1],Nr[Ur+0])},jr.Predictor9=function(Cr,Nr,Ur){return fs(Nr[Ur+0],Nr[Ur+1])},jr.Predictor10=function(Cr,Nr,Ur){return fs(fs(Cr,Nr[Ur-1]),fs(Nr[Ur+0],Nr[Ur+1]))},jr.Predictor11=function(Cr,Nr,Ur){var Xr=Nr[Ur+0];return 0>=Rs(Xr>>24&255,Cr>>24&255,(Nr=Nr[Ur-1])>>24&255)+Rs(Xr>>16&255,Cr>>16&255,Nr>>16&255)+Rs(Xr>>8&255,Cr>>8&255,Nr>>8&255)+Rs(255&Xr,255&Cr,255&Nr)?Xr:Cr},jr.Predictor12=function(Cr,Nr,Ur){var Xr=Nr[Ur+0];return(vs((Cr>>24&255)+(Xr>>24&255)-((Nr=Nr[Ur-1])>>24&255))<<24|vs((Cr>>16&255)+(Xr>>16&255)-(Nr>>16&255))<<16|vs((Cr>>8&255)+(Xr>>8&255)-(Nr>>8&255))<<8|vs((255&Cr)+(255&Xr)-(255&Nr)))>>>0},jr.Predictor13=function(Cr,Nr,Ur){var Xr=Nr[Ur-1];return(ws((Cr=fs(Cr,Nr[Ur+0]))>>24&255,Xr>>24&255)<<24|ws(Cr>>16&255,Xr>>16&255)<<16|ws(Cr>>8&255,Xr>>8&255)<<8|ws(Cr>>0&255,Xr>>0&255))>>>0};var dp=jr.PredictorAdd0;jr.PredictorAdd1=ks,cs("Predictor2","PredictorAdd2"),cs("Predictor3","PredictorAdd3"),cs("Predictor4","PredictorAdd4"),cs("Predictor5","PredictorAdd5"),cs("Predictor6","PredictorAdd6"),cs("Predictor7","PredictorAdd7"),cs("Predictor8","PredictorAdd8"),cs("Predictor9","PredictorAdd9"),cs("Predictor10","PredictorAdd10"),cs("Predictor11","PredictorAdd11"),cs("Predictor12","PredictorAdd12"),cs("Predictor13","PredictorAdd13");var dm=jr.PredictorAdd2;Ds("ColorIndexInverseTransform","MapARGB","32b",function(Cr){return Cr>>8&255},function(Cr){return Cr}),Ds("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Cr){return Cr},function(Cr){return Cr>>8&255});var h1,hA=jr.ColorIndexInverseTransform,l0=jr.MapARGB,Pp=jr.VP8LColorIndexInverseTransformAlpha,Lu=jr.MapAlpha,Np=jr.VP8LPredictorsAdd=[];Np.length=16,(jr.VP8LPredictors=[]).length=16,(jr.VP8LPredictorsAdd_C=[]).length=16,(jr.VP8LPredictors_C=[]).length=16;var Qm,Ou,Su,hm,Bp,Du,Dn,Zn,Kn,Ns,$s,no,Xo,Po,Wm,Gm,su,NA,Km,IA,hp,kA,Eo,fA,Yu,ko,Qo,Ol,Yl=sr(511),AA=sr(2041),pA=sr(225),Ip=sr(767),Ev=0,c0=AA,wv=pA,Mu=Ip,Cu=Yl,bv=0,fm=1,Am=2,zm=3,f1=4,ZE=5,nS=6,u0=7,d0=8,h0=9,ew=10,sS=[2,3,7],$2=[3,3,11],iS=[280,256,256,256,40],Xl=[0,1,1,1,0],pu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],U2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],V2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aS=8,tw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_v=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kp=null,rw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],f0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],A0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],A1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],p0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Q2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pm=[],FA=[],Fp=[],W2=1,Cv=2,mA=[],Xu=[];Jn("UpsampleRgbLinePair",mo,3),Jn("UpsampleBgrLinePair",Yo,3),Jn("UpsampleRgbaLinePair",uA,4),Jn("UpsampleBgraLinePair",nu,4),Jn("UpsampleArgbLinePair",ru,4),Jn("UpsampleRgba4444LinePair",Tl,2),Jn("UpsampleRgb565LinePair",Rl,2);var An=jr.UpsampleRgbLinePair,m0=jr.UpsampleBgrLinePair,jv=jr.UpsampleRgbaLinePair,Ju=jr.UpsampleBgraLinePair,po=jr.UpsampleArgbLinePair,oS=jr.UpsampleRgba4444LinePair,G2=jr.UpsampleRgb565LinePair,p1=16,fp=1<<p1-1,Rv=-227,nw=482,K2=6,lS=0,z2=sr(256),Lp=sr(256),q2=sr(256),Y2=sr(256),X2=sr(nw-Rv),J2=sr(nw-Rv);dA("YuvToRgbRow",mo,3),dA("YuvToBgrRow",Yo,3),dA("YuvToRgbaRow",uA,4),dA("YuvToBgraRow",nu,4),dA("YuvToArgbRow",ru,4),dA("YuvToRgba4444Row",Tl,2),dA("YuvToRgb565Row",Rl,2);var cS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gA=[0,2,8],Z2=[8,7,6,4,4,2,2,2,1,1,1,1],eC=1;this.WebPDecodeRGBA=function(Cr,Nr,Ur,Xr,en){var on=fm,dn=new ou,fn=new Ys;dn.ba=fn,fn.S=on,fn.width=[fn.width],fn.height=[fn.height];var mn=fn.width,wn=fn.height,Fn=new Uo;if(Fn==null||Cr==null)var zn=2;else St(Fn!=null),zn=s0(Cr,Nr,Ur,Fn.width,Fn.height,Fn.Pd,Fn.Qd,Fn.format,null);if(zn!=0?mn=0:(mn!=null&&(mn[0]=Fn.width[0]),wn!=null&&(wn[0]=Fn.height[0]),mn=1),mn){fn.width=fn.width[0],fn.height=fn.height[0],Xr!=null&&(Xr[0]=fn.width),en!=null&&(en[0]=fn.height);e:{if(Xr=new ip,(en=new gv).data=Cr,en.w=Nr,en.ha=Ur,en.kd=1,Nr=[0],St(en!=null),((Cr=s0(en.data,en.w,en.ha,null,null,null,Nr,null,en))==0||Cr==7)&&Nr[0]&&(Cr=4),(Nr=Cr)==0){if(St(dn!=null),Xr.data=en.data,Xr.w=en.w+en.offset,Xr.ha=en.ha-en.offset,Xr.put=fu,Xr.ac=Os,Xr.bc=tu,Xr.ma=dn,en.xa){if((Cr=Yn())==null){dn=1;break e}if(function(qn,Un){var ss=[0],Xn=[0],In=[0];t:for(;;){if(qn==null)return 0;if(Un==null)return qn.a=2,0;if(qn.l=Un,qn.a=0,Tr(qn.m,Un.data,Un.w,Un.ha),!Ws(qn.m,ss,Xn,In)){qn.a=3;break t}if(qn.xb=Cv,Un.width=ss[0],Un.height=Xn[0],!$n(ss[0],Xn[0],1,qn,null))break t;return 1}return St(qn.a!=0),0}(Cr,Xr)){if(Xr=(Nr=i0(Xr.width,Xr.height,dn.Oa,dn.ba))==0){t:{Xr=Cr;r:for(;;){if(Xr==null){Xr=0;break t}if(St(Xr.s.yc!=null),St(Xr.s.Ya!=null),St(0<Xr.s.Wb),St((Ur=Xr.l)!=null),St((en=Ur.ma)!=null),Xr.xb!=0){if(Xr.ca=en.ba,Xr.tb=en.tb,St(Xr.ca!=null),!vv(en.Oa,Ur,zm)){Xr.a=2;break r}if(!Qn(Xr,Ur.width)||Ur.da)break r;if((Ur.da||eo(Xr.ca.S))&&Vn(),11>Xr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Xr.ca.f.kb.F!=null&&Vn()),Xr.Pb&&0<Xr.s.ua&&Xr.s.vb.X==null&&!Rn(Xr.s.vb,Xr.s.Wa.Xa)){Xr.a=1;break r}Xr.xb=0}if(!Cn(Xr,Xr.V,Xr.Ba,Xr.c,Xr.i,Ur.o,Sn))break r;en.Dc=Xr.Ma,Xr=1;break t}St(Xr.a!=0),Xr=0}Xr=!Xr}Xr&&(Nr=Cr.a)}else Nr=Cr.a}else{if((Cr=new qu)==null){dn=1;break e}if(Cr.Fa=en.na,Cr.P=en.P,Cr.qc=en.Sa,lv(Cr,Xr)){if((Nr=i0(Xr.width,Xr.height,dn.Oa,dn.ba))==0){if(Cr.Aa=0,Ur=dn.Oa,St((en=Cr)!=null),Ur!=null){if(0<(mn=0>(mn=Ur.Md)?0:100<mn?255:255*mn/100)){for(wn=Fn=0;4>wn;++wn)12>(zn=en.pb[wn]).lc&&(zn.ia=mn*Z2[0>zn.lc?0:zn.lc]>>3),Fn|=zn.ia;Fn&&(alert("todo:VP8InitRandom"),en.ia=1)}en.Ga=Ur.Id,100<en.Ga?en.Ga=100:0>en.Ga&&(en.Ga=0)}Jy(Cr,Xr)||(Nr=Cr.a)}}else Nr=Cr.a}Nr==0&&dn.Oa!=null&&dn.Oa.fd&&(Nr=yv(dn.ba))}dn=Nr}on=dn!=0?null:11>on?fn.f.RGBA.eb:fn.f.kb.y}else on=null;return on};var uS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function lr(jr,Pr){for(var Mr="",Ir=0;Ir<4;Ir++)Mr+=String.fromCharCode(jr[Pr++]);return Mr}function cr(jr,Pr){return(jr[Pr+0]<<0|jr[Pr+1]<<8|jr[Pr+2]<<16)>>>0}function ur(jr,Pr){return(jr[Pr+0]<<0|jr[Pr+1]<<8|jr[Pr+2]<<16|jr[Pr+3]<<24)>>>0}new or;var dr=[0],hr=[0],Ar=[],fr=new or,mr=er,pr=function(jr,Pr){var Mr={},Ir=0,Lr=!1,Qr=0,Yr=0;if(Mr.frames=[],!function(Or,Hr,zr,Zr){for(var nn=0;nn<Zr;nn++)if(Or[Hr+nn]!=zr.charCodeAt(nn))return!0;return!1}(jr,Pr,"RIFF",4)){for(ur(jr,Pr+=4),Pr+=8;Pr<jr.length;){var Gr=lr(jr,Pr),$r=ur(jr,Pr+=4);Pr+=4;var Vr=$r+(1&$r);switch(Gr){case"VP8 ":case"VP8L":Mr.frames[Ir]===void 0&&(Mr.frames[Ir]={}),(Wr=Mr.frames[Ir]).src_off=Lr?Yr:Pr-8,Wr.src_size=Qr+$r+8,Ir++,Lr&&(Lr=!1,Qr=0,Yr=0);break;case"VP8X":(Wr=Mr.header={}).feature_flags=jr[Pr];var Tr=Pr+4;Wr.canvas_width=1+cr(jr,Tr),Tr+=3,Wr.canvas_height=1+cr(jr,Tr),Tr+=3;break;case"ALPH":Lr=!0,Qr=Vr+8,Yr=Pr-8;break;case"ANIM":(Wr=Mr.header).bgcolor=ur(jr,Pr),Tr=Pr+4,Wr.loop_count=(qr=jr)[(Rr=Tr)+0]<<0|qr[Rr+1]<<8,Tr+=2;break;case"ANMF":var Fr,Wr;(Wr=Mr.frames[Ir]={}).offset_x=2*cr(jr,Pr),Pr+=3,Wr.offset_y=2*cr(jr,Pr),Pr+=3,Wr.width=1+cr(jr,Pr),Pr+=3,Wr.height=1+cr(jr,Pr),Pr+=3,Wr.duration=cr(jr,Pr),Pr+=3,Fr=jr[Pr++],Wr.dispose=1&Fr,Wr.blend=Fr>>1&1}Gr!="ANMF"&&(Pr+=Vr)}var qr,Rr;return Mr}}(mr,0);pr.response=mr,pr.rgbaoutput=!0,pr.dataurl=!1;var gr=pr.header?pr.header:null,xr=pr.frames?pr.frames:null;if(gr){gr.loop_counter=gr.loop_count,dr=[gr.canvas_height],hr=[gr.canvas_width];for(var yr=0;yr<xr.length&&xr[yr].blend!=0;yr++);}var Er=xr[0],_r=fr.WebPDecodeRGBA(mr,Er.src_off,Er.src_size,hr,dr);Er.rgba=_r,Er.imgwidth=hr[0],Er.imgheight=dr[0];for(var Sr=0;Sr<hr[0]*dr[0]*4;Sr++)Ar[Sr]=_r[Sr];return this.width=hr,this.height=dr,this.data=Ar,this}(function(er){var St=function(){return typeof zlibSync=="function"},tr=function(dr,hr,Ar,fr){var mr=4,pr=ir;switch(fr){case er.image_compression.FAST:mr=1,pr=sr;break;case er.image_compression.MEDIUM:mr=6,pr=ar;break;case er.image_compression.SLOW:mr=9,pr=or}dr=rr(dr,hr,Ar,pr);var gr=zlibSync(dr,{level:mr});return er.__addimage__.arrayBufferToBinaryString(gr)},rr=function(dr,hr,Ar,fr){for(var mr,pr,gr,xr=dr.length/hr,yr=new Uint8Array(dr.length+xr),Er=cr(),_r=0;_r<xr;_r+=1){if(gr=_r*hr,mr=dr.subarray(gr,gr+hr),fr)yr.set(fr(mr,Ar,pr),gr+_r);else{for(var Sr,jr=Er.length,Pr=[];Sr<jr;Sr+=1)Pr[Sr]=Er[Sr](mr,Ar,pr);var Mr=ur(Pr.concat());yr.set(Pr[Mr],gr+_r)}pr=mr}return yr},nr=function(dr){var hr=Array.apply([],dr);return hr.unshift(0),hr},sr=function(dr,hr){var Ar,fr=[],mr=dr.length;fr[0]=1;for(var pr=0;pr<mr;pr+=1)Ar=dr[pr-hr]||0,fr[pr+1]=dr[pr]-Ar+256&255;return fr},ir=function(dr,hr,Ar){var fr,mr=[],pr=dr.length;mr[0]=2;for(var gr=0;gr<pr;gr+=1)fr=Ar&&Ar[gr]||0,mr[gr+1]=dr[gr]-fr+256&255;return mr},ar=function(dr,hr,Ar){var fr,mr,pr=[],gr=dr.length;pr[0]=3;for(var xr=0;xr<gr;xr+=1)fr=dr[xr-hr]||0,mr=Ar&&Ar[xr]||0,pr[xr+1]=dr[xr]+256-(fr+mr>>>1)&255;return pr},or=function(dr,hr,Ar){var fr,mr,pr,gr,xr=[],yr=dr.length;xr[0]=4;for(var Er=0;Er<yr;Er+=1)fr=dr[Er-hr]||0,mr=Ar&&Ar[Er]||0,pr=Ar&&Ar[Er-hr]||0,gr=lr(fr,mr,pr),xr[Er+1]=dr[Er]-gr+256&255;return xr},lr=function(dr,hr,Ar){if(dr===hr&&hr===Ar)return dr;var fr=Math.abs(hr-Ar),mr=Math.abs(dr-Ar),pr=Math.abs(dr+hr-Ar-Ar);return fr<=mr&&fr<=pr?dr:mr<=pr?hr:Ar},cr=function(){return[nr,sr,ir,ar,or]},ur=function(dr){var hr=dr.map(function(Ar){return Ar.reduce(function(fr,mr){return fr+Math.abs(mr)},0)});return hr.indexOf(Math.min.apply(null,hr))};er.processPNG=function(dr,hr,Ar,fr){var mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr,Gr=this.decode.FLATE_DECODE,$r="";if(this.__addimage__.isArrayBuffer(dr)&&(dr=new Uint8Array(dr)),this.__addimage__.isArrayBufferView(dr)){if(dr=(gr=new Kt(dr)).imgData,pr=gr.bits,mr=gr.colorSpace,yr=gr.colors,[4,6].indexOf(gr.colorType)!==-1){if(gr.bits===8){jr=(Sr=gr.pixelBitlength==32?new Uint32Array(gr.decodePixels().buffer):gr.pixelBitlength==16?new Uint16Array(gr.decodePixels().buffer):new Uint8Array(gr.decodePixels().buffer)).length,Mr=new Uint8Array(jr*gr.colors),Pr=new Uint8Array(jr);var Vr,Tr=gr.pixelBitlength-gr.bits;for(Qr=0,Yr=0;Qr<jr;Qr++){for(Lr=Sr[Qr],Vr=0;Vr<Tr;)Mr[Yr++]=Lr>>>Vr&255,Vr+=gr.bits;Pr[Qr]=Lr>>>Vr&255}}if(gr.bits===16){jr=(Sr=new Uint32Array(gr.decodePixels().buffer)).length,Mr=new Uint8Array(jr*(32/gr.pixelBitlength)*gr.colors),Pr=new Uint8Array(jr*(32/gr.pixelBitlength)),Ir=gr.colors>1,Qr=0,Yr=0;for(var Fr=0;Qr<jr;)Lr=Sr[Qr++],Mr[Yr++]=Lr>>>0&255,Ir&&(Mr[Yr++]=Lr>>>16&255,Lr=Sr[Qr++],Mr[Yr++]=Lr>>>0&255),Pr[Fr++]=Lr>>>16&255;pr=8}fr!==er.image_compression.NONE&&St()?(dr=tr(Mr,gr.width*gr.colors,gr.colors,fr),_r=tr(Pr,gr.width,1,fr)):(dr=Mr,_r=Pr,Gr=void 0)}if(gr.colorType===3&&(mr=this.color_spaces.INDEXED,Er=gr.palette,gr.transparency.indexed)){var Wr=gr.transparency.indexed,qr=0;for(Qr=0,jr=Wr.length;Qr<jr;++Qr)qr+=Wr[Qr];if((qr/=255)===jr-1&&Wr.indexOf(0)!==-1)xr=[Wr.indexOf(0)];else if(qr!==jr){for(Sr=gr.decodePixels(),Pr=new Uint8Array(Sr.length),Qr=0,jr=Sr.length;Qr<jr;Qr++)Pr[Qr]=Wr[Sr[Qr]];_r=tr(Pr,gr.width,1)}}var Rr=function(Or){var Hr;switch(Or){case er.image_compression.FAST:Hr=11;break;case er.image_compression.MEDIUM:Hr=13;break;case er.image_compression.SLOW:Hr=14;break;default:Hr=12}return Hr}(fr);return Gr===this.decode.FLATE_DECODE&&($r="/Predictor "+Rr+" "),$r+="/Colors "+yr+" /BitsPerComponent "+pr+" /Columns "+gr.width,(this.__addimage__.isArrayBuffer(dr)||this.__addimage__.isArrayBufferView(dr))&&(dr=this.__addimage__.arrayBufferToBinaryString(dr)),(_r&&this.__addimage__.isArrayBuffer(_r)||this.__addimage__.isArrayBufferView(_r))&&(_r=this.__addimage__.arrayBufferToBinaryString(_r)),{alias:Ar,data:dr,index:hr,filter:Gr,decodeParameters:$r,transparency:xr,palette:Er,sMask:_r,predictor:Rr,width:gr.width,height:gr.height,bitsPerComponent:pr,colorSpace:mr}}}})(E$1.API),function(er){er.processGIF89A=function(St,tr,rr,nr){var sr=new Zt(St),ir=sr.width,ar=sr.height,or=[];sr.decodeAndBlitFrameRGBA(0,or);var lr={data:or,width:ir,height:ar},cr=new Qt(100).encode(lr,100);return er.processJPEG.call(this,cr,tr,rr,nr)},er.processGIF87A=er.processGIF89A}(E$1.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var er=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(er);for(var St=0;St<er;St++){var tr=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0);this.palette[St]={red:nr,green:rr,blue:tr,quad:sr}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var er="bit"+this.bitPP,St=this.width*this.height*4;this.data=new Uint8Array(St),this[er]()}catch(tr){a$1.log("bit decode error:"+tr)}},te.prototype.bit1=function(){var er,St=Math.ceil(this.width/8),tr=St%4;for(er=this.height-1;er>=0;er--){for(var rr=this.bottom_up?er:this.height-1-er,nr=0;nr<St;nr++)for(var sr=this.datav.getUint8(this.pos++,!0),ir=rr*this.width*4+8*nr*4,ar=0;ar<8&&8*nr+ar<this.width;ar++){var or=this.palette[sr>>7-ar&1];this.data[ir+4*ar]=or.blue,this.data[ir+4*ar+1]=or.green,this.data[ir+4*ar+2]=or.red,this.data[ir+4*ar+3]=255}tr!==0&&(this.pos+=4-tr)}},te.prototype.bit4=function(){for(var er=Math.ceil(this.width/2),St=er%4,tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<er;nr++){var sr=this.datav.getUint8(this.pos++,!0),ir=rr*this.width*4+2*nr*4,ar=sr>>4,or=15&sr,lr=this.palette[ar];if(this.data[ir]=lr.blue,this.data[ir+1]=lr.green,this.data[ir+2]=lr.red,this.data[ir+3]=255,2*nr+1>=this.width)break;lr=this.palette[or],this.data[ir+4]=lr.blue,this.data[ir+4+1]=lr.green,this.data[ir+4+2]=lr.red,this.data[ir+4+3]=255}St!==0&&(this.pos+=4-St)}},te.prototype.bit8=function(){for(var er=this.width%4,St=this.height-1;St>=0;St--){for(var tr=this.bottom_up?St:this.height-1-St,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),sr=tr*this.width*4+4*rr;if(nr<this.palette.length){var ir=this.palette[nr];this.data[sr]=ir.red,this.data[sr+1]=ir.green,this.data[sr+2]=ir.blue,this.data[sr+3]=255}else this.data[sr]=255,this.data[sr+1]=255,this.data[sr+2]=255,this.data[sr+3]=255}er!==0&&(this.pos+=4-er)}},te.prototype.bit15=function(){for(var er=this.width%3,St=parseInt("11111",2),tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<this.width;nr++){var sr=this.datav.getUint16(this.pos,!0);this.pos+=2;var ir=(sr&St)/St*255|0,ar=(sr>>5&St)/St*255|0,or=(sr>>10&St)/St*255|0,lr=sr>>15?255:0,cr=rr*this.width*4+4*nr;this.data[cr]=or,this.data[cr+1]=ar,this.data[cr+2]=ir,this.data[cr+3]=lr}this.pos+=er}},te.prototype.bit16=function(){for(var er=this.width%3,St=parseInt("11111",2),tr=parseInt("111111",2),rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,sr=0;sr<this.width;sr++){var ir=this.datav.getUint16(this.pos,!0);this.pos+=2;var ar=(ir&St)/St*255|0,or=(ir>>5&tr)/tr*255|0,lr=(ir>>11)/St*255|0,cr=nr*this.width*4+4*sr;this.data[cr]=lr,this.data[cr+1]=or,this.data[cr+2]=ar,this.data[cr+3]=255}this.pos+=er}},te.prototype.bit24=function(){for(var er=this.height-1;er>=0;er--){for(var St=this.bottom_up?er:this.height-1-er,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0),ir=St*this.width*4+4*tr;this.data[ir]=sr,this.data[ir+1]=nr,this.data[ir+2]=rr,this.data[ir+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var er=this.height-1;er>=0;er--)for(var St=this.bottom_up?er:this.height-1-er,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),ar=St*this.width*4+4*tr;this.data[ar]=sr,this.data[ar+1]=nr,this.data[ar+2]=rr,this.data[ar+3]=ir}},te.prototype.getData=function(){return this.data},function(er){er.processBMP=function(St,tr,rr,nr){var sr=new te(St,!1),ir=sr.width,ar=sr.height,or={data:sr.getData(),width:ir,height:ar},lr=new Qt(100).encode(or,100);return er.processJPEG.call(this,lr,tr,rr,nr)}}(E$1.API),ee.prototype.getData=function(){return this.data},function(er){er.processWEBP=function(St,tr,rr,nr){var sr=new ee(St),ir=sr.width,ar=sr.height,or={data:sr.getData(),width:ir,height:ar},lr=new Qt(100).encode(or,100);return er.processJPEG.call(this,lr,tr,rr,nr)}}(E$1.API),E$1.API.processRGBA=function(er,St,tr){for(var rr=er.data,nr=rr.length,sr=new Uint8Array(nr/4*3),ir=new Uint8Array(nr/4),ar=0,or=0,lr=0;lr<nr;lr+=4){var cr=rr[lr],ur=rr[lr+1],dr=rr[lr+2],hr=rr[lr+3];sr[ar++]=cr,sr[ar++]=ur,sr[ar++]=dr,ir[or++]=hr}var Ar=this.__addimage__.arrayBufferToBinaryString(sr);return{alpha:this.__addimage__.arrayBufferToBinaryString(ir),data:Ar,index:St,alias:tr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:er.width,height:er.height}},E$1.API.setLanguage=function(er){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[er]!==void 0&&(this.internal.languageSettings.languageCode=er,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E$1.API,Gt=Vt.getCharWidthsArray=function(er,St){var tr,rr,nr=(St=St||{}).font||this.internal.getFont(),sr=St.fontSize||this.internal.getFontSize(),ir=St.charSpace||this.internal.getCharSpace(),ar=St.widths?St.widths:nr.metadata.Unicode.widths,or=ar.fof?ar.fof:1,lr=St.kerning?St.kerning:nr.metadata.Unicode.kerning,cr=lr.fof?lr.fof:1,ur=St.doKerning!==!1,dr=0,hr=er.length,Ar=0,fr=ar[0]||or,mr=[];for(tr=0;tr<hr;tr++)rr=er.charCodeAt(tr),typeof nr.metadata.widthOfString=="function"?mr.push((nr.metadata.widthOfGlyph(nr.metadata.characterToGlyph(rr))+ir*(1e3/sr)||0)/1e3):(dr=ur&&_typeof(lr[rr])==="object"&&!isNaN(parseInt(lr[rr][Ar],10))?lr[rr][Ar]/cr:0,mr.push((ar[rr]||fr)/or+dr)),Ar=rr;return mr},Yt=Vt.getStringUnitWidth=function(er,St){var tr=(St=St||{}).fontSize||this.internal.getFontSize(),rr=St.font||this.internal.getFont(),nr=St.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(er=Vt.processArabic(er)),typeof rr.metadata.widthOfString=="function"?rr.metadata.widthOfString(er,tr,nr)/tr:Gt.apply(this,arguments).reduce(function(sr,ir){return sr+ir},0)},Jt=function(er,St,tr,rr){for(var nr=[],sr=0,ir=er.length,ar=0;sr!==ir&&ar+St[sr]<tr;)ar+=St[sr],sr++;nr.push(er.slice(0,sr));var or=sr;for(ar=0;sr!==ir;)ar+St[sr]>rr&&(nr.push(er.slice(or,sr)),ar=0,or=sr),ar+=St[sr],sr++;return or!==sr&&nr.push(er.slice(or,sr)),nr},Xt=function(er,St,tr){tr||(tr={});var rr,nr,sr,ir,ar,or,lr,cr=[],ur=[cr],dr=tr.textIndent||0,hr=0,Ar=0,fr=er.split(" "),mr=Gt.apply(this,[" ",tr])[0];if(or=tr.lineIndent===-1?fr[0].length+2:tr.lineIndent||0){var pr=Array(or).join(" "),gr=[];fr.map(function(yr){(yr=yr.split(/\s*\n/)).length>1?gr=gr.concat(yr.map(function(Er,_r){return(_r&&Er.length?`
`:"")+Er})):gr.push(yr[0])}),fr=gr,or=Yt.apply(this,[pr,tr])}for(sr=0,ir=fr.length;sr<ir;sr++){var xr=0;if(rr=fr[sr],or&&rr[0]==`
`&&(rr=rr.substr(1),xr=1),dr+hr+(Ar=(nr=Gt.apply(this,[rr,tr])).reduce(function(yr,Er){return yr+Er},0))>St||xr){if(Ar>St){for(ar=Jt.apply(this,[rr,nr,St-(dr+hr),St]),cr.push(ar.shift()),cr=[ar.pop()];ar.length;)ur.push([ar.shift()]);Ar=nr.slice(rr.length-(cr[0]?cr[0].length:0)).reduce(function(yr,Er){return yr+Er},0)}else cr=[rr];ur.push(cr),dr=Ar+or,hr=mr}else cr.push(rr),dr+=hr+Ar,hr=mr}return lr=or?function(yr,Er){return(Er?pr:"")+yr.join(" ")}:function(yr){return yr.join(" ")},ur.map(lr)},Vt.splitTextToSize=function(er,St,tr){var rr,nr=(tr=tr||{}).fontSize||this.internal.getFontSize(),sr=(function(cr){if(cr.widths&&cr.kerning)return{widths:cr.widths,kerning:cr.kerning};var ur=this.internal.getFont(cr.fontName,cr.fontStyle);return ur.metadata.Unicode?{widths:ur.metadata.Unicode.widths||{0:1},kerning:ur.metadata.Unicode.kerning||{}}:{font:ur.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,tr);rr=Array.isArray(er)?er:String(er).split(/\r?\n/);var ir=1*this.internal.scaleFactor*St/nr;sr.textIndent=tr.textIndent?1*tr.textIndent*this.internal.scaleFactor/nr:0,sr.lineIndent=tr.lineIndent;var ar,or,lr=[];for(ar=0,or=rr.length;ar<or;ar++)lr=lr.concat(Xt.apply(this,[rr[ar],ir,sr]));return lr},function(er){er.__fontmetrics__=er.__fontmetrics__||{};for(var St="klmnopqrstuvwxyz",tr={},rr={},nr=0;nr<St.length;nr++)tr[St[nr]]="0123456789abcdef"[nr],rr["0123456789abcdef"[nr]]=St[nr];var sr=function(ur){return"0x"+parseInt(ur,10).toString(16)},ir=er.__fontmetrics__.compress=function(ur){var dr,hr,Ar,fr,mr=["{"];for(var pr in ur){if(dr=ur[pr],isNaN(parseInt(pr,10))?hr="'"+pr+"'":(pr=parseInt(pr,10),hr=(hr=sr(pr).slice(2)).slice(0,-1)+rr[hr.slice(-1)]),typeof dr=="number")dr<0?(Ar=sr(dr).slice(3),fr="-"):(Ar=sr(dr).slice(2),fr=""),Ar=fr+Ar.slice(0,-1)+rr[Ar.slice(-1)];else{if(_typeof(dr)!=="object")throw new Error("Don't know what to do with value type "+_typeof(dr)+".");Ar=ir(dr)}mr.push(hr+Ar)}return mr.push("}"),mr.join("")},ar=er.__fontmetrics__.uncompress=function(ur){if(typeof ur!="string")throw new Error("Invalid argument passed to uncompress.");for(var dr,hr,Ar,fr,mr={},pr=1,gr=mr,xr=[],yr="",Er="",_r=ur.length-1,Sr=1;Sr<_r;Sr+=1)(fr=ur[Sr])=="'"?dr?(Ar=dr.join(""),dr=void 0):dr=[]:dr?dr.push(fr):fr=="{"?(xr.push([gr,Ar]),gr={},Ar=void 0):fr=="}"?((hr=xr.pop())[0][hr[1]]=gr,Ar=void 0,gr=hr[0]):fr=="-"?pr=-1:Ar===void 0?tr.hasOwnProperty(fr)?(yr+=tr[fr],Ar=parseInt(yr,16)*pr,pr=1,yr=""):yr+=fr:tr.hasOwnProperty(fr)?(Er+=tr[fr],gr[Ar]=parseInt(Er,16)*pr,pr=1,Ar=void 0,Er=""):Er+=fr;return mr},or={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ar("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},lr={Unicode:{Courier:or,"Courier-Bold":or,"Courier-BoldOblique":or,"Courier-Oblique":or,Helvetica:or,"Helvetica-Bold":or,"Helvetica-BoldOblique":or,"Helvetica-Oblique":or,"Times-Roman":or,"Times-Bold":or,"Times-BoldItalic":or,"Times-Italic":or}},cr={Unicode:{"Courier-Oblique":ar("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ar("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ar("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ar("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ar("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ar("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ar("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ar("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ar("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ar("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ar("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ar("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ar("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ar("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};er.events.push(["addFont",function(ur){var dr=ur.font,hr=cr.Unicode[dr.postScriptName];hr&&(dr.metadata.Unicode={},dr.metadata.Unicode.widths=hr.widths,dr.metadata.Unicode.kerning=hr.kerning);var Ar=lr.Unicode[dr.postScriptName];Ar&&(dr.metadata.Unicode.encoding=Ar,dr.encoding=Ar.codePages[0])}])}(E$1.API),function(er){var St=function(tr){for(var rr=tr.length,nr=new Uint8Array(rr),sr=0;sr<rr;sr++)nr[sr]=tr.charCodeAt(sr);return nr};er.API.events.push(["addFont",function(tr){var rr=void 0,nr=tr.font,sr=tr.instance;if(!nr.isStandardFont){if(sr===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");if(typeof(rr=sr.existsFileInVFS(nr.postScriptName)===!1?sr.loadFile(nr.postScriptName):sr.getFileFromVFS(nr.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");(function(ir,ar){ar=/^\x00\x01\x00\x00/.test(ar)?St(ar):St(u$1(ar)),ir.metadata=er.API.TTFFont.open(ar),ir.metadata.Unicode=ir.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ir.metadata.glyIdsUsed=[0]})(nr,rr)}}])}(E$1),function(er){function St(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-DyNl7VE6.js"),[])).catch(function(tr){return Promise.reject(new Error("Could not load canvg: "+tr))}).then(function(tr){return tr.default?tr.default:tr})}E$1.API.addSvgAsImage=function(tr,rr,nr,sr,ir,ar,or,lr){if(isNaN(rr)||isNaN(nr))throw a$1.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(sr)||isNaN(ir))throw a$1.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var cr=document.createElement("canvas");cr.width=sr,cr.height=ir;var ur=cr.getContext("2d");ur.fillStyle="#fff",ur.fillRect(0,0,cr.width,cr.height);var dr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},hr=this;return St().then(function(Ar){return Ar.fromString(ur,tr,dr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Ar){return Ar.render(dr)}).then(function(){hr.addImage(cr.toDataURL("image/jpeg",1),rr,nr,sr,ir,or,lr)})}}(),E$1.API.putTotalPages=function(er){var St,tr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(St=new RegExp(er,"g"),tr=this.internal.getNumberOfPages()):(St=new RegExp(this.pdfEscape16(er,this.internal.getFont()),"g"),tr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var rr=1;rr<=this.internal.getNumberOfPages();rr++)for(var nr=0;nr<this.internal.pages[rr].length;nr++)this.internal.pages[rr][nr]=this.internal.pages[rr][nr].replace(St,tr);return this},E$1.API.viewerPreferences=function(er,St){var tr;er=er||{},St=St||!1;var rr,nr,sr,ir={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ar=Object.keys(ir),or=[],lr=0,cr=0,ur=0;function dr(Ar,fr){var mr,pr=!1;for(mr=0;mr<Ar.length;mr+=1)Ar[mr]===fr&&(pr=!0);return pr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ir)),this.internal.viewerpreferences.isSubscribed=!1),tr=this.internal.viewerpreferences.configuration,er==="reset"||St===!0){var hr=ar.length;for(ur=0;ur<hr;ur+=1)tr[ar[ur]].value=tr[ar[ur]].defaultValue,tr[ar[ur]].explicitSet=!1}if(_typeof(er)==="object"){for(nr in er)if(sr=er[nr],dr(ar,nr)&&sr!==void 0){if(tr[nr].type==="boolean"&&typeof sr=="boolean")tr[nr].value=sr;else if(tr[nr].type==="name"&&dr(tr[nr].valueSet,sr))tr[nr].value=sr;else if(tr[nr].type==="integer"&&Number.isInteger(sr))tr[nr].value=sr;else if(tr[nr].type==="array"){for(lr=0;lr<sr.length;lr+=1)if(rr=!0,sr[lr].length===1&&typeof sr[lr][0]=="number")or.push(String(sr[lr]-1));else if(sr[lr].length>1){for(cr=0;cr<sr[lr].length;cr+=1)typeof sr[lr][cr]!="number"&&(rr=!1);rr===!0&&or.push([sr[lr][0]-1,sr[lr][1]-1].join(" "))}tr[nr].value="["+or.join(" ")+"]"}else tr[nr].value=tr[nr].defaultValue;tr[nr].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Ar,fr=[];for(Ar in tr)tr[Ar].explicitSet===!0&&(tr[Ar].type==="name"?fr.push("/"+Ar+" /"+tr[Ar].value):fr.push("/"+Ar+" "+tr[Ar].value));fr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+fr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=tr,this},function(er){var St=function(){var rr='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',nr=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),sr=unescape(encodeURIComponent(rr)),ir=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ar=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),or=unescape(encodeURIComponent("</x:xmpmeta>")),lr=sr.length+ir.length+ar.length+nr.length+or.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+lr+" >>"),this.internal.write("stream"),this.internal.write(nr+sr+ir+ar+or),this.internal.write("endstream"),this.internal.write("endobj")},tr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};er.addMetadata=function(rr,nr){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:rr,namespaceuri:nr||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",tr),this.internal.events.subscribe("postPutResources",St)),this}}(E$1.API),function(er){var St=er.API,tr=St.pdfEscape16=function(sr,ir){for(var ar,or=ir.metadata.Unicode.widths,lr=["","0","00","000","0000"],cr=[""],ur=0,dr=sr.length;ur<dr;++ur){if(ar=ir.metadata.characterToGlyph(sr.charCodeAt(ur)),ir.metadata.glyIdsUsed.push(ar),ir.metadata.toUnicode[ar]=sr.charCodeAt(ur),or.indexOf(ar)==-1&&(or.push(ar),or.push([parseInt(ir.metadata.widthOfGlyph(ar),10)])),ar=="0")return cr.join("");ar=ar.toString(16),cr.push(lr[4-ar.length],ar)}return cr.join("")},rr=function(sr){var ir,ar,or,lr,cr,ur,dr;for(cr=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,or=[],ur=0,dr=(ar=Object.keys(sr).sort(function(hr,Ar){return hr-Ar})).length;ur<dr;ur++)ir=ar[ur],or.length>=100&&(cr+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar`,or=[]),sr[ir]!==void 0&&sr[ir]!==null&&typeof sr[ir].toString=="function"&&(lr=("0000"+sr[ir].toString(16)).slice(-4),ir=("0000"+(+ir).toString(16)).slice(-4),or.push("<"+ir+"><"+lr+">"));return or.length&&(cr+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar
`),cr+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};St.events.push(["putFont",function(sr){(function(ir){var ar=ir.font,or=ir.out,lr=ir.newObject,cr=ir.putStream;if(ar.metadata instanceof er.API.TTFFont&&ar.encoding==="Identity-H"){for(var ur=ar.metadata.Unicode.widths,dr=ar.metadata.subset.encode(ar.metadata.glyIdsUsed,1),hr="",Ar=0;Ar<dr.length;Ar++)hr+=String.fromCharCode(dr[Ar]);var fr=lr();cr({data:hr,addLength1:!0,objectId:fr}),or("endobj");var mr=lr();cr({data:rr(ar.metadata.toUnicode),addLength1:!0,objectId:mr}),or("endobj");var pr=lr();or("<<"),or("/Type /FontDescriptor"),or("/FontName /"+F$1(ar.fontName)),or("/FontFile2 "+fr+" 0 R"),or("/FontBBox "+er.API.PDFObject.convert(ar.metadata.bbox)),or("/Flags "+ar.metadata.flags),or("/StemV "+ar.metadata.stemV),or("/ItalicAngle "+ar.metadata.italicAngle),or("/Ascent "+ar.metadata.ascender),or("/Descent "+ar.metadata.decender),or("/CapHeight "+ar.metadata.capHeight),or(">>"),or("endobj");var gr=lr();or("<<"),or("/Type /Font"),or("/BaseFont /"+F$1(ar.fontName)),or("/FontDescriptor "+pr+" 0 R"),or("/W "+er.API.PDFObject.convert(ur)),or("/CIDToGIDMap /Identity"),or("/DW 1000"),or("/Subtype /CIDFontType2"),or("/CIDSystemInfo"),or("<<"),or("/Supplement 0"),or("/Registry (Adobe)"),or("/Ordering ("+ar.encoding+")"),or(">>"),or(">>"),or("endobj"),ar.objectNumber=lr(),or("<<"),or("/Type /Font"),or("/Subtype /Type0"),or("/ToUnicode "+mr+" 0 R"),or("/BaseFont /"+F$1(ar.fontName)),or("/Encoding /"+ar.encoding),or("/DescendantFonts ["+gr+" 0 R]"),or(">>"),or("endobj"),ar.isAlreadyPutted=!0}})(sr)}]),St.events.push(["putFont",function(sr){(function(ir){var ar=ir.font,or=ir.out,lr=ir.newObject,cr=ir.putStream;if(ar.metadata instanceof er.API.TTFFont&&ar.encoding==="WinAnsiEncoding"){for(var ur=ar.metadata.rawData,dr="",hr=0;hr<ur.length;hr++)dr+=String.fromCharCode(ur[hr]);var Ar=lr();cr({data:dr,addLength1:!0,objectId:Ar}),or("endobj");var fr=lr();cr({data:rr(ar.metadata.toUnicode),addLength1:!0,objectId:fr}),or("endobj");var mr=lr();or("<<"),or("/Descent "+ar.metadata.decender),or("/CapHeight "+ar.metadata.capHeight),or("/StemV "+ar.metadata.stemV),or("/Type /FontDescriptor"),or("/FontFile2 "+Ar+" 0 R"),or("/Flags 96"),or("/FontBBox "+er.API.PDFObject.convert(ar.metadata.bbox)),or("/FontName /"+F$1(ar.fontName)),or("/ItalicAngle "+ar.metadata.italicAngle),or("/Ascent "+ar.metadata.ascender),or(">>"),or("endobj"),ar.objectNumber=lr();for(var pr=0;pr<ar.metadata.hmtx.widths.length;pr++)ar.metadata.hmtx.widths[pr]=parseInt(ar.metadata.hmtx.widths[pr]*(1e3/ar.metadata.head.unitsPerEm));or("<</Subtype/TrueType/Type/Font/ToUnicode "+fr+" 0 R/BaseFont/"+F$1(ar.fontName)+"/FontDescriptor "+mr+" 0 R/Encoding/"+ar.encoding+" /FirstChar 29 /LastChar 255 /Widths "+er.API.PDFObject.convert(ar.metadata.hmtx.widths)+">>"),or("endobj"),ar.isAlreadyPutted=!0}})(sr)}]);var nr=function(sr){var ir,ar=sr.text||"",or=sr.x,lr=sr.y,cr=sr.options||{},ur=sr.mutex||{},dr=ur.pdfEscape,hr=ur.activeFontKey,Ar=ur.fonts,fr=hr,mr="",pr=0,gr="",xr=Ar[fr].encoding;if(Ar[fr].encoding!=="Identity-H")return{text:ar,x:or,y:lr,options:cr,mutex:ur};for(gr=ar,fr=hr,Array.isArray(ar)&&(gr=ar[0]),pr=0;pr<gr.length;pr+=1)Ar[fr].metadata.hasOwnProperty("cmap")&&(ir=Ar[fr].metadata.cmap.unicode.codeMap[gr[pr].charCodeAt(0)]),ir||gr[pr].charCodeAt(0)<256&&Ar[fr].metadata.hasOwnProperty("Unicode")?mr+=gr[pr]:mr+="";var yr="";return parseInt(fr.slice(1))<14||xr==="WinAnsiEncoding"?yr=dr(mr,fr).split("").map(function(Er){return Er.charCodeAt(0).toString(16)}).join(""):xr==="Identity-H"&&(yr=tr(mr,Ar[fr])),ur.isHex=!0,{text:yr,x:or,y:lr,options:cr,mutex:ur}};St.events.push(["postProcessText",function(sr){var ir=sr.text||"",ar=[],or={text:ir,x:sr.x,y:sr.y,options:sr.options,mutex:sr.mutex};if(Array.isArray(ir)){var lr=0;for(lr=0;lr<ir.length;lr+=1)Array.isArray(ir[lr])&&ir[lr].length===3?ar.push([nr(Object.assign({},or,{text:ir[lr][0]})).text,ir[lr][1],ir[lr][2]]):ar.push(nr(Object.assign({},or,{text:ir[lr]})).text);sr.text=ar}else sr.text=nr(Object.assign({},or,{text:ir})).text}])}(E$1),function(er){var St=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};er.existsFileInVFS=function(tr){return St.call(this),this.internal.vFS[tr]!==void 0},er.addFileToVFS=function(tr,rr){return St.call(this),this.internal.vFS[tr]=rr,this},er.getFileFromVFS=function(tr){return St.call(this),this.internal.vFS[tr]!==void 0?this.internal.vFS[tr]:null}}(E$1.API),function(er){er.__bidiEngine__=er.prototype.__bidiEngine__=function(rr){var nr,sr,ir,ar,or,lr,cr,ur=St,dr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],hr=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Ar={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},fr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},mr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gr=!1,xr=0;this.__bidiEngine__={};var yr=function(Ir){var Lr=Ir.charCodeAt(),Qr=Lr>>8,Yr=fr[Qr];return Yr!==void 0?ur[256*Yr+(255&Lr)]:Qr===252||Qr===253?"AL":pr.test(Qr)?"L":Qr===8?"R":"N"},Er=function(Ir){for(var Lr,Qr=0;Qr<Ir.length;Qr++){if((Lr=yr(Ir.charAt(Qr)))==="L")return!1;if(Lr==="R")return!0}return!1},_r=function(Ir,Lr,Qr,Yr){var Gr,$r,Vr,Tr,Fr=Lr[Yr];switch(Fr){case"L":case"R":gr=!1;break;case"N":case"AN":break;case"EN":gr&&(Fr="AN");break;case"AL":gr=!0,Fr="R";break;case"WS":Fr="N";break;case"CS":Yr<1||Yr+1>=Lr.length||(Gr=Qr[Yr-1])!=="EN"&&Gr!=="AN"||($r=Lr[Yr+1])!=="EN"&&$r!=="AN"?Fr="N":gr&&($r="AN"),Fr=$r===Gr?$r:"N";break;case"ES":Fr=(Gr=Yr>0?Qr[Yr-1]:"B")==="EN"&&Yr+1<Lr.length&&Lr[Yr+1]==="EN"?"EN":"N";break;case"ET":if(Yr>0&&Qr[Yr-1]==="EN"){Fr="EN";break}if(gr){Fr="N";break}for(Vr=Yr+1,Tr=Lr.length;Vr<Tr&&Lr[Vr]==="ET";)Vr++;Fr=Vr<Tr&&Lr[Vr]==="EN"?"EN":"N";break;case"NSM":if(ir&&!ar){for(Tr=Lr.length,Vr=Yr+1;Vr<Tr&&Lr[Vr]==="NSM";)Vr++;if(Vr<Tr){var Wr=Ir[Yr],qr=Wr>=1425&&Wr<=2303||Wr===64286;if(Gr=Lr[Vr],qr&&(Gr==="R"||Gr==="AL")){Fr="R";break}}}Fr=Yr<1||(Gr=Lr[Yr-1])==="B"?"N":Qr[Yr-1];break;case"B":gr=!1,nr=!0,Fr=xr;break;case"S":sr=!0,Fr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gr=!1;break;case"BN":Fr="N"}return Fr},Sr=function(Ir,Lr,Qr){var Yr=Ir.split("");return Qr&&jr(Yr,Qr,{hiLevel:xr}),Yr.reverse(),Lr&&Lr.reverse(),Yr.join("")},jr=function(Ir,Lr,Qr){var Yr,Gr,$r,Vr,Tr,Fr=-1,Wr=Ir.length,qr=0,Rr=[],Or=xr?hr:dr,Hr=[];for(gr=!1,nr=!1,sr=!1,Gr=0;Gr<Wr;Gr++)Hr[Gr]=yr(Ir[Gr]);for($r=0;$r<Wr;$r++){if(Tr=qr,Rr[$r]=_r(Ir,Hr,Rr,$r),Yr=240&(qr=Or[Tr][Ar[Rr[$r]]]),qr&=15,Lr[$r]=Vr=Or[qr][5],Yr>0)if(Yr===16){for(Gr=Fr;Gr<$r;Gr++)Lr[Gr]=1;Fr=-1}else Fr=-1;if(Or[qr][6])Fr===-1&&(Fr=$r);else if(Fr>-1){for(Gr=Fr;Gr<$r;Gr++)Lr[Gr]=Vr;Fr=-1}Hr[$r]==="B"&&(Lr[$r]=0),Qr.hiLevel|=Vr}sr&&function(zr,Zr,nn){for(var vn=0;vn<nn;vn++)if(zr[vn]==="S"){Zr[vn]=xr;for(var hn=vn-1;hn>=0&&zr[hn]==="WS";hn--)Zr[hn]=xr}}(Hr,Lr,Wr)},Pr=function(Ir,Lr,Qr,Yr,Gr){if(!(Gr.hiLevel<Ir)){if(Ir===1&&xr===1&&!nr)return Lr.reverse(),void(Qr&&Qr.reverse());for(var $r,Vr,Tr,Fr,Wr=Lr.length,qr=0;qr<Wr;){if(Yr[qr]>=Ir){for(Tr=qr+1;Tr<Wr&&Yr[Tr]>=Ir;)Tr++;for(Fr=qr,Vr=Tr-1;Fr<Vr;Fr++,Vr--)$r=Lr[Fr],Lr[Fr]=Lr[Vr],Lr[Vr]=$r,Qr&&($r=Qr[Fr],Qr[Fr]=Qr[Vr],Qr[Vr]=$r);qr=Tr}qr++}}},Mr=function(Ir,Lr,Qr){var Yr=Ir.split(""),Gr={hiLevel:xr};return Qr||(Qr=[]),jr(Yr,Qr,Gr),function($r,Vr,Tr){if(Tr.hiLevel!==0&&cr)for(var Fr,Wr=0;Wr<$r.length;Wr++)Vr[Wr]===1&&(Fr=mr.indexOf($r[Wr]))>=0&&($r[Wr]=mr[Fr+1])}(Yr,Qr,Gr),Pr(2,Yr,Lr,Qr,Gr),Pr(1,Yr,Lr,Qr,Gr),Yr.join("")};return this.__bidiEngine__.doBidiReorder=function(Ir,Lr,Qr){if(function(Gr,$r){if($r)for(var Vr=0;Vr<Gr.length;Vr++)$r[Vr]=Vr;ar===void 0&&(ar=Er(Gr)),lr===void 0&&(lr=Er(Gr))}(Ir,Lr),ir||!or||lr)if(ir&&or&&ar^lr)xr=ar?1:0,Ir=Sr(Ir,Lr,Qr);else if(!ir&&or&&lr)xr=ar?1:0,Ir=Mr(Ir,Lr,Qr),Ir=Sr(Ir,Lr);else if(!ir||ar||or||lr){if(ir&&!or&&ar^lr)Ir=Sr(Ir,Lr),ar?(xr=0,Ir=Mr(Ir,Lr,Qr)):(xr=1,Ir=Mr(Ir,Lr,Qr),Ir=Sr(Ir,Lr));else if(ir&&ar&&!or&&lr)xr=1,Ir=Mr(Ir,Lr,Qr),Ir=Sr(Ir,Lr);else if(!ir&&!or&&ar^lr){var Yr=cr;ar?(xr=1,Ir=Mr(Ir,Lr,Qr),xr=0,cr=!1,Ir=Mr(Ir,Lr,Qr),cr=Yr):(xr=0,Ir=Mr(Ir,Lr,Qr),Ir=Sr(Ir,Lr),xr=1,cr=!1,Ir=Mr(Ir,Lr,Qr),cr=Yr,Ir=Sr(Ir,Lr))}}else xr=0,Ir=Mr(Ir,Lr,Qr);else xr=ar?1:0,Ir=Mr(Ir,Lr,Qr);return Ir},this.__bidiEngine__.setOptions=function(Ir){Ir&&(ir=Ir.isInputVisual,or=Ir.isOutputVisual,ar=Ir.isInputRtl,lr=Ir.isOutputRtl,cr=Ir.isSymmetricSwapping)},this.__bidiEngine__.setOptions(rr),this.__bidiEngine__};var St=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],tr=new er.__bidiEngine__({isInputVisual:!0});er.API.events.push(["postProcessText",function(rr){var nr=rr.text;rr.x,rr.y;var sr=rr.options||{};rr.mutex,sr.lang;var ir=[];if(sr.isInputVisual=typeof sr.isInputVisual!="boolean"||sr.isInputVisual,tr.setOptions(sr),Object.prototype.toString.call(nr)==="[object Array]"){var ar=0;for(ir=[],ar=0;ar<nr.length;ar+=1)Object.prototype.toString.call(nr[ar])==="[object Array]"?ir.push([tr.doBidiReorder(nr[ar][0]),nr[ar][1],nr[ar][2]]):ir.push([tr.doBidiReorder(nr[ar])]);rr.text=ir}else rr.text=tr.doBidiReorder(nr);tr.setOptions({isInputVisual:!0})}])}(E$1),E$1.API.TTFFont=function(){function er(St){var tr;if(this.rawData=St,tr=this.contents=new ne(St),this.contents.pos=4,tr.readString(4)==="ttcf")throw new Error("TTCF not supported.");tr.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return er.open=function(St){return new er(St)},er.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},er.prototype.registerTTF=function(){var St,tr,rr,nr,sr;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ir,ar,or,lr;for(lr=[],ir=0,ar=(or=this.bbox).length;ir<ar;ir++)St=or[ir],lr.push(Math.round(St*this.scaleFactor));return lr}).call(this),this.stemV=0,this.post.exists?(rr=255&(nr=this.post.italic_angle),32768&(tr=nr>>16)&&(tr=-(1+(65535^tr))),this.italicAngle=+(tr+"."+rr)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(sr=this.familyClass)===1||sr===2||sr===3||sr===4||sr===5||sr===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},er.prototype.characterToGlyph=function(St){var tr;return((tr=this.cmap.unicode)!=null?tr.codeMap[St]:void 0)||0},er.prototype.widthOfGlyph=function(St){var tr;return tr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(St).advance*tr},er.prototype.widthOfString=function(St,tr,rr){var nr,sr,ir,ar;for(ir=0,sr=0,ar=(St=""+St).length;0<=ar?sr<ar:sr>ar;sr=0<=ar?++sr:--sr)nr=St.charCodeAt(sr),ir+=this.widthOfGlyph(this.characterToGlyph(nr))+rr*(1e3/tr)||0;return ir*(tr/1e3)},er.prototype.lineHeight=function(St,tr){var rr;return tr==null&&(tr=!1),rr=tr?this.lineGap:0,(this.ascender+rr-this.decender)/1e3*St},er}();var re,ne=function(){function er(St){this.data=St??[],this.pos=0,this.length=this.data.length}return er.prototype.readByte=function(){return this.data[this.pos++]},er.prototype.writeByte=function(St){return this.data[this.pos++]=St},er.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},er.prototype.writeUInt32=function(St){return this.writeByte(St>>>24&255),this.writeByte(St>>16&255),this.writeByte(St>>8&255),this.writeByte(255&St)},er.prototype.readInt32=function(){var St;return(St=this.readUInt32())>=2147483648?St-4294967296:St},er.prototype.writeInt32=function(St){return St<0&&(St+=4294967296),this.writeUInt32(St)},er.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},er.prototype.writeUInt16=function(St){return this.writeByte(St>>8&255),this.writeByte(255&St)},er.prototype.readInt16=function(){var St;return(St=this.readUInt16())>=32768?St-65536:St},er.prototype.writeInt16=function(St){return St<0&&(St+=65536),this.writeUInt16(St)},er.prototype.readString=function(St){var tr,rr;for(rr=[],tr=0;0<=St?tr<St:tr>St;tr=0<=St?++tr:--tr)rr[tr]=String.fromCharCode(this.readByte());return rr.join("")},er.prototype.writeString=function(St){var tr,rr,nr;for(nr=[],tr=0,rr=St.length;0<=rr?tr<rr:tr>rr;tr=0<=rr?++tr:--tr)nr.push(this.writeByte(St.charCodeAt(tr)));return nr},er.prototype.readShort=function(){return this.readInt16()},er.prototype.writeShort=function(St){return this.writeInt16(St)},er.prototype.readLongLong=function(){var St,tr,rr,nr,sr,ir,ar,or;return St=this.readByte(),tr=this.readByte(),rr=this.readByte(),nr=this.readByte(),sr=this.readByte(),ir=this.readByte(),ar=this.readByte(),or=this.readByte(),128&St?-1*(72057594037927940*(255^St)+281474976710656*(255^tr)+1099511627776*(255^rr)+4294967296*(255^nr)+16777216*(255^sr)+65536*(255^ir)+256*(255^ar)+(255^or)+1):72057594037927940*St+281474976710656*tr+1099511627776*rr+4294967296*nr+16777216*sr+65536*ir+256*ar+or},er.prototype.writeLongLong=function(St){var tr,rr;return tr=Math.floor(St/4294967296),rr=4294967295&St,this.writeByte(tr>>24&255),this.writeByte(tr>>16&255),this.writeByte(tr>>8&255),this.writeByte(255&tr),this.writeByte(rr>>24&255),this.writeByte(rr>>16&255),this.writeByte(rr>>8&255),this.writeByte(255&rr)},er.prototype.readInt=function(){return this.readInt32()},er.prototype.writeInt=function(St){return this.writeInt32(St)},er.prototype.read=function(St){var tr,rr;for(tr=[],rr=0;0<=St?rr<St:rr>St;rr=0<=St?++rr:--rr)tr.push(this.readByte());return tr},er.prototype.write=function(St){var tr,rr,nr,sr;for(sr=[],rr=0,nr=St.length;rr<nr;rr++)tr=St[rr],sr.push(this.writeByte(tr));return sr},er}(),ie=function(){var er;function St(tr){var rr,nr,sr;for(this.scalarType=tr.readInt(),this.tableCount=tr.readShort(),this.searchRange=tr.readShort(),this.entrySelector=tr.readShort(),this.rangeShift=tr.readShort(),this.tables={},nr=0,sr=this.tableCount;0<=sr?nr<sr:nr>sr;nr=0<=sr?++nr:--nr)rr={tag:tr.readString(4),checksum:tr.readInt(),offset:tr.readInt(),length:tr.readInt()},this.tables[rr.tag]=rr}return St.prototype.encode=function(tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar,fr;for(fr in hr=Object.keys(tr).length,or=Math.log(2),ur=16*Math.floor(Math.log(hr)/or),ir=Math.floor(ur/or),cr=16*hr-ur,(nr=new ne).writeInt(this.scalarType),nr.writeShort(hr),nr.writeShort(ur),nr.writeShort(ir),nr.writeShort(cr),sr=16*hr,lr=nr.pos+sr,ar=null,Ar=[],tr)for(dr=tr[fr],nr.writeString(fr),nr.writeInt(er(dr)),nr.writeInt(lr),nr.writeInt(dr.length),Ar=Ar.concat(dr),fr==="head"&&(ar=lr),lr+=dr.length;lr%4;)Ar.push(0),lr++;return nr.write(Ar),rr=2981146554-er(nr.data),nr.pos=ar+8,nr.writeUInt32(rr),nr.data},er=function(tr){var rr,nr,sr,ir;for(tr=ve.call(tr);tr.length%4;)tr.push(0);for(sr=new ne(tr),nr=0,rr=0,ir=tr.length;rr<ir;rr=rr+=4)nr+=sr.readUInt32();return 4294967295&nr},St}(),ae={}.hasOwnProperty,oe=function(er,St){for(var tr in St)ae.call(St,tr)&&(er[tr]=St[tr]);function rr(){this.constructor=er}return rr.prototype=St.prototype,er.prototype=new rr,er.__super__=St.prototype,er};re=function(){function er(St){var tr;this.file=St,tr=this.file.directory.tables[this.tag],this.exists=!!tr,tr&&(this.offset=tr.offset,this.length=tr.length,this.parse(this.file.contents))}return er.prototype.parse=function(){},er.prototype.encode=function(){},er.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},er}();var se=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="head",St.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.revision=tr.readInt(),this.checkSumAdjustment=tr.readInt(),this.magicNumber=tr.readInt(),this.flags=tr.readShort(),this.unitsPerEm=tr.readShort(),this.created=tr.readLongLong(),this.modified=tr.readLongLong(),this.xMin=tr.readShort(),this.yMin=tr.readShort(),this.xMax=tr.readShort(),this.yMax=tr.readShort(),this.macStyle=tr.readShort(),this.lowestRecPPEM=tr.readShort(),this.fontDirectionHint=tr.readShort(),this.indexToLocFormat=tr.readShort(),this.glyphDataFormat=tr.readShort()},St.prototype.encode=function(tr){var rr;return(rr=new ne).writeInt(this.version),rr.writeInt(this.revision),rr.writeInt(this.checkSumAdjustment),rr.writeInt(this.magicNumber),rr.writeShort(this.flags),rr.writeShort(this.unitsPerEm),rr.writeLongLong(this.created),rr.writeLongLong(this.modified),rr.writeShort(this.xMin),rr.writeShort(this.yMin),rr.writeShort(this.xMax),rr.writeShort(this.yMax),rr.writeShort(this.macStyle),rr.writeShort(this.lowestRecPPEM),rr.writeShort(this.fontDirectionHint),rr.writeShort(tr),rr.writeShort(this.glyphDataFormat),rr.data},St}(),ce=function(){function er(St,tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr;switch(this.platformID=St.readUInt16(),this.encodingID=St.readShort(),this.offset=tr+St.readInt(),ur=St.pos,St.pos=this.offset,this.format=St.readUInt16(),this.length=St.readUInt16(),this.language=St.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(or=0;or<256;++or)this.codeMap[or]=St.readByte();break;case 4:for(hr=St.readUInt16(),dr=hr/2,St.pos+=6,sr=function(){var yr,Er;for(Er=[],or=yr=0;0<=dr?yr<dr:yr>dr;or=0<=dr?++yr:--yr)Er.push(St.readUInt16());return Er}(),St.pos+=2,fr=function(){var yr,Er;for(Er=[],or=yr=0;0<=dr?yr<dr:yr>dr;or=0<=dr?++yr:--yr)Er.push(St.readUInt16());return Er}(),lr=function(){var yr,Er;for(Er=[],or=yr=0;0<=dr?yr<dr:yr>dr;or=0<=dr?++yr:--yr)Er.push(St.readUInt16());return Er}(),cr=function(){var yr,Er;for(Er=[],or=yr=0;0<=dr?yr<dr:yr>dr;or=0<=dr?++yr:--yr)Er.push(St.readUInt16());return Er}(),nr=(this.length-St.pos+this.offset)/2,ar=function(){var yr,Er;for(Er=[],or=yr=0;0<=nr?yr<nr:yr>nr;or=0<=nr?++yr:--yr)Er.push(St.readUInt16());return Er}(),or=pr=0,xr=sr.length;pr<xr;or=++pr)for(mr=sr[or],rr=gr=Ar=fr[or];Ar<=mr?gr<=mr:gr>=mr;rr=Ar<=mr?++gr:--gr)cr[or]===0?ir=rr+lr[or]:(ir=ar[cr[or]/2+(rr-Ar)-(dr-or)]||0)!==0&&(ir+=lr[or]),this.codeMap[rr]=65535&ir}St.pos=ur}return er.encode=function(St,tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr,Gr,$r,Vr,Tr,Fr,Wr,qr,Rr,Or,Hr,zr,Zr,nn,vn,hn,En,Tn,bn;switch(Yr=new ne,ir=Object.keys(St).sort(function(Mn,Rn){return Mn-Rn}),tr){case"macroman":for(fr=0,mr=function(){var Mn=[];for(Ar=0;Ar<256;++Ar)Mn.push(0);return Mn}(),gr={0:0},sr={},Gr=0,Fr=ir.length;Gr<Fr;Gr++)gr[hn=St[nr=ir[Gr]]]==null&&(gr[hn]=++fr),sr[nr]={old:St[nr],new:gr[St[nr]]},mr[nr]=gr[St[nr]];return Yr.writeUInt16(1),Yr.writeUInt16(0),Yr.writeUInt32(12),Yr.writeUInt16(0),Yr.writeUInt16(262),Yr.writeUInt16(0),Yr.write(mr),{charMap:sr,subtable:Yr.data,maxGlyphID:fr+1};case"unicode":for(Lr=[],ur=[],xr=0,gr={},rr={},pr=lr=null,$r=0,Wr=ir.length;$r<Wr;$r++)gr[Er=St[nr=ir[$r]]]==null&&(gr[Er]=++xr),rr[nr]={old:Er,new:gr[Er]},ar=gr[Er]-nr,pr!=null&&ar===lr||(pr&&ur.push(pr),Lr.push(nr),lr=ar),pr=nr;for(pr&&ur.push(pr),ur.push(65535),Lr.push(65535),Mr=2*(Pr=Lr.length),jr=2*Math.pow(Math.log(Pr)/Math.LN2,2),dr=Math.log(jr/2)/Math.LN2,Sr=2*Pr-jr,or=[],_r=[],hr=[],Ar=Vr=0,qr=Lr.length;Vr<qr;Ar=++Vr){if(Ir=Lr[Ar],cr=ur[Ar],Ir===65535){or.push(0),_r.push(0);break}if(Ir-(Qr=rr[Ir].new)>=32768)for(or.push(0),_r.push(2*(hr.length+Pr-Ar)),nr=Tr=Ir;Ir<=cr?Tr<=cr:Tr>=cr;nr=Ir<=cr?++Tr:--Tr)hr.push(rr[nr].new);else or.push(Qr-Ir),_r.push(0)}for(Yr.writeUInt16(3),Yr.writeUInt16(1),Yr.writeUInt32(12),Yr.writeUInt16(4),Yr.writeUInt16(16+8*Pr+2*hr.length),Yr.writeUInt16(0),Yr.writeUInt16(Mr),Yr.writeUInt16(jr),Yr.writeUInt16(dr),Yr.writeUInt16(Sr),nn=0,Rr=ur.length;nn<Rr;nn++)nr=ur[nn],Yr.writeUInt16(nr);for(Yr.writeUInt16(0),vn=0,Or=Lr.length;vn<Or;vn++)nr=Lr[vn],Yr.writeUInt16(nr);for(En=0,Hr=or.length;En<Hr;En++)ar=or[En],Yr.writeUInt16(ar);for(Tn=0,zr=_r.length;Tn<zr;Tn++)yr=_r[Tn],Yr.writeUInt16(yr);for(bn=0,Zr=hr.length;bn<Zr;bn++)fr=hr[bn],Yr.writeUInt16(fr);return{charMap:rr,subtable:Yr.data,maxGlyphID:xr+1}}},er}(),ue=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="cmap",St.prototype.parse=function(tr){var rr,nr,sr;for(tr.pos=this.offset,this.version=tr.readUInt16(),sr=tr.readUInt16(),this.tables=[],this.unicode=null,nr=0;0<=sr?nr<sr:nr>sr;nr=0<=sr?++nr:--nr)rr=new ce(tr,this.offset),this.tables.push(rr),rr.isUnicode&&this.unicode==null&&(this.unicode=rr);return!0},St.encode=function(tr,rr){var nr,sr;return rr==null&&(rr="macroman"),nr=ce.encode(tr,rr),(sr=new ne).writeUInt16(0),sr.writeUInt16(1),nr.table=sr.data.concat(nr.subtable),nr},St}(),he=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="hhea",St.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.ascender=tr.readShort(),this.decender=tr.readShort(),this.lineGap=tr.readShort(),this.advanceWidthMax=tr.readShort(),this.minLeftSideBearing=tr.readShort(),this.minRightSideBearing=tr.readShort(),this.xMaxExtent=tr.readShort(),this.caretSlopeRise=tr.readShort(),this.caretSlopeRun=tr.readShort(),this.caretOffset=tr.readShort(),tr.pos+=8,this.metricDataFormat=tr.readShort(),this.numberOfMetrics=tr.readUInt16()},St}(),le=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="OS/2",St.prototype.parse=function(tr){if(tr.pos=this.offset,this.version=tr.readUInt16(),this.averageCharWidth=tr.readShort(),this.weightClass=tr.readUInt16(),this.widthClass=tr.readUInt16(),this.type=tr.readShort(),this.ySubscriptXSize=tr.readShort(),this.ySubscriptYSize=tr.readShort(),this.ySubscriptXOffset=tr.readShort(),this.ySubscriptYOffset=tr.readShort(),this.ySuperscriptXSize=tr.readShort(),this.ySuperscriptYSize=tr.readShort(),this.ySuperscriptXOffset=tr.readShort(),this.ySuperscriptYOffset=tr.readShort(),this.yStrikeoutSize=tr.readShort(),this.yStrikeoutPosition=tr.readShort(),this.familyClass=tr.readShort(),this.panose=function(){var rr,nr;for(nr=[],rr=0;rr<10;++rr)nr.push(tr.readByte());return nr}(),this.charRange=function(){var rr,nr;for(nr=[],rr=0;rr<4;++rr)nr.push(tr.readInt());return nr}(),this.vendorID=tr.readString(4),this.selection=tr.readShort(),this.firstCharIndex=tr.readShort(),this.lastCharIndex=tr.readShort(),this.version>0&&(this.ascent=tr.readShort(),this.descent=tr.readShort(),this.lineGap=tr.readShort(),this.winAscent=tr.readShort(),this.winDescent=tr.readShort(),this.codePageRange=function(){var rr,nr;for(nr=[],rr=0;rr<2;rr=++rr)nr.push(tr.readInt());return nr}(),this.version>1))return this.xHeight=tr.readShort(),this.capHeight=tr.readShort(),this.defaultChar=tr.readShort(),this.breakChar=tr.readShort(),this.maxContext=tr.readShort()},St}(),fe=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="post",St.prototype.parse=function(tr){var rr,nr,sr;switch(tr.pos=this.offset,this.format=tr.readInt(),this.italicAngle=tr.readInt(),this.underlinePosition=tr.readShort(),this.underlineThickness=tr.readShort(),this.isFixedPitch=tr.readInt(),this.minMemType42=tr.readInt(),this.maxMemType42=tr.readInt(),this.minMemType1=tr.readInt(),this.maxMemType1=tr.readInt(),this.format){case 65536:break;case 131072:var ir;for(nr=tr.readUInt16(),this.glyphNameIndex=[],ir=0;0<=nr?ir<nr:ir>nr;ir=0<=nr?++ir:--ir)this.glyphNameIndex.push(tr.readUInt16());for(this.names=[],sr=[];tr.pos<this.offset+this.length;)rr=tr.readByte(),sr.push(this.names.push(tr.readString(rr)));return sr;case 151552:return nr=tr.readUInt16(),this.offsets=tr.read(nr);case 196608:break;case 262144:return this.map=(function(){var ar,or,lr;for(lr=[],ir=ar=0,or=this.file.maxp.numGlyphs;0<=or?ar<or:ar>or;ir=0<=or?++ar:--ar)lr.push(tr.readUInt32());return lr}).call(this)}},St}(),de=function(er,St){this.raw=er,this.length=er.length,this.platformID=St.platformID,this.encodingID=St.encodingID,this.languageID=St.languageID},pe=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="name",St.prototype.parse=function(tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr;for(tr.pos=this.offset,tr.readShort(),rr=tr.readShort(),or=tr.readShort(),nr=[],ir=0;0<=rr?ir<rr:ir>rr;ir=0<=rr?++ir:--ir)nr.push({platformID:tr.readShort(),encodingID:tr.readShort(),languageID:tr.readShort(),nameID:tr.readShort(),length:tr.readShort(),offset:this.offset+or+tr.readShort()});for(lr={},ir=ur=0,dr=nr.length;ur<dr;ir=++ur)sr=nr[ir],tr.pos=sr.offset,cr=tr.readString(sr.length),ar=new de(cr,sr),lr[hr=sr.nameID]==null&&(lr[hr]=[]),lr[sr.nameID].push(ar);this.strings=lr,this.copyright=lr[0],this.fontFamily=lr[1],this.fontSubfamily=lr[2],this.uniqueSubfamily=lr[3],this.fontName=lr[4],this.version=lr[5];try{this.postscriptName=lr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=lr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=lr[7],this.manufacturer=lr[8],this.designer=lr[9],this.description=lr[10],this.vendorUrl=lr[11],this.designerUrl=lr[12],this.license=lr[13],this.licenseUrl=lr[14],this.preferredFamily=lr[15],this.preferredSubfamily=lr[17],this.compatibleFull=lr[18],this.sampleText=lr[19]},St}(),ge=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="maxp",St.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.numGlyphs=tr.readUInt16(),this.maxPoints=tr.readUInt16(),this.maxContours=tr.readUInt16(),this.maxCompositePoints=tr.readUInt16(),this.maxComponentContours=tr.readUInt16(),this.maxZones=tr.readUInt16(),this.maxTwilightPoints=tr.readUInt16(),this.maxStorage=tr.readUInt16(),this.maxFunctionDefs=tr.readUInt16(),this.maxInstructionDefs=tr.readUInt16(),this.maxStackElements=tr.readUInt16(),this.maxSizeOfInstructions=tr.readUInt16(),this.maxComponentElements=tr.readUInt16(),this.maxComponentDepth=tr.readUInt16()},St}(),me=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="hmtx",St.prototype.parse=function(tr){var rr,nr,sr,ir,ar,or,lr;for(tr.pos=this.offset,this.metrics=[],rr=0,or=this.file.hhea.numberOfMetrics;0<=or?rr<or:rr>or;rr=0<=or?++rr:--rr)this.metrics.push({advance:tr.readUInt16(),lsb:tr.readInt16()});for(sr=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var cr,ur;for(ur=[],rr=cr=0;0<=sr?cr<sr:cr>sr;rr=0<=sr?++cr:--cr)ur.push(tr.readInt16());return ur}(),this.widths=(function(){var cr,ur,dr,hr;for(hr=[],cr=0,ur=(dr=this.metrics).length;cr<ur;cr++)ir=dr[cr],hr.push(ir.advance);return hr}).call(this),nr=this.widths[this.widths.length-1],lr=[],rr=ar=0;0<=sr?ar<sr:ar>sr;rr=0<=sr?++ar:--ar)lr.push(this.widths.push(nr));return lr},St.prototype.forGlyph=function(tr){return tr in this.metrics?this.metrics[tr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[tr-this.metrics.length]}},St}(),ve=[].slice,be=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="glyf",St.prototype.parse=function(){return this.cache={}},St.prototype.glyphFor=function(tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr;return tr in this.cache?this.cache[tr]:(ir=this.file.loca,rr=this.file.contents,nr=ir.indexOf(tr),(sr=ir.lengthOf(tr))===0?this.cache[tr]=null:(rr.pos=this.offset+nr,ar=(or=new ne(rr.read(sr))).readShort(),cr=or.readShort(),dr=or.readShort(),lr=or.readShort(),ur=or.readShort(),this.cache[tr]=ar===-1?new we(or,cr,dr,lr,ur):new ye(or,ar,cr,dr,lr,ur),this.cache[tr]))},St.prototype.encode=function(tr,rr,nr){var sr,ir,ar,or,lr;for(ar=[],ir=[],or=0,lr=rr.length;or<lr;or++)sr=tr[rr[or]],ir.push(ar.length),sr&&(ar=ar.concat(sr.encode(nr)));return ir.push(ar.length),{table:ar,offsets:ir}},St}(),ye=function(){function er(St,tr,rr,nr,sr,ir){this.raw=St,this.numberOfContours=tr,this.xMin=rr,this.yMin=nr,this.xMax=sr,this.yMax=ir,this.compound=!1}return er.prototype.encode=function(){return this.raw.data},er}(),we=function(){function er(St,tr,rr,nr,sr){var ir,ar;for(this.raw=St,this.xMin=tr,this.yMin=rr,this.xMax=nr,this.yMax=sr,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ir=this.raw;ar=ir.readShort(),this.glyphOffsets.push(ir.pos),this.glyphIDs.push(ir.readUInt16()),32&ar;)ir.pos+=1&ar?4:2,128&ar?ir.pos+=8:64&ar?ir.pos+=4:8&ar&&(ir.pos+=2)}return er.prototype.encode=function(){var St,tr,rr;for(tr=new ne(ve.call(this.raw.data)),St=0,rr=this.glyphIDs.length;St<rr;++St)tr.pos=this.glyphOffsets[St];return tr.data},er}(),Ne=function(er){function St(){return St.__super__.constructor.apply(this,arguments)}return oe(St,re),St.prototype.tag="loca",St.prototype.parse=function(tr){var rr,nr;return tr.pos=this.offset,rr=this.file.head.indexToLocFormat,this.offsets=rr===0?(function(){var sr,ir;for(ir=[],nr=0,sr=this.length;nr<sr;nr+=2)ir.push(2*tr.readUInt16());return ir}).call(this):(function(){var sr,ir;for(ir=[],nr=0,sr=this.length;nr<sr;nr+=4)ir.push(tr.readUInt32());return ir}).call(this)},St.prototype.indexOf=function(tr){return this.offsets[tr]},St.prototype.lengthOf=function(tr){return this.offsets[tr+1]-this.offsets[tr]},St.prototype.encode=function(tr,rr){for(var nr=new Uint32Array(this.offsets.length),sr=0,ir=0,ar=0;ar<nr.length;++ar)if(nr[ar]=sr,ir<rr.length&&rr[ir]==ar){++ir,nr[ar]=sr;var or=this.offsets[ar],lr=this.offsets[ar+1]-or;lr>0&&(sr+=lr)}for(var cr=new Array(4*nr.length),ur=0;ur<nr.length;++ur)cr[4*ur+3]=255&nr[ur],cr[4*ur+2]=(65280&nr[ur])>>8,cr[4*ur+1]=(16711680&nr[ur])>>16,cr[4*ur]=(4278190080&nr[ur])>>24;return cr},St}(),Le=function(){function er(St){this.font=St,this.subset={},this.unicodes={},this.next=33}return er.prototype.generateCmap=function(){var St,tr,rr,nr,sr;for(tr in nr=this.font.cmap.tables[0].codeMap,St={},sr=this.subset)rr=sr[tr],St[tr]=nr[rr];return St},er.prototype.glyphsFor=function(St){var tr,rr,nr,sr,ir,ar,or;for(nr={},ir=0,ar=St.length;ir<ar;ir++)nr[sr=St[ir]]=this.font.glyf.glyphFor(sr);for(sr in tr=[],nr)(rr=nr[sr])!=null&&rr.compound&&tr.push.apply(tr,rr.glyphIDs);if(tr.length>0)for(sr in or=this.glyphsFor(tr))rr=or[sr],nr[sr]=rr;return nr},er.prototype.encode=function(St,tr){var rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr;for(nr in rr=ue.encode(this.generateCmap(),"unicode"),ir=this.glyphsFor(St),hr={0:0},pr=rr.charMap)hr[(or=pr[nr]).old]=or.new;for(Ar in dr=rr.maxGlyphID,ir)Ar in hr||(hr[Ar]=dr++);return cr=function(gr){var xr,yr;for(xr in yr={},gr)yr[gr[xr]]=xr;return yr}(hr),ur=Object.keys(cr).sort(function(gr,xr){return gr-xr}),fr=function(){var gr,xr,yr;for(yr=[],gr=0,xr=ur.length;gr<xr;gr++)ar=ur[gr],yr.push(cr[ar]);return yr}(),sr=this.font.glyf.encode(ir,fr,hr),lr=this.font.loca.encode(sr.offsets,fr),mr={cmap:this.font.cmap.raw(),glyf:sr.table,loca:lr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(tr)},this.font.os2.exists&&(mr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(mr)},er}();E$1.API.PDFObject=function(){var er;function St(){}return er=function(tr,rr){return(Array(rr+1).join("0")+tr).slice(-rr)},St.convert=function(tr){var rr,nr,sr,ir;if(Array.isArray(tr))return"["+function(){var ar,or,lr;for(lr=[],ar=0,or=tr.length;ar<or;ar++)rr=tr[ar],lr.push(St.convert(rr));return lr}().join(" ")+"]";if(typeof tr=="string")return"/"+tr;if(tr!=null&&tr.isString)return"("+tr+")";if(tr instanceof Date)return"(D:"+er(tr.getUTCFullYear(),4)+er(tr.getUTCMonth(),2)+er(tr.getUTCDate(),2)+er(tr.getUTCHours(),2)+er(tr.getUTCMinutes(),2)+er(tr.getUTCSeconds(),2)+"Z)";if({}.toString.call(tr)==="[object Object]"){for(nr in sr=["<<"],tr)ir=tr[nr],sr.push("/"+nr+" "+St.convert(ir));return sr.push(">>"),sr.join(`
`)}return""+tr},St}();function autoTableText(er,St,tr,rr,nr){rr=rr||{};var sr=1.15,ir=nr.internal.scaleFactor,ar=nr.internal.getFontSize()/ir,or=nr.getLineHeightFactor?nr.getLineHeightFactor():sr,lr=ar*or,cr=/\r\n|\r|\n/g,ur="",dr=1;if((rr.valign==="middle"||rr.valign==="bottom"||rr.halign==="center"||rr.halign==="right")&&(ur=typeof er=="string"?er.split(cr):er,dr=ur.length||1),tr+=ar*(2-sr),rr.valign==="middle"?tr-=dr/2*lr:rr.valign==="bottom"&&(tr-=dr*lr),rr.halign==="center"||rr.halign==="right"){var hr=ar;if(rr.halign==="center"&&(hr*=.5),ur&&dr>=1){for(var Ar=0;Ar<ur.length;Ar++)nr.text(ur[Ar],St-nr.getStringUnitWidth(ur[Ar])*hr,tr),tr+=lr;return nr}St-=nr.getStringUnitWidth(er)*hr}return rr.halign==="justify"?nr.text(er,St,tr,{maxWidth:rr.maxWidth||100,align:"justify"}):nr.text(er,St,tr),nr}var globalDefaults={},DocHandler=function(){function er(St){this.jsPDFDocument=St,this.userStyles={textColor:St.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:St.internal.getFontSize(),fontStyle:St.internal.getFont().fontStyle,font:St.internal.getFont().fontName,lineWidth:St.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:St.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return er.setDefaults=function(St,tr){tr===void 0&&(tr=null),tr?tr.__autoTableDocumentDefaults=St:globalDefaults=St},er.unifyColor=function(St){return Array.isArray(St)?St:typeof St=="number"?[St,St,St]:typeof St=="string"?[St]:null},er.prototype.applyStyles=function(St,tr){var rr,nr,sr;tr===void 0&&(tr=!1),St.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(St.fontStyle);var ir=this.jsPDFDocument.internal.getFont(),ar=ir.fontStyle,or=ir.fontName;if(St.font&&(or=St.font),St.fontStyle){ar=St.fontStyle;var lr=this.getFontList()[or];lr&&lr.indexOf(ar)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(lr[0]),ar=lr[0])}if(this.jsPDFDocument.setFont(or,ar),St.fontSize&&this.jsPDFDocument.setFontSize(St.fontSize),!tr){var cr=er.unifyColor(St.fillColor);cr&&(rr=this.jsPDFDocument).setFillColor.apply(rr,cr),cr=er.unifyColor(St.textColor),cr&&(nr=this.jsPDFDocument).setTextColor.apply(nr,cr),cr=er.unifyColor(St.lineColor),cr&&(sr=this.jsPDFDocument).setDrawColor.apply(sr,cr),typeof St.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(St.lineWidth)}},er.prototype.splitTextToSize=function(St,tr,rr){return this.jsPDFDocument.splitTextToSize(St,tr,rr)},er.prototype.rect=function(St,tr,rr,nr,sr){return this.jsPDFDocument.rect(St,tr,rr,nr,sr)},er.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},er.prototype.getTextWidth=function(St){return this.jsPDFDocument.getTextWidth(St)},er.prototype.getDocument=function(){return this.jsPDFDocument},er.prototype.setPage=function(St){this.jsPDFDocument.setPage(St)},er.prototype.addPage=function(){return this.jsPDFDocument.addPage()},er.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},er.prototype.getGlobalOptions=function(){return globalDefaults||{}},er.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},er.prototype.pageSize=function(){var St=this.jsPDFDocument.internal.pageSize;return St.width==null&&(St={width:St.getWidth(),height:St.getHeight()}),St},er.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},er.prototype.getLineHeightFactor=function(){var St=this.jsPDFDocument;return St.getLineHeightFactor?St.getLineHeightFactor():1.15},er.prototype.getLineHeight=function(St){return St/this.scaleFactor()*this.getLineHeightFactor()},er.prototype.pageNumber=function(){var St=this.jsPDFDocument.internal.getCurrentPageInfo();return St?St.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},er}(),extendStatics$1=function(er,St){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,rr){tr.__proto__=rr}||function(tr,rr){for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])},extendStatics$1(er,St)};function __extends$1(er,St){if(typeof St!="function"&&St!==null)throw new TypeError("Class extends value "+String(St)+" is not a constructor or null");extendStatics$1(er,St);function tr(){this.constructor=er}er.prototype=St===null?Object.create(St):(tr.prototype=St.prototype,new tr)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=function(er){__extends$1(St,er);function St(tr){var rr=er.call(this)||this;return rr._element=tr,rr}return St}(Array);function defaultStyles(er){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/er,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(er){var St={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return St[er]}function getStringWidth(er,St,tr){tr.applyStyles(St,!0);var rr=Array.isArray(er)?er:[er],nr=rr.map(function(sr){return tr.getTextWidth(sr)}).reduce(function(sr,ir){return Math.max(sr,ir)},0);return nr}function addTableBorder(er,St,tr,rr){var nr=St.settings.tableLineWidth,sr=St.settings.tableLineColor;er.applyStyles({lineWidth:nr,lineColor:sr});var ir=getFillStyle(nr,!1);ir&&er.rect(tr.x,tr.y,St.getWidth(er.pageSize().width),rr.y-tr.y,ir)}function getFillStyle(er,St){var tr=er>0,rr=St||St===0;return tr&&rr?"DF":tr?"S":rr?"F":null}function parseSpacing(er,St){var tr,rr,nr,sr;if(er=er||St,Array.isArray(er)){if(er.length>=4)return{top:er[0],right:er[1],bottom:er[2],left:er[3]};if(er.length===3)return{top:er[0],right:er[1],bottom:er[2],left:er[1]};if(er.length===2)return{top:er[0],right:er[1],bottom:er[0],left:er[1]};er.length===1?er=er[0]:er=St}return typeof er=="object"?(typeof er.vertical=="number"&&(er.top=er.vertical,er.bottom=er.vertical),typeof er.horizontal=="number"&&(er.right=er.horizontal,er.left=er.horizontal),{left:(tr=er.left)!==null&&tr!==void 0?tr:St,top:(rr=er.top)!==null&&rr!==void 0?rr:St,right:(nr=er.right)!==null&&nr!==void 0?nr:St,bottom:(sr=er.bottom)!==null&&sr!==void 0?sr:St}):(typeof er!="number"&&(er=St),{top:er,right:er,bottom:er,left:er})}function getPageAvailableWidth(er,St){var tr=parseSpacing(St.settings.margin,0);return er.pageSize().width-(tr.left+tr.right)}function parseCss(er,St,tr,rr,nr){var sr={},ir=1.3333333333333333,ar=parseColor$1(St,function(xr){return nr.getComputedStyle(xr).backgroundColor});ar!=null&&(sr.fillColor=ar);var or=parseColor$1(St,function(xr){return nr.getComputedStyle(xr).color});or!=null&&(sr.textColor=or);var lr=parsePadding(rr,tr);lr&&(sr.cellPadding=lr);var cr="borderTopColor",ur=ir*tr,dr=rr.borderTopWidth;if(rr.borderBottomWidth===dr&&rr.borderRightWidth===dr&&rr.borderLeftWidth===dr){var hr=(parseFloat(dr)||0)/ur;hr&&(sr.lineWidth=hr)}else sr.lineWidth={top:(parseFloat(rr.borderTopWidth)||0)/ur,right:(parseFloat(rr.borderRightWidth)||0)/ur,bottom:(parseFloat(rr.borderBottomWidth)||0)/ur,left:(parseFloat(rr.borderLeftWidth)||0)/ur},sr.lineWidth.top||(sr.lineWidth.right?cr="borderRightColor":sr.lineWidth.bottom?cr="borderBottomColor":sr.lineWidth.left&&(cr="borderLeftColor"));var Ar=parseColor$1(St,function(xr){return nr.getComputedStyle(xr)[cr]});Ar!=null&&(sr.lineColor=Ar);var fr=["left","right","center","justify"];fr.indexOf(rr.textAlign)!==-1&&(sr.halign=rr.textAlign),fr=["middle","bottom","top"],fr.indexOf(rr.verticalAlign)!==-1&&(sr.valign=rr.verticalAlign);var mr=parseInt(rr.fontSize||"");isNaN(mr)||(sr.fontSize=mr/ir);var pr=parseFontStyle(rr);pr&&(sr.fontStyle=pr);var gr=(rr.fontFamily||"").toLowerCase();return er.indexOf(gr)!==-1&&(sr.font=gr),sr}function parseFontStyle(er){var St="";return(er.fontWeight==="bold"||er.fontWeight==="bolder"||parseInt(er.fontWeight)>=700)&&(St="bold"),(er.fontStyle==="italic"||er.fontStyle==="oblique")&&(St+="italic"),St}function parseColor$1(er,St){var tr=realColor(er,St);if(!tr)return null;var rr=tr.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!rr||!Array.isArray(rr))return null;var nr=[parseInt(rr[1]),parseInt(rr[2]),parseInt(rr[3])],sr=parseInt(rr[4]);return sr===0||isNaN(nr[0])||isNaN(nr[1])||isNaN(nr[2])?null:nr}function realColor(er,St){var tr=St(er);return tr==="rgba(0, 0, 0, 0)"||tr==="transparent"||tr==="initial"||tr==="inherit"?er.parentElement==null?null:realColor(er.parentElement,St):tr}function parsePadding(er,St){var tr=[er.paddingTop,er.paddingRight,er.paddingBottom,er.paddingLeft],rr=96/(72/St),nr=(parseInt(er.lineHeight)-parseInt(er.fontSize))/St/2,sr=tr.map(function(ar){return parseInt(ar||"0")/rr}),ir=parseSpacing(sr,0);return nr>ir.top&&(ir.top=nr),nr>ir.bottom&&(ir.bottom=nr),ir}function parseHtml(er,St,tr,rr,nr){var sr,ir;rr===void 0&&(rr=!1),nr===void 0&&(nr=!1);var ar;typeof St=="string"?ar=tr.document.querySelector(St):ar=St;var or=Object.keys(er.getFontList()),lr=er.scaleFactor(),cr=[],ur=[],dr=[];if(!ar)return console.error("Html table could not be found with input: ",St),{head:cr,body:ur,foot:dr};for(var hr=0;hr<ar.rows.length;hr++){var Ar=ar.rows[hr],fr=(ir=(sr=Ar==null?void 0:Ar.parentElement)===null||sr===void 0?void 0:sr.tagName)===null||ir===void 0?void 0:ir.toLowerCase(),mr=parseRowContent(or,lr,tr,Ar,rr,nr);mr&&(fr==="thead"?cr.push(mr):fr==="tfoot"?dr.push(mr):ur.push(mr))}return{head:cr,body:ur,foot:dr}}function parseRowContent(er,St,tr,rr,nr,sr){for(var ir=new HtmlRowInput(rr),ar=0;ar<rr.cells.length;ar++){var or=rr.cells[ar],lr=tr.getComputedStyle(or);if(nr||lr.display!=="none"){var cr=void 0;sr&&(cr=parseCss(er,or,St,lr,tr)),ir.push({rowSpan:or.rowSpan,colSpan:or.colSpan,styles:cr,_element:or,content:parseCellContent(or)})}}var ur=tr.getComputedStyle(rr);if(ir.length>0&&(nr||ur.display!=="none"))return ir}function parseCellContent(er){var St=er.cloneNode(!0);return St.innerHTML=St.innerHTML.replace(/\n/g,"").replace(/ +/g," "),St.innerHTML=St.innerHTML.split(/<br.*?>/).map(function(tr){return tr.trim()}).join(`
`),St.innerText||St.textContent||""}function validateInput(er,St,tr){for(var rr=0,nr=[er,St,tr];rr<nr.length;rr++){var sr=nr[rr];sr&&typeof sr!="object"&&console.error("The options parameter should be of type object, is: "+typeof sr),sr.startY&&typeof sr.startY!="number"&&(console.error("Invalid value for startY option",sr.startY),delete sr.startY)}}function assign(er,St,tr,rr,nr){if(er==null)throw new TypeError("Cannot convert undefined or null to object");for(var sr=Object(er),ir=1;ir<arguments.length;ir++){var ar=arguments[ir];if(ar!=null)for(var or in ar)Object.prototype.hasOwnProperty.call(ar,or)&&(sr[or]=ar[or])}return sr}function parseInput(er,St){var tr=new DocHandler(er),rr=tr.getDocumentOptions(),nr=tr.getGlobalOptions();validateInput(nr,rr,St);var sr=assign({},nr,rr,St),ir;typeof window<"u"&&(ir=window);var ar=parseStyles(nr,rr,St),or=parseHooks(nr,rr,St),lr=parseSettings(tr,sr),cr=parseContent$1(tr,sr,ir);return{id:St.tableId,content:cr,hooks:or,styles:ar,settings:lr}}function parseStyles(er,St,tr){for(var rr={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},nr=function(or){if(or==="columnStyles"){var lr=er[or],cr=St[or],ur=tr[or];rr.columnStyles=assign({},lr,cr,ur)}else{var dr=[er,St,tr],hr=dr.map(function(Ar){return Ar[or]||{}});rr[or]=assign({},hr[0],hr[1],hr[2])}},sr=0,ir=Object.keys(rr);sr<ir.length;sr++){var ar=ir[sr];nr(ar)}return rr}function parseHooks(er,St,tr){for(var rr=[er,St,tr],nr={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},sr=0,ir=rr;sr<ir.length;sr++){var ar=ir[sr];ar.didParseCell&&nr.didParseCell.push(ar.didParseCell),ar.willDrawCell&&nr.willDrawCell.push(ar.willDrawCell),ar.didDrawCell&&nr.didDrawCell.push(ar.didDrawCell),ar.willDrawPage&&nr.willDrawPage.push(ar.willDrawPage),ar.didDrawPage&&nr.didDrawPage.push(ar.didDrawPage)}return nr}function parseSettings(er,St){var tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar=parseSpacing(St.margin,40/er.scaleFactor()),fr=(tr=getStartY(er,St.startY))!==null&&tr!==void 0?tr:Ar.top,mr;St.showFoot===!0?mr="everyPage":St.showFoot===!1?mr="never":mr=(rr=St.showFoot)!==null&&rr!==void 0?rr:"everyPage";var pr;St.showHead===!0?pr="everyPage":St.showHead===!1?pr="never":pr=(nr=St.showHead)!==null&&nr!==void 0?nr:"everyPage";var gr=(sr=St.useCss)!==null&&sr!==void 0?sr:!1,xr=St.theme||(gr?"plain":"striped"),yr=!!St.horizontalPageBreak,Er=(ir=St.horizontalPageBreakRepeat)!==null&&ir!==void 0?ir:null;return{includeHiddenHtml:(ar=St.includeHiddenHtml)!==null&&ar!==void 0?ar:!1,useCss:gr,theme:xr,startY:fr,margin:Ar,pageBreak:(or=St.pageBreak)!==null&&or!==void 0?or:"auto",rowPageBreak:(lr=St.rowPageBreak)!==null&&lr!==void 0?lr:"auto",tableWidth:(cr=St.tableWidth)!==null&&cr!==void 0?cr:"auto",showHead:pr,showFoot:mr,tableLineWidth:(ur=St.tableLineWidth)!==null&&ur!==void 0?ur:0,tableLineColor:(dr=St.tableLineColor)!==null&&dr!==void 0?dr:200,horizontalPageBreak:yr,horizontalPageBreakRepeat:Er,horizontalPageBreakBehaviour:(hr=St.horizontalPageBreakBehaviour)!==null&&hr!==void 0?hr:"afterAllRows"}}function getStartY(er,St){var tr=er.getLastAutoTable(),rr=er.scaleFactor(),nr=er.pageNumber(),sr=!1;if(tr&&tr.startPageNumber){var ir=tr.startPageNumber+tr.pageNumber-1;sr=ir===nr}return typeof St=="number"?St:(St==null||St===!1)&&sr&&(tr==null?void 0:tr.finalY)!=null?tr.finalY+20/rr:null}function parseContent$1(er,St,tr){var rr=St.head||[],nr=St.body||[],sr=St.foot||[];if(St.html){var ir=St.includeHiddenHtml;if(tr){var ar=parseHtml(er,St.html,tr,ir,St.useCss)||{};rr=ar.head||rr,nr=ar.body||rr,sr=ar.foot||rr}else console.error("Cannot parse html in non browser environment")}var or=St.columns||parseColumns(rr,nr,sr);return{columns:or,head:rr,body:nr,foot:sr}}function parseColumns(er,St,tr){var rr=er[0]||St[0]||tr[0]||[],nr=[];return Object.keys(rr).filter(function(sr){return sr!=="_element"}).forEach(function(sr){var ir=1,ar;Array.isArray(rr)?ar=rr[parseInt(sr)]:ar=rr[sr],typeof ar=="object"&&!Array.isArray(ar)&&(ir=(ar==null?void 0:ar.colSpan)||1);for(var or=0;or<ir;or++){var lr=void 0;Array.isArray(rr)?lr=nr.length:lr=sr+(or>0?"_".concat(or):"");var cr={dataKey:lr};nr.push(cr)}}),nr}var HookData=function(){function er(St,tr,rr){this.table=tr,this.pageNumber=tr.pageNumber,this.settings=tr.settings,this.cursor=rr,this.doc=St.getDocument()}return er}(),CellHookData=function(er){__extends$1(St,er);function St(tr,rr,nr,sr,ir,ar){var or=er.call(this,tr,rr,ar)||this;return or.cell=nr,or.row=sr,or.column=ir,or.section=sr.section,or}return St}(HookData),Table=function(){function er(St,tr){this.pageNumber=1,this.id=St.id,this.settings=St.settings,this.styles=St.styles,this.hooks=St.hooks,this.columns=tr.columns,this.head=tr.head,this.body=tr.body,this.foot=tr.foot}return er.prototype.getHeadHeight=function(St){return this.head.reduce(function(tr,rr){return tr+rr.getMaxCellHeight(St)},0)},er.prototype.getFootHeight=function(St){return this.foot.reduce(function(tr,rr){return tr+rr.getMaxCellHeight(St)},0)},er.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},er.prototype.callCellHooks=function(St,tr,rr,nr,sr,ir){for(var ar=0,or=tr;ar<or.length;ar++){var lr=or[ar],cr=new CellHookData(St,this,rr,nr,sr,ir),ur=lr(cr)===!1;if(rr.text=Array.isArray(rr.text)?rr.text:[rr.text],ur)return!1}return!0},er.prototype.callEndPageHooks=function(St,tr){St.applyStyles(St.userStyles);for(var rr=0,nr=this.hooks.didDrawPage;rr<nr.length;rr++){var sr=nr[rr];sr(new HookData(St,this,tr))}},er.prototype.callWillDrawPageHooks=function(St,tr){for(var rr=0,nr=this.hooks.willDrawPage;rr<nr.length;rr++){var sr=nr[rr];sr(new HookData(St,this,tr))}},er.prototype.getWidth=function(St){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var tr=this.columns.reduce(function(nr,sr){return nr+sr.wrappedWidth},0);return tr}else{var rr=this.settings.margin;return St-rr.left-rr.right}},er}(),Row=function(){function er(St,tr,rr,nr,sr){sr===void 0&&(sr=!1),this.height=0,this.raw=St,St instanceof HtmlRowInput&&(this.raw=St._element,this.element=St._element),this.index=tr,this.section=rr,this.cells=nr,this.spansMultiplePages=sr}return er.prototype.getMaxCellHeight=function(St){var tr=this;return St.reduce(function(rr,nr){var sr;return Math.max(rr,((sr=tr.cells[nr.index])===null||sr===void 0?void 0:sr.height)||0)},0)},er.prototype.hasRowSpan=function(St){var tr=this;return St.filter(function(rr){var nr=tr.cells[rr.index];return nr?nr.rowSpan>1:!1}).length>0},er.prototype.canEntireRowFit=function(St,tr){return this.getMaxCellHeight(tr)<=St},er.prototype.getMinimumRowHeight=function(St,tr){var rr=this;return St.reduce(function(nr,sr){var ir=rr.cells[sr.index];if(!ir)return 0;var ar=tr.getLineHeight(ir.styles.fontSize),or=ir.padding("vertical"),lr=or+ar;return lr>nr?lr:nr},0)},er}(),Cell=function(){function er(St,tr,rr){var nr;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=tr,this.section=rr,this.raw=St;var sr=St;St!=null&&typeof St=="object"&&!Array.isArray(St)?(this.rowSpan=St.rowSpan||1,this.colSpan=St.colSpan||1,sr=(nr=St.content)!==null&&nr!==void 0?nr:St,St._element&&(this.raw=St._element)):(this.rowSpan=1,this.colSpan=1);var ir=sr!=null?""+sr:"",ar=/\r\n|\r|\n/g;this.text=ir.split(ar)}return er.prototype.getTextPos=function(){var St;if(this.styles.valign==="top")St=this.y+this.padding("top");else if(this.styles.valign==="bottom")St=this.y+this.height-this.padding("bottom");else{var tr=this.height-this.padding("vertical");St=this.y+tr/2+this.padding("top")}var rr;if(this.styles.halign==="right")rr=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var nr=this.width-this.padding("horizontal");rr=this.x+nr/2+this.padding("left")}else rr=this.x+this.padding("left");return{x:rr,y:St}},er.prototype.getContentHeight=function(St,tr){tr===void 0&&(tr=1.15);var rr=Array.isArray(this.text)?this.text.length:1,nr=this.styles.fontSize/St*tr,sr=rr*nr+this.padding("vertical");return Math.max(sr,this.styles.minCellHeight)},er.prototype.padding=function(St){var tr=parseSpacing(this.styles.cellPadding,0);return St==="vertical"?tr.top+tr.bottom:St==="horizontal"?tr.left+tr.right:tr[St]},er}(),Column=function(){function er(St,tr,rr){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=St,this.raw=tr,this.index=rr}return er.prototype.getMaxCustomCellWidth=function(St){for(var tr=0,rr=0,nr=St.allRows();rr<nr.length;rr++){var sr=nr[rr],ir=sr.cells[this.index];ir&&typeof ir.styles.cellWidth=="number"&&(tr=Math.max(tr,ir.styles.cellWidth))}return tr},er}();function calculateWidths(er,St){calculate(er,St);var tr=[],rr=0;St.columns.forEach(function(sr){var ir=sr.getMaxCustomCellWidth(St);ir?sr.width=ir:(sr.width=sr.wrappedWidth,tr.push(sr)),rr+=sr.width});var nr=St.getWidth(er.pageSize().width)-rr;nr&&(nr=resizeColumns(tr,nr,function(sr){return Math.max(sr.minReadableWidth,sr.minWidth)})),nr&&(nr=resizeColumns(tr,nr,function(sr){return sr.minWidth})),nr=Math.abs(nr),!St.settings.horizontalPageBreak&&nr>.1/er.scaleFactor()&&(nr=nr<1?nr:Math.round(nr),console.warn("Of the table content, ".concat(nr," units width could not fit page"))),applyColSpans(St),fitContent(St,er),applyRowSpans(St)}function calculate(er,St){var tr=er.scaleFactor(),rr=St.settings.horizontalPageBreak,nr=getPageAvailableWidth(er,St);St.allRows().forEach(function(sr){for(var ir=0,ar=St.columns;ir<ar.length;ir++){var or=ar[ir],lr=sr.cells[or.index];if(lr){var cr=St.hooks.didParseCell;St.callCellHooks(er,cr,lr,sr,or,null);var ur=lr.padding("horizontal");lr.contentWidth=getStringWidth(lr.text,lr.styles,er)+ur;var dr=getStringWidth(lr.text.join(" ").split(/[^\S\u00A0]+/),lr.styles,er);if(lr.minReadableWidth=dr+lr.padding("horizontal"),typeof lr.styles.cellWidth=="number")lr.minWidth=lr.styles.cellWidth,lr.wrappedWidth=lr.styles.cellWidth;else if(lr.styles.cellWidth==="wrap"||rr===!0)lr.contentWidth>nr?(lr.minWidth=nr,lr.wrappedWidth=nr):(lr.minWidth=lr.contentWidth,lr.wrappedWidth=lr.contentWidth);else{var hr=10/tr;lr.minWidth=lr.styles.minCellWidth||hr,lr.wrappedWidth=lr.contentWidth,lr.minWidth>lr.wrappedWidth&&(lr.wrappedWidth=lr.minWidth)}}}}),St.allRows().forEach(function(sr){for(var ir=0,ar=St.columns;ir<ar.length;ir++){var or=ar[ir],lr=sr.cells[or.index];if(lr&&lr.colSpan===1)or.wrappedWidth=Math.max(or.wrappedWidth,lr.wrappedWidth),or.minWidth=Math.max(or.minWidth,lr.minWidth),or.minReadableWidth=Math.max(or.minReadableWidth,lr.minReadableWidth);else{var cr=St.styles.columnStyles[or.dataKey]||St.styles.columnStyles[or.index]||{},ur=cr.cellWidth||cr.minCellWidth;ur&&typeof ur=="number"&&(or.minWidth=ur,or.wrappedWidth=ur)}lr&&(lr.colSpan>1&&!or.minWidth&&(or.minWidth=lr.minWidth),lr.colSpan>1&&!or.wrappedWidth&&(or.wrappedWidth=lr.minWidth))}})}function resizeColumns(er,St,tr){for(var rr=St,nr=er.reduce(function(hr,Ar){return hr+Ar.wrappedWidth},0),sr=0;sr<er.length;sr++){var ir=er[sr],ar=ir.wrappedWidth/nr,or=rr*ar,lr=ir.width+or,cr=tr(ir),ur=lr<cr?cr:lr;St-=ur-ir.width,ir.width=ur}if(St=Math.round(St*1e10)/1e10,St){var dr=er.filter(function(hr){return St<0?hr.width>tr(hr):!0});dr.length&&(St=resizeColumns(dr,St,tr))}return St}function applyRowSpans(er){for(var St={},tr=1,rr=er.allRows(),nr=0;nr<rr.length;nr++)for(var sr=rr[nr],ir=0,ar=er.columns;ir<ar.length;ir++){var or=ar[ir],lr=St[or.index];if(tr>1)tr--,delete sr.cells[or.index];else if(lr)lr.cell.height+=sr.height,tr=lr.cell.colSpan,delete sr.cells[or.index],lr.left--,lr.left<=1&&delete St[or.index];else{var cr=sr.cells[or.index];if(!cr)continue;if(cr.height=sr.height,cr.rowSpan>1){var ur=rr.length-nr,dr=cr.rowSpan>ur?ur:cr.rowSpan;St[or.index]={cell:cr,left:dr,row:sr}}}}}function applyColSpans(er){for(var St=er.allRows(),tr=0;tr<St.length;tr++)for(var rr=St[tr],nr=null,sr=0,ir=0,ar=0;ar<er.columns.length;ar++){var or=er.columns[ar];if(ir-=1,ir>1&&er.columns[ar+1])sr+=or.width,delete rr.cells[or.index];else if(nr){var lr=nr;delete rr.cells[or.index],nr=null,lr.width=or.width+sr}else{var lr=rr.cells[or.index];if(!lr)continue;if(ir=lr.colSpan,sr=0,lr.colSpan>1){nr=lr,sr+=or.width;continue}lr.width=or.width+sr}}}function fitContent(er,St){for(var tr={count:0,height:0},rr=0,nr=er.allRows();rr<nr.length;rr++){for(var sr=nr[rr],ir=0,ar=er.columns;ir<ar.length;ir++){var or=ar[ir],lr=sr.cells[or.index];if(lr){St.applyStyles(lr.styles,!0);var cr=lr.width-lr.padding("horizontal");if(lr.styles.overflow==="linebreak")lr.text=St.splitTextToSize(lr.text,cr+1/St.scaleFactor(),{fontSize:lr.styles.fontSize});else if(lr.styles.overflow==="ellipsize")lr.text=ellipsize(lr.text,cr,lr.styles,St,"...");else if(lr.styles.overflow==="hidden")lr.text=ellipsize(lr.text,cr,lr.styles,St,"");else if(typeof lr.styles.overflow=="function"){var ur=lr.styles.overflow(lr.text,cr);typeof ur=="string"?lr.text=[ur]:lr.text=ur}lr.contentHeight=lr.getContentHeight(St.scaleFactor(),St.getLineHeightFactor());var dr=lr.contentHeight/lr.rowSpan;lr.rowSpan>1&&tr.count*tr.height<dr*lr.rowSpan?tr={height:dr,count:lr.rowSpan}:tr&&tr.count>0&&tr.height>dr&&(dr=tr.height),dr>sr.height&&(sr.height=dr)}}tr.count--}}function ellipsize(er,St,tr,rr,nr){return er.map(function(sr){return ellipsizeStr(sr,St,tr,rr,nr)})}function ellipsizeStr(er,St,tr,rr,nr){var sr=1e4*rr.scaleFactor();if(St=Math.ceil(St*sr)/sr,St>=getStringWidth(er,tr,rr))return er;for(;St<getStringWidth(er+nr,tr,rr)&&!(er.length<=1);)er=er.substring(0,er.length-1);return er.trim()+nr}function createTable(er,St){var tr=new DocHandler(er),rr=parseContent(St,tr.scaleFactor()),nr=new Table(St,rr);return calculateWidths(tr,nr),tr.applyStyles(tr.userStyles),nr}function parseContent(er,St){var tr=er.content,rr=createColumns(tr.columns);if(tr.head.length===0){var nr=generateSectionRow(rr,"head");nr&&tr.head.push(nr)}if(tr.foot.length===0){var nr=generateSectionRow(rr,"foot");nr&&tr.foot.push(nr)}var sr=er.settings.theme,ir=er.styles;return{columns:rr,head:parseSection("head",tr.head,rr,ir,sr,St),body:parseSection("body",tr.body,rr,ir,sr,St),foot:parseSection("foot",tr.foot,rr,ir,sr,St)}}function parseSection(er,St,tr,rr,nr,sr){var ir={},ar=St.map(function(or,lr){for(var cr=0,ur={},dr=0,hr=0,Ar=0,fr=tr;Ar<fr.length;Ar++){var mr=fr[Ar];if(ir[mr.index]==null||ir[mr.index].left===0)if(hr===0){var pr=void 0;Array.isArray(or)?pr=or[mr.index-dr-cr]:pr=or[mr.dataKey];var gr={};typeof pr=="object"&&!Array.isArray(pr)&&(gr=(pr==null?void 0:pr.styles)||{});var xr=cellStyles(er,mr,lr,nr,rr,sr,gr),yr=new Cell(pr,xr,er);ur[mr.dataKey]=yr,ur[mr.index]=yr,hr=yr.colSpan-1,ir[mr.index]={left:yr.rowSpan-1,times:hr}}else hr--,dr++;else ir[mr.index].left--,hr=ir[mr.index].times,cr++}return new Row(or,lr,er,ur)});return ar}function generateSectionRow(er,St){var tr={};return er.forEach(function(rr){if(rr.raw!=null){var nr=getSectionTitle(St,rr.raw);nr!=null&&(tr[rr.dataKey]=nr)}}),Object.keys(tr).length>0?tr:null}function getSectionTitle(er,St){if(er==="head"){if(typeof St=="object")return St.header||null;if(typeof St=="string"||typeof St=="number")return St}else if(er==="foot"&&typeof St=="object")return St.footer;return null}function createColumns(er){return er.map(function(St,tr){var rr,nr;return typeof St=="object"?nr=(rr=St.dataKey)!==null&&rr!==void 0?rr:tr:nr=tr,new Column(nr,St,tr)})}function cellStyles(er,St,tr,rr,nr,sr,ir){var ar=getTheme(rr),or;er==="head"?or=nr.headStyles:er==="body"?or=nr.bodyStyles:er==="foot"&&(or=nr.footStyles);var lr=assign({},ar.table,ar[er],nr.styles,or),cr=nr.columnStyles[St.dataKey]||nr.columnStyles[St.index]||{},ur=er==="body"?cr:{},dr=er==="body"&&tr%2===0?assign({},ar.alternateRow,nr.alternateRowStyles):{},hr=defaultStyles(sr),Ar=assign({},hr,lr,dr,ur);return assign(Ar,ir)}function getColumnsCanFitInPage(er,St,tr){var rr;tr===void 0&&(tr={});var nr=getPageAvailableWidth(er,St),sr=new Map,ir=[],ar=[],or=[];Array.isArray(St.settings.horizontalPageBreakRepeat)?or=St.settings.horizontalPageBreakRepeat:(typeof St.settings.horizontalPageBreakRepeat=="string"||typeof St.settings.horizontalPageBreakRepeat=="number")&&(or=[St.settings.horizontalPageBreakRepeat]),or.forEach(function(dr){var hr=St.columns.find(function(Ar){return Ar.dataKey===dr||Ar.index===dr});hr&&!sr.has(hr.index)&&(sr.set(hr.index,!0),ir.push(hr.index),ar.push(St.columns[hr.index]),nr-=hr.wrappedWidth)});for(var lr=!0,cr=(rr=tr==null?void 0:tr.start)!==null&&rr!==void 0?rr:0;cr<St.columns.length;){if(sr.has(cr)){cr++;continue}var ur=St.columns[cr].wrappedWidth;if(lr||nr>=ur)lr=!1,ir.push(cr),ar.push(St.columns[cr]),nr-=ur;else break;cr++}return{colIndexes:ir,columns:ar,lastIndex:cr-1}}function calculateAllColumnsCanFitInPage(er,St){for(var tr=[],rr=0;rr<St.columns.length;rr++){var nr=getColumnsCanFitInPage(er,St,{start:rr});nr.columns.length&&(tr.push(nr),rr=nr.lastIndex)}return tr}function drawTable(er,St){var tr=St.settings,rr=tr.startY,nr=tr.margin,sr={x:nr.left,y:rr},ir=St.getHeadHeight(St.columns)+St.getFootHeight(St.columns),ar=rr+nr.bottom+ir;if(tr.pageBreak==="avoid"){var or=St.body,lr=or.reduce(function(dr,hr){return dr+hr.height},0);ar+=lr}var cr=new DocHandler(er);(tr.pageBreak==="always"||tr.startY!=null&&ar>cr.pageSize().height)&&(nextPage(cr),sr.y=nr.top),St.callWillDrawPageHooks(cr,sr);var ur=assign({},sr);St.startPageNumber=cr.pageNumber(),tr.horizontalPageBreak?printTableWithHorizontalPageBreak(cr,St,ur,sr):(cr.applyStyles(cr.userStyles),(tr.showHead==="firstPage"||tr.showHead==="everyPage")&&St.head.forEach(function(dr){return printRow(cr,St,dr,sr,St.columns)}),cr.applyStyles(cr.userStyles),St.body.forEach(function(dr,hr){var Ar=hr===St.body.length-1;printFullRow(cr,St,dr,Ar,ur,sr,St.columns)}),cr.applyStyles(cr.userStyles),(tr.showFoot==="lastPage"||tr.showFoot==="everyPage")&&St.foot.forEach(function(dr){return printRow(cr,St,dr,sr,St.columns)})),addTableBorder(cr,St,ur,sr),St.callEndPageHooks(cr,sr),St.finalY=sr.y,er.lastAutoTable=St,cr.applyStyles(cr.userStyles)}function printTableWithHorizontalPageBreak(er,St,tr,rr){var nr=calculateAllColumnsCanFitInPage(er,St),sr=St.settings;if(sr.horizontalPageBreakBehaviour==="afterAllRows")nr.forEach(function(lr,cr){er.applyStyles(er.userStyles),cr>0?addPage(er,St,tr,rr,lr.columns,!0):printHead(er,St,rr,lr.columns),printBody(er,St,tr,rr,lr.columns),printFoot(er,St,rr,lr.columns)});else for(var ir=-1,ar=nr[0],or=function(){var lr=ir;if(ar){er.applyStyles(er.userStyles);var cr=ar.columns;ir>=0?addPage(er,St,tr,rr,cr,!0):printHead(er,St,rr,cr),lr=printBodyWithoutPageBreaks(er,St,ir+1,rr,cr),printFoot(er,St,rr,cr)}var ur=lr-ir;nr.slice(1).forEach(function(dr){er.applyStyles(er.userStyles),addPage(er,St,tr,rr,dr.columns,!0),printBodyWithoutPageBreaks(er,St,ir+1,rr,dr.columns,ur),printFoot(er,St,rr,dr.columns)}),ir=lr};ir<St.body.length-1;)or()}function printHead(er,St,tr,rr){var nr=St.settings;er.applyStyles(er.userStyles),(nr.showHead==="firstPage"||nr.showHead==="everyPage")&&St.head.forEach(function(sr){return printRow(er,St,sr,tr,rr)})}function printBody(er,St,tr,rr,nr){er.applyStyles(er.userStyles),St.body.forEach(function(sr,ir){var ar=ir===St.body.length-1;printFullRow(er,St,sr,ar,tr,rr,nr)})}function printBodyWithoutPageBreaks(er,St,tr,rr,nr,sr){er.applyStyles(er.userStyles),sr=sr??St.body.length;var ir=Math.min(tr+sr,St.body.length),ar=-1;return St.body.slice(tr,ir).forEach(function(or,lr){var cr=tr+lr===St.body.length-1,ur=getRemainingPageSpace(er,St,cr,rr);or.canEntireRowFit(ur,nr)&&(printRow(er,St,or,rr,nr),ar=tr+lr)}),ar}function printFoot(er,St,tr,rr){var nr=St.settings;er.applyStyles(er.userStyles),(nr.showFoot==="lastPage"||nr.showFoot==="everyPage")&&St.foot.forEach(function(sr){return printRow(er,St,sr,tr,rr)})}function getRemainingLineCount(er,St,tr){var rr=tr.getLineHeight(er.styles.fontSize),nr=er.padding("vertical"),sr=Math.floor((St-nr)/rr);return Math.max(0,sr)}function modifyRowToFit(er,St,tr,rr){var nr={};er.spansMultiplePages=!0,er.height=0;for(var sr=0,ir=0,ar=tr.columns;ir<ar.length;ir++){var or=ar[ir],lr=er.cells[or.index];if(lr){Array.isArray(lr.text)||(lr.text=[lr.text]);var cr=new Cell(lr.raw,lr.styles,lr.section);cr=assign(cr,lr),cr.text=[];var ur=getRemainingLineCount(lr,St,rr);lr.text.length>ur&&(cr.text=lr.text.splice(ur,lr.text.length));var dr=rr.scaleFactor(),hr=rr.getLineHeightFactor();lr.contentHeight=lr.getContentHeight(dr,hr),lr.contentHeight>=St&&(lr.contentHeight=St,cr.styles.minCellHeight-=St),lr.contentHeight>er.height&&(er.height=lr.contentHeight),cr.contentHeight=cr.getContentHeight(dr,hr),cr.contentHeight>sr&&(sr=cr.contentHeight),nr[or.index]=cr}}var Ar=new Row(er.raw,-1,er.section,nr,!0);Ar.height=sr;for(var fr=0,mr=tr.columns;fr<mr.length;fr++){var or=mr[fr],cr=Ar.cells[or.index];cr&&(cr.height=Ar.height);var lr=er.cells[or.index];lr&&(lr.height=er.height)}return Ar}function shouldPrintOnCurrentPage(er,St,tr,rr){var nr=er.pageSize().height,sr=rr.settings.margin,ir=sr.top+sr.bottom,ar=nr-ir;St.section==="body"&&(ar-=rr.getHeadHeight(rr.columns)+rr.getFootHeight(rr.columns));var or=St.getMinimumRowHeight(rr.columns,er),lr=or<tr;if(or>ar)return console.error("Will not be able to print row ".concat(St.index," correctly since it's minimum height is larger than page height")),!0;if(!lr)return!1;var cr=St.hasRowSpan(rr.columns),ur=St.getMaxCellHeight(rr.columns)>ar;return ur?(cr&&console.error("The content of row ".concat(St.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(cr||rr.settings.rowPageBreak==="avoid")}function printFullRow(er,St,tr,rr,nr,sr,ir){var ar=getRemainingPageSpace(er,St,rr,sr);if(tr.canEntireRowFit(ar,ir))printRow(er,St,tr,sr,ir);else if(shouldPrintOnCurrentPage(er,tr,ar,St)){var or=modifyRowToFit(tr,ar,St,er);printRow(er,St,tr,sr,ir),addPage(er,St,nr,sr,ir),printFullRow(er,St,or,rr,nr,sr,ir)}else addPage(er,St,nr,sr,ir),printFullRow(er,St,tr,rr,nr,sr,ir)}function printRow(er,St,tr,rr,nr){rr.x=St.settings.margin.left;for(var sr=0,ir=nr;sr<ir.length;sr++){var ar=ir[sr],or=tr.cells[ar.index];if(!or){rr.x+=ar.width;continue}er.applyStyles(or.styles),or.x=rr.x,or.y=rr.y;var lr=St.callCellHooks(er,St.hooks.willDrawCell,or,tr,ar,rr);if(lr===!1){rr.x+=ar.width;continue}drawCellRect(er,or,rr);var cr=or.getTextPos();autoTableText(or.text,cr.x,cr.y,{halign:or.styles.halign,valign:or.styles.valign,maxWidth:Math.ceil(or.width-or.padding("left")-or.padding("right"))},er.getDocument()),St.callCellHooks(er,St.hooks.didDrawCell,or,tr,ar,rr),rr.x+=ar.width}rr.y+=tr.height}function drawCellRect(er,St,tr){var rr=St.styles;if(er.getDocument().setFillColor(er.getDocument().getFillColor()),typeof rr.lineWidth=="number"){var nr=getFillStyle(rr.lineWidth,rr.fillColor);nr&&er.rect(St.x,tr.y,St.width,St.height,nr)}else typeof rr.lineWidth=="object"&&(rr.fillColor&&er.rect(St.x,tr.y,St.width,St.height,"F"),drawCellBorders(er,St,tr,rr.lineWidth))}function drawCellBorders(er,St,tr,rr){var nr,sr,ir,ar;rr.top&&(nr=tr.x,sr=tr.y,ir=tr.x+St.width,ar=tr.y,rr.right&&(ir+=.5*rr.right),rr.left&&(nr-=.5*rr.left),or(rr.top,nr,sr,ir,ar)),rr.bottom&&(nr=tr.x,sr=tr.y+St.height,ir=tr.x+St.width,ar=tr.y+St.height,rr.right&&(ir+=.5*rr.right),rr.left&&(nr-=.5*rr.left),or(rr.bottom,nr,sr,ir,ar)),rr.left&&(nr=tr.x,sr=tr.y,ir=tr.x,ar=tr.y+St.height,rr.top&&(sr-=.5*rr.top),rr.bottom&&(ar+=.5*rr.bottom),or(rr.left,nr,sr,ir,ar)),rr.right&&(nr=tr.x+St.width,sr=tr.y,ir=tr.x+St.width,ar=tr.y+St.height,rr.top&&(sr-=.5*rr.top),rr.bottom&&(ar+=.5*rr.bottom),or(rr.right,nr,sr,ir,ar));function or(lr,cr,ur,dr,hr){er.getDocument().setLineWidth(lr),er.getDocument().line(cr,ur,dr,hr,"S")}}function getRemainingPageSpace(er,St,tr,rr){var nr=St.settings.margin.bottom,sr=St.settings.showFoot;return(sr==="everyPage"||sr==="lastPage"&&tr)&&(nr+=St.getFootHeight(St.columns)),er.pageSize().height-rr.y-nr}function addPage(er,St,tr,rr,nr,sr){nr===void 0&&(nr=[]),sr===void 0&&(sr=!1),er.applyStyles(er.userStyles),St.settings.showFoot==="everyPage"&&!sr&&St.foot.forEach(function(ar){return printRow(er,St,ar,rr,nr)}),St.callEndPageHooks(er,rr);var ir=St.settings.margin;addTableBorder(er,St,tr,rr),nextPage(er),St.pageNumber++,rr.x=ir.left,rr.y=ir.top,tr.y=ir.top,St.callWillDrawPageHooks(er,rr),St.settings.showHead==="everyPage"&&(St.head.forEach(function(ar){return printRow(er,St,ar,rr,nr)}),er.applyStyles(er.userStyles))}function nextPage(er){var St=er.pageNumber();er.setPage(St+1);var tr=er.pageNumber();return tr===St?(er.addPage(),!0):!1}function applyPlugin(er){er.API.autoTable=function(){for(var St=[],tr=0;tr<arguments.length;tr++)St[tr]=arguments[tr];var rr=St[0],nr=parseInput(this,rr),sr=createTable(this,nr);return drawTable(this,sr),this},er.API.lastAutoTable=!1,er.API.autoTableText=function(St,tr,rr,nr){autoTableText(St,tr,rr,nr,this)},er.API.autoTableSetDefaults=function(St){return DocHandler.setDefaults(St,this),this},er.autoTableSetDefaults=function(St,tr){DocHandler.setDefaults(St,tr)},er.API.autoTableHtmlToJson=function(St,tr){var rr;if(tr===void 0&&(tr=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var nr=new DocHandler(this),sr=parseHtml(nr,St,window,tr,!1),ir=sr.head,ar=sr.body,or=((rr=ir[0])===null||rr===void 0?void 0:rr.map(function(lr){return lr.content}))||[];return{columns:or,rows:ar,data:ar}}}var _a;function autoTable(er,St){var tr=parseInput(er,St),rr=createTable(er,tr);drawTable(er,rr)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(er){console.error("Could not apply autoTable plugin",er)}const ExportChartLogPanel=()=>{const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(!1),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState([]),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),[dr,hr]=reactExports.useState(""),[Ar,fr]=reactExports.useState([]),[mr,pr]=reactExports.useState({format:"xlsx",dateRange:{from:new Date(new Date().setMonth(new Date().getMonth()-1)),to:new Date},includeTypes:["all"],includeProviders:["all"],includePatients:["all"],groupBy:"none",includeSoapNotes:!0,includeTimeline:!0,includeMetadata:!1,anonymize:!1}),gr=[{value:"soap_note",label:"SOAP Notes",icon:jsxRuntimeExports.jsx(Stethoscope,{className:"w-4 h-4"})},{value:"vitals_recorded",label:"Vitals",icon:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4"})},{value:"medication_prescribed",label:"Medications",icon:jsxRuntimeExports.jsx(Pill,{className:"w-4 h-4"})},{value:"lab_ordered",label:"Lab Orders",icon:jsxRuntimeExports.jsx(TestTube,{className:"w-4 h-4"})},{value:"telehealth",label:"Telehealth",icon:jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})},{value:"clinical_note",label:"Clinical Notes",icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}];reactExports.useEffect(()=>{xr(),yr(),Er()},[]),reactExports.useEffect(()=>{mr.dateRange.from&&mr.dateRange.to&&_r()},[mr]);const xr=async()=>{try{const{data:Gr,error:$r}=await supabase.from("providers").select("id, user_id");if($r)throw $r;const Vr=await Promise.all((Gr||[]).map(async Tr=>{var Wr;const{data:Fr}=await supabase.from("auth.users").select("email, raw_user_meta_data").eq("id",Tr.user_id).single();return{id:Tr.id,name:((Wr=Fr==null?void 0:Fr.raw_user_meta_data)==null?void 0:Wr.full_name)||(Fr==null?void 0:Fr.email)||"Unknown Provider"}}));ar(Vr)}catch(Gr){console.error("Failed to load providers:",Gr)}},yr=async()=>{try{const{data:Gr,error:$r}=await supabase.from("patients").select("id, user_id");if($r)throw $r;const Vr=await Promise.all((Gr||[]).map(async Tr=>{var Wr;const{data:Fr}=await supabase.from("auth.users").select("email, raw_user_meta_data").eq("id",Tr.user_id).single();return{id:Tr.id,name:((Wr=Fr==null?void 0:Fr.raw_user_meta_data)==null?void 0:Wr.full_name)||"Unknown Patient",email:(Fr==null?void 0:Fr.email)||""}}));lr(Vr.sort((Tr,Fr)=>Tr.name.localeCompare(Fr.name)))}catch(Gr){console.error("Failed to load patients:",Gr)}},Er=async()=>{try{const Gr=JSON.parse(localStorage.getItem("chartExportHistory")||"[]");fr(Gr.slice(0,5))}catch(Gr){console.error("Failed to load export history:",Gr)}},_r=async()=>{rr(!0);try{let Gr=0,$r=0,Vr=0;const Tr=new Set,Fr=new Set;if(mr.includeSoapNotes){let Wr=supabase.from("soap_notes").select("id, patient_id, provider_id",{count:"exact"}).gte("created_at",mr.dateRange.from.toISOString()).lte("created_at",mr.dateRange.to.toISOString());mr.includeProviders.includes("all")||(Wr=Wr.in("provider_id",mr.includeProviders)),mr.includePatients.includes("all")||(Wr=Wr.in("patient_id",cr));const{data:qr,count:Rr}=await Wr;$r=Rr||0,Gr+=$r,qr==null||qr.forEach(Or=>{Tr.add(Or.patient_id),Fr.add(Or.provider_id)})}if(mr.includeTimeline){let Wr=supabase.from("patient_timeline").select("id, patient_id, metadata",{count:"exact"}).gte("timestamp",mr.dateRange.from.toISOString()).lte("timestamp",mr.dateRange.to.toISOString());mr.includeTypes.includes("all")||(Wr=Wr.in("type",mr.includeTypes)),mr.includePatients.includes("all")||(Wr=Wr.in("patient_id",cr));const{data:qr,count:Rr}=await Wr;Vr=Rr||0,Gr+=Vr,qr==null||qr.forEach(Or=>{var Hr;Tr.add(Or.patient_id),(Hr=Or.metadata)!=null&&Hr.provider_id&&Fr.add(Or.metadata.provider_id)})}sr({totalRecords:Gr,soapNotes:$r,timelineEvents:Vr,patients:Tr.size,providers:Fr.size,dateRange:`${format(mr.dateRange.from,"MMM d, yyyy")} - ${format(mr.dateRange.to,"MMM d, yyyy")}`})}catch(Gr){console.error("Failed to prepare export:",Gr)}finally{rr(!1)}},Sr=async()=>{var $r;const Gr=[];if(mr.includeSoapNotes){let Vr=supabase.from("soap_notes").select("*").gte("created_at",mr.dateRange.from.toISOString()).lte("created_at",mr.dateRange.to.toISOString()).order("created_at",{ascending:!1});mr.includeProviders.includes("all")||(Vr=Vr.in("provider_id",mr.includeProviders)),mr.includePatients.includes("all")||(Vr=Vr.in("patient_id",cr));const{data:Tr,error:Fr}=await Vr;if(Fr)throw Fr;for(const Wr of Tr||[]){const qr=or.find(Or=>Or.id===Wr.patient_id),Rr=ir.find(Or=>Or.id===Wr.provider_id);Gr.push({id:Wr.id,timestamp:Wr.created_at,type:"SOAP Note",patient_name:mr.anonymize?`Patient-${Wr.patient_id.slice(0,8)}`:(qr==null?void 0:qr.name)||"Unknown",patient_email:mr.anonymize?"anonymized@example.com":(qr==null?void 0:qr.email)||"",provider_name:(Rr==null?void 0:Rr.name)||"Unknown",title:"SOAP Note",content:Wr.full_note||`S: ${Wr.subjective}
O: ${Wr.objective}
A: ${Wr.assessment}
P: ${Wr.plan}`,source:"soap_notes",metadata:mr.includeMetadata?{appointment_id:Wr.appointment_id,subjective:Wr.subjective,objective:Wr.objective,assessment:Wr.assessment,plan:Wr.plan}:null})}}if(mr.includeTimeline){let Vr=supabase.from("patient_timeline").select("*").gte("timestamp",mr.dateRange.from.toISOString()).lte("timestamp",mr.dateRange.to.toISOString()).order("timestamp",{ascending:!1});mr.includeTypes.includes("all")||(Vr=Vr.in("type",mr.includeTypes)),mr.includePatients.includes("all")||(Vr=Vr.in("patient_id",cr));const{data:Tr,error:Fr}=await Vr;if(Fr)throw Fr;for(const Wr of Tr||[]){const qr=or.find(Or=>Or.id===Wr.patient_id),Rr=($r=Wr.metadata)!=null&&$r.provider_id?ir.find(Or=>Or.id===Wr.metadata.provider_id):null;Gr.push({id:Wr.id,timestamp:Wr.timestamp,type:Wr.type,patient_name:mr.anonymize?`Patient-${Wr.patient_id.slice(0,8)}`:(qr==null?void 0:qr.name)||"Unknown",patient_email:mr.anonymize?"anonymized@example.com":(qr==null?void 0:qr.email)||"",provider_name:(Rr==null?void 0:Rr.name)||"System",title:Wr.title,content:Wr.content,source:"timeline",importance:Wr.importance,metadata:mr.includeMetadata?Wr.metadata:null})}}return Gr.sort((Vr,Tr)=>new Date(Tr.timestamp).getTime()-new Date(Vr.timestamp).getTime()),mr.groupBy!=="none"?jr(Gr,mr.groupBy):Gr},jr=(Gr,$r)=>{const Vr={};return Gr.forEach(Tr=>{let Fr="";switch($r){case"patient":Fr=Tr.patient_name;break;case"provider":Fr=Tr.provider_name;break;case"date":Fr=format(new Date(Tr.timestamp),"yyyy-MM-dd");break;case"type":Fr=Tr.type;break}Vr[Fr]||(Vr[Fr]=[]),Vr[Fr].push(Tr)}),Vr},Pr=Gr=>{const $r=["Timestamp","Patient","Provider","Type","Title","Content","Source","Importance"];mr.includeMetadata&&$r.push("Metadata");const Vr=Gr.map(Rr=>{const Or=[format(new Date(Rr.timestamp),"yyyy-MM-dd HH:mm:ss"),Rr.patient_name,Rr.provider_name,Rr.type,Rr.title,Rr.content.replace(/\n/g," "),Rr.source,Rr.importance||""];return mr.includeMetadata&&Or.push(JSON.stringify(Rr.metadata||{})),Or}),Tr=[$r.join(","),...Vr.map(Rr=>Rr.map(Or=>`"${Or}"`).join(","))].join(`
`),Fr=new Blob([Tr],{type:"text/csv"}),Wr=URL.createObjectURL(Fr),qr=document.createElement("a");qr.href=Wr,qr.download=`chart-logs-export-${format(new Date,"yyyy-MM-dd-HHmmss")}.csv`,qr.click()},Mr=Gr=>{const $r=[["Timestamp","Patient","Provider","Type","Title","Content","Source","Importance"]];mr.includeMetadata&&$r[0].push("Metadata"),Gr.forEach(qr=>{const Rr=[format(new Date(qr.timestamp),"yyyy-MM-dd HH:mm:ss"),qr.patient_name,qr.provider_name,qr.type,qr.title,qr.content,qr.source,qr.importance||""];mr.includeMetadata&&Rr.push(JSON.stringify(qr.metadata||{})),$r.push(Rr)});const Vr=utils.book_new(),Tr=utils.aoa_to_sheet($r);Tr["!cols"]=[{wch:20},{wch:25},{wch:25},{wch:20},{wch:30},{wch:50},{wch:15},{wch:10}],mr.includeMetadata&&Tr["!cols"].push({wch:30}),utils.book_append_sheet(Vr,Tr,"Chart Logs");const Fr=[["Export Summary"],[""],["Date Range:",(nr==null?void 0:nr.dateRange)||""],["Total Records:",(nr==null?void 0:nr.totalRecords)||0],["SOAP Notes:",(nr==null?void 0:nr.soapNotes)||0],["Timeline Events:",(nr==null?void 0:nr.timelineEvents)||0],["Unique Patients:",(nr==null?void 0:nr.patients)||0],["Unique Providers:",(nr==null?void 0:nr.providers)||0],[""],["Export Date:",format(new Date,"yyyy-MM-dd HH:mm:ss")],["Export Format:","XLSX"],["Anonymized:",mr.anonymize?"Yes":"No"]],Wr=utils.aoa_to_sheet(Fr);utils.book_append_sheet(Vr,Wr,"Summary"),writeFileSync(Vr,`chart-logs-export-${format(new Date,"yyyy-MM-dd-HHmmss")}.xlsx`)},Ir=Gr=>{const $r=new E$1("l","mm","a4");$r.setFontSize(18),$r.text("Chart Logs Export",14,15),$r.setFontSize(10),$r.text(`Date Range: ${(nr==null?void 0:nr.dateRange)||""}`,14,25),$r.text(`Total Records: ${(nr==null?void 0:nr.totalRecords)||0}`,14,30),$r.text(`Export Date: ${format(new Date,"yyyy-MM-dd HH:mm:ss")}`,14,35);const Vr=Gr.map(Tr=>[format(new Date(Tr.timestamp),"MM/dd/yy HH:mm"),Tr.patient_name.substring(0,20)+(Tr.patient_name.length>20?"...":""),Tr.provider_name.substring(0,20)+(Tr.provider_name.length>20?"...":""),Tr.type,Tr.title.substring(0,30)+(Tr.title.length>30?"...":""),Tr.content.substring(0,50)+(Tr.content.length>50?"...":"")]);$r.autoTable({head:[["Timestamp","Patient","Provider","Type","Title","Content"]],body:Vr,startY:45,styles:{fontSize:8},headStyles:{fillColor:[66,139,202]}}),$r.save(`chart-logs-export-${format(new Date,"yyyy-MM-dd-HHmmss")}.pdf`)},Lr=Gr=>{const $r={exportInfo:{dateRange:nr==null?void 0:nr.dateRange,totalRecords:nr==null?void 0:nr.totalRecords,soapNotes:nr==null?void 0:nr.soapNotes,timelineEvents:nr==null?void 0:nr.timelineEvents,patients:nr==null?void 0:nr.patients,providers:nr==null?void 0:nr.providers,exportDate:new Date().toISOString(),anonymized:mr.anonymize},data:mr.groupBy!=="none"?Gr:{records:Gr}},Vr=JSON.stringify($r,null,2),Tr=new Blob([Vr],{type:"application/json"}),Fr=URL.createObjectURL(Tr),Wr=document.createElement("a");Wr.href=Fr,Wr.download=`chart-logs-export-${format(new Date,"yyyy-MM-dd-HHmmss")}.json`,Wr.click()},Qr=async()=>{St(!0);try{const Gr=await Sr();switch(mr.format){case"csv":Pr(mr.groupBy!=="none"?Object.values(Gr).flat():Gr);break;case"xlsx":Mr(mr.groupBy!=="none"?Object.values(Gr).flat():Gr);break;case"pdf":Ir(mr.groupBy!=="none"?Object.values(Gr).flat():Gr);break;case"json":Lr(Gr);break}const $r={id:Date.now(),timestamp:new Date().toISOString(),format:mr.format,records:(nr==null?void 0:nr.totalRecords)||0,dateRange:(nr==null?void 0:nr.dateRange)||"",user:"Admin"},Vr=JSON.parse(localStorage.getItem("chartExportHistory")||"[]");Vr.unshift($r),localStorage.setItem("chartExportHistory",JSON.stringify(Vr.slice(0,10))),fr(Vr.slice(0,5)),alert("Export completed successfully!")}catch(Gr){console.error("Export failed:",Gr),alert("Export failed. Please try again.")}finally{St(!1)}},Yr=or.filter(Gr=>Gr.name.toLowerCase().includes(dr.toLowerCase())||Gr.email.toLowerCase().includes(dr.toLowerCase()));return jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"configure",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"configure",children:"Configure Export"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"preview",children:"Preview & Export"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"history",children:"Export History"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"configure",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),"Export Format"]}),jsxRuntimeExports.jsxs(RadioGroup,{value:mr.format,onValueChange:Gr=>pr({...mr,format:Gr}),className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"csv",id:"csv"}),jsxRuntimeExports.jsxs(Label,{htmlFor:"csv",className:"cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-4 h-4"}),"CSV"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"xlsx",id:"xlsx"}),jsxRuntimeExports.jsxs(Label,{htmlFor:"xlsx",className:"cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-4 h-4 text-green-600"}),"Excel (XLSX)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"pdf",id:"pdf"}),jsxRuntimeExports.jsxs(Label,{htmlFor:"pdf",className:"cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-red-600"}),"PDF"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"json",id:"json"}),jsxRuntimeExports.jsxs(Label,{htmlFor:"json",className:"cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(FilePlus,{className:"w-4 h-4 text-blue-600"}),"JSON"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-5 h-5"}),"Date Range"]}),jsxRuntimeExports.jsx(DatePickerWithRange,{date:mr.dateRange,onDateChange:Gr=>pr({...mr,dateRange:Gr})})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Data Sources"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"soap",checked:mr.includeSoapNotes,onCheckedChange:Gr=>pr({...mr,includeSoapNotes:Gr})}),jsxRuntimeExports.jsx(Label,{htmlFor:"soap",className:"cursor-pointer",children:"Include SOAP Notes"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"timeline",checked:mr.includeTimeline,onCheckedChange:Gr=>pr({...mr,includeTimeline:Gr})}),jsxRuntimeExports.jsx(Label,{htmlFor:"timeline",className:"cursor-pointer",children:"Include Timeline Events"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"metadata",checked:mr.includeMetadata,onCheckedChange:Gr=>pr({...mr,includeMetadata:Gr})}),jsxRuntimeExports.jsx(Label,{htmlFor:"metadata",className:"cursor-pointer",children:"Include Metadata"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"anonymize",checked:mr.anonymize,onCheckedChange:Gr=>pr({...mr,anonymize:Gr})}),jsxRuntimeExports.jsx(Label,{htmlFor:"anonymize",className:"cursor-pointer text-orange-600",children:"Anonymize Patient Data"})]})]})]}),mr.includeTimeline&&jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Event Types"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"all-types",checked:mr.includeTypes.includes("all"),onCheckedChange:Gr=>{pr(Gr?{...mr,includeTypes:["all"]}:{...mr,includeTypes:[]})}}),jsxRuntimeExports.jsx(Label,{htmlFor:"all-types",className:"cursor-pointer",children:"All Types"})]}),gr.map(Gr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:Gr.value,checked:mr.includeTypes.includes("all")||mr.includeTypes.includes(Gr.value),disabled:mr.includeTypes.includes("all"),onCheckedChange:$r=>{pr($r?{...mr,includeTypes:[...mr.includeTypes,Gr.value]}:{...mr,includeTypes:mr.includeTypes.filter(Vr=>Vr!==Gr.value)})}}),jsxRuntimeExports.jsxs(Label,{htmlFor:Gr.value,className:"cursor-pointer flex items-center gap-2",children:[Gr.icon,Gr.label]})]},Gr.value))]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Provider Filter"}),jsxRuntimeExports.jsxs(Select$1,{value:mr.includeProviders.includes("all")?"all":"selected",onValueChange:Gr=>{pr(Gr==="all"?{...mr,includeProviders:["all"]}:{...mr,includeProviders:[]})},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Providers"}),jsxRuntimeExports.jsx(SelectItem,{value:"selected",children:"Selected Providers"})]})]}),!mr.includeProviders.includes("all")&&jsxRuntimeExports.jsx("div",{className:"mt-3 space-y-2 max-h-48 overflow-y-auto",children:ir.map(Gr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:`provider-${Gr.id}`,checked:mr.includeProviders.includes(Gr.id),onCheckedChange:$r=>{pr($r?{...mr,includeProviders:[...mr.includeProviders,Gr.id]}:{...mr,includeProviders:mr.includeProviders.filter(Vr=>Vr!==Gr.id)})}}),jsxRuntimeExports.jsx(Label,{htmlFor:`provider-${Gr.id}`,className:"cursor-pointer",children:Gr.name})]},Gr.id))})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Patient Filter"}),jsxRuntimeExports.jsxs(Select$1,{value:mr.includePatients.includes("all")?"all":"selected",onValueChange:Gr=>{Gr==="all"?(pr({...mr,includePatients:["all"]}),ur([])):pr({...mr,includePatients:[]})},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Patients"}),jsxRuntimeExports.jsx(SelectItem,{value:"selected",children:"Selected Patients"})]})]}),!mr.includePatients.includes("all")&&jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-3",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Search patients...",value:dr,onChange:Gr=>hr(Gr.target.value),className:"w-full"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Yr.map(Gr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:`patient-${Gr.id}`,checked:cr.includes(Gr.id),onCheckedChange:$r=>{ur($r?[...cr,Gr.id]:cr.filter(Vr=>Vr!==Gr.id))}}),jsxRuntimeExports.jsxs(Label,{htmlFor:`patient-${Gr.id}`,className:"cursor-pointer",children:[Gr.name," (",Gr.email,")"]})]},Gr.id))})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Grouping"}),jsxRuntimeExports.jsxs(Select$1,{value:mr.groupBy,onValueChange:Gr=>pr({...mr,groupBy:Gr}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"No Grouping"}),jsxRuntimeExports.jsx(SelectItem,{value:"patient",children:"Group by Patient"}),jsxRuntimeExports.jsx(SelectItem,{value:"provider",children:"Group by Provider"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Group by Date"}),jsxRuntimeExports.jsx(SelectItem,{value:"type",children:"Group by Type"})]})]})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"preview",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Archive,{className:"w-5 h-5"}),"Export Summary"]}),tr?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Preparing export statistics..."})]}):nr?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary",children:nr.totalRecords}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Records"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-600",children:nr.soapNotes}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"SOAP Notes"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:nr.timelineEvents}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Timeline Events"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:nr.patients}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-orange-600",children:nr.providers}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Providers"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:nr.dateRange}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Date Range"})]})]}):jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Configure your export options to see a preview of the data."})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Export Configuration"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Format:"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:mr.format.toUpperCase()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Data Sources:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[mr.includeSoapNotes&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"SOAP Notes"}),mr.includeTimeline&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Timeline"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Grouping:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:mr.groupBy==="none"?"None":`By ${mr.groupBy}`})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Anonymized:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:mr.anonymize?"Yes":"No"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Include Metadata:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:mr.includeMetadata?"Yes":"No"})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Ready to Export"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:nr?`Export ${nr.totalRecords} records in ${mr.format.toUpperCase()} format`:"Configure export options first"})]}),jsxRuntimeExports.jsx(Button$1,{size:"lg",onClick:Qr,disabled:!nr||nr.totalRecords===0||er,className:"min-w-[150px]",children:er?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Export Now"]})})]}),nr&&nr.totalRecords>1e4&&jsxRuntimeExports.jsxs(Alert,{className:"mt-4",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Large export detected. This may take a few moments to process."})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"history",className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),"Recent Exports"]}),Ar.length===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No export history available"}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Ar.map(Gr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Gr.format.toUpperCase()," Export - ",Gr.records," records"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[Gr.dateRange,"  Exported ",format(new Date(Gr.timestamp),"MMM d, yyyy h:mm a")]})]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:Gr.user})]},Gr.id))})]})})]})})},ChartExportPage=()=>{const er=useNavigate();return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>er("/admin"),className:"rounded-full",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[jsxRuntimeExports.jsx(Download,{className:"w-8 h-8 text-primary"}),"Chart Export Center"]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Export patient chart logs and clinical data in multiple formats"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>er("/admin/chart-logs"),children:[jsxRuntimeExports.jsx(FileSearch,{className:"w-4 h-4 mr-2"}),"View Chart Logs"]})})]}),jsxRuntimeExports.jsx(ExportChartLogPanel,{})]})})},AdminChartDashboard=()=>{const[er,St]=reactExports.useState("overview"),[tr,rr]=reactExports.useState(null),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(!1);React$3.useEffect(()=>{or();const ur=setInterval(or,6e4);return()=>clearInterval(ur)},[]);const or=async()=>{nr||ar(!0);try{const ur=new Date,dr=new Date(ur.setHours(0,0,0,0)),hr=new Date(ur.setDate(ur.getDate()-7)),Ar=new Date(ur.setMonth(ur.getMonth()-1)),[{count:fr},{count:mr},{count:pr},{count:gr},{count:xr},{count:yr}]=await Promise.all([supabase.from("patient_timeline").select("*",{count:"exact",head:!0}),supabase.from("patient_timeline").select("*",{count:"exact",head:!0}).gte("timestamp",dr.toISOString()),supabase.from("patient_timeline").select("*",{count:"exact",head:!0}).gte("timestamp",hr.toISOString()),supabase.from("patient_timeline").select("*",{count:"exact",head:!0}).gte("timestamp",Ar.toISOString()),supabase.from("soap_notes").select("*",{count:"exact",head:!0}),supabase.from("patient_timeline").select("*",{count:"exact",head:!0})]),{data:Er}=await supabase.from("patient_timeline").select("metadata").gte("timestamp",hr.toISOString()),_r=new Set((Er==null?void 0:Er.map(Gr=>{var $r;return($r=Gr.metadata)==null?void 0:$r.provider_id}).filter(Boolean))||[]),{data:Sr}=await supabase.from("patient_timeline").select("patient_id").gte("timestamp",hr.toISOString()),jr=new Set((Sr==null?void 0:Sr.map(Gr=>Gr.patient_id))||[]),{data:Pr}=await supabase.from("patient_timeline").select(`
          id,
          type,
          timestamp,
          patient_id,
          metadata
        `).order("timestamp",{ascending:!1}).limit(10),Mr=await Promise.all((Pr||[]).map(async Gr=>{var Fr,Wr,qr;const{data:$r}=await supabase.from("patients").select("user_id").eq("id",Gr.patient_id).single();let Vr="Unknown Patient";if($r!=null&&$r.user_id){const{data:Rr}=await supabase.from("auth.users").select("raw_user_meta_data").eq("id",$r.user_id).single();Vr=((Fr=Rr==null?void 0:Rr.raw_user_meta_data)==null?void 0:Fr.full_name)||"Unknown Patient"}let Tr="System";if((Wr=Gr.metadata)!=null&&Wr.provider_id){const{data:Rr}=await supabase.from("providers").select("user_id").eq("id",Gr.metadata.provider_id).single();if(Rr!=null&&Rr.user_id){const{data:Or}=await supabase.from("auth.users").select("raw_user_meta_data").eq("id",Rr.user_id).single();Tr=((qr=Or==null?void 0:Or.raw_user_meta_data)==null?void 0:qr.full_name)||"Unknown Provider"}}return{id:Gr.id,type:Gr.type,patientName:Vr,providerName:Tr,timestamp:Gr.timestamp}})),{data:Ir}=await supabase.from("patient_timeline").select("type").gte("timestamp",Ar.toISOString()),Lr={};Ir==null||Ir.forEach(Gr=>{Lr[Gr.type]=(Lr[Gr.type]||0)+1});const Qr=Object.values(Lr).reduce((Gr,$r)=>Gr+$r,0),Yr=Object.entries(Lr).map(([Gr,$r])=>({type:Gr,count:$r,percentage:Math.round($r/Qr*100)})).sort((Gr,$r)=>$r.count-Gr.count).slice(0,6);rr({totalLogs:(fr||0)+(xr||0),todayLogs:mr||0,weekLogs:pr||0,monthLogs:gr||0,soapNotes:xr||0,timelineEvents:yr||0,activeProviders:_r.size,activePatients:jr.size,recentActivity:Mr,logTypeBreakdown:Yr})}catch(ur){console.error("Failed to load dashboard stats:",ur)}finally{sr(!1),ar(!1)}},lr=ur=>({soap_note:jsxRuntimeExports.jsx(Stethoscope,{className:"w-4 h-4"}),clinical_note:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),vitals_recorded:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4"}),telehealth:jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})})[ur]||jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),cr=ur=>({soap_note:"text-purple-600",clinical_note:"text-blue-600",vitals_recorded:"text-red-600",telehealth:"text-green-600",medication_prescribed:"text-orange-600",lab_ordered:"text-pink-600"})[ur]||"text-gray-600";return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"space-y-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[jsxRuntimeExports.jsx(BarChart3,{className:"w-8 h-8 text-primary"}),"Chart Management Dashboard"]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor, analyze, and export patient chart logs across your healthcare system"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:or,disabled:ir,children:[jsxRuntimeExports.jsx(RefreshCw,{className:`w-4 h-4 mr-2 ${ir?"animate-spin":""}`}),"Refresh"]})]}),!nr&&tr&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:jsxRuntimeExports.jsx(Card,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Logs"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:tr.totalLogs.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"All time"})]}),jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-300"})]})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:jsxRuntimeExports.jsx(Card,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-700",children:"Today's Activity"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:tr.todayLogs}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 text-green-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:"Active"})]})]}),jsxRuntimeExports.jsx(Clock,{className:"w-8 h-8 text-green-300"})]})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:jsxRuntimeExports.jsx(Card,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Active Providers"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:tr.activeProviders}),jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Past 7 days"})]}),jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-purple-300"})]})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:jsxRuntimeExports.jsx(Card,{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Active Patients"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-2",children:tr.activePatients}),jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Past 7 days"})]}),jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-orange-300"})]})})})]}),!nr&&tr&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(BarChart3,{className:"w-5 h-5"}),"Log Type Distribution"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:tr.logTypeBreakdown.map(ur=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsxs("span",{className:`text-sm font-medium flex items-center gap-2 ${cr(ur.type)}`,children:[lr(ur.type),ur.type.replace(/_/g," ").replace(/\b\w/g,dr=>dr.toUpperCase())]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[ur.count," (",ur.percentage,"%)"]})]}),jsxRuntimeExports.jsx(Progress,{value:ur.percentage,className:"h-2"})]},ur.type))})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),"Recent Activity"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:tr.recentActivity.map(ur=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full bg-gray-100 ${cr(ur.type)}`,children:lr(ur.type)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:ur.patientName}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[ur.type.replace(/_/g," "),"  ",ur.providerName]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:format(new Date(ur.timestamp),"h:mm a")})]},ur.id))})]})]}),!nr&&tr&&jsxRuntimeExports.jsx(Card,{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-around items-center text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold",children:tr.weekLogs})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-px bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold",children:tr.monthLogs})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-px bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"SOAP Notes"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-purple-600",children:tr.soapNotes})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-px bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Timeline Events"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-blue-600",children:tr.timelineEvents})]})]})}),jsxRuntimeExports.jsxs(Tabs,{value:er,onValueChange:St,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"overview",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSearch,{className:"w-4 h-4"}),"View Logs"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"export",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Export Center"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"analytics",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BarChart3,{className:"w-4 h-4"}),"Analytics"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"mt-6",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:jsxRuntimeExports.jsx(AdminChartLogViewer,{})},"viewer")})}),jsxRuntimeExports.jsx(TabsContent,{value:"export",className:"mt-6",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:jsxRuntimeExports.jsx(ExportChartLogPanel,{})},"export")})}),jsxRuntimeExports.jsx(TabsContent,{value:"analytics",className:"mt-6",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(BarChart3,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Advanced Analytics Coming Soon"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Detailed charts, trends, and insights about your clinical documentation"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-4 border-dashed",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-8 h-8 text-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Temporal Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Track patterns over time"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4 border-dashed",children:[jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Provider Metrics"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Documentation efficiency"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4 border-dashed",children:[jsxRuntimeExports.jsx(Filter,{className:"w-8 h-8 text-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Custom Reports"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Build your own insights"})]})]})]})},"analytics")})})]})]})},ChartDashboardPage=()=>{const er=useNavigate();return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>er("/admin"),className:"mb-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Admin"]})}),jsxRuntimeExports.jsx(AdminChartDashboard,{})]})})},adminRoutes=[{path:"/admin",element:jsxRuntimeExports.jsx(AdminDashboard,{})},{path:"/admin/login",element:jsxRuntimeExports.jsx(AdminLogin,{})},{path:"/admin/dashboard",element:jsxRuntimeExports.jsx(AdminDashboard,{})},{path:"/admin/dashboard-simple",element:jsxRuntimeExports.jsx(AdminDashboardSimple,{})},{path:"/admin/employers",element:jsxRuntimeExports.jsx(AdminEmployersPage,{})},{path:"/admin/settings",element:jsxRuntimeExports.jsx(AdminSettingsPage,{})},{path:"/admin/billing",element:jsxRuntimeExports.jsx(AdminBillingPage,{})},{path:"/admin/audit",element:jsxRuntimeExports.jsx(AuditLog,{})},{path:"/admin/backup",element:jsxRuntimeExports.jsx(Backup,{})},{path:"/admin/superpanel",element:jsxRuntimeExports.jsx(SuperPanelSimple,{})},{path:"/admin/ai-logs",element:jsxRuntimeExports.jsx(AILogsPage,{})},{path:"/admin/audit-dashboard",element:jsxRuntimeExports.jsx(AuditDashboard,{})},{path:"/admin/compliance",element:jsxRuntimeExports.jsx(ComplianceDashboard,{})},{path:"/admin/calendar",element:jsxRuntimeExports.jsx(CalendarView,{})},{path:"/admin/chart-logs",element:jsxRuntimeExports.jsx(ChartLogsPage,{})},{path:"/admin/chart-export",element:jsxRuntimeExports.jsx(ChartExportPage,{})},{path:"/admin/chart-dashboard",element:jsxRuntimeExports.jsx(ChartDashboardPage,{})}],links$3=[{href:"/provider/dashboard",label:"Dashboard",icon:LayoutDashboard},{href:"/provider/visits",label:"Visits",icon:CalendarDays},{href:"/provider/patients",label:"Patients",icon:Users},{href:"/provider/soap",label:"SOAP Notes",icon:FileText},{href:"/provider/labs",label:"Lab Results",icon:TestTube},{href:"/provider/video",label:"Telehealth",icon:Activity},{href:"/provider/messages/inbox",label:"Messages",icon:MessageSquare},{href:"/provider/settings",label:"Settings",icon:Settings}];function ProviderLayoutGlass({children:er}){const St=useLocation(),[tr,rr]=reactExports.useState(!1),{branding:nr}=useBrandingContext();return reactExports.useEffect(()=>{nr!=null&&nr.voice_profile_id&&console.log("[ProviderLayoutGlass] Voice ready:",nr.voice_profile_id)},[nr]),jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-white to-blue-50 flex",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"lg:hidden fixed top-4 left-4 z-50",onClick:()=>rr(!tr),children:tr?jsxRuntimeExports.jsx(X$3,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),tr&&jsxRuntimeExports.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>rr(!1)}),jsxRuntimeExports.jsx("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        transform ${tr?"translate-x-0":"-translate-x-full"} lg:translate-x-0
        transition-transform duration-200 ease-in-out
        w-72 bg-white/90 backdrop-blur-md shadow-lg border-r border-gray-200
      `,children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(Stethoscope,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Dr. Smith"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Provider Portal"})]})]}),jsxRuntimeExports.jsx("nav",{className:"space-y-1",children:links$3.map(sr=>{const ir=St.pathname===sr.href,ar=sr.icon;return jsxRuntimeExports.jsxs("a",{href:sr.href,className:`
                    flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all
                    ${ir?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                  `,onClick:()=>rr(!1),children:[jsxRuntimeExports.jsx(ar,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:sr.label})]},sr.href)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 lg:ml-0",children:[jsxRuntimeExports.jsx("div",{className:"lg:pl-4",children:er}),jsxRuntimeExports.jsx(AssistantBar,{role:"provider"})]})]})}function ProviderDashboardSimple(){const[er]=reactExports.useState({todayAppointments:8,pendingLabs:12,highRiskPatients:3,unreadMessages:5});return jsxRuntimeExports.jsx(ProviderLayoutGlass,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back, Dr. Smith"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Today's Appointments"}),jsxRuntimeExports.jsx(Calendar$2,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.todayAppointments}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3 completed, 5 upcoming"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Pending Labs"}),jsxRuntimeExports.jsx(TestTube,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.pendingLabs}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Review required"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"High Risk Patients"}),jsxRuntimeExports.jsx(AlertCircle,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.highRiskPatients}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Needs attention"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Messages"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-gray-500"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:er.unreadMessages}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unread messages"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Today's Schedule"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"9:00 AM - John Doe"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Annual checkup"})]})]}),jsxRuntimeExports.jsx(Badge,{children:"Completed"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"10:30 AM - Jane Smith"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Follow-up visit"})]})]}),jsxRuntimeExports.jsx(Badge,{children:"Completed"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"2:00 PM - Robert Johnson"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Consultation"})]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"In Progress"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"3:30 PM - Maria Garcia"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Lab results review"})]})]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"Upcoming"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Quick Actions"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs(Button$1,{className:"w-full justify-start",variant:"outline",children:[jsxRuntimeExports.jsx(Stethoscope,{className:"h-4 w-4 mr-2"}),"Start SOAP Note"]}),jsxRuntimeExports.jsxs(Button$1,{className:"w-full justify-start",variant:"outline",children:[jsxRuntimeExports.jsx(TestTube,{className:"h-4 w-4 mr-2"}),"Review Lab Results"]}),jsxRuntimeExports.jsxs(Button$1,{className:"w-full justify-start",variant:"outline",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 mr-2"}),"Patient Search"]}),jsxRuntimeExports.jsxs(Button$1,{className:"w-full justify-start",variant:"outline",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),"View Messages"]}),jsxRuntimeExports.jsxs(Button$1,{className:"w-full justify-start",variant:"outline",children:[jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 mr-2"}),"Telehealth Visit"]})]})})]})]})]})})}function useUser(){var nr,sr,ir,ar,or,lr;const er=dist$3.useSession(),St=((sr=(nr=er==null?void 0:er.user)==null?void 0:nr.user_metadata)==null?void 0:sr.role)||"guest",tr=((ir=er==null?void 0:er.user)==null?void 0:ir.id)||"",rr=((or=(ar=er==null?void 0:er.user)==null?void 0:ar.user_metadata)==null?void 0:or.full_name)||((lr=er==null?void 0:er.user)==null?void 0:lr.email)||"User";return{userId:tr,role:St,name:rr}}const ProviderVisitSchedule=()=>{var fr;const{userId:er}=useUser(),[St,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(!0),[sr,ir]=reactExports.useState(new Date),[ar,or]=reactExports.useState({total:0,completed:0,upcoming:0,telehealth:0});reactExports.useEffect(()=>{er&&(lr(),cr())},[er,sr]);const lr=async()=>{nr(!0);try{const mr=new Date(sr);mr.setHours(0,0,0,0);const pr=new Date(sr);pr.setHours(23,59,59,999);const{data:gr,error:xr}=await supabase.from("appointments").select(`
          *,
          patient:patients(
            id,
            user:auth.users(
              email,
              user_metadata
            )
          ),
          vitals:vitals(count),
          soap_note:soap_notes(id)
        `).eq("provider_id",er).gte("appointment_date",mr.toISOString()).lte("appointment_date",pr.toISOString()).order("appointment_time",{ascending:!0});if(xr)throw xr;const yr=(gr||[]).map(Er=>{var _r,Sr,jr,Pr,Mr,Ir,Lr;return{...Er,patient_name:((jr=(Sr=(_r=Er.patient)==null?void 0:_r.user)==null?void 0:Sr.user_metadata)==null?void 0:jr.full_name)||"Unknown Patient",patient_email:((Mr=(Pr=Er.patient)==null?void 0:Pr.user)==null?void 0:Mr.email)||"",has_vitals:((Lr=(Ir=Er.vitals)==null?void 0:Ir[0])==null?void 0:Lr.count)>0,has_soap_note:!!Er.soap_note}});tr(yr),or({total:yr.length,completed:yr.filter(Er=>Er.status==="completed").length,upcoming:yr.filter(Er=>Er.status==="scheduled").length,telehealth:yr.filter(Er=>Er.type==="telehealth").length})}catch(mr){console.error("Failed to load schedule:",mr)}finally{nr(!1)}},cr=()=>{const mr=supabase.channel(`provider-schedule:${er}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`provider_id=eq.${er}`},()=>{lr()}).subscribe();return()=>{mr.unsubscribe()}},ur=async(mr,pr)=>{try{const{error:gr}=await supabase.from("appointments").update({status:pr,updated_at:new Date().toISOString()}).eq("id",mr);if(gr)throw gr;await lr()}catch(gr){console.error("Failed to update appointment status:",gr)}},dr=mr=>{switch(mr){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";case"cancelled":return"text-red-600";case"no-show":return"text-orange-600";default:return"text-gray-600"}},hr=mr=>{switch(mr){case"telehealth":return jsxRuntimeExports.jsx(Video,{className:"w-4 h-4"});case"phone":return jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"})}},Ar=mr=>{const pr=new Date,[gr,xr]=mr.split(":").map(Number),yr=new Date(sr);return yr.setHours(gr,xr),yr>pr};return rr?jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-gray-400"})})}):jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-5 h-5 text-primary"}),sr.toLocaleDateString()===new Date().toLocaleDateString()?"Today's Schedule":`Schedule for ${sr.toLocaleDateString()}`]}),jsxRuntimeExports.jsx("input",{type:"date",value:sr.toISOString().split("T")[0],onChange:mr=>ir(new Date(mr.target.value)),className:"text-sm border rounded-lg px-3 py-1"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-800",children:ar.total}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ar.upcoming}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:ar.completed}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ar.telehealth}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Telehealth"})]})]}),St.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No appointments scheduled for this date"})]}):jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:St.map(mr=>jsxRuntimeExports.jsx(motion$1.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white p-4 border rounded-xl shadow-sm hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 font-medium",children:mr.patient_name}),mr.has_vitals&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Vitals "}),mr.has_soap_note&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"SOAP "})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:mr.patient_email})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),mr.appointment_time]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[mr.duration_minutes," min"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[hr(mr.type),mr.type==="in-person"?mr.location:mr.type]}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:mr.reason})]}),jsxRuntimeExports.jsx(Badge,{className:dr(mr.status),children:mr.status})]}),mr.chief_complaint&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 italic",children:["Chief complaint: ",mr.chief_complaint]}),mr.status==="scheduled"&&Ar(mr.appointment_time)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>ur(mr.id,"in-progress"),children:"Start Visit"}),mr.type==="telehealth"&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"default",onClick:()=>window.location.href=`/provider/video/${mr.id}`,children:[jsxRuntimeExports.jsx(Video,{className:"w-4 h-4 mr-1"}),"Join Video"]})]}),mr.status==="in-progress"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"default",onClick:()=>window.location.href=`/provider/soap/${mr.id}`,children:"Create SOAP Note"}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>ur(mr.id,"completed"),children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})},mr.id))}),St.length>0&&jsxRuntimeExports.jsx(Card,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Next appointment"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:((fr=St.find(mr=>mr.status==="scheduled"&&Ar(mr.appointment_time)))==null?void 0:fr.patient_name)||"No upcoming appointments"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>window.location.href="/provider/schedule",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 mr-2"}),"Full Schedule"]})]})})]})},links$2=[{href:"/provider",label:"Dashboard",icon:LayoutDashboard},{href:"/provider/visits",label:"Visits",icon:CalendarDays},{href:"/provider/patients",label:"Patients",icon:Users},{href:"/provider/soap",label:"SOAP Notes",icon:FileText},{href:"/provider/labs",label:"Lab Results",icon:FlaskConical},{href:"/provider/risk-flags",label:"Risk Flags",icon:HeartPulse},{href:"/provider/video",label:"Telehealth",icon:Activity},{href:"/provider/messages/inbox",label:"Messages",icon:MessageSquare},{href:"/provider/settings",label:"Settings",icon:Settings}];function ProviderLayout$1({children:er}){const St=useLocation(),tr=useNavigate(),{name:rr}=useUser(),[nr,sr]=reactExports.useState(!1),ir=async()=>{await supabase.auth.signOut(),tr("/login")};return jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-white to-sky-50 flex",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden",onClick:()=>sr(!nr),children:nr?jsxRuntimeExports.jsx(X$3,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 transform transition-transform duration-300 ease-in-out
        bg-white/80 backdrop-blur p-6 border-r shadow-xl
        ${nr?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:relative md:block`,children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-sky-800 mb-1",children:"Provider Portal"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Hello, Dr. ",rr||"User"]})]}),jsxRuntimeExports.jsx("nav",{className:"space-y-2",children:links$2.map(({href:ar,label:or,icon:lr})=>{const cr=St.pathname===ar||St.pathname.startsWith(ar+"/");return jsxRuntimeExports.jsxs(Link,{to:ar,onClick:()=>sr(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors font-medium text-sm
                  ${cr?"bg-sky-100 text-sky-800":"text-gray-700 hover:bg-sky-50"}`,children:[jsxRuntimeExports.jsx(lr,{className:"w-4 h-4"}),or]},ar)})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",className:"w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50",onClick:ir,children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]}),nr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/30 z-30 md:hidden",onClick:()=>sr(!1)}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-4 md:p-8 bg-white/60 backdrop-blur rounded-3xl shadow-inner",children:er}),jsxRuntimeExports.jsx(AssistantBar,{})]})}function ProviderVisitsPage(){return jsxRuntimeExports.jsx(ProviderLayout$1,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upcoming Visits"}),jsxRuntimeExports.jsx(ProviderVisitSchedule,{})]})})}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(er,St){(function(){var tr,rr="4.17.21",nr=200,sr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ir="Expected a function",ar="Invalid `variable` option passed into `_.template`",or="__lodash_hash_undefined__",lr=500,cr="__lodash_placeholder__",ur=1,dr=2,hr=4,Ar=1,fr=2,mr=1,pr=2,gr=4,xr=8,yr=16,Er=32,_r=64,Sr=128,jr=256,Pr=512,Mr=30,Ir="...",Lr=800,Qr=16,Yr=1,Gr=2,$r=3,Vr=1/0,Tr=9007199254740991,Fr=17976931348623157e292,Wr=NaN,qr=4294967295,Rr=qr-1,Or=qr>>>1,Hr=[["ary",Sr],["bind",mr],["bindKey",pr],["curry",xr],["curryRight",yr],["flip",Pr],["partial",Er],["partialRight",_r],["rearg",jr]],zr="[object Arguments]",Zr="[object Array]",nn="[object AsyncFunction]",vn="[object Boolean]",hn="[object Date]",En="[object DOMException]",Tn="[object Error]",bn="[object Function]",Mn="[object GeneratorFunction]",Rn="[object Map]",Nn="[object Number]",pn="[object Null]",Gn="[object Object]",os="[object Promise]",es="[object Proxy]",cs="[object RegExp]",ts="[object Set]",fs="[object String]",vs="[object Symbol]",ws="[object Undefined]",Rs="[object WeakMap]",ks="[object WeakSet]",Fs="[object ArrayBuffer]",Vs="[object DataView]",Ts="[object Float32Array]",Ds="[object Float64Array]",ys="[object Int8Array]",$o="[object Int16Array]",Zs="[object Int32Array]",io="[object Uint8Array]",xa="[object Uint8ClampedArray]",oo="[object Uint16Array]",El="[object Uint32Array]",eo=/\b__p \+= '';/g,zs=/\b(__p \+=) '' \+/g,Qs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ys=/&(?:amp|lt|gt|quot|#39);/g,Uo=/[&<>"']/g,Ms=RegExp(Ys.source),Bs=RegExp(Uo.source),qs=/<%-([\s\S]+?)%>/g,to=/<%([\s\S]+?)%>/g,Os=/<%=([\s\S]+?)%>/g,fu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tu=/^\w*$/,Ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wl=/[\\^$.*+?()[\]{}|]/g,_l=RegExp(wl.source),Al=/^\s+/,zo=/\s/,Vo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,un=/\{\n\/\* \[wrapped with (.+)\] \*/,Sn=/,? & /,xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yn=/[()=,{}\[\]\/\s]/,_n=/\\(\\)?/g,Cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ln=/\w*$/,Yn=/^[-+]0x[0-9a-f]+$/i,$n=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,Wn=/^0o[0-7]+$/i,hs=/^(?:0|[1-9]\d*)$/,gs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bs=/($^)/,ms=/['\n\r\u2028\u2029\\]/g,_s="\\ud800-\\udfff",ga="\\u0300-\\u036f",Ro="\\ufe20-\\ufe2f",Oo="\\u20d0-\\u20ff",Ll=ga+Ro+Oo,oA="\\u2700-\\u27bf",np="a-z\\xdf-\\xf6\\xf8-\\xff",sp="\\xac\\xb1\\xd7\\xf7",RA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ip="\\u2000-\\u206f",qu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sl="A-Z\\xc0-\\xd6\\xd8-\\xde",ov="\\ufe0e\\ufe0f",lv=sp+RA+ip+qu,Wx="[']",cv="["+_s+"]",Jy="["+lv+"]",ku="["+Ll+"]",Dm="\\d+",Fu="["+oA+"]",Gx="["+np+"]",uv="[^"+_s+lv+Dm+oA+np+Sl+"]",dv="\\ud83c[\\udffb-\\udfff]",Zy="(?:"+ku+"|"+dv+")",e1="[^"+_s+"]",Kx="(?:\\ud83c[\\udde6-\\uddff]){2}",hv="[\\ud800-\\udbff][\\udc00-\\udfff]",ap="["+Sl+"]",r1="\\u200d",n1="(?:"+Gx+"|"+uv+")",WE="(?:"+ap+"|"+uv+")",op="(?:"+Wx+"(?:d|ll|m|re|s|t|ve))?",Mm="(?:"+Wx+"(?:D|LL|M|RE|S|T|VE))?",$m=Zy+"?",fv="["+ov+"]?",Au="(?:"+r1+"(?:"+[e1,Kx,hv].join("|")+")"+fv+$m+")*",GE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ba=fv+$m+Au,KE="(?:"+[Fu,Kx,hv].join("|")+")"+ba,zE="(?:"+[e1+ku+"?",ku,Kx,hv,cv].join("|")+")",lp=RegExp(Wx,"g"),i1=RegExp(ku,"g"),zx=RegExp(dv+"(?="+dv+")|"+zE+ba,"g"),qx=RegExp([ap+"?"+Gx+"+"+op+"(?="+[Jy,ap,"$"].join("|")+")",WE+"+"+Mm+"(?="+[Jy,ap+n1,"$"].join("|")+")",ap+"?"+n1+"+"+op,ap+"+"+Mm,s1,GE,Dm,KE].join("|"),"g"),Av=RegExp("["+r1+_s+Ll+ov+"]"),qE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,YE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],XE=-1,Io={};Io[Ts]=Io[Ds]=Io[ys]=Io[$o]=Io[Zs]=Io[io]=Io[xa]=Io[oo]=Io[El]=!0,Io[zr]=Io[Zr]=Io[Fs]=Io[vn]=Io[Vs]=Io[hn]=Io[Tn]=Io[bn]=Io[Rn]=Io[Nn]=Io[Gn]=Io[cs]=Io[ts]=Io[fs]=Io[Rs]=!1;var bo={};bo[zr]=bo[Zr]=bo[Fs]=bo[Vs]=bo[vn]=bo[hn]=bo[Ts]=bo[Ds]=bo[ys]=bo[$o]=bo[Zs]=bo[Rn]=bo[Nn]=bo[Gn]=bo[cs]=bo[ts]=bo[fs]=bo[vs]=bo[io]=bo[xa]=bo[oo]=bo[El]=!0,bo[Tn]=bo[bn]=bo[Rs]=!1;var om={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},JE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Um={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yx=parseFloat,a1=parseInt,mv=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,o1=typeof self=="object"&&self&&self.Object===Object&&self,Hl=mv||o1||Function("return this")(),lA=St&&!St.nodeType&&St,bu=lA&&!0&&er&&!er.nodeType&&er,l1=bu&&bu.exports===lA,cp=l1&&mv.process,Cl=function(){try{var Dn=bu&&bu.require&&bu.require("util").types;return Dn||cp&&cp.binding&&cp.binding("util")}catch{}}(),Xx=Cl&&Cl.isArrayBuffer,lm=Cl&&Cl.isDate,c1=Cl&&Cl.isMap,Hm=Cl&&Cl.isRegExp,u1=Cl&&Cl.isSet,Jx=Cl&&Cl.isTypedArray;function au(Dn,Zn,Kn){switch(Kn.length){case 0:return Dn.call(Zn);case 1:return Dn.call(Zn,Kn[0]);case 2:return Dn.call(Zn,Kn[0],Kn[1]);case 3:return Dn.call(Zn,Kn[0],Kn[1],Kn[2])}return Dn.apply(Zn,Kn)}function d1(Dn,Zn,Kn,Ns){for(var $s=-1,no=Dn==null?0:Dn.length;++$s<no;){var Xo=Dn[$s];Zn(Ns,Xo,Kn(Xo),Dn)}return Ns}function ou(Dn,Zn){for(var Kn=-1,Ns=Dn==null?0:Dn.length;++Kn<Ns&&Zn(Dn[Kn],Kn,Dn)!==!1;);return Dn}function gv(Dn,Zn){for(var Kn=Dn==null?0:Dn.length;Kn--&&Zn(Dn[Kn],Kn,Dn)!==!1;);return Dn}function Zx(Dn,Zn){for(var Kn=-1,Ns=Dn==null?0:Dn.length;++Kn<Ns;)if(!Zn(Dn[Kn],Kn,Dn))return!1;return!0}function TA(Dn,Zn){for(var Kn=-1,Ns=Dn==null?0:Dn.length,$s=0,no=[];++Kn<Ns;){var Xo=Dn[Kn];Zn(Xo,Kn,Dn)&&(no[$s++]=Xo)}return no}function e0(Dn,Zn){var Kn=Dn==null?0:Dn.length;return!!Kn&&ds(Dn,Zn,0)>-1}function cm(Dn,Zn,Kn){for(var Ns=-1,$s=Dn==null?0:Dn.length;++Ns<$s;)if(Kn(Zn,Dn[Ns]))return!0;return!1}function To(Dn,Zn){for(var Kn=-1,Ns=Dn==null?0:Dn.length,$s=Array(Ns);++Kn<Ns;)$s[Kn]=Zn(Dn[Kn],Kn,Dn);return $s}function cA(Dn,Zn){for(var Kn=-1,Ns=Zn.length,$s=Dn.length;++Kn<Ns;)Dn[$s+Kn]=Zn[Kn];return Dn}function up(Dn,Zn,Kn,Ns){var $s=-1,no=Dn==null?0:Dn.length;for(Ns&&no&&(Kn=Dn[++$s]);++$s<no;)Kn=Zn(Kn,Dn[$s],$s,Dn);return Kn}function xv(Dn,Zn,Kn,Ns){var $s=Dn==null?0:Dn.length;for(Ns&&$s&&(Kn=Dn[--$s]);$s--;)Kn=Zn(Kn,Dn[$s],$s,Dn);return Kn}function Dr(Dn,Zn){for(var Kn=-1,Ns=Dn==null?0:Dn.length;++Kn<Ns;)if(Zn(Dn[Kn],Kn,Dn))return!0;return!1}var tn=$a("length");function jn(Dn){return Dn.split("")}function Bn(Dn){return Dn.match(xn)||[]}function Vn(Dn,Zn,Kn){var Ns;return Kn(Dn,function($s,no,Xo){if(Zn($s,no,Xo))return Ns=no,!1}),Ns}function Jn(Dn,Zn,Kn,Ns){for(var $s=Dn.length,no=Kn+(Ns?1:-1);Ns?no--:++no<$s;)if(Zn(Dn[no],no,Dn))return no;return-1}function ds(Dn,Zn,Kn){return Zn===Zn?hA(Dn,Zn,Kn):Jn(Dn,Gs,Kn)}function Ps(Dn,Zn,Kn,Ns){for(var $s=Kn-1,no=Dn.length;++$s<no;)if(Ns(Dn[$s],Zn))return $s;return-1}function Gs(Dn){return Dn!==Dn}function ro(Dn,Zn){var Kn=Dn==null?0:Dn.length;return Kn?Tl(Dn,Zn)/Kn:Wr}function $a(Dn){return function(Zn){return Zn==null?tr:Zn[Dn]}}function mo(Dn){return function(Zn){return Dn==null?tr:Dn[Zn]}}function Yo(Dn,Zn,Kn,Ns,$s){return $s(Dn,function(no,Xo,Po){Kn=Ns?(Ns=!1,no):Zn(Kn,no,Xo,Po)}),Kn}function Rl(Dn,Zn){var Kn=Dn.length;for(Dn.sort(Zn);Kn--;)Dn[Kn]=Dn[Kn].value;return Dn}function Tl(Dn,Zn){for(var Kn,Ns=-1,$s=Dn.length;++Ns<$s;){var no=Zn(Dn[Ns]);no!==tr&&(Kn=Kn===tr?no:Kn+no)}return Kn}function ru(Dn,Zn){for(var Kn=-1,Ns=Array(Dn);++Kn<Dn;)Ns[Kn]=Zn(Kn);return Ns}function nu(Dn,Zn){return To(Zn,function(Kn){return[Kn,Dn[Kn]]})}function uA(Dn){return Dn&&Dn.slice(0,Np(Dn)+1).replace(Al,"")}function qo(Dn){return function(Zn){return Dn(Zn)}}function dA(Dn,Zn){return To(Zn,function(Kn){return Dn[Kn]})}function um(Dn,Zn){return Dn.has(Zn)}function r0(Dn,Zn){for(var Kn=-1,Ns=Dn.length;++Kn<Ns&&ds(Zn,Dn[Kn],0)>-1;);return Kn}function n0(Dn,Zn){for(var Kn=Dn.length;Kn--&&ds(Zn,Dn[Kn],0)>-1;);return Kn}function s0(Dn,Zn){for(var Kn=Dn.length,Ns=0;Kn--;)Dn[Kn]===Zn&&++Ns;return Ns}var vv=mo(om),yv=mo(JE);function i0(Dn){return"\\"+pv[Dn]}function lu(Dn,Zn){return Dn==null?tr:Dn[Zn]}function PA(Dn){return Av.test(Dn)}function a0(Dn){return qE.test(Dn)}function o0(Dn){for(var Zn,Kn=[];!(Zn=Dn.next()).done;)Kn.push(Zn.value);return Kn}function Vm(Dn){var Zn=-1,Kn=Array(Dn.size);return Dn.forEach(function(Ns,$s){Kn[++Zn]=[$s,Ns]}),Kn}function _u(Dn,Zn){return function(Kn){return Dn(Zn(Kn))}}function dp(Dn,Zn){for(var Kn=-1,Ns=Dn.length,$s=0,no=[];++Kn<Ns;){var Xo=Dn[Kn];(Xo===Zn||Xo===cr)&&(Dn[Kn]=cr,no[$s++]=Kn)}return no}function dm(Dn){var Zn=-1,Kn=Array(Dn.size);return Dn.forEach(function(Ns){Kn[++Zn]=Ns}),Kn}function h1(Dn){var Zn=-1,Kn=Array(Dn.size);return Dn.forEach(function(Ns){Kn[++Zn]=[Ns,Ns]}),Kn}function hA(Dn,Zn,Kn){for(var Ns=Kn-1,$s=Dn.length;++Ns<$s;)if(Dn[Ns]===Zn)return Ns;return-1}function l0(Dn,Zn,Kn){for(var Ns=Kn+1;Ns--;)if(Dn[Ns]===Zn)return Ns;return Ns}function Pp(Dn){return PA(Dn)?Ou(Dn):tn(Dn)}function Lu(Dn){return PA(Dn)?Su(Dn):jn(Dn)}function Np(Dn){for(var Zn=Dn.length;Zn--&&zo.test(Dn.charAt(Zn)););return Zn}var Qm=mo(Um);function Ou(Dn){for(var Zn=zx.lastIndex=0;zx.test(Dn);)++Zn;return Zn}function Su(Dn){return Dn.match(zx)||[]}function hm(Dn){return Dn.match(qx)||[]}var Bp=function Dn(Zn){Zn=Zn==null?Hl:Du.defaults(Hl.Object(),Zn,Du.pick(Hl,YE));var Kn=Zn.Array,Ns=Zn.Date,$s=Zn.Error,no=Zn.Function,Xo=Zn.Math,Po=Zn.Object,Wm=Zn.RegExp,Gm=Zn.String,su=Zn.TypeError,NA=Kn.prototype,Km=no.prototype,IA=Po.prototype,hp=Zn["__core-js_shared__"],kA=Km.toString,Eo=IA.hasOwnProperty,fA=0,Yu=function(){var vr=/[^.]+$/.exec(hp&&hp.keys&&hp.keys.IE_PROTO||"");return vr?"Symbol(src)_1."+vr:""}(),ko=IA.toString,Qo=kA.call(Po),Ol=Hl._,Yl=Wm("^"+kA.call(Eo).replace(wl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),AA=l1?Zn.Buffer:tr,pA=Zn.Symbol,Ip=Zn.Uint8Array,Ev=AA?AA.allocUnsafe:tr,c0=_u(Po.getPrototypeOf,Po),wv=Po.create,Mu=IA.propertyIsEnumerable,Cu=NA.splice,bv=pA?pA.isConcatSpreadable:tr,fm=pA?pA.iterator:tr,Am=pA?pA.toStringTag:tr,zm=function(){try{var vr=Lv(Po,"defineProperty");return vr({},"",{}),vr}catch{}}(),f1=Zn.clearTimeout!==Hl.clearTimeout&&Zn.clearTimeout,ZE=Ns&&Ns.now!==Hl.Date.now&&Ns.now,nS=Zn.setTimeout!==Hl.setTimeout&&Zn.setTimeout,u0=Xo.ceil,d0=Xo.floor,h0=Po.getOwnPropertySymbols,ew=AA?AA.isBuffer:tr,sS=Zn.isFinite,$2=NA.join,iS=_u(Po.keys,Po),Xl=Xo.max,pu=Xo.min,U2=Ns.now,V2=Zn.parseInt,aS=Xo.random,tw=NA.reverse,_v=Lv(Zn,"DataView"),kp=Lv(Zn,"Map"),rw=Lv(Zn,"Promise"),f0=Lv(Zn,"Set"),A0=Lv(Zn,"WeakMap"),Sv=Lv(Po,"create"),A1=A0&&new A0,p0={},Q2=Ov(_v),pm=Ov(kp),FA=Ov(rw),Fp=Ov(f0),W2=Ov(A0),Cv=pA?pA.prototype:tr,mA=Cv?Cv.valueOf:tr,Xu=Cv?Cv.toString:tr;function An(vr){if(Gl(vr)&&!ao(vr)&&!(vr instanceof po)){if(vr instanceof Ju)return vr;if(Eo.call(vr,"__wrapped__"))return iT(vr)}return new Ju(vr)}var m0=function(){function vr(){}return function(wr){if(!$l(wr))return{};if(wv)return wv(wr);vr.prototype=wr;var Br=new vr;return vr.prototype=tr,Br}}();function jv(){}function Ju(vr,wr){this.__wrapped__=vr,this.__actions__=[],this.__chain__=!!wr,this.__index__=0,this.__values__=tr}An.templateSettings={escape:qs,evaluate:to,interpolate:Os,variable:"",imports:{_:An}},An.prototype=jv.prototype,An.prototype.constructor=An,Ju.prototype=m0(jv.prototype),Ju.prototype.constructor=Ju;function po(vr){this.__wrapped__=vr,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qr,this.__views__=[]}function oS(){var vr=new po(this.__wrapped__);return vr.__actions__=vA(this.__actions__),vr.__dir__=this.__dir__,vr.__filtered__=this.__filtered__,vr.__iteratees__=vA(this.__iteratees__),vr.__takeCount__=this.__takeCount__,vr.__views__=vA(this.__views__),vr}function G2(){if(this.__filtered__){var vr=new po(this);vr.__dir__=-1,vr.__filtered__=!0}else vr=this.clone(),vr.__dir__*=-1;return vr}function p1(){var vr=this.__wrapped__.value(),wr=this.__dir__,Br=ao(vr),Kr=wr<0,rn=Br?vr.length:0,gn=QN(0,rn,this.__views__),Pn=gn.start,kn=gn.end,Hn=kn-Pn,as=Kr?kn:Pn-1,ls=this.__iteratees__,As=ls.length,js=0,Hs=pu(Hn,this.__takeCount__);if(!Br||!Kr&&rn==Hn&&Hs==Hn)return pp(vr,this.__actions__);var _i=[];e:for(;Hn--&&js<Hs;){as+=wr;for(var fo=-1,na=vr[as];++fo<As;){var xo=ls[fo],wo=xo.iteratee,MA=xo.type,_h=wo(na);if(MA==Gr)na=_h;else if(!_h){if(MA==Yr)continue e;break e}}_i[js++]=na}return _i}po.prototype=m0(jv.prototype),po.prototype.constructor=po;function fp(vr){var wr=-1,Br=vr==null?0:vr.length;for(this.clear();++wr<Br;){var Kr=vr[wr];this.set(Kr[0],Kr[1])}}function Rv(){this.__data__=Sv?Sv(null):{},this.size=0}function nw(vr){var wr=this.has(vr)&&delete this.__data__[vr];return this.size-=wr?1:0,wr}function K2(vr){var wr=this.__data__;if(Sv){var Br=wr[vr];return Br===or?tr:Br}return Eo.call(wr,vr)?wr[vr]:tr}function lS(vr){var wr=this.__data__;return Sv?wr[vr]!==tr:Eo.call(wr,vr)}function z2(vr,wr){var Br=this.__data__;return this.size+=this.has(vr)?0:1,Br[vr]=Sv&&wr===tr?or:wr,this}fp.prototype.clear=Rv,fp.prototype.delete=nw,fp.prototype.get=K2,fp.prototype.has=lS,fp.prototype.set=z2;function Lp(vr){var wr=-1,Br=vr==null?0:vr.length;for(this.clear();++wr<Br;){var Kr=vr[wr];this.set(Kr[0],Kr[1])}}function q2(){this.__data__=[],this.size=0}function Y2(vr){var wr=this.__data__,Br=On(wr,vr);if(Br<0)return!1;var Kr=wr.length-1;return Br==Kr?wr.pop():Cu.call(wr,Br,1),--this.size,!0}function X2(vr){var wr=this.__data__,Br=On(wr,vr);return Br<0?tr:wr[Br][1]}function J2(vr){return On(this.__data__,vr)>-1}function cS(vr,wr){var Br=this.__data__,Kr=On(Br,vr);return Kr<0?(++this.size,Br.push([vr,wr])):Br[Kr][1]=wr,this}Lp.prototype.clear=q2,Lp.prototype.delete=Y2,Lp.prototype.get=X2,Lp.prototype.has=J2,Lp.prototype.set=cS;function gA(vr){var wr=-1,Br=vr==null?0:vr.length;for(this.clear();++wr<Br;){var Kr=vr[wr];this.set(Kr[0],Kr[1])}}function Z2(){this.size=0,this.__data__={hash:new fp,map:new(kp||Lp),string:new fp}}function eC(vr){var wr=BS(this,vr).delete(vr);return this.size-=wr?1:0,wr}function uS(vr){return BS(this,vr).get(vr)}function Cr(vr){return BS(this,vr).has(vr)}function Nr(vr,wr){var Br=BS(this,vr),Kr=Br.size;return Br.set(vr,wr),this.size+=Br.size==Kr?0:1,this}gA.prototype.clear=Z2,gA.prototype.delete=eC,gA.prototype.get=uS,gA.prototype.has=Cr,gA.prototype.set=Nr;function Ur(vr){var wr=-1,Br=vr==null?0:vr.length;for(this.__data__=new gA;++wr<Br;)this.add(vr[wr])}function Xr(vr){return this.__data__.set(vr,or),this}function en(vr){return this.__data__.has(vr)}Ur.prototype.add=Ur.prototype.push=Xr,Ur.prototype.has=en;function on(vr){var wr=this.__data__=new Lp(vr);this.size=wr.size}function dn(){this.__data__=new Lp,this.size=0}function fn(vr){var wr=this.__data__,Br=wr.delete(vr);return this.size=wr.size,Br}function mn(vr){return this.__data__.get(vr)}function wn(vr){return this.__data__.has(vr)}function Fn(vr,wr){var Br=this.__data__;if(Br instanceof Lp){var Kr=Br.__data__;if(!kp||Kr.length<nr-1)return Kr.push([vr,wr]),this.size=++Br.size,this;Br=this.__data__=new gA(Kr)}return Br.set(vr,wr),this.size=Br.size,this}on.prototype.clear=dn,on.prototype.delete=fn,on.prototype.get=mn,on.prototype.has=wn,on.prototype.set=Fn;function zn(vr,wr){var Br=ao(vr),Kr=!Br&&Dv(vr),rn=!Br&&!Kr&&v0(vr),gn=!Br&&!Kr&&!rn&&T1(vr),Pn=Br||Kr||rn||gn,kn=Pn?ru(vr.length,Gm):[],Hn=kn.length;for(var as in vr)(wr||Eo.call(vr,as))&&!(Pn&&(as=="length"||rn&&(as=="offset"||as=="parent")||gn&&(as=="buffer"||as=="byteLength"||as=="byteOffset")||nx(as,Hn)))&&kn.push(as);return kn}function qn(vr){var wr=vr.length;return wr?vr[Iv(0,wr-1)]:tr}function Un(vr,wr){return kS(vA(vr),Us(wr,0,vr.length))}function ss(vr){return kS(vA(vr))}function Xn(vr,wr,Br){(Br!==tr&&!Vp(vr[wr],Br)||Br===tr&&!(wr in vr))&&Ss(vr,wr,Br)}function In(vr,wr,Br){var Kr=vr[wr];(!(Eo.call(vr,wr)&&Vp(Kr,Br))||Br===tr&&!(wr in vr))&&Ss(vr,wr,Br)}function On(vr,wr){for(var Br=vr.length;Br--;)if(Vp(vr[Br][0],wr))return Br;return-1}function rs(vr,wr,Br,Kr){return yo(vr,function(rn,gn,Pn){wr(Kr,rn,Br(rn),Pn)}),Kr}function us(vr,wr){return vr&&xm(wr,mu(wr),vr)}function ns(vr,wr){return vr&&xm(wr,EA(wr),vr)}function Ss(vr,wr,Br){wr=="__proto__"&&zm?zm(vr,wr,{configurable:!0,enumerable:!0,value:Br,writable:!0}):vr[wr]=Br}function Es(vr,wr){for(var Br=-1,Kr=wr.length,rn=Kn(Kr),gn=vr==null;++Br<Kr;)rn[Br]=gn?tr:EC(vr,wr[Br]);return rn}function Us(vr,wr,Br){return vr===vr&&(Br!==tr&&(vr=vr<=Br?vr:Br),wr!==tr&&(vr=vr>=wr?vr:wr)),vr}function xs(vr,wr,Br,Kr,rn,gn){var Pn,kn=wr&ur,Hn=wr&dr,as=wr&hr;if(Br&&(Pn=rn?Br(vr,Kr,rn,gn):Br(vr)),Pn!==tr)return Pn;if(!$l(vr))return vr;var ls=ao(vr);if(ls){if(Pn=GN(vr),!kn)return vA(vr,Pn)}else{var As=Vu(vr),js=As==bn||As==Mn;if(v0(vr))return NR(vr,kn);if(As==Gn||As==zr||js&&!rn){if(Pn=Hn||js?{}:YR(vr),!kn)return Hn?FN(vr,ns(Pn,vr)):kN(vr,us(Pn,vr))}else{if(!bo[As])return rn?vr:{};Pn=KN(vr,As,kn)}}gn||(gn=new on);var Hs=gn.get(vr);if(Hs)return Hs;gn.set(vr,Pn),CT(vr)?vr.forEach(function(na){Pn.add(xs(na,wr,Br,na,vr,gn))}):_T(vr)&&vr.forEach(function(na,xo){Pn.set(xo,xs(na,wr,Br,xo,vr,gn))});var _i=as?Hn?oC:aC:Hn?EA:mu,fo=ls?tr:_i(vr);return ou(fo||vr,function(na,xo){fo&&(xo=na,na=vr[xo]),In(Pn,xo,xs(na,wr,Br,xo,vr,gn))}),Pn}function _o(vr){var wr=mu(vr);return function(Br){return No(Br,vr,wr)}}function No(vr,wr,Br){var Kr=Br.length;if(vr==null)return!Kr;for(vr=Po(vr);Kr--;){var rn=Br[Kr],gn=wr[rn],Pn=vr[rn];if(Pn===tr&&!(rn in vr)||!gn(Pn))return!1}return!0}function vo(vr,wr,Br){if(typeof vr!="function")throw new su(ir);return cw(function(){vr.apply(tr,Br)},wr)}function lo(vr,wr,Br,Kr){var rn=-1,gn=e0,Pn=!0,kn=vr.length,Hn=[],as=wr.length;if(!kn)return Hn;Br&&(wr=To(wr,qo(Br))),Kr?(gn=cm,Pn=!1):wr.length>=nr&&(gn=um,Pn=!1,wr=new Ur(wr));e:for(;++rn<kn;){var ls=vr[rn],As=Br==null?ls:Br(ls);if(ls=Kr||ls!==0?ls:0,Pn&&As===As){for(var js=as;js--;)if(wr[js]===As)continue e;Hn.push(ls)}else gn(wr,As,Kr)||Hn.push(ls)}return Hn}var yo=LR(Pl),Fo=LR(Vl,!0);function so(vr,wr){var Br=!0;return yo(vr,function(Kr,rn,gn){return Br=!!wr(Kr,rn,gn),Br}),Br}function xl(vr,wr,Br){for(var Kr=-1,rn=vr.length;++Kr<rn;){var gn=vr[Kr],Pn=wr(gn);if(Pn!=null&&(kn===tr?Pn===Pn&&!DA(Pn):Br(Pn,kn)))var kn=Pn,Hn=gn}return Hn}function $u(vr,wr,Br,Kr){var rn=vr.length;for(Br=ho(Br),Br<0&&(Br=-Br>rn?0:rn+Br),Kr=Kr===tr||Kr>rn?rn:ho(Kr),Kr<0&&(Kr+=rn),Kr=Br>Kr?0:RT(Kr);Br<Kr;)vr[Br++]=wr;return vr}function Dl(vr,wr){var Br=[];return yo(vr,function(Kr,rn,gn){wr(Kr,rn,gn)&&Br.push(Kr)}),Br}function Bo(vr,wr,Br,Kr,rn){var gn=-1,Pn=vr.length;for(Br||(Br=qN),rn||(rn=[]);++gn<Pn;){var kn=vr[gn];wr>0&&Br(kn)?wr>1?Bo(kn,wr-1,Br,Kr,rn):cA(rn,kn):Kr||(rn[rn.length]=kn)}return rn}var So=OR(),Uu=OR(!0);function Pl(vr,wr){return vr&&So(vr,wr,mu)}function Vl(vr,wr){return vr&&Uu(vr,wr,mu)}function Ql(vr,wr){return TA(wr,function(Br){return sx(vr[Br])})}function Ml(vr,wr){wr=Hp(wr,vr);for(var Br=0,Kr=wr.length;vr!=null&&Br<Kr;)vr=vr[vm(wr[Br++])];return Br&&Br==Kr?vr:tr}function Zu(vr,wr,Br){var Kr=wr(vr);return ao(vr)?Kr:cA(Kr,Br(vr))}function Jo(vr){return vr==null?vr===tr?ws:pn:Am&&Am in Po(vr)?VN(vr):rB(vr)}function Wl(vr,wr){return vr>wr}function Op(vr,wr){return vr!=null&&Eo.call(vr,wr)}function qm(vr,wr){return vr!=null&&wr in Po(vr)}function g0(vr,wr,Br){return vr>=pu(wr,Br)&&vr<Xl(wr,Br)}function Ap(vr,wr,Br){for(var Kr=Br?cm:e0,rn=vr[0].length,gn=vr.length,Pn=gn,kn=Kn(gn),Hn=1/0,as=[];Pn--;){var ls=vr[Pn];Pn&&wr&&(ls=To(ls,qo(wr))),Hn=pu(ls.length,Hn),kn[Pn]=!Br&&(wr||rn>=120&&ls.length>=120)?new Ur(Pn&&ls):tr}ls=vr[0];var As=-1,js=kn[0];e:for(;++As<rn&&as.length<Hn;){var Hs=ls[As],_i=wr?wr(Hs):Hs;if(Hs=Br||Hs!==0?Hs:0,!(js?um(js,_i):Kr(as,_i,Br))){for(Pn=gn;--Pn;){var fo=kn[Pn];if(!(fo?um(fo,_i):Kr(vr[Pn],_i,Br)))continue e}js&&js.push(_i),as.push(Hs)}}return as}function Nl(vr,wr,Br,Kr){return Pl(vr,function(rn,gn,Pn){wr(Kr,Br(rn),gn,Pn)}),Kr}function Ym(vr,wr,Br){wr=Hp(wr,vr),vr=eT(vr,wr);var Kr=vr==null?vr:vr[vm(xp(wr))];return Kr==null?tr:au(Kr,vr,Br)}function sw(vr){return Gl(vr)&&Jo(vr)==zr}function dS(vr){return Gl(vr)&&Jo(vr)==Fs}function m1(vr){return Gl(vr)&&Jo(vr)==hn}function Dp(vr,wr,Br,Kr,rn){return vr===wr?!0:vr==null||wr==null||!Gl(vr)&&!Gl(wr)?vr!==vr&&wr!==wr:g1(vr,wr,Br,Kr,Dp,rn)}function g1(vr,wr,Br,Kr,rn,gn){var Pn=ao(vr),kn=ao(wr),Hn=Pn?Zr:Vu(vr),as=kn?Zr:Vu(wr);Hn=Hn==zr?Gn:Hn,as=as==zr?Gn:as;var ls=Hn==Gn,As=as==Gn,js=Hn==as;if(js&&v0(vr)){if(!v0(wr))return!1;Pn=!0,ls=!1}if(js&&!ls)return gn||(gn=new on),Pn||T1(vr)?KR(vr,wr,Br,Kr,rn,gn):UN(vr,wr,Hn,Br,Kr,rn,gn);if(!(Br&Ar)){var Hs=ls&&Eo.call(vr,"__wrapped__"),_i=As&&Eo.call(wr,"__wrapped__");if(Hs||_i){var fo=Hs?vr.value():vr,na=_i?wr.value():wr;return gn||(gn=new on),rn(fo,na,Br,Kr,gn)}}return js?(gn||(gn=new on),HN(vr,wr,Br,Kr,rn,gn)):!1}function LA(vr){return Gl(vr)&&Vu(vr)==Rn}function mm(vr,wr,Br,Kr){var rn=Br.length,gn=rn,Pn=!Kr;if(vr==null)return!gn;for(vr=Po(vr);rn--;){var kn=Br[rn];if(Pn&&kn[2]?kn[1]!==vr[kn[0]]:!(kn[0]in vr))return!1}for(;++rn<gn;){kn=Br[rn];var Hn=kn[0],as=vr[Hn],ls=kn[1];if(Pn&&kn[2]){if(as===tr&&!(Hn in vr))return!1}else{var As=new on;if(Kr)var js=Kr(as,ls,Hn,vr,wr,As);if(!(js===tr?Dp(ls,as,Ar|fr,Kr,As):js))return!1}}return!0}function Xm(vr){if(!$l(vr)||XN(vr))return!1;var wr=sx(vr)?Yl:Qn;return wr.test(Ov(vr))}function hS(vr){return Gl(vr)&&Jo(vr)==cs}function x1(vr){return Gl(vr)&&Vu(vr)==ts}function fS(vr){return Gl(vr)&&$S(vr.length)&&!!Io[Jo(vr)]}function Tv(vr){return typeof vr=="function"?vr:vr==null?wA:typeof vr=="object"?ao(vr)?y1(vr[0],vr[1]):pS(vr):MT(vr)}function Pv(vr){if(!lw(vr))return iS(vr);var wr=[];for(var Br in Po(vr))Eo.call(vr,Br)&&Br!="constructor"&&wr.push(Br);return wr}function v1(vr){if(!$l(vr))return tB(vr);var wr=lw(vr),Br=[];for(var Kr in vr)Kr=="constructor"&&(wr||!Eo.call(vr,Kr))||Br.push(Kr);return Br}function Jm(vr,wr){return vr<wr}function AS(vr,wr){var Br=-1,Kr=yA(vr)?Kn(vr.length):[];return yo(vr,function(rn,gn,Pn){Kr[++Br]=wr(rn,gn,Pn)}),Kr}function pS(vr){var wr=cC(vr);return wr.length==1&&wr[0][2]?JR(wr[0][0],wr[0][1]):function(Br){return Br===vr||mm(Br,vr,wr)}}function y1(vr,wr){return dC(vr)&&XR(wr)?JR(vm(vr),wr):function(Br){var Kr=EC(Br,vr);return Kr===tr&&Kr===wr?wC(Br,vr):Dp(wr,Kr,Ar|fr)}}function OA(vr,wr,Br,Kr,rn){vr!==wr&&So(wr,function(gn,Pn){if(rn||(rn=new on),$l(gn))tC(vr,wr,Pn,Br,OA,Kr,rn);else{var kn=Kr?Kr(fC(vr,Pn),gn,Pn+"",vr,wr,rn):tr;kn===tr&&(kn=gn),Xn(vr,Pn,kn)}},EA)}function tC(vr,wr,Br,Kr,rn,gn,Pn){var kn=fC(vr,Br),Hn=fC(wr,Br),as=Pn.get(Hn);if(as){Xn(vr,Br,as);return}var ls=gn?gn(kn,Hn,Br+"",vr,wr,Pn):tr,As=ls===tr;if(As){var js=ao(Hn),Hs=!js&&v0(Hn),_i=!js&&!Hs&&T1(Hn);ls=Hn,js||Hs||_i?ao(kn)?ls=kn:Jl(kn)?ls=vA(kn):Hs?(As=!1,ls=NR(Hn,!0)):_i?(As=!1,ls=BR(Hn,!0)):ls=[]:uw(Hn)||Dv(Hn)?(ls=kn,Dv(kn)?ls=TT(kn):(!$l(kn)||sx(kn))&&(ls=YR(Hn))):As=!1}As&&(Pn.set(Hn,ls),rn(ls,Hn,Kr,gn,Pn),Pn.delete(Hn)),Xn(vr,Br,ls)}function mS(vr,wr){var Br=vr.length;if(Br)return wr+=wr<0?Br:0,nx(wr,Br)?vr[wr]:tr}function gS(vr,wr,Br){wr.length?wr=To(wr,function(gn){return ao(gn)?function(Pn){return Ml(Pn,gn.length===1?gn[0]:gn)}:gn}):wr=[wA];var Kr=-1;wr=To(wr,qo(Xs()));var rn=AS(vr,function(gn,Pn,kn){var Hn=To(wr,function(as){return as(gn)});return{criteria:Hn,index:++Kr,value:gn}});return Rl(rn,function(gn,Pn){return BN(gn,Pn,Br)})}function xS(vr,wr){return Nv(vr,wr,function(Br,Kr){return wC(vr,Kr)})}function Nv(vr,wr,Br){for(var Kr=-1,rn=wr.length,gn={};++Kr<rn;){var Pn=wr[Kr],kn=Ml(vr,Pn);Br(kn,Pn)&&Zm(gn,Hp(Pn,vr),kn)}return gn}function vS(vr){return function(wr){return Ml(wr,vr)}}function E1(vr,wr,Br,Kr){var rn=Kr?Ps:ds,gn=-1,Pn=wr.length,kn=vr;for(vr===wr&&(wr=vA(wr)),Br&&(kn=To(vr,qo(Br)));++gn<Pn;)for(var Hn=0,as=wr[gn],ls=Br?Br(as):as;(Hn=rn(kn,ls,Hn,Kr))>-1;)kn!==vr&&Cu.call(kn,Hn,1),Cu.call(vr,Hn,1);return vr}function Bv(vr,wr){for(var Br=vr?wr.length:0,Kr=Br-1;Br--;){var rn=wr[Br];if(Br==Kr||rn!==gn){var gn=rn;nx(rn)?Cu.call(vr,rn,1):_g(vr,rn)}}return vr}function Iv(vr,wr){return vr+d0(aS()*(wr-vr+1))}function kv(vr,wr,Br,Kr){for(var rn=-1,gn=Xl(u0((wr-vr)/(Br||1)),0),Pn=Kn(gn);gn--;)Pn[Kr?gn:++rn]=vr,vr+=Br;return Pn}function w1(vr,wr){var Br="";if(!vr||wr<1||wr>Tr)return Br;do wr%2&&(Br+=vr),wr=d0(wr/2),wr&&(vr+=vr);while(wr);return Br}function uo(vr,wr){return AC(ZR(vr,wr,wA),vr+"")}function b1(vr){return qn(P1(vr))}function yS(vr,wr){var Br=P1(vr);return kS(Br,Us(wr,0,Br.length))}function Zm(vr,wr,Br,Kr){if(!$l(vr))return vr;wr=Hp(wr,vr);for(var rn=-1,gn=wr.length,Pn=gn-1,kn=vr;kn!=null&&++rn<gn;){var Hn=vm(wr[rn]),as=Br;if(Hn==="__proto__"||Hn==="constructor"||Hn==="prototype")return vr;if(rn!=Pn){var ls=kn[Hn];as=Kr?Kr(ls,Hn,kn):tr,as===tr&&(as=$l(ls)?ls:nx(wr[rn+1])?[]:{})}In(kn,Hn,as),kn=kn[Hn]}return vr}var Mp=A1?function(vr,wr){return A1.set(vr,wr),vr}:wA,ES=zm?function(vr,wr){return zm(vr,"toString",{configurable:!0,enumerable:!1,value:_C(wr),writable:!0})}:wA;function wS(vr){return kS(P1(vr))}function xA(vr,wr,Br){var Kr=-1,rn=vr.length;wr<0&&(wr=-wr>rn?0:rn+wr),Br=Br>rn?rn:Br,Br<0&&(Br+=rn),rn=wr>Br?0:Br-wr>>>0,wr>>>=0;for(var gn=Kn(rn);++Kr<rn;)gn[Kr]=vr[Kr+wr];return gn}function bS(vr,wr){var Br;return yo(vr,function(Kr,rn,gn){return Br=wr(Kr,rn,gn),!Br}),!!Br}function $p(vr,wr,Br){var Kr=0,rn=vr==null?Kr:vr.length;if(typeof wr=="number"&&wr===wr&&rn<=Or){for(;Kr<rn;){var gn=Kr+rn>>>1,Pn=vr[gn];Pn!==null&&!DA(Pn)&&(Br?Pn<=wr:Pn<wr)?Kr=gn+1:rn=gn}return rn}return iw(vr,wr,wA,Br)}function iw(vr,wr,Br,Kr){var rn=0,gn=vr==null?0:vr.length;if(gn===0)return 0;wr=Br(wr);for(var Pn=wr!==wr,kn=wr===null,Hn=DA(wr),as=wr===tr;rn<gn;){var ls=d0((rn+gn)/2),As=Br(vr[ls]),js=As!==tr,Hs=As===null,_i=As===As,fo=DA(As);if(Pn)var na=Kr||_i;else as?na=_i&&(Kr||js):kn?na=_i&&js&&(Kr||!Hs):Hn?na=_i&&js&&!Hs&&(Kr||!fo):Hs||fo?na=!1:na=Kr?As<=wr:As<wr;na?rn=ls+1:gn=ls}return pu(gn,Rr)}function aw(vr,wr){for(var Br=-1,Kr=vr.length,rn=0,gn=[];++Br<Kr;){var Pn=vr[Br],kn=wr?wr(Pn):Pn;if(!Br||!Vp(kn,Hn)){var Hn=kn;gn[rn++]=Pn===0?0:Pn}}return gn}function _S(vr){return typeof vr=="number"?vr:DA(vr)?Wr:+vr}function Hu(vr){if(typeof vr=="string")return vr;if(ao(vr))return To(vr,Hu)+"";if(DA(vr))return Xu?Xu.call(vr):"";var wr=vr+"";return wr=="0"&&1/vr==-Vr?"-0":wr}function gm(vr,wr,Br){var Kr=-1,rn=e0,gn=vr.length,Pn=!0,kn=[],Hn=kn;if(Br)Pn=!1,rn=cm;else if(gn>=nr){var as=wr?null:MN(vr);if(as)return dm(as);Pn=!1,rn=um,Hn=new Ur}else Hn=wr?[]:kn;e:for(;++Kr<gn;){var ls=vr[Kr],As=wr?wr(ls):ls;if(ls=Br||ls!==0?ls:0,Pn&&As===As){for(var js=Hn.length;js--;)if(Hn[js]===As)continue e;wr&&Hn.push(As),kn.push(ls)}else rn(Hn,As,Br)||(Hn!==kn&&Hn.push(As),kn.push(ls))}return kn}function _g(vr,wr){return wr=Hp(wr,vr),vr=eT(vr,wr),vr==null||delete vr[vm(xp(wr))]}function _1(vr,wr,Br,Kr){return Zm(vr,wr,Br(Ml(vr,wr)),Kr)}function ex(vr,wr,Br,Kr){for(var rn=vr.length,gn=Kr?rn:-1;(Kr?gn--:++gn<rn)&&wr(vr[gn],gn,vr););return Br?xA(vr,Kr?0:gn,Kr?gn+1:rn):xA(vr,Kr?gn+1:0,Kr?rn:gn)}function pp(vr,wr){var Br=vr;return Br instanceof po&&(Br=Br.value()),up(wr,function(Kr,rn){return rn.func.apply(rn.thisArg,cA([Kr],rn.args))},Br)}function mp(vr,wr,Br){var Kr=vr.length;if(Kr<2)return Kr?gm(vr[0]):[];for(var rn=-1,gn=Kn(Kr);++rn<Kr;)for(var Pn=vr[rn],kn=-1;++kn<Kr;)kn!=rn&&(gn[rn]=lo(gn[rn]||Pn,vr[kn],wr,Br));return gm(Bo(gn,1),wr,Br)}function Up(vr,wr,Br){for(var Kr=-1,rn=vr.length,gn=wr.length,Pn={};++Kr<rn;){var kn=Kr<gn?wr[Kr]:tr;Br(Pn,vr[Kr],kn)}return Pn}function x0(vr){return Jl(vr)?vr:[]}function Fv(vr){return typeof vr=="function"?vr:wA}function Hp(vr,wr){return ao(vr)?vr:dC(vr,wr)?[vr]:sT(Do(vr))}var rC=uo;function gp(vr,wr,Br){var Kr=vr.length;return Br=Br===tr?Kr:Br,!wr&&Br>=Kr?vr:xA(vr,wr,Br)}var S1=f1||function(vr){return Hl.clearTimeout(vr)};function NR(vr,wr){if(wr)return vr.slice();var Br=vr.length,Kr=Ev?Ev(Br):new vr.constructor(Br);return vr.copy(Kr),Kr}function nC(vr){var wr=new vr.constructor(vr.byteLength);return new Ip(wr).set(new Ip(vr)),wr}function TN(vr,wr){var Br=wr?nC(vr.buffer):vr.buffer;return new vr.constructor(Br,vr.byteOffset,vr.byteLength)}function PN(vr){var wr=new vr.constructor(vr.source,Ln.exec(vr));return wr.lastIndex=vr.lastIndex,wr}function NN(vr){return mA?Po(mA.call(vr)):{}}function BR(vr,wr){var Br=wr?nC(vr.buffer):vr.buffer;return new vr.constructor(Br,vr.byteOffset,vr.length)}function IR(vr,wr){if(vr!==wr){var Br=vr!==tr,Kr=vr===null,rn=vr===vr,gn=DA(vr),Pn=wr!==tr,kn=wr===null,Hn=wr===wr,as=DA(wr);if(!kn&&!as&&!gn&&vr>wr||gn&&Pn&&Hn&&!kn&&!as||Kr&&Pn&&Hn||!Br&&Hn||!rn)return 1;if(!Kr&&!gn&&!as&&vr<wr||as&&Br&&rn&&!Kr&&!gn||kn&&Br&&rn||!Pn&&rn||!Hn)return-1}return 0}function BN(vr,wr,Br){for(var Kr=-1,rn=vr.criteria,gn=wr.criteria,Pn=rn.length,kn=Br.length;++Kr<Pn;){var Hn=IR(rn[Kr],gn[Kr]);if(Hn){if(Kr>=kn)return Hn;var as=Br[Kr];return Hn*(as=="desc"?-1:1)}}return vr.index-wr.index}function kR(vr,wr,Br,Kr){for(var rn=-1,gn=vr.length,Pn=Br.length,kn=-1,Hn=wr.length,as=Xl(gn-Pn,0),ls=Kn(Hn+as),As=!Kr;++kn<Hn;)ls[kn]=wr[kn];for(;++rn<Pn;)(As||rn<gn)&&(ls[Br[rn]]=vr[rn]);for(;as--;)ls[kn++]=vr[rn++];return ls}function FR(vr,wr,Br,Kr){for(var rn=-1,gn=vr.length,Pn=-1,kn=Br.length,Hn=-1,as=wr.length,ls=Xl(gn-kn,0),As=Kn(ls+as),js=!Kr;++rn<ls;)As[rn]=vr[rn];for(var Hs=rn;++Hn<as;)As[Hs+Hn]=wr[Hn];for(;++Pn<kn;)(js||rn<gn)&&(As[Hs+Br[Pn]]=vr[rn++]);return As}function vA(vr,wr){var Br=-1,Kr=vr.length;for(wr||(wr=Kn(Kr));++Br<Kr;)wr[Br]=vr[Br];return wr}function xm(vr,wr,Br,Kr){var rn=!Br;Br||(Br={});for(var gn=-1,Pn=wr.length;++gn<Pn;){var kn=wr[gn],Hn=Kr?Kr(Br[kn],vr[kn],kn,Br,vr):tr;Hn===tr&&(Hn=vr[kn]),rn?Ss(Br,kn,Hn):In(Br,kn,Hn)}return Br}function kN(vr,wr){return xm(vr,uC(vr),wr)}function FN(vr,wr){return xm(vr,zR(vr),wr)}function SS(vr,wr){return function(Br,Kr){var rn=ao(Br)?d1:rs,gn=wr?wr():{};return rn(Br,vr,Xs(Kr,2),gn)}}function C1(vr){return uo(function(wr,Br){var Kr=-1,rn=Br.length,gn=rn>1?Br[rn-1]:tr,Pn=rn>2?Br[2]:tr;for(gn=vr.length>3&&typeof gn=="function"?(rn--,gn):tr,Pn&&_d(Br[0],Br[1],Pn)&&(gn=rn<3?tr:gn,rn=1),wr=Po(wr);++Kr<rn;){var kn=Br[Kr];kn&&vr(wr,kn,Kr,gn)}return wr})}function LR(vr,wr){return function(Br,Kr){if(Br==null)return Br;if(!yA(Br))return vr(Br,Kr);for(var rn=Br.length,gn=wr?rn:-1,Pn=Po(Br);(wr?gn--:++gn<rn)&&Kr(Pn[gn],gn,Pn)!==!1;);return Br}}function OR(vr){return function(wr,Br,Kr){for(var rn=-1,gn=Po(wr),Pn=Kr(wr),kn=Pn.length;kn--;){var Hn=Pn[vr?kn:++rn];if(Br(gn[Hn],Hn,gn)===!1)break}return wr}}function LN(vr,wr,Br){var Kr=wr&mr,rn=ow(vr);function gn(){var Pn=this&&this!==Hl&&this instanceof gn?rn:vr;return Pn.apply(Kr?Br:this,arguments)}return gn}function DR(vr){return function(wr){wr=Do(wr);var Br=PA(wr)?Lu(wr):tr,Kr=Br?Br[0]:wr.charAt(0),rn=Br?gp(Br,1).join(""):wr.slice(1);return Kr[vr]()+rn}}function j1(vr){return function(wr){return up(OT(LT(wr).replace(lp,"")),vr,"")}}function ow(vr){return function(){var wr=arguments;switch(wr.length){case 0:return new vr;case 1:return new vr(wr[0]);case 2:return new vr(wr[0],wr[1]);case 3:return new vr(wr[0],wr[1],wr[2]);case 4:return new vr(wr[0],wr[1],wr[2],wr[3]);case 5:return new vr(wr[0],wr[1],wr[2],wr[3],wr[4]);case 6:return new vr(wr[0],wr[1],wr[2],wr[3],wr[4],wr[5]);case 7:return new vr(wr[0],wr[1],wr[2],wr[3],wr[4],wr[5],wr[6])}var Br=m0(vr.prototype),Kr=vr.apply(Br,wr);return $l(Kr)?Kr:Br}}function ON(vr,wr,Br){var Kr=ow(vr);function rn(){for(var gn=arguments.length,Pn=Kn(gn),kn=gn,Hn=R1(rn);kn--;)Pn[kn]=arguments[kn];var as=gn<3&&Pn[0]!==Hn&&Pn[gn-1]!==Hn?[]:dp(Pn,Hn);if(gn-=as.length,gn<Br)return VR(vr,wr,CS,rn.placeholder,tr,Pn,as,tr,tr,Br-gn);var ls=this&&this!==Hl&&this instanceof rn?Kr:vr;return au(ls,this,Pn)}return rn}function MR(vr){return function(wr,Br,Kr){var rn=Po(wr);if(!yA(wr)){var gn=Xs(Br,3);wr=mu(wr),Br=function(kn){return gn(rn[kn],kn,rn)}}var Pn=vr(wr,Br,Kr);return Pn>-1?rn[gn?wr[Pn]:Pn]:tr}}function $R(vr){return rx(function(wr){var Br=wr.length,Kr=Br,rn=Ju.prototype.thru;for(vr&&wr.reverse();Kr--;){var gn=wr[Kr];if(typeof gn!="function")throw new su(ir);if(rn&&!Pn&&PS(gn)=="wrapper")var Pn=new Ju([],!0)}for(Kr=Pn?Kr:Br;++Kr<Br;){gn=wr[Kr];var kn=PS(gn),Hn=kn=="wrapper"?lC(gn):tr;Hn&&hC(Hn[0])&&Hn[1]==(Sr|xr|Er|jr)&&!Hn[4].length&&Hn[9]==1?Pn=Pn[PS(Hn[0])].apply(Pn,Hn[3]):Pn=gn.length==1&&hC(gn)?Pn[kn]():Pn.thru(gn)}return function(){var as=arguments,ls=as[0];if(Pn&&as.length==1&&ao(ls))return Pn.plant(ls).value();for(var As=0,js=Br?wr[As].apply(this,as):ls;++As<Br;)js=wr[As].call(this,js);return js}})}function CS(vr,wr,Br,Kr,rn,gn,Pn,kn,Hn,as){var ls=wr&Sr,As=wr&mr,js=wr&pr,Hs=wr&(xr|yr),_i=wr&Pr,fo=js?tr:ow(vr);function na(){for(var xo=arguments.length,wo=Kn(xo),MA=xo;MA--;)wo[MA]=arguments[MA];if(Hs)var _h=R1(na),$A=s0(wo,_h);if(Kr&&(wo=kR(wo,Kr,rn,Hs)),gn&&(wo=FR(wo,gn,Pn,Hs)),xo-=$A,Hs&&xo<as){var Zl=dp(wo,_h);return VR(vr,wr,CS,na.placeholder,Br,wo,Zl,kn,Hn,as-xo)}var Qp=As?Br:this,ax=js?Qp[vr]:vr;return xo=wo.length,kn?wo=nB(wo,kn):_i&&xo>1&&wo.reverse(),ls&&Hn<xo&&(wo.length=Hn),this&&this!==Hl&&this instanceof na&&(ax=fo||ow(ax)),ax.apply(Qp,wo)}return na}function UR(vr,wr){return function(Br,Kr){return Nl(Br,vr,wr(Kr),{})}}function jS(vr,wr){return function(Br,Kr){var rn;if(Br===tr&&Kr===tr)return wr;if(Br!==tr&&(rn=Br),Kr!==tr){if(rn===tr)return Kr;typeof Br=="string"||typeof Kr=="string"?(Br=Hu(Br),Kr=Hu(Kr)):(Br=_S(Br),Kr=_S(Kr)),rn=vr(Br,Kr)}return rn}}function sC(vr){return rx(function(wr){return wr=To(wr,qo(Xs())),uo(function(Br){var Kr=this;return vr(wr,function(rn){return au(rn,Kr,Br)})})})}function RS(vr,wr){wr=wr===tr?" ":Hu(wr);var Br=wr.length;if(Br<2)return Br?w1(wr,vr):wr;var Kr=w1(wr,u0(vr/Pp(wr)));return PA(wr)?gp(Lu(Kr),0,vr).join(""):Kr.slice(0,vr)}function DN(vr,wr,Br,Kr){var rn=wr&mr,gn=ow(vr);function Pn(){for(var kn=-1,Hn=arguments.length,as=-1,ls=Kr.length,As=Kn(ls+Hn),js=this&&this!==Hl&&this instanceof Pn?gn:vr;++as<ls;)As[as]=Kr[as];for(;Hn--;)As[as++]=arguments[++kn];return au(js,rn?Br:this,As)}return Pn}function HR(vr){return function(wr,Br,Kr){return Kr&&typeof Kr!="number"&&_d(wr,Br,Kr)&&(Br=Kr=tr),wr=ix(wr),Br===tr?(Br=wr,wr=0):Br=ix(Br),Kr=Kr===tr?wr<Br?1:-1:ix(Kr),kv(wr,Br,Kr,vr)}}function TS(vr){return function(wr,Br){return typeof wr=="string"&&typeof Br=="string"||(wr=vp(wr),Br=vp(Br)),vr(wr,Br)}}function VR(vr,wr,Br,Kr,rn,gn,Pn,kn,Hn,as){var ls=wr&xr,As=ls?Pn:tr,js=ls?tr:Pn,Hs=ls?gn:tr,_i=ls?tr:gn;wr|=ls?Er:_r,wr&=~(ls?_r:Er),wr&gr||(wr&=-4);var fo=[vr,wr,rn,Hs,As,_i,js,kn,Hn,as],na=Br.apply(tr,fo);return hC(vr)&&tT(na,fo),na.placeholder=Kr,rT(na,vr,wr)}function iC(vr){var wr=Xo[vr];return function(Br,Kr){if(Br=vp(Br),Kr=Kr==null?0:pu(ho(Kr),292),Kr&&sS(Br)){var rn=(Do(Br)+"e").split("e"),gn=wr(rn[0]+"e"+(+rn[1]+Kr));return rn=(Do(gn)+"e").split("e"),+(rn[0]+"e"+(+rn[1]-Kr))}return wr(Br)}}var MN=f0&&1/dm(new f0([,-0]))[1]==Vr?function(vr){return new f0(vr)}:jC;function QR(vr){return function(wr){var Br=Vu(wr);return Br==Rn?Vm(wr):Br==ts?h1(wr):nu(wr,vr(wr))}}function tx(vr,wr,Br,Kr,rn,gn,Pn,kn){var Hn=wr&pr;if(!Hn&&typeof vr!="function")throw new su(ir);var as=Kr?Kr.length:0;if(as||(wr&=-97,Kr=rn=tr),Pn=Pn===tr?Pn:Xl(ho(Pn),0),kn=kn===tr?kn:ho(kn),as-=rn?rn.length:0,wr&_r){var ls=Kr,As=rn;Kr=rn=tr}var js=Hn?tr:lC(vr),Hs=[vr,wr,Br,Kr,rn,ls,As,gn,Pn,kn];if(js&&eB(Hs,js),vr=Hs[0],wr=Hs[1],Br=Hs[2],Kr=Hs[3],rn=Hs[4],kn=Hs[9]=Hs[9]===tr?Hn?0:vr.length:Xl(Hs[9]-as,0),!kn&&wr&(xr|yr)&&(wr&=-25),!wr||wr==mr)var _i=LN(vr,wr,Br);else wr==xr||wr==yr?_i=ON(vr,wr,kn):(wr==Er||wr==(mr|Er))&&!rn.length?_i=DN(vr,wr,Br,Kr):_i=CS.apply(tr,Hs);var fo=js?Mp:tT;return rT(fo(_i,Hs),vr,wr)}function WR(vr,wr,Br,Kr){return vr===tr||Vp(vr,IA[Br])&&!Eo.call(Kr,Br)?wr:vr}function GR(vr,wr,Br,Kr,rn,gn){return $l(vr)&&$l(wr)&&(gn.set(wr,vr),OA(vr,wr,tr,GR,gn),gn.delete(wr)),vr}function $N(vr){return uw(vr)?tr:vr}function KR(vr,wr,Br,Kr,rn,gn){var Pn=Br&Ar,kn=vr.length,Hn=wr.length;if(kn!=Hn&&!(Pn&&Hn>kn))return!1;var as=gn.get(vr),ls=gn.get(wr);if(as&&ls)return as==wr&&ls==vr;var As=-1,js=!0,Hs=Br&fr?new Ur:tr;for(gn.set(vr,wr),gn.set(wr,vr);++As<kn;){var _i=vr[As],fo=wr[As];if(Kr)var na=Pn?Kr(fo,_i,As,wr,vr,gn):Kr(_i,fo,As,vr,wr,gn);if(na!==tr){if(na)continue;js=!1;break}if(Hs){if(!Dr(wr,function(xo,wo){if(!um(Hs,wo)&&(_i===xo||rn(_i,xo,Br,Kr,gn)))return Hs.push(wo)})){js=!1;break}}else if(!(_i===fo||rn(_i,fo,Br,Kr,gn))){js=!1;break}}return gn.delete(vr),gn.delete(wr),js}function UN(vr,wr,Br,Kr,rn,gn,Pn){switch(Br){case Vs:if(vr.byteLength!=wr.byteLength||vr.byteOffset!=wr.byteOffset)return!1;vr=vr.buffer,wr=wr.buffer;case Fs:return!(vr.byteLength!=wr.byteLength||!gn(new Ip(vr),new Ip(wr)));case vn:case hn:case Nn:return Vp(+vr,+wr);case Tn:return vr.name==wr.name&&vr.message==wr.message;case cs:case fs:return vr==wr+"";case Rn:var kn=Vm;case ts:var Hn=Kr&Ar;if(kn||(kn=dm),vr.size!=wr.size&&!Hn)return!1;var as=Pn.get(vr);if(as)return as==wr;Kr|=fr,Pn.set(vr,wr);var ls=KR(kn(vr),kn(wr),Kr,rn,gn,Pn);return Pn.delete(vr),ls;case vs:if(mA)return mA.call(vr)==mA.call(wr)}return!1}function HN(vr,wr,Br,Kr,rn,gn){var Pn=Br&Ar,kn=aC(vr),Hn=kn.length,as=aC(wr),ls=as.length;if(Hn!=ls&&!Pn)return!1;for(var As=Hn;As--;){var js=kn[As];if(!(Pn?js in wr:Eo.call(wr,js)))return!1}var Hs=gn.get(vr),_i=gn.get(wr);if(Hs&&_i)return Hs==wr&&_i==vr;var fo=!0;gn.set(vr,wr),gn.set(wr,vr);for(var na=Pn;++As<Hn;){js=kn[As];var xo=vr[js],wo=wr[js];if(Kr)var MA=Pn?Kr(wo,xo,js,wr,vr,gn):Kr(xo,wo,js,vr,wr,gn);if(!(MA===tr?xo===wo||rn(xo,wo,Br,Kr,gn):MA)){fo=!1;break}na||(na=js=="constructor")}if(fo&&!na){var _h=vr.constructor,$A=wr.constructor;_h!=$A&&"constructor"in vr&&"constructor"in wr&&!(typeof _h=="function"&&_h instanceof _h&&typeof $A=="function"&&$A instanceof $A)&&(fo=!1)}return gn.delete(vr),gn.delete(wr),fo}function rx(vr){return AC(ZR(vr,tr,lT),vr+"")}function aC(vr){return Zu(vr,mu,uC)}function oC(vr){return Zu(vr,EA,zR)}var lC=A1?function(vr){return A1.get(vr)}:jC;function PS(vr){for(var wr=vr.name+"",Br=p0[wr],Kr=Eo.call(p0,wr)?Br.length:0;Kr--;){var rn=Br[Kr],gn=rn.func;if(gn==null||gn==vr)return rn.name}return wr}function R1(vr){var wr=Eo.call(An,"placeholder")?An:vr;return wr.placeholder}function Xs(){var vr=An.iteratee||SC;return vr=vr===SC?Tv:vr,arguments.length?vr(arguments[0],arguments[1]):vr}function BS(vr,wr){var Br=vr.__data__;return YN(wr)?Br[typeof wr=="string"?"string":"hash"]:Br.map}function cC(vr){for(var wr=mu(vr),Br=wr.length;Br--;){var Kr=wr[Br],rn=vr[Kr];wr[Br]=[Kr,rn,XR(rn)]}return wr}function Lv(vr,wr){var Br=lu(vr,wr);return Xm(Br)?Br:tr}function VN(vr){var wr=Eo.call(vr,Am),Br=vr[Am];try{vr[Am]=tr;var Kr=!0}catch{}var rn=ko.call(vr);return Kr&&(wr?vr[Am]=Br:delete vr[Am]),rn}var uC=h0?function(vr){return vr==null?[]:(vr=Po(vr),TA(h0(vr),function(wr){return Mu.call(vr,wr)}))}:RC,zR=h0?function(vr){for(var wr=[];vr;)cA(wr,uC(vr)),vr=c0(vr);return wr}:RC,Vu=Jo;(_v&&Vu(new _v(new ArrayBuffer(1)))!=Vs||kp&&Vu(new kp)!=Rn||rw&&Vu(rw.resolve())!=os||f0&&Vu(new f0)!=ts||A0&&Vu(new A0)!=Rs)&&(Vu=function(vr){var wr=Jo(vr),Br=wr==Gn?vr.constructor:tr,Kr=Br?Ov(Br):"";if(Kr)switch(Kr){case Q2:return Vs;case pm:return Rn;case FA:return os;case Fp:return ts;case W2:return Rs}return wr});function QN(vr,wr,Br){for(var Kr=-1,rn=Br.length;++Kr<rn;){var gn=Br[Kr],Pn=gn.size;switch(gn.type){case"drop":vr+=Pn;break;case"dropRight":wr-=Pn;break;case"take":wr=pu(wr,vr+Pn);break;case"takeRight":vr=Xl(vr,wr-Pn);break}}return{start:vr,end:wr}}function WN(vr){var wr=vr.match(un);return wr?wr[1].split(Sn):[]}function qR(vr,wr,Br){wr=Hp(wr,vr);for(var Kr=-1,rn=wr.length,gn=!1;++Kr<rn;){var Pn=vm(wr[Kr]);if(!(gn=vr!=null&&Br(vr,Pn)))break;vr=vr[Pn]}return gn||++Kr!=rn?gn:(rn=vr==null?0:vr.length,!!rn&&$S(rn)&&nx(Pn,rn)&&(ao(vr)||Dv(vr)))}function GN(vr){var wr=vr.length,Br=new vr.constructor(wr);return wr&&typeof vr[0]=="string"&&Eo.call(vr,"index")&&(Br.index=vr.index,Br.input=vr.input),Br}function YR(vr){return typeof vr.constructor=="function"&&!lw(vr)?m0(c0(vr)):{}}function KN(vr,wr,Br){var Kr=vr.constructor;switch(wr){case Fs:return nC(vr);case vn:case hn:return new Kr(+vr);case Vs:return TN(vr,Br);case Ts:case Ds:case ys:case $o:case Zs:case io:case xa:case oo:case El:return BR(vr,Br);case Rn:return new Kr;case Nn:case fs:return new Kr(vr);case cs:return PN(vr);case ts:return new Kr;case vs:return NN(vr)}}function zN(vr,wr){var Br=wr.length;if(!Br)return vr;var Kr=Br-1;return wr[Kr]=(Br>1?"& ":"")+wr[Kr],wr=wr.join(Br>2?", ":" "),vr.replace(Vo,`{
/* [wrapped with `+wr+`] */
`)}function qN(vr){return ao(vr)||Dv(vr)||!!(bv&&vr&&vr[bv])}function nx(vr,wr){var Br=typeof vr;return wr=wr??Tr,!!wr&&(Br=="number"||Br!="symbol"&&hs.test(vr))&&vr>-1&&vr%1==0&&vr<wr}function _d(vr,wr,Br){if(!$l(Br))return!1;var Kr=typeof wr;return(Kr=="number"?yA(Br)&&nx(wr,Br.length):Kr=="string"&&wr in Br)?Vp(Br[wr],vr):!1}function dC(vr,wr){if(ao(vr))return!1;var Br=typeof vr;return Br=="number"||Br=="symbol"||Br=="boolean"||vr==null||DA(vr)?!0:tu.test(vr)||!fu.test(vr)||wr!=null&&vr in Po(wr)}function YN(vr){var wr=typeof vr;return wr=="string"||wr=="number"||wr=="symbol"||wr=="boolean"?vr!=="__proto__":vr===null}function hC(vr){var wr=PS(vr),Br=An[wr];if(typeof Br!="function"||!(wr in po.prototype))return!1;if(vr===Br)return!0;var Kr=lC(Br);return!!Kr&&vr===Kr[0]}function XN(vr){return!!Yu&&Yu in vr}var JN=hp?sx:TC;function lw(vr){var wr=vr&&vr.constructor,Br=typeof wr=="function"&&wr.prototype||IA;return vr===Br}function XR(vr){return vr===vr&&!$l(vr)}function JR(vr,wr){return function(Br){return Br==null?!1:Br[vr]===wr&&(wr!==tr||vr in Po(Br))}}function ZN(vr){var wr=DS(vr,function(Kr){return Br.size===lr&&Br.clear(),Kr}),Br=wr.cache;return wr}function eB(vr,wr){var Br=vr[1],Kr=wr[1],rn=Br|Kr,gn=rn<(mr|pr|Sr),Pn=Kr==Sr&&Br==xr||Kr==Sr&&Br==jr&&vr[7].length<=wr[8]||Kr==(Sr|jr)&&wr[7].length<=wr[8]&&Br==xr;if(!(gn||Pn))return vr;Kr&mr&&(vr[2]=wr[2],rn|=Br&mr?0:gr);var kn=wr[3];if(kn){var Hn=vr[3];vr[3]=Hn?kR(Hn,kn,wr[4]):kn,vr[4]=Hn?dp(vr[3],cr):wr[4]}return kn=wr[5],kn&&(Hn=vr[5],vr[5]=Hn?FR(Hn,kn,wr[6]):kn,vr[6]=Hn?dp(vr[5],cr):wr[6]),kn=wr[7],kn&&(vr[7]=kn),Kr&Sr&&(vr[8]=vr[8]==null?wr[8]:pu(vr[8],wr[8])),vr[9]==null&&(vr[9]=wr[9]),vr[0]=wr[0],vr[1]=rn,vr}function tB(vr){var wr=[];if(vr!=null)for(var Br in Po(vr))wr.push(Br);return wr}function rB(vr){return ko.call(vr)}function ZR(vr,wr,Br){return wr=Xl(wr===tr?vr.length-1:wr,0),function(){for(var Kr=arguments,rn=-1,gn=Xl(Kr.length-wr,0),Pn=Kn(gn);++rn<gn;)Pn[rn]=Kr[wr+rn];rn=-1;for(var kn=Kn(wr+1);++rn<wr;)kn[rn]=Kr[rn];return kn[wr]=Br(Pn),au(vr,this,kn)}}function eT(vr,wr){return wr.length<2?vr:Ml(vr,xA(wr,0,-1))}function nB(vr,wr){for(var Br=vr.length,Kr=pu(wr.length,Br),rn=vA(vr);Kr--;){var gn=wr[Kr];vr[Kr]=nx(gn,Br)?rn[gn]:tr}return vr}function fC(vr,wr){if(!(wr==="constructor"&&typeof vr[wr]=="function")&&wr!="__proto__")return vr[wr]}var tT=nT(Mp),cw=nS||function(vr,wr){return Hl.setTimeout(vr,wr)},AC=nT(ES);function rT(vr,wr,Br){var Kr=wr+"";return AC(vr,zN(Kr,sB(WN(Kr),Br)))}function nT(vr){var wr=0,Br=0;return function(){var Kr=U2(),rn=Qr-(Kr-Br);if(Br=Kr,rn>0){if(++wr>=Lr)return arguments[0]}else wr=0;return vr.apply(tr,arguments)}}function kS(vr,wr){var Br=-1,Kr=vr.length,rn=Kr-1;for(wr=wr===tr?Kr:wr;++Br<wr;){var gn=Iv(Br,rn),Pn=vr[gn];vr[gn]=vr[Br],vr[Br]=Pn}return vr.length=wr,vr}var sT=ZN(function(vr){var wr=[];return vr.charCodeAt(0)===46&&wr.push(""),vr.replace(Ws,function(Br,Kr,rn,gn){wr.push(rn?gn.replace(_n,"$1"):Kr||Br)}),wr});function vm(vr){if(typeof vr=="string"||DA(vr))return vr;var wr=vr+"";return wr=="0"&&1/vr==-Vr?"-0":wr}function Ov(vr){if(vr!=null){try{return kA.call(vr)}catch{}try{return vr+""}catch{}}return""}function sB(vr,wr){return ou(Hr,function(Br){var Kr="_."+Br[0];wr&Br[1]&&!e0(vr,Kr)&&vr.push(Kr)}),vr.sort()}function iT(vr){if(vr instanceof po)return vr.clone();var wr=new Ju(vr.__wrapped__,vr.__chain__);return wr.__actions__=vA(vr.__actions__),wr.__index__=vr.__index__,wr.__values__=vr.__values__,wr}function iB(vr,wr,Br){(Br?_d(vr,wr,Br):wr===tr)?wr=1:wr=Xl(ho(wr),0);var Kr=vr==null?0:vr.length;if(!Kr||wr<1)return[];for(var rn=0,gn=0,Pn=Kn(u0(Kr/wr));rn<Kr;)Pn[gn++]=xA(vr,rn,rn+=wr);return Pn}function aB(vr){for(var wr=-1,Br=vr==null?0:vr.length,Kr=0,rn=[];++wr<Br;){var gn=vr[wr];gn&&(rn[Kr++]=gn)}return rn}function oB(){var vr=arguments.length;if(!vr)return[];for(var wr=Kn(vr-1),Br=arguments[0],Kr=vr;Kr--;)wr[Kr-1]=arguments[Kr];return cA(ao(Br)?vA(Br):[Br],Bo(wr,1))}var lB=uo(function(vr,wr){return Jl(vr)?lo(vr,Bo(wr,1,Jl,!0)):[]}),cB=uo(function(vr,wr){var Br=xp(wr);return Jl(Br)&&(Br=tr),Jl(vr)?lo(vr,Bo(wr,1,Jl,!0),Xs(Br,2)):[]}),uB=uo(function(vr,wr){var Br=xp(wr);return Jl(Br)&&(Br=tr),Jl(vr)?lo(vr,Bo(wr,1,Jl,!0),tr,Br):[]});function dB(vr,wr,Br){var Kr=vr==null?0:vr.length;return Kr?(wr=Br||wr===tr?1:ho(wr),xA(vr,wr<0?0:wr,Kr)):[]}function hB(vr,wr,Br){var Kr=vr==null?0:vr.length;return Kr?(wr=Br||wr===tr?1:ho(wr),wr=Kr-wr,xA(vr,0,wr<0?0:wr)):[]}function fB(vr,wr){return vr&&vr.length?ex(vr,Xs(wr,3),!0,!0):[]}function AB(vr,wr){return vr&&vr.length?ex(vr,Xs(wr,3),!0):[]}function pB(vr,wr,Br,Kr){var rn=vr==null?0:vr.length;return rn?(Br&&typeof Br!="number"&&_d(vr,wr,Br)&&(Br=0,Kr=rn),$u(vr,wr,Br,Kr)):[]}function aT(vr,wr,Br){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var rn=Br==null?0:ho(Br);return rn<0&&(rn=Xl(Kr+rn,0)),Jn(vr,Xs(wr,3),rn)}function oT(vr,wr,Br){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var rn=Kr-1;return Br!==tr&&(rn=ho(Br),rn=Br<0?Xl(Kr+rn,0):pu(rn,Kr-1)),Jn(vr,Xs(wr,3),rn,!0)}function lT(vr){var wr=vr==null?0:vr.length;return wr?Bo(vr,1):[]}function mB(vr){var wr=vr==null?0:vr.length;return wr?Bo(vr,Vr):[]}function gB(vr,wr){var Br=vr==null?0:vr.length;return Br?(wr=wr===tr?1:ho(wr),Bo(vr,wr)):[]}function xB(vr){for(var wr=-1,Br=vr==null?0:vr.length,Kr={};++wr<Br;){var rn=vr[wr];Kr[rn[0]]=rn[1]}return Kr}function cT(vr){return vr&&vr.length?vr[0]:tr}function vB(vr,wr,Br){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var rn=Br==null?0:ho(Br);return rn<0&&(rn=Xl(Kr+rn,0)),ds(vr,wr,rn)}function yB(vr){var wr=vr==null?0:vr.length;return wr?xA(vr,0,-1):[]}var wB=uo(function(vr){var wr=To(vr,x0);return wr.length&&wr[0]===vr[0]?Ap(wr):[]}),bB=uo(function(vr){var wr=xp(vr),Br=To(vr,x0);return wr===xp(Br)?wr=tr:Br.pop(),Br.length&&Br[0]===vr[0]?Ap(Br,Xs(wr,2)):[]}),_B=uo(function(vr){var wr=xp(vr),Br=To(vr,x0);return wr=typeof wr=="function"?wr:tr,wr&&Br.pop(),Br.length&&Br[0]===vr[0]?Ap(Br,tr,wr):[]});function SB(vr,wr){return vr==null?"":$2.call(vr,wr)}function xp(vr){var wr=vr==null?0:vr.length;return wr?vr[wr-1]:tr}function jB(vr,wr,Br){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var rn=Kr;return Br!==tr&&(rn=ho(Br),rn=rn<0?Xl(Kr+rn,0):pu(rn,Kr-1)),wr===wr?l0(vr,wr,rn):Jn(vr,Gs,rn,!0)}function RB(vr,wr){return vr&&vr.length?mS(vr,ho(wr)):tr}var TB=uo(uT);function uT(vr,wr){return vr&&vr.length&&wr&&wr.length?E1(vr,wr):vr}function PB(vr,wr,Br){return vr&&vr.length&&wr&&wr.length?E1(vr,wr,Xs(Br,2)):vr}function NB(vr,wr,Br){return vr&&vr.length&&wr&&wr.length?E1(vr,wr,tr,Br):vr}var IB=rx(function(vr,wr){var Br=vr==null?0:vr.length,Kr=Es(vr,wr);return Bv(vr,To(wr,function(rn){return nx(rn,Br)?+rn:rn}).sort(IR)),Kr});function kB(vr,wr){var Br=[];if(!(vr&&vr.length))return Br;var Kr=-1,rn=[],gn=vr.length;for(wr=Xs(wr,3);++Kr<gn;){var Pn=vr[Kr];wr(Pn,Kr,vr)&&(Br.push(Pn),rn.push(Kr))}return Bv(vr,rn),Br}function pC(vr){return vr==null?vr:tw.call(vr)}function FB(vr,wr,Br){var Kr=vr==null?0:vr.length;return Kr?(Br&&typeof Br!="number"&&_d(vr,wr,Br)?(wr=0,Br=Kr):(wr=wr==null?0:ho(wr),Br=Br===tr?Kr:ho(Br)),xA(vr,wr,Br)):[]}function LB(vr,wr){return $p(vr,wr)}function OB(vr,wr,Br){return iw(vr,wr,Xs(Br,2))}function DB(vr,wr){var Br=vr==null?0:vr.length;if(Br){var Kr=$p(vr,wr);if(Kr<Br&&Vp(vr[Kr],wr))return Kr}return-1}function MB(vr,wr){return $p(vr,wr,!0)}function $B(vr,wr,Br){return iw(vr,wr,Xs(Br,2),!0)}function UB(vr,wr){var Br=vr==null?0:vr.length;if(Br){var Kr=$p(vr,wr,!0)-1;if(Vp(vr[Kr],wr))return Kr}return-1}function HB(vr){return vr&&vr.length?aw(vr):[]}function VB(vr,wr){return vr&&vr.length?aw(vr,Xs(wr,2)):[]}function QB(vr){var wr=vr==null?0:vr.length;return wr?xA(vr,1,wr):[]}function WB(vr,wr,Br){return vr&&vr.length?(wr=Br||wr===tr?1:ho(wr),xA(vr,0,wr<0?0:wr)):[]}function GB(vr,wr,Br){var Kr=vr==null?0:vr.length;return Kr?(wr=Br||wr===tr?1:ho(wr),wr=Kr-wr,xA(vr,wr<0?0:wr,Kr)):[]}function KB(vr,wr){return vr&&vr.length?ex(vr,Xs(wr,3),!1,!0):[]}function zB(vr,wr){return vr&&vr.length?ex(vr,Xs(wr,3)):[]}var qB=uo(function(vr){return gm(Bo(vr,1,Jl,!0))}),YB=uo(function(vr){var wr=xp(vr);return Jl(wr)&&(wr=tr),gm(Bo(vr,1,Jl,!0),Xs(wr,2))}),XB=uo(function(vr){var wr=xp(vr);return wr=typeof wr=="function"?wr:tr,gm(Bo(vr,1,Jl,!0),tr,wr)});function JB(vr){return vr&&vr.length?gm(vr):[]}function ZB(vr,wr){return vr&&vr.length?gm(vr,Xs(wr,2)):[]}function eI(vr,wr){return wr=typeof wr=="function"?wr:tr,vr&&vr.length?gm(vr,tr,wr):[]}function mC(vr){if(!(vr&&vr.length))return[];var wr=0;return vr=TA(vr,function(Br){if(Jl(Br))return wr=Xl(Br.length,wr),!0}),ru(wr,function(Br){return To(vr,$a(Br))})}function dT(vr,wr){if(!(vr&&vr.length))return[];var Br=mC(vr);return wr==null?Br:To(Br,function(Kr){return au(wr,tr,Kr)})}var tI=uo(function(vr,wr){return Jl(vr)?lo(vr,wr):[]}),rI=uo(function(vr){return mp(TA(vr,Jl))}),nI=uo(function(vr){var wr=xp(vr);return Jl(wr)&&(wr=tr),mp(TA(vr,Jl),Xs(wr,2))}),sI=uo(function(vr){var wr=xp(vr);return wr=typeof wr=="function"?wr:tr,mp(TA(vr,Jl),tr,wr)}),iI=uo(mC);function aI(vr,wr){return Up(vr||[],wr||[],In)}function oI(vr,wr){return Up(vr||[],wr||[],Zm)}var lI=uo(function(vr){var wr=vr.length,Br=wr>1?vr[wr-1]:tr;return Br=typeof Br=="function"?(vr.pop(),Br):tr,dT(vr,Br)});function hT(vr){var wr=An(vr);return wr.__chain__=!0,wr}function cI(vr,wr){return wr(vr),vr}function FS(vr,wr){return wr(vr)}var uI=rx(function(vr){var wr=vr.length,Br=wr?vr[0]:0,Kr=this.__wrapped__,rn=function(gn){return Es(gn,vr)};return wr>1||this.__actions__.length||!(Kr instanceof po)||!nx(Br)?this.thru(rn):(Kr=Kr.slice(Br,+Br+(wr?1:0)),Kr.__actions__.push({func:FS,args:[rn],thisArg:tr}),new Ju(Kr,this.__chain__).thru(function(gn){return wr&&!gn.length&&gn.push(tr),gn}))});function dI(){return hT(this)}function hI(){return new Ju(this.value(),this.__chain__)}function fI(){this.__values__===tr&&(this.__values__=jT(this.value()));var vr=this.__index__>=this.__values__.length,wr=vr?tr:this.__values__[this.__index__++];return{done:vr,value:wr}}function pI(){return this}function mI(vr){for(var wr,Br=this;Br instanceof jv;){var Kr=iT(Br);Kr.__index__=0,Kr.__values__=tr,wr?rn.__wrapped__=Kr:wr=Kr;var rn=Kr;Br=Br.__wrapped__}return rn.__wrapped__=vr,wr}function gI(){var vr=this.__wrapped__;if(vr instanceof po){var wr=vr;return this.__actions__.length&&(wr=new po(this)),wr=wr.reverse(),wr.__actions__.push({func:FS,args:[pC],thisArg:tr}),new Ju(wr,this.__chain__)}return this.thru(pC)}function xI(){return pp(this.__wrapped__,this.__actions__)}var vI=SS(function(vr,wr,Br){Eo.call(vr,Br)?++vr[Br]:Ss(vr,Br,1)});function yI(vr,wr,Br){var Kr=ao(vr)?Zx:so;return Br&&_d(vr,wr,Br)&&(wr=tr),Kr(vr,Xs(wr,3))}function EI(vr,wr){var Br=ao(vr)?TA:Dl;return Br(vr,Xs(wr,3))}var wI=MR(aT),bI=MR(oT);function _I(vr,wr){return Bo(LS(vr,wr),1)}function SI(vr,wr){return Bo(LS(vr,wr),Vr)}function CI(vr,wr,Br){return Br=Br===tr?1:ho(Br),Bo(LS(vr,wr),Br)}function fT(vr,wr){var Br=ao(vr)?ou:yo;return Br(vr,Xs(wr,3))}function AT(vr,wr){var Br=ao(vr)?gv:Fo;return Br(vr,Xs(wr,3))}var jI=SS(function(vr,wr,Br){Eo.call(vr,Br)?vr[Br].push(wr):Ss(vr,Br,[wr])});function TI(vr,wr,Br,Kr){vr=yA(vr)?vr:P1(vr),Br=Br&&!Kr?ho(Br):0;var rn=vr.length;return Br<0&&(Br=Xl(rn+Br,0)),US(vr)?Br<=rn&&vr.indexOf(wr,Br)>-1:!!rn&&ds(vr,wr,Br)>-1}var PI=uo(function(vr,wr,Br){var Kr=-1,rn=typeof wr=="function",gn=yA(vr)?Kn(vr.length):[];return yo(vr,function(Pn){gn[++Kr]=rn?au(wr,Pn,Br):Ym(Pn,wr,Br)}),gn}),NI=SS(function(vr,wr,Br){Ss(vr,Br,wr)});function LS(vr,wr){var Br=ao(vr)?To:AS;return Br(vr,Xs(wr,3))}function BI(vr,wr,Br,Kr){return vr==null?[]:(ao(wr)||(wr=wr==null?[]:[wr]),Br=Kr?tr:Br,ao(Br)||(Br=Br==null?[]:[Br]),gS(vr,wr,Br))}var II=SS(function(vr,wr,Br){vr[Br?0:1].push(wr)},function(){return[[],[]]});function kI(vr,wr,Br){var Kr=ao(vr)?up:Yo,rn=arguments.length<3;return Kr(vr,Xs(wr,4),Br,rn,yo)}function FI(vr,wr,Br){var Kr=ao(vr)?xv:Yo,rn=arguments.length<3;return Kr(vr,Xs(wr,4),Br,rn,Fo)}function LI(vr,wr){var Br=ao(vr)?TA:Dl;return Br(vr,MS(Xs(wr,3)))}function OI(vr){var wr=ao(vr)?qn:b1;return wr(vr)}function DI(vr,wr,Br){(Br?_d(vr,wr,Br):wr===tr)?wr=1:wr=ho(wr);var Kr=ao(vr)?Un:yS;return Kr(vr,wr)}function MI(vr){var wr=ao(vr)?ss:wS;return wr(vr)}function $I(vr){if(vr==null)return 0;if(yA(vr))return US(vr)?Pp(vr):vr.length;var wr=Vu(vr);return wr==Rn||wr==ts?vr.size:Pv(vr).length}function HI(vr,wr,Br){var Kr=ao(vr)?Dr:bS;return Br&&_d(vr,wr,Br)&&(wr=tr),Kr(vr,Xs(wr,3))}var VI=uo(function(vr,wr){if(vr==null)return[];var Br=wr.length;return Br>1&&_d(vr,wr[0],wr[1])?wr=[]:Br>2&&_d(wr[0],wr[1],wr[2])&&(wr=[wr[0]]),gS(vr,Bo(wr,1),[])}),OS=ZE||function(){return Hl.Date.now()};function QI(vr,wr){if(typeof wr!="function")throw new su(ir);return vr=ho(vr),function(){if(--vr<1)return wr.apply(this,arguments)}}function pT(vr,wr,Br){return wr=Br?tr:wr,wr=vr&&wr==null?vr.length:wr,tx(vr,Sr,tr,tr,tr,tr,wr)}function mT(vr,wr){var Br;if(typeof wr!="function")throw new su(ir);return vr=ho(vr),function(){return--vr>0&&(Br=wr.apply(this,arguments)),vr<=1&&(wr=tr),Br}}var gC=uo(function(vr,wr,Br){var Kr=mr;if(Br.length){var rn=dp(Br,R1(gC));Kr|=Er}return tx(vr,Kr,wr,Br,rn)}),xT=uo(function(vr,wr,Br){var Kr=mr|pr;if(Br.length){var rn=dp(Br,R1(xT));Kr|=Er}return tx(wr,Kr,vr,Br,rn)});function vT(vr,wr,Br){wr=Br?tr:wr;var Kr=tx(vr,xr,tr,tr,tr,tr,tr,wr);return Kr.placeholder=vT.placeholder,Kr}function yT(vr,wr,Br){wr=Br?tr:wr;var Kr=tx(vr,yr,tr,tr,tr,tr,tr,wr);return Kr.placeholder=yT.placeholder,Kr}function ET(vr,wr,Br){var Kr,rn,gn,Pn,kn,Hn,as=0,ls=!1,As=!1,js=!0;if(typeof vr!="function")throw new su(ir);wr=vp(wr)||0,$l(Br)&&(ls=!!Br.leading,As="maxWait"in Br,gn=As?Xl(vp(Br.maxWait)||0,wr):gn,js="trailing"in Br?!!Br.trailing:js);function Hs(Zl){var Qp=Kr,ax=rn;return Kr=rn=tr,as=Zl,Pn=vr.apply(ax,Qp),Pn}function _i(Zl){return as=Zl,kn=cw(xo,wr),ls?Hs(Zl):Pn}function fo(Zl){var Qp=Zl-Hn,ax=Zl-as,$T=wr-Qp;return As?pu($T,gn-ax):$T}function na(Zl){var Qp=Zl-Hn,ax=Zl-as;return Hn===tr||Qp>=wr||Qp<0||As&&ax>=gn}function xo(){var Zl=OS();if(na(Zl))return wo(Zl);kn=cw(xo,fo(Zl))}function wo(Zl){return kn=tr,js&&Kr?Hs(Zl):(Kr=rn=tr,Pn)}function MA(){kn!==tr&&S1(kn),as=0,Kr=Hn=rn=kn=tr}function _h(){return kn===tr?Pn:wo(OS())}function $A(){var Zl=OS(),Qp=na(Zl);if(Kr=arguments,rn=this,Hn=Zl,Qp){if(kn===tr)return _i(Hn);if(As)return S1(kn),kn=cw(xo,wr),Hs(Hn)}return kn===tr&&(kn=cw(xo,wr)),Pn}return $A.cancel=MA,$A.flush=_h,$A}var WI=uo(function(vr,wr){return vo(vr,1,wr)}),GI=uo(function(vr,wr,Br){return vo(vr,vp(wr)||0,Br)});function KI(vr){return tx(vr,Pr)}function DS(vr,wr){if(typeof vr!="function"||wr!=null&&typeof wr!="function")throw new su(ir);var Br=function(){var Kr=arguments,rn=wr?wr.apply(this,Kr):Kr[0],gn=Br.cache;if(gn.has(rn))return gn.get(rn);var Pn=vr.apply(this,Kr);return Br.cache=gn.set(rn,Pn)||gn,Pn};return Br.cache=new(DS.Cache||gA),Br}DS.Cache=gA;function MS(vr){if(typeof vr!="function")throw new su(ir);return function(){var wr=arguments;switch(wr.length){case 0:return!vr.call(this);case 1:return!vr.call(this,wr[0]);case 2:return!vr.call(this,wr[0],wr[1]);case 3:return!vr.call(this,wr[0],wr[1],wr[2])}return!vr.apply(this,wr)}}function zI(vr){return mT(2,vr)}var qI=rC(function(vr,wr){wr=wr.length==1&&ao(wr[0])?To(wr[0],qo(Xs())):To(Bo(wr,1),qo(Xs()));var Br=wr.length;return uo(function(Kr){for(var rn=-1,gn=pu(Kr.length,Br);++rn<gn;)Kr[rn]=wr[rn].call(this,Kr[rn]);return au(vr,this,Kr)})}),xC=uo(function(vr,wr){var Br=dp(wr,R1(xC));return tx(vr,Er,tr,wr,Br)}),wT=uo(function(vr,wr){var Br=dp(wr,R1(wT));return tx(vr,_r,tr,wr,Br)}),YI=rx(function(vr,wr){return tx(vr,jr,tr,tr,tr,wr)});function XI(vr,wr){if(typeof vr!="function")throw new su(ir);return wr=wr===tr?wr:ho(wr),uo(vr,wr)}function JI(vr,wr){if(typeof vr!="function")throw new su(ir);return wr=wr==null?0:Xl(ho(wr),0),uo(function(Br){var Kr=Br[wr],rn=gp(Br,0,wr);return Kr&&cA(rn,Kr),au(vr,this,rn)})}function ZI(vr,wr,Br){var Kr=!0,rn=!0;if(typeof vr!="function")throw new su(ir);return $l(Br)&&(Kr="leading"in Br?!!Br.leading:Kr,rn="trailing"in Br?!!Br.trailing:rn),ET(vr,wr,{leading:Kr,maxWait:wr,trailing:rn})}function _k(vr){return pT(vr,1)}function eF(vr,wr){return xC(Fv(wr),vr)}function tF(){if(!arguments.length)return[];var vr=arguments[0];return ao(vr)?vr:[vr]}function rF(vr){return xs(vr,hr)}function nF(vr,wr){return wr=typeof wr=="function"?wr:tr,xs(vr,hr,wr)}function sF(vr){return xs(vr,ur|hr)}function iF(vr,wr){return wr=typeof wr=="function"?wr:tr,xs(vr,ur|hr,wr)}function aF(vr,wr){return wr==null||No(vr,wr,mu(wr))}function Vp(vr,wr){return vr===wr||vr!==vr&&wr!==wr}var oF=TS(Wl),lF=TS(function(vr,wr){return vr>=wr}),Dv=sw(function(){return arguments}())?sw:function(vr){return Gl(vr)&&Eo.call(vr,"callee")&&!Mu.call(vr,"callee")},ao=Kn.isArray,cF=Xx?qo(Xx):dS;function yA(vr){return vr!=null&&$S(vr.length)&&!sx(vr)}function Jl(vr){return Gl(vr)&&yA(vr)}function uF(vr){return vr===!0||vr===!1||Gl(vr)&&Jo(vr)==vn}var v0=ew||TC,dF=lm?qo(lm):m1;function hF(vr){return Gl(vr)&&vr.nodeType===1&&!uw(vr)}function fF(vr){if(vr==null)return!0;if(yA(vr)&&(ao(vr)||typeof vr=="string"||typeof vr.splice=="function"||v0(vr)||T1(vr)||Dv(vr)))return!vr.length;var wr=Vu(vr);if(wr==Rn||wr==ts)return!vr.size;if(lw(vr))return!Pv(vr).length;for(var Br in vr)if(Eo.call(vr,Br))return!1;return!0}function AF(vr,wr){return Dp(vr,wr)}function pF(vr,wr,Br){Br=typeof Br=="function"?Br:tr;var Kr=Br?Br(vr,wr):tr;return Kr===tr?Dp(vr,wr,tr,Br):!!Kr}function vC(vr){if(!Gl(vr))return!1;var wr=Jo(vr);return wr==Tn||wr==En||typeof vr.message=="string"&&typeof vr.name=="string"&&!uw(vr)}function mF(vr){return typeof vr=="number"&&sS(vr)}function sx(vr){if(!$l(vr))return!1;var wr=Jo(vr);return wr==bn||wr==Mn||wr==nn||wr==es}function bT(vr){return typeof vr=="number"&&vr==ho(vr)}function $S(vr){return typeof vr=="number"&&vr>-1&&vr%1==0&&vr<=Tr}function $l(vr){var wr=typeof vr;return vr!=null&&(wr=="object"||wr=="function")}function Gl(vr){return vr!=null&&typeof vr=="object"}var _T=c1?qo(c1):LA;function gF(vr,wr){return vr===wr||mm(vr,wr,cC(wr))}function xF(vr,wr,Br){return Br=typeof Br=="function"?Br:tr,mm(vr,wr,cC(wr),Br)}function vF(vr){return ST(vr)&&vr!=+vr}function yF(vr){if(JN(vr))throw new $s(sr);return Xm(vr)}function EF(vr){return vr===null}function wF(vr){return vr==null}function ST(vr){return typeof vr=="number"||Gl(vr)&&Jo(vr)==Nn}function uw(vr){if(!Gl(vr)||Jo(vr)!=Gn)return!1;var wr=c0(vr);if(wr===null)return!0;var Br=Eo.call(wr,"constructor")&&wr.constructor;return typeof Br=="function"&&Br instanceof Br&&kA.call(Br)==Qo}var yC=Hm?qo(Hm):hS;function bF(vr){return bT(vr)&&vr>=-Tr&&vr<=Tr}var CT=u1?qo(u1):x1;function US(vr){return typeof vr=="string"||!ao(vr)&&Gl(vr)&&Jo(vr)==fs}function DA(vr){return typeof vr=="symbol"||Gl(vr)&&Jo(vr)==vs}var T1=Jx?qo(Jx):fS;function _F(vr){return vr===tr}function SF(vr){return Gl(vr)&&Vu(vr)==Rs}function CF(vr){return Gl(vr)&&Jo(vr)==ks}var jF=TS(Jm),RF=TS(function(vr,wr){return vr<=wr});function jT(vr){if(!vr)return[];if(yA(vr))return US(vr)?Lu(vr):vA(vr);if(fm&&vr[fm])return o0(vr[fm]());var wr=Vu(vr),Br=wr==Rn?Vm:wr==ts?dm:P1;return Br(vr)}function ix(vr){if(!vr)return vr===0?vr:0;if(vr=vp(vr),vr===Vr||vr===-Vr){var wr=vr<0?-1:1;return wr*Fr}return vr===vr?vr:0}function ho(vr){var wr=ix(vr),Br=wr%1;return wr===wr?Br?wr-Br:wr:0}function RT(vr){return vr?Us(ho(vr),0,qr):0}function vp(vr){if(typeof vr=="number")return vr;if(DA(vr))return Wr;if($l(vr)){var wr=typeof vr.valueOf=="function"?vr.valueOf():vr;vr=$l(wr)?wr+"":wr}if(typeof vr!="string")return vr===0?vr:+vr;vr=uA(vr);var Br=$n.test(vr);return Br||Wn.test(vr)?a1(vr.slice(2),Br?2:8):Yn.test(vr)?Wr:+vr}function TT(vr){return xm(vr,EA(vr))}function TF(vr){return vr?Us(ho(vr),-Tr,Tr):vr===0?vr:0}function Do(vr){return vr==null?"":Hu(vr)}var PF=C1(function(vr,wr){if(lw(wr)||yA(wr)){xm(wr,mu(wr),vr);return}for(var Br in wr)Eo.call(wr,Br)&&In(vr,Br,wr[Br])}),PT=C1(function(vr,wr){xm(wr,EA(wr),vr)}),HS=C1(function(vr,wr,Br,Kr){xm(wr,EA(wr),vr,Kr)}),NF=C1(function(vr,wr,Br,Kr){xm(wr,mu(wr),vr,Kr)}),BF=rx(Es);function IF(vr,wr){var Br=m0(vr);return wr==null?Br:us(Br,wr)}var kF=uo(function(vr,wr){vr=Po(vr);var Br=-1,Kr=wr.length,rn=Kr>2?wr[2]:tr;for(rn&&_d(wr[0],wr[1],rn)&&(Kr=1);++Br<Kr;)for(var gn=wr[Br],Pn=EA(gn),kn=-1,Hn=Pn.length;++kn<Hn;){var as=Pn[kn],ls=vr[as];(ls===tr||Vp(ls,IA[as])&&!Eo.call(vr,as))&&(vr[as]=gn[as])}return vr}),FF=uo(function(vr){return vr.push(tr,GR),au(NT,tr,vr)});function OF(vr,wr){return Vn(vr,Xs(wr,3),Pl)}function DF(vr,wr){return Vn(vr,Xs(wr,3),Vl)}function MF(vr,wr){return vr==null?vr:So(vr,Xs(wr,3),EA)}function $F(vr,wr){return vr==null?vr:Uu(vr,Xs(wr,3),EA)}function UF(vr,wr){return vr&&Pl(vr,Xs(wr,3))}function HF(vr,wr){return vr&&Vl(vr,Xs(wr,3))}function VF(vr){return vr==null?[]:Ql(vr,mu(vr))}function QF(vr){return vr==null?[]:Ql(vr,EA(vr))}function EC(vr,wr,Br){var Kr=vr==null?tr:Ml(vr,wr);return Kr===tr?Br:Kr}function WF(vr,wr){return vr!=null&&qR(vr,wr,Op)}function wC(vr,wr){return vr!=null&&qR(vr,wr,qm)}var GF=UR(function(vr,wr,Br){wr!=null&&typeof wr.toString!="function"&&(wr=ko.call(wr)),vr[wr]=Br},_C(wA)),KF=UR(function(vr,wr,Br){wr!=null&&typeof wr.toString!="function"&&(wr=ko.call(wr)),Eo.call(vr,wr)?vr[wr].push(Br):vr[wr]=[Br]},Xs),zF=uo(Ym);function mu(vr){return yA(vr)?zn(vr):Pv(vr)}function EA(vr){return yA(vr)?zn(vr,!0):v1(vr)}function qF(vr,wr){var Br={};return wr=Xs(wr,3),Pl(vr,function(Kr,rn,gn){Ss(Br,wr(Kr,rn,gn),Kr)}),Br}function YF(vr,wr){var Br={};return wr=Xs(wr,3),Pl(vr,function(Kr,rn,gn){Ss(Br,rn,wr(Kr,rn,gn))}),Br}var XF=C1(function(vr,wr,Br){OA(vr,wr,Br)}),NT=C1(function(vr,wr,Br,Kr){OA(vr,wr,Br,Kr)}),JF=rx(function(vr,wr){var Br={};if(vr==null)return Br;var Kr=!1;wr=To(wr,function(gn){return gn=Hp(gn,vr),Kr||(Kr=gn.length>1),gn}),xm(vr,oC(vr),Br),Kr&&(Br=xs(Br,ur|dr|hr,$N));for(var rn=wr.length;rn--;)_g(Br,wr[rn]);return Br});function ZF(vr,wr){return BT(vr,MS(Xs(wr)))}var eL=rx(function(vr,wr){return vr==null?{}:xS(vr,wr)});function BT(vr,wr){if(vr==null)return{};var Br=To(oC(vr),function(Kr){return[Kr]});return wr=Xs(wr),Nv(vr,Br,function(Kr,rn){return wr(Kr,rn[0])})}function tL(vr,wr,Br){wr=Hp(wr,vr);var Kr=-1,rn=wr.length;for(rn||(rn=1,vr=tr);++Kr<rn;){var gn=vr==null?tr:vr[vm(wr[Kr])];gn===tr&&(Kr=rn,gn=Br),vr=sx(gn)?gn.call(vr):gn}return vr}function rL(vr,wr,Br){return vr==null?vr:Zm(vr,wr,Br)}function nL(vr,wr,Br,Kr){return Kr=typeof Kr=="function"?Kr:tr,vr==null?vr:Zm(vr,wr,Br,Kr)}var IT=QR(mu),kT=QR(EA);function sL(vr,wr,Br){var Kr=ao(vr),rn=Kr||v0(vr)||T1(vr);if(wr=Xs(wr,4),Br==null){var gn=vr&&vr.constructor;rn?Br=Kr?new gn:[]:$l(vr)?Br=sx(gn)?m0(c0(vr)):{}:Br={}}return(rn?ou:Pl)(vr,function(Pn,kn,Hn){return wr(Br,Pn,kn,Hn)}),Br}function iL(vr,wr){return vr==null?!0:_g(vr,wr)}function aL(vr,wr,Br){return vr==null?vr:_1(vr,wr,Fv(Br))}function oL(vr,wr,Br,Kr){return Kr=typeof Kr=="function"?Kr:tr,vr==null?vr:_1(vr,wr,Fv(Br),Kr)}function P1(vr){return vr==null?[]:dA(vr,mu(vr))}function lL(vr){return vr==null?[]:dA(vr,EA(vr))}function cL(vr,wr,Br){return Br===tr&&(Br=wr,wr=tr),Br!==tr&&(Br=vp(Br),Br=Br===Br?Br:0),wr!==tr&&(wr=vp(wr),wr=wr===wr?wr:0),Us(vp(vr),wr,Br)}function uL(vr,wr,Br){return wr=ix(wr),Br===tr?(Br=wr,wr=0):Br=ix(Br),vr=vp(vr),g0(vr,wr,Br)}function dL(vr,wr,Br){if(Br&&typeof Br!="boolean"&&_d(vr,wr,Br)&&(wr=Br=tr),Br===tr&&(typeof wr=="boolean"?(Br=wr,wr=tr):typeof vr=="boolean"&&(Br=vr,vr=tr)),vr===tr&&wr===tr?(vr=0,wr=1):(vr=ix(vr),wr===tr?(wr=vr,vr=0):wr=ix(wr)),vr>wr){var Kr=vr;vr=wr,wr=Kr}if(Br||vr%1||wr%1){var rn=aS();return pu(vr+rn*(wr-vr+Yx("1e-"+((rn+"").length-1))),wr)}return Iv(vr,wr)}var hL=j1(function(vr,wr,Br){return wr=wr.toLowerCase(),vr+(Br?FT(wr):wr)});function FT(vr){return bC(Do(vr).toLowerCase())}function LT(vr){return vr=Do(vr),vr&&vr.replace(gs,vv).replace(i1,"")}function fL(vr,wr,Br){vr=Do(vr),wr=Hu(wr);var Kr=vr.length;Br=Br===tr?Kr:Us(ho(Br),0,Kr);var rn=Br;return Br-=wr.length,Br>=0&&vr.slice(Br,rn)==wr}function pL(vr){return vr=Do(vr),vr&&Bs.test(vr)?vr.replace(Uo,yv):vr}function mL(vr){return vr=Do(vr),vr&&_l.test(vr)?vr.replace(wl,"\\$&"):vr}var gL=j1(function(vr,wr,Br){return vr+(Br?"-":"")+wr.toLowerCase()}),xL=j1(function(vr,wr,Br){return vr+(Br?" ":"")+wr.toLowerCase()}),vL=DR("toLowerCase");function yL(vr,wr,Br){vr=Do(vr),wr=ho(wr);var Kr=wr?Pp(vr):0;if(!wr||Kr>=wr)return vr;var rn=(wr-Kr)/2;return RS(d0(rn),Br)+vr+RS(u0(rn),Br)}function EL(vr,wr,Br){vr=Do(vr),wr=ho(wr);var Kr=wr?Pp(vr):0;return wr&&Kr<wr?vr+RS(wr-Kr,Br):vr}function wL(vr,wr,Br){vr=Do(vr),wr=ho(wr);var Kr=wr?Pp(vr):0;return wr&&Kr<wr?RS(wr-Kr,Br)+vr:vr}function bL(vr,wr,Br){return Br||wr==null?wr=0:wr&&(wr=+wr),V2(Do(vr).replace(Al,""),wr||0)}function _L(vr,wr,Br){return(Br?_d(vr,wr,Br):wr===tr)?wr=1:wr=ho(wr),w1(Do(vr),wr)}function SL(){var vr=arguments,wr=Do(vr[0]);return vr.length<3?wr:wr.replace(vr[1],vr[2])}var jL=j1(function(vr,wr,Br){return vr+(Br?"_":"")+wr.toLowerCase()});function RL(vr,wr,Br){return Br&&typeof Br!="number"&&_d(vr,wr,Br)&&(wr=Br=tr),Br=Br===tr?qr:Br>>>0,Br?(vr=Do(vr),vr&&(typeof wr=="string"||wr!=null&&!yC(wr))&&(wr=Hu(wr),!wr&&PA(vr))?gp(Lu(vr),0,Br):vr.split(wr,Br)):[]}var TL=j1(function(vr,wr,Br){return vr+(Br?" ":"")+bC(wr)});function PL(vr,wr,Br){return vr=Do(vr),Br=Br==null?0:Us(ho(Br),0,vr.length),wr=Hu(wr),vr.slice(Br,Br+wr.length)==wr}function BL(vr,wr,Br){var Kr=An.templateSettings;Br&&_d(vr,wr,Br)&&(wr=tr),vr=Do(vr),wr=HS({},wr,Kr,WR);var rn=HS({},wr.imports,Kr.imports,WR),gn=mu(rn),Pn=dA(rn,gn),kn,Hn,as=0,ls=wr.interpolate||bs,As="__p += '",js=Wm((wr.escape||bs).source+"|"+ls.source+"|"+(ls===Os?Cn:bs).source+"|"+(wr.evaluate||bs).source+"|$","g"),Hs="//# sourceURL="+(Eo.call(wr,"sourceURL")?(wr.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++XE+"]")+`
`;vr.replace(js,function(na,xo,wo,MA,_h,$A){return wo||(wo=MA),As+=vr.slice(as,$A).replace(ms,i0),xo&&(kn=!0,As+=`' +
__e(`+xo+`) +
'`),_h&&(Hn=!0,As+=`';
`+_h+`;
__p += '`),wo&&(As+=`' +
((__t = (`+wo+`)) == null ? '' : __t) +
'`),as=$A+na.length,na}),As+=`';
`;var _i=Eo.call(wr,"variable")&&wr.variable;if(!_i)As=`with (obj) {
`+As+`
}
`;else if(yn.test(_i))throw new $s(ar);As=(Hn?As.replace(eo,""):As).replace(zs,"$1").replace(Qs,"$1;"),As="function("+(_i||"obj")+`) {
`+(_i?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(kn?", __e = _.escape":"")+(Hn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+As+`return __p
}`;var fo=DT(function(){return no(gn,Hs+"return "+As).apply(tr,Pn)});if(fo.source=As,vC(fo))throw fo;return fo}function IL(vr){return Do(vr).toLowerCase()}function kL(vr){return Do(vr).toUpperCase()}function FL(vr,wr,Br){if(vr=Do(vr),vr&&(Br||wr===tr))return uA(vr);if(!vr||!(wr=Hu(wr)))return vr;var Kr=Lu(vr),rn=Lu(wr),gn=r0(Kr,rn),Pn=n0(Kr,rn)+1;return gp(Kr,gn,Pn).join("")}function LL(vr,wr,Br){if(vr=Do(vr),vr&&(Br||wr===tr))return vr.slice(0,Np(vr)+1);if(!vr||!(wr=Hu(wr)))return vr;var Kr=Lu(vr),rn=n0(Kr,Lu(wr))+1;return gp(Kr,0,rn).join("")}function OL(vr,wr,Br){if(vr=Do(vr),vr&&(Br||wr===tr))return vr.replace(Al,"");if(!vr||!(wr=Hu(wr)))return vr;var Kr=Lu(vr),rn=r0(Kr,Lu(wr));return gp(Kr,rn).join("")}function DL(vr,wr){var Br=Mr,Kr=Ir;if($l(wr)){var rn="separator"in wr?wr.separator:rn;Br="length"in wr?ho(wr.length):Br,Kr="omission"in wr?Hu(wr.omission):Kr}vr=Do(vr);var gn=vr.length;if(PA(vr)){var Pn=Lu(vr);gn=Pn.length}if(Br>=gn)return vr;var kn=Br-Pp(Kr);if(kn<1)return Kr;var Hn=Pn?gp(Pn,0,kn).join(""):vr.slice(0,kn);if(rn===tr)return Hn+Kr;if(Pn&&(kn+=Hn.length-kn),yC(rn)){if(vr.slice(kn).search(rn)){var as,ls=Hn;for(rn.global||(rn=Wm(rn.source,Do(Ln.exec(rn))+"g")),rn.lastIndex=0;as=rn.exec(ls);)var As=as.index;Hn=Hn.slice(0,As===tr?kn:As)}}else if(vr.indexOf(Hu(rn),kn)!=kn){var js=Hn.lastIndexOf(rn);js>-1&&(Hn=Hn.slice(0,js))}return Hn+Kr}function ML(vr){return vr=Do(vr),vr&&Ms.test(vr)?vr.replace(Ys,Qm):vr}var $L=j1(function(vr,wr,Br){return vr+(Br?" ":"")+wr.toUpperCase()}),bC=DR("toUpperCase");function OT(vr,wr,Br){return vr=Do(vr),wr=Br?tr:wr,wr===tr?a0(vr)?hm(vr):Bn(vr):vr.match(wr)||[]}var DT=uo(function(vr,wr){try{return au(vr,tr,wr)}catch(Br){return vC(Br)?Br:new $s(Br)}}),UL=rx(function(vr,wr){return ou(wr,function(Br){Br=vm(Br),Ss(vr,Br,gC(vr[Br],vr))}),vr});function VL(vr){var wr=vr==null?0:vr.length,Br=Xs();return vr=wr?To(vr,function(Kr){if(typeof Kr[1]!="function")throw new su(ir);return[Br(Kr[0]),Kr[1]]}):[],uo(function(Kr){for(var rn=-1;++rn<wr;){var gn=vr[rn];if(au(gn[0],this,Kr))return au(gn[1],this,Kr)}})}function QL(vr){return _o(xs(vr,ur))}function _C(vr){return function(){return vr}}function WL(vr,wr){return vr==null||vr!==vr?wr:vr}var KL=$R(),zL=$R(!0);function wA(vr){return vr}function SC(vr){return Tv(typeof vr=="function"?vr:xs(vr,ur))}function qL(vr){return pS(xs(vr,ur))}function YL(vr,wr){return y1(vr,xs(wr,ur))}var XL=uo(function(vr,wr){return function(Br){return Ym(Br,vr,wr)}}),ZL=uo(function(vr,wr){return function(Br){return Ym(vr,Br,wr)}});function CC(vr,wr,Br){var Kr=mu(wr),rn=Ql(wr,Kr);Br==null&&!($l(wr)&&(rn.length||!Kr.length))&&(Br=wr,wr=vr,vr=this,rn=Ql(wr,mu(wr)));var gn=!($l(Br)&&"chain"in Br)||!!Br.chain,Pn=sx(vr);return ou(rn,function(kn){var Hn=wr[kn];vr[kn]=Hn,Pn&&(vr.prototype[kn]=function(){var as=this.__chain__;if(gn||as){var ls=vr(this.__wrapped__),As=ls.__actions__=vA(this.__actions__);return As.push({func:Hn,args:arguments,thisArg:vr}),ls.__chain__=as,ls}return Hn.apply(vr,cA([this.value()],arguments))})}),vr}function t5(){return Hl._===this&&(Hl._=Ol),this}function jC(){}function r5(vr){return vr=ho(vr),uo(function(wr){return mS(wr,vr)})}var n5=sC(To),s5=sC(Zx),i5=sC(Dr);function MT(vr){return dC(vr)?$a(vm(vr)):vS(vr)}function a5(vr){return function(wr){return vr==null?tr:Ml(vr,wr)}}var o5=HR(),l5=HR(!0);function RC(){return[]}function TC(){return!1}function c5(){return{}}function u5(){return""}function d5(){return!0}function h5(vr,wr){if(vr=ho(vr),vr<1||vr>Tr)return[];var Br=qr,Kr=pu(vr,qr);wr=Xs(wr),vr-=qr;for(var rn=ru(Kr,wr);++Br<vr;)wr(Br);return rn}function f5(vr){return ao(vr)?To(vr,vm):DA(vr)?[vr]:vA(sT(Do(vr)))}function A5(vr){var wr=++fA;return Do(vr)+wr}var p5=jS(function(vr,wr){return vr+wr},0),m5=iC("ceil"),g5=jS(function(vr,wr){return vr/wr},1),x5=iC("floor");function v5(vr){return vr&&vr.length?xl(vr,wA,Wl):tr}function y5(vr,wr){return vr&&vr.length?xl(vr,Xs(wr,2),Wl):tr}function E5(vr){return ro(vr,wA)}function w5(vr,wr){return ro(vr,Xs(wr,2))}function b5(vr){return vr&&vr.length?xl(vr,wA,Jm):tr}function _5(vr,wr){return vr&&vr.length?xl(vr,Xs(wr,2),Jm):tr}var S5=jS(function(vr,wr){return vr*wr},1),C5=iC("round"),j5=jS(function(vr,wr){return vr-wr},0);function R5(vr){return vr&&vr.length?Tl(vr,wA):0}function T5(vr,wr){return vr&&vr.length?Tl(vr,Xs(wr,2)):0}return An.after=QI,An.ary=pT,An.assign=PF,An.assignIn=PT,An.assignInWith=HS,An.assignWith=NF,An.at=BF,An.before=mT,An.bind=gC,An.bindAll=UL,An.bindKey=xT,An.castArray=tF,An.chain=hT,An.chunk=iB,An.compact=aB,An.concat=oB,An.cond=VL,An.conforms=QL,An.constant=_C,An.countBy=vI,An.create=IF,An.curry=vT,An.curryRight=yT,An.debounce=ET,An.defaults=kF,An.defaultsDeep=FF,An.defer=WI,An.delay=GI,An.difference=lB,An.differenceBy=cB,An.differenceWith=uB,An.drop=dB,An.dropRight=hB,An.dropRightWhile=fB,An.dropWhile=AB,An.fill=pB,An.filter=EI,An.flatMap=_I,An.flatMapDeep=SI,An.flatMapDepth=CI,An.flatten=lT,An.flattenDeep=mB,An.flattenDepth=gB,An.flip=KI,An.flow=KL,An.flowRight=zL,An.fromPairs=xB,An.functions=VF,An.functionsIn=QF,An.groupBy=jI,An.initial=yB,An.intersection=wB,An.intersectionBy=bB,An.intersectionWith=_B,An.invert=GF,An.invertBy=KF,An.invokeMap=PI,An.iteratee=SC,An.keyBy=NI,An.keys=mu,An.keysIn=EA,An.map=LS,An.mapKeys=qF,An.mapValues=YF,An.matches=qL,An.matchesProperty=YL,An.memoize=DS,An.merge=XF,An.mergeWith=NT,An.method=XL,An.methodOf=ZL,An.mixin=CC,An.negate=MS,An.nthArg=r5,An.omit=JF,An.omitBy=ZF,An.once=zI,An.orderBy=BI,An.over=n5,An.overArgs=qI,An.overEvery=s5,An.overSome=i5,An.partial=xC,An.partialRight=wT,An.partition=II,An.pick=eL,An.pickBy=BT,An.property=MT,An.propertyOf=a5,An.pull=TB,An.pullAll=uT,An.pullAllBy=PB,An.pullAllWith=NB,An.pullAt=IB,An.range=o5,An.rangeRight=l5,An.rearg=YI,An.reject=LI,An.remove=kB,An.rest=XI,An.reverse=pC,An.sampleSize=DI,An.set=rL,An.setWith=nL,An.shuffle=MI,An.slice=FB,An.sortBy=VI,An.sortedUniq=HB,An.sortedUniqBy=VB,An.split=RL,An.spread=JI,An.tail=QB,An.take=WB,An.takeRight=GB,An.takeRightWhile=KB,An.takeWhile=zB,An.tap=cI,An.throttle=ZI,An.thru=FS,An.toArray=jT,An.toPairs=IT,An.toPairsIn=kT,An.toPath=f5,An.toPlainObject=TT,An.transform=sL,An.unary=_k,An.union=qB,An.unionBy=YB,An.unionWith=XB,An.uniq=JB,An.uniqBy=ZB,An.uniqWith=eI,An.unset=iL,An.unzip=mC,An.unzipWith=dT,An.update=aL,An.updateWith=oL,An.values=P1,An.valuesIn=lL,An.without=tI,An.words=OT,An.wrap=eF,An.xor=rI,An.xorBy=nI,An.xorWith=sI,An.zip=iI,An.zipObject=aI,An.zipObjectDeep=oI,An.zipWith=lI,An.entries=IT,An.entriesIn=kT,An.extend=PT,An.extendWith=HS,CC(An,An),An.add=p5,An.attempt=DT,An.camelCase=hL,An.capitalize=FT,An.ceil=m5,An.clamp=cL,An.clone=rF,An.cloneDeep=sF,An.cloneDeepWith=iF,An.cloneWith=nF,An.conformsTo=aF,An.deburr=LT,An.defaultTo=WL,An.divide=g5,An.endsWith=fL,An.eq=Vp,An.escape=pL,An.escapeRegExp=mL,An.every=yI,An.find=wI,An.findIndex=aT,An.findKey=OF,An.findLast=bI,An.findLastIndex=oT,An.findLastKey=DF,An.floor=x5,An.forEach=fT,An.forEachRight=AT,An.forIn=MF,An.forInRight=$F,An.forOwn=UF,An.forOwnRight=HF,An.get=EC,An.gt=oF,An.gte=lF,An.has=WF,An.hasIn=wC,An.head=cT,An.identity=wA,An.includes=TI,An.indexOf=vB,An.inRange=uL,An.invoke=zF,An.isArguments=Dv,An.isArray=ao,An.isArrayBuffer=cF,An.isArrayLike=yA,An.isArrayLikeObject=Jl,An.isBoolean=uF,An.isBuffer=v0,An.isDate=dF,An.isElement=hF,An.isEmpty=fF,An.isEqual=AF,An.isEqualWith=pF,An.isError=vC,An.isFinite=mF,An.isFunction=sx,An.isInteger=bT,An.isLength=$S,An.isMap=_T,An.isMatch=gF,An.isMatchWith=xF,An.isNaN=vF,An.isNative=yF,An.isNil=wF,An.isNull=EF,An.isNumber=ST,An.isObject=$l,An.isObjectLike=Gl,An.isPlainObject=uw,An.isRegExp=yC,An.isSafeInteger=bF,An.isSet=CT,An.isString=US,An.isSymbol=DA,An.isTypedArray=T1,An.isUndefined=_F,An.isWeakMap=SF,An.isWeakSet=CF,An.join=SB,An.kebabCase=gL,An.last=xp,An.lastIndexOf=jB,An.lowerCase=xL,An.lowerFirst=vL,An.lt=jF,An.lte=RF,An.max=v5,An.maxBy=y5,An.mean=E5,An.meanBy=w5,An.min=b5,An.minBy=_5,An.stubArray=RC,An.stubFalse=TC,An.stubObject=c5,An.stubString=u5,An.stubTrue=d5,An.multiply=S5,An.nth=RB,An.noConflict=t5,An.noop=jC,An.now=OS,An.pad=yL,An.padEnd=EL,An.padStart=wL,An.parseInt=bL,An.random=dL,An.reduce=kI,An.reduceRight=FI,An.repeat=_L,An.replace=SL,An.result=tL,An.round=C5,An.runInContext=Dn,An.sample=OI,An.size=$I,An.snakeCase=jL,An.some=HI,An.sortedIndex=LB,An.sortedIndexBy=OB,An.sortedIndexOf=DB,An.sortedLastIndex=MB,An.sortedLastIndexBy=$B,An.sortedLastIndexOf=UB,An.startCase=TL,An.startsWith=PL,An.subtract=j5,An.sum=R5,An.sumBy=T5,An.template=BL,An.times=h5,An.toFinite=ix,An.toInteger=ho,An.toLength=RT,An.toLower=IL,An.toNumber=vp,An.toSafeInteger=TF,An.toString=Do,An.toUpper=kL,An.trim=FL,An.trimEnd=LL,An.trimStart=OL,An.truncate=DL,An.unescape=ML,An.uniqueId=A5,An.upperCase=$L,An.upperFirst=bC,An.each=fT,An.eachRight=AT,An.first=cT,CC(An,function(){var vr={};return Pl(An,function(wr,Br){Eo.call(An.prototype,Br)||(vr[Br]=wr)}),vr}(),{chain:!1}),An.VERSION=rr,ou(["bind","bindKey","curry","curryRight","partial","partialRight"],function(vr){An[vr].placeholder=An}),ou(["drop","take"],function(vr,wr){po.prototype[vr]=function(Br){Br=Br===tr?1:Xl(ho(Br),0);var Kr=this.__filtered__&&!wr?new po(this):this.clone();return Kr.__filtered__?Kr.__takeCount__=pu(Br,Kr.__takeCount__):Kr.__views__.push({size:pu(Br,qr),type:vr+(Kr.__dir__<0?"Right":"")}),Kr},po.prototype[vr+"Right"]=function(Br){return this.reverse()[vr](Br).reverse()}}),ou(["filter","map","takeWhile"],function(vr,wr){var Br=wr+1,Kr=Br==Yr||Br==$r;po.prototype[vr]=function(rn){var gn=this.clone();return gn.__iteratees__.push({iteratee:Xs(rn,3),type:Br}),gn.__filtered__=gn.__filtered__||Kr,gn}}),ou(["head","last"],function(vr,wr){var Br="take"+(wr?"Right":"");po.prototype[vr]=function(){return this[Br](1).value()[0]}}),ou(["initial","tail"],function(vr,wr){var Br="drop"+(wr?"":"Right");po.prototype[vr]=function(){return this.__filtered__?new po(this):this[Br](1)}}),po.prototype.compact=function(){return this.filter(wA)},po.prototype.find=function(vr){return this.filter(vr).head()},po.prototype.findLast=function(vr){return this.reverse().find(vr)},po.prototype.invokeMap=uo(function(vr,wr){return typeof vr=="function"?new po(this):this.map(function(Br){return Ym(Br,vr,wr)})}),po.prototype.reject=function(vr){return this.filter(MS(Xs(vr)))},po.prototype.slice=function(vr,wr){vr=ho(vr);var Br=this;return Br.__filtered__&&(vr>0||wr<0)?new po(Br):(vr<0?Br=Br.takeRight(-vr):vr&&(Br=Br.drop(vr)),wr!==tr&&(wr=ho(wr),Br=wr<0?Br.dropRight(-wr):Br.take(wr-vr)),Br)},po.prototype.takeRightWhile=function(vr){return this.reverse().takeWhile(vr).reverse()},po.prototype.toArray=function(){return this.take(qr)},Pl(po.prototype,function(vr,wr){var Br=/^(?:filter|find|map|reject)|While$/.test(wr),Kr=/^(?:head|last)$/.test(wr),rn=An[Kr?"take"+(wr=="last"?"Right":""):wr],gn=Kr||/^find/.test(wr);rn&&(An.prototype[wr]=function(){var Pn=this.__wrapped__,kn=Kr?[1]:arguments,Hn=Pn instanceof po,as=kn[0],ls=Hn||ao(Pn),As=function(xo){var wo=rn.apply(An,cA([xo],kn));return Kr&&js?wo[0]:wo};ls&&Br&&typeof as=="function"&&as.length!=1&&(Hn=ls=!1);var js=this.__chain__,Hs=!!this.__actions__.length,_i=gn&&!js,fo=Hn&&!Hs;if(!gn&&ls){Pn=fo?Pn:new po(this);var na=vr.apply(Pn,kn);return na.__actions__.push({func:FS,args:[As],thisArg:tr}),new Ju(na,js)}return _i&&fo?vr.apply(this,kn):(na=this.thru(As),_i?Kr?na.value()[0]:na.value():na)})}),ou(["pop","push","shift","sort","splice","unshift"],function(vr){var wr=NA[vr],Br=/^(?:push|sort|unshift)$/.test(vr)?"tap":"thru",Kr=/^(?:pop|shift)$/.test(vr);An.prototype[vr]=function(){var rn=arguments;if(Kr&&!this.__chain__){var gn=this.value();return wr.apply(ao(gn)?gn:[],rn)}return this[Br](function(Pn){return wr.apply(ao(Pn)?Pn:[],rn)})}}),Pl(po.prototype,function(vr,wr){var Br=An[wr];if(Br){var Kr=Br.name+"";Eo.call(p0,Kr)||(p0[Kr]=[]),p0[Kr].push({name:wr,func:Br})}}),p0[CS(tr,pr).name]=[{name:"wrapper",func:tr}],po.prototype.clone=oS,po.prototype.reverse=G2,po.prototype.value=p1,An.prototype.at=uI,An.prototype.chain=dI,An.prototype.commit=hI,An.prototype.next=fI,An.prototype.plant=mI,An.prototype.reverse=gI,An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=xI,An.prototype.first=An.prototype.head,fm&&(An.prototype[fm]=pI),An},Du=Bp();bu?((bu.exports=Du)._=Du,lA._=Du):Hl._=Du}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const ProviderPatientSearch=()=>{const{userId:er}=useUser(),[St,tr]=reactExports.useState(""),[rr,nr]=reactExports.useState([]),[sr,ir]=reactExports.useState(!1),[ar,or]=reactExports.useState({hasAppointmentToday:!1,hasHighRisk:!1,hasUnreviewedLabs:!1}),[lr,cr]=reactExports.useState([]),[ur,dr]=reactExports.useState([]);reactExports.useEffect(()=>{er&&(hr(),Ar())},[er]),reactExports.useEffect(()=>{St||Object.values(ar).some(xr=>xr)?pr():nr([])},[St,ar]);const hr=async()=>{try{const{data:xr,error:yr}=await supabase.from("appointments").select(`
          patient_id,
          patient:patients(
            id,
            user:auth.users(
              email,
              user_metadata
            ),
            profile:patient_profiles(
              date_of_birth,
              chronic_conditions
            )
          )
        `).eq("provider_id",er).eq("status","completed").order("appointment_date",{ascending:!1}).limit(5);if(yr)throw yr;const Er=Array.from(new Map((xr==null?void 0:xr.map(Sr=>[Sr.patient_id,Sr.patient]))||[]).values()),_r=await Promise.all(Er.map(async Sr=>await fr(Sr.id)));cr(_r.filter(Sr=>Sr!==null))}catch(xr){console.error("Failed to load recent patients:",xr)}},Ar=async()=>{try{const{data:xr,error:yr}=await supabase.from("patient_profiles").select("chronic_conditions");if(yr)throw yr;const Er=(xr==null?void 0:xr.flatMap(Sr=>Sr.chronic_conditions||[]))||[],_r=Array.from(new Set(Er));dr(_r.slice(0,10))}catch(xr){console.error("Failed to load conditions:",xr)}},fr=async xr=>{var yr,Er,_r,Sr,jr,Pr,Mr,Ir,Lr;try{const{data:Qr,error:Yr}=await supabase.from("patients").select(`
          *,
          user:auth.users(
            email,
            user_metadata
          ),
          profile:patient_profiles(
            date_of_birth,
            chronic_conditions
          )
        `).eq("id",xr).single();if(Yr)throw Yr;const{data:Gr}=await supabase.from("appointments").select("*").eq("patient_id",xr).order("appointment_date",{ascending:!1}),{count:$r}=await supabase.from("medications").select("*",{count:"exact",head:!0}).eq("patient_id",xr).eq("is_active",!0),{data:Vr}=await supabase.from("vitals").select("*").eq("patient_id",xr).order("recorded_at",{ascending:!1}).limit(1).single(),{data:Tr}=await supabase.from("patient_risk_flags").select("severity").eq("patient_id",xr).eq("is_active",!0),{count:Fr}=await supabase.from("lab_results").select("*",{count:"exact",head:!0}).eq("patient_id",xr).is("review.status",null),Wr=new Date(((yr=Qr.profile)==null?void 0:yr.date_of_birth)||""),qr=new Date().getFullYear()-Wr.getFullYear(),Rr=(Gr==null?void 0:Gr.filter(nn=>nn.status==="completed"))||[],Or=(Gr==null?void 0:Gr.filter(nn=>nn.status==="scheduled"&&new Date(nn.appointment_date)>new Date))||[],Hr=(Tr==null?void 0:Tr.filter(nn=>nn.severity==="high").length)||0,zr=(Tr==null?void 0:Tr.filter(nn=>nn.severity==="medium").length)||0,Zr=Hr>0?"high":zr>0?"medium":"low";return{id:Qr.id,name:((_r=(Er=Qr.user)==null?void 0:Er.user_metadata)==null?void 0:_r.full_name)||"Unknown Patient",email:((Sr=Qr.user)==null?void 0:Sr.email)||"",phone:(Pr=(jr=Qr.user)==null?void 0:jr.user_metadata)==null?void 0:Pr.phone,age:qr,lastVisit:(Mr=Rr[0])==null?void 0:Mr.appointment_date,nextAppointment:(Ir=Or[0])==null?void 0:Ir.appointment_date,primaryConditions:((Lr=Qr.profile)==null?void 0:Lr.chronic_conditions)||[],activeMedications:$r||0,riskScore:Zr,recentVitals:Vr?{bloodPressure:`${Vr.blood_pressure_systolic}/${Vr.blood_pressure_diastolic}`,heartRate:Vr.heart_rate,lastRecorded:Vr.recorded_at}:void 0,hasUnreviewedLabs:(Fr||0)>0,complianceScore:Rr.length>0?85:0}}catch(Qr){return console.error("Failed to format patient data:",Qr),null}},mr=async()=>{ir(!0);try{let xr=[];if(St){const{data:_r}=await supabase.from("auth.users").select("id").or(`email.ilike.%${St}%,raw_user_meta_data->>full_name.ilike.%${St}%`),Sr=(_r==null?void 0:_r.map(jr=>jr.id))||[];if(Sr.length>0){const{data:jr}=await supabase.from("patients").select("id").in("user_id",Sr);xr=(jr==null?void 0:jr.map(Pr=>Pr.id))||[]}}else{const{data:_r}=await supabase.from("appointments").select("patient_id").eq("provider_id",er);xr=Array.from(new Set((_r==null?void 0:_r.map(Sr=>Sr.patient_id))||[]))}let Er=(await Promise.all(xr.slice(0,20).map(_r=>fr(_r)))).filter(_r=>_r!==null);if(ar.hasAppointmentToday){const _r=new Date().toDateString();Er=Er.filter(Sr=>Sr.nextAppointment&&new Date(Sr.nextAppointment).toDateString()===_r)}ar.hasHighRisk&&(Er=Er.filter(_r=>_r.riskScore==="high")),ar.hasUnreviewedLabs&&(Er=Er.filter(_r=>_r.hasUnreviewedLabs)),ar.condition&&(Er=Er.filter(_r=>_r.primaryConditions.includes(ar.condition))),nr(Er)}catch(xr){console.error("Failed to search patients:",xr)}finally{ir(!1)}},pr=reactExports.useCallback(lodashExports.debounce(mr,300),[St,ar,er]),gr=xr=>{window.location.href=`/provider/patient/${xr}/overview`};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-5 h-5 text-primary"})," Patient Search"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search by name, email, or condition...",value:St,onChange:xr=>tr(xr.target.value),className:"pl-9"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:ar.hasAppointmentToday?"default":"outline",size:"sm",onClick:()=>or({...ar,hasAppointmentToday:!ar.hasAppointmentToday}),children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 mr-1"}),"Today's Appointments"]}),jsxRuntimeExports.jsxs(Button$1,{variant:ar.hasHighRisk?"default":"outline",size:"sm",onClick:()=>or({...ar,hasHighRisk:!ar.hasHighRisk}),children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 mr-1"}),"High Risk"]}),jsxRuntimeExports.jsxs(Button$1,{variant:ar.hasUnreviewedLabs?"default":"outline",size:"sm",onClick:()=>or({...ar,hasUnreviewedLabs:!ar.hasUnreviewedLabs}),children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4 mr-1"}),"Unreviewed Labs"]})]}),ur.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Filter by condition:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:ur.map(xr=>jsxRuntimeExports.jsx(Badge,{variant:ar.condition===xr?"default":"outline",className:"cursor-pointer",onClick:()=>or({...ar,condition:ar.condition===xr?void 0:xr}),children:xr},xr))})]})]}),sr?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-gray-400"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[!St&&rr.length===0&&lr.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Recent Patients"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:lr.map(xr=>jsxRuntimeExports.jsx(PatientCard,{patient:xr,onClick:()=>gr(xr.id)},xr.id))})]}),rr.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Found ",rr.length," patient",rr.length!==1?"s":""]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:jsxRuntimeExports.jsx(AnimatePresence,{children:rr.map(xr=>jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:jsxRuntimeExports.jsx(PatientCard,{patient:xr,onClick:()=>gr(xr.id)})},xr.id))})})]}),St&&rr.length===0&&!sr&&jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No patients found matching your search"})]})]})]})},PatientCard=({patient:er,onClick:St})=>{const tr=rr=>{switch(rr){case"high":return jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"text-xs",children:"High Risk"});case"medium":return jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"Medium Risk"});default:return null}};return jsxRuntimeExports.jsx(Card,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:St,children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-800",children:er.name}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",er.age," years"]}),tr(er.riskScore),er.hasUnreviewedLabs&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs bg-yellow-50",children:"Labs Pending"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),er.email]}),er.phone&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Phone,{className:"w-3 h-3"}),er.phone]})]}),er.primaryConditions.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[er.primaryConditions.slice(0,3).map((rr,nr)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:rr},nr)),er.primaryConditions.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:["+",er.primaryConditions.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[er.lastVisit&&jsxRuntimeExports.jsxs("span",{className:"text-gray-600",children:["Last visit: ",new Date(er.lastVisit).toLocaleDateString()]}),er.nextAppointment&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600 font-medium",children:["Next: ",new Date(er.nextAppointment).toLocaleDateString()]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600",children:[jsxRuntimeExports.jsx(Pill,{className:"w-3 h-3 inline mr-1"}),er.activeMedications," active meds"]})]}),er.recentVitals&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Heart,{className:"w-3 h-3"}),"BP: ",er.recentVitals.bloodPressure]}),jsxRuntimeExports.jsxs("span",{children:["HR: ",er.recentVitals.heartRate]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 inline mr-1"}),new Date(er.recentVitals.lastRecorded).toLocaleDateString()]})]})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-gray-400"})]})})};function ProviderPatientsPage(){return jsxRuntimeExports.jsx(ProviderLayout$1,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Patients"}),jsxRuntimeExports.jsx(ProviderPatientSearch,{})]})})}const SOAPSummaryViewer=()=>{const{userId:er}=useUser(),[St,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(!0),[sr,ir]=reactExports.useState(""),[ar,or]=reactExports.useState("all"),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState({total:0,thisWeek:0,needsFollowUp:0,finalized:0});reactExports.useEffect(()=>{er&&(hr(),Ar())},[er,ar]);const hr=async()=>{nr(!0);try{let pr=supabase.from("soap_notes").select(`
          *,
          patient:patients(
            id,
            user:auth.users(
              user_metadata
            )
          ),
          appointment:appointments(
            chief_complaint,
            appointment_date
          ),
          vitals:vitals(
            blood_pressure_systolic,
            blood_pressure_diastolic,
            heart_rate,
            temperature,
            weight,
            height
          )
        `).eq("provider_id",er).order("created_at",{ascending:!1});if(ar!=="all"){const _r=new Date;let Sr=new Date;switch(ar){case"today":Sr.setHours(0,0,0,0);break;case"week":Sr.setDate(_r.getDate()-7);break;case"month":Sr.setMonth(_r.getMonth()-1);break}pr=pr.gte("created_at",Sr.toISOString())}const{data:gr,error:xr}=await pr;if(xr)throw xr;const yr=(gr||[]).map(_r=>{var Sr,jr,Pr,Mr,Ir;return{..._r,patient_name:((Pr=(jr=(Sr=_r.patient)==null?void 0:Sr.user)==null?void 0:jr.user_metadata)==null?void 0:Pr.full_name)||"Unknown Patient",chief_complaint:(Mr=_r.appointment)==null?void 0:Mr.chief_complaint,vitals:(Ir=_r.vitals)!=null&&Ir[0]?{blood_pressure:`${_r.vitals[0].blood_pressure_systolic}/${_r.vitals[0].blood_pressure_diastolic}`,heart_rate:_r.vitals[0].heart_rate,temperature:_r.vitals[0].temperature,weight:_r.vitals[0].weight,height:_r.vitals[0].height}:void 0}});tr(yr);const Er=new Date;Er.setDate(Er.getDate()-7),dr({total:yr.length,thisWeek:yr.filter(_r=>new Date(_r.created_at)>Er).length,needsFollowUp:yr.filter(_r=>_r.follow_up_date).length,finalized:yr.filter(_r=>_r.is_finalized).length})}catch(pr){console.error("Failed to load SOAP notes:",pr)}finally{nr(!1)}},Ar=()=>{const pr=supabase.channel(`provider-soap-notes:${er}`).on("postgres_changes",{event:"*",schema:"public",table:"soap_notes",filter:`provider_id=eq.${er}`},()=>{hr()}).subscribe();return()=>{pr.unsubscribe()}},fr=async pr=>{try{const{data:gr,error:xr}=await supabase.functions.invoke("generate-soap-pdf",{body:{noteId:pr}});if(xr)throw xr;const yr=new Blob([gr.pdf],{type:"application/pdf"}),Er=window.URL.createObjectURL(yr),_r=document.createElement("a");_r.href=Er,_r.download=`soap-note-${pr}.pdf`,_r.click(),window.URL.revokeObjectURL(Er)}catch(gr){console.error("Failed to download SOAP note:",gr),alert("Failed to download SOAP note. Please try again.")}},mr=St.filter(pr=>{var xr,yr;if(!sr)return!0;const gr=sr.toLowerCase();return pr.patient_name.toLowerCase().includes(gr)||((xr=pr.chief_complaint)==null?void 0:xr.toLowerCase().includes(gr))||pr.assessment.toLowerCase().includes(gr)||((yr=pr.diagnosis_codes)==null?void 0:yr.some(Er=>Er.toLowerCase().includes(gr)))});return rr?jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-gray-400"})})}):jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-primary"})," SOAP Notes"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>window.location.href="/provider/soap/new",children:[jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4 mr-2"}),"New Note"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-800",children:ur.total}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Notes"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ur.thisWeek}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"This Week"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ur.needsFollowUp}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Follow-ups"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:ur.finalized}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Finalized"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search patient, diagnosis, or chief complaint...",value:sr,onChange:pr=>ir(pr.target.value),className:"pl-9"})]}),jsxRuntimeExports.jsxs("select",{className:"border rounded-lg px-3 py-2 text-sm",value:ar,onChange:pr=>or(pr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"})]})]}),mr.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:sr?"No notes match your search":"No SOAP notes yet"})]}):jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:jsxRuntimeExports.jsx(AnimatePresence,{children:mr.map(pr=>jsxRuntimeExports.jsxs(motion$1.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white border rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>cr(lr===pr.id?null:pr.id),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:pr.patient_name}),pr.is_finalized&&jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"Finalized"}),pr.follow_up_date&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Follow-up needed"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-3 h-3"}),new Date(pr.created_at).toLocaleDateString()]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),new Date(pr.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",children:lr===pr.id?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]}),pr.chief_complaint&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Chief Complaint:"})," ",pr.chief_complaint]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Assessment:"})," ",pr.assessment]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:lr===pr.id&&jsxRuntimeExports.jsx(motion$1.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[pr.vitals&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm text-gray-700 mb-2",children:"Vitals"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[pr.vitals.blood_pressure&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"BP"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[pr.vitals.blood_pressure," mmHg"]})]}),pr.vitals.heart_rate&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"HR"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[pr.vitals.heart_rate," bpm"]})]}),pr.vitals.temperature&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Temp"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[pr.vitals.temperature,"F"]})]}),pr.vitals.weight&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Weight"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[pr.vitals.weight," lbs"]})]}),pr.vitals.height&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Height"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[pr.vitals.height," in"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"Subjective"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap",children:pr.subjective})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"Objective"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap",children:pr.objective})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"Assessment"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap",children:pr.assessment})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"Plan"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap",children:pr.plan})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[pr.diagnosis_codes&&pr.diagnosis_codes.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-700",children:"Diagnosis Codes"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:pr.diagnosis_codes.map((gr,xr)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:gr},xr))})]}),pr.medications_prescribed&&pr.medications_prescribed.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-700",children:"Medications Prescribed"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-600 mt-1",children:pr.medications_prescribed.map((gr,xr)=>jsxRuntimeExports.jsx("li",{children:gr},xr))})]}),pr.labs_ordered&&pr.labs_ordered.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-700",children:"Labs Ordered"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-600 mt-1",children:pr.labs_ordered.map((gr,xr)=>jsxRuntimeExports.jsx("li",{children:gr},xr))})]}),pr.follow_up_date&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-700",children:"Follow-up"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 mt-1",children:[new Date(pr.follow_up_date).toLocaleDateString(),pr.follow_up_instructions&&jsxRuntimeExports.jsx("span",{className:"block text-xs mt-1",children:pr.follow_up_instructions})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:gr=>{gr.stopPropagation(),window.location.href=`/provider/soap/${pr.id}/edit`},children:[jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4 mr-1"}),"Edit"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:gr=>{gr.stopPropagation(),fr(pr.id)},children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),"Download PDF"]})]})]})})})]},pr.id))})})]})},ProviderSOAPPage=()=>jsxRuntimeExports.jsxs(ProviderLayout$1,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"SOAP Notes"})}),jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-5xl mx-auto p-6 space-y-8","aria-label":"SOAP Note Viewer",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOAP Notes"}),jsxRuntimeExports.jsx(SOAPSummaryViewer,{})]})]});function LabReview(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0);reactExports.useEffect(()=>{nr()},[]);async function nr(){try{const{data:ar}=await supabase.from("lab_results").select("*").eq("reviewed",!1).order("date",{descending:!0});St(ar||[])}catch(ar){console.error("Error loading labs:",ar)}finally{rr(!1)}}async function sr(ar){try{const{error:or}=await supabase.from("lab_results").update({reviewed:!0}).eq("id",ar);if(!or){St(er.filter(cr=>cr.id!==ar));const lr=er.find(cr=>cr.id===ar);lr&&await supabase.from("patient_timeline_events").insert({patient_id:lr.patient_id,type:"lab",label:`Lab Review: ${lr.panel}`,data:{lab_id:ar,reviewed_by:"provider",reviewed_at:new Date}})}}catch(or){console.error("Error marking lab as reviewed:",or),alert("Failed to mark as reviewed")}}async function ir(ar){const or=await fetch("/functions/v1/explain-lab",{method:"POST",body:JSON.stringify({panel:ar.panel,results:ar.results}),headers:{"Content-Type":"application/json"}}),{summary:lr}=await or.json();alert(lr)}return tr?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-screen-lg mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading labs for review..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" Lab Review Queue"}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-lg px-3 py-1",children:[er.length," Pending Review"]})]}),er.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:" All labs have been reviewed!"})})}):er.map((ar,or)=>jsxRuntimeExports.jsx(Card,{title:`${ar.panel}  ${ar.date}`,children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Patient ID: ",ar.patient_id]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Needs Review"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Test"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Reference"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Flag"})]})}),jsxRuntimeExports.jsx("tbody",{children:(ar.results||[]).map((lr,cr)=>{const ur=lr.flag==="high"||lr.flag==="low"||lr.abnormal;return jsxRuntimeExports.jsxs("tr",{className:`border-b ${ur?"bg-red-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:lr.name}),jsxRuntimeExports.jsxs("td",{className:"font-medium",children:[lr.value," ",lr.unit]}),jsxRuntimeExports.jsx("td",{className:"text-gray-500",children:lr.reference}),jsxRuntimeExports.jsx("td",{children:ur&&jsxRuntimeExports.jsx("span",{className:"text-red-600 font-medium",children:lr.flag||"Abnormal"})})]},cr)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button$1,{onClick:()=>sr(ar.id),className:"bg-green-600 hover:bg-green-700",children:" Mark Reviewed"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>ir(ar),variant:"outline",children:" AI Explanation"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>window.location.href=`/provider/patient/${ar.patient_id}`,variant:"outline",children:"View Patient"})]})]})},or))]})}const ProviderVideoVisitPage=()=>jsxRuntimeExports.jsxs(ProviderLayout,{children:[jsxRuntimeExports.jsx(Head,{children:jsxRuntimeExports.jsx("title",{children:"Telehealth Session"})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"max-w-6xl mx-auto p-6 space-y-6","aria-label":"Telehealth Video Visit",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Telehealth Session"}),jsxRuntimeExports.jsx(ProviderCameraPanel,{})]})]});function ProviderMessages(){var yr;const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(null),[nr,sr]=reactExports.useState([]),[ir,ar]=reactExports.useState(""),[or,lr]=reactExports.useState(!0),[cr,ur]=reactExports.useState(!1),dr=reactExports.useRef(null);reactExports.useEffect(()=>{Ar()},[]),reactExports.useEffect(()=>{tr&&fr(tr.id)},[tr]),reactExports.useEffect(()=>{hr(),mr()},[nr]);const hr=()=>{var Er;(Er=dr.current)==null||Er.scrollIntoView({behavior:"smooth"})};async function Ar(){try{const{data:{user:Er}}=await supabase.auth.getUser();if(!Er)return;const{data:_r}=await supabase.from("message_threads").select("*").eq("provider_id",Er.id);if(_r){const Sr=await Promise.all(_r.map(async jr=>{const{data:Pr}=await supabase.from("messages").select("*").eq("thread_id",jr.id).order("created_at",{ascending:!1}).limit(1).single(),{count:Mr}=await supabase.from("messages").select("*",{count:"exact",head:!0}).eq("thread_id",jr.id).eq("recipient_id",Er.id).eq("seen",!1);return{...jr,last_message:Pr,unread_count:Mr||0}}));St(Sr)}}catch(Er){console.error("Error loading threads:",Er)}finally{lr(!1)}}async function fr(Er){const{data:_r}=await supabase.from("messages").select("*").eq("thread_id",Er).order("created_at");sr(_r||[])}async function mr(){if(!tr||nr.length===0)return;const{data:{user:Er}}=await supabase.auth.getUser();Er&&(await supabase.from("messages").update({seen:!0}).eq("thread_id",tr.id).eq("recipient_id",Er.id).eq("seen",!1),St(er.map(_r=>_r.id===tr.id?{..._r,unread_count:0}:_r)))}async function pr(){if(!(!ir.trim()||!tr)){ur(!0);try{const{data:{user:Er}}=await supabase.auth.getUser();if(!Er)return;const _r={sender_id:Er.id,recipient_id:tr.patient_id,thread_id:tr.id,message:ir.trim()},{data:Sr,error:jr}=await supabase.from("messages").insert(_r).select().single();!jr&&Sr&&(sr([...nr,Sr]),ar(""),St(er.map(Pr=>Pr.id===tr.id?{...Pr,last_message:Sr}:Pr)))}catch(Er){console.error("Error sending message:",Er)}finally{ur(!1)}}}const gr=Er=>{Er.key==="Enter"&&!Er.shiftKey&&(Er.preventDefault(),pr())},xr=Er=>{const _r=new Date(Er),jr=new Date().getTime()-_r.getTime(),Pr=Math.floor(jr/6e4),Mr=Math.floor(jr/36e5),Ir=Math.floor(jr/864e5);return Pr<1?"Just now":Pr<60?`${Pr}m ago`:Mr<24?`${Mr}h ago`:Ir<7?`${Ir}d ago`:_r.toLocaleDateString()};return or?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-screen-xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading messages..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Messages"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-1",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsx("h2",{className:"font-semibold",children:"Conversations"})}),jsxRuntimeExports.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:er.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet"}):er.map(Er=>{var _r;return jsxRuntimeExports.jsx("div",{onClick:()=>rr(Er),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(tr==null?void 0:tr.id)===Er.id?"bg-blue-50":""}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"h-5 w-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:(_r=Er.patient)==null?void 0:_r.full_name}),Er.unread_count>0&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"text-xs",children:Er.unread_count})]}),Er.last_message&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 truncate",children:Er.last_message.message})]})]}),Er.last_message&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:xr(Er.last_message.created_at)})]})},Er.id)})})]})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:tr?jsxRuntimeExports.jsxs(Card,{className:"h-[600px] flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"h-5 w-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:(yr=tr.patient)==null?void 0:yr.full_name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Patient"})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[nr.map(Er=>{const{data:{user:_r}}=supabase.auth.getUser(),Sr=Er.sender_id===(_r==null?void 0:_r.id);return jsxRuntimeExports.jsx("div",{className:`flex ${Sr?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Sr?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:Er.message}),jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 mt-1 ${Sr?"text-blue-100":"text-gray-500"}`,children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:new Date(Er.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Sr&&Er.seen&&jsxRuntimeExports.jsx("span",{className:"text-xs ml-1",children:""})]})]})},Er.id)}),jsxRuntimeExports.jsx("div",{ref:dr})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:ir,onChange:Er=>ar(Er.target.value),onKeyPress:gr,placeholder:"Type your message...",disabled:cr}),jsxRuntimeExports.jsx(Button$1,{onClick:pr,disabled:cr||!ir.trim(),children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]})})]}):jsxRuntimeExports.jsx(Card,{className:"h-[600px] flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Select a conversation to view messages"})]})})})]})]})}function VisitReviewQueue(){const[er,St]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const tr=supabase.auth.user(),{data:rr}=await supabase.from("appointments").select("*").eq("provider_id",tr.id).eq("status","complete").order("date",{descending:!0}),{data:nr}=await supabase.from("patient_timeline_events").select("appointment_id").eq("type","visit").like("label","%SOAP Note%"),sr=new Set(nr.map(ar=>ar.appointment_id)),ir=rr.map(ar=>({...ar,reviewed:sr.has(ar.id)}));St(ir)})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" Visit Review Queue"}),er.map((tr,rr)=>jsxRuntimeExports.jsxs(Card,{title:`${tr.date} at ${tr.time}  ${tr.reason}`,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:["Patient ID: ",tr.patient_id]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Status: ",tr.reviewed?" Reviewed":" Needs Review"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[jsxRuntimeExports.jsx(Button$1,{onClick:()=>window.location.href=`/provider/patient/${tr.patient_id}`,children:"View Patient"}),!tr.reviewed&&jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>alert("Send SOAP Reminder or Generate Now"),children:"Resolve"})]})]},rr))]})}function LifestyleStreaks(){const[er,St]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{var lr,cr,ur;const{data:{user:rr}}=await supabase.auth.getUser();if(!rr)return;const[nr,sr]=await Promise.all([supabase.from("food_log").select("*").eq("patient_id",rr.id).gte("date",tr()),supabase.from("wearable_logs").select("*").eq("patient_id",rr.id).gte("date",tr())]),ir=((lr=sr.data)==null?void 0:lr.filter(dr=>dr.sleep_hours>=7).length)||0,ar=((cr=nr.data)==null?void 0:cr.filter(dr=>dr.total_protein>=30).length)||0,or=((ur=nr.data)==null?void 0:ur.filter(dr=>dr.total_water_oz>=64).length)||0;St({sleep:ir,protein:ar,hydration:or})})()},[]);function tr(){const rr=new Date;return rr.setDate(rr.getDate()-6),rr.toISOString().split("T")[0]}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:" Lifestyle Streak Tracker"}),jsxRuntimeExports.jsx("div",{className:"transition-all duration-300 hover:shadow-lg hover:scale-[1.01]",children:jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[" Protein Days ( 30g): ",jsxRuntimeExports.jsxs("strong",{children:[(er==null?void 0:er.protein)||0,"/7"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[" Hydration Days ( 64oz): ",jsxRuntimeExports.jsxs("strong",{children:[(er==null?void 0:er.hydration)||0,"/7"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[" Sleep Days ( 7hrs): ",jsxRuntimeExports.jsxs("strong",{children:[(er==null?void 0:er.sleep)||0,"/7"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-sm text-blue-700",children:er&&generateCoachMessage(er)})]})})})]})}function generateCoachMessage(er){return er.sleep>=6&&er.protein>=6&&er.hydration>=6?" You're crushing it! Let's keep this energy all month!":er.sleep>=4&&er.protein>=4?" Solid week. Let's aim for 1 more hydration day!":er.sleep<3&&er.protein<3?" Consider adding a consistent bedtime and more protein-rich meals.":" You're on track  12 small tweaks will take you to the next level."}function MealQualityFeedback(){const[er,St]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const{data:{user:rr}}=await supabase.auth.getUser();if(!rr)return;const{data:nr}=await supabase.from("food_log").select("*").eq("patient_id",rr.id).order("date",{ascending:!1}).limit(7);St(nr||[])})()},[]);function tr(rr){let nr=0;return rr.total_protein>=20&&(nr+=1),rr.total_fat<=20&&(nr+=1),rr.total_carbs<=45&&(nr+=1),(rr.food_items||"").toLowerCase().includes("olive")&&(nr+=1),nr}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:" Meal Quality Feedback"}),er.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:" No meals logged yet this week. Log a meal to get AI feedback!"})})}):er.map((rr,nr)=>{const sr=tr(rr);return jsxRuntimeExports.jsx("div",{className:"transition-all duration-300 hover:shadow-lg hover:scale-[1.01]",children:jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm text-gray-500",children:rr.date}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Meal: ",rr.food_items]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Score: ",jsxRuntimeExports.jsxs("span",{className:sr>=3?"text-green-600":"text-yellow-600",children:[sr,"/4"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[sr===4&&" Excellent Mediterranean choice!",sr===3&&" Solid meal  consider more greens or lean proteins.",sr===2&&" Add vegetables or balance macros for better alignment.",sr<=1&&" Not compliant  reduce processed ingredients and increase whole foods."]})]})})},nr)})]})}function WeeklyPlanner(){const[er,St]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const{data:{user:sr}}=await supabase.auth.getUser();if(!sr)return;const{data:ir}=await supabase.from("meal_plans").select("ai_plan_text").eq("patient_id",sr.id).order("created_at",{ascending:!0}),ar=(ir==null?void 0:ir.map(or=>or.ai_plan_text))||[];St(ar)})()},[]);async function tr(){if(!confirm("Clear entire weekly planner?"))return;const{data:{user:sr}}=await supabase.auth.getUser();sr&&(await supabase.from("meal_plans").delete().eq("patient_id",sr.id),St([]))}function rr(){const sr=new E$1;sr.setFontSize(16),sr.text("Weekly Meal Planner",10,20);let ir=40;er.forEach((ar,or)=>{sr.setFontSize(12),sr.setFont(void 0,"bold"),sr.text(`Day ${or+1}:`,10,ir),sr.setFont(void 0,"normal");const lr=sr.splitTextToSize(ar,180);sr.text(lr,10,ir+7),ir+=7+lr.length*5+10,ir>250&&(sr.addPage(),ir=20)}),sr.save("meal-plan.pdf")}async function nr(){const{data:{user:sr}}=await supabase.auth.getUser();if(sr)try{(await fetch("/api/send-plan-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:sr.id,meals:er})})).ok?alert("Meal plan sent to your email!"):alert("Failed to send email. Please try again.")}catch{alert("Error sending email. Please try again.")}}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" My Weekly Planner"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[er.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:rr,children:" Download PDF"}),jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:nr,children:" Email My Plan"})]}),jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:tr,children:"Clear"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:er.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:" No meals scheduled. Add a meal from Grocery Mode or AI suggestions!"})})}):er.map((sr,ir)=>jsxRuntimeExports.jsx("div",{className:"transition-all duration-300 hover:shadow-lg hover:scale-[1.01]",children:jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("h2",{className:"font-semibold text-gray-700 mb-1",children:["Day ",ir+1]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:sr})]})})},ir))})]})}function PatientOverview(){const[er,St]=reactExports.useState("streaks");return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-800 tracking-tight mb-4",children:" Patient Overview"}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:er,onValueChange:St,children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"streaks",children:" Streaks"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"meals",children:" Meal Scores"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"planner",children:" Weekly Plan"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"streaks",children:jsxRuntimeExports.jsx(LifestyleStreaks,{patientId:"demo-id"})}),jsxRuntimeExports.jsx(TabsContent,{value:"meals",children:jsxRuntimeExports.jsx(MealQualityFeedback,{patientId:"demo-id"})}),jsxRuntimeExports.jsx(TabsContent,{value:"planner",children:jsxRuntimeExports.jsx(WeeklyPlanner,{patientId:"demo-id",readOnly:!0})})]}),jsxRuntimeExports.jsx(Card,{className:"glass-card",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 italic",children:"Note: You are viewing a read-only summary of this patient's lifestyle data."})})]})}const providerRoutes=[{path:"/provider",element:jsxRuntimeExports.jsx(ProviderDashboardSimple,{})},{path:"/provider/dashboard",element:jsxRuntimeExports.jsx(ProviderDashboardSimple,{})},{path:"/provider/visits",element:jsxRuntimeExports.jsx(ProviderVisitsPage,{})},{path:"/provider/patients",element:jsxRuntimeExports.jsx(ProviderPatientsPage,{})},{path:"/provider/soap",element:jsxRuntimeExports.jsx(ProviderSOAPPage,{})},{path:"/provider/labs",element:jsxRuntimeExports.jsx(LabReview,{})},{path:"/provider/video",element:jsxRuntimeExports.jsx(ProviderVideoVisitPage,{})},{path:"/provider/messages/inbox",element:jsxRuntimeExports.jsx(ProviderMessages,{})},{path:"/provider/review-queue",element:jsxRuntimeExports.jsx(VisitReviewQueue,{})},{path:"/provider/patient/:id",element:jsxRuntimeExports.jsx(PatientOverview,{})}],links$1=[{href:"/patient/dashboard",label:"Dashboard",icon:LayoutDashboard},{href:"/patient/appointments",label:"Appointments",icon:CalendarDays},{href:"/patient/medications",label:"Medications",icon:FileText},{href:"/patient/health-dashboard",label:"Health",icon:HeartPulse},{href:"/patient/nutrition-log",label:"Food Log",icon:Salad},{href:"/patient/timeline",label:"Timeline",icon:ScrollText},{href:"/patient/scan",label:"Camera Tools",icon:Camera},{href:"/patient/ai-history",label:"AI History",icon:Bot},{href:"/patient/settings",label:"Settings",icon:User},{href:"/patient/notifications",label:"Notifications",icon:Bell}];function PatientLayoutGlass({children:er}){const St=useLocation(),{branding:tr}=useBrandingContext(),[rr,nr]=reactExports.useState(!1);return reactExports.useEffect(()=>{tr!=null&&tr.voice_profile_id&&console.log("[PatientLayoutGlass] Voice ready:",tr.voice_profile_id)},[tr]),jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-white via-[#e0f7fa] to-[#b2ebf2] flex",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"lg:hidden fixed top-4 left-4 z-50",onClick:()=>nr(!rr),children:rr?jsxRuntimeExports.jsx(X$3,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),rr&&jsxRuntimeExports.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>nr(!1)}),jsxRuntimeExports.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 transform ${rr?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out w-72 bg-white/70 backdrop-blur-xl shadow-lg border-r border-gray-200`,children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-emerald-400 to-teal-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:tr.employer_name||"Patient Name"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Patient Portal"})]})]}),jsxRuntimeExports.jsx("nav",{className:"space-y-1",children:links$1.map(sr=>{const ir=St.pathname===sr.href,ar=sr.icon;return jsxRuntimeExports.jsxs(Link,{to:sr.href,className:`
                    flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all
                    ${ir?"bg-emerald-100 text-emerald-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                  `,onClick:()=>nr(!1),children:[jsxRuntimeExports.jsx(ar,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:sr.label})]},sr.href)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 lg:ml-0",children:[jsxRuntimeExports.jsx("div",{className:"lg:pl-4",children:er}),jsxRuntimeExports.jsx(AssistantBar,{role:"patient"})]})]})}function StatCard({label:er,value:St,icon:tr,trend:rr,description:nr,className:sr=""}){return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},transition:{duration:.2},className:`rounded-2xl bg-gradient-to-br from-white to-gray-50 border border-gray-200 shadow-lg p-5 w-full hover:shadow-xl transition-shadow ${sr}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm font-medium",children:er}),tr&&jsxRuntimeExports.jsx("div",{className:"text-emerald-500",children:tr})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-semibold text-gray-800",children:St}),rr&&jsxRuntimeExports.jsxs("span",{className:`text-xs font-medium ${rr.isPositive?"text-green-600":"text-red-600"}`,children:[rr.isPositive?"":""," ",Math.abs(rr.value),"%"]})]}),nr&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:nr})]})]})}const DEMO_USER_ID="demo-user-001",publicDataService={async getHealthStats(){var er;try{const{data:St}=await supabase.from("wearables").select("heart_rate, sleep_hours, hydration_oz, steps").eq("user_id",DEMO_USER_ID).order("timestamp",{ascending:!1}).limit(1).single(),{data:tr}=await supabase.from("nutrition_summary").select("protein_g, calories, carbs_g, fat_g").eq("user_id",DEMO_USER_ID).eq("date",new Date().toISOString().split("T")[0]).single(),{data:rr}=await supabase.from("ai_conversations").select("id").eq("user_id",DEMO_USER_ID).gte("created_at",new Date().toISOString().split("T")[0]);return{success:!0,data:{heartRate:St!=null&&St.heart_rate?`${St.heart_rate} bpm`:"72 bpm",sleep:St!=null&&St.sleep_hours?`${St.sleep_hours} hrs`:"7.5 hrs",protein:tr!=null&&tr.protein_g?`${tr.protein_g}g`:"65g",hydration:St!=null&&St.hydration_oz?`${St.hydration_oz} oz`:"64 oz",steps:St!=null&&St.steps?St.steps.toLocaleString():"8,432",aiLogs:((er=rr==null?void 0:rr.length)==null?void 0:er.toString())||"3",calories:(tr==null?void 0:tr.calories)||1850,carbs:(tr==null?void 0:tr.carbs_g)||210,fat:(tr==null?void 0:tr.fat_g)||70}}}catch{return console.log("Using fallback demo data"),{success:!1,data:{heartRate:"72 bpm",sleep:"7.5 hrs",protein:"65g",hydration:"64 oz",steps:"8,432",aiLogs:"3",calories:1850,carbs:210,fat:70}}}},async getUpcomingAppointments(){try{const{data:er}=await supabase.from("appointments").select(`
          id,
          appointment_date,
          appointment_type,
          provider:providers(name),
          status
        `).eq("patient_id",DEMO_USER_ID).gte("appointment_date",new Date().toISOString()).order("appointment_date").limit(3);return er&&er.length>0?{success:!0,data:er.map(St=>{var tr;return{id:St.id,title:St.appointment_type||"Medical Appointment",provider:((tr=St.provider)==null?void 0:tr.name)||"Healthcare Provider",date:new Date(St.appointment_date).toLocaleDateString(),time:new Date(St.appointment_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}})}:{success:!1,data:[{id:"1",title:"Annual Checkup",provider:"Dr. Smith - Primary Care",date:"Dec 15, 2024",time:"2:00 PM"},{id:"2",title:"Lab Work",provider:"Quest Diagnostics",date:"Dec 20, 2024",time:"9:00 AM"}]}}catch{return{success:!1,data:[{id:"1",title:"Annual Checkup",provider:"Dr. Smith - Primary Care",date:"Dec 15, 2024",time:"2:00 PM"},{id:"2",title:"Lab Work",provider:"Quest Diagnostics",date:"Dec 20, 2024",time:"9:00 AM"}]}}},async getMedications(){try{const{data:er}=await supabase.from("medications").select("*").eq("patient_id",DEMO_USER_ID).eq("active",!0).limit(5);return er&&er.length>0?{success:!0,data:er.map(St=>({id:St.id,name:St.medication_name,dosage:St.dosage,frequency:St.frequency,status:"Active"}))}:{success:!1,data:[{id:"1",name:"Metformin",dosage:"500mg",frequency:"Twice daily with meals",status:"Active"},{id:"2",name:"Lisinopril",dosage:"10mg",frequency:"Once daily in the morning",status:"Active"}]}}catch{return{success:!1,data:[{id:"1",name:"Metformin",dosage:"500mg",frequency:"Twice daily with meals",status:"Active"},{id:"2",name:"Lisinopril",dosage:"10mg",frequency:"Once daily in the morning",status:"Active"}]}}},async getRecentDocuments(){try{const{data:er}=await supabase.from("patient_files").select("*").eq("patient_id",DEMO_USER_ID).order("uploaded_at",{ascending:!1}).limit(5);return er&&er.length>0?{success:!0,data:er.map(St=>({id:St.id,name:St.file_name,type:St.file_type,date:new Date(St.uploaded_at).toLocaleDateString()}))}:{success:!1,data:[{id:"1",name:"Lab Results - CBC",type:"Lab Report",date:"Dec 1, 2024"},{id:"2",name:"Visit Summary",type:"Clinical Note",date:"Nov 15, 2024"}]}}catch{return{success:!1,data:[{id:"1",name:"Lab Results - CBC",type:"Lab Report",date:"Dec 1, 2024"},{id:"2",name:"Visit Summary",type:"Clinical Note",date:"Nov 15, 2024"}]}}}};function PatientDashboardSimpleHybrid(){const[er,St]=reactExports.useState("overview"),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState("demo"),[ir,ar]=reactExports.useState({heartRate:"72 bpm",sleep:"7.5 hrs",protein:"65g",hydration:"64 oz",steps:"8,432",aiLogs:"3"}),[or,lr]=reactExports.useState({calories:1850,protein:65,carbs:210,fat:70}),[cr,ur]=reactExports.useState([{id:"1",title:"Annual Checkup",provider:"Dr. Smith - Primary Care",date:"Dec 15, 2024",time:"2:00 PM"},{id:"2",title:"Lab Work",provider:"Quest Diagnostics",date:"Dec 20, 2024",time:"9:00 AM"}]),[dr,hr]=reactExports.useState([{id:"1",name:"Metformin",dosage:"500mg",frequency:"Twice daily with meals",status:"Active"},{id:"2",name:"Lisinopril",dosage:"10mg",frequency:"Once daily in the morning",status:"Active"}]),[Ar,fr]=reactExports.useState([{id:"1",name:"Lab Results - CBC",type:"Lab Report",date:"Dec 1, 2024"},{id:"2",name:"Visit Summary",type:"Clinical Note",date:"Nov 15, 2024"}]);return reactExports.useEffect(()=>{(async()=>{rr(!0);const pr=await publicDataService.getHealthStats();pr.success&&(ar({heartRate:pr.data.heartRate,sleep:pr.data.sleep,protein:pr.data.protein,hydration:pr.data.hydration,steps:pr.data.steps,aiLogs:pr.data.aiLogs}),lr({calories:pr.data.calories,protein:parseInt(pr.data.protein),carbs:pr.data.carbs,fat:pr.data.fat}),sr("live"));const gr=await publicDataService.getUpcomingAppointments();gr.success&&gr.data.length>0&&ur(gr.data);const xr=await publicDataService.getMedications();xr.success&&xr.data.length>0&&hr(xr.data);const yr=await publicDataService.getRecentDocuments();yr.success&&yr.data.length>0&&fr(yr.data),rr(!1)})()},[]),jsxRuntimeExports.jsx(PatientLayoutGlass,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 md:p-8",children:[jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-1",children:"Welcome Back"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Your personalized health dashboard"})]}),nr==="live"&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Live Data"})]})}),jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{label:"Heart Rate",value:ir.heartRate,icon:jsxRuntimeExports.jsx(Stethoscope,{className:"w-4 h-4"}),description:"Resting"}),jsxRuntimeExports.jsx(StatCard,{label:"Sleep",value:ir.sleep,icon:jsxRuntimeExports.jsx(Moon,{className:"w-4 h-4"}),description:"Last Night"}),jsxRuntimeExports.jsx(StatCard,{label:"Protein",value:ir.protein,icon:jsxRuntimeExports.jsx(Apple,{className:"w-4 h-4"}),description:"Today"}),jsxRuntimeExports.jsx(StatCard,{label:"Hydration",value:ir.hydration,icon:jsxRuntimeExports.jsx(Droplets,{className:"w-4 h-4"}),description:"Goal: 80oz"}),jsxRuntimeExports.jsx(StatCard,{label:"Steps",value:ir.steps,icon:jsxRuntimeExports.jsx(Footprints,{className:"w-4 h-4"}),description:"So far"}),jsxRuntimeExports.jsx(StatCard,{label:"AI Logs",value:ir.aiLogs,icon:jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4"}),description:"Today"})]}),jsxRuntimeExports.jsxs(Tabs,{value:er,onValueChange:St,className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"medications",children:"Medications"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"nutrition",children:"Nutrition"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"documents",children:"Documents"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-5 h-5"}),"Upcoming Appointments"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"space-y-3",children:cr.map(mr=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:mr.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:mr.provider})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:mr.date}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:mr.time})]})]},mr.id))}),jsxRuntimeExports.jsx(Button$1,{className:"w-full mt-4",variant:"outline",children:"View All Appointments"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"w-5 h-5"}),"AI Health Assistant"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Get instant answers to your health questions"}),jsxRuntimeExports.jsxs(Button$1,{className:"w-full",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 mr-2"}),"Start Conversation"]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent topics:"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs",children:" Medication side effects"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:" Exercise recommendations"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:" Nutrition planning"})]})]})]})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"medications",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Pill,{className:"w-5 h-5"}),"Current Medications"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[dr.map(mr=>jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:mr.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[mr.dosage," - ",mr.frequency]})]}),jsxRuntimeExports.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:mr.status})]})},mr.id)),jsxRuntimeExports.jsx(Button$1,{className:"w-full",variant:"outline",children:"View Medication History"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"nutrition",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Apple,{className:"w-5 h-5"}),"Today's Nutrition"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:or.calories.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Calories"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[or.protein,"g"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Protein"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[or.carbs,"g"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[or.fat,"g"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Fat"})]})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",children:"Log Meal"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"documents",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),"Recent Documents"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[Ar.map(mr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:mr.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:mr.date})]})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:"View"})]},mr.id)),jsxRuntimeExports.jsx(Button$1,{className:"w-full",variant:"outline",children:"Upload Document"})]})})]})})]})]})})}function Records(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState("All"),ir=useNavigate();reactExports.useEffect(()=>{ar()},[]);async function ar(){try{const{data:{user:ur}}=await supabase.auth.getUser();if(!ur)return;const{data:dr,error:hr}=await supabase.from("medical_records").select("*").eq("patient_id",ur.id).order("date",{ascending:!1});if(hr)throw hr;St(dr||[])}catch(ur){console.error("Error fetching records:",ur)}finally{rr(!1)}}const or=["All","Lab Results","Visit Notes","Imaging","Prescriptions","Other"],lr=nr==="All"?er:er.filter(ur=>ur.type===nr),cr=ur=>{switch(ur){case"Lab Results":return"text-blue-600 bg-blue-50";case"Visit Notes":return"text-green-600 bg-green-50";case"Imaging":return"text-purple-600 bg-purple-50";case"Prescriptions":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Medical Records"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>ir("/patient/documents"),children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),jsxRuntimeExports.jsx(SimpleTabs,{tabs:or,active:nr,onSelect:sr}),tr?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):lr.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500",children:["No ",nr==="All"?"":nr.toLowerCase()," records found"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"mt-4",onClick:()=>ir("/patient/documents"),children:"Upload your first document"})]})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:lr.map(ur=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-lg transition-shadow",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:ur.title}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${cr(ur.type)}`,children:ur.type})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-4 w-4"}),new Date(ur.date).toLocaleDateString()]}),ur.provider_name&&jsxRuntimeExports.jsxs("span",{children:["Provider: ",ur.provider_name]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:ur.file_url&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>window.open(ur.file_url,"_blank"),children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 mr-1"}),"View"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>{const dr=document.createElement("a");dr.href=ur.file_url,dr.download=ur.title,dr.click()},children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]})})},ur.id))})]})}function Meditation(){const er=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" Guided Meditation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Select a meditation type or start an ambient timer with AI voice intro."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>er("/patient/meditation/start?type=grounding"),children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:" 5-Min Grounding"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Quick breathwork and presence reset"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>er("/patient/meditation/start?type=calm"),children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:" 10-Min Calm Reset"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"AI-guided calm induction + ambient music"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>er("/patient/meditation/start?type=sleep"),children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Sleep Prep"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Wind down with progressive body scan"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>er("/patient/meditation/start?type=ambient"),children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Ambient Mode"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Soft music only  no voice"})]})]})]})}function NutritionLog(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{const{data:{user:nr}}=await supabase.auth.getUser();if(nr){const{data:sr}=await supabase.from("food_log").select("*").eq("patient_id",nr.id).order("date",{ascending:!1});St(sr||[])}rr(!1)})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" My Nutrition Log"}),tr&&jsxRuntimeExports.jsx(Alert,{type:"info",title:"Loading",message:"Fetching your food entries..."}),!tr&&er.length===0&&jsxRuntimeExports.jsx(Alert,{type:"warning",title:"No Entries Found",message:"You haven't logged any meals yet. Start tracking to see your nutrition stats!"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4",children:er.map((nr,sr)=>jsxRuntimeExports.jsxs(Card,{className:"bg-white/30 backdrop-blur-md border border-white/10 rounded-2xl shadow-lg p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm text-gray-500 mb-1",children:new Date(nr.date).toLocaleDateString()}),jsxRuntimeExports.jsx("p",{className:"text-base text-gray-800 mb-2",children:nr.food_items}),jsxRuntimeExports.jsxs("div",{className:"text-sm grid grid-cols-2 gap-1 text-gray-700",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Protein:"})," ",nr.total_protein,"g"]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Carbs:"})," ",nr.total_carbs,"g"]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Fat:"})," ",nr.total_fat,"g"]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Water:"})," ",nr.total_water_oz,"oz"]})]})]},sr))})]})}const mockData=[{date:"Mon",protein:85,carbs:220,fat:65},{date:"Tue",protein:92,carbs:210,fat:55},{date:"Wed",protein:88,carbs:215,fat:60},{date:"Thu",protein:79,carbs:230,fat:72},{date:"Fri",protein:91,carbs:205,fat:58},{date:"Sat",protein:83,carbs:198,fat:62},{date:"Sun",protein:87,carbs:202,fat:64}];function DietaryMacroChart(){return jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Weekly Macronutrient Breakdown"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:mockData,margin:{top:10,right:20,left:0,bottom:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"protein",stroke:"#34d399",name:"Protein (g)"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"carbs",stroke:"#60a5fa",name:"Carbs (g)"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"fat",stroke:"#fbbf24",name:"Fat (g)"})]})})]})}const AuthContext=reactExports.createContext(void 0);function AuthProvider({children:er}){const[St,tr]=reactExports.useState(null),[rr,nr]=reactExports.useState(!0);reactExports.useEffect(()=>{supabase.auth.getSession().then(({data:{session:lr}})=>{tr((lr==null?void 0:lr.user)??null),nr(!1)});const{data:{subscription:or}}=supabase.auth.onAuthStateChange((lr,cr)=>{tr((cr==null?void 0:cr.user)??null),nr(!1)});return()=>or.unsubscribe()},[]);const ar={user:St,loading:rr,signIn:async(or,lr)=>{const{error:cr}=await supabase.auth.signInWithPassword({email:or,password:lr});return{error:cr}},signOut:async()=>{await supabase.auth.signOut()},isAuthenticated:!!St};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:ar,children:er})}function useAuth(){const er=reactExports.useContext(AuthContext);if(er===void 0)throw new Error("useAuth must be used within an AuthProvider");return er}function MealPhotoUpload(){const[er,St]=reactExports.useState(null),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(""),{user:cr}=useAuth(),ur=hr=>{var fr;const Ar=(fr=hr.target.files)==null?void 0:fr[0];if(Ar){St(Ar);const mr=new FileReader;mr.onload=pr=>{var gr;rr((gr=pr.target)==null?void 0:gr.result)},mr.readAsDataURL(Ar)}},dr=async()=>{if(er){ar(!0),lr("");try{const hr=new FileReader;hr.onload=async()=>{var gr;const Ar=((gr=hr.result)==null?void 0:gr.toString().split(",")[1])||"",{data:{session:fr}}=await supabase.auth.getSession(),{data:mr,error:pr}=await supabase.functions.invoke("photo-analysis-gemini",{body:{image:Ar},headers:{Authorization:`Bearer ${fr==null?void 0:fr.access_token}`}});pr?(lr("Failed to analyze image. Please try again."),console.error("Function error:",pr)):sr(mr),ar(!1)},hr.readAsDataURL(er)}catch(hr){lr("An error occurred. Please try again."),console.error("Error:",hr),ar(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"max-w-xl mx-auto px-4 py-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Upload a Meal Photo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("label",{className:"block",children:jsxRuntimeExports.jsx(Input,{type:"file",accept:"image/*",onChange:ur,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})})}),tr&&jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("img",{src:tr,alt:"Meal preview",className:"w-full rounded-lg shadow-md max-h-64 object-cover"})}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",onClick:dr,disabled:!er||ir,children:ir?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Camera,{className:"w-4 h-4 mr-2"}),"Analyze Meal"]})}),or&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",children:or}),nr&&nr.analysis&&jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Analysis Results"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Foods Detected:"}),nr.analysis.foods.map((hr,Ar)=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-3 rounded",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:hr.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:hr.quantity})]}),jsxRuntimeExports.jsxs("div",{className:"text-right text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[hr.calories," cal"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["P: ",hr.protein,"g | C: ",hr.carbs,"g | F: ",hr.fat,"g"]})]})]})},Ar))]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Total Nutrition:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:["Calories: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:nr.analysis.total.calories})]}),jsxRuntimeExports.jsxs("div",{children:["Protein: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[nr.analysis.total.protein,"g"]})]}),jsxRuntimeExports.jsxs("div",{children:["Carbs: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[nr.analysis.total.carbs,"g"]})]}),jsxRuntimeExports.jsxs("div",{children:["Fat: ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[nr.analysis.total.fat,"g"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Health Score:"}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[nr.analysis.healthScore,"/10"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:"Suggestions:"}),nr.analysis.suggestions.map((hr,Ar)=>jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:[" ",hr]},Ar))]})]}),nr.success&&jsxRuntimeExports.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",children:" Meal logged successfully!"})]})]})]})}function VoiceDietaryInput(){const[er,St]=reactExports.useState(""),[tr,rr]=reactExports.useState(!1),nr=window.webkitSpeechRecognition||window.SpeechRecognition,sr=()=>{const ir=new nr;ir.continuous=!1,ir.lang="en-US",ir.onresult=ar=>{const or=ar.results[0][0].transcript;St(or)},ir.onerror=ar=>{console.error("Speech recognition error:",ar.error)},ir.start(),rr(!0)};return jsxRuntimeExports.jsxs("div",{className:"max-w-xl mx-auto px-4 py-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Voice Food Entry"}),jsxRuntimeExports.jsx(Button$1,{onClick:sr,disabled:tr,children:tr?"Listening":"Start Speaking"}),er&&jsxRuntimeExports.jsxs("p",{className:"mt-4 bg-gray-50 border rounded p-3 text-sm",children:["Transcript: ",jsxRuntimeExports.jsx("strong",{children:er})]})]})}function NutritionDashboard(){const[er,St]=reactExports.useState("overview"),tr={calories:1850,protein:87,carbs:202,fat:64,water:6,calorieGoal:2200,proteinGoal:100,waterGoal:8};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Nutrition Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Track your meals, analyze nutrition, and reach your health goals"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Today's Calories",jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:tr.calories}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[tr.calorieGoal-tr.calories," remaining"]}),jsxRuntimeExports.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${tr.calories/tr.calorieGoal*100}%`}})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Protein",jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[tr.protein,"g"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[tr.proteinGoal-tr.protein,"g to goal"]}),jsxRuntimeExports.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${tr.protein/tr.proteinGoal*100}%`}})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Water Intake",jsxRuntimeExports.jsx(Droplet,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[tr.water," cups"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[tr.waterGoal-tr.water," cups to goal"]}),jsxRuntimeExports.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${tr.water/tr.waterGoal*100}%`}})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Macros Balance",jsxRuntimeExports.jsx(Apple,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Carbs"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[tr.carbs,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Fat"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[tr.fat,"g"]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Well balanced!"})]})})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:er,onValueChange:St,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-4 w-full max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"overview",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BarChart3,{className:"w-4 h-4"}),"Overview"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"log",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Food Log"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"photo",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Camera,{className:"w-4 h-4"}),"Photo Entry"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"voice",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mic,{className:"w-4 h-4"}),"Voice Entry"]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"mt-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(DietaryMacroChart,{}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Recent Meals"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Breakfast"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Oatmeal with berries"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"320 cal"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"8:30 AM"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Lunch"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Grilled chicken salad"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"450 cal"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"12:45 PM"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Snack"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Greek yogurt"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"150 cal"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"3:00 PM"})]})]})]})})]})]}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Nutrition Tips"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Hydration Goal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-800",children:"You're 2 cups away from your daily water goal. Try setting reminders!"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Protein Intake"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-800",children:"Great job! You're on track to meet your protein goals today."})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Meal Timing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-800",children:"Consider adding a healthy snack between lunch and dinner."})]})]})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"log",className:"mt-6",children:jsxRuntimeExports.jsx(NutritionLog,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"photo",className:"mt-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"AI-Powered Meal Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Take a photo of your meal and our AI will analyze the nutritional content"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(MealPhotoUpload,{})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"voice",className:"mt-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Voice Food Entry"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Simply speak what you ate and we'll log it for you"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(VoiceDietaryInput,{}),jsxRuntimeExports.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"How to use voice entry:"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:' Click "Start Speaking" and describe your meal'}),jsxRuntimeExports.jsx("li",{children:' Example: "I had grilled chicken with rice and broccoli"'}),jsxRuntimeExports.jsx("li",{children:" Our AI will parse the foods and estimate nutrition"}),jsxRuntimeExports.jsx("li",{children:" Review and confirm before saving to your log"})]})]})]})]})})]})]})}function AppointmentsPage$1(){const er=useNavigate(),{userId:St}=useUser(),[tr,rr]=reactExports.useState([]),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState("upcoming");reactExports.useEffect(()=>{St&&or()},[St]);const or=async()=>{try{sr(!0);const{data:hr}=await supabase.from("patients").select("id").eq("user_id",St).single();if(!hr)return;const{data:Ar,error:fr}=await supabase.from("appointments").select(`
          *,
          provider:providers(
            id,
            user_id,
            specialty,
            practice_location,
            phone
          )
        `).eq("patient_id",hr.id).order("appointment_date",{ascending:!1});if(fr)throw fr;const mr=await Promise.all((Ar||[]).map(async pr=>{var xr,yr;let gr="Provider";if((xr=pr.provider)!=null&&xr.user_id){const{data:Er}=await supabase.from("auth.users").select("raw_user_meta_data").eq("id",pr.provider.user_id).single();gr=((yr=Er==null?void 0:Er.raw_user_meta_data)==null?void 0:yr.name)||"Provider"}return{...pr,provider:{...pr.provider,name:gr}}}));rr(mr)}catch(hr){console.error("Failed to load appointments:",hr)}finally{sr(!1)}},lr=tr.filter(hr=>isFuture(new Date(hr.appointment_date))&&hr.status==="scheduled"),cr=tr.filter(hr=>isPast(new Date(hr.appointment_date))||hr.status!=="scheduled"),ur=(hr,Ar)=>{const fr={scheduled:isToday(new Date(Ar))?{variant:"default",label:"Today"}:{variant:"secondary",label:"Scheduled"},completed:{variant:"success",label:"Completed"},cancelled:{variant:"destructive",label:"Cancelled"},no_show:{variant:"outline",label:"No Show"}},mr=fr[hr]||fr.scheduled;return jsxRuntimeExports.jsx(Badge,{variant:mr.variant,children:mr.label})},dr=(hr,Ar)=>Ar?jsxRuntimeExports.jsx(Video,{className:"w-5 h-5 text-blue-600"}):hr.toLowerCase().includes("lab")?jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 text-purple-600"}):jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-green-600"});return nr?jsxRuntimeExports.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointments"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your upcoming and past appointments"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>er("/patient/appointments/new"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Book Appointment"]})]}),jsxRuntimeExports.jsxs(Tabs,{value:ir,onValueChange:ar,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-md grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"upcoming",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"w-4 h-4"}),"Upcoming (",lr.length,")"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"past",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),"Past (",cr.length,")"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"upcoming",className:"space-y-4",children:lr.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"No upcoming appointments"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>er("/patient/appointments/new"),children:"Book Your First Appointment"})]})}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:lr.map(hr=>jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:jsxRuntimeExports.jsx(Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>er(`/patient/appointments/${hr.id}`),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:dr(hr.appointment_type,hr.is_virtual)}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:hr.appointment_type}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["with ",hr.provider.name,hr.provider.specialty&&`  ${hr.provider.specialty}`]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 text-muted-foreground"}),format(new Date(hr.appointment_date),"EEEE, MMMM d, yyyy")]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-muted-foreground"}),format(new Date(hr.appointment_date),"h:mm a")]})]}),hr.is_virtual?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[jsxRuntimeExports.jsx(Video,{className:"w-4 h-4"}),"Virtual Visit"]}):hr.provider.practice_location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),hr.provider.practice_location]}),hr.reason&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Reason:"})," ",hr.reason]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[ur(hr.status,hr.appointment_date),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]})]})})})},hr.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"past",className:"space-y-4",children:cr.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Clock,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No past appointments"})]})}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:cr.map(hr=>jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow cursor-pointer opacity-90",onClick:()=>er(`/patient/appointments/${hr.id}`),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:dr(hr.appointment_type,hr.is_virtual)}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:hr.appointment_type}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["with ",hr.provider.name]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4"}),format(new Date(hr.appointment_date),"MMM d, yyyy")]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),format(new Date(hr.appointment_date),"h:mm a")]})]}),hr.notes&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Notes:"})," ",hr.notes]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[ur(hr.status,hr.appointment_date),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]})]})})})},hr.id))})})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-blue-50 to-sky-50",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Need Help?"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>er("/patient/care-team"),children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 mr-2"}),"Contact Care Team"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>er("/patient/appointments/reschedule"),children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 mr-2"}),"Reschedule Appointment"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>er("/patient/health"),children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 mr-2"}),"Prepare for Visit"]})]})})]})]})}async function checkPatientAccess(er){const St=supabase.auth.user(),{data:tr}=await supabase.from("patient_shares").select("*").eq("shared_with_id",St.id).eq("owner_id",er).eq("revoked",!1).maybeSingle(),rr=St.id===er||(tr==null?void 0:tr.access_labs),nr=St.id===er||(tr==null?void 0:tr.access_meds),sr=St.id===er||(tr==null?void 0:tr.access_appointments),ir=St.id===er||(tr==null?void 0:tr.access_uploads),ar=St.id===er||(tr==null?void 0:tr.access_timeline);return{canSeeLabs:rr,canSeeMeds:nr,canSeeAppointments:sr,canSeeUploads:ir,canSeeTimeline:ar,isOwner:St.id===er}}function Labs(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState({}),[nr,sr]=reactExports.useState({}),[ir,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{const dr=supabase.auth.user().id;lr(dr);const hr=await checkPatientAccess(dr);if(ar(hr.canSeeLabs),hr.canSeeLabs){const{data:Ar}=await supabase.from("lab_results").select("*").eq("patient_id",dr).order("date",{descending:!0});St(Ar||[])}})()},[]);async function cr(ur,dr){const hr=`lab-${dr}`;if(tr[hr]){rr(Ar=>{const fr={...Ar};return delete fr[hr],fr});return}sr(Ar=>({...Ar,[hr]:!0}));try{const Ar=await fetch("/functions/v1/explain-lab",{method:"POST",body:JSON.stringify({panel:ur.panel,results:ur.results}),headers:{"Content-Type":"application/json"}}),{summary:fr}=await Ar.json();rr(mr=>({...mr,[hr]:fr}))}catch(Ar){console.error("Error getting explanation:",Ar),alert("Failed to get explanation. Please try again.")}finally{sr(Ar=>({...Ar,[hr]:!1}))}}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:" Lab Results"}),ir?er.length===0?jsxRuntimeExports.jsx(Card,{className:"p-8 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No lab results yet"})}):er.map((ur,dr)=>jsxRuntimeExports.jsxs(Card,{title:`${ur.panel}  ${ur.date}`,children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Test"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Reference"})]})}),jsxRuntimeExports.jsx("tbody",{children:(ur.results||[]).map((hr,Ar)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{children:hr.name}),jsxRuntimeExports.jsxs("td",{className:"font-medium",children:[hr.value," ",hr.unit]}),jsxRuntimeExports.jsx("td",{className:"text-gray-500",children:hr.reference})]},Ar))})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>cr(ur,dr),className:"mt-2",disabled:nr[`lab-${dr}`],children:nr[`lab-${dr}`]?"Loading...":tr[`lab-${dr}`]?" Hide Explanation":" Explain My Results"}),tr[`lab-${dr}`]&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"AI Explanation:"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 whitespace-pre-wrap",children:tr[`lab-${dr}`]})]})]},dr)):jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"You don't have permission to view lab results"})]})]})}function Wearables(){const[er,St]=reactExports.useState({steps:0,sleep:0,heartRate:0});return reactExports.useEffect(()=>{setTimeout(()=>{St({steps:7560,sleep:7.2,heartRate:72})},1e3)},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:" Wearables Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-4 rounded text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:[" ",er.steps]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Steps Today"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-4 rounded text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:[" ",er.sleep,"h"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Sleep"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-4 rounded text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:[" ",er.heartRate," bpm"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Heart Rate"})]})]})]})}function Toast({message:er}){const[St,tr]=reactExports.useState(!0);return reactExports.useEffect(()=>{const rr=setTimeout(()=>{tr(!1)},3e3);return()=>clearTimeout(rr)},[]),St?jsxRuntimeExports.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg shadow-lg animate-fade-in z-50 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"h-5 w-5 text-green-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:er})]}):null}function PatientSettings(){const[er,St]=reactExports.useState({}),[tr,rr]=reactExports.useState(!1),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(!1),or=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const{data:{user:ur}}=await supabase.auth.getUser(),{data:dr}=await supabase.from("users").select("*").eq("id",ur==null?void 0:ur.id).single();St(dr||{})}catch(ur){console.error("Error loading user data:",ur)}finally{sr(!1)}})()},[]);function lr(ur,dr){St({...er,[ur]:dr})}async function cr(){ar(!0);try{const{error:ur}=await supabase.from("users").update({full_name:er.full_name,phone:er.phone,dob:er.dob,assistant_tone:er.assistant_tone,notifications_enabled:er.notifications_enabled}).eq("id",er.id);ur?alert("Error saving settings: "+ur.message):(rr(!0),setTimeout(()=>rr(!1),3e3))}catch(ur){console.error("Error saving:",ur),alert("Failed to save settings")}finally{ar(!1)}}return nr?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-3xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading settings..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:()=>or("/patient"),children:" Back"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Personal Info"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Full Name"}),jsxRuntimeExports.jsx(Input,{id:"name",value:er.full_name||"",onChange:ur=>lr("full_name",ur.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",value:er.email||"",disabled:!0,className:"bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"phone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"phone",type:"tel",value:er.phone||"",onChange:ur=>lr("phone",ur.target.value),placeholder:"+1 (555) 123-4567"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"dob",children:"Date of Birth"}),jsxRuntimeExports.jsx(Input,{id:"dob",type:"date",value:er.dob||"",onChange:ur=>lr("dob",ur.target.value)})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Assistant Preferences"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"tone",children:"Communication Style"}),jsxRuntimeExports.jsxs("select",{id:"tone",className:"w-full border rounded p-2 text-sm mt-1",value:er.assistant_tone||"professional",onChange:ur=>lr("assistant_tone",ur.target.value),children:[jsxRuntimeExports.jsx("option",{value:"professional",children:"Professional"}),jsxRuntimeExports.jsx("option",{value:"friendly",children:"Friendly"}),jsxRuntimeExports.jsx("option",{value:"casual",children:"Casual"}),jsxRuntimeExports.jsx("option",{value:"concise",children:"Concise"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How would you like the AI assistant to communicate with you?"})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:er.notifications_enabled??!0,onChange:ur=>lr("notifications_enabled",ur.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Enable appointment reminders & health alerts"})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data Export"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download your complete health record as a PDF file"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>or("/patient/export-pdf"),children:" Export My Record (PDF)"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:cr,disabled:ir,children:ir?"Saving...":"Save Changes"})}),tr&&jsxRuntimeExports.jsx(Toast,{message:"Settings updated!"})]})}var Autosuggest$1={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function er(rr,nr,sr,ir,ar,or){if(or!==ReactPropTypesSecret){var lr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lr.name="Invariant Violation",lr}}er.isRequired=er;function St(){return er}var tr={array:er,bigint:er,bool:er,func:er,number:er,object:er,string:er,symbol:er,any:er,arrayOf:St,element:er,elementType:er,instanceOf:St,node:er,objectOf:St,oneOf:St,oneOfType:St,shape:St,exact:St,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tr.PropTypes=tr,tr};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;function shallowEqualArrays(er,St){if(er===St)return!0;if(!er||!St)return!1;var tr=er.length;if(St.length!==tr)return!1;for(var rr=0;rr<tr;rr++)if(er[rr]!==St[rr])return!1;return!0}var arrays=shallowEqualArrays,Autowhatever={},_slicedToArray=function(){function er(St,tr){var rr=[],nr=!0,sr=!1,ir=void 0;try{for(var ar=St[Symbol.iterator](),or;!(nr=(or=ar.next()).done)&&(rr.push(or.value),!(tr&&rr.length===tr));nr=!0);}catch(lr){sr=!0,ir=lr}finally{try{!nr&&ar.return&&ar.return()}finally{if(sr)throw ir}}return rr}return function(St,tr){if(Array.isArray(St))return St;if(Symbol.iterator in Object(St))return er(St,tr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dist$2=function(er){var St=er.data,tr=er.multiSection;function rr(or){for(or===null?or=0:or++;or<St.length&&St[or]===0;)or++;return or===St.length?null:or}function nr(or){for(or===null?or=St.length-1:or--;or>=0&&St[or]===0;)or--;return or===-1?null:or}function sr(or){var lr=_slicedToArray(or,2),cr=lr[0],ur=lr[1];return tr?ur===null||ur===St[cr]-1?(cr=rr(cr),cr===null?[null,null]:[cr,0]):[cr,ur+1]:St===0||ur===St-1?[null,null]:ur===null?[null,0]:[null,ur+1]}function ir(or){var lr=_slicedToArray(or,2),cr=lr[0],ur=lr[1];return tr?ur===null||ur===0?(cr=nr(cr),cr===null?[null,null]:[cr,St[cr]-1]):[cr,ur-1]:St===0||ur===0?[null,null]:ur===null?[null,St-1]:[null,ur-1]}function ar(or){return sr(or)[1]===null}return{next:sr,prev:ir,isLast:ar}},dist$1={exports:{}},propIsEnumerable=Object.prototype.propertyIsEnumerable;function ToObject(er){if(er==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(er)}function ownEnumerableKeys(er){var St=Object.getOwnPropertyNames(er);return Object.getOwnPropertySymbols&&(St=St.concat(Object.getOwnPropertySymbols(er))),St.filter(function(tr){return propIsEnumerable.call(er,tr)})}var objectAssign=Object.assign||function(er,St){for(var tr,rr,nr=ToObject(er),sr=1;sr<arguments.length;sr++){tr=arguments[sr],rr=ownEnumerableKeys(Object(tr));for(var ir=0;ir<rr.length;ir++)nr[rr[ir]]=tr[rr[ir]]}return nr};(function(er,St){Object.defineProperty(St,"__esModule",{value:!0});var tr=function(){function or(lr,cr){var ur=[],dr=!0,hr=!1,Ar=void 0;try{for(var fr=lr[Symbol.iterator](),mr;!(dr=(mr=fr.next()).done)&&(ur.push(mr.value),!(cr&&ur.length===cr));dr=!0);}catch(pr){hr=!0,Ar=pr}finally{try{!dr&&fr.return&&fr.return()}finally{if(hr)throw Ar}}return ur}return function(lr,cr){if(Array.isArray(lr))return lr;if(Symbol.iterator in Object(lr))return or(lr,cr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function rr(or){return or&&or.__esModule?or:{default:or}}function nr(or){if(Array.isArray(or)){for(var lr=0,cr=Array(or.length);lr<or.length;lr++)cr[lr]=or[lr];return cr}else return Array.from(or)}var sr=objectAssign,ir=rr(sr),ar=function(lr){return lr};St.default=function(or){var lr=Array.isArray(or)&&or.length===2?or:[or,null],cr=tr(lr,2),ur=cr[0],dr=cr[1];return function(hr){for(var Ar=arguments.length,fr=Array(Ar>1?Ar-1:0),mr=1;mr<Ar;mr++)fr[mr-1]=arguments[mr];var pr=fr.map(function(gr){return ur[gr]}).filter(ar);return typeof pr[0]=="string"||typeof dr=="function"?{key:hr,className:dr?dr.apply(void 0,nr(pr)):pr.join(" ")}:{key:hr,style:ir.default.apply(void 0,[{}].concat(nr(pr)))}}},er.exports=St.default})(dist$1,dist$1.exports);var distExports=dist$1.exports,SectionTitle={},compareObjects={};(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=tr;function St(rr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(sr){return typeof sr}:St=function(sr){return sr&&typeof Symbol=="function"&&sr.constructor===Symbol&&sr!==Symbol.prototype?"symbol":typeof sr},St(rr)}function tr(rr,nr){var sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(rr===nr)return!1;var ir=Object.keys(rr),ar=Object.keys(nr);if(ir.length!==ar.length)return!0;var or={},lr,cr;for(lr=0,cr=sr.length;lr<cr;lr++)or[sr[lr]]=!0;for(lr=0,cr=ir.length;lr<cr;lr++){var ur=ir[lr],dr=rr[ur],hr=nr[ur];if(dr!==hr){if(!or[ur]||dr===null||hr===null||St(dr)!=="object"||St(hr)!=="object")return!0;var Ar=Object.keys(dr),fr=Object.keys(hr);if(Ar.length!==fr.length)return!0;for(var mr=0,pr=Ar.length;mr<pr;mr++){var gr=Ar[mr];if(dr[gr]!==hr[gr])return!0}}}return!1}})(compareObjects);(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var St=ir(reactExports),tr=nr(propTypesExports),rr=nr(compareObjects);function nr(yr){return yr&&yr.__esModule?yr:{default:yr}}function sr(){if(typeof WeakMap!="function")return null;var yr=new WeakMap;return sr=function(){return yr},yr}function ir(yr){if(yr&&yr.__esModule)return yr;if(yr===null||ar(yr)!=="object"&&typeof yr!="function")return{default:yr};var Er=sr();if(Er&&Er.has(yr))return Er.get(yr);var _r={},Sr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var jr in yr)if(Object.prototype.hasOwnProperty.call(yr,jr)){var Pr=Sr?Object.getOwnPropertyDescriptor(yr,jr):null;Pr&&(Pr.get||Pr.set)?Object.defineProperty(_r,jr,Pr):_r[jr]=yr[jr]}return _r.default=yr,Er&&Er.set(yr,_r),_r}function ar(yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(_r){return typeof _r}:ar=function(_r){return _r&&typeof Symbol=="function"&&_r.constructor===Symbol&&_r!==Symbol.prototype?"symbol":typeof _r},ar(yr)}function or(yr,Er){if(!(yr instanceof Er))throw new TypeError("Cannot call a class as a function")}function lr(yr,Er){for(var _r=0;_r<Er.length;_r++){var Sr=Er[_r];Sr.enumerable=Sr.enumerable||!1,Sr.configurable=!0,"value"in Sr&&(Sr.writable=!0),Object.defineProperty(yr,Sr.key,Sr)}}function cr(yr,Er,_r){return Er&&lr(yr.prototype,Er),yr}function ur(yr){return function(){var Er=fr(yr),_r;if(Ar()){var Sr=fr(this).constructor;_r=Reflect.construct(Er,arguments,Sr)}else _r=Er.apply(this,arguments);return dr(this,_r)}}function dr(yr,Er){return Er&&(ar(Er)==="object"||typeof Er=="function")?Er:hr(yr)}function hr(yr){if(yr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yr}function Ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function fr(yr){return fr=Object.setPrototypeOf?Object.getPrototypeOf:function(_r){return _r.__proto__||Object.getPrototypeOf(_r)},fr(yr)}function mr(yr,Er){if(typeof Er!="function"&&Er!==null)throw new TypeError("Super expression must either be null or a function");yr.prototype=Object.create(Er&&Er.prototype,{constructor:{value:yr,writable:!0,configurable:!0}}),Er&&pr(yr,Er)}function pr(yr,Er){return pr=Object.setPrototypeOf||function(Sr,jr){return Sr.__proto__=jr,Sr},pr(yr,Er)}function gr(yr,Er,_r){return Er in yr?Object.defineProperty(yr,Er,{value:_r,enumerable:!0,configurable:!0,writable:!0}):yr[Er]=_r,yr}var xr=function(yr){mr(_r,yr);var Er=ur(_r);function _r(){return or(this,_r),Er.apply(this,arguments)}return cr(_r,[{key:"shouldComponentUpdate",value:function(jr){return(0,rr.default)(jr,this.props)}},{key:"render",value:function(){var jr=this.props,Pr=jr.section,Mr=jr.renderSectionTitle,Ir=jr.theme,Lr=jr.sectionKeyPrefix,Qr=Mr(Pr);return Qr?St.default.createElement("div",Ir("".concat(Lr,"title"),"sectionTitle"),Qr):null}}]),_r}(St.Component);er.default=xr,gr(xr,"propTypes",{section:tr.default.any.isRequired,renderSectionTitle:tr.default.func.isRequired,theme:tr.default.func.isRequired,sectionKeyPrefix:tr.default.string.isRequired})})(SectionTitle);var ItemList={},Item={};(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var St=ir(reactExports),tr=nr(propTypesExports),rr=nr(compareObjects);function nr(Pr){return Pr&&Pr.__esModule?Pr:{default:Pr}}function sr(){if(typeof WeakMap!="function")return null;var Pr=new WeakMap;return sr=function(){return Pr},Pr}function ir(Pr){if(Pr&&Pr.__esModule)return Pr;if(Pr===null||ar(Pr)!=="object"&&typeof Pr!="function")return{default:Pr};var Mr=sr();if(Mr&&Mr.has(Pr))return Mr.get(Pr);var Ir={},Lr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Qr in Pr)if(Object.prototype.hasOwnProperty.call(Pr,Qr)){var Yr=Lr?Object.getOwnPropertyDescriptor(Pr,Qr):null;Yr&&(Yr.get||Yr.set)?Object.defineProperty(Ir,Qr,Yr):Ir[Qr]=Pr[Qr]}return Ir.default=Pr,Mr&&Mr.set(Pr,Ir),Ir}function ar(Pr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(Ir){return typeof Ir}:ar=function(Ir){return Ir&&typeof Symbol=="function"&&Ir.constructor===Symbol&&Ir!==Symbol.prototype?"symbol":typeof Ir},ar(Pr)}function or(){return or=Object.assign||function(Pr){for(var Mr=1;Mr<arguments.length;Mr++){var Ir=arguments[Mr];for(var Lr in Ir)Object.prototype.hasOwnProperty.call(Ir,Lr)&&(Pr[Lr]=Ir[Lr])}return Pr},or.apply(this,arguments)}function lr(Pr,Mr){var Ir=Object.keys(Pr);if(Object.getOwnPropertySymbols){var Lr=Object.getOwnPropertySymbols(Pr);Mr&&(Lr=Lr.filter(function(Qr){return Object.getOwnPropertyDescriptor(Pr,Qr).enumerable})),Ir.push.apply(Ir,Lr)}return Ir}function cr(Pr){for(var Mr=1;Mr<arguments.length;Mr++){var Ir=arguments[Mr]!=null?arguments[Mr]:{};Mr%2?lr(Object(Ir),!0).forEach(function(Lr){Sr(Pr,Lr,Ir[Lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pr,Object.getOwnPropertyDescriptors(Ir)):lr(Object(Ir)).forEach(function(Lr){Object.defineProperty(Pr,Lr,Object.getOwnPropertyDescriptor(Ir,Lr))})}return Pr}function ur(Pr,Mr){if(Pr==null)return{};var Ir=dr(Pr,Mr),Lr,Qr;if(Object.getOwnPropertySymbols){var Yr=Object.getOwnPropertySymbols(Pr);for(Qr=0;Qr<Yr.length;Qr++)Lr=Yr[Qr],!(Mr.indexOf(Lr)>=0)&&Object.prototype.propertyIsEnumerable.call(Pr,Lr)&&(Ir[Lr]=Pr[Lr])}return Ir}function dr(Pr,Mr){if(Pr==null)return{};var Ir={},Lr=Object.keys(Pr),Qr,Yr;for(Yr=0;Yr<Lr.length;Yr++)Qr=Lr[Yr],!(Mr.indexOf(Qr)>=0)&&(Ir[Qr]=Pr[Qr]);return Ir}function hr(Pr,Mr){if(!(Pr instanceof Mr))throw new TypeError("Cannot call a class as a function")}function Ar(Pr,Mr){for(var Ir=0;Ir<Mr.length;Ir++){var Lr=Mr[Ir];Lr.enumerable=Lr.enumerable||!1,Lr.configurable=!0,"value"in Lr&&(Lr.writable=!0),Object.defineProperty(Pr,Lr.key,Lr)}}function fr(Pr,Mr,Ir){return Mr&&Ar(Pr.prototype,Mr),Pr}function mr(Pr){return function(){var Mr=yr(Pr),Ir;if(xr()){var Lr=yr(this).constructor;Ir=Reflect.construct(Mr,arguments,Lr)}else Ir=Mr.apply(this,arguments);return pr(this,Ir)}}function pr(Pr,Mr){return Mr&&(ar(Mr)==="object"||typeof Mr=="function")?Mr:gr(Pr)}function gr(Pr){if(Pr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pr}function xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yr(Pr){return yr=Object.setPrototypeOf?Object.getPrototypeOf:function(Ir){return Ir.__proto__||Object.getPrototypeOf(Ir)},yr(Pr)}function Er(Pr,Mr){if(typeof Mr!="function"&&Mr!==null)throw new TypeError("Super expression must either be null or a function");Pr.prototype=Object.create(Mr&&Mr.prototype,{constructor:{value:Pr,writable:!0,configurable:!0}}),Mr&&_r(Pr,Mr)}function _r(Pr,Mr){return _r=Object.setPrototypeOf||function(Lr,Qr){return Lr.__proto__=Qr,Lr},_r(Pr,Mr)}function Sr(Pr,Mr,Ir){return Mr in Pr?Object.defineProperty(Pr,Mr,{value:Ir,enumerable:!0,configurable:!0,writable:!0}):Pr[Mr]=Ir,Pr}var jr=function(Pr){Er(Ir,Pr);var Mr=mr(Ir);function Ir(){var Lr;hr(this,Ir);for(var Qr=arguments.length,Yr=new Array(Qr),Gr=0;Gr<Qr;Gr++)Yr[Gr]=arguments[Gr];return Lr=Mr.call.apply(Mr,[this].concat(Yr)),Sr(gr(Lr),"storeItemReference",function($r){$r!==null&&(Lr.item=$r)}),Sr(gr(Lr),"onMouseEnter",function($r){var Vr=Lr.props,Tr=Vr.sectionIndex,Fr=Vr.itemIndex;Lr.props.onMouseEnter($r,{sectionIndex:Tr,itemIndex:Fr})}),Sr(gr(Lr),"onMouseLeave",function($r){var Vr=Lr.props,Tr=Vr.sectionIndex,Fr=Vr.itemIndex;Lr.props.onMouseLeave($r,{sectionIndex:Tr,itemIndex:Fr})}),Sr(gr(Lr),"onMouseDown",function($r){var Vr=Lr.props,Tr=Vr.sectionIndex,Fr=Vr.itemIndex;Lr.props.onMouseDown($r,{sectionIndex:Tr,itemIndex:Fr})}),Sr(gr(Lr),"onClick",function($r){var Vr=Lr.props,Tr=Vr.sectionIndex,Fr=Vr.itemIndex;Lr.props.onClick($r,{sectionIndex:Tr,itemIndex:Fr})}),Lr}return fr(Ir,[{key:"shouldComponentUpdate",value:function(Qr){return(0,rr.default)(Qr,this.props,["renderItemData"])}},{key:"render",value:function(){var Qr=this.props,Yr=Qr.isHighlighted,Gr=Qr.item,$r=Qr.renderItem,Vr=Qr.renderItemData,Tr=ur(Qr,["isHighlighted","item","renderItem","renderItemData"]);return delete Tr.sectionIndex,delete Tr.itemIndex,typeof Tr.onMouseEnter=="function"&&(Tr.onMouseEnter=this.onMouseEnter),typeof Tr.onMouseLeave=="function"&&(Tr.onMouseLeave=this.onMouseLeave),typeof Tr.onMouseDown=="function"&&(Tr.onMouseDown=this.onMouseDown),typeof Tr.onClick=="function"&&(Tr.onClick=this.onClick),St.default.createElement("li",or({role:"option"},Tr,{ref:this.storeItemReference}),$r(Gr,cr({isHighlighted:Yr},Vr)))}}]),Ir}(St.Component);er.default=jr,Sr(jr,"propTypes",{sectionIndex:tr.default.number,isHighlighted:tr.default.bool.isRequired,itemIndex:tr.default.number.isRequired,item:tr.default.any.isRequired,renderItem:tr.default.func.isRequired,renderItemData:tr.default.object.isRequired,onMouseEnter:tr.default.func,onMouseLeave:tr.default.func,onMouseDown:tr.default.func,onClick:tr.default.func})})(Item);(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var St=ar(reactExports),tr=sr(propTypesExports),rr=sr(Item),nr=sr(compareObjects);function sr(jr){return jr&&jr.__esModule?jr:{default:jr}}function ir(){if(typeof WeakMap!="function")return null;var jr=new WeakMap;return ir=function(){return jr},jr}function ar(jr){if(jr&&jr.__esModule)return jr;if(jr===null||or(jr)!=="object"&&typeof jr!="function")return{default:jr};var Pr=ir();if(Pr&&Pr.has(jr))return Pr.get(jr);var Mr={},Ir=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Lr in jr)if(Object.prototype.hasOwnProperty.call(jr,Lr)){var Qr=Ir?Object.getOwnPropertyDescriptor(jr,Lr):null;Qr&&(Qr.get||Qr.set)?Object.defineProperty(Mr,Lr,Qr):Mr[Lr]=jr[Lr]}return Mr.default=jr,Pr&&Pr.set(jr,Mr),Mr}function or(jr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?or=function(Mr){return typeof Mr}:or=function(Mr){return Mr&&typeof Symbol=="function"&&Mr.constructor===Symbol&&Mr!==Symbol.prototype?"symbol":typeof Mr},or(jr)}function lr(){return lr=Object.assign||function(jr){for(var Pr=1;Pr<arguments.length;Pr++){var Mr=arguments[Pr];for(var Ir in Mr)Object.prototype.hasOwnProperty.call(Mr,Ir)&&(jr[Ir]=Mr[Ir])}return jr},lr.apply(this,arguments)}function cr(jr,Pr){var Mr=Object.keys(jr);if(Object.getOwnPropertySymbols){var Ir=Object.getOwnPropertySymbols(jr);Pr&&(Ir=Ir.filter(function(Lr){return Object.getOwnPropertyDescriptor(jr,Lr).enumerable})),Mr.push.apply(Mr,Ir)}return Mr}function ur(jr){for(var Pr=1;Pr<arguments.length;Pr++){var Mr=arguments[Pr]!=null?arguments[Pr]:{};Pr%2?cr(Object(Mr),!0).forEach(function(Ir){_r(jr,Ir,Mr[Ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jr,Object.getOwnPropertyDescriptors(Mr)):cr(Object(Mr)).forEach(function(Ir){Object.defineProperty(jr,Ir,Object.getOwnPropertyDescriptor(Mr,Ir))})}return jr}function dr(jr,Pr){if(!(jr instanceof Pr))throw new TypeError("Cannot call a class as a function")}function hr(jr,Pr){for(var Mr=0;Mr<Pr.length;Mr++){var Ir=Pr[Mr];Ir.enumerable=Ir.enumerable||!1,Ir.configurable=!0,"value"in Ir&&(Ir.writable=!0),Object.defineProperty(jr,Ir.key,Ir)}}function Ar(jr,Pr,Mr){return Pr&&hr(jr.prototype,Pr),jr}function fr(jr){return function(){var Pr=xr(jr),Mr;if(gr()){var Ir=xr(this).constructor;Mr=Reflect.construct(Pr,arguments,Ir)}else Mr=Pr.apply(this,arguments);return mr(this,Mr)}}function mr(jr,Pr){return Pr&&(or(Pr)==="object"||typeof Pr=="function")?Pr:pr(jr)}function pr(jr){if(jr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jr}function gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xr(jr){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(Mr){return Mr.__proto__||Object.getPrototypeOf(Mr)},xr(jr)}function yr(jr,Pr){if(typeof Pr!="function"&&Pr!==null)throw new TypeError("Super expression must either be null or a function");jr.prototype=Object.create(Pr&&Pr.prototype,{constructor:{value:jr,writable:!0,configurable:!0}}),Pr&&Er(jr,Pr)}function Er(jr,Pr){return Er=Object.setPrototypeOf||function(Ir,Lr){return Ir.__proto__=Lr,Ir},Er(jr,Pr)}function _r(jr,Pr,Mr){return Pr in jr?Object.defineProperty(jr,Pr,{value:Mr,enumerable:!0,configurable:!0,writable:!0}):jr[Pr]=Mr,jr}var Sr=function(jr){yr(Mr,jr);var Pr=fr(Mr);function Mr(){var Ir;dr(this,Mr);for(var Lr=arguments.length,Qr=new Array(Lr),Yr=0;Yr<Lr;Yr++)Qr[Yr]=arguments[Yr];return Ir=Pr.call.apply(Pr,[this].concat(Qr)),_r(pr(Ir),"storeHighlightedItemReference",function(Gr){Ir.props.onHighlightedItemChange(Gr===null?null:Gr.item)}),Ir}return Ar(Mr,[{key:"shouldComponentUpdate",value:function(Lr){return(0,nr.default)(Lr,this.props,["itemProps"])}},{key:"render",value:function(){var Lr=this,Qr=this.props,Yr=Qr.items,Gr=Qr.itemProps,$r=Qr.renderItem,Vr=Qr.renderItemData,Tr=Qr.sectionIndex,Fr=Qr.highlightedItemIndex,Wr=Qr.getItemId,qr=Qr.theme,Rr=Qr.keyPrefix,Or=Tr===null?Rr:"".concat(Rr,"section-").concat(Tr,"-"),Hr=typeof Gr=="function";return St.default.createElement("ul",lr({role:"listbox"},qr("".concat(Or,"items-list"),"itemsList")),Yr.map(function(zr,Zr){var nn=Zr===0,vn=Zr===Fr,hn="".concat(Or,"item-").concat(Zr),En=Hr?Gr({sectionIndex:Tr,itemIndex:Zr}):Gr,Tn=ur({id:Wr(Tr,Zr),"aria-selected":vn},qr(hn,"item",nn&&"itemFirst",vn&&"itemHighlighted"),{},En);return vn&&(Tn.ref=Lr.storeHighlightedItemReference),St.default.createElement(rr.default,lr({},Tn,{sectionIndex:Tr,isHighlighted:vn,itemIndex:Zr,item:zr,renderItem:$r,renderItemData:Vr}))}))}}]),Mr}(St.Component);er.default=Sr,_r(Sr,"propTypes",{items:tr.default.array.isRequired,itemProps:tr.default.oneOfType([tr.default.object,tr.default.func]),renderItem:tr.default.func.isRequired,renderItemData:tr.default.object.isRequired,sectionIndex:tr.default.number,highlightedItemIndex:tr.default.number,onHighlightedItemChange:tr.default.func.isRequired,getItemId:tr.default.func.isRequired,theme:tr.default.func.isRequired,keyPrefix:tr.default.string.isRequired}),_r(Sr,"defaultProps",{sectionIndex:null})})(ItemList);(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var St=lr(reactExports),tr=ar(propTypesExports),rr=ar(dist$2),nr=ar(distExports),sr=ar(SectionTitle),ir=ar(ItemList);function ar(Fr){return Fr&&Fr.__esModule?Fr:{default:Fr}}function or(){if(typeof WeakMap!="function")return null;var Fr=new WeakMap;return or=function(){return Fr},Fr}function lr(Fr){if(Fr&&Fr.__esModule)return Fr;if(Fr===null||gr(Fr)!=="object"&&typeof Fr!="function")return{default:Fr};var Wr=or();if(Wr&&Wr.has(Fr))return Wr.get(Fr);var qr={},Rr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Or in Fr)if(Object.prototype.hasOwnProperty.call(Fr,Or)){var Hr=Rr?Object.getOwnPropertyDescriptor(Fr,Or):null;Hr&&(Hr.get||Hr.set)?Object.defineProperty(qr,Or,Hr):qr[Or]=Fr[Or]}return qr.default=Fr,Wr&&Wr.set(Fr,qr),qr}function cr(Fr,Wr){var qr=Object.keys(Fr);if(Object.getOwnPropertySymbols){var Rr=Object.getOwnPropertySymbols(Fr);Wr&&(Rr=Rr.filter(function(Or){return Object.getOwnPropertyDescriptor(Fr,Or).enumerable})),qr.push.apply(qr,Rr)}return qr}function ur(Fr){for(var Wr=1;Wr<arguments.length;Wr++){var qr=arguments[Wr]!=null?arguments[Wr]:{};Wr%2?cr(Object(qr),!0).forEach(function(Rr){Qr(Fr,Rr,qr[Rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fr,Object.getOwnPropertyDescriptors(qr)):cr(Object(qr)).forEach(function(Rr){Object.defineProperty(Fr,Rr,Object.getOwnPropertyDescriptor(qr,Rr))})}return Fr}function dr(Fr,Wr){return pr(Fr)||mr(Fr,Wr)||Ar(Fr,Wr)||hr()}function hr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(Fr,Wr){if(Fr){if(typeof Fr=="string")return fr(Fr,Wr);var qr=Object.prototype.toString.call(Fr).slice(8,-1);if(qr==="Object"&&Fr.constructor&&(qr=Fr.constructor.name),qr==="Map"||qr==="Set")return Array.from(qr);if(qr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qr))return fr(Fr,Wr)}}function fr(Fr,Wr){(Wr==null||Wr>Fr.length)&&(Wr=Fr.length);for(var qr=0,Rr=new Array(Wr);qr<Wr;qr++)Rr[qr]=Fr[qr];return Rr}function mr(Fr,Wr){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Fr)))){var qr=[],Rr=!0,Or=!1,Hr=void 0;try{for(var zr=Fr[Symbol.iterator](),Zr;!(Rr=(Zr=zr.next()).done)&&(qr.push(Zr.value),!(Wr&&qr.length===Wr));Rr=!0);}catch(nn){Or=!0,Hr=nn}finally{try{!Rr&&zr.return!=null&&zr.return()}finally{if(Or)throw Hr}}return qr}}function pr(Fr){if(Array.isArray(Fr))return Fr}function gr(Fr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gr=function(qr){return typeof qr}:gr=function(qr){return qr&&typeof Symbol=="function"&&qr.constructor===Symbol&&qr!==Symbol.prototype?"symbol":typeof qr},gr(Fr)}function xr(Fr,Wr){if(!(Fr instanceof Wr))throw new TypeError("Cannot call a class as a function")}function yr(Fr,Wr){for(var qr=0;qr<Wr.length;qr++){var Rr=Wr[qr];Rr.enumerable=Rr.enumerable||!1,Rr.configurable=!0,"value"in Rr&&(Rr.writable=!0),Object.defineProperty(Fr,Rr.key,Rr)}}function Er(Fr,Wr,qr){return Wr&&yr(Fr.prototype,Wr),Fr}function _r(Fr){return function(){var Wr=Mr(Fr),qr;if(Pr()){var Rr=Mr(this).constructor;qr=Reflect.construct(Wr,arguments,Rr)}else qr=Wr.apply(this,arguments);return Sr(this,qr)}}function Sr(Fr,Wr){return Wr&&(gr(Wr)==="object"||typeof Wr=="function")?Wr:jr(Fr)}function jr(Fr){if(Fr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Fr}function Pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mr(Fr){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(qr){return qr.__proto__||Object.getPrototypeOf(qr)},Mr(Fr)}function Ir(Fr,Wr){if(typeof Wr!="function"&&Wr!==null)throw new TypeError("Super expression must either be null or a function");Fr.prototype=Object.create(Wr&&Wr.prototype,{constructor:{value:Fr,writable:!0,configurable:!0}}),Wr&&Lr(Fr,Wr)}function Lr(Fr,Wr){return Lr=Object.setPrototypeOf||function(Rr,Or){return Rr.__proto__=Or,Rr},Lr(Fr,Wr)}function Qr(Fr,Wr,qr){return Wr in Fr?Object.defineProperty(Fr,Wr,{value:qr,enumerable:!0,configurable:!0,writable:!0}):Fr[Wr]=qr,Fr}var Yr={},Gr=function(Wr){return St.default.createElement("input",Wr)},$r=function(Wr){var qr=Wr.containerProps,Rr=Wr.children;return St.default.createElement("div",qr,Rr)},Vr={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},Tr=function(Fr){Ir(qr,Fr);var Wr=_r(qr);function qr(Rr){var Or;return xr(this,qr),Or=Wr.call(this,Rr),Qr(jr(Or),"storeInputReference",function(Hr){Hr!==null&&(Or.input=Hr);var zr=Or.props.inputProps.ref;zr&&(typeof zr=="function"?zr(Hr):gr(zr)==="object"&&Object.prototype.hasOwnProperty.call(zr,"current")&&(zr.current=Hr))}),Qr(jr(Or),"storeItemsContainerReference",function(Hr){Hr!==null&&(Or.itemsContainer=Hr)}),Qr(jr(Or),"onHighlightedItemChange",function(Hr){Or.highlightedItem=Hr}),Qr(jr(Or),"getItemId",function(Hr,zr){if(zr===null)return null;var Zr=Or.props.id,nn=Hr===null?"":"section-".concat(Hr);return"react-autowhatever-".concat(Zr,"-").concat(nn,"-item-").concat(zr)}),Qr(jr(Or),"onFocus",function(Hr){var zr=Or.props.inputProps;Or.setState({isInputFocused:!0}),zr.onFocus&&zr.onFocus(Hr)}),Qr(jr(Or),"onBlur",function(Hr){var zr=Or.props.inputProps;Or.setState({isInputFocused:!1}),zr.onBlur&&zr.onBlur(Hr)}),Qr(jr(Or),"onKeyDown",function(Hr){var zr=Or.props,Zr=zr.inputProps,nn=zr.highlightedSectionIndex,vn=zr.highlightedItemIndex,hn=Hr.keyCode;switch(hn){case 40:case 38:{var En=hn===40?"next":"prev",Tn=Or.sectionIterator[En]([nn,vn]),bn=dr(Tn,2),Mn=bn[0],Rn=bn[1];Zr.onKeyDown(Hr,{newHighlightedSectionIndex:Mn,newHighlightedItemIndex:Rn});break}default:Zr.onKeyDown(Hr,{highlightedSectionIndex:nn,highlightedItemIndex:vn})}}),Or.highlightedItem=null,Or.state={isInputFocused:!1},Or.setSectionsItems(Rr),Or.setSectionIterator(Rr),Or.setTheme(Rr),Or}return Er(qr,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(Or){Or.items!==this.props.items&&this.setSectionsItems(Or),(Or.items!==this.props.items||Or.multiSection!==this.props.multiSection)&&this.setSectionIterator(Or),Or.theme!==this.props.theme&&this.setTheme(Or)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(Or){Or.multiSection&&(this.sectionsItems=Or.items.map(function(Hr){return Or.getSectionItems(Hr)}),this.sectionsLengths=this.sectionsItems.map(function(Hr){return Hr.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(Hr){return Hr===0}))}},{key:"setSectionIterator",value:function(Or){this.sectionIterator=(0,rr.default)({multiSection:Or.multiSection,data:Or.multiSection?this.sectionsLengths:Or.items.length})}},{key:"setTheme",value:function(Or){this.theme=(0,nr.default)(Or.theme)}},{key:"renderSections",value:function(){var Or=this;if(this.allSectionsAreEmpty)return null;var Hr=this.theme,zr=this.props,Zr=zr.id,nn=zr.items,vn=zr.renderItem,hn=zr.renderItemData,En=zr.renderSectionTitle,Tn=zr.highlightedSectionIndex,bn=zr.highlightedItemIndex,Mn=zr.itemProps;return nn.map(function(Rn,Nn){var pn="react-autowhatever-".concat(Zr,"-"),Gn="".concat(pn,"section-").concat(Nn,"-"),os=Nn===0;return St.default.createElement("div",Hr("".concat(Gn,"container"),"sectionContainer",os&&"sectionContainerFirst"),St.default.createElement(sr.default,{section:Rn,renderSectionTitle:En,theme:Hr,sectionKeyPrefix:Gn}),St.default.createElement(ir.default,{items:Or.sectionsItems[Nn],itemProps:Mn,renderItem:vn,renderItemData:hn,sectionIndex:Nn,highlightedItemIndex:Tn===Nn?bn:null,onHighlightedItemChange:Or.onHighlightedItemChange,getItemId:Or.getItemId,theme:Hr,keyPrefix:pn,ref:Or.storeItemsListReference}))})}},{key:"renderItems",value:function(){var Or=this.props.items;if(Or.length===0)return null;var Hr=this.theme,zr=this.props,Zr=zr.id,nn=zr.renderItem,vn=zr.renderItemData,hn=zr.highlightedSectionIndex,En=zr.highlightedItemIndex,Tn=zr.itemProps;return St.default.createElement(ir.default,{items:Or,itemProps:Tn,renderItem:nn,renderItemData:vn,highlightedItemIndex:hn===null?En:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:Hr,keyPrefix:"react-autowhatever-".concat(Zr,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var Or=this.highlightedItem;if(Or){var Hr=this.itemsContainer,zr=Or.offsetParent===Hr?Or.offsetTop:Or.offsetTop-Hr.offsetTop,Zr=Hr.scrollTop;zr<Zr?Zr=zr:zr+Or.offsetHeight>Zr+Hr.offsetHeight&&(Zr=zr+Or.offsetHeight-Hr.offsetHeight),Zr!==Hr.scrollTop&&(Hr.scrollTop=Zr)}}},{key:"render",value:function(){var Or=this.theme,Hr=this.props,zr=Hr.id,Zr=Hr.multiSection,nn=Hr.renderInputComponent,vn=Hr.renderItemsContainer,hn=Hr.highlightedSectionIndex,En=Hr.highlightedItemIndex,Tn=this.state.isInputFocused,bn=Zr?this.renderSections():this.renderItems(),Mn=bn!==null,Rn=this.getItemId(hn,En),Nn="react-autowhatever-".concat(zr),pn=ur({role:"combobox","aria-haspopup":"listbox","aria-owns":Nn,"aria-expanded":Mn},Or("react-autowhatever-".concat(zr,"-container"),"container",Mn&&"containerOpen"),{},this.props.containerProps),Gn=nn(ur({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":Nn,"aria-activedescendant":Rn},Or("react-autowhatever-".concat(zr,"-input"),"input",Mn&&"inputOpen",Tn&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),os=vn({containerProps:ur({id:Nn,role:"listbox"},Or("react-autowhatever-".concat(zr,"-items-container"),"itemsContainer",Mn&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:bn});return St.default.createElement("div",pn,Gn,os)}}]),qr}(St.Component);er.default=Tr,Qr(Tr,"propTypes",{id:tr.default.string,multiSection:tr.default.bool,renderInputComponent:tr.default.func,renderItemsContainer:tr.default.func,items:tr.default.array.isRequired,renderItem:tr.default.func,renderItemData:tr.default.object,renderSectionTitle:tr.default.func,getSectionItems:tr.default.func,containerProps:tr.default.object,inputProps:tr.default.object,itemProps:tr.default.oneOfType([tr.default.object,tr.default.func]),highlightedSectionIndex:tr.default.number,highlightedItemIndex:tr.default.number,theme:tr.default.oneOfType([tr.default.object,tr.default.array])}),Qr(Tr,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:Gr,renderItemsContainer:$r,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:Yr,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:Yr,inputProps:Yr,itemProps:Yr,highlightedSectionIndex:null,highlightedItemIndex:null,theme:Vr})})(Autowhatever);var theme={};Object.defineProperty(theme,"__esModule",{value:!0});theme.mapToAutowhateverTheme=theme.defaultTheme=void 0;var defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};theme.defaultTheme=defaultTheme;var mapToAutowhateverTheme=function er(St){var tr={};for(var rr in St)switch(rr){case"suggestionsContainer":tr.itemsContainer=St[rr];break;case"suggestionsContainerOpen":tr.itemsContainerOpen=St[rr];break;case"suggestion":tr.item=St[rr];break;case"suggestionFirst":tr.itemFirst=St[rr];break;case"suggestionHighlighted":tr.itemHighlighted=St[rr];break;case"suggestionsList":tr.itemsList=St[rr];break;default:tr[rr]=St[rr]}return tr};theme.mapToAutowhateverTheme=mapToAutowhateverTheme;(function(er){Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var St=or(reactExports),tr=ir(propTypesExports),rr=ir(arrays),nr=ir(Autowhatever),sr=theme;function ir(Tr){return Tr&&Tr.__esModule?Tr:{default:Tr}}function ar(){if(typeof WeakMap!="function")return null;var Tr=new WeakMap;return ar=function(){return Tr},Tr}function or(Tr){if(Tr&&Tr.__esModule)return Tr;if(Tr===null||lr(Tr)!=="object"&&typeof Tr!="function")return{default:Tr};var Fr=ar();if(Fr&&Fr.has(Tr))return Fr.get(Tr);var Wr={},qr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Rr in Tr)if(Object.prototype.hasOwnProperty.call(Tr,Rr)){var Or=qr?Object.getOwnPropertyDescriptor(Tr,Rr):null;Or&&(Or.get||Or.set)?Object.defineProperty(Wr,Rr,Or):Wr[Rr]=Tr[Rr]}return Wr.default=Tr,Fr&&Fr.set(Tr,Wr),Wr}function lr(Tr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lr=function(Wr){return typeof Wr}:lr=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},lr(Tr)}function cr(Tr,Fr){var Wr=Object.keys(Tr);if(Object.getOwnPropertySymbols){var qr=Object.getOwnPropertySymbols(Tr);Fr&&(qr=qr.filter(function(Rr){return Object.getOwnPropertyDescriptor(Tr,Rr).enumerable})),Wr.push.apply(Wr,qr)}return Wr}function ur(Tr){for(var Fr=1;Fr<arguments.length;Fr++){var Wr=arguments[Fr]!=null?arguments[Fr]:{};Fr%2?cr(Object(Wr),!0).forEach(function(qr){_r(Tr,qr,Wr[qr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tr,Object.getOwnPropertyDescriptors(Wr)):cr(Object(Wr)).forEach(function(qr){Object.defineProperty(Tr,qr,Object.getOwnPropertyDescriptor(Wr,qr))})}return Tr}function dr(Tr,Fr){if(!(Tr instanceof Fr))throw new TypeError("Cannot call a class as a function")}function hr(Tr,Fr){for(var Wr=0;Wr<Fr.length;Wr++){var qr=Fr[Wr];qr.enumerable=qr.enumerable||!1,qr.configurable=!0,"value"in qr&&(qr.writable=!0),Object.defineProperty(Tr,qr.key,qr)}}function Ar(Tr,Fr,Wr){return Fr&&hr(Tr.prototype,Fr),Tr}function fr(Tr){return function(){var Fr=xr(Tr),Wr;if(gr()){var qr=xr(this).constructor;Wr=Reflect.construct(Fr,arguments,qr)}else Wr=Fr.apply(this,arguments);return mr(this,Wr)}}function mr(Tr,Fr){return Fr&&(lr(Fr)==="object"||typeof Fr=="function")?Fr:pr(Tr)}function pr(Tr){if(Tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tr}function gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xr(Tr){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(Wr){return Wr.__proto__||Object.getPrototypeOf(Wr)},xr(Tr)}function yr(Tr,Fr){if(typeof Fr!="function"&&Fr!==null)throw new TypeError("Super expression must either be null or a function");Tr.prototype=Object.create(Fr&&Fr.prototype,{constructor:{value:Tr,writable:!0,configurable:!0}}),Fr&&Er(Tr,Fr)}function Er(Tr,Fr){return Er=Object.setPrototypeOf||function(qr,Rr){return qr.__proto__=Rr,qr},Er(Tr,Fr)}function _r(Tr,Fr,Wr){return Fr in Tr?Object.defineProperty(Tr,Fr,{value:Wr,enumerable:!0,configurable:!0,writable:!0}):Tr[Fr]=Wr,Tr}var Sr=function(){return!0},jr=function(Fr){return Fr.trim().length>0},Pr=function(Fr){var Wr=Fr.containerProps,qr=Fr.children;return St.default.createElement("div",Wr,qr)},Mr="suggestions-revealed",Ir="suggestions-updated",Lr="suggestion-selected",Qr="input-focused",Yr="input-changed",Gr="input-blurred",$r="escape-pressed",Vr=function(Tr){yr(Wr,Tr);var Fr=fr(Wr);function Wr(qr){var Rr,Or=qr.alwaysRenderSuggestions;return dr(this,Wr),Rr=Fr.call(this),_r(pr(Rr),"onDocumentMouseDown",function(Hr){Rr.justClickedOnSuggestionsContainer=!1;for(var zr=Hr.detail&&Hr.detail.target||Hr.target;zr!==null&&zr!==document;){if(zr.getAttribute&&zr.getAttribute("data-suggestion-index")!==null)return;if(zr===Rr.suggestionsContainer){Rr.justClickedOnSuggestionsContainer=!0;return}zr=zr.parentNode}}),_r(pr(Rr),"storeAutowhateverRef",function(Hr){Hr!==null&&(Rr.autowhatever=Hr)}),_r(pr(Rr),"onSuggestionMouseEnter",function(Hr,zr){var Zr=zr.sectionIndex,nn=zr.itemIndex;Rr.updateHighlightedSuggestion(Zr,nn),Hr.target===Rr.pressedSuggestion&&(Rr.justSelectedSuggestion=!0),Rr.justMouseEntered=!0,setTimeout(function(){Rr.justMouseEntered=!1})}),_r(pr(Rr),"highlightFirstSuggestion",function(){Rr.updateHighlightedSuggestion(Rr.props.multiSection?0:null,0)}),_r(pr(Rr),"onDocumentMouseUp",function(){Rr.pressedSuggestion&&!Rr.justSelectedSuggestion&&Rr.input.focus(),Rr.pressedSuggestion=null}),_r(pr(Rr),"onSuggestionMouseDown",function(Hr){Rr.justSelectedSuggestion||(Rr.justSelectedSuggestion=!0,Rr.pressedSuggestion=Hr.target)}),_r(pr(Rr),"onSuggestionsClearRequested",function(){var Hr=Rr.props.onSuggestionsClearRequested;Hr&&Hr()}),_r(pr(Rr),"onSuggestionSelected",function(Hr,zr){var Zr=Rr.props,nn=Zr.alwaysRenderSuggestions,vn=Zr.onSuggestionSelected,hn=Zr.onSuggestionsFetchRequested;vn&&vn(Hr,zr);var En=Rr.props.shouldKeepSuggestionsOnSelect(zr.suggestion);nn||En?hn({value:zr.suggestionValue,reason:Lr}):Rr.onSuggestionsClearRequested(),Rr.resetHighlightedSuggestion()}),_r(pr(Rr),"onSuggestionClick",function(Hr){var zr=Rr.props,Zr=zr.alwaysRenderSuggestions,nn=zr.focusInputOnSuggestionClick,vn=Rr.getSuggestionIndices(Rr.findSuggestionElement(Hr.target)),hn=vn.sectionIndex,En=vn.suggestionIndex,Tn=Rr.getSuggestion(hn,En),bn=Rr.props.getSuggestionValue(Tn);Rr.maybeCallOnChange(Hr,bn,"click"),Rr.onSuggestionSelected(Hr,{suggestion:Tn,suggestionValue:bn,suggestionIndex:En,sectionIndex:hn,method:"click"});var Mn=Rr.props.shouldKeepSuggestionsOnSelect(Tn);Zr||Mn||Rr.closeSuggestions(),nn===!0?Rr.input.focus():Rr.onBlur(),setTimeout(function(){Rr.justSelectedSuggestion=!1})}),_r(pr(Rr),"onBlur",function(){var Hr=Rr.props,zr=Hr.inputProps,Zr=Hr.shouldRenderSuggestions,nn=zr.value,vn=zr.onBlur,hn=Rr.getHighlightedSuggestion(),En=Zr(nn,Gr);Rr.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!En}),vn&&vn(Rr.blurEvent,{highlightedSuggestion:hn})}),_r(pr(Rr),"onSuggestionMouseLeave",function(Hr){Rr.resetHighlightedSuggestion(!1),Rr.justSelectedSuggestion&&Hr.target===Rr.pressedSuggestion&&(Rr.justSelectedSuggestion=!1)}),_r(pr(Rr),"onSuggestionTouchStart",function(){Rr.justSelectedSuggestion=!0}),_r(pr(Rr),"onSuggestionTouchMove",function(){Rr.justSelectedSuggestion=!1,Rr.pressedSuggestion=null,Rr.input.focus()}),_r(pr(Rr),"itemProps",function(Hr){var zr=Hr.sectionIndex,Zr=Hr.itemIndex;return{"data-section-index":zr,"data-suggestion-index":Zr,onMouseEnter:Rr.onSuggestionMouseEnter,onMouseLeave:Rr.onSuggestionMouseLeave,onMouseDown:Rr.onSuggestionMouseDown,onTouchStart:Rr.onSuggestionTouchStart,onTouchMove:Rr.onSuggestionTouchMove,onClick:Rr.onSuggestionClick}}),_r(pr(Rr),"renderSuggestionsContainer",function(Hr){var zr=Hr.containerProps,Zr=Hr.children,nn=Rr.props.renderSuggestionsContainer;return nn({containerProps:zr,children:Zr,query:Rr.getQuery()})}),Rr.state={isFocused:!1,isCollapsed:!Or,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},Rr.justPressedUpDown=!1,Rr.justMouseEntered=!1,Rr.pressedSuggestion=null,Rr}return Ar(Wr,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(Rr){var Or=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!Rr.highlightFirstSuggestion;(0,rr.default)(Rr.suggestions,this.props.suggestions)?Rr.highlightFirstSuggestion&&Rr.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():Or&&this.resetHighlightedSuggestion():this.willRenderSuggestions(Rr,Ir)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),Or&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(Rr,Or){var Hr=this.props,zr=Hr.suggestions,Zr=Hr.onSuggestionHighlighted,nn=Hr.highlightFirstSuggestion;if(!(0,rr.default)(zr,Rr.suggestions)&&zr.length>0&&nn){this.highlightFirstSuggestion();return}if(Zr){var vn=this.getHighlightedSuggestion(),hn=Or.highlightedSuggestion;vn!=hn&&Zr({suggestion:vn})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(Rr,Or,Hr){var zr=this;this.setState(function(Zr){var nn=Zr.valueBeforeUpDown;return Or===null?nn=null:nn===null&&typeof Hr<"u"&&(nn=Hr),{highlightedSectionIndex:Rr,highlightedSuggestionIndex:Or,highlightedSuggestion:Or===null?null:zr.getSuggestion(Rr,Or),valueBeforeUpDown:nn}})}},{key:"resetHighlightedSuggestion",value:function(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(Or){var Hr=Or.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:Rr?null:Hr}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(Rr,Or){var Hr=this.props,zr=Hr.suggestions,Zr=Hr.multiSection,nn=Hr.getSectionSuggestions;return Zr?nn(zr[Rr])[Or]:zr[Or]}},{key:"getHighlightedSuggestion",value:function(){var Rr=this.state,Or=Rr.highlightedSectionIndex,Hr=Rr.highlightedSuggestionIndex;return Hr===null?null:this.getSuggestion(Or,Hr)}},{key:"getSuggestionValueByIndex",value:function(Rr,Or){var Hr=this.props.getSuggestionValue;return Hr(this.getSuggestion(Rr,Or))}},{key:"getSuggestionIndices",value:function(Rr){var Or=Rr.getAttribute("data-section-index"),Hr=Rr.getAttribute("data-suggestion-index");return{sectionIndex:typeof Or=="string"?parseInt(Or,10):null,suggestionIndex:parseInt(Hr,10)}}},{key:"findSuggestionElement",value:function(Rr){var Or=Rr;do{if(Or.getAttribute&&Or.getAttribute("data-suggestion-index")!==null)return Or;Or=Or.parentNode}while(Or!==null);throw console.error("Clicked element:",Rr),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(Rr,Or,Hr){var zr=this.props.inputProps,Zr=zr.value,nn=zr.onChange;Or!==Zr&&nn(Rr,{newValue:Or,method:Hr})}},{key:"willRenderSuggestions",value:function(Rr,Or){var Hr=Rr.suggestions,zr=Rr.inputProps,Zr=Rr.shouldRenderSuggestions,nn=zr.value;return Hr.length>0&&Zr(nn,Or)}},{key:"getQuery",value:function(){var Rr=this.props.inputProps,Or=Rr.value,Hr=this.state.valueBeforeUpDown;return(Hr===null?Or:Hr).trim()}},{key:"render",value:function(){var Rr=this,Or=this.props,Hr=Or.suggestions,zr=Or.renderInputComponent,Zr=Or.onSuggestionsFetchRequested,nn=Or.renderSuggestion,vn=Or.inputProps,hn=Or.multiSection,En=Or.renderSectionTitle,Tn=Or.id,bn=Or.getSectionSuggestions,Mn=Or.theme,Rn=Or.getSuggestionValue,Nn=Or.alwaysRenderSuggestions,pn=Or.highlightFirstSuggestion,Gn=Or.containerProps,os=this.state,es=os.isFocused,cs=os.isCollapsed,ts=os.highlightedSectionIndex,fs=os.highlightedSuggestionIndex,vs=os.valueBeforeUpDown,ws=Nn?Sr:this.props.shouldRenderSuggestions,Rs=vn.value,ks=vn.onFocus,Fs=vn.onKeyDown,Vs=this.willRenderSuggestions(this.props,"render"),Ts=Nn||es&&!cs&&Vs,Ds=Ts?Hr:[],ys=ur({},vn,{onFocus:function(io){if(!Rr.justSelectedSuggestion&&!Rr.justClickedOnSuggestionsContainer){var xa=ws(Rs,Qr);Rr.setState({isFocused:!0,isCollapsed:!xa}),ks&&ks(io),xa&&Zr({value:Rs,reason:Qr})}},onBlur:function(io){if(Rr.justClickedOnSuggestionsContainer){Rr.input.focus();return}Rr.blurEvent=io,Rr.justSelectedSuggestion||(Rr.onBlur(),Rr.onSuggestionsClearRequested())},onChange:function(io){var xa=io.target.value,oo=ws(xa,Yr);Rr.maybeCallOnChange(io,xa,"type"),Rr.suggestionsContainer&&(Rr.suggestionsContainer.scrollTop=0),Rr.setState(ur({},pn?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!oo})),oo?Zr({value:xa,reason:Yr}):Rr.onSuggestionsClearRequested()},onKeyDown:function(io,xa){var oo=io.keyCode;switch(oo){case 40:case 38:if(cs)ws(Rs,Mr)&&(Zr({value:Rs,reason:Mr}),Rr.revealSuggestions(),io.preventDefault());else if(Hr.length>0){var El=xa.newHighlightedSectionIndex,eo=xa.newHighlightedItemIndex,zs;eo===null?zs=vs===null?Rs:vs:zs=Rr.getSuggestionValueByIndex(El,eo),Rr.updateHighlightedSuggestion(El,eo,Rs),Rr.maybeCallOnChange(io,zs,oo===40?"down":"up"),io.preventDefault()}Rr.justPressedUpDown=!0,setTimeout(function(){Rr.justPressedUpDown=!1});break;case 13:{if(io.keyCode===229)break;var Qs=Rr.getHighlightedSuggestion();if(Ts&&!Nn&&Rr.closeSuggestions(),Qs!=null){io.preventDefault();var Ys=Rn(Qs);Rr.maybeCallOnChange(io,Ys,"enter"),Rr.onSuggestionSelected(io,{suggestion:Qs,suggestionValue:Ys,suggestionIndex:fs,sectionIndex:ts,method:"enter"}),Rr.justSelectedSuggestion=!0,setTimeout(function(){Rr.justSelectedSuggestion=!1})}break}case 27:{Ts&&io.preventDefault();var Uo=Ts&&!Nn;if(vs===null){if(!Uo){var Ms="";Rr.maybeCallOnChange(io,Ms,"escape"),ws(Ms,$r)?Zr({value:Ms,reason:$r}):Rr.onSuggestionsClearRequested()}}else Rr.maybeCallOnChange(io,vs,"escape");Uo?(Rr.onSuggestionsClearRequested(),Rr.closeSuggestions()):Rr.resetHighlightedSuggestion();break}}Fs&&Fs(io)}}),$o={query:this.getQuery()};return St.default.createElement(nr.default,{multiSection:hn,items:Ds,renderInputComponent:zr,renderItemsContainer:this.renderSuggestionsContainer,renderItem:nn,renderItemData:$o,renderSectionTitle:En,getSectionItems:bn,highlightedSectionIndex:ts,highlightedItemIndex:fs,containerProps:Gn,inputProps:ys,itemProps:this.itemProps,theme:(0,sr.mapToAutowhateverTheme)(Mn),id:Tn,ref:this.storeAutowhateverRef})}}]),Wr}(St.Component);er.default=Vr,_r(Vr,"propTypes",{suggestions:tr.default.array.isRequired,onSuggestionsFetchRequested:function(Fr,Wr){var qr=Fr[Wr];if(typeof qr!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(Fr,Wr){var qr=Fr[Wr];if(Fr.alwaysRenderSuggestions===!1&&typeof qr!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:tr.default.func,onSuggestionSelected:tr.default.func,onSuggestionHighlighted:tr.default.func,renderInputComponent:tr.default.func,renderSuggestionsContainer:tr.default.func,getSuggestionValue:tr.default.func.isRequired,renderSuggestion:tr.default.func.isRequired,inputProps:function(Fr,Wr){var qr=Fr[Wr];if(!qr)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(qr,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(qr,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:tr.default.func,alwaysRenderSuggestions:tr.default.bool,multiSection:tr.default.bool,renderSectionTitle:function(Fr,Wr){var qr=Fr[Wr];if(Fr.multiSection===!0&&typeof qr!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(Fr,Wr){var qr=Fr[Wr];if(Fr.multiSection===!0&&typeof qr!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:tr.default.bool,highlightFirstSuggestion:tr.default.bool,theme:tr.default.object,id:tr.default.string,containerProps:tr.default.object}),_r(Vr,"defaultProps",{renderSuggestionsContainer:Pr,shouldRenderSuggestions:jr,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:sr.defaultTheme,id:"1",containerProps:{}})})(Autosuggest$1);var dist=Autosuggest$1.default;const Autosuggest=getDefaultExportFromCjs(dist),COMMON_CONDITIONS=["Diabetes Type 1","Diabetes Type 2","Hypertension","High Blood Pressure","Asthma","COPD","Heart Disease","Coronary Artery Disease","Arthritis","Rheumatoid Arthritis","Osteoarthritis","Depression","Anxiety","GERD","Acid Reflux","High Cholesterol","Hyperlipidemia","Thyroid Disease","Hypothyroidism","Hyperthyroidism","Kidney Disease","Chronic Kidney Disease","Cancer","Breast Cancer","Lung Cancer","Prostate Cancer","Colon Cancer","Osteoporosis","Migraine","Epilepsy","Parkinson's Disease","Alzheimer's Disease","Multiple Sclerosis","Lupus","Fibromyalgia","Sleep Apnea","IBS","Irritable Bowel Syndrome","Crohn's Disease","Ulcerative Colitis","Celiac Disease","Psoriasis","Eczema","Allergies","Seasonal Allergies","Food Allergies"];function ConditionAutocomplete({value:er,onChange:St,onAdd:tr,placeholder:rr="e.g., Diabetes, Hypertension",className:nr=""}){const[sr,ir]=reactExports.useState([]),ar=Ar=>{const fr=Ar.trim().toLowerCase();return fr.length===0?[]:COMMON_CONDITIONS.filter(mr=>mr.toLowerCase().includes(fr)).slice(0,10)},or=({value:Ar})=>{ir(ar(Ar))},lr=()=>{ir([])},cr=Ar=>Ar,ur=Ar=>jsxRuntimeExports.jsx("div",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer",children:Ar}),dr={placeholder:rr,value:er,onChange:(Ar,{newValue:fr})=>{St(fr)},onKeyPress:Ar=>{Ar.key==="Enter"&&(Ar.preventDefault(),tr())},className:`w-full border p-2 rounded text-sm ${nr}`.trim()},hr={container:"relative flex-1",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"absolute z-10 w-full",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"bg-white shadow border rounded-b max-h-48 overflow-y-auto",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"bg-blue-50",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};return jsxRuntimeExports.jsx(Autosuggest,{suggestions:sr,onSuggestionsFetchRequested:or,onSuggestionsClearRequested:lr,getSuggestionValue:cr,renderSuggestion:ur,inputProps:dr,theme:hr})}const FIELD_LABELS={conditions:"Medical Conditions",surgeries:"Past Surgeries",allergies:"Allergies",family_history:"Family Medical History"},FIELD_PLACEHOLDERS={conditions:"e.g., Diabetes, Hypertension",surgeries:"e.g., Appendectomy 2020",allergies:"e.g., Penicillin, Peanuts",family_history:"e.g., Mother - Breast Cancer"};function Intake(){const er=useNavigate(),[St,tr]=reactExports.useState({conditions:[],surgeries:[],allergies:[],family_history:[]}),[rr,nr]=reactExports.useState({conditions:"",surgeries:"",allergies:"",family_history:""}),[sr,ir]=reactExports.useState(!0),[ar,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState("");reactExports.useEffect(()=>{ur()},[]);async function ur(){try{const{data:{user:fr}}=await supabase.auth.getUser();if(!fr)return;const{data:mr,error:pr}=await supabase.from("patient_intake").select("*").eq("patient_id",fr.id).maybeSingle();pr?console.error("Error loading intake:",pr):mr&&tr(mr)}catch(fr){console.error("Error loading intake:",fr)}finally{ir(!1)}}function dr(fr){const mr=rr[fr].trim();if(!mr)return;const pr=St[fr]||[];if(pr.includes(mr)){cr(`${mr} already added`),setTimeout(()=>cr(""),3e3);return}tr({...St,[fr]:[...pr,mr]}),nr({...rr,[fr]:""})}function hr(fr,mr){const pr=St[fr]||[];tr({...St,[fr]:pr.filter((gr,xr)=>xr!==mr)})}async function Ar(){or(!0),cr("");try{const{data:{user:fr}}=await supabase.auth.getUser();if(!fr)return;const{data:mr}=await supabase.from("patient_intake").select("id").eq("patient_id",fr.id).maybeSingle(),pr={patient_id:fr.id,conditions:St.conditions||[],surgeries:St.surgeries||[],allergies:St.allergies||[],family_history:St.family_history||[]};let gr;if(mr!=null&&mr.id?{error:gr}=await supabase.from("patient_intake").update(pr).eq("patient_id",fr.id):{error:gr}=await supabase.from("patient_intake").insert(pr),gr)throw gr;await supabase.from("patient_timeline_events").insert({patient_id:fr.id,type:"update",label:"Medical History Updated",data:pr}),cr("Medical history saved successfully!"),setTimeout(()=>cr(""),3e3)}catch(fr){console.error("Error saving intake:",fr),cr("Error saving medical history"),setTimeout(()=>cr(""),3e3)}finally{or(!1)}}return sr?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-3xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading medical history..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Medical History"}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]})]}),lr&&jsxRuntimeExports.jsx("div",{className:`p-3 rounded ${lr.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:lr}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.keys(FIELD_LABELS).map(fr=>jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-4",children:FIELD_LABELS[fr]}),St[fr]&&St[fr].length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:St[fr].map((mr,pr)=>jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"py-1 px-3",children:[mr,jsxRuntimeExports.jsx("button",{onClick:()=>hr(fr,pr),className:"ml-2 hover:text-red-600",children:jsxRuntimeExports.jsx(X$3,{className:"h-3 w-3"})})]},pr))}):jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["No ",FIELD_LABELS[fr].toLowerCase()," added yet"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[fr==="conditions"?jsxRuntimeExports.jsx(ConditionAutocomplete,{value:rr[fr],onChange:mr=>nr({...rr,[fr]:mr}),onAdd:()=>dr(fr),placeholder:FIELD_PLACEHOLDERS[fr]}):jsxRuntimeExports.jsx(Input,{value:rr[fr],onChange:mr=>nr({...rr,[fr]:mr.target.value}),onKeyPress:mr=>mr.key==="Enter"&&dr(fr),placeholder:FIELD_PLACEHOLDERS[fr],className:"flex-1"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>dr(fr),size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"})})]}),fr==="allergies"&&St.allergies&&St.allergies.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-red-700 text-sm font-medium",children:" Allergy Alert"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm",children:"Please inform all healthcare providers about these allergies."})]})]},fr))}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:Ar,disabled:ar,className:"min-w-[120px]",children:ar?"Saving...":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"mr-2 h-4 w-4"}),"Save History"]})})})]})}function DrugAutocomplete({value:er,onChange:St,placeholder:tr="Start typing medication name...",className:rr=""}){const[nr,sr]=reactExports.useState([]),[ir,ar]=reactExports.useState(!1),or=async fr=>{if(fr.length<2){sr([]);return}ar(!0);try{const{data:mr,error:pr}=await supabase.from("drug_names").select("name").ilike("name",`%${fr}%`).limit(10);pr?(console.error("Error fetching drug suggestions:",pr),sr([])):sr(mr||[])}catch(mr){console.error("Error fetching drug suggestions:",mr),sr([])}finally{ar(!1)}},lr=({value:fr})=>{or(fr)},cr=()=>{sr([])},ur=fr=>fr.name,dr=fr=>jsxRuntimeExports.jsx("div",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer",children:fr.name}),hr={placeholder:tr,value:er,onChange:(fr,{newValue:mr})=>{St(mr)},className:`w-full border p-2 rounded text-sm ${rr}`.trim()},Ar={container:"relative",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"absolute z-10 w-full",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"bg-white shadow border rounded-b max-h-48 overflow-y-auto",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"bg-blue-50",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};return jsxRuntimeExports.jsxs("div",{className:"drug-autocomplete",children:[jsxRuntimeExports.jsx(Autosuggest,{suggestions:nr,onSuggestionsFetchRequested:lr,onSuggestionsClearRequested:cr,getSuggestionValue:ur,renderSuggestion:dr,inputProps:hr,theme:Ar}),ir&&jsxRuntimeExports.jsx("div",{className:"absolute right-2 top-2 text-gray-400",children:jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})}const STRENGTHS=["25 mg","50 mg","100 mg","250 mg","500 mg","1 g"],FREQUENCY=["Once daily","Twice daily","Three times daily","Every 8 hours","As needed"];function Medications(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState({name:"",strength:"",dosage:"",frequency:""}),[nr,sr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),cr=useNavigate();reactExports.useEffect(()=>{ur()},[]);async function ur(){try{const{data:{user:fr}}=await supabase.auth.getUser(),{data:mr}=await supabase.from("medications").select("*").eq("patient_id",fr==null?void 0:fr.id).order("created_at",{ascending:!1});St(mr||[])}catch(fr){console.error("Error loading medications:",fr)}finally{sr(!1)}}function dr(fr,mr){rr({...tr,[fr]:mr})}async function hr(){if(!tr.name){alert("Please enter medication name");return}ar(!0);try{const{data:{user:fr}}=await supabase.auth.getUser(),mr={...tr,patient_id:fr==null?void 0:fr.id},{data:pr,error:gr}=await supabase.from("medications").insert(mr).select().single();if(gr)throw gr;St([pr,...er]),rr({name:"",strength:"",dosage:"",frequency:""}),lr(!1)}catch(fr){console.error("Error adding medication:",fr),alert("Failed to add medication")}finally{ar(!1)}}async function Ar(fr,mr){try{await supabase.from("medications").update({is_active:!mr}).eq("id",fr),St(er.map(pr=>pr.id===fr?{...pr,is_active:!mr}:pr))}catch(pr){console.error("Error updating medication:",pr)}}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"My Medications"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:()=>cr("/patient"),children:" Back"})]}),or?jsxRuntimeExports.jsxs(Card,{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Add New Medication"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Medication Name *"}),jsxRuntimeExports.jsx(DrugAutocomplete,{value:tr.name,onChange:fr=>dr("name",fr)}),tr.name.toLowerCase()==="ibuprofen"&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-2",children:" Ibuprofen may be unsafe for those with kidney disease or ulcers. Please consult a provider."}),tr.name.toLowerCase()==="lisinopril"&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-2",children:" Lisinopril can increase potassium. Avoid potassium supplements unless prescribed."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"strength",children:"Strength"}),jsxRuntimeExports.jsxs("select",{id:"strength",className:"w-full p-2 border rounded",value:tr.strength,onChange:fr=>dr("strength",fr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select strength"}),STRENGTHS.map(fr=>jsxRuntimeExports.jsx("option",{value:fr,children:fr},fr))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"dosage",children:"Dosage"}),jsxRuntimeExports.jsx(Input,{id:"dosage",value:tr.dosage,onChange:fr=>dr("dosage",fr.target.value),placeholder:"e.g., 1 tablet"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"frequency",children:"Frequency"}),jsxRuntimeExports.jsxs("select",{id:"frequency",className:"w-full p-2 border rounded",value:tr.frequency,onChange:fr=>dr("frequency",fr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select frequency"}),FREQUENCY.map(fr=>jsxRuntimeExports.jsx("option",{value:fr,children:fr},fr))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:hr,disabled:ir,children:ir?"Adding...":"Add Medication"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>lr(!1),children:"Cancel"})]})]}):jsxRuntimeExports.jsx(Button$1,{onClick:()=>lr(!0),children:"+ Add Medication"}),nr?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading medications..."}):er.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No medications added yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Keep track of your medications here"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:er.map(fr=>jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:fr.name}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 mt-2 text-sm text-gray-600",children:[fr.strength&&jsxRuntimeExports.jsxs("p",{children:["Strength: ",fr.strength]}),fr.dosage&&jsxRuntimeExports.jsxs("p",{children:["Dosage: ",fr.dosage]}),fr.frequency&&jsxRuntimeExports.jsxs("p",{children:["Frequency: ",fr.frequency]})]})]}),jsxRuntimeExports.jsx(Badge,{variant:fr.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>Ar(fr.id,fr.is_active),children:fr.is_active?"Active":"Inactive"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Added ",new Date(fr.created_at).toLocaleDateString()]})]},fr.id))})]})}const FamilyMemberManager=()=>{const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(""),[ir,ar]=reactExports.useState(""),or=()=>{!tr||!nr||!ir||(St(cr=>[...cr,{id:Date.now(),name:tr,relationship:nr,birthdate:ir}]),rr(""),sr(""),ar(""))},lr=cr=>{St(ur=>ur.filter(dr=>dr.id!==cr))};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Family Members"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Full Name",value:tr,onChange:cr=>rr(cr.target.value)}),jsxRuntimeExports.jsx(Input,{placeholder:"Relationship",value:nr,onChange:cr=>sr(cr.target.value)}),jsxRuntimeExports.jsx(Input,{type:"date",value:ir,onChange:cr=>ar(cr.target.value)})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:or,className:"mt-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-1"})," Add Family Member"]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:er.map(cr=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center p-3 bg-white rounded-xl border shadow-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-800",children:cr.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[cr.relationship,"  ",new Date(cr.birthdate).toLocaleDateString()]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>lr(cr.id),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]},cr.id))})]})},SecureLayout=({children:er})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Insperity Health AI"})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"min-h-screen bg-gradient-to-br from-white via-sky-100 to-blue-200 px-4 py-8 md:px-10",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto w-full",children:jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden border border-white/30 rounded-3xl backdrop-blur-2xl shadow-2xl bg-white/70 p-6 md:p-10 transition-all duration-300 ease-in-out hover:shadow-blue-200",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-6 w-4 h-4 bg-sky-400 rounded-full animate-ping opacity-60"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-3xl border border-white/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:er})]})})})]});function useAICommand(){const{role:er,userId:St}=useUser();return{runCommand:async rr=>{const nr=rr.toLowerCase();let sr="I heard you, but I need more detail.";return er==="patient"?nr.includes("log")&&nr.includes("food")?(sr="Okay, I logged your food entry.",await supabase.from("food_logs").insert({description:rr,patient_id:St})):nr.includes("add")&&nr.includes("medication")?(sr="Medication has been added to your file.",await supabase.from("medications").insert({name:rr,patient_id:St})):nr.includes("book")&&nr.includes("appointment")?(sr="Your appointment has been requested.",await supabase.from("appointments").insert({patient_id:St,type:"AI-booked",appointment_date:new Date})):sr="I'm not sure what to do with that yet, but I saved it.":er==="admin"||er==="owner"?nr.includes("export")&&nr.includes("invoices")?sr="Exporting invoice CSV now.":sr="Command recognized, but this function is admin-only.":sr="You do not have access to this action.",await supabase.from("conversation_insights").insert({user_id:St,role:er,input:rr,response:sr}),{response:sr}}}}function useSpeechRecognition(er={}){const{continuous:St=!1,interimResults:tr=!0,language:rr="en-US",onResult:nr,onError:sr}=er,[ir,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(""),[dr,hr]=reactExports.useState(null),Ar=reactExports.useRef(null);reactExports.useRef(null);const fr=reactExports.useRef(null),mr=reactExports.useRef(null),pr=reactExports.useRef(null),gr=reactExports.useCallback(()=>{const Pr=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Pr)return!1;const Mr=new Pr;return Mr.continuous=St,Mr.interimResults=tr,Mr.lang=rr,Mr.onresult=Ir=>{let Lr="",Qr="";for(let Yr=Ir.resultIndex;Yr<Ir.results.length;Yr++){const Gr=Ir.results[Yr];Gr.isFinal?Lr+=Gr[0].transcript:Qr+=Gr[0].transcript}Lr&&(lr(Yr=>Yr+" "+Lr),nr==null||nr({transcript:Lr,isFinal:!0,confidence:Ir.results[Ir.results.length-1][0].confidence})),ur(Qr),Qr&&tr&&(nr==null||nr({transcript:Qr,isFinal:!1,confidence:0}))},Mr.onerror=Ir=>{const Lr=new Error(`Speech recognition error: ${Ir.error}`);hr(Lr),sr==null||sr(Lr),ar(!1)},Mr.onend=()=>{ar(!1)},Mr.start(),ar(!0),()=>{Mr.stop()}},[St,tr,rr,nr,sr]),xr=reactExports.useCallback(async()=>{try{const Pr=await navigator.mediaDevices.getUserMedia({audio:!0});Ar.current=Pr;const Ir=(supabase.supabaseUrl||"https://dhycdcugbjchktvqlroz.supabase.co").replace("https://","wss://")+"/functions/v1/deepgram-stream",Lr=new WebSocket(Ir);fr.current=Lr,Lr.onopen=()=>{console.log("Connected to Deepgram"),ar(!0),mr.current=new AudioContext;const Qr=mr.current.createMediaStreamSource(Pr),Yr=mr.current.createScriptProcessor(4096,1,1);pr.current=Yr,Yr.onaudioprocess=Gr=>{if(Lr.readyState===WebSocket.OPEN){const $r=Gr.inputBuffer.getChannelData(0),Vr=yr($r,mr.current.sampleRate,16e3),Tr=Er(Vr);Lr.send(Tr)}},Qr.connect(Yr),Yr.connect(mr.current.destination)},Lr.onmessage=Qr=>{var $r,Vr;const Yr=JSON.parse(Qr.data),Gr=(Vr=($r=Yr.channel)==null?void 0:$r.alternatives)==null?void 0:Vr[0];if(Gr)if(Yr.is_final){const Tr=Gr.transcript;lr(Fr=>Fr+" "+Tr),ur(""),nr==null||nr({transcript:Tr,isFinal:!0,confidence:Gr.confidence||0})}else ur(Gr.transcript),tr&&(nr==null||nr({transcript:Gr.transcript,isFinal:!1,confidence:Gr.confidence||0}))},Lr.onerror=Qr=>{const Yr=new Error("WebSocket error");hr(Yr),sr==null||sr(Yr),_r()},Lr.onclose=()=>{_r()}}catch(Pr){const Mr=Pr;hr(Mr),sr==null||sr(Mr),ar(!1)}},[tr,nr,sr]),yr=(Pr,Mr,Ir)=>{if(Mr===Ir)return Pr;const Lr=Mr/Ir,Qr=Math.round(Pr.length/Lr),Yr=new Float32Array(Qr);let Gr=0,$r=0;for(;Gr<Yr.length;){const Vr=Math.round((Gr+1)*Lr);let Tr=0,Fr=0;for(let Wr=$r;Wr<Vr&&Wr<Pr.length;Wr++)Tr+=Pr[Wr],Fr++;Yr[Gr]=Tr/Fr,Gr++,$r=Vr}return Yr},Er=Pr=>{const Mr=Pr.length,Ir=new ArrayBuffer(Mr*2),Lr=new DataView(Ir);let Qr=0;for(;Qr<Mr;){const Yr=Math.max(-1,Math.min(1,Pr[Qr]));Lr.setInt16(Qr*2,Yr<0?Yr*32768:Yr*32767,!0),Qr++}return Ir},_r=()=>{pr.current&&(pr.current.disconnect(),pr.current=null),mr.current&&(mr.current.close(),mr.current=null),fr.current&&(fr.current.close(),fr.current=null),Ar.current&&(Ar.current.getTracks().forEach(Pr=>Pr.stop()),Ar.current=null),ar(!1)},Sr=reactExports.useCallback(async()=>{lr(""),ur(""),hr(null);const Pr=gr();return Pr||(await xr(),Pr)},[gr,xr]),jr=reactExports.useCallback(()=>{_r()},[]);return reactExports.useEffect(()=>()=>{_r()},[]),{start:Sr,stop:jr,isListening:ir,transcript:or,interimTranscript:cr,error:dr,reset:()=>{lr(""),ur(""),hr(null)}}}function useTextToSpeech(){const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(!1),nr=reactExports.useRef(null),sr=reactExports.useRef(null),ir=reactExports.useCallback(async(cr,ur={})=>{const{voice:dr="rachel",model:hr="eleven_monolingual_v1",stream:Ar=!1,onStart:fr,onEnd:mr,onError:pr}=ur;try{rr(!0);const gr=supabase.supabaseUrl||"https://dhycdcugbjchktvqlroz.supabase.co",yr=await fetch(`${gr}/functions/v1/${Ar?"eleven-speak-stream":"eleven-speak"}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${supabase.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoeWNkY3VnYmpjaGt0dnFscm96Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMTk1MzQsImV4cCI6MjA2ODc5NTUzNH0.DknqvlCCYOSLe3olTMtRA8jAoNMRg17aAesYLuo6TUI"}`},body:JSON.stringify({text:cr,voice:dr,model:hr,stream:Ar})});if(!yr.ok)throw new Error(`TTS request failed: ${yr.statusText}`);if(rr(!1),St(!0),fr==null||fr(),Ar){const Er=yr.body.getReader(),_r=[];for(;;){const{done:Sr,value:jr}=await Er.read();if(Sr)break;_r.push(jr),_r.length===1&&or(_r)}}else{const Er=await yr.arrayBuffer();await ar(Er)}St(!1),mr==null||mr()}catch(gr){rr(!1),St(!1),pr==null||pr(gr),console.error("TTS Error:",gr)}},[]),ar=reactExports.useCallback(async cr=>{nr.current||(nr.current=new AudioContext);try{const ur=await nr.current.decodeAudioData(cr),dr=nr.current.createBufferSource();dr.buffer=ur,dr.connect(nr.current.destination),dr.onended=()=>{St(!1),sr.current=null},sr.current=dr,dr.start(0)}catch(ur){console.error("Audio playback error:",ur),St(!1)}},[]),or=reactExports.useCallback(async cr=>{const ur=new Uint8Array(cr.reduce((hr,Ar)=>hr+Ar.length,0));let dr=0;for(const hr of cr)ur.set(hr,dr),dr+=hr.length;await ar(ur.buffer)},[ar]),lr=reactExports.useCallback(()=>{sr.current&&(sr.current.stop(),sr.current=null,St(!1))},[]);return{speak:ir,stop:lr,isSpeaking:er,isLoading:tr}}function CommandBar(){const er=reactExports.useRef(null),[St,tr]=reactExports.useState(""),[rr,nr]=reactExports.useState(!1),{runCommand:sr}=useAICommand(),{transcript:ir,listening:ar,startListening:or,stopListening:lr,resetTranscript:cr}=useSpeechRecognition(),{speak:ur}=useTextToSpeech(),dr=async Ar=>{if(!Ar)return;nr(!0);const fr=await sr(Ar);fr!=null&&fr.response&&ur(fr.response),tr(""),nr(!1)},hr=()=>{ar?(lr(),ir&&dr(ir),cr()):or()};return jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-xl px-4 z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-background/80 backdrop-blur border border-white/10 rounded-full shadow-lg p-2",children:[jsxRuntimeExports.jsx(Input,{ref:er,value:St,onChange:Ar=>tr(Ar.target.value),onKeyDown:Ar=>{Ar.key==="Enter"&&dr(St)},placeholder:"Ask me anything...",className:"bg-transparent border-none focus-visible:ring-0 text-white px-4"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>dr(St),size:"icon",variant:"ghost",disabled:rr,children:jsxRuntimeExports.jsx(Send,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsx(Button$1,{onClick:hr,size:"icon",variant:"ghost",children:jsxRuntimeExports.jsx(Mic,{className:`h-5 w-5 ${ar?"text-emerald-500 animate-pulse":"text-white"}`})})]})})}function Family(){const er=useNavigate();return jsxRuntimeExports.jsx(SecureLayout,{children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[jsxRuntimeExports.jsx(CommandBar,{}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient/dashboard"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Family Members"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your family members and dependents"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(FamilyMemberManager,{})})]})})}async function getPatientTimelineData(er){try{const{data:St,error:tr}=await supabase.from("patient_timeline_events").select("*").eq("patient_id",er).order("created_at",{ascending:!1});return tr?(console.error(" Timeline fetch error:",tr.message),[]):St}catch(St){return console.error(" Unexpected error:",St),[]}}function TimelineView(){const{user:er}=useUser(),[St,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(!0);return reactExports.useEffect(()=>{er!=null&&er.id&&getPatientTimelineData(er.id).then(sr=>{tr(sr),nr(!1)})},[er]),rr?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm italic",children:"Loading timeline..."}):St.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No timeline entries found."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:St.map(sr=>jsxRuntimeExports.jsxs(Card,{className:"p-4 bg-white/90 border border-gray-100 shadow-md rounded-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-1",children:new Date(sr.created_at).toLocaleString()}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:sr.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:JSON.stringify(sr.data)})]},sr.id))})}const EVENT_TYPES=[{value:"all",label:"All Events"},{value:"update",label:"Updates"},{value:"upload",label:"Uploads"},{value:"ai",label:"AI Interactions"},{value:"vitals",label:"Vitals"},{value:"lab",label:"Lab Results"},{value:"visit",label:"Visits"},{value:"med",label:"Medications"}];function Timeline(){const er=useNavigate(),[St,tr]=reactExports.useState(""),[rr,nr]=reactExports.useState("all"),[sr,ir]=reactExports.useState("all");reactExports.useEffect(()=>{ar()},[]);async function ar(){const{data:{user:or}}=await supabase.auth.getUser();or&&tr(or.id)}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Medical Timeline"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Your complete medical history and activity"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("select",{value:rr,onChange:or=>nr(or.target.value),className:"border rounded px-3 py-1 text-sm",children:EVENT_TYPES.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("select",{value:sr,onChange:or=>ir(or.target.value),className:"border rounded px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"year",children:"This Year"})]})]})]}),St&&jsxRuntimeExports.jsx(TimelineView,{patientId:St})]})}const fileCategories=[{value:"lab_result",label:"Lab Result"},{value:"imaging",label:"Imaging/Scan"},{value:"prescription",label:"Prescription"},{value:"insurance",label:"Insurance Document"},{value:"medical_record",label:"Medical Record"},{value:"vaccination",label:"Vaccination Record"},{value:"other",label:"Other"}];class FileUploadService{constructor(){ps(this,"bucketName","patient-uploads")}async uploadFile(St,tr,rr,nr){try{if(St.size>10485760)return{success:!1,error:"File size exceeds 10MB limit"};if(!["application/pdf","image/jpeg","image/jpg","image/png","image/gif","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(St.type))return{success:!1,error:"File type not allowed"};const ar=St.name.split(".").pop(),or=`${tr}/${Date.now()}-${Math.random().toString(36).substring(7)}.${ar}`,{data:lr,error:cr}=await supabase.storage.from(this.bucketName).upload(or,St,{cacheControl:"3600",upsert:!1});if(cr)return console.error("Upload error:",cr),{success:!1,error:"Failed to upload file"};const ur={patient_id:tr,filename:St.name,url:or,type:rr},{data:dr,error:hr}=await supabase.from("uploads").insert(ur).select().single();return hr?(await supabase.storage.from(this.bucketName).remove([or]),console.error("Database error:",hr),{success:!1,error:"Failed to save file information"}):(await supabase.from("patient_timeline_events").insert({patient_id:tr,type:"upload",label:`Uploaded ${this.getCategoryLabel(rr)}: ${St.name}`,data:{url:or,type:St.type}}),{success:!0,data:dr})}catch(sr){return console.error("Upload error:",sr),{success:!1,error:"An unexpected error occurred"}}}async getFiles(St,tr){try{let rr=supabase.from("uploads").select("*").eq("patient_id",St).order("created_at",{ascending:!1});tr&&(rr=rr.eq("type",tr));const{data:nr,error:sr}=await rr;if(sr)throw sr;return{success:!0,data:nr}}catch(rr){return console.error("Error fetching files:",rr),{success:!1,error:"Failed to fetch files"}}}async getFileUrl(St,tr=3600){try{const{data:rr,error:nr}=await supabase.storage.from(this.bucketName).createSignedUrl(St,tr);if(nr)throw nr;return{success:!0,url:rr.signedUrl}}catch(rr){return console.error("Error getting file URL:",rr),{success:!1,error:"Failed to get file URL"}}}async deleteFile(St,tr,rr){try{const{error:nr}=await supabase.storage.from(this.bucketName).remove([tr]);if(nr)throw nr;const{error:sr}=await supabase.from("uploads").delete().eq("id",St).eq("patient_id",rr);if(sr)throw sr;return await supabase.from("patient_timeline_events").insert({patient_id:rr,type:"update",label:"Deleted uploaded file",data:{file_id:St}}),{success:!0}}catch(nr){return console.error("Error deleting file:",nr),{success:!1,error:"Failed to delete file"}}}getCategoryLabel(St){const tr=fileCategories.find(rr=>rr.value===St);return tr?tr.label:"Document"}}const fileUploadService=new FileUploadService;function FileUpload({patientId:er,onUploadComplete:St}){const[tr,rr]=reactExports.useState(null),[nr,sr]=reactExports.useState("medical_record"),[ir,ar]=reactExports.useState(""),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(""),[dr,hr]=reactExports.useState(!1),Ar=reactExports.useRef(null),fr=xr=>{var Er;const yr=(Er=xr.target.files)==null?void 0:Er[0];yr&&(rr(yr),ur(""),hr(!1))},mr=async()=>{if(!tr)return;lr(!0),ur(""),hr(!1);const xr=await fileUploadService.uploadFile(tr,er,nr,ir);xr.success?(hr(!0),rr(null),ar(""),Ar.current&&(Ar.current.value=""),St&&St(),setTimeout(()=>hr(!1),3e3)):ur(xr.error||"Upload failed"),lr(!1)},pr=xr=>xr.startsWith("image/")?jsxRuntimeExports.jsx(Image$1,{className:"h-8 w-8"}):xr==="application/pdf"?jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 text-red-500"}):jsxRuntimeExports.jsx(File$1,{className:"h-8 w-8"}),gr=xr=>xr<1024?xr+" B":xr<1024*1024?(xr/1024).toFixed(1)+" KB":(xr/(1024*1024)).toFixed(1)+" MB";return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Document"}),jsxRuntimeExports.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${tr?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var xr;return(xr=Ar.current)==null?void 0:xr.click()},children:[jsxRuntimeExports.jsx("input",{ref:Ar,type:"file",className:"hidden",onChange:fr,accept:".pdf,.jpg,.jpeg,.png,.gif,.doc,.docx"}),tr?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[pr(tr.type),jsxRuntimeExports.jsx("p",{className:"font-medium",children:tr.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:gr(tr.size)}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:xr=>{xr.stopPropagation(),rr(null),Ar.current&&(Ar.current.value="")},children:[jsxRuntimeExports.jsx(X$3,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Click to select a file"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PDF, JPG, PNG, GIF, DOC, DOCX (max 10MB)"})]})]}),tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),jsxRuntimeExports.jsx("select",{value:nr,onChange:xr=>sr(xr.target.value),className:"w-full border rounded-md p-2",children:fileCategories.map(xr=>jsxRuntimeExports.jsx("option",{value:xr.value,children:xr.label},xr.value))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"}),jsxRuntimeExports.jsx("textarea",{value:ir,onChange:xr=>ar(xr.target.value),className:"w-full border rounded-md p-2",rows:2,placeholder:"Add any notes about this document..."})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full mt-4",onClick:mr,disabled:or,children:or?"Uploading...":"Upload Document"})]}),cr&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:cr}),dr&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Document uploaded successfully!"})]})}function FileViewer({patientId:er,category:St,showUpload:tr=!1}){const[rr,nr]=reactExports.useState([]),[sr,ir]=reactExports.useState(!0),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(null);reactExports.useEffect(()=>{hr()},[er,St]);async function hr(){ir(!0);const xr=await fileUploadService.getFiles(er,St);xr.success&&nr(xr.data||[]),ir(!1)}async function Ar(xr){const yr=await fileUploadService.getFileUrl(xr.url);yr.success&&yr.url&&(cr(yr.url),or(xr))}async function fr(xr){const yr=await fileUploadService.getFileUrl(xr.url);if(yr.success&&yr.url){const Er=document.createElement("a");Er.href=yr.url,Er.download=xr.filename,document.body.appendChild(Er),Er.click(),document.body.removeChild(Er)}}async function mr(xr){if(!confirm(`Are you sure you want to delete ${xr.filename}?`))return;dr(xr.id),(await fileUploadService.deleteFile(xr.id,xr.url,er)).success&&nr(rr.filter(Er=>Er.id!==xr.id)),dr(null)}const pr=xr=>{var Er;const yr=(Er=xr.split(".").pop())==null?void 0:Er.toLowerCase();return["jpg","jpeg","png","gif"].includes(yr||"")?jsxRuntimeExports.jsx(Image$1,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"})},gr=xr=>{const yr={lab_result:"bg-purple-100 text-purple-700",imaging:"bg-blue-100 text-blue-700",prescription:"bg-green-100 text-green-700",insurance:"bg-orange-100 text-orange-700",medical_record:"bg-indigo-100 text-indigo-700",vaccination:"bg-pink-100 text-pink-700",other:"bg-gray-100 text-gray-700"};return yr[xr]||yr.other};return sr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading documents..."}):rr.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"}),tr&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload your medical documents to keep them organized"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"space-y-3",children:rr.map(xr=>{var yr;return jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded",children:pr(xr.filename)}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:xr.filename}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-3 w-3"}),new Date(xr.created_at).toLocaleDateString()]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-2",children:jsxRuntimeExports.jsx(Badge,{className:gr(xr.type),children:((yr=fileCategories.find(Er=>Er.value===xr.type))==null?void 0:yr.label)||xr.type})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>Ar(xr),title:"View",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>fr(xr),title:"Download",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>mr(xr),disabled:ur===xr.id,title:"Delete",className:"hover:text-red-600",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})},xr.id)})}),ar&&lr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>{or(null),cr("")},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-hidden",onClick:xr=>xr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:ar.filename}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{or(null),cr("")},children:""})]}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-auto max-h-[calc(90vh-120px)]",children:(()=>{var _r;const xr=(_r=ar.filename.split(".").pop())==null?void 0:_r.toLowerCase(),yr=["jpg","jpeg","png","gif"].includes(xr||""),Er=xr==="pdf";return yr?jsxRuntimeExports.jsx("img",{src:lr,alt:ar.filename,className:"max-w-full mx-auto"}):Er?jsxRuntimeExports.jsx("iframe",{src:lr,className:"w-full h-[70vh]",title:ar.filename}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Preview not available for this file type"}),jsxRuntimeExports.jsxs(Button$1,{className:"mt-4",onClick:()=>fr(ar),children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})()})]})})]})}function Documents(){const er=useNavigate(),[St,tr]=reactExports.useState(""),[rr,nr]=reactExports.useState("all"),[sr,ir]=reactExports.useState(0);reactExports.useEffect(()=>{ar()},[]);async function ar(){const{data:{user:lr}}=await supabase.auth.getUser();lr&&tr(lr.id)}const or=()=>{ir(lr=>lr+1)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"My Documents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Upload and manage your medical documents"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-1",children:St&&jsxRuntimeExports.jsx(FileUpload,{patientId:St,onUploadComplete:or})}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("select",{value:rr,onChange:lr=>nr(lr.target.value),className:"border rounded px-3 py-1 text-sm flex-1",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Categories"}),fileCategories.map(lr=>jsxRuntimeExports.jsx("option",{value:lr.value,children:lr.label},lr.value))]})]}),St&&jsxRuntimeExports.jsx(FileViewer,{patientId:St,category:rr==="all"?void 0:rr,showUpload:!0},sr)]})]})]})}function generateJitsiLink(er){return`https://meet.jit.si/purity-health-${er}`}const ICONS=["","",""];function Spinner({size:er=48}){const[St,tr]=reactExports.useState(0);return reactExports.useEffect(()=>{const rr=setInterval(()=>{tr(nr=>(nr+1)%ICONS.length)},800);return()=>clearInterval(rr)},[]),jsxRuntimeExports.jsx("div",{role:"status","aria-label":"Loading",className:"flex items-center justify-center",style:{fontSize:`${er}px`},children:jsxRuntimeExports.jsx("span",{className:"animate-pulse transition-all duration-300 ease-in-out",children:ICONS[St]})})}async function saveTranscriptLine(er,St,tr){await supabase.from("appointment_transcripts").insert({appointment_id:er,speaker:St,text:tr})}var define_process_env_default={};function useDeepgramTranscription({appointmentId:er,speaker:St,onTranscript:tr}){const[rr,nr]=reactExports.useState(!1),[sr,ir]=reactExports.useState(null),ar=reactExports.useRef(null),or=reactExports.useRef(null);async function lr(){try{const ur=await navigator.mediaDevices.getUserMedia({audio:!0}),dr=new WebSocket("wss://api.deepgram.com/v1/listen?encoding=linear16&sample_rate=16000&language=en-US",["token",define_process_env_default.VITE_DEEPGRAM_API_KEY||""]);dr.onopen=()=>{console.log("Deepgram connection opened"),nr(!0)},dr.onmessage=async Ar=>{var pr,gr,xr;const mr=(xr=(gr=(pr=JSON.parse(Ar.data).channel)==null?void 0:pr.alternatives)==null?void 0:gr[0])==null?void 0:xr.transcript;mr&&mr.length>0&&(await saveTranscriptLine(er,St,mr),tr&&tr(mr))},dr.onerror=Ar=>{console.error("Deepgram error:",Ar),ir("Transcription error occurred")},dr.onclose=()=>{console.log("Deepgram connection closed"),nr(!1)};const hr=new MediaRecorder(ur,{mimeType:"audio/webm"});hr.ondataavailable=Ar=>{Ar.data.size>0&&dr.readyState===WebSocket.OPEN&&dr.send(Ar.data)},hr.start(250),ar.current=dr,or.current=hr}catch(ur){console.error("Failed to start recording:",ur),ir("Failed to access microphone")}}function cr(){or.current&&(or.current.stop(),or.current.stream.getTracks().forEach(ur=>ur.stop())),ar.current&&ar.current.close(),nr(!1)}return reactExports.useEffect(()=>()=>{cr()},[]),{isRecording:rr,error:sr,startRecording:lr,stopRecording:cr}}function TranscriptionControls({appointmentId:er}){const[St,tr]=reactExports.useState("provider"),[rr,nr]=reactExports.useState([]),{isRecording:sr,error:ir,startRecording:ar,stopRecording:or}=useDeepgramTranscription({appointmentId:er,speaker:St,onTranscript:lr=>{nr(cr=>[...cr.slice(-4),lr])}});return jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Live Transcription"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:St==="provider"?"default":"outline",onClick:()=>tr("provider"),children:[jsxRuntimeExports.jsx(Stethoscope,{className:"h-4 w-4 mr-1"}),"Provider"]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:St==="patient"?"default":"outline",onClick:()=>tr("patient"),children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4 mr-1"}),"Patient"]})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:sr?or:ar,variant:sr?"destructive":"default",className:"w-full",children:sr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MicOff,{className:"h-4 w-4 mr-2"}),"Stop Recording"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Mic,{className:"h-4 w-4 mr-2"}),"Start Recording as ",St]})}),ir&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:ir}),rr.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent transcripts:"}),rr.map((lr,cr)=>jsxRuntimeExports.jsxs("p",{className:"text-sm p-2 bg-gray-50 rounded",children:["[",St.toUpperCase(),"]: ",lr]},cr))]})]})})}function CompleteVisitButton({appointmentId:er,onComplete:St}){const[tr,rr]=reactExports.useState(!1);async function nr(){var sr;rr(!0);try{if(!(await fetch("https://dhycdcugbjchktvqlroz.supabase.co/functions/v1/complete-visit",{method:"POST",headers:{Authorization:`Bearer ${(sr=(await supabase.auth.getSession()).data.session)==null?void 0:sr.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({appointmentId:er})})).ok)throw new Error("Failed to complete visit");const{data:{user:ar}}=await supabase.auth.getUser();ar&&await supabase.from("patient_timeline_events").insert({patient_id:ar.id,type:"visit",label:"Visit Completed",data:{appointment_id:er,completed_at:new Date}}),alert("Visit completed successfully! SOAP note will be generated shortly."),St&&St()}catch(ir){console.error("Error completing visit:",ir),alert("Failed to complete visit. Please try again.")}finally{rr(!1)}}return jsxRuntimeExports.jsx(Button$1,{onClick:nr,disabled:tr,size:"lg",className:"bg-green-600 hover:bg-green-700",children:tr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"h-5 w-5 mr-2 animate-spin"}),"Completing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{className:"h-5 w-5 mr-2"}),"Complete Visit"]})})}function useRole(){var tr;const er=dist$3.useUser(),St=((tr=er==null?void 0:er.user_metadata)==null?void 0:tr.role)||null;return{role:St,isAdmin:St==="admin",isOwner:St==="owner",isEmployer:St==="employer",isPatient:St==="patient",hasRole:rr=>St!==null&&rr.includes(St)}}function TelemedVisit(){const{appointmentId:er}=useParams(),St=useNavigate(),{role:tr}=useRole(),[rr,nr]=reactExports.useState(""),[sr,ir]=reactExports.useState(!0),[ar,or]=reactExports.useState(null);return reactExports.useEffect(()=>{er&&(async()=>{try{const{data:lr}=await supabase.from("appointments").select("*").eq("id",er).maybeSingle();if(!lr){console.error("Appointment not found"),ir(!1);return}or(lr);let cr=lr.video_url;cr||(cr=generateJitsiLink(er),await supabase.from("appointments").update({video_url:cr}).eq("id",er)),lr.status==="pending"&&await supabase.from("appointments").update({status:"in_progress"}).eq("id",er),await supabase.from("patient_timeline_events").insert({patient_id:lr.patient_id,type:"visit",label:"Video Visit Started",data:{appointment_id:lr.id}}),nr(cr)}catch(lr){console.error("Error setting up video session:",lr)}finally{ir(!1)}})()},[er]),sr?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-[80vh]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Spinner,{size:"lg"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your video session..."})]})}):rr?jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Telemedicine Visit"}),ar&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("p",{children:["Date: ",new Date(ar.date).toLocaleDateString()]}),jsxRuntimeExports.jsxs("p",{children:["Time: ",ar.time]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3",children:[jsxRuntimeExports.jsx("iframe",{title:"Telemedicine Session",src:rr,className:"w-full h-[80vh] rounded-xl border shadow-xl",allow:"camera; microphone; fullscreen; display-capture"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-800",children:jsxRuntimeExports.jsx("strong",{children:"Tips for your video visit:"})}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"Ensure your camera and microphone are enabled"}),jsxRuntimeExports.jsx("li",{children:"Find a quiet, well-lit location"}),jsxRuntimeExports.jsx("li",{children:"Have your medications and any relevant documents ready"}),jsxRuntimeExports.jsx("li",{children:"Your provider will join the session at the scheduled time"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[er&&jsxRuntimeExports.jsx(TranscriptionControls,{appointmentId:er}),tr==="provider"&&(ar==null?void 0:ar.status)==="in_progress"&&jsxRuntimeExports.jsx(CompleteVisitButton,{appointmentId:er,onComplete:()=>{St("/provider/dashboard")}})]})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-[80vh]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Unable to start video session"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please contact support"})]})})}function ShareAccess(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(""),[ir,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState({access_labs:!0,access_meds:!0,access_appointments:!0,access_uploads:!0,access_timeline:!0});reactExports.useEffect(()=>{cr()},[]);async function cr(){try{const hr=supabase.auth.user(),{data:Ar}=await supabase.from("patient_shares").select(`
          *,
          shared_with:shared_with_id(full_name, email)
        `).eq("owner_id",hr.id).order("created_at",{ascending:!1});St(Ar||[])}catch(hr){console.error("Error loading shares:",hr)}finally{rr(!1)}}async function ur(){if(nr.trim()){ar(!0);try{const hr=supabase.auth.user(),{data:Ar}=await supabase.from("users").select("id").eq("email",nr.trim()).single();if(!Ar){alert("User not found with that email address");return}if(er.find(pr=>pr.shared_with_id===Ar.id&&!pr.revoked)){alert("You already share access with this user");return}const{error:mr}=await supabase.from("patient_shares").insert({owner_id:hr.id,shared_with_id:Ar.id,...or});if(mr)throw mr;await cr(),sr(""),alert("Access shared successfully!")}catch(hr){console.error("Error sharing access:",hr),alert("Failed to share access")}finally{ar(!1)}}}async function dr(hr){try{const{error:Ar}=await supabase.from("patient_shares").update({revoked:!0}).eq("id",hr);if(Ar)throw Ar;await cr()}catch(Ar){console.error("Error revoking share:",Ar),alert("Failed to revoke access")}}return tr?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Share My Health Data"})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5"}),"Share Access with Someone"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Enter email address",value:nr,onChange:hr=>sr(hr.target.value)}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Select what to share:"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or.access_labs,onChange:hr=>lr({...or,access_labs:hr.target.checked})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Lab Results"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or.access_meds,onChange:hr=>lr({...or,access_meds:hr.target.checked})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Medications & Medical History"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or.access_appointments,onChange:hr=>lr({...or,access_appointments:hr.target.checked})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Appointments"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or.access_uploads,onChange:hr=>lr({...or,access_uploads:hr.target.checked})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Documents"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or.access_timeline,onChange:hr=>lr({...or,access_timeline:hr.target.checked})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Timeline Events"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:ur,disabled:ir||!nr.trim(),className:"w-full",children:ir?"Sharing...":"Share Access"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-lg",children:"People with Access"}),er.filter(hr=>!hr.revoked).length===0?jsxRuntimeExports.jsx(Card,{className:"p-6 text-center text-gray-500",children:"You haven't shared your health data with anyone yet"}):er.filter(hr=>!hr.revoked).map(hr=>{var Ar,fr;return jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:(Ar=hr.shared_with)==null?void 0:Ar.full_name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:(fr=hr.shared_with)==null?void 0:fr.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Shared on ",new Date(hr.created_at).toLocaleDateString()]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[hr.access_labs&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Labs"}),hr.access_meds&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Medications"}),hr.access_appointments&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Appointments"}),hr.access_uploads&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Documents"}),hr.access_timeline&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Timeline"})]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"destructive",size:"sm",onClick:()=>dr(hr.id),children:[jsxRuntimeExports.jsx(X$3,{className:"h-4 w-4"}),"Revoke"]})]})},hr.id)})]}),er.filter(hr=>hr.revoked).length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-lg text-gray-600",children:"Revoked Access"}),er.filter(hr=>hr.revoked).map(hr=>{var Ar,fr;return jsxRuntimeExports.jsx(Card,{className:"p-4 opacity-60",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:(Ar=hr.shared_with)==null?void 0:Ar.full_name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:(fr=hr.shared_with)==null?void 0:fr.email}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Access revoked"})]})})},hr.id)})]})]})}function SharedPatientView(){const{patientId:er}=useParams(),St=useNavigate(),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState(null),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),[dr,hr]=reactExports.useState([]),[Ar,fr]=reactExports.useState([]),[mr,pr]=reactExports.useState([]),[gr,xr]=reactExports.useState("labs");reactExports.useEffect(()=>{er&&yr()},[er]);async function yr(){try{const Er=await checkPatientAccess(er);if(ar(Er),!Er.canSeeLabs&&!Er.canSeeMeds&&!Er.canSeeAppointments&&!Er.canSeeUploads&&!Er.canSeeTimeline){rr(!1);return}const{data:_r}=await supabase.from("users").select("id, full_name, email").eq("id",er).single();if(sr(_r),Er.canSeeLabs){const{data:Sr}=await supabase.from("lab_results").select("*").eq("patient_id",er).order("date",{ascending:!1});lr(Sr||[])}if(Er.canSeeMeds){const{data:Sr}=await supabase.from("medications").select("*").eq("patient_id",er).eq("is_active",!0).order("created_at",{ascending:!1});ur(Sr||[])}if(Er.canSeeAppointments){const{data:Sr}=await supabase.from("appointments").select("*").eq("patient_id",er).order("date",{ascending:!1});hr(Sr||[])}if(Er.canSeeTimeline){const{data:Sr}=await supabase.from("patient_timeline_events").select("*").eq("patient_id",er).order("created_at",{ascending:!1}).limit(20);fr(Sr||[])}if(Er.canSeeUploads){const{data:Sr}=await supabase.from("uploads").select("*").eq("patient_id",er).order("created_at",{ascending:!1});pr(Sr||[])}}catch(Er){console.error("Error loading shared data:",Er)}finally{rr(!1)}}return tr?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-screen-xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading shared health data..."})}):!ir||!ir.canSeeLabs&&!ir.canSeeMeds&&!ir.canSeeAppointments&&!ir.canSeeUploads&&!ir.canSeeTimeline?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-screen-xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"You don't have access to view this patient's data"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>St("/patient"),className:"mt-4",children:"Back to Dashboard"})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>St("/patient"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"}),"Back"]})}),nr&&jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"h-8 w-8 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold",children:[nr.full_name,"'s Health Data"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Shared with you"})]})]})]})})}),jsxRuntimeExports.jsxs(Tabs,{value:gr,onValueChange:xr,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-5",children:[ir.canSeeLabs&&jsxRuntimeExports.jsx(TabsTrigger,{value:"labs",children:"Lab Results"}),ir.canSeeMeds&&jsxRuntimeExports.jsx(TabsTrigger,{value:"medications",children:"Medications"}),ir.canSeeAppointments&&jsxRuntimeExports.jsx(TabsTrigger,{value:"appointments",children:"Appointments"}),ir.canSeeTimeline&&jsxRuntimeExports.jsx(TabsTrigger,{value:"timeline",children:"Timeline"}),ir.canSeeUploads&&jsxRuntimeExports.jsx(TabsTrigger,{value:"documents",children:"Documents"})]}),ir.canSeeLabs&&jsxRuntimeExports.jsx(TabsContent,{value:"labs",className:"space-y-4",children:or.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No lab results available"})]}):or.map((Er,_r)=>jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[Er.panel," - ",Er.date]}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-3",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Test"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"pb-1",children:"Reference"})]})}),jsxRuntimeExports.jsx("tbody",{children:(Er.results||[]).map((Sr,jr)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Sr.name}),jsxRuntimeExports.jsxs("td",{className:"py-1 font-medium",children:[Sr.value," ",Sr.unit]}),jsxRuntimeExports.jsx("td",{className:"py-1 text-gray-500",children:Sr.reference})]},jr))})]})]},_r))}),ir.canSeeMeds&&jsxRuntimeExports.jsx(TabsContent,{value:"medications",className:"space-y-4",children:cr.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Pill,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No active medications"})]}):cr.map(Er=>jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-lg",children:Er.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[jsxRuntimeExports.jsxs("p",{children:["Strength: ",Er.strength]}),jsxRuntimeExports.jsxs("p",{children:["Dosage: ",Er.dosage]}),jsxRuntimeExports.jsxs("p",{children:["Frequency: ",Er.frequency]})]})]}),jsxRuntimeExports.jsx(Badge,{children:"Active"})]})},Er.id))}),ir.canSeeAppointments&&jsxRuntimeExports.jsx(TabsContent,{value:"appointments",className:"space-y-4",children:dr.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No appointments scheduled"})]}):dr.map(Er=>jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:Er.reason}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[new Date(Er.date).toLocaleDateString()," at ",Er.time]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:Er.type})]}),jsxRuntimeExports.jsx(Badge,{children:Er.status})]})},Er.id))}),ir.canSeeTimeline&&jsxRuntimeExports.jsx(TabsContent,{value:"timeline",className:"space-y-4",children:Ar.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Clock,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No timeline events"})]}):Ar.map(Er=>jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:Er.label}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[new Date(Er.created_at).toLocaleDateString()," at"," ",new Date(Er.created_at).toLocaleTimeString()]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:Er.type})]})},Er.id))}),ir.canSeeUploads&&jsxRuntimeExports.jsx(TabsContent,{value:"documents",className:"space-y-4",children:mr.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No documents uploaded"})]}):mr.map(Er=>jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsxs("a",{href:Er.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:[" ",Er.filename]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Uploaded on ",new Date(Er.created_at).toLocaleDateString()]})]},Er.id))})]})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(er,St){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,rr){tr.__proto__=rr}||function(tr,rr){for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])},extendStatics(er,St)};function __extends(er,St){if(typeof St!="function"&&St!==null)throw new TypeError("Class extends value "+String(St)+" is not a constructor or null");extendStatics(er,St);function tr(){this.constructor=er}er.prototype=St===null?Object.create(St):(tr.prototype=St.prototype,new tr)}var __assign=function(){return __assign=Object.assign||function(St){for(var tr,rr=1,nr=arguments.length;rr<nr;rr++){tr=arguments[rr];for(var sr in tr)Object.prototype.hasOwnProperty.call(tr,sr)&&(St[sr]=tr[sr])}return St},__assign.apply(this,arguments)};function __awaiter(er,St,tr,rr){function nr(sr){return sr instanceof tr?sr:new tr(function(ir){ir(sr)})}return new(tr||(tr=Promise))(function(sr,ir){function ar(cr){try{lr(rr.next(cr))}catch(ur){ir(ur)}}function or(cr){try{lr(rr.throw(cr))}catch(ur){ir(ur)}}function lr(cr){cr.done?sr(cr.value):nr(cr.value).then(ar,or)}lr((rr=rr.apply(er,[])).next())})}function __generator(er,St){var tr={label:0,sent:function(){if(sr[0]&1)throw sr[1];return sr[1]},trys:[],ops:[]},rr,nr,sr,ir;return ir={next:ar(0),throw:ar(1),return:ar(2)},typeof Symbol=="function"&&(ir[Symbol.iterator]=function(){return this}),ir;function ar(lr){return function(cr){return or([lr,cr])}}function or(lr){if(rr)throw new TypeError("Generator is already executing.");for(;tr;)try{if(rr=1,nr&&(sr=lr[0]&2?nr.return:lr[0]?nr.throw||((sr=nr.return)&&sr.call(nr),0):nr.next)&&!(sr=sr.call(nr,lr[1])).done)return sr;switch(nr=0,sr&&(lr=[lr[0]&2,sr.value]),lr[0]){case 0:case 1:sr=lr;break;case 4:return tr.label++,{value:lr[1],done:!1};case 5:tr.label++,nr=lr[1],lr=[0];continue;case 7:lr=tr.ops.pop(),tr.trys.pop();continue;default:if(sr=tr.trys,!(sr=sr.length>0&&sr[sr.length-1])&&(lr[0]===6||lr[0]===2)){tr=0;continue}if(lr[0]===3&&(!sr||lr[1]>sr[0]&&lr[1]<sr[3])){tr.label=lr[1];break}if(lr[0]===6&&tr.label<sr[1]){tr.label=sr[1],sr=lr;break}if(sr&&tr.label<sr[2]){tr.label=sr[2],tr.ops.push(lr);break}sr[2]&&tr.ops.pop(),tr.trys.pop();continue}lr=St.call(er,tr)}catch(cr){lr=[6,cr],nr=0}finally{rr=sr=0}if(lr[0]&5)throw lr[1];return{value:lr[0]?lr[1]:void 0,done:!0}}}function __spreadArray(er,St,tr){if(arguments.length===2)for(var rr=0,nr=St.length,sr;rr<nr;rr++)(sr||!(rr in St))&&(sr||(sr=Array.prototype.slice.call(St,0,rr)),sr[rr]=St[rr]);return er.concat(sr||St)}var Bounds=function(){function er(St,tr,rr,nr){this.left=St,this.top=tr,this.width=rr,this.height=nr}return er.prototype.add=function(St,tr,rr,nr){return new er(this.left+St,this.top+tr,this.width+rr,this.height+nr)},er.fromClientRect=function(St,tr){return new er(tr.left+St.windowBounds.left,tr.top+St.windowBounds.top,tr.width,tr.height)},er.fromDOMRectList=function(St,tr){var rr=Array.from(tr).find(function(nr){return nr.width!==0});return rr?new er(rr.left+St.windowBounds.left,rr.top+St.windowBounds.top,rr.width,rr.height):er.EMPTY},er.EMPTY=new er(0,0,0,0),er}(),parseBounds=function(er,St){return Bounds.fromClientRect(er,St.getBoundingClientRect())},parseDocumentSize=function(er){var St=er.body,tr=er.documentElement;if(!St||!tr)throw new Error("Unable to get document size");var rr=Math.max(Math.max(St.scrollWidth,tr.scrollWidth),Math.max(St.offsetWidth,tr.offsetWidth),Math.max(St.clientWidth,tr.clientWidth)),nr=Math.max(Math.max(St.scrollHeight,tr.scrollHeight),Math.max(St.offsetHeight,tr.offsetHeight),Math.max(St.clientHeight,tr.clientHeight));return new Bounds(0,0,rr,nr)},toCodePoints$1=function(er){for(var St=[],tr=0,rr=er.length;tr<rr;){var nr=er.charCodeAt(tr++);if(nr>=55296&&nr<=56319&&tr<rr){var sr=er.charCodeAt(tr++);(sr&64512)===56320?St.push(((nr&1023)<<10)+(sr&1023)+65536):(St.push(nr),tr--)}else St.push(nr)}return St},fromCodePoint$1=function(){for(var er=[],St=0;St<arguments.length;St++)er[St]=arguments[St];if(String.fromCodePoint)return String.fromCodePoint.apply(String,er);var tr=er.length;if(!tr)return"";for(var rr=[],nr=-1,sr="";++nr<tr;){var ir=er[nr];ir<=65535?rr.push(ir):(ir-=65536,rr.push((ir>>10)+55296,ir%1024+56320)),(nr+1===tr||rr.length>16384)&&(sr+=String.fromCharCode.apply(String,rr),rr.length=0)}return sr},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(er){var St=er.length*.75,tr=er.length,rr,nr=0,sr,ir,ar,or;er[er.length-1]==="="&&(St--,er[er.length-2]==="="&&St--);var lr=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(St):new Array(St),cr=Array.isArray(lr)?lr:new Uint8Array(lr);for(rr=0;rr<tr;rr+=4)sr=lookup$1$1[er.charCodeAt(rr)],ir=lookup$1$1[er.charCodeAt(rr+1)],ar=lookup$1$1[er.charCodeAt(rr+2)],or=lookup$1$1[er.charCodeAt(rr+3)],cr[nr++]=sr<<2|ir>>4,cr[nr++]=(ir&15)<<4|ar>>2,cr[nr++]=(ar&3)<<6|or&63;return lr},polyUint16Array$1=function(er){for(var St=er.length,tr=[],rr=0;rr<St;rr+=2)tr.push(er[rr+1]<<8|er[rr]);return tr},polyUint32Array$1=function(er){for(var St=er.length,tr=[],rr=0;rr<St;rr+=4)tr.push(er[rr+3]<<24|er[rr+2]<<16|er[rr+1]<<8|er[rr]);return tr},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(er,St,tr){return er.slice?er.slice(St,tr):new Uint16Array(Array.prototype.slice.call(er,St,tr))},slice32$1=function(er,St,tr){return er.slice?er.slice(St,tr):new Uint32Array(Array.prototype.slice.call(er,St,tr))},createTrieFromBase64$1=function(er,St){var tr=decode$1(er),rr=Array.isArray(tr)?polyUint32Array$1(tr):new Uint32Array(tr),nr=Array.isArray(tr)?polyUint16Array$1(tr):new Uint16Array(tr),sr=24,ir=slice16$1(nr,sr/2,rr[4]/2),ar=rr[5]===2?slice16$1(nr,(sr+rr[4])/2):slice32$1(rr,Math.ceil((sr+rr[4])/4));return new Trie$1(rr[0],rr[1],rr[2],rr[3],ir,ar)},Trie$1=function(){function er(St,tr,rr,nr,sr,ir){this.initialValue=St,this.errorValue=tr,this.highStart=rr,this.highValueIndex=nr,this.index=sr,this.data=ir}return er.prototype.get=function(St){var tr;if(St>=0){if(St<55296||St>56319&&St<=65535)return tr=this.index[St>>UTRIE2_SHIFT_2$1],tr=(tr<<UTRIE2_INDEX_SHIFT$1)+(St&UTRIE2_DATA_MASK$1),this.data[tr];if(St<=65535)return tr=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(St-55296>>UTRIE2_SHIFT_2$1)],tr=(tr<<UTRIE2_INDEX_SHIFT$1)+(St&UTRIE2_DATA_MASK$1),this.data[tr];if(St<this.highStart)return tr=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(St>>UTRIE2_SHIFT_1$1),tr=this.index[tr],tr+=St>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,tr=this.index[tr],tr=(tr<<UTRIE2_INDEX_SHIFT$1)+(St&UTRIE2_DATA_MASK$1),this.data[tr];if(St<=1114111)return this.data[this.highValueIndex]}return this.errorValue},er}(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="",BREAK_ALLOWED$1="",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(er,St){St===void 0&&(St="strict");var tr=[],rr=[],nr=[];return er.forEach(function(sr,ir){var ar=UnicodeTrie$1.get(sr);if(ar>LETTER_NUMBER_MODIFIER?(nr.push(!0),ar-=LETTER_NUMBER_MODIFIER):nr.push(!1),["normal","auto","loose"].indexOf(St)!==-1&&[8208,8211,12316,12448].indexOf(sr)!==-1)return rr.push(ir),tr.push(CB);if(ar===CM||ar===ZWJ$1){if(ir===0)return rr.push(ir),tr.push(AL);var or=tr[ir-1];return LINE_BREAKS.indexOf(or)===-1?(rr.push(rr[ir-1]),tr.push(or)):(rr.push(ir),tr.push(AL))}if(rr.push(ir),ar===CJ)return tr.push(St==="strict"?NS:ID);if(ar===SA||ar===AI)return tr.push(AL);if(ar===XX)return sr>=131072&&sr<=196605||sr>=196608&&sr<=262141?tr.push(ID):tr.push(AL);tr.push(ar)}),[rr,tr,nr]},isAdjacentWithSpaceIgnored=function(er,St,tr,rr){var nr=rr[tr];if(Array.isArray(er)?er.indexOf(nr)!==-1:er===nr)for(var sr=tr;sr<=rr.length;){sr++;var ir=rr[sr];if(ir===St)return!0;if(ir!==SP)break}if(nr===SP)for(var sr=tr;sr>0;){sr--;var ar=rr[sr];if(Array.isArray(er)?er.indexOf(ar)!==-1:er===ar)for(var or=tr;or<=rr.length;){or++;var ir=rr[or];if(ir===St)return!0;if(ir!==SP)break}if(ar!==SP)break}return!1},previousNonSpaceClassType=function(er,St){for(var tr=er;tr>=0;){var rr=St[tr];if(rr===SP)tr--;else return rr}return 0},_lineBreakAtIndex=function(er,St,tr,rr,nr){if(tr[rr]===0)return BREAK_NOT_ALLOWED$1;var sr=rr-1;if(Array.isArray(nr)&&nr[sr]===!0)return BREAK_NOT_ALLOWED$1;var ir=sr-1,ar=sr+1,or=St[sr],lr=ir>=0?St[ir]:0,cr=St[ar];if(or===CR$1&&cr===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(or)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(cr)!==-1||SPACE$1.indexOf(cr)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(sr,St)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(er[sr])===ZWJ$1||(or===EB||or===EM)&&UnicodeTrie$1.get(er[ar])===ZWJ$1||or===WJ||cr===WJ||or===GL||[SP,BA,HY].indexOf(or)===-1&&cr===GL||[CL,CP,EX,IS,SY].indexOf(cr)!==-1||previousNonSpaceClassType(sr,St)===OP||isAdjacentWithSpaceIgnored(QU,OP,sr,St)||isAdjacentWithSpaceIgnored([CL,CP],NS,sr,St)||isAdjacentWithSpaceIgnored(B2,B2,sr,St))return BREAK_NOT_ALLOWED$1;if(or===SP)return BREAK_ALLOWED$1;if(or===QU||cr===QU)return BREAK_NOT_ALLOWED$1;if(cr===CB||or===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(cr)!==-1||or===BB||lr===HL&&HYPHEN.indexOf(or)!==-1||or===SY&&cr===HL||cr===IN||ALPHABETICS.indexOf(cr)!==-1&&or===NU||ALPHABETICS.indexOf(or)!==-1&&cr===NU||or===PR&&[ID,EB,EM].indexOf(cr)!==-1||[ID,EB,EM].indexOf(or)!==-1&&cr===PO||ALPHABETICS.indexOf(or)!==-1&&PREFIX_POSTFIX.indexOf(cr)!==-1||PREFIX_POSTFIX.indexOf(or)!==-1&&ALPHABETICS.indexOf(cr)!==-1||[PR,PO].indexOf(or)!==-1&&(cr===NU||[OP,HY].indexOf(cr)!==-1&&St[ar+1]===NU)||[OP,HY].indexOf(or)!==-1&&cr===NU||or===NU&&[NU,SY,IS].indexOf(cr)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(cr)!==-1)for(var ur=sr;ur>=0;){var dr=St[ur];if(dr===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(dr)!==-1)ur--;else break}if([PR,PO].indexOf(cr)!==-1)for(var ur=[CL,CP].indexOf(or)!==-1?ir:sr;ur>=0;){var dr=St[ur];if(dr===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(dr)!==-1)ur--;else break}if(JL===or&&[JL,JV,H2,H3].indexOf(cr)!==-1||[JV,H2].indexOf(or)!==-1&&[JV,JT].indexOf(cr)!==-1||[JT,H3].indexOf(or)!==-1&&cr===JT||KOREAN_SYLLABLE_BLOCK.indexOf(or)!==-1&&[IN,PO].indexOf(cr)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(cr)!==-1&&or===PR||ALPHABETICS.indexOf(or)!==-1&&ALPHABETICS.indexOf(cr)!==-1||or===IS&&ALPHABETICS.indexOf(cr)!==-1||ALPHABETICS.concat(NU).indexOf(or)!==-1&&cr===OP&&ea_OP.indexOf(er[ar])===-1||ALPHABETICS.concat(NU).indexOf(cr)!==-1&&or===CP)return BREAK_NOT_ALLOWED$1;if(or===RI$1&&cr===RI$1){for(var hr=tr[sr],Ar=1;hr>0&&(hr--,St[hr]===RI$1);)Ar++;if(Ar%2!==0)return BREAK_NOT_ALLOWED$1}return or===EB&&cr===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(er,St){St||(St={lineBreak:"normal",wordBreak:"normal"});var tr=codePointsToCharacterClasses(er,St.lineBreak),rr=tr[0],nr=tr[1],sr=tr[2];(St.wordBreak==="break-all"||St.wordBreak==="break-word")&&(nr=nr.map(function(ar){return[NU,AL,SA].indexOf(ar)!==-1?ID:ar}));var ir=St.wordBreak==="keep-all"?sr.map(function(ar,or){return ar&&er[or]>=19968&&er[or]<=40959}):void 0;return[rr,nr,ir]},Break=function(){function er(St,tr,rr,nr){this.codePoints=St,this.required=tr===BREAK_MANDATORY,this.start=rr,this.end=nr}return er.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},er}(),LineBreaker=function(er,St){var tr=toCodePoints$1(er),rr=cssFormattedClasses(tr,St),nr=rr[0],sr=rr[1],ir=rr[2],ar=tr.length,or=0,lr=0;return{next:function(){if(lr>=ar)return{done:!0,value:null};for(var cr=BREAK_NOT_ALLOWED$1;lr<ar&&(cr=_lineBreakAtIndex(tr,sr,nr,++lr,ir))===BREAK_NOT_ALLOWED$1;);if(cr!==BREAK_NOT_ALLOWED$1||lr===ar){var ur=new Break(tr,cr,or,lr);return or=lr,{value:ur,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z=122,A=65,E=69,F=70,U=85,Z=90,isDigit=function(er){return er>=ZERO&&er<=57},isSurrogateCodePoint=function(er){return er>=55296&&er<=57343},isHex=function(er){return isDigit(er)||er>=A&&er<=F||er>=a&&er<=f},isLowerCaseLetter=function(er){return er>=a&&er<=z},isUpperCaseLetter=function(er){return er>=A&&er<=Z},isLetter=function(er){return isLowerCaseLetter(er)||isUpperCaseLetter(er)},isNonASCIICodePoint=function(er){return er>=CONTROL},isWhiteSpace=function(er){return er===LINE_FEED||er===CHARACTER_TABULATION||er===SPACE},isNameStartCodePoint=function(er){return isLetter(er)||isNonASCIICodePoint(er)||er===LOW_LINE},isNameCodePoint=function(er){return isNameStartCodePoint(er)||isDigit(er)||er===HYPHEN_MINUS},isNonPrintableCodePoint=function(er){return er>=NULL&&er<=BACKSPACE||er===LINE_TABULATION||er>=SHIFT_OUT&&er<=INFORMATION_SEPARATOR_ONE||er===DELETE},isValidEscape=function(er,St){return er!==REVERSE_SOLIDUS?!1:St!==LINE_FEED},isIdentifierStart=function(er,St,tr){return er===HYPHEN_MINUS?isNameStartCodePoint(St)||isValidEscape(St,tr):isNameStartCodePoint(er)?!0:!!(er===REVERSE_SOLIDUS&&isValidEscape(er,St))},isNumberStart=function(er,St,tr){return er===PLUS_SIGN||er===HYPHEN_MINUS?isDigit(St)?!0:St===FULL_STOP&&isDigit(tr):isDigit(er===FULL_STOP?St:er)},stringToNumber=function(er){var St=0,tr=1;(er[St]===PLUS_SIGN||er[St]===HYPHEN_MINUS)&&(er[St]===HYPHEN_MINUS&&(tr=-1),St++);for(var rr=[];isDigit(er[St]);)rr.push(er[St++]);var nr=rr.length?parseInt(fromCodePoint$1.apply(void 0,rr),10):0;er[St]===FULL_STOP&&St++;for(var sr=[];isDigit(er[St]);)sr.push(er[St++]);var ir=sr.length,ar=ir?parseInt(fromCodePoint$1.apply(void 0,sr),10):0;(er[St]===E||er[St]===e)&&St++;var or=1;(er[St]===PLUS_SIGN||er[St]===HYPHEN_MINUS)&&(er[St]===HYPHEN_MINUS&&(or=-1),St++);for(var lr=[];isDigit(er[St]);)lr.push(er[St++]);var cr=lr.length?parseInt(fromCodePoint$1.apply(void 0,lr),10):0;return tr*(nr+ar*Math.pow(10,-ir))*Math.pow(10,or*cr)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=function(){function er(){this._value=[]}return er.prototype.write=function(St){this._value=this._value.concat(toCodePoints$1(St))},er.prototype.read=function(){for(var St=[],tr=this.consumeToken();tr!==EOF_TOKEN;)St.push(tr),tr=this.consumeToken();return St},er.prototype.consumeToken=function(){var St=this.consumeCodePoint();switch(St){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var tr=this.peekCodePoint(0),rr=this.peekCodePoint(1),nr=this.peekCodePoint(2);if(isNameCodePoint(tr)||isValidEscape(rr,nr)){var sr=isIdentifierStart(tr,rr,nr)?FLAG_ID:FLAG_UNRESTRICTED,ir=this.consumeName();return{type:5,value:ir,flags:sr}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(St,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(St),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var ar=St,or=this.peekCodePoint(0),lr=this.peekCodePoint(1);if(isNumberStart(ar,or,lr))return this.reconsumeCodePoint(St),this.consumeNumericToken();if(isIdentifierStart(ar,or,lr))return this.reconsumeCodePoint(St),this.consumeIdentLikeToken();if(or===HYPHEN_MINUS&&lr===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(St,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(St),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var cr=this.consumeCodePoint();if(cr===ASTERISK&&(cr=this.consumeCodePoint(),cr===SOLIDUS))return this.consumeToken();if(cr===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var ur=this.peekCodePoint(0),dr=this.peekCodePoint(1),hr=this.peekCodePoint(2);if(isIdentifierStart(ur,dr,hr)){var ir=this.consumeName();return{type:7,value:ir}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(St,this.peekCodePoint(0)))return this.reconsumeCodePoint(St),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var Ar=this.peekCodePoint(0),fr=this.peekCodePoint(1);return Ar===PLUS_SIGN&&(isHex(fr)||fr===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(St),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(St)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(St)?(this.reconsumeCodePoint(St),this.consumeNumericToken()):isNameStartCodePoint(St)?(this.reconsumeCodePoint(St),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(St)}},er.prototype.consumeCodePoint=function(){var St=this._value.shift();return typeof St>"u"?-1:St},er.prototype.reconsumeCodePoint=function(St){this._value.unshift(St)},er.prototype.peekCodePoint=function(St){return St>=this._value.length?-1:this._value[St]},er.prototype.consumeUnicodeRangeToken=function(){for(var St=[],tr=this.consumeCodePoint();isHex(tr)&&St.length<6;)St.push(tr),tr=this.consumeCodePoint();for(var rr=!1;tr===QUESTION_MARK&&St.length<6;)St.push(tr),tr=this.consumeCodePoint(),rr=!0;if(rr){var nr=parseInt(fromCodePoint$1.apply(void 0,St.map(function(or){return or===QUESTION_MARK?ZERO:or})),16),sr=parseInt(fromCodePoint$1.apply(void 0,St.map(function(or){return or===QUESTION_MARK?F:or})),16);return{type:30,start:nr,end:sr}}var ir=parseInt(fromCodePoint$1.apply(void 0,St),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),tr=this.consumeCodePoint();for(var ar=[];isHex(tr)&&ar.length<6;)ar.push(tr),tr=this.consumeCodePoint();var sr=parseInt(fromCodePoint$1.apply(void 0,ar),16);return{type:30,start:ir,end:sr}}else return{type:30,start:ir,end:ir}},er.prototype.consumeIdentLikeToken=function(){var St=this.consumeName();return St.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:St}):{type:20,value:St}},er.prototype.consumeUrlToken=function(){var St=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var tr=this.peekCodePoint(0);if(tr===APOSTROPHE||tr===QUOTATION_MARK){var rr=this.consumeStringToken(this.consumeCodePoint());return rr.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:rr.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var nr=this.consumeCodePoint();if(nr===EOF||nr===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,St)};if(isWhiteSpace(nr))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,St)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(nr===QUOTATION_MARK||nr===APOSTROPHE||nr===LEFT_PARENTHESIS||isNonPrintableCodePoint(nr))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(nr===REVERSE_SOLIDUS)if(isValidEscape(nr,this.peekCodePoint(0)))St.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else St.push(nr)}},er.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},er.prototype.consumeBadUrlRemnants=function(){for(;;){var St=this.consumeCodePoint();if(St===RIGHT_PARENTHESIS||St===EOF)return;isValidEscape(St,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},er.prototype.consumeStringSlice=function(St){for(var tr=5e4,rr="";St>0;){var nr=Math.min(tr,St);rr+=fromCodePoint$1.apply(void 0,this._value.splice(0,nr)),St-=nr}return this._value.shift(),rr},er.prototype.consumeStringToken=function(St){var tr="",rr=0;do{var nr=this._value[rr];if(nr===EOF||nr===void 0||nr===St)return tr+=this.consumeStringSlice(rr),{type:0,value:tr};if(nr===LINE_FEED)return this._value.splice(0,rr),BAD_STRING_TOKEN;if(nr===REVERSE_SOLIDUS){var sr=this._value[rr+1];sr!==EOF&&sr!==void 0&&(sr===LINE_FEED?(tr+=this.consumeStringSlice(rr),rr=-1,this._value.shift()):isValidEscape(nr,sr)&&(tr+=this.consumeStringSlice(rr),tr+=fromCodePoint$1(this.consumeEscapedCodePoint()),rr=-1))}rr++}while(!0)},er.prototype.consumeNumber=function(){var St=[],tr=FLAG_INTEGER,rr=this.peekCodePoint(0);for((rr===PLUS_SIGN||rr===HYPHEN_MINUS)&&St.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)St.push(this.consumeCodePoint());rr=this.peekCodePoint(0);var nr=this.peekCodePoint(1);if(rr===FULL_STOP&&isDigit(nr))for(St.push(this.consumeCodePoint(),this.consumeCodePoint()),tr=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)St.push(this.consumeCodePoint());rr=this.peekCodePoint(0),nr=this.peekCodePoint(1);var sr=this.peekCodePoint(2);if((rr===E||rr===e)&&((nr===PLUS_SIGN||nr===HYPHEN_MINUS)&&isDigit(sr)||isDigit(nr)))for(St.push(this.consumeCodePoint(),this.consumeCodePoint()),tr=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)St.push(this.consumeCodePoint());return[stringToNumber(St),tr]},er.prototype.consumeNumericToken=function(){var St=this.consumeNumber(),tr=St[0],rr=St[1],nr=this.peekCodePoint(0),sr=this.peekCodePoint(1),ir=this.peekCodePoint(2);if(isIdentifierStart(nr,sr,ir)){var ar=this.consumeName();return{type:15,number:tr,flags:rr,unit:ar}}return nr===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:tr,flags:rr}):{type:17,number:tr,flags:rr}},er.prototype.consumeEscapedCodePoint=function(){var St=this.consumeCodePoint();if(isHex(St)){for(var tr=fromCodePoint$1(St);isHex(this.peekCodePoint(0))&&tr.length<6;)tr+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var rr=parseInt(tr,16);return rr===0||isSurrogateCodePoint(rr)||rr>1114111?REPLACEMENT_CHARACTER:rr}return St===EOF?REPLACEMENT_CHARACTER:St},er.prototype.consumeName=function(){for(var St="";;){var tr=this.consumeCodePoint();if(isNameCodePoint(tr))St+=fromCodePoint$1(tr);else if(isValidEscape(tr,this.peekCodePoint(0)))St+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(tr),St}},er}(),Parser=function(){function er(St){this._tokens=St}return er.create=function(St){var tr=new Tokenizer;return tr.write(St),new er(tr.read())},er.parseValue=function(St){return er.create(St).parseComponentValue()},er.parseValues=function(St){return er.create(St).parseComponentValues()},er.prototype.parseComponentValue=function(){for(var St=this.consumeToken();St.type===31;)St=this.consumeToken();if(St.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(St);var tr=this.consumeComponentValue();do St=this.consumeToken();while(St.type===31);if(St.type===32)return tr;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},er.prototype.parseComponentValues=function(){for(var St=[];;){var tr=this.consumeComponentValue();if(tr.type===32)return St;St.push(tr),St.push()}},er.prototype.consumeComponentValue=function(){var St=this.consumeToken();switch(St.type){case 11:case 28:case 2:return this.consumeSimpleBlock(St.type);case 19:return this.consumeFunction(St)}return St},er.prototype.consumeSimpleBlock=function(St){for(var tr={type:St,values:[]},rr=this.consumeToken();;){if(rr.type===32||isEndingTokenFor(rr,St))return tr;this.reconsumeToken(rr),tr.values.push(this.consumeComponentValue()),rr=this.consumeToken()}},er.prototype.consumeFunction=function(St){for(var tr={name:St.value,values:[],type:18};;){var rr=this.consumeToken();if(rr.type===32||rr.type===3)return tr;this.reconsumeToken(rr),tr.values.push(this.consumeComponentValue())}},er.prototype.consumeToken=function(){var St=this._tokens.shift();return typeof St>"u"?EOF_TOKEN:St},er.prototype.reconsumeToken=function(St){this._tokens.unshift(St)},er}(),isDimensionToken=function(er){return er.type===15},isNumberToken=function(er){return er.type===17},isIdentToken=function(er){return er.type===20},isStringToken=function(er){return er.type===0},isIdentWithValue=function(er,St){return isIdentToken(er)&&er.value===St},nonWhiteSpace=function(er){return er.type!==31},nonFunctionArgSeparator=function(er){return er.type!==31&&er.type!==4},parseFunctionArgs=function(er){var St=[],tr=[];return er.forEach(function(rr){if(rr.type===4){if(tr.length===0)throw new Error("Error parsing function args, zero tokens for arg");St.push(tr),tr=[];return}rr.type!==31&&tr.push(rr)}),tr.length&&St.push(tr),St},isEndingTokenFor=function(er,St){return St===11&&er.type===12||St===28&&er.type===29?!0:St===2&&er.type===3},isLength=function(er){return er.type===17||er.type===15},isLengthPercentage=function(er){return er.type===16||isLength(er)},parseLengthPercentageTuple=function(er){return er.length>1?[er[0],er[1]]:[er[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(er,St,tr){var rr=er[0],nr=er[1];return[getAbsoluteValue(rr,St),getAbsoluteValue(typeof nr<"u"?nr:rr,tr)]},getAbsoluteValue=function(er,St){if(er.type===16)return er.number/100*St;if(isDimensionToken(er))switch(er.unit){case"rem":case"em":return 16*er.number;case"px":default:return er.number}return er.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(er,St){if(St.type===15)switch(St.unit){case DEG:return Math.PI*St.number/180;case GRAD:return Math.PI/200*St.number;case RAD:return St.number;case TURN:return Math.PI*2*St.number}throw new Error("Unsupported angle type")}},isAngle=function(er){return er.type===15&&(er.unit===DEG||er.unit===GRAD||er.unit===RAD||er.unit===TURN)},parseNamedSide=function(er){var St=er.filter(isIdentToken).map(function(tr){return tr.value}).join(" ");switch(St){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(er){return Math.PI*er/180},color$1={name:"color",parse:function(er,St){if(St.type===18){var tr=SUPPORTED_COLOR_FUNCTIONS[St.name];if(typeof tr>"u")throw new Error('Attempting to parse an unsupported color function "'+St.name+'"');return tr(er,St.values)}if(St.type===5){if(St.value.length===3){var rr=St.value.substring(0,1),nr=St.value.substring(1,2),sr=St.value.substring(2,3);return pack(parseInt(rr+rr,16),parseInt(nr+nr,16),parseInt(sr+sr,16),1)}if(St.value.length===4){var rr=St.value.substring(0,1),nr=St.value.substring(1,2),sr=St.value.substring(2,3),ir=St.value.substring(3,4);return pack(parseInt(rr+rr,16),parseInt(nr+nr,16),parseInt(sr+sr,16),parseInt(ir+ir,16)/255)}if(St.value.length===6){var rr=St.value.substring(0,2),nr=St.value.substring(2,4),sr=St.value.substring(4,6);return pack(parseInt(rr,16),parseInt(nr,16),parseInt(sr,16),1)}if(St.value.length===8){var rr=St.value.substring(0,2),nr=St.value.substring(2,4),sr=St.value.substring(4,6),ir=St.value.substring(6,8);return pack(parseInt(rr,16),parseInt(nr,16),parseInt(sr,16),parseInt(ir,16)/255)}}if(St.type===20){var ar=COLORS[St.value.toUpperCase()];if(typeof ar<"u")return ar}return COLORS.TRANSPARENT}},isTransparent=function(er){return(255&er)===0},asString=function(er){var St=255&er,tr=255&er>>8,rr=255&er>>16,nr=255&er>>24;return St<255?"rgba("+nr+","+rr+","+tr+","+St/255+")":"rgb("+nr+","+rr+","+tr+")"},pack=function(er,St,tr,rr){return(er<<24|St<<16|tr<<8|Math.round(rr*255)<<0)>>>0},getTokenColorValue=function(er,St){if(er.type===17)return er.number;if(er.type===16){var tr=St===3?1:255;return St===3?er.number/100*tr:Math.round(er.number/100*tr)}return 0},rgb=function(er,St){var tr=St.filter(nonFunctionArgSeparator);if(tr.length===3){var rr=tr.map(getTokenColorValue),nr=rr[0],sr=rr[1],ir=rr[2];return pack(nr,sr,ir,1)}if(tr.length===4){var ar=tr.map(getTokenColorValue),nr=ar[0],sr=ar[1],ir=ar[2],or=ar[3];return pack(nr,sr,ir,or)}return 0};function hue2rgb(er,St,tr){return tr<0&&(tr+=1),tr>=1&&(tr-=1),tr<1/6?(St-er)*tr*6+er:tr<1/2?St:tr<2/3?(St-er)*6*(2/3-tr)+er:er}var hsl=function(er,St){var tr=St.filter(nonFunctionArgSeparator),rr=tr[0],nr=tr[1],sr=tr[2],ir=tr[3],ar=(rr.type===17?deg(rr.number):angle.parse(er,rr))/(Math.PI*2),or=isLengthPercentage(nr)?nr.number/100:0,lr=isLengthPercentage(sr)?sr.number/100:0,cr=typeof ir<"u"&&isLengthPercentage(ir)?getAbsoluteValue(ir,1):1;if(or===0)return pack(lr*255,lr*255,lr*255,1);var ur=lr<=.5?lr*(or+1):lr+or-lr*or,dr=lr*2-ur,hr=hue2rgb(dr,ur,ar+1/3),Ar=hue2rgb(dr,ur,ar),fr=hue2rgb(dr,ur,ar-1/3);return pack(hr*255,Ar*255,fr*255,cr)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(er,St){return color$1.parse(er,Parser.create(St).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(er,St){return St.map(function(tr){if(isIdentToken(tr))switch(tr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(er,St){var tr=color$1.parse(er,St[0]),rr=St[1];return rr&&isLengthPercentage(rr)?{color:tr,stop:rr}:{color:tr,stop:null}},processColorStops=function(er,St){var tr=er[0],rr=er[er.length-1];tr.stop===null&&(tr.stop=ZERO_LENGTH),rr.stop===null&&(rr.stop=HUNDRED_PERCENT);for(var nr=[],sr=0,ir=0;ir<er.length;ir++){var ar=er[ir].stop;if(ar!==null){var or=getAbsoluteValue(ar,St);or>sr?nr.push(or):nr.push(sr),sr=or}else nr.push(null)}for(var lr=null,ir=0;ir<nr.length;ir++){var cr=nr[ir];if(cr===null)lr===null&&(lr=ir);else if(lr!==null){for(var ur=ir-lr,dr=nr[lr-1],hr=(cr-dr)/(ur+1),Ar=1;Ar<=ur;Ar++)nr[lr+Ar-1]=hr*Ar;lr=null}}return er.map(function(fr,mr){var pr=fr.color;return{color:pr,stop:Math.max(Math.min(1,nr[mr]/St),0)}})},getAngleFromCorner=function(er,St,tr){var rr=St/2,nr=tr/2,sr=getAbsoluteValue(er[0],St)-rr,ir=nr-getAbsoluteValue(er[1],tr);return(Math.atan2(ir,sr)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(er,St,tr){var rr=typeof er=="number"?er:getAngleFromCorner(er,St,tr),nr=Math.abs(St*Math.sin(rr))+Math.abs(tr*Math.cos(rr)),sr=St/2,ir=tr/2,ar=nr/2,or=Math.sin(rr-Math.PI/2)*ar,lr=Math.cos(rr-Math.PI/2)*ar;return[nr,sr-lr,sr+lr,ir-or,ir+or]},distance=function(er,St){return Math.sqrt(er*er+St*St)},findCorner=function(er,St,tr,rr,nr){var sr=[[0,0],[0,St],[er,0],[er,St]];return sr.reduce(function(ir,ar){var or=ar[0],lr=ar[1],cr=distance(tr-or,rr-lr);return(nr?cr<ir.optimumDistance:cr>ir.optimumDistance)?{optimumCorner:ar,optimumDistance:cr}:ir},{optimumDistance:nr?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(er,St,tr,rr,nr){var sr=0,ir=0;switch(er.size){case 0:er.shape===0?sr=ir=Math.min(Math.abs(St),Math.abs(St-rr),Math.abs(tr),Math.abs(tr-nr)):er.shape===1&&(sr=Math.min(Math.abs(St),Math.abs(St-rr)),ir=Math.min(Math.abs(tr),Math.abs(tr-nr)));break;case 2:if(er.shape===0)sr=ir=Math.min(distance(St,tr),distance(St,tr-nr),distance(St-rr,tr),distance(St-rr,tr-nr));else if(er.shape===1){var ar=Math.min(Math.abs(tr),Math.abs(tr-nr))/Math.min(Math.abs(St),Math.abs(St-rr)),or=findCorner(rr,nr,St,tr,!0),lr=or[0],cr=or[1];sr=distance(lr-St,(cr-tr)/ar),ir=ar*sr}break;case 1:er.shape===0?sr=ir=Math.max(Math.abs(St),Math.abs(St-rr),Math.abs(tr),Math.abs(tr-nr)):er.shape===1&&(sr=Math.max(Math.abs(St),Math.abs(St-rr)),ir=Math.max(Math.abs(tr),Math.abs(tr-nr)));break;case 3:if(er.shape===0)sr=ir=Math.max(distance(St,tr),distance(St,tr-nr),distance(St-rr,tr),distance(St-rr,tr-nr));else if(er.shape===1){var ar=Math.max(Math.abs(tr),Math.abs(tr-nr))/Math.max(Math.abs(St),Math.abs(St-rr)),ur=findCorner(rr,nr,St,tr,!1),lr=ur[0],cr=ur[1];sr=distance(lr-St,(cr-tr)/ar),ir=ar*sr}break}return Array.isArray(er.size)&&(sr=getAbsoluteValue(er.size[0],rr),ir=er.size.length===2?getAbsoluteValue(er.size[1],nr):sr),[sr,ir]},linearGradient=function(er,St){var tr=deg(180),rr=[];return parseFunctionArgs(St).forEach(function(nr,sr){if(sr===0){var ir=nr[0];if(ir.type===20&&ir.value==="to"){tr=parseNamedSide(nr);return}else if(isAngle(ir)){tr=angle.parse(er,ir);return}}var ar=parseColorStop(er,nr);rr.push(ar)}),{angle:tr,stops:rr,type:1}},prefixLinearGradient=function(er,St){var tr=deg(180),rr=[];return parseFunctionArgs(St).forEach(function(nr,sr){if(sr===0){var ir=nr[0];if(ir.type===20&&["top","left","right","bottom"].indexOf(ir.value)!==-1){tr=parseNamedSide(nr);return}else if(isAngle(ir)){tr=(angle.parse(er,ir)+deg(270))%deg(360);return}}var ar=parseColorStop(er,nr);rr.push(ar)}),{angle:tr,stops:rr,type:1}},webkitGradient=function(er,St){var tr=deg(180),rr=[],nr=1,sr=0,ir=3,ar=[];return parseFunctionArgs(St).forEach(function(or,lr){var cr=or[0];if(lr===0){if(isIdentToken(cr)&&cr.value==="linear"){nr=1;return}else if(isIdentToken(cr)&&cr.value==="radial"){nr=2;return}}if(cr.type===18){if(cr.name==="from"){var ur=color$1.parse(er,cr.values[0]);rr.push({stop:ZERO_LENGTH,color:ur})}else if(cr.name==="to"){var ur=color$1.parse(er,cr.values[0]);rr.push({stop:HUNDRED_PERCENT,color:ur})}else if(cr.name==="color-stop"){var dr=cr.values.filter(nonFunctionArgSeparator);if(dr.length===2){var ur=color$1.parse(er,dr[1]),hr=dr[0];isNumberToken(hr)&&rr.push({stop:{type:16,number:hr.number*100,flags:hr.flags},color:ur})}}}}),nr===1?{angle:(tr+deg(180))%deg(360),stops:rr,type:nr}:{size:ir,shape:sr,stops:rr,position:ar,type:nr}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(er,St){var tr=0,rr=3,nr=[],sr=[];return parseFunctionArgs(St).forEach(function(ir,ar){var or=!0;if(ar===0){var lr=!1;or=ir.reduce(function(ur,dr){if(lr)if(isIdentToken(dr))switch(dr.value){case"center":return sr.push(FIFTY_PERCENT),ur;case"top":case"left":return sr.push(ZERO_LENGTH),ur;case"right":case"bottom":return sr.push(HUNDRED_PERCENT),ur}else(isLengthPercentage(dr)||isLength(dr))&&sr.push(dr);else if(isIdentToken(dr))switch(dr.value){case CIRCLE:return tr=0,!1;case ELLIPSE:return tr=1,!1;case"at":return lr=!0,!1;case CLOSEST_SIDE:return rr=0,!1;case COVER:case FARTHEST_SIDE:return rr=1,!1;case CONTAIN:case CLOSEST_CORNER:return rr=2,!1;case FARTHEST_CORNER:return rr=3,!1}else if(isLength(dr)||isLengthPercentage(dr))return Array.isArray(rr)||(rr=[]),rr.push(dr),!1;return ur},or)}if(or){var cr=parseColorStop(er,ir);nr.push(cr)}}),{size:rr,shape:tr,stops:nr,position:sr,type:2}},prefixRadialGradient=function(er,St){var tr=0,rr=3,nr=[],sr=[];return parseFunctionArgs(St).forEach(function(ir,ar){var or=!0;if(ar===0?or=ir.reduce(function(cr,ur){if(isIdentToken(ur))switch(ur.value){case"center":return sr.push(FIFTY_PERCENT),!1;case"top":case"left":return sr.push(ZERO_LENGTH),!1;case"right":case"bottom":return sr.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(ur)||isLength(ur))return sr.push(ur),!1;return cr},or):ar===1&&(or=ir.reduce(function(cr,ur){if(isIdentToken(ur))switch(ur.value){case CIRCLE:return tr=0,!1;case ELLIPSE:return tr=1,!1;case CONTAIN:case CLOSEST_SIDE:return rr=0,!1;case FARTHEST_SIDE:return rr=1,!1;case CLOSEST_CORNER:return rr=2,!1;case COVER:case FARTHEST_CORNER:return rr=3,!1}else if(isLength(ur)||isLengthPercentage(ur))return Array.isArray(rr)||(rr=[]),rr.push(ur),!1;return cr},or)),or){var lr=parseColorStop(er,ir);nr.push(lr)}}),{size:rr,shape:tr,stops:nr,position:sr,type:2}},isLinearGradient=function(er){return er.type===1},isRadialGradient=function(er){return er.type===2},image={name:"image",parse:function(er,St){if(St.type===22){var tr={url:St.value,type:0};return er.cache.addImage(St.value),tr}if(St.type===18){var rr=SUPPORTED_IMAGE_FUNCTIONS[St.name];if(typeof rr>"u")throw new Error('Attempting to parse an unsupported image function "'+St.name+'"');return rr(er,St.values)}throw new Error("Unsupported image type "+St.type)}};function isSupportedImage(er){return!(er.type===20&&er.value==="none")&&(er.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[er.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(er,St){if(St.length===0)return[];var tr=St[0];return tr.type===20&&tr.value==="none"?[]:St.filter(function(rr){return nonFunctionArgSeparator(rr)&&isSupportedImage(rr)}).map(function(rr){return image.parse(er,rr)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(er,St){return St.map(function(tr){if(isIdentToken(tr))switch(tr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(er,St){return parseFunctionArgs(St).map(function(tr){return tr.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(er,St){return parseFunctionArgs(St).map(function(tr){return tr.filter(isIdentToken).map(function(rr){return rr.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(er){switch(er){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(er){er.AUTO="auto",er.CONTAIN="contain",er.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(er,St){return parseFunctionArgs(St).map(function(tr){return tr.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(er){return isIdentToken(er)||isLengthPercentage(er)},borderColorForSide=function(er){return{name:"border-"+er+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(er){return{name:"border-radius-"+er,initialValue:"0 0",prefix:!1,type:1,parse:function(St,tr){return parseLengthPercentageTuple(tr.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(er){return{name:"border-"+er+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(St,tr){switch(tr){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(er){return{name:"border-"+er+"-width",initialValue:"0",type:0,prefix:!1,parse:function(St,tr){return isDimensionToken(tr)?tr.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(er,St){switch(St){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(er,St){return St.filter(isIdentToken).reduce(function(tr,rr){return tr|parseDisplayValue(rr.value)},0)}},parseDisplayValue=function(er){switch(er){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(er,St){switch(St){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(er,St){return St.type===20&&St.value==="normal"?0:St.type===17||St.type===15?St.number:0}},LINE_BREAK;(function(er){er.NORMAL="normal",er.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(er,St){switch(St){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(er,St){return isIdentToken(er)&&er.value==="normal"?1.2*St:er.type===17?St*er.number:isLengthPercentage(er)?getAbsoluteValue(er,St):St},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(er,St){return St.type===20&&St.value==="none"?null:image.parse(er,St)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(er,St){switch(St){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(er,St){switch(St){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(er){return{name:"margin-"+er,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(er,St){return St.filter(isIdentToken).map(function(tr){switch(tr.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(er,St){switch(St){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(er){return{name:"padding-"+er,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(er,St){switch(St){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(er,St){switch(St){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(er,St){return St.length===1&&isIdentWithValue(St[0],"none")?[]:parseFunctionArgs(St).map(function(tr){for(var rr={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},nr=0,sr=0;sr<tr.length;sr++){var ir=tr[sr];isLength(ir)?(nr===0?rr.offsetX=ir:nr===1?rr.offsetY=ir:rr.blur=ir,nr++):rr.color=color$1.parse(er,ir)}return rr})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(er,St){switch(St){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(er,St){if(St.type===20&&St.value==="none")return null;if(St.type===18){var tr=SUPPORTED_TRANSFORM_FUNCTIONS[St.name];if(typeof tr>"u")throw new Error('Attempting to parse an unsupported transform function "'+St.name+'"');return tr(St.values)}return null}},matrix=function(er){var St=er.filter(function(tr){return tr.type===17}).map(function(tr){return tr.number});return St.length===6?St:null},matrix3d=function(er){var St=er.filter(function(or){return or.type===17}).map(function(or){return or.number}),tr=St[0],rr=St[1];St[2],St[3];var nr=St[4],sr=St[5];St[6],St[7],St[8],St[9],St[10],St[11];var ir=St[12],ar=St[13];return St[14],St[15],St.length===16?[tr,rr,nr,sr,ir,ar]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(er,St){var tr=St.filter(isLengthPercentage);return tr.length!==2?DEFAULT:[tr[0],tr[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(er,St){switch(St){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(er){er.NORMAL="normal",er.BREAK_ALL="break-all",er.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(er,St){switch(St){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(er,St){if(St.type===20)return{auto:!0,order:0};if(isNumberToken(St))return{auto:!1,order:St.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(er,St){if(St.type===15)switch(St.unit.toLowerCase()){case"s":return 1e3*St.number;case"ms":return St.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(er,St){return isNumberToken(St)?St.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(er,St){return St.filter(isIdentToken).map(function(tr){switch(tr.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(tr){return tr!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(er,St){var tr=[],rr=[];return St.forEach(function(nr){switch(nr.type){case 20:case 0:tr.push(nr.value);break;case 17:tr.push(nr.number.toString());break;case 4:rr.push(tr.join(" ")),tr.length=0;break}}),tr.length&&rr.push(tr.join(" ")),rr.map(function(nr){return nr.indexOf(" ")===-1?nr:"'"+nr+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(er,St){if(isNumberToken(St))return St.number;if(isIdentToken(St))switch(St.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(er,St){return St.filter(isIdentToken).map(function(tr){return tr.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(er,St){switch(St){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(er,St){return(er&St)!==0},content={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(er,St){if(St.length===0)return[];var tr=St[0];return tr.type===20&&tr.value==="none"?[]:St}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(er,St){if(St.length===0)return null;var tr=St[0];if(tr.type===20&&tr.value==="none")return null;for(var rr=[],nr=St.filter(nonWhiteSpace),sr=0;sr<nr.length;sr++){var ir=nr[sr],ar=nr[sr+1];if(ir.type===20){var or=ar&&isNumberToken(ar)?ar.number:1;rr.push({counter:ir.value,increment:or})}}return rr}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(er,St){if(St.length===0)return[];for(var tr=[],rr=St.filter(nonWhiteSpace),nr=0;nr<rr.length;nr++){var sr=rr[nr],ir=rr[nr+1];if(isIdentToken(sr)&&sr.value!=="none"){var ar=ir&&isNumberToken(ir)?ir.number:0;tr.push({counter:sr.value,reset:ar})}}return tr}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(er,St){return St.filter(isDimensionToken).map(function(tr){return time.parse(er,tr)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(er,St){if(St.length===0)return null;var tr=St[0];if(tr.type===20&&tr.value==="none")return null;var rr=[],nr=St.filter(isStringToken);if(nr.length%2!==0)return null;for(var sr=0;sr<nr.length;sr+=2){var ir=nr[sr].value,ar=nr[sr+1].value;rr.push({open:ir,close:ar})}return rr}},getQuote=function(er,St,tr){if(!er)return"";var rr=er[Math.min(St,er.length-1)];return rr?tr?rr.open:rr.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(er,St){return St.length===1&&isIdentWithValue(St[0],"none")?[]:parseFunctionArgs(St).map(function(tr){for(var rr={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},nr=0,sr=0;sr<tr.length;sr++){var ir=tr[sr];isIdentWithValue(ir,"inset")?rr.inset=!0:isLength(ir)?(nr===0?rr.offsetX=ir:nr===1?rr.offsetY=ir:nr===2?rr.blur=ir:rr.spread=ir,nr++):rr.color=color$1.parse(er,ir)}return rr})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(er,St){var tr=[0,1,2],rr=[];return St.filter(isIdentToken).forEach(function(nr){switch(nr.value){case"stroke":rr.push(1);break;case"fill":rr.push(0);break;case"markers":rr.push(2);break}}),tr.forEach(function(nr){rr.indexOf(nr)===-1&&rr.push(nr)}),rr}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(er,St){return isDimensionToken(St)?St.number:0}},CSSParsedDeclaration=function(){function er(St,tr){var rr,nr;this.animationDuration=parse(St,duration,tr.animationDuration),this.backgroundClip=parse(St,backgroundClip,tr.backgroundClip),this.backgroundColor=parse(St,backgroundColor,tr.backgroundColor),this.backgroundImage=parse(St,backgroundImage,tr.backgroundImage),this.backgroundOrigin=parse(St,backgroundOrigin,tr.backgroundOrigin),this.backgroundPosition=parse(St,backgroundPosition,tr.backgroundPosition),this.backgroundRepeat=parse(St,backgroundRepeat,tr.backgroundRepeat),this.backgroundSize=parse(St,backgroundSize,tr.backgroundSize),this.borderTopColor=parse(St,borderTopColor,tr.borderTopColor),this.borderRightColor=parse(St,borderRightColor,tr.borderRightColor),this.borderBottomColor=parse(St,borderBottomColor,tr.borderBottomColor),this.borderLeftColor=parse(St,borderLeftColor,tr.borderLeftColor),this.borderTopLeftRadius=parse(St,borderTopLeftRadius,tr.borderTopLeftRadius),this.borderTopRightRadius=parse(St,borderTopRightRadius,tr.borderTopRightRadius),this.borderBottomRightRadius=parse(St,borderBottomRightRadius,tr.borderBottomRightRadius),this.borderBottomLeftRadius=parse(St,borderBottomLeftRadius,tr.borderBottomLeftRadius),this.borderTopStyle=parse(St,borderTopStyle,tr.borderTopStyle),this.borderRightStyle=parse(St,borderRightStyle,tr.borderRightStyle),this.borderBottomStyle=parse(St,borderBottomStyle,tr.borderBottomStyle),this.borderLeftStyle=parse(St,borderLeftStyle,tr.borderLeftStyle),this.borderTopWidth=parse(St,borderTopWidth,tr.borderTopWidth),this.borderRightWidth=parse(St,borderRightWidth,tr.borderRightWidth),this.borderBottomWidth=parse(St,borderBottomWidth,tr.borderBottomWidth),this.borderLeftWidth=parse(St,borderLeftWidth,tr.borderLeftWidth),this.boxShadow=parse(St,boxShadow,tr.boxShadow),this.color=parse(St,color,tr.color),this.direction=parse(St,direction,tr.direction),this.display=parse(St,display,tr.display),this.float=parse(St,float,tr.cssFloat),this.fontFamily=parse(St,fontFamily,tr.fontFamily),this.fontSize=parse(St,fontSize,tr.fontSize),this.fontStyle=parse(St,fontStyle,tr.fontStyle),this.fontVariant=parse(St,fontVariant,tr.fontVariant),this.fontWeight=parse(St,fontWeight,tr.fontWeight),this.letterSpacing=parse(St,letterSpacing,tr.letterSpacing),this.lineBreak=parse(St,lineBreak,tr.lineBreak),this.lineHeight=parse(St,lineHeight,tr.lineHeight),this.listStyleImage=parse(St,listStyleImage,tr.listStyleImage),this.listStylePosition=parse(St,listStylePosition,tr.listStylePosition),this.listStyleType=parse(St,listStyleType,tr.listStyleType),this.marginTop=parse(St,marginTop,tr.marginTop),this.marginRight=parse(St,marginRight,tr.marginRight),this.marginBottom=parse(St,marginBottom,tr.marginBottom),this.marginLeft=parse(St,marginLeft,tr.marginLeft),this.opacity=parse(St,opacity,tr.opacity);var sr=parse(St,overflow,tr.overflow);this.overflowX=sr[0],this.overflowY=sr[sr.length>1?1:0],this.overflowWrap=parse(St,overflowWrap,tr.overflowWrap),this.paddingTop=parse(St,paddingTop,tr.paddingTop),this.paddingRight=parse(St,paddingRight,tr.paddingRight),this.paddingBottom=parse(St,paddingBottom,tr.paddingBottom),this.paddingLeft=parse(St,paddingLeft,tr.paddingLeft),this.paintOrder=parse(St,paintOrder,tr.paintOrder),this.position=parse(St,position,tr.position),this.textAlign=parse(St,textAlign,tr.textAlign),this.textDecorationColor=parse(St,textDecorationColor,(rr=tr.textDecorationColor)!==null&&rr!==void 0?rr:tr.color),this.textDecorationLine=parse(St,textDecorationLine,(nr=tr.textDecorationLine)!==null&&nr!==void 0?nr:tr.textDecoration),this.textShadow=parse(St,textShadow,tr.textShadow),this.textTransform=parse(St,textTransform,tr.textTransform),this.transform=parse(St,transform$1,tr.transform),this.transformOrigin=parse(St,transformOrigin,tr.transformOrigin),this.visibility=parse(St,visibility,tr.visibility),this.webkitTextStrokeColor=parse(St,webkitTextStrokeColor,tr.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse(St,webkitTextStrokeWidth,tr.webkitTextStrokeWidth),this.wordBreak=parse(St,wordBreak,tr.wordBreak),this.zIndex=parse(St,zIndex,tr.zIndex)}return er.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},er.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},er.prototype.isTransformed=function(){return this.transform!==null},er.prototype.isPositioned=function(){return this.position!==0},er.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},er.prototype.isFloating=function(){return this.float!==0},er.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},er}(),CSSParsedPseudoDeclaration=function(){function er(St,tr){this.content=parse(St,content,tr.content),this.quotes=parse(St,quotes,tr.quotes)}return er}(),CSSParsedCounterDeclaration=function(){function er(St,tr){this.counterIncrement=parse(St,counterIncrement,tr.counterIncrement),this.counterReset=parse(St,counterReset,tr.counterReset)}return er}(),parse=function(er,St,tr){var rr=new Tokenizer,nr=tr!==null&&typeof tr<"u"?tr.toString():St.initialValue;rr.write(nr);var sr=new Parser(rr.read());switch(St.type){case 2:var ir=sr.parseComponentValue();return St.parse(er,isIdentToken(ir)?ir.value:St.initialValue);case 0:return St.parse(er,sr.parseComponentValue());case 1:return St.parse(er,sr.parseComponentValues());case 4:return sr.parseComponentValue();case 3:switch(St.format){case"angle":return angle.parse(er,sr.parseComponentValue());case"color":return color$1.parse(er,sr.parseComponentValue());case"image":return image.parse(er,sr.parseComponentValue());case"length":var ar=sr.parseComponentValue();return isLength(ar)?ar:ZERO_LENGTH;case"length-percentage":var or=sr.parseComponentValue();return isLengthPercentage(or)?or:ZERO_LENGTH;case"time":return time.parse(er,sr.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(er){var St=er.getAttribute(elementDebuggerAttribute);switch(St){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(er,St){var tr=getElementDebugType(er);return tr===1||St===tr},ElementContainer=function(){function er(St,tr){if(this.context=St,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(tr,3))debugger;this.styles=new CSSParsedDeclaration(St,window.getComputedStyle(tr,null)),isHTMLElementNode(tr)&&(this.styles.animationDuration.some(function(rr){return rr>0})&&(tr.style.animationDuration="0s"),this.styles.transform!==null&&(tr.style.transform="none")),this.bounds=parseBounds(this.context,tr),isDebugging(tr,4)&&(this.flags|=16)}return er}(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var decode=function(er){var St=er.length*.75,tr=er.length,rr,nr=0,sr,ir,ar,or;er[er.length-1]==="="&&(St--,er[er.length-2]==="="&&St--);var lr=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(St):new Array(St),cr=Array.isArray(lr)?lr:new Uint8Array(lr);for(rr=0;rr<tr;rr+=4)sr=lookup$1[er.charCodeAt(rr)],ir=lookup$1[er.charCodeAt(rr+1)],ar=lookup$1[er.charCodeAt(rr+2)],or=lookup$1[er.charCodeAt(rr+3)],cr[nr++]=sr<<2|ir>>4,cr[nr++]=(ir&15)<<4|ar>>2,cr[nr++]=(ar&3)<<6|or&63;return lr},polyUint16Array=function(er){for(var St=er.length,tr=[],rr=0;rr<St;rr+=2)tr.push(er[rr+1]<<8|er[rr]);return tr},polyUint32Array=function(er){for(var St=er.length,tr=[],rr=0;rr<St;rr+=4)tr.push(er[rr+3]<<24|er[rr+2]<<16|er[rr+1]<<8|er[rr]);return tr},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(er,St,tr){return er.slice?er.slice(St,tr):new Uint16Array(Array.prototype.slice.call(er,St,tr))},slice32=function(er,St,tr){return er.slice?er.slice(St,tr):new Uint32Array(Array.prototype.slice.call(er,St,tr))},createTrieFromBase64=function(er,St){var tr=decode(er),rr=Array.isArray(tr)?polyUint32Array(tr):new Uint32Array(tr),nr=Array.isArray(tr)?polyUint16Array(tr):new Uint16Array(tr),sr=24,ir=slice16(nr,sr/2,rr[4]/2),ar=rr[5]===2?slice16(nr,(sr+rr[4])/2):slice32(rr,Math.ceil((sr+rr[4])/4));return new Trie(rr[0],rr[1],rr[2],rr[3],ir,ar)},Trie=function(){function er(St,tr,rr,nr,sr,ir){this.initialValue=St,this.errorValue=tr,this.highStart=rr,this.highValueIndex=nr,this.index=sr,this.data=ir}return er.prototype.get=function(St){var tr;if(St>=0){if(St<55296||St>56319&&St<=65535)return tr=this.index[St>>UTRIE2_SHIFT_2],tr=(tr<<UTRIE2_INDEX_SHIFT)+(St&UTRIE2_DATA_MASK),this.data[tr];if(St<=65535)return tr=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(St-55296>>UTRIE2_SHIFT_2)],tr=(tr<<UTRIE2_INDEX_SHIFT)+(St&UTRIE2_DATA_MASK),this.data[tr];if(St<this.highStart)return tr=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(St>>UTRIE2_SHIFT_1),tr=this.index[tr],tr+=St>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,tr=this.index[tr],tr=(tr<<UTRIE2_INDEX_SHIFT)+(St&UTRIE2_DATA_MASK),this.data[tr];if(St<=1114111)return this.data[this.highValueIndex]}return this.errorValue},er}(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(er){for(var St=[],tr=0,rr=er.length;tr<rr;){var nr=er.charCodeAt(tr++);if(nr>=55296&&nr<=56319&&tr<rr){var sr=er.charCodeAt(tr++);(sr&64512)===56320?St.push(((nr&1023)<<10)+(sr&1023)+65536):(St.push(nr),tr--)}else St.push(nr)}return St},fromCodePoint=function(){for(var er=[],St=0;St<arguments.length;St++)er[St]=arguments[St];if(String.fromCodePoint)return String.fromCodePoint.apply(String,er);var tr=er.length;if(!tr)return"";for(var rr=[],nr=-1,sr="";++nr<tr;){var ir=er[nr];ir<=65535?rr.push(ir):(ir-=65536,rr.push((ir>>10)+55296,ir%1024+56320)),(nr+1===tr||rr.length>16384)&&(sr+=String.fromCharCode.apply(String,rr),rr.length=0)}return sr},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="",BREAK_ALLOWED="",codePointToClass=function(er){return UnicodeTrie.get(er)},_graphemeBreakAtIndex=function(er,St,tr){var rr=tr-2,nr=St[rr],sr=St[tr-1],ir=St[tr];if(sr===CR&&ir===LF)return BREAK_NOT_ALLOWED;if(sr===CR||sr===LF||sr===Control||ir===CR||ir===LF||ir===Control)return BREAK_ALLOWED;if(sr===L&&[L,V,LV,LVT].indexOf(ir)!==-1||(sr===LV||sr===V)&&(ir===V||ir===T)||(sr===LVT||sr===T)&&ir===T||ir===ZWJ||ir===Extend||ir===SpacingMark||sr===Prepend)return BREAK_NOT_ALLOWED;if(sr===ZWJ&&ir===Extended_Pictographic){for(;nr===Extend;)nr=St[--rr];if(nr===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(sr===RI&&ir===RI){for(var ar=0;nr===RI;)ar++,nr=St[--rr];if(ar%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(er){var St=toCodePoints(er),tr=St.length,rr=0,nr=0,sr=St.map(codePointToClass);return{next:function(){if(rr>=tr)return{done:!0,value:null};for(var ir=BREAK_NOT_ALLOWED;rr<tr&&(ir=_graphemeBreakAtIndex(St,sr,++rr))===BREAK_NOT_ALLOWED;);if(ir!==BREAK_NOT_ALLOWED||rr===tr){var ar=fromCodePoint.apply(null,St.slice(nr,rr));return nr=rr,{value:ar,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(er){for(var St=GraphemeBreaker(er),tr=[],rr;!(rr=St.next()).done;)rr.value&&tr.push(rr.value.slice());return tr},testRangeBounds=function(er){var St=123;if(er.createRange){var tr=er.createRange();if(tr.getBoundingClientRect){var rr=er.createElement("boundtest");rr.style.height=St+"px",rr.style.display="block",er.body.appendChild(rr),tr.selectNode(rr);var nr=tr.getBoundingClientRect(),sr=Math.round(nr.height);if(er.body.removeChild(rr),sr===St)return!0}}return!1},testIOSLineBreak=function(er){var St=er.createElement("boundtest");St.style.width="50px",St.style.display="block",St.style.fontSize="12px",St.style.letterSpacing="0px",St.style.wordSpacing="0px",er.body.appendChild(St);var tr=er.createRange();St.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var rr=St.firstChild,nr=toCodePoints$1(rr.data).map(function(or){return fromCodePoint$1(or)}),sr=0,ir={},ar=nr.every(function(or,lr){tr.setStart(rr,sr),tr.setEnd(rr,sr+or.length);var cr=tr.getBoundingClientRect();sr+=or.length;var ur=cr.x>ir.x||cr.y>ir.y;return ir=cr,lr===0?!0:ur});return er.body.removeChild(St),ar},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(er){var St=new Image,tr=er.createElement("canvas"),rr=tr.getContext("2d");if(!rr)return!1;St.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{rr.drawImage(St,0,0),tr.toDataURL()}catch{return!1}return!0},isGreenPixel=function(er){return er[0]===0&&er[1]===255&&er[2]===0&&er[3]===255},testForeignObject=function(er){var St=er.createElement("canvas"),tr=100;St.width=tr,St.height=tr;var rr=St.getContext("2d");if(!rr)return Promise.reject(!1);rr.fillStyle="rgb(0, 255, 0)",rr.fillRect(0,0,tr,tr);var nr=new Image,sr=St.toDataURL();nr.src=sr;var ir=createForeignObjectSVG(tr,tr,0,0,nr);return rr.fillStyle="red",rr.fillRect(0,0,tr,tr),loadSerializedSVG$1(ir).then(function(ar){rr.drawImage(ar,0,0);var or=rr.getImageData(0,0,tr,tr).data;rr.fillStyle="red",rr.fillRect(0,0,tr,tr);var lr=er.createElement("div");return lr.style.backgroundImage="url("+sr+")",lr.style.height=tr+"px",isGreenPixel(or)?loadSerializedSVG$1(createForeignObjectSVG(tr,tr,0,0,lr)):Promise.reject(!1)}).then(function(ar){return rr.drawImage(ar,0,0),isGreenPixel(rr.getImageData(0,0,tr,tr).data)}).catch(function(){return!1})},createForeignObjectSVG=function(er,St,tr,rr,nr){var sr="http://www.w3.org/2000/svg",ir=document.createElementNS(sr,"svg"),ar=document.createElementNS(sr,"foreignObject");return ir.setAttributeNS(null,"width",er.toString()),ir.setAttributeNS(null,"height",St.toString()),ar.setAttributeNS(null,"width","100%"),ar.setAttributeNS(null,"height","100%"),ar.setAttributeNS(null,"x",tr.toString()),ar.setAttributeNS(null,"y",rr.toString()),ar.setAttributeNS(null,"externalResourcesRequired","true"),ir.appendChild(ar),ar.appendChild(nr),ir},loadSerializedSVG$1=function(er){return new Promise(function(St,tr){var rr=new Image;rr.onload=function(){return St(rr)},rr.onerror=tr,rr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(er))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var er=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:er}),er},get SUPPORT_WORD_BREAKING(){var er=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:er}),er},get SUPPORT_SVG_DRAWING(){var er=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:er}),er},get SUPPORT_FOREIGNOBJECT_DRAWING(){var er=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:er}),er},get SUPPORT_CORS_IMAGES(){var er=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:er}),er},get SUPPORT_RESPONSE_TYPE(){var er=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:er}),er},get SUPPORT_CORS_XHR(){var er="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:er}),er},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var er=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:er}),er}},TextBounds=function(){function er(St,tr){this.text=St,this.bounds=tr}return er}(),parseTextBounds=function(er,St,tr,rr){var nr=breakText(St,tr),sr=[],ir=0;return nr.forEach(function(ar){if(tr.textDecorationLine.length||ar.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var or=createRange(rr,ir,ar.length).getClientRects();if(or.length>1){var lr=segmentGraphemes(ar),cr=0;lr.forEach(function(dr){sr.push(new TextBounds(dr,Bounds.fromDOMRectList(er,createRange(rr,cr+ir,dr.length).getClientRects()))),cr+=dr.length})}else sr.push(new TextBounds(ar,Bounds.fromDOMRectList(er,or)))}else{var ur=rr.splitText(ar.length);sr.push(new TextBounds(ar,getWrapperBounds(er,rr))),rr=ur}else FEATURES.SUPPORT_RANGE_BOUNDS||(rr=rr.splitText(ar.length));ir+=ar.length}),sr},getWrapperBounds=function(er,St){var tr=St.ownerDocument;if(tr){var rr=tr.createElement("html2canvaswrapper");rr.appendChild(St.cloneNode(!0));var nr=St.parentNode;if(nr){nr.replaceChild(rr,St);var sr=parseBounds(er,rr);return rr.firstChild&&nr.replaceChild(rr.firstChild,rr),sr}}return Bounds.EMPTY},createRange=function(er,St,tr){var rr=er.ownerDocument;if(!rr)throw new Error("Node has no owner document");var nr=rr.createRange();return nr.setStart(er,St),nr.setEnd(er,St+tr),nr},segmentGraphemes=function(er){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var St=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(St.segment(er)).map(function(tr){return tr.segment})}return splitGraphemes(er)},segmentWords=function(er,St){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var tr=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(tr.segment(er)).map(function(rr){return rr.segment})}return breakWords(er,St)},breakText=function(er,St){return St.letterSpacing!==0?segmentGraphemes(er):segmentWords(er,St)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(er,St){for(var tr=LineBreaker(er,{lineBreak:St.lineBreak,wordBreak:St.overflowWrap==="break-word"?"break-word":St.wordBreak}),rr=[],nr,sr=function(){if(nr.value){var ir=nr.value.slice(),ar=toCodePoints$1(ir),or="";ar.forEach(function(lr){wordSeparators.indexOf(lr)===-1?or+=fromCodePoint$1(lr):(or.length&&rr.push(or),rr.push(fromCodePoint$1(lr)),or="")}),or.length&&rr.push(or)}};!(nr=tr.next()).done;)sr();return rr},TextContainer=function(){function er(St,tr,rr){this.text=transform(tr.data,rr.textTransform),this.textBounds=parseTextBounds(St,this.text,rr,tr)}return er}(),transform=function(er,St){switch(St){case 1:return er.toLowerCase();case 3:return er.replace(CAPITALIZE,capitalize);case 2:return er.toUpperCase();default:return er}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(er,St,tr){return er.length>0?St+tr.toUpperCase():er},ImageElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.src=rr.currentSrc||rr.src,nr.intrinsicWidth=rr.naturalWidth,nr.intrinsicHeight=rr.naturalHeight,nr.context.cache.addImage(nr.src),nr}return St}(ElementContainer),CanvasElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.canvas=rr,nr.intrinsicWidth=rr.width,nr.intrinsicHeight=rr.height,nr}return St}(ElementContainer),SVGElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this,sr=new XMLSerializer,ir=parseBounds(tr,rr);return rr.setAttribute("width",ir.width+"px"),rr.setAttribute("height",ir.height+"px"),nr.svg="data:image/svg+xml,"+encodeURIComponent(sr.serializeToString(rr)),nr.intrinsicWidth=rr.width.baseVal.value,nr.intrinsicHeight=rr.height.baseVal.value,nr.context.cache.addImage(nr.svg),nr}return St}(ElementContainer),LIElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.value=rr.value,nr}return St}(ElementContainer),OLElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.start=rr.start,nr.reversed=typeof rr.reversed=="boolean"&&rr.reversed===!0,nr}return St}(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(er){return er.width>er.height?new Bounds(er.left+(er.width-er.height)/2,er.top,er.height,er.height):er.width<er.height?new Bounds(er.left,er.top+(er.height-er.width)/2,er.width,er.width):er},getInputValue=function(er){var St=er.type===PASSWORD?new Array(er.value.length+1).join(""):er.value;return St.length===0?er.placeholder||"":St},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;switch(nr.type=rr.type.toLowerCase(),nr.checked=rr.checked,nr.value=getInputValue(rr),(nr.type===CHECKBOX||nr.type===RADIO)&&(nr.styles.backgroundColor=3739148031,nr.styles.borderTopColor=nr.styles.borderRightColor=nr.styles.borderBottomColor=nr.styles.borderLeftColor=2779096575,nr.styles.borderTopWidth=nr.styles.borderRightWidth=nr.styles.borderBottomWidth=nr.styles.borderLeftWidth=1,nr.styles.borderTopStyle=nr.styles.borderRightStyle=nr.styles.borderBottomStyle=nr.styles.borderLeftStyle=1,nr.styles.backgroundClip=[0],nr.styles.backgroundOrigin=[0],nr.bounds=reformatInputBounds(nr.bounds)),nr.type){case CHECKBOX:nr.styles.borderTopRightRadius=nr.styles.borderTopLeftRadius=nr.styles.borderBottomRightRadius=nr.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:nr.styles.borderTopRightRadius=nr.styles.borderTopLeftRadius=nr.styles.borderBottomRightRadius=nr.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return nr}return St}(ElementContainer),SelectElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this,sr=rr.options[rr.selectedIndex||0];return nr.value=sr&&sr.text||"",nr}return St}(ElementContainer),TextareaElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.value=rr.value,nr}return St}(ElementContainer),IFrameElementContainer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;nr.src=rr.src,nr.width=parseInt(rr.width,10)||0,nr.height=parseInt(rr.height,10)||0,nr.backgroundColor=nr.styles.backgroundColor;try{if(rr.contentWindow&&rr.contentWindow.document&&rr.contentWindow.document.documentElement){nr.tree=parseTree(tr,rr.contentWindow.document.documentElement);var sr=rr.contentWindow.document.documentElement?parseColor(tr,getComputedStyle(rr.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,ir=rr.contentWindow.document.body?parseColor(tr,getComputedStyle(rr.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;nr.backgroundColor=isTransparent(sr)?isTransparent(ir)?nr.styles.backgroundColor:ir:sr}}catch{}return nr}return St}(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(er,St,tr,rr){for(var nr=St.firstChild,sr=void 0;nr;nr=sr)if(sr=nr.nextSibling,isTextNode(nr)&&nr.data.trim().length>0)tr.textNodes.push(new TextContainer(er,nr,tr.styles));else if(isElementNode(nr))if(isSlotElement(nr)&&nr.assignedNodes)nr.assignedNodes().forEach(function(ar){return parseNodeTree(er,ar,tr,rr)});else{var ir=createContainer(er,nr);ir.styles.isVisible()&&(createsRealStackingContext(nr,ir,rr)?ir.flags|=4:createsStackingContext(ir.styles)&&(ir.flags|=2),LIST_OWNERS.indexOf(nr.tagName)!==-1&&(ir.flags|=8),tr.elements.push(ir),nr.slot,nr.shadowRoot?parseNodeTree(er,nr.shadowRoot,ir,rr):!isTextareaElement(nr)&&!isSVGElement(nr)&&!isSelectElement(nr)&&parseNodeTree(er,nr,ir,rr))}},createContainer=function(er,St){return isImageElement(St)?new ImageElementContainer(er,St):isCanvasElement(St)?new CanvasElementContainer(er,St):isSVGElement(St)?new SVGElementContainer(er,St):isLIElement(St)?new LIElementContainer(er,St):isOLElement(St)?new OLElementContainer(er,St):isInputElement(St)?new InputElementContainer(er,St):isSelectElement(St)?new SelectElementContainer(er,St):isTextareaElement(St)?new TextareaElementContainer(er,St):isIFrameElement(St)?new IFrameElementContainer(er,St):new ElementContainer(er,St)},parseTree=function(er,St){var tr=createContainer(er,St);return tr.flags|=4,parseNodeTree(er,St,tr,tr),tr},createsRealStackingContext=function(er,St,tr){return St.styles.isPositionedWithZIndex()||St.styles.opacity<1||St.styles.isTransformed()||isBodyElement(er)&&tr.styles.isTransparent()},createsStackingContext=function(er){return er.isPositioned()||er.isFloating()},isTextNode=function(er){return er.nodeType===Node.TEXT_NODE},isElementNode=function(er){return er.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(er){return isElementNode(er)&&typeof er.style<"u"&&!isSVGElementNode(er)},isSVGElementNode=function(er){return typeof er.className=="object"},isLIElement=function(er){return er.tagName==="LI"},isOLElement=function(er){return er.tagName==="OL"},isInputElement=function(er){return er.tagName==="INPUT"},isHTMLElement=function(er){return er.tagName==="HTML"},isSVGElement=function(er){return er.tagName==="svg"},isBodyElement=function(er){return er.tagName==="BODY"},isCanvasElement=function(er){return er.tagName==="CANVAS"},isVideoElement=function(er){return er.tagName==="VIDEO"},isImageElement=function(er){return er.tagName==="IMG"},isIFrameElement=function(er){return er.tagName==="IFRAME"},isStyleElement=function(er){return er.tagName==="STYLE"},isScriptElement=function(er){return er.tagName==="SCRIPT"},isTextareaElement=function(er){return er.tagName==="TEXTAREA"},isSelectElement=function(er){return er.tagName==="SELECT"},isSlotElement=function(er){return er.tagName==="SLOT"},isCustomElement=function(er){return er.tagName.indexOf("-")>0},CounterState=function(){function er(){this.counters={}}return er.prototype.getCounterValue=function(St){var tr=this.counters[St];return tr&&tr.length?tr[tr.length-1]:1},er.prototype.getCounterValues=function(St){var tr=this.counters[St];return tr||[]},er.prototype.pop=function(St){var tr=this;St.forEach(function(rr){return tr.counters[rr].pop()})},er.prototype.parse=function(St){var tr=this,rr=St.counterIncrement,nr=St.counterReset,sr=!0;rr!==null&&rr.forEach(function(ar){var or=tr.counters[ar.counter];or&&ar.increment!==0&&(sr=!1,or.length||or.push(1),or[Math.max(0,or.length-1)]+=ar.increment)});var ir=[];return sr&&nr.forEach(function(ar){var or=tr.counters[ar.counter];ir.push(ar.counter),or||(or=tr.counters[ar.counter]=[]),or.push(ar.reset)}),ir},er}(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},createAdditiveCounter=function(er,St,tr,rr,nr,sr){return er<St||er>tr?createCounterText(er,nr,sr.length>0):rr.integers.reduce(function(ir,ar,or){for(;er>=ar;)er-=ar,ir+=rr.values[or];return ir},"")+sr},createCounterStyleWithSymbolResolver=function(er,St,tr,rr){var nr="";do tr||er--,nr=rr(er)+nr,er/=St;while(er*St>=St);return nr},createCounterStyleFromRange=function(er,St,tr,rr,nr){var sr=tr-St+1;return(er<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(er),sr,rr,function(ir){return fromCodePoint$1(Math.floor(ir%sr)+St)})+nr)},createCounterStyleFromSymbols=function(er,St,tr){tr===void 0&&(tr=". ");var rr=St.length;return createCounterStyleWithSymbolResolver(Math.abs(er),rr,!1,function(nr){return St[Math.floor(nr%rr)]})+tr},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(er,St,tr,rr,nr,sr){if(er<-9999||er>9999)return createCounterText(er,4,nr.length>0);var ir=Math.abs(er),ar=nr;if(ir===0)return St[0]+ar;for(var or=0;ir>0&&or<=4;or++){var lr=ir%10;lr===0&&contains(sr,CJK_ZEROS)&&ar!==""?ar=St[lr]+ar:lr>1||lr===1&&or===0||lr===1&&or===1&&contains(sr,CJK_TEN_COEFFICIENTS)||lr===1&&or===1&&contains(sr,CJK_TEN_HIGH_COEFFICIENTS)&&er>100||lr===1&&or>1&&contains(sr,CJK_HUNDRED_COEFFICIENTS)?ar=St[lr]+(or>0?tr[or-1]:"")+ar:lr===1&&or>0&&(ar=tr[or-1]+ar),ir=Math.floor(ir/10)}return(er<0?rr:"")+ar},CHINESE_INFORMAL_MULTIPLIERS="",CHINESE_FORMAL_MULTIPLIERS="",JAPANESE_NEGATIVE="",KOREAN_NEGATIVE="",createCounterText=function(er,St,tr){var rr=tr?". ":"",nr=tr?"":"",sr=tr?", ":"",ir=tr?" ":"";switch(St){case 0:return""+ir;case 1:return""+ir;case 2:return""+ir;case 5:var ar=createCounterStyleFromRange(er,48,57,!0,rr);return ar.length<4?"0"+ar:ar;case 4:return createCounterStyleFromSymbols(er,"",nr);case 6:return createAdditiveCounter(er,1,3999,ROMAN_UPPER,3,rr).toLowerCase();case 7:return createAdditiveCounter(er,1,3999,ROMAN_UPPER,3,rr);case 8:return createCounterStyleFromRange(er,945,969,!1,rr);case 9:return createCounterStyleFromRange(er,97,122,!1,rr);case 10:return createCounterStyleFromRange(er,65,90,!1,rr);case 11:return createCounterStyleFromRange(er,1632,1641,!0,rr);case 12:case 49:return createAdditiveCounter(er,1,9999,ARMENIAN,3,rr);case 35:return createAdditiveCounter(er,1,9999,ARMENIAN,3,rr).toLowerCase();case 13:return createCounterStyleFromRange(er,2534,2543,!0,rr);case 14:case 30:return createCounterStyleFromRange(er,6112,6121,!0,rr);case 15:return createCounterStyleFromSymbols(er,"",nr);case 16:return createCounterStyleFromSymbols(er,"",nr);case 17:case 48:return createCJKCounter(er,"",CHINESE_INFORMAL_MULTIPLIERS,"",nr,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(er,"",CHINESE_FORMAL_MULTIPLIERS,"",nr,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(er,"",CHINESE_INFORMAL_MULTIPLIERS,"",nr,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(er,"",CHINESE_FORMAL_MULTIPLIERS,"",nr,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(er,"","",JAPANESE_NEGATIVE,nr,0);case 25:return createCJKCounter(er,"","",JAPANESE_NEGATIVE,nr,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(er,"","",KOREAN_NEGATIVE,sr,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(er,"","",KOREAN_NEGATIVE,sr,0);case 32:return createCJKCounter(er,"","",KOREAN_NEGATIVE,sr,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(er,2406,2415,!0,rr);case 20:return createAdditiveCounter(er,1,19999,GEORGIAN,3,rr);case 21:return createCounterStyleFromRange(er,2790,2799,!0,rr);case 22:return createCounterStyleFromRange(er,2662,2671,!0,rr);case 22:return createAdditiveCounter(er,1,10999,HEBREW,3,rr);case 23:return createCounterStyleFromSymbols(er,"");case 24:return createCounterStyleFromSymbols(er,"");case 27:return createCounterStyleFromRange(er,3302,3311,!0,rr);case 28:return createCounterStyleFromSymbols(er,"",nr);case 29:return createCounterStyleFromSymbols(er,"",nr);case 34:return createCounterStyleFromRange(er,3792,3801,!0,rr);case 37:return createCounterStyleFromRange(er,6160,6169,!0,rr);case 38:return createCounterStyleFromRange(er,4160,4169,!0,rr);case 39:return createCounterStyleFromRange(er,2918,2927,!0,rr);case 40:return createCounterStyleFromRange(er,1776,1785,!0,rr);case 43:return createCounterStyleFromRange(er,3046,3055,!0,rr);case 44:return createCounterStyleFromRange(er,3174,3183,!0,rr);case 45:return createCounterStyleFromRange(er,3664,3673,!0,rr);case 46:return createCounterStyleFromRange(er,3872,3881,!0,rr);case 3:default:return createCounterStyleFromRange(er,48,57,!0,rr)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=function(){function er(St,tr,rr){if(this.context=St,this.options=rr,this.scrolledElements=[],this.referenceElement=tr,this.counters=new CounterState,this.quoteDepth=0,!tr.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(tr.ownerDocument.documentElement,!1)}return er.prototype.toIFrame=function(St,tr){var rr=this,nr=createIFrameContainer(St,tr);if(!nr.contentWindow)return Promise.reject("Unable to find iframe window");var sr=St.defaultView.pageXOffset,ir=St.defaultView.pageYOffset,ar=nr.contentWindow,or=ar.document,lr=iframeLoader(nr).then(function(){return __awaiter(rr,void 0,void 0,function(){var cr,ur;return __generator(this,function(dr){switch(dr.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),ar&&(ar.scrollTo(tr.left,tr.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ar.scrollY!==tr.top||ar.scrollX!==tr.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ar.scrollX-tr.left,ar.scrollY-tr.top,0,0))),cr=this.options.onclone,ur=this.clonedReferenceElement,typeof ur>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:or.fonts&&or.fonts.ready?[4,or.fonts.ready]:[3,2];case 1:dr.sent(),dr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(or)]:[3,4];case 3:dr.sent(),dr.label=4;case 4:return typeof cr=="function"?[2,Promise.resolve().then(function(){return cr(or,ur)}).then(function(){return nr})]:[2,nr]}})})});return or.open(),or.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,sr,ir),or.replaceChild(or.adoptNode(this.documentElement),or.documentElement),or.close(),lr},er.prototype.createElementClone=function(St){if(isDebugging(St,2))debugger;if(isCanvasElement(St))return this.createCanvasClone(St);if(isVideoElement(St))return this.createVideoClone(St);if(isStyleElement(St))return this.createStyleClone(St);var tr=St.cloneNode(!1);return isImageElement(tr)&&(isImageElement(St)&&St.currentSrc&&St.currentSrc!==St.src&&(tr.src=St.currentSrc,tr.srcset=""),tr.loading==="lazy"&&(tr.loading="eager")),isCustomElement(tr)?this.createCustomElementClone(tr):tr},er.prototype.createCustomElementClone=function(St){var tr=document.createElement("html2canvascustomelement");return copyCSSStyles(St.style,tr),tr},er.prototype.createStyleClone=function(St){try{var tr=St.sheet;if(tr&&tr.cssRules){var rr=[].slice.call(tr.cssRules,0).reduce(function(sr,ir){return ir&&typeof ir.cssText=="string"?sr+ir.cssText:sr},""),nr=St.cloneNode(!1);return nr.textContent=rr,nr}}catch(sr){if(this.context.logger.error("Unable to access cssRules property",sr),sr.name!=="SecurityError")throw sr}return St.cloneNode(!1)},er.prototype.createCanvasClone=function(St){var tr;if(this.options.inlineImages&&St.ownerDocument){var rr=St.ownerDocument.createElement("img");try{return rr.src=St.toDataURL(),rr}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",St)}}var nr=St.cloneNode(!1);try{nr.width=St.width,nr.height=St.height;var sr=St.getContext("2d"),ir=nr.getContext("2d");if(ir)if(!this.options.allowTaint&&sr)ir.putImageData(sr.getImageData(0,0,St.width,St.height),0,0);else{var ar=(tr=St.getContext("webgl2"))!==null&&tr!==void 0?tr:St.getContext("webgl");if(ar){var or=ar.getContextAttributes();(or==null?void 0:or.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",St)}ir.drawImage(St,0,0)}return nr}catch{this.context.logger.info("Unable to clone canvas as it is tainted",St)}return nr},er.prototype.createVideoClone=function(St){var tr=St.ownerDocument.createElement("canvas");tr.width=St.offsetWidth,tr.height=St.offsetHeight;var rr=tr.getContext("2d");try{return rr&&(rr.drawImage(St,0,0,tr.width,tr.height),this.options.allowTaint||rr.getImageData(0,0,tr.width,tr.height)),tr}catch{this.context.logger.info("Unable to clone video as it is tainted",St)}var nr=St.ownerDocument.createElement("canvas");return nr.width=St.offsetWidth,nr.height=St.offsetHeight,nr},er.prototype.appendChildNode=function(St,tr,rr){(!isElementNode(tr)||!isScriptElement(tr)&&!tr.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(tr)))&&(!this.options.copyStyles||!isElementNode(tr)||!isStyleElement(tr))&&St.appendChild(this.cloneNode(tr,rr))},er.prototype.cloneChildNodes=function(St,tr,rr){for(var nr=this,sr=St.shadowRoot?St.shadowRoot.firstChild:St.firstChild;sr;sr=sr.nextSibling)if(isElementNode(sr)&&isSlotElement(sr)&&typeof sr.assignedNodes=="function"){var ir=sr.assignedNodes();ir.length&&ir.forEach(function(ar){return nr.appendChildNode(tr,ar,rr)})}else this.appendChildNode(tr,sr,rr)},er.prototype.cloneNode=function(St,tr){if(isTextNode(St))return document.createTextNode(St.data);if(!St.ownerDocument)return St.cloneNode(!1);var rr=St.ownerDocument.defaultView;if(rr&&isElementNode(St)&&(isHTMLElementNode(St)||isSVGElementNode(St))){var nr=this.createElementClone(St);nr.style.transitionProperty="none";var sr=rr.getComputedStyle(St),ir=rr.getComputedStyle(St,":before"),ar=rr.getComputedStyle(St,":after");this.referenceElement===St&&isHTMLElementNode(nr)&&(this.clonedReferenceElement=nr),isBodyElement(nr)&&createPseudoHideStyles(nr);var or=this.counters.parse(new CSSParsedCounterDeclaration(this.context,sr)),lr=this.resolvePseudoContent(St,nr,ir,PseudoElementType.BEFORE);isCustomElement(St)&&(tr=!0),isVideoElement(St)||this.cloneChildNodes(St,nr,tr),lr&&nr.insertBefore(lr,nr.firstChild);var cr=this.resolvePseudoContent(St,nr,ar,PseudoElementType.AFTER);return cr&&nr.appendChild(cr),this.counters.pop(or),(sr&&(this.options.copyStyles||isSVGElementNode(St))&&!isIFrameElement(St)||tr)&&copyCSSStyles(sr,nr),(St.scrollTop!==0||St.scrollLeft!==0)&&this.scrolledElements.push([nr,St.scrollLeft,St.scrollTop]),(isTextareaElement(St)||isSelectElement(St))&&(isTextareaElement(nr)||isSelectElement(nr))&&(nr.value=St.value),nr}return St.cloneNode(!1)},er.prototype.resolvePseudoContent=function(St,tr,rr,nr){var sr=this;if(rr){var ir=rr.content,ar=tr.ownerDocument;if(!(!ar||!ir||ir==="none"||ir==="-moz-alt-content"||rr.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,rr));var or=new CSSParsedPseudoDeclaration(this.context,rr),lr=ar.createElement("html2canvaspseudoelement");copyCSSStyles(rr,lr),or.content.forEach(function(ur){if(ur.type===0)lr.appendChild(ar.createTextNode(ur.value));else if(ur.type===22){var dr=ar.createElement("img");dr.src=ur.value,dr.style.opacity="1",lr.appendChild(dr)}else if(ur.type===18){if(ur.name==="attr"){var hr=ur.values.filter(isIdentToken);hr.length&&lr.appendChild(ar.createTextNode(St.getAttribute(hr[0].value)||""))}else if(ur.name==="counter"){var Ar=ur.values.filter(nonFunctionArgSeparator),fr=Ar[0],mr=Ar[1];if(fr&&isIdentToken(fr)){var pr=sr.counters.getCounterValue(fr.value),gr=mr&&isIdentToken(mr)?listStyleType.parse(sr.context,mr.value):3;lr.appendChild(ar.createTextNode(createCounterText(pr,gr,!1)))}}else if(ur.name==="counters"){var xr=ur.values.filter(nonFunctionArgSeparator),fr=xr[0],yr=xr[1],mr=xr[2];if(fr&&isIdentToken(fr)){var Er=sr.counters.getCounterValues(fr.value),_r=mr&&isIdentToken(mr)?listStyleType.parse(sr.context,mr.value):3,Sr=yr&&yr.type===0?yr.value:"",jr=Er.map(function(Ir){return createCounterText(Ir,_r,!1)}).join(Sr);lr.appendChild(ar.createTextNode(jr))}}}else if(ur.type===20)switch(ur.value){case"open-quote":lr.appendChild(ar.createTextNode(getQuote(or.quotes,sr.quoteDepth++,!0)));break;case"close-quote":lr.appendChild(ar.createTextNode(getQuote(or.quotes,--sr.quoteDepth,!1)));break;default:lr.appendChild(ar.createTextNode(ur.value))}}),lr.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var cr=nr===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(tr)?tr.className.baseValue+=cr:tr.className+=cr,lr}}},er.destroy=function(St){return St.parentNode?(St.parentNode.removeChild(St),!0):!1},er}(),PseudoElementType;(function(er){er[er.BEFORE=0]="BEFORE",er[er.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(er,St){var tr=er.createElement("iframe");return tr.className="html2canvas-container",tr.style.visibility="hidden",tr.style.position="fixed",tr.style.left="-10000px",tr.style.top="0px",tr.style.border="0",tr.width=St.width.toString(),tr.height=St.height.toString(),tr.scrolling="no",tr.setAttribute(IGNORE_ATTRIBUTE,"true"),er.body.appendChild(tr),tr},imageReady=function(er){return new Promise(function(St){if(er.complete){St();return}if(!er.src){St();return}er.onload=St,er.onerror=St})},imagesReady=function(er){return Promise.all([].slice.call(er.images,0).map(imageReady))},iframeLoader=function(er){return new Promise(function(St,tr){var rr=er.contentWindow;if(!rr)return tr("No window assigned for iframe");var nr=rr.document;rr.onload=er.onload=function(){rr.onload=er.onload=null;var sr=setInterval(function(){nr.body.childNodes.length>0&&nr.readyState==="complete"&&(clearInterval(sr),St(er))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(er,St){for(var tr=er.length-1;tr>=0;tr--){var rr=er.item(tr);ignoredStyleProperties.indexOf(rr)===-1&&St.style.setProperty(rr,er.getPropertyValue(rr))}return St},serializeDoctype=function(er){var St="";return er&&(St+="<!DOCTYPE ",er.name&&(St+=er.name),er.internalSubset&&(St+=er.internalSubset),er.publicId&&(St+='"'+er.publicId+'"'),er.systemId&&(St+='"'+er.systemId+'"'),St+=">"),St},restoreOwnerScroll=function(er,St,tr){er&&er.defaultView&&(St!==er.defaultView.pageXOffset||tr!==er.defaultView.pageYOffset)&&er.defaultView.scrollTo(St,tr)},restoreNodeScroll=function(er){var St=er[0],tr=er[1],rr=er[2];St.scrollLeft=tr,St.scrollTop=rr},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(er){createStyles(er,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(er,St){var tr=er.ownerDocument;if(tr){var rr=tr.createElement("style");rr.textContent=St,er.appendChild(rr)}},CacheStorage=function(){function er(){}return er.getOrigin=function(St){var tr=er._link;return tr?(tr.href=St,tr.href=tr.href,tr.protocol+tr.hostname+tr.port):"about:blank"},er.isSameOrigin=function(St){return er.getOrigin(St)===er._origin},er.setContext=function(St){er._link=St.document.createElement("a"),er._origin=er.getOrigin(St.location.href)},er._origin="about:blank",er}(),Cache=function(){function er(St,tr){this.context=St,this._options=tr,this._cache={}}return er.prototype.addImage=function(St){var tr=Promise.resolve();return this.has(St)||(isBlobImage(St)||isRenderable(St))&&(this._cache[St]=this.loadImage(St)).catch(function(){}),tr},er.prototype.match=function(St){return this._cache[St]},er.prototype.loadImage=function(St){return __awaiter(this,void 0,void 0,function(){var tr,rr,nr,sr,ir=this;return __generator(this,function(ar){switch(ar.label){case 0:return tr=CacheStorage.isSameOrigin(St),rr=!isInlineImage(St)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!tr,nr=!isInlineImage(St)&&!tr&&!isBlobImage(St)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!rr,!tr&&this._options.allowTaint===!1&&!isInlineImage(St)&&!isBlobImage(St)&&!nr&&!rr?[2]:(sr=St,nr?[4,this.proxy(sr)]:[3,2]);case 1:sr=ar.sent(),ar.label=2;case 2:return this.context.logger.debug("Added image "+St.substring(0,256)),[4,new Promise(function(or,lr){var cr=new Image;cr.onload=function(){return or(cr)},cr.onerror=lr,(isInlineBase64Image(sr)||rr)&&(cr.crossOrigin="anonymous"),cr.src=sr,cr.complete===!0&&setTimeout(function(){return or(cr)},500),ir._options.imageTimeout>0&&setTimeout(function(){return lr("Timed out ("+ir._options.imageTimeout+"ms) loading image")},ir._options.imageTimeout)})];case 3:return[2,ar.sent()]}})})},er.prototype.has=function(St){return typeof this._cache[St]<"u"},er.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},er.prototype.proxy=function(St){var tr=this,rr=this._options.proxy;if(!rr)throw new Error("No proxy defined");var nr=St.substring(0,256);return new Promise(function(sr,ir){var ar=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",or=new XMLHttpRequest;or.onload=function(){if(or.status===200)if(ar==="text")sr(or.response);else{var ur=new FileReader;ur.addEventListener("load",function(){return sr(ur.result)},!1),ur.addEventListener("error",function(dr){return ir(dr)},!1),ur.readAsDataURL(or.response)}else ir("Failed to proxy resource "+nr+" with status code "+or.status)},or.onerror=ir;var lr=rr.indexOf("?")>-1?"&":"?";if(or.open("GET",""+rr+lr+"url="+encodeURIComponent(St)+"&responseType="+ar),ar!=="text"&&or instanceof XMLHttpRequest&&(or.responseType=ar),tr._options.imageTimeout){var cr=tr._options.imageTimeout;or.timeout=cr,or.ontimeout=function(){return ir("Timed out ("+cr+"ms) proxying "+nr)}}or.send()})},er}(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(er){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(er)},isInlineImage=function(er){return INLINE_IMG.test(er)},isInlineBase64Image=function(er){return INLINE_BASE64.test(er)},isBlobImage=function(er){return er.substr(0,4)==="blob"},isSVG=function(er){return er.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(er)},Vector=function(){function er(St,tr){this.type=0,this.x=St,this.y=tr}return er.prototype.add=function(St,tr){return new er(this.x+St,this.y+tr)},er}(),lerp=function(er,St,tr){return new Vector(er.x+(St.x-er.x)*tr,er.y+(St.y-er.y)*tr)},BezierCurve=function(){function er(St,tr,rr,nr){this.type=1,this.start=St,this.startControl=tr,this.endControl=rr,this.end=nr}return er.prototype.subdivide=function(St,tr){var rr=lerp(this.start,this.startControl,St),nr=lerp(this.startControl,this.endControl,St),sr=lerp(this.endControl,this.end,St),ir=lerp(rr,nr,St),ar=lerp(nr,sr,St),or=lerp(ir,ar,St);return tr?new er(this.start,rr,ir,or):new er(or,ar,sr,this.end)},er.prototype.add=function(St,tr){return new er(this.start.add(St,tr),this.startControl.add(St,tr),this.endControl.add(St,tr),this.end.add(St,tr))},er.prototype.reverse=function(){return new er(this.end,this.endControl,this.startControl,this.start)},er}(),isBezierCurve=function(er){return er.type===1},BoundCurves=function(){function er(St){var tr=St.styles,rr=St.bounds,nr=getAbsoluteValueForTuple(tr.borderTopLeftRadius,rr.width,rr.height),sr=nr[0],ir=nr[1],ar=getAbsoluteValueForTuple(tr.borderTopRightRadius,rr.width,rr.height),or=ar[0],lr=ar[1],cr=getAbsoluteValueForTuple(tr.borderBottomRightRadius,rr.width,rr.height),ur=cr[0],dr=cr[1],hr=getAbsoluteValueForTuple(tr.borderBottomLeftRadius,rr.width,rr.height),Ar=hr[0],fr=hr[1],mr=[];mr.push((sr+or)/rr.width),mr.push((Ar+ur)/rr.width),mr.push((ir+fr)/rr.height),mr.push((lr+dr)/rr.height);var pr=Math.max.apply(Math,mr);pr>1&&(sr/=pr,ir/=pr,or/=pr,lr/=pr,ur/=pr,dr/=pr,Ar/=pr,fr/=pr);var gr=rr.width-or,xr=rr.height-dr,yr=rr.width-ur,Er=rr.height-fr,_r=tr.borderTopWidth,Sr=tr.borderRightWidth,jr=tr.borderBottomWidth,Pr=tr.borderLeftWidth,Mr=getAbsoluteValue(tr.paddingTop,St.bounds.width),Ir=getAbsoluteValue(tr.paddingRight,St.bounds.width),Lr=getAbsoluteValue(tr.paddingBottom,St.bounds.width),Qr=getAbsoluteValue(tr.paddingLeft,St.bounds.width);this.topLeftBorderDoubleOuterBox=sr>0||ir>0?getCurvePoints(rr.left+Pr/3,rr.top+_r/3,sr-Pr/3,ir-_r/3,CORNER.TOP_LEFT):new Vector(rr.left+Pr/3,rr.top+_r/3),this.topRightBorderDoubleOuterBox=sr>0||ir>0?getCurvePoints(rr.left+gr,rr.top+_r/3,or-Sr/3,lr-_r/3,CORNER.TOP_RIGHT):new Vector(rr.left+rr.width-Sr/3,rr.top+_r/3),this.bottomRightBorderDoubleOuterBox=ur>0||dr>0?getCurvePoints(rr.left+yr,rr.top+xr,ur-Sr/3,dr-jr/3,CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width-Sr/3,rr.top+rr.height-jr/3),this.bottomLeftBorderDoubleOuterBox=Ar>0||fr>0?getCurvePoints(rr.left+Pr/3,rr.top+Er,Ar-Pr/3,fr-jr/3,CORNER.BOTTOM_LEFT):new Vector(rr.left+Pr/3,rr.top+rr.height-jr/3),this.topLeftBorderDoubleInnerBox=sr>0||ir>0?getCurvePoints(rr.left+Pr*2/3,rr.top+_r*2/3,sr-Pr*2/3,ir-_r*2/3,CORNER.TOP_LEFT):new Vector(rr.left+Pr*2/3,rr.top+_r*2/3),this.topRightBorderDoubleInnerBox=sr>0||ir>0?getCurvePoints(rr.left+gr,rr.top+_r*2/3,or-Sr*2/3,lr-_r*2/3,CORNER.TOP_RIGHT):new Vector(rr.left+rr.width-Sr*2/3,rr.top+_r*2/3),this.bottomRightBorderDoubleInnerBox=ur>0||dr>0?getCurvePoints(rr.left+yr,rr.top+xr,ur-Sr*2/3,dr-jr*2/3,CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width-Sr*2/3,rr.top+rr.height-jr*2/3),this.bottomLeftBorderDoubleInnerBox=Ar>0||fr>0?getCurvePoints(rr.left+Pr*2/3,rr.top+Er,Ar-Pr*2/3,fr-jr*2/3,CORNER.BOTTOM_LEFT):new Vector(rr.left+Pr*2/3,rr.top+rr.height-jr*2/3),this.topLeftBorderStroke=sr>0||ir>0?getCurvePoints(rr.left+Pr/2,rr.top+_r/2,sr-Pr/2,ir-_r/2,CORNER.TOP_LEFT):new Vector(rr.left+Pr/2,rr.top+_r/2),this.topRightBorderStroke=sr>0||ir>0?getCurvePoints(rr.left+gr,rr.top+_r/2,or-Sr/2,lr-_r/2,CORNER.TOP_RIGHT):new Vector(rr.left+rr.width-Sr/2,rr.top+_r/2),this.bottomRightBorderStroke=ur>0||dr>0?getCurvePoints(rr.left+yr,rr.top+xr,ur-Sr/2,dr-jr/2,CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width-Sr/2,rr.top+rr.height-jr/2),this.bottomLeftBorderStroke=Ar>0||fr>0?getCurvePoints(rr.left+Pr/2,rr.top+Er,Ar-Pr/2,fr-jr/2,CORNER.BOTTOM_LEFT):new Vector(rr.left+Pr/2,rr.top+rr.height-jr/2),this.topLeftBorderBox=sr>0||ir>0?getCurvePoints(rr.left,rr.top,sr,ir,CORNER.TOP_LEFT):new Vector(rr.left,rr.top),this.topRightBorderBox=or>0||lr>0?getCurvePoints(rr.left+gr,rr.top,or,lr,CORNER.TOP_RIGHT):new Vector(rr.left+rr.width,rr.top),this.bottomRightBorderBox=ur>0||dr>0?getCurvePoints(rr.left+yr,rr.top+xr,ur,dr,CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width,rr.top+rr.height),this.bottomLeftBorderBox=Ar>0||fr>0?getCurvePoints(rr.left,rr.top+Er,Ar,fr,CORNER.BOTTOM_LEFT):new Vector(rr.left,rr.top+rr.height),this.topLeftPaddingBox=sr>0||ir>0?getCurvePoints(rr.left+Pr,rr.top+_r,Math.max(0,sr-Pr),Math.max(0,ir-_r),CORNER.TOP_LEFT):new Vector(rr.left+Pr,rr.top+_r),this.topRightPaddingBox=or>0||lr>0?getCurvePoints(rr.left+Math.min(gr,rr.width-Sr),rr.top+_r,gr>rr.width+Sr?0:Math.max(0,or-Sr),Math.max(0,lr-_r),CORNER.TOP_RIGHT):new Vector(rr.left+rr.width-Sr,rr.top+_r),this.bottomRightPaddingBox=ur>0||dr>0?getCurvePoints(rr.left+Math.min(yr,rr.width-Pr),rr.top+Math.min(xr,rr.height-jr),Math.max(0,ur-Sr),Math.max(0,dr-jr),CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width-Sr,rr.top+rr.height-jr),this.bottomLeftPaddingBox=Ar>0||fr>0?getCurvePoints(rr.left+Pr,rr.top+Math.min(Er,rr.height-jr),Math.max(0,Ar-Pr),Math.max(0,fr-jr),CORNER.BOTTOM_LEFT):new Vector(rr.left+Pr,rr.top+rr.height-jr),this.topLeftContentBox=sr>0||ir>0?getCurvePoints(rr.left+Pr+Qr,rr.top+_r+Mr,Math.max(0,sr-(Pr+Qr)),Math.max(0,ir-(_r+Mr)),CORNER.TOP_LEFT):new Vector(rr.left+Pr+Qr,rr.top+_r+Mr),this.topRightContentBox=or>0||lr>0?getCurvePoints(rr.left+Math.min(gr,rr.width+Pr+Qr),rr.top+_r+Mr,gr>rr.width+Pr+Qr?0:or-Pr+Qr,lr-(_r+Mr),CORNER.TOP_RIGHT):new Vector(rr.left+rr.width-(Sr+Ir),rr.top+_r+Mr),this.bottomRightContentBox=ur>0||dr>0?getCurvePoints(rr.left+Math.min(yr,rr.width-(Pr+Qr)),rr.top+Math.min(xr,rr.height+_r+Mr),Math.max(0,ur-(Sr+Ir)),dr-(jr+Lr),CORNER.BOTTOM_RIGHT):new Vector(rr.left+rr.width-(Sr+Ir),rr.top+rr.height-(jr+Lr)),this.bottomLeftContentBox=Ar>0||fr>0?getCurvePoints(rr.left+Pr+Qr,rr.top+Er,Math.max(0,Ar-(Pr+Qr)),fr-(jr+Lr),CORNER.BOTTOM_LEFT):new Vector(rr.left+Pr+Qr,rr.top+rr.height-(jr+Lr))}return er}(),CORNER;(function(er){er[er.TOP_LEFT=0]="TOP_LEFT",er[er.TOP_RIGHT=1]="TOP_RIGHT",er[er.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",er[er.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(er,St,tr,rr,nr){var sr=4*((Math.sqrt(2)-1)/3),ir=tr*sr,ar=rr*sr,or=er+tr,lr=St+rr;switch(nr){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(er,lr),new Vector(er,lr-ar),new Vector(or-ir,St),new Vector(or,St));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(er,St),new Vector(er+ir,St),new Vector(or,lr-ar),new Vector(or,lr));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(or,St),new Vector(or,St+ar),new Vector(er+ir,lr),new Vector(er,lr));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(or,lr),new Vector(or-ir,lr),new Vector(er,St+ar),new Vector(er,St))}},calculateBorderBoxPath=function(er){return[er.topLeftBorderBox,er.topRightBorderBox,er.bottomRightBorderBox,er.bottomLeftBorderBox]},calculateContentBoxPath=function(er){return[er.topLeftContentBox,er.topRightContentBox,er.bottomRightContentBox,er.bottomLeftContentBox]},calculatePaddingBoxPath=function(er){return[er.topLeftPaddingBox,er.topRightPaddingBox,er.bottomRightPaddingBox,er.bottomLeftPaddingBox]},TransformEffect=function(){function er(St,tr,rr){this.offsetX=St,this.offsetY=tr,this.matrix=rr,this.type=0,this.target=6}return er}(),ClipEffect=function(){function er(St,tr){this.path=St,this.target=tr,this.type=1}return er}(),OpacityEffect=function(){function er(St){this.opacity=St,this.type=2,this.target=6}return er}(),isTransformEffect=function(er){return er.type===0},isClipEffect=function(er){return er.type===1},isOpacityEffect=function(er){return er.type===2},equalPath=function(er,St){return er.length===St.length?er.some(function(tr,rr){return tr===St[rr]}):!1},transformPath=function(er,St,tr,rr,nr){return er.map(function(sr,ir){switch(ir){case 0:return sr.add(St,tr);case 1:return sr.add(St+rr,tr);case 2:return sr.add(St+rr,tr+nr);case 3:return sr.add(St,tr+nr)}return sr})},StackingContext=function(){function er(St){this.element=St,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return er}(),ElementPaint=function(){function er(St,tr){if(this.container=St,this.parent=tr,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var rr=this.container.bounds.left+this.container.styles.transformOrigin[0].number,nr=this.container.bounds.top+this.container.styles.transformOrigin[1].number,sr=this.container.styles.transform;this.effects.push(new TransformEffect(rr,nr,sr))}if(this.container.styles.overflowX!==0){var ir=calculateBorderBoxPath(this.curves),ar=calculatePaddingBoxPath(this.curves);equalPath(ir,ar)?this.effects.push(new ClipEffect(ir,6)):(this.effects.push(new ClipEffect(ir,2)),this.effects.push(new ClipEffect(ar,4)))}}return er.prototype.getEffects=function(St){for(var tr=[2,3].indexOf(this.container.styles.position)===-1,rr=this.parent,nr=this.effects.slice(0);rr;){var sr=rr.effects.filter(function(or){return!isClipEffect(or)});if(tr||rr.container.styles.position!==0||!rr.parent){if(nr.unshift.apply(nr,sr),tr=[2,3].indexOf(rr.container.styles.position)===-1,rr.container.styles.overflowX!==0){var ir=calculateBorderBoxPath(rr.curves),ar=calculatePaddingBoxPath(rr.curves);equalPath(ir,ar)||nr.unshift(new ClipEffect(ar,6))}}else nr.unshift.apply(nr,sr);rr=rr.parent}return nr.filter(function(or){return contains(or.target,St)})},er}(),parseStackTree=function(er,St,tr,rr){er.container.elements.forEach(function(nr){var sr=contains(nr.flags,4),ir=contains(nr.flags,2),ar=new ElementPaint(nr,er);contains(nr.styles.display,2048)&&rr.push(ar);var or=contains(nr.flags,8)?[]:rr;if(sr||ir){var lr=sr||nr.styles.isPositioned()?tr:St,cr=new StackingContext(ar);if(nr.styles.isPositioned()||nr.styles.opacity<1||nr.styles.isTransformed()){var ur=nr.styles.zIndex.order;if(ur<0){var dr=0;lr.negativeZIndex.some(function(Ar,fr){return ur>Ar.element.container.styles.zIndex.order?(dr=fr,!1):dr>0}),lr.negativeZIndex.splice(dr,0,cr)}else if(ur>0){var hr=0;lr.positiveZIndex.some(function(Ar,fr){return ur>=Ar.element.container.styles.zIndex.order?(hr=fr+1,!1):hr>0}),lr.positiveZIndex.splice(hr,0,cr)}else lr.zeroOrAutoZIndexOrTransformedOrOpacity.push(cr)}else nr.styles.isFloating()?lr.nonPositionedFloats.push(cr):lr.nonPositionedInlineLevel.push(cr);parseStackTree(ar,cr,sr?cr:tr,or)}else nr.styles.isInlineLevel()?St.inlineLevel.push(ar):St.nonInlineLevel.push(ar),parseStackTree(ar,St,tr,or);contains(nr.flags,8)&&processListItems(nr,or)})},processListItems=function(er,St){for(var tr=er instanceof OLElementContainer?er.start:1,rr=er instanceof OLElementContainer?er.reversed:!1,nr=0;nr<St.length;nr++){var sr=St[nr];sr.container instanceof LIElementContainer&&typeof sr.container.value=="number"&&sr.container.value!==0&&(tr=sr.container.value),sr.listValue=createCounterText(tr,sr.container.styles.listStyleType,!0),tr+=rr?-1:1}},parseStackingContexts=function(er){var St=new ElementPaint(er,null),tr=new StackingContext(St),rr=[];return parseStackTree(St,tr,tr,rr),processListItems(St.container,rr),tr},parsePathForBorder=function(er,St){switch(St){case 0:return createPathFromCurves(er.topLeftBorderBox,er.topLeftPaddingBox,er.topRightBorderBox,er.topRightPaddingBox);case 1:return createPathFromCurves(er.topRightBorderBox,er.topRightPaddingBox,er.bottomRightBorderBox,er.bottomRightPaddingBox);case 2:return createPathFromCurves(er.bottomRightBorderBox,er.bottomRightPaddingBox,er.bottomLeftBorderBox,er.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(er.bottomLeftBorderBox,er.bottomLeftPaddingBox,er.topLeftBorderBox,er.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(er,St){switch(St){case 0:return createPathFromCurves(er.topLeftBorderBox,er.topLeftBorderDoubleOuterBox,er.topRightBorderBox,er.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(er.topRightBorderBox,er.topRightBorderDoubleOuterBox,er.bottomRightBorderBox,er.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(er.bottomRightBorderBox,er.bottomRightBorderDoubleOuterBox,er.bottomLeftBorderBox,er.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(er.bottomLeftBorderBox,er.bottomLeftBorderDoubleOuterBox,er.topLeftBorderBox,er.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(er,St){switch(St){case 0:return createPathFromCurves(er.topLeftBorderDoubleInnerBox,er.topLeftPaddingBox,er.topRightBorderDoubleInnerBox,er.topRightPaddingBox);case 1:return createPathFromCurves(er.topRightBorderDoubleInnerBox,er.topRightPaddingBox,er.bottomRightBorderDoubleInnerBox,er.bottomRightPaddingBox);case 2:return createPathFromCurves(er.bottomRightBorderDoubleInnerBox,er.bottomRightPaddingBox,er.bottomLeftBorderDoubleInnerBox,er.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(er.bottomLeftBorderDoubleInnerBox,er.bottomLeftPaddingBox,er.topLeftBorderDoubleInnerBox,er.topLeftPaddingBox)}},parsePathForBorderStroke=function(er,St){switch(St){case 0:return createStrokePathFromCurves(er.topLeftBorderStroke,er.topRightBorderStroke);case 1:return createStrokePathFromCurves(er.topRightBorderStroke,er.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(er.bottomRightBorderStroke,er.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(er.bottomLeftBorderStroke,er.topLeftBorderStroke)}},createStrokePathFromCurves=function(er,St){var tr=[];return isBezierCurve(er)?tr.push(er.subdivide(.5,!1)):tr.push(er),isBezierCurve(St)?tr.push(St.subdivide(.5,!0)):tr.push(St),tr},createPathFromCurves=function(er,St,tr,rr){var nr=[];return isBezierCurve(er)?nr.push(er.subdivide(.5,!1)):nr.push(er),isBezierCurve(tr)?nr.push(tr.subdivide(.5,!0)):nr.push(tr),isBezierCurve(rr)?nr.push(rr.subdivide(.5,!0).reverse()):nr.push(rr),isBezierCurve(St)?nr.push(St.subdivide(.5,!1).reverse()):nr.push(St),nr},paddingBox=function(er){var St=er.bounds,tr=er.styles;return St.add(tr.borderLeftWidth,tr.borderTopWidth,-(tr.borderRightWidth+tr.borderLeftWidth),-(tr.borderTopWidth+tr.borderBottomWidth))},contentBox=function(er){var St=er.styles,tr=er.bounds,rr=getAbsoluteValue(St.paddingLeft,tr.width),nr=getAbsoluteValue(St.paddingRight,tr.width),sr=getAbsoluteValue(St.paddingTop,tr.width),ir=getAbsoluteValue(St.paddingBottom,tr.width);return tr.add(rr+St.borderLeftWidth,sr+St.borderTopWidth,-(St.borderRightWidth+St.borderLeftWidth+rr+nr),-(St.borderTopWidth+St.borderBottomWidth+sr+ir))},calculateBackgroundPositioningArea=function(er,St){return er===0?St.bounds:er===2?contentBox(St):paddingBox(St)},calculateBackgroundPaintingArea=function(er,St){return er===0?St.bounds:er===2?contentBox(St):paddingBox(St)},calculateBackgroundRendering=function(er,St,tr){var rr=calculateBackgroundPositioningArea(getBackgroundValueForIndex(er.styles.backgroundOrigin,St),er),nr=calculateBackgroundPaintingArea(getBackgroundValueForIndex(er.styles.backgroundClip,St),er),sr=calculateBackgroundSize(getBackgroundValueForIndex(er.styles.backgroundSize,St),tr,rr),ir=sr[0],ar=sr[1],or=getAbsoluteValueForTuple(getBackgroundValueForIndex(er.styles.backgroundPosition,St),rr.width-ir,rr.height-ar),lr=calculateBackgroundRepeatPath(getBackgroundValueForIndex(er.styles.backgroundRepeat,St),or,sr,rr,nr),cr=Math.round(rr.left+or[0]),ur=Math.round(rr.top+or[1]);return[lr,cr,ur,ir,ar]},isAuto=function(er){return isIdentToken(er)&&er.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(er){return typeof er=="number"},calculateBackgroundSize=function(er,St,tr){var rr=St[0],nr=St[1],sr=St[2],ir=er[0],ar=er[1];if(!ir)return[0,0];if(isLengthPercentage(ir)&&ar&&isLengthPercentage(ar))return[getAbsoluteValue(ir,tr.width),getAbsoluteValue(ar,tr.height)];var or=hasIntrinsicValue(sr);if(isIdentToken(ir)&&(ir.value===BACKGROUND_SIZE.CONTAIN||ir.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(sr)){var lr=tr.width/tr.height;return lr<sr!=(ir.value===BACKGROUND_SIZE.COVER)?[tr.width,tr.width/sr]:[tr.height*sr,tr.height]}return[tr.width,tr.height]}var cr=hasIntrinsicValue(rr),ur=hasIntrinsicValue(nr),dr=cr||ur;if(isAuto(ir)&&(!ar||isAuto(ar))){if(cr&&ur)return[rr,nr];if(!or&&!dr)return[tr.width,tr.height];if(dr&&or){var hr=cr?rr:nr*sr,Ar=ur?nr:rr/sr;return[hr,Ar]}var fr=cr?rr:tr.width,mr=ur?nr:tr.height;return[fr,mr]}if(or){var pr=0,gr=0;return isLengthPercentage(ir)?pr=getAbsoluteValue(ir,tr.width):isLengthPercentage(ar)&&(gr=getAbsoluteValue(ar,tr.height)),isAuto(ir)?pr=gr*sr:(!ar||isAuto(ar))&&(gr=pr/sr),[pr,gr]}var xr=null,yr=null;if(isLengthPercentage(ir)?xr=getAbsoluteValue(ir,tr.width):ar&&isLengthPercentage(ar)&&(yr=getAbsoluteValue(ar,tr.height)),xr!==null&&(!ar||isAuto(ar))&&(yr=cr&&ur?xr/rr*nr:tr.height),yr!==null&&isAuto(ir)&&(xr=cr&&ur?yr/nr*rr:tr.width),xr!==null&&yr!==null)return[xr,yr];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(er,St){var tr=er[St];return typeof tr>"u"?er[0]:tr},calculateBackgroundRepeatPath=function(er,St,tr,rr,nr){var sr=St[0],ir=St[1],ar=tr[0],or=tr[1];switch(er){case 2:return[new Vector(Math.round(rr.left),Math.round(rr.top+ir)),new Vector(Math.round(rr.left+rr.width),Math.round(rr.top+ir)),new Vector(Math.round(rr.left+rr.width),Math.round(or+rr.top+ir)),new Vector(Math.round(rr.left),Math.round(or+rr.top+ir))];case 3:return[new Vector(Math.round(rr.left+sr),Math.round(rr.top)),new Vector(Math.round(rr.left+sr+ar),Math.round(rr.top)),new Vector(Math.round(rr.left+sr+ar),Math.round(rr.height+rr.top)),new Vector(Math.round(rr.left+sr),Math.round(rr.height+rr.top))];case 1:return[new Vector(Math.round(rr.left+sr),Math.round(rr.top+ir)),new Vector(Math.round(rr.left+sr+ar),Math.round(rr.top+ir)),new Vector(Math.round(rr.left+sr+ar),Math.round(rr.top+ir+or)),new Vector(Math.round(rr.left+sr),Math.round(rr.top+ir+or))];default:return[new Vector(Math.round(nr.left),Math.round(nr.top)),new Vector(Math.round(nr.left+nr.width),Math.round(nr.top)),new Vector(Math.round(nr.left+nr.width),Math.round(nr.height+nr.top)),new Vector(Math.round(nr.left),Math.round(nr.height+nr.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=function(){function er(St){this._data={},this._document=St}return er.prototype.parseMetrics=function(St,tr){var rr=this._document.createElement("div"),nr=this._document.createElement("img"),sr=this._document.createElement("span"),ir=this._document.body;rr.style.visibility="hidden",rr.style.fontFamily=St,rr.style.fontSize=tr,rr.style.margin="0",rr.style.padding="0",rr.style.whiteSpace="nowrap",ir.appendChild(rr),nr.src=SMALL_IMAGE,nr.width=1,nr.height=1,nr.style.margin="0",nr.style.padding="0",nr.style.verticalAlign="baseline",sr.style.fontFamily=St,sr.style.fontSize=tr,sr.style.margin="0",sr.style.padding="0",sr.appendChild(this._document.createTextNode(SAMPLE_TEXT)),rr.appendChild(sr),rr.appendChild(nr);var ar=nr.offsetTop-sr.offsetTop+2;rr.removeChild(sr),rr.appendChild(this._document.createTextNode(SAMPLE_TEXT)),rr.style.lineHeight="normal",nr.style.verticalAlign="super";var or=nr.offsetTop-rr.offsetTop+2;return ir.removeChild(rr),{baseline:ar,middle:or}},er.prototype.getMetrics=function(St,tr){var rr=St+" "+tr;return typeof this._data[rr]>"u"&&(this._data[rr]=this.parseMetrics(St,tr)),this._data[rr]},er}(),Renderer=function(){function er(St,tr){this.context=St,this.options=tr}return er}(),MASK_OFFSET=1e4,CanvasRenderer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr._activeEffects=[],nr.canvas=rr.canvas?rr.canvas:document.createElement("canvas"),nr.ctx=nr.canvas.getContext("2d"),rr.canvas||(nr.canvas.width=Math.floor(rr.width*rr.scale),nr.canvas.height=Math.floor(rr.height*rr.scale),nr.canvas.style.width=rr.width+"px",nr.canvas.style.height=rr.height+"px"),nr.fontMetrics=new FontMetrics(document),nr.ctx.scale(nr.options.scale,nr.options.scale),nr.ctx.translate(-rr.x,-rr.y),nr.ctx.textBaseline="bottom",nr._activeEffects=[],nr.context.logger.debug("Canvas renderer initialized ("+rr.width+"x"+rr.height+") with scale "+rr.scale),nr}return St.prototype.applyEffects=function(tr){for(var rr=this;this._activeEffects.length;)this.popEffect();tr.forEach(function(nr){return rr.applyEffect(nr)})},St.prototype.applyEffect=function(tr){this.ctx.save(),isOpacityEffect(tr)&&(this.ctx.globalAlpha=tr.opacity),isTransformEffect(tr)&&(this.ctx.translate(tr.offsetX,tr.offsetY),this.ctx.transform(tr.matrix[0],tr.matrix[1],tr.matrix[2],tr.matrix[3],tr.matrix[4],tr.matrix[5]),this.ctx.translate(-tr.offsetX,-tr.offsetY)),isClipEffect(tr)&&(this.path(tr.path),this.ctx.clip()),this._activeEffects.push(tr)},St.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},St.prototype.renderStack=function(tr){return __awaiter(this,void 0,void 0,function(){var rr;return __generator(this,function(nr){switch(nr.label){case 0:return rr=tr.element.container.styles,rr.isVisible()?[4,this.renderStackContent(tr)]:[3,2];case 1:nr.sent(),nr.label=2;case 2:return[2]}})})},St.prototype.renderNode=function(tr){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rr){switch(rr.label){case 0:if(contains(tr.container.flags,16))debugger;return tr.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(tr)]:[3,3];case 1:return rr.sent(),[4,this.renderNodeContent(tr)];case 2:rr.sent(),rr.label=3;case 3:return[2]}})})},St.prototype.renderTextWithLetterSpacing=function(tr,rr,nr){var sr=this;if(rr===0)this.ctx.fillText(tr.text,tr.bounds.left,tr.bounds.top+nr);else{var ir=segmentGraphemes(tr.text);ir.reduce(function(ar,or){return sr.ctx.fillText(or,ar,tr.bounds.top+nr),ar+sr.ctx.measureText(or).width},tr.bounds.left)}},St.prototype.createFontStyle=function(tr){var rr=tr.fontVariant.filter(function(ir){return ir==="normal"||ir==="small-caps"}).join(""),nr=fixIOSSystemFonts(tr.fontFamily).join(", "),sr=isDimensionToken(tr.fontSize)?""+tr.fontSize.number+tr.fontSize.unit:tr.fontSize.number+"px";return[[tr.fontStyle,rr,tr.fontWeight,sr,nr].join(" "),nr,sr]},St.prototype.renderTextNode=function(tr,rr){return __awaiter(this,void 0,void 0,function(){var nr,sr,ir,ar,or,lr,cr,ur,dr=this;return __generator(this,function(hr){return nr=this.createFontStyle(rr),sr=nr[0],ir=nr[1],ar=nr[2],this.ctx.font=sr,this.ctx.direction=rr.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",or=this.fontMetrics.getMetrics(ir,ar),lr=or.baseline,cr=or.middle,ur=rr.paintOrder,tr.textBounds.forEach(function(Ar){ur.forEach(function(fr){switch(fr){case 0:dr.ctx.fillStyle=asString(rr.color),dr.renderTextWithLetterSpacing(Ar,rr.letterSpacing,lr);var mr=rr.textShadow;mr.length&&Ar.text.trim().length&&(mr.slice(0).reverse().forEach(function(pr){dr.ctx.shadowColor=asString(pr.color),dr.ctx.shadowOffsetX=pr.offsetX.number*dr.options.scale,dr.ctx.shadowOffsetY=pr.offsetY.number*dr.options.scale,dr.ctx.shadowBlur=pr.blur.number,dr.renderTextWithLetterSpacing(Ar,rr.letterSpacing,lr)}),dr.ctx.shadowColor="",dr.ctx.shadowOffsetX=0,dr.ctx.shadowOffsetY=0,dr.ctx.shadowBlur=0),rr.textDecorationLine.length&&(dr.ctx.fillStyle=asString(rr.textDecorationColor||rr.color),rr.textDecorationLine.forEach(function(pr){switch(pr){case 1:dr.ctx.fillRect(Ar.bounds.left,Math.round(Ar.bounds.top+lr),Ar.bounds.width,1);break;case 2:dr.ctx.fillRect(Ar.bounds.left,Math.round(Ar.bounds.top),Ar.bounds.width,1);break;case 3:dr.ctx.fillRect(Ar.bounds.left,Math.ceil(Ar.bounds.top+cr),Ar.bounds.width,1);break}}));break;case 1:rr.webkitTextStrokeWidth&&Ar.text.trim().length&&(dr.ctx.strokeStyle=asString(rr.webkitTextStrokeColor),dr.ctx.lineWidth=rr.webkitTextStrokeWidth,dr.ctx.lineJoin=window.chrome?"miter":"round",dr.ctx.strokeText(Ar.text,Ar.bounds.left,Ar.bounds.top+lr)),dr.ctx.strokeStyle="",dr.ctx.lineWidth=0,dr.ctx.lineJoin="miter";break}})}),[2]})})},St.prototype.renderReplacedElement=function(tr,rr,nr){if(nr&&tr.intrinsicWidth>0&&tr.intrinsicHeight>0){var sr=contentBox(tr),ir=calculatePaddingBoxPath(rr);this.path(ir),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(nr,0,0,tr.intrinsicWidth,tr.intrinsicHeight,sr.left,sr.top,sr.width,sr.height),this.ctx.restore()}},St.prototype.renderNodeContent=function(tr){return __awaiter(this,void 0,void 0,function(){var rr,nr,sr,ir,ar,or,gr,gr,lr,cr,ur,dr,yr,hr,Ar,Er,fr,mr,pr,gr,xr,yr,Er;return __generator(this,function(_r){switch(_r.label){case 0:this.applyEffects(tr.getEffects(4)),rr=tr.container,nr=tr.curves,sr=rr.styles,ir=0,ar=rr.textNodes,_r.label=1;case 1:return ir<ar.length?(or=ar[ir],[4,this.renderTextNode(or,sr)]):[3,4];case 2:_r.sent(),_r.label=3;case 3:return ir++,[3,1];case 4:if(!(rr instanceof ImageElementContainer))return[3,8];_r.label=5;case 5:return _r.trys.push([5,7,,8]),[4,this.context.cache.match(rr.src)];case 6:return gr=_r.sent(),this.renderReplacedElement(rr,nr,gr),[3,8];case 7:return _r.sent(),this.context.logger.error("Error loading image "+rr.src),[3,8];case 8:if(rr instanceof CanvasElementContainer&&this.renderReplacedElement(rr,nr,rr.canvas),!(rr instanceof SVGElementContainer))return[3,12];_r.label=9;case 9:return _r.trys.push([9,11,,12]),[4,this.context.cache.match(rr.svg)];case 10:return gr=_r.sent(),this.renderReplacedElement(rr,nr,gr),[3,12];case 11:return _r.sent(),this.context.logger.error("Error loading svg "+rr.svg.substring(0,255)),[3,12];case 12:return rr instanceof IFrameElementContainer&&rr.tree?(lr=new St(this.context,{scale:this.options.scale,backgroundColor:rr.backgroundColor,x:0,y:0,width:rr.width,height:rr.height}),[4,lr.render(rr.tree)]):[3,14];case 13:cr=_r.sent(),rr.width&&rr.height&&this.ctx.drawImage(cr,0,0,rr.width,rr.height,rr.bounds.left,rr.bounds.top,rr.bounds.width,rr.bounds.height),_r.label=14;case 14:if(rr instanceof InputElementContainer&&(ur=Math.min(rr.bounds.width,rr.bounds.height),rr.type===CHECKBOX?rr.checked&&(this.ctx.save(),this.path([new Vector(rr.bounds.left+ur*.39363,rr.bounds.top+ur*.79),new Vector(rr.bounds.left+ur*.16,rr.bounds.top+ur*.5549),new Vector(rr.bounds.left+ur*.27347,rr.bounds.top+ur*.44071),new Vector(rr.bounds.left+ur*.39694,rr.bounds.top+ur*.5649),new Vector(rr.bounds.left+ur*.72983,rr.bounds.top+ur*.23),new Vector(rr.bounds.left+ur*.84,rr.bounds.top+ur*.34085),new Vector(rr.bounds.left+ur*.39363,rr.bounds.top+ur*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):rr.type===RADIO&&rr.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(rr.bounds.left+ur/2,rr.bounds.top+ur/2,ur/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(rr)&&rr.value.length){switch(dr=this.createFontStyle(sr),yr=dr[0],hr=dr[1],Ar=this.fontMetrics.getMetrics(yr,hr).baseline,this.ctx.font=yr,this.ctx.fillStyle=asString(sr.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(rr.styles.textAlign),Er=contentBox(rr),fr=0,rr.styles.textAlign){case 1:fr+=Er.width/2;break;case 2:fr+=Er.width;break}mr=Er.add(fr,0,0,-Er.height/2+1),this.ctx.save(),this.path([new Vector(Er.left,Er.top),new Vector(Er.left+Er.width,Er.top),new Vector(Er.left+Er.width,Er.top+Er.height),new Vector(Er.left,Er.top+Er.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(rr.value,mr),sr.letterSpacing,Ar),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(rr.styles.display,2048))return[3,20];if(rr.styles.listStyleImage===null)return[3,19];if(pr=rr.styles.listStyleImage,pr.type!==0)return[3,18];gr=void 0,xr=pr.url,_r.label=15;case 15:return _r.trys.push([15,17,,18]),[4,this.context.cache.match(xr)];case 16:return gr=_r.sent(),this.ctx.drawImage(gr,rr.bounds.left-(gr.width+10),rr.bounds.top),[3,18];case 17:return _r.sent(),this.context.logger.error("Error loading list-style-image "+xr),[3,18];case 18:return[3,20];case 19:tr.listValue&&rr.styles.listStyleType!==-1&&(yr=this.createFontStyle(sr)[0],this.ctx.font=yr,this.ctx.fillStyle=asString(sr.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Er=new Bounds(rr.bounds.left,rr.bounds.top+getAbsoluteValue(rr.styles.paddingTop,rr.bounds.width),rr.bounds.width,computeLineHeight(sr.lineHeight,sr.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(tr.listValue,Er),sr.letterSpacing,computeLineHeight(sr.lineHeight,sr.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_r.label=20;case 20:return[2]}})})},St.prototype.renderStackContent=function(tr){return __awaiter(this,void 0,void 0,function(){var rr,nr,pr,sr,ir,pr,ar,or,pr,lr,cr,pr,ur,dr,pr,hr,Ar,pr,fr,mr,pr;return __generator(this,function(gr){switch(gr.label){case 0:if(contains(tr.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(tr.element)];case 1:gr.sent(),rr=0,nr=tr.negativeZIndex,gr.label=2;case 2:return rr<nr.length?(pr=nr[rr],[4,this.renderStack(pr)]):[3,5];case 3:gr.sent(),gr.label=4;case 4:return rr++,[3,2];case 5:return[4,this.renderNodeContent(tr.element)];case 6:gr.sent(),sr=0,ir=tr.nonInlineLevel,gr.label=7;case 7:return sr<ir.length?(pr=ir[sr],[4,this.renderNode(pr)]):[3,10];case 8:gr.sent(),gr.label=9;case 9:return sr++,[3,7];case 10:ar=0,or=tr.nonPositionedFloats,gr.label=11;case 11:return ar<or.length?(pr=or[ar],[4,this.renderStack(pr)]):[3,14];case 12:gr.sent(),gr.label=13;case 13:return ar++,[3,11];case 14:lr=0,cr=tr.nonPositionedInlineLevel,gr.label=15;case 15:return lr<cr.length?(pr=cr[lr],[4,this.renderStack(pr)]):[3,18];case 16:gr.sent(),gr.label=17;case 17:return lr++,[3,15];case 18:ur=0,dr=tr.inlineLevel,gr.label=19;case 19:return ur<dr.length?(pr=dr[ur],[4,this.renderNode(pr)]):[3,22];case 20:gr.sent(),gr.label=21;case 21:return ur++,[3,19];case 22:hr=0,Ar=tr.zeroOrAutoZIndexOrTransformedOrOpacity,gr.label=23;case 23:return hr<Ar.length?(pr=Ar[hr],[4,this.renderStack(pr)]):[3,26];case 24:gr.sent(),gr.label=25;case 25:return hr++,[3,23];case 26:fr=0,mr=tr.positiveZIndex,gr.label=27;case 27:return fr<mr.length?(pr=mr[fr],[4,this.renderStack(pr)]):[3,30];case 28:gr.sent(),gr.label=29;case 29:return fr++,[3,27];case 30:return[2]}})})},St.prototype.mask=function(tr){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(tr.slice(0).reverse()),this.ctx.closePath()},St.prototype.path=function(tr){this.ctx.beginPath(),this.formatPath(tr),this.ctx.closePath()},St.prototype.formatPath=function(tr){var rr=this;tr.forEach(function(nr,sr){var ir=isBezierCurve(nr)?nr.start:nr;sr===0?rr.ctx.moveTo(ir.x,ir.y):rr.ctx.lineTo(ir.x,ir.y),isBezierCurve(nr)&&rr.ctx.bezierCurveTo(nr.startControl.x,nr.startControl.y,nr.endControl.x,nr.endControl.y,nr.end.x,nr.end.y)})},St.prototype.renderRepeat=function(tr,rr,nr,sr){this.path(tr),this.ctx.fillStyle=rr,this.ctx.translate(nr,sr),this.ctx.fill(),this.ctx.translate(-nr,-sr)},St.prototype.resizeImage=function(tr,rr,nr){var sr;if(tr.width===rr&&tr.height===nr)return tr;var ir=(sr=this.canvas.ownerDocument)!==null&&sr!==void 0?sr:document,ar=ir.createElement("canvas");ar.width=Math.max(1,rr),ar.height=Math.max(1,nr);var or=ar.getContext("2d");return or.drawImage(tr,0,0,tr.width,tr.height,0,0,rr,nr),ar},St.prototype.renderBackgroundImage=function(tr){return __awaiter(this,void 0,void 0,function(){var rr,nr,sr,ir,ar,or;return __generator(this,function(lr){switch(lr.label){case 0:rr=tr.styles.backgroundImage.length-1,nr=function(cr){var ur,dr,hr,Mr,$r,Vr,Qr,Yr,jr,Ar,Mr,$r,Vr,Qr,Yr,fr,mr,pr,gr,xr,yr,Er,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr,Gr,$r,Vr,Tr,Fr,Wr,qr,Rr,Or,Hr,zr;return __generator(this,function(Zr){switch(Zr.label){case 0:if(cr.type!==0)return[3,5];ur=void 0,dr=cr.url,Zr.label=1;case 1:return Zr.trys.push([1,3,,4]),[4,sr.context.cache.match(dr)];case 2:return ur=Zr.sent(),[3,4];case 3:return Zr.sent(),sr.context.logger.error("Error loading background-image "+dr),[3,4];case 4:return ur&&(hr=calculateBackgroundRendering(tr,rr,[ur.width,ur.height,ur.width/ur.height]),Mr=hr[0],$r=hr[1],Vr=hr[2],Qr=hr[3],Yr=hr[4],jr=sr.ctx.createPattern(sr.resizeImage(ur,Qr,Yr),"repeat"),sr.renderRepeat(Mr,jr,$r,Vr)),[3,6];case 5:isLinearGradient(cr)?(Ar=calculateBackgroundRendering(tr,rr,[null,null,null]),Mr=Ar[0],$r=Ar[1],Vr=Ar[2],Qr=Ar[3],Yr=Ar[4],fr=calculateGradientDirection(cr.angle,Qr,Yr),mr=fr[0],pr=fr[1],gr=fr[2],xr=fr[3],yr=fr[4],Er=document.createElement("canvas"),Er.width=Qr,Er.height=Yr,_r=Er.getContext("2d"),Sr=_r.createLinearGradient(pr,xr,gr,yr),processColorStops(cr.stops,mr).forEach(function(nn){return Sr.addColorStop(nn.stop,asString(nn.color))}),_r.fillStyle=Sr,_r.fillRect(0,0,Qr,Yr),Qr>0&&Yr>0&&(jr=sr.ctx.createPattern(Er,"repeat"),sr.renderRepeat(Mr,jr,$r,Vr))):isRadialGradient(cr)&&(Pr=calculateBackgroundRendering(tr,rr,[null,null,null]),Mr=Pr[0],Ir=Pr[1],Lr=Pr[2],Qr=Pr[3],Yr=Pr[4],Gr=cr.position.length===0?[FIFTY_PERCENT]:cr.position,$r=getAbsoluteValue(Gr[0],Qr),Vr=getAbsoluteValue(Gr[Gr.length-1],Yr),Tr=calculateRadius(cr,$r,Vr,Qr,Yr),Fr=Tr[0],Wr=Tr[1],Fr>0&&Wr>0&&(qr=sr.ctx.createRadialGradient(Ir+$r,Lr+Vr,0,Ir+$r,Lr+Vr,Fr),processColorStops(cr.stops,Fr*2).forEach(function(nn){return qr.addColorStop(nn.stop,asString(nn.color))}),sr.path(Mr),sr.ctx.fillStyle=qr,Fr!==Wr?(Rr=tr.bounds.left+.5*tr.bounds.width,Or=tr.bounds.top+.5*tr.bounds.height,Hr=Wr/Fr,zr=1/Hr,sr.ctx.save(),sr.ctx.translate(Rr,Or),sr.ctx.transform(1,0,0,Hr,0,0),sr.ctx.translate(-Rr,-Or),sr.ctx.fillRect(Ir,zr*(Lr-Or)+Or,Qr,Yr*zr),sr.ctx.restore()):sr.ctx.fill())),Zr.label=6;case 6:return rr--,[2]}})},sr=this,ir=0,ar=tr.styles.backgroundImage.slice(0).reverse(),lr.label=1;case 1:return ir<ar.length?(or=ar[ir],[5,nr(or)]):[3,4];case 2:lr.sent(),lr.label=3;case 3:return ir++,[3,1];case 4:return[2]}})})},St.prototype.renderSolidBorder=function(tr,rr,nr){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(sr){return this.path(parsePathForBorder(nr,rr)),this.ctx.fillStyle=asString(tr),this.ctx.fill(),[2]})})},St.prototype.renderDoubleBorder=function(tr,rr,nr,sr){return __awaiter(this,void 0,void 0,function(){var ir,ar;return __generator(this,function(or){switch(or.label){case 0:return rr<3?[4,this.renderSolidBorder(tr,nr,sr)]:[3,2];case 1:return or.sent(),[2];case 2:return ir=parsePathForBorderDoubleOuter(sr,nr),this.path(ir),this.ctx.fillStyle=asString(tr),this.ctx.fill(),ar=parsePathForBorderDoubleInner(sr,nr),this.path(ar),this.ctx.fill(),[2]}})})},St.prototype.renderNodeBackgroundAndBorders=function(tr){return __awaiter(this,void 0,void 0,function(){var rr,nr,sr,ir,ar,or,lr,cr,ur=this;return __generator(this,function(dr){switch(dr.label){case 0:return this.applyEffects(tr.getEffects(2)),rr=tr.container.styles,nr=!isTransparent(rr.backgroundColor)||rr.backgroundImage.length,sr=[{style:rr.borderTopStyle,color:rr.borderTopColor,width:rr.borderTopWidth},{style:rr.borderRightStyle,color:rr.borderRightColor,width:rr.borderRightWidth},{style:rr.borderBottomStyle,color:rr.borderBottomColor,width:rr.borderBottomWidth},{style:rr.borderLeftStyle,color:rr.borderLeftColor,width:rr.borderLeftWidth}],ir=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(rr.backgroundClip,0),tr.curves),nr||rr.boxShadow.length?(this.ctx.save(),this.path(ir),this.ctx.clip(),isTransparent(rr.backgroundColor)||(this.ctx.fillStyle=asString(rr.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(tr.container)]):[3,2];case 1:dr.sent(),this.ctx.restore(),rr.boxShadow.slice(0).reverse().forEach(function(hr){ur.ctx.save();var Ar=calculateBorderBoxPath(tr.curves),fr=hr.inset?0:MASK_OFFSET,mr=transformPath(Ar,-fr+(hr.inset?1:-1)*hr.spread.number,(hr.inset?1:-1)*hr.spread.number,hr.spread.number*(hr.inset?-2:2),hr.spread.number*(hr.inset?-2:2));hr.inset?(ur.path(Ar),ur.ctx.clip(),ur.mask(mr)):(ur.mask(Ar),ur.ctx.clip(),ur.path(mr)),ur.ctx.shadowOffsetX=hr.offsetX.number+fr,ur.ctx.shadowOffsetY=hr.offsetY.number,ur.ctx.shadowColor=asString(hr.color),ur.ctx.shadowBlur=hr.blur.number,ur.ctx.fillStyle=hr.inset?asString(hr.color):"rgba(0,0,0,1)",ur.ctx.fill(),ur.ctx.restore()}),dr.label=2;case 2:ar=0,or=0,lr=sr,dr.label=3;case 3:return or<lr.length?(cr=lr[or],cr.style!==0&&!isTransparent(cr.color)&&cr.width>0?cr.style!==2?[3,5]:[4,this.renderDashedDottedBorder(cr.color,cr.width,ar,tr.curves,2)]:[3,11]):[3,13];case 4:return dr.sent(),[3,11];case 5:return cr.style!==3?[3,7]:[4,this.renderDashedDottedBorder(cr.color,cr.width,ar,tr.curves,3)];case 6:return dr.sent(),[3,11];case 7:return cr.style!==4?[3,9]:[4,this.renderDoubleBorder(cr.color,cr.width,ar,tr.curves)];case 8:return dr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(cr.color,ar,tr.curves)];case 10:dr.sent(),dr.label=11;case 11:ar++,dr.label=12;case 12:return or++,[3,3];case 13:return[2]}})})},St.prototype.renderDashedDottedBorder=function(tr,rr,nr,sr,ir){return __awaiter(this,void 0,void 0,function(){var ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr,yr,Er,_r,Er,_r;return __generator(this,function(Sr){return this.ctx.save(),ar=parsePathForBorderStroke(sr,nr),or=parsePathForBorder(sr,nr),ir===2&&(this.path(or),this.ctx.clip()),isBezierCurve(or[0])?(lr=or[0].start.x,cr=or[0].start.y):(lr=or[0].x,cr=or[0].y),isBezierCurve(or[1])?(ur=or[1].end.x,dr=or[1].end.y):(ur=or[1].x,dr=or[1].y),nr===0||nr===2?hr=Math.abs(lr-ur):hr=Math.abs(cr-dr),this.ctx.beginPath(),ir===3?this.formatPath(ar):this.formatPath(or.slice(0,2)),Ar=rr<3?rr*3:rr*2,fr=rr<3?rr*2:rr,ir===3&&(Ar=rr,fr=rr),mr=!0,hr<=Ar*2?mr=!1:hr<=Ar*2+fr?(pr=hr/(2*Ar+fr),Ar*=pr,fr*=pr):(gr=Math.floor((hr+fr)/(Ar+fr)),xr=(hr-gr*Ar)/(gr-1),yr=(hr-(gr+1)*Ar)/gr,fr=yr<=0||Math.abs(fr-xr)<Math.abs(fr-yr)?xr:yr),mr&&(ir===3?this.ctx.setLineDash([0,Ar+fr]):this.ctx.setLineDash([Ar,fr])),ir===3?(this.ctx.lineCap="round",this.ctx.lineWidth=rr):this.ctx.lineWidth=rr*2+1.1,this.ctx.strokeStyle=asString(tr),this.ctx.stroke(),this.ctx.setLineDash([]),ir===2&&(isBezierCurve(or[0])&&(Er=or[3],_r=or[0],this.ctx.beginPath(),this.formatPath([new Vector(Er.end.x,Er.end.y),new Vector(_r.start.x,_r.start.y)]),this.ctx.stroke()),isBezierCurve(or[1])&&(Er=or[1],_r=or[2],this.ctx.beginPath(),this.formatPath([new Vector(Er.end.x,Er.end.y),new Vector(_r.start.x,_r.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},St.prototype.render=function(tr){return __awaiter(this,void 0,void 0,function(){var rr;return __generator(this,function(nr){switch(nr.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),rr=parseStackingContexts(tr),[4,this.renderStack(rr)];case 1:return nr.sent(),this.applyEffects([]),[2,this.canvas]}})})},St}(Renderer),isTextInputElement=function(er){return er instanceof TextareaElementContainer||er instanceof SelectElementContainer?!0:er instanceof InputElementContainer&&er.type!==RADIO&&er.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(er,St){switch(er){case 0:return calculateBorderBoxPath(St);case 2:return calculateContentBoxPath(St);case 1:default:return calculatePaddingBoxPath(St)}},canvasTextAlign=function(er){switch(er){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(er){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?er.filter(function(St){return iOSBrokenFonts.indexOf(St)===-1}):er},ForeignObjectRenderer=function(er){__extends(St,er);function St(tr,rr){var nr=er.call(this,tr,rr)||this;return nr.canvas=rr.canvas?rr.canvas:document.createElement("canvas"),nr.ctx=nr.canvas.getContext("2d"),nr.options=rr,nr.canvas.width=Math.floor(rr.width*rr.scale),nr.canvas.height=Math.floor(rr.height*rr.scale),nr.canvas.style.width=rr.width+"px",nr.canvas.style.height=rr.height+"px",nr.ctx.scale(nr.options.scale,nr.options.scale),nr.ctx.translate(-rr.x,-rr.y),nr.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+rr.width+"x"+rr.height+" at "+rr.x+","+rr.y+") with scale "+rr.scale),nr}return St.prototype.render=function(tr){return __awaiter(this,void 0,void 0,function(){var rr,nr;return __generator(this,function(sr){switch(sr.label){case 0:return rr=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,tr),[4,loadSerializedSVG(rr)];case 1:return nr=sr.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(nr,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},St}(Renderer),loadSerializedSVG=function(er){return new Promise(function(St,tr){var rr=new Image;rr.onload=function(){St(rr)},rr.onerror=tr,rr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(er))})},Logger=function(){function er(St){var tr=St.id,rr=St.enabled;this.id=tr,this.enabled=rr,this.start=Date.now()}return er.prototype.debug=function(){for(var St=[],tr=0;tr<arguments.length;tr++)St[tr]=arguments[tr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],St)):this.info.apply(this,St))},er.prototype.getTime=function(){return Date.now()-this.start},er.prototype.info=function(){for(var St=[],tr=0;tr<arguments.length;tr++)St[tr]=arguments[tr];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],St))},er.prototype.warn=function(){for(var St=[],tr=0;tr<arguments.length;tr++)St[tr]=arguments[tr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],St)):this.info.apply(this,St))},er.prototype.error=function(){for(var St=[],tr=0;tr<arguments.length;tr++)St[tr]=arguments[tr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],St)):this.info.apply(this,St))},er.instances={},er}(),Context=function(){function er(St,tr){var rr;this.windowBounds=tr,this.instanceName="#"+er.instanceCount++,this.logger=new Logger({id:this.instanceName,enabled:St.logging}),this.cache=(rr=St.cache)!==null&&rr!==void 0?rr:new Cache(this,St)}return er.instanceCount=1,er}(),html2canvas=function(er,St){return St===void 0&&(St={}),renderElement(er,St)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(er,St){return __awaiter(void 0,void 0,void 0,function(){var tr,rr,nr,sr,ir,ar,or,lr,cr,ur,dr,hr,Ar,fr,mr,pr,gr,xr,yr,Er,Sr,_r,Sr,jr,Pr,Mr,Ir,Lr,Qr,Yr,Gr,$r,Vr,Tr,Fr,Wr,qr,Rr,Or,Hr;return __generator(this,function(zr){switch(zr.label){case 0:if(!er||typeof er!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(tr=er.ownerDocument,!tr)throw new Error("Element is not attached to a Document");if(rr=tr.defaultView,!rr)throw new Error("Document is not attached to a Window");return nr={allowTaint:(jr=St.allowTaint)!==null&&jr!==void 0?jr:!1,imageTimeout:(Pr=St.imageTimeout)!==null&&Pr!==void 0?Pr:15e3,proxy:St.proxy,useCORS:(Mr=St.useCORS)!==null&&Mr!==void 0?Mr:!1},sr=__assign({logging:(Ir=St.logging)!==null&&Ir!==void 0?Ir:!0,cache:St.cache},nr),ir={windowWidth:(Lr=St.windowWidth)!==null&&Lr!==void 0?Lr:rr.innerWidth,windowHeight:(Qr=St.windowHeight)!==null&&Qr!==void 0?Qr:rr.innerHeight,scrollX:(Yr=St.scrollX)!==null&&Yr!==void 0?Yr:rr.pageXOffset,scrollY:(Gr=St.scrollY)!==null&&Gr!==void 0?Gr:rr.pageYOffset},ar=new Bounds(ir.scrollX,ir.scrollY,ir.windowWidth,ir.windowHeight),or=new Context(sr,ar),lr=($r=St.foreignObjectRendering)!==null&&$r!==void 0?$r:!1,cr={allowTaint:(Vr=St.allowTaint)!==null&&Vr!==void 0?Vr:!1,onclone:St.onclone,ignoreElements:St.ignoreElements,inlineImages:lr,copyStyles:lr},or.logger.debug("Starting document clone with size "+ar.width+"x"+ar.height+" scrolled to "+-ar.left+","+-ar.top),ur=new DocumentCloner(or,er,cr),dr=ur.clonedReferenceElement,dr?[4,ur.toIFrame(tr,ar)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return hr=zr.sent(),Ar=isBodyElement(dr)||isHTMLElement(dr)?parseDocumentSize(dr.ownerDocument):parseBounds(or,dr),fr=Ar.width,mr=Ar.height,pr=Ar.left,gr=Ar.top,xr=parseBackgroundColor(or,dr,St.backgroundColor),yr={canvas:St.canvas,backgroundColor:xr,scale:(Fr=(Tr=St.scale)!==null&&Tr!==void 0?Tr:rr.devicePixelRatio)!==null&&Fr!==void 0?Fr:1,x:((Wr=St.x)!==null&&Wr!==void 0?Wr:0)+pr,y:((qr=St.y)!==null&&qr!==void 0?qr:0)+gr,width:(Rr=St.width)!==null&&Rr!==void 0?Rr:Math.ceil(fr),height:(Or=St.height)!==null&&Or!==void 0?Or:Math.ceil(mr)},lr?(or.logger.debug("Document cloned, using foreign object rendering"),Sr=new ForeignObjectRenderer(or,yr),[4,Sr.render(dr)]):[3,3];case 2:return Er=zr.sent(),[3,5];case 3:return or.logger.debug("Document cloned, element located at "+pr+","+gr+" with size "+fr+"x"+mr+" using computed rendering"),or.logger.debug("Starting DOM parsing"),_r=parseTree(or,dr),xr===_r.styles.backgroundColor&&(_r.styles.backgroundColor=COLORS.TRANSPARENT),or.logger.debug("Starting renderer for element at "+yr.x+","+yr.y+" with size "+yr.width+"x"+yr.height),Sr=new CanvasRenderer(or,yr),[4,Sr.render(_r)];case 4:Er=zr.sent(),zr.label=5;case 5:return(!((Hr=St.removeContainer)!==null&&Hr!==void 0)||Hr)&&(DocumentCloner.destroy(hr)||or.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),or.logger.debug("Finished rendering"),[2,Er]}})})},parseBackgroundColor=function(er,St,tr){var rr=St.ownerDocument,nr=rr.documentElement?parseColor(er,getComputedStyle(rr.documentElement).backgroundColor):COLORS.TRANSPARENT,sr=rr.body?parseColor(er,getComputedStyle(rr.body).backgroundColor):COLORS.TRANSPARENT,ir=typeof tr=="string"?parseColor(er,tr):tr===null?COLORS.TRANSPARENT:4294967295;return St===rr.documentElement?isTransparent(nr)?isTransparent(sr)?ir:sr:nr:ir};const html2canvas_esm=Object.freeze(Object.defineProperty({__proto__:null,default:html2canvas},Symbol.toStringTag,{value:"Module"}));function ExportPDF(){const er=reactExports.useRef(null);async function St(){const rr=(await html2canvas(er.current)).toDataURL("image/png"),nr=new E$1;nr.addImage(rr,"PNG",10,10,190,0),nr.save("insperity-health-record.pdf");const sr=supabase.auth.user();await supabase.from("patient_timeline_events").insert({patient_id:sr.id,type:"export",label:"Record Exported (PDF)",data:{triggered_by:"patient",date:new Date().toISOString()}})}return reactExports.useEffect(()=>{St()},[]),jsxRuntimeExports.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:jsxRuntimeExports.jsxs("div",{ref:er,className:"bg-white text-sm p-6 rounded-xl space-y-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-blue-700",children:"INSPERITY HEALTH REPORT"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Patient ID: [Auto-filled]"}),jsxRuntimeExports.jsx(Section,{label:"Medications",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Metformin  500mg daily"}),jsxRuntimeExports.jsx("li",{children:"Ibuprofen  as needed"})]})}),jsxRuntimeExports.jsx(Section,{label:"Recent Labs",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Glucose: 92 mg/dL (normal)"}),jsxRuntimeExports.jsx("li",{children:"BUN: 24 mg/dL (slightly elevated)"})]})}),jsxRuntimeExports.jsx(Section,{label:"Timeline Highlights",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:'03/15  Video Visit: "SOAP Note Generated"'}),jsxRuntimeExports.jsx("li",{children:"03/14  Lab Result Logged"})]})})]})})}function Section({label:er,children:St}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-gray-800 mb-1",children:er}),jsxRuntimeExports.jsx("div",{className:"text-gray-700",children:St})]})}function HealthDashboard(){const er=useNavigate(),St=[{title:"Health Records",icon:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-emerald-600"}),description:"View lab results, medications, and uploads.",path:"/patient/records"},{title:"Nutrition Log",icon:jsxRuntimeExports.jsx(Apple,{className:"w-5 h-5 text-orange-500"}),description:"Track meals with photo, voice, or manual entry.",path:"/patient/nutrition-log"},{title:"Hydration",icon:jsxRuntimeExports.jsx(Droplet,{className:"w-5 h-5 text-blue-400"}),description:"Monitor your daily water intake and stay hydrated.",path:"/patient/health-dashboard#hydration"},{title:"Vitals & Trends",icon:jsxRuntimeExports.jsx(ActivitySquare,{className:"w-5 h-5 text-purple-500"}),description:"Track weight, heart rate, blood pressure, and sleep.",path:"/patient/wearables"},{title:"Wellness Goals",icon:jsxRuntimeExports.jsx(ShieldPlus,{className:"w-5 h-5 text-pink-500"}),description:"Set and review personalized weekly goals.",path:"/patient/goals"},{title:"AI Consults",icon:jsxRuntimeExports.jsx(Stethoscope,{className:"w-5 h-5 text-cyan-600"}),description:"Review conversations and insights from your AI assistant.",path:"/patient/ai-history"}];return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-emerald-900",children:" Your Health Hub"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:St.map(({title:tr,icon:rr,description:nr,path:sr})=>jsxRuntimeExports.jsxs(Card,{onClick:()=>er(sr),className:"cursor-pointer transition hover:shadow-xl bg-white/70 backdrop-blur border border-white/20 rounded-2xl",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2 text-lg text-emerald-800",children:[rr,jsxRuntimeExports.jsx("span",{children:tr})]})}),jsxRuntimeExports.jsx(CardContent,{className:"text-sm text-gray-600",children:nr})]},tr))})]})}function VoiceScreen(){const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState("");async function nr(){St(!0),rr("");const ir=await(await fetch("/functions/v1/voice-health-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:"demo-id",duration:15})})).json();St(!1),rr(ir.summary||"No response")}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:" Voice Screening"}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please speak continuously for 15 seconds. Our AI will listen for potential signs of shortness of breath, cough, emotional tone, or fatigue."}),jsxRuntimeExports.jsx(Button$1,{onClick:nr,disabled:er,children:er?"Analyzing...":"Start 15-Second Test"}),tr&&jsxRuntimeExports.jsxs("p",{className:"mt-4 text-sm text-blue-700 whitespace-pre-wrap",children:[" ",tr]})]})]})}function VideoAssessment(){const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState("");async function nr(){St(!0);const ir=await(await fetch("/functions/v1/video-health-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:"demo-id",file_url:"/videos/patient-intro-demo.mp4"})})).json();rr(ir.summary||"No data returned"),St(!1)}return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:" Video Assessment"}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Record a short 510 second video where you say hello and introduce yourself casually. Our AI will scan for posture, breathing rate, facial stress cues, and energy level."}),jsxRuntimeExports.jsx(Button$1,{onClick:nr,disabled:er,children:er?"Analyzing Video...":"Upload Video & Analyze"}),tr&&jsxRuntimeExports.jsxs("p",{className:"mt-4 text-sm text-blue-700 whitespace-pre-wrap",children:[" ",tr]})]})]})}const MeditationCenter=()=>{const[er,St]=reactExports.useState({voice:"Bella",topic:"Relaxation",duration:10,withMusic:!0}),tr=(nr,sr)=>{St(ir=>({...ir,[nr]:sr}))},rr=()=>{console.log("Starting meditation session:",er)};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Create a Guided Meditation"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Select$1,{label:"Voice",options:[{label:"Bella",value:"Bella"},{label:"Adam",value:"Adam"},{label:"Rachel",value:"Rachel"}],value:er.voice,onChange:nr=>tr("voice",nr)}),jsxRuntimeExports.jsx(Select$1,{label:"Topic",options:[{label:"Relaxation",value:"Relaxation"},{label:"Sleep",value:"Sleep"},{label:"Focus",value:"Focus"},{label:"Breathing",value:"Breathing"},{label:"Self-Compassion",value:"Self-Compassion"}],value:er.topic,onChange:nr=>tr("topic",nr)}),jsxRuntimeExports.jsx(Select$1,{label:"Duration",options:[{label:"5 minutes",value:"5"},{label:"10 minutes",value:"10"},{label:"15 minutes",value:"15"},{label:"20 minutes",value:"20"}],value:er.duration.toString(),onChange:nr=>tr("duration",Number(nr))}),jsxRuntimeExports.jsx(Select$1,{label:"Music",options:[{label:"With Music",value:"With Music"},{label:"No Music",value:"No Music"}],value:er.withMusic?"With Music":"No Music",onChange:nr=>tr("withMusic",nr==="With Music")})]}),jsxRuntimeExports.jsx(Button$1,{onClick:rr,className:"mt-2",children:"Start Meditation"})]})};function Meditate(){const er=useNavigate();return jsxRuntimeExports.jsx(SecureLayout,{children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[jsxRuntimeExports.jsx(CommandBar,{}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient/dashboard"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meditation Center"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Create personalized guided meditation sessions"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(MeditationCenter,{})})]})})}const defaultGoals=[{id:1,title:"Drink 2L of water daily",completed:!1},{id:2,title:"Sleep 7-8 hours each night",completed:!1},{id:3,title:"Eat 3 servings of vegetables",completed:!1},{id:4,title:"Walk 30 minutes a day",completed:!1},{id:5,title:"Log all meals this week",completed:!1}],WeeklyGoalsTracker=()=>{const[er,St]=reactExports.useState(defaultGoals),tr=rr=>{St(nr=>nr.map(sr=>sr.id===rr?{...sr,completed:!sr.completed}:sr))};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Your Weekly Health Goals"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:er.map(rr=>jsxRuntimeExports.jsxs("li",{onClick:()=>tr(rr.id),className:`cursor-pointer flex items-center gap-3 p-3 rounded-xl border shadow-sm bg-white transition hover:bg-gray-50 ${rr.completed?"opacity-60":""}`,children:[rr.completed?jsxRuntimeExports.jsx(CheckCircle,{className:"text-green-500 w-5 h-5"}):jsxRuntimeExports.jsx(Circle,{className:"text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800",children:rr.title})]},rr.id))})]})};function GoalsPage(){const er=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Health Goals"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Track your weekly health and wellness goals"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(WeeklyGoalsTracker,{})})]})}const SmartGroceryList=()=>{const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(""),ir=()=>{!tr||!nr||(St(or=>[...or,{id:Date.now(),name:tr,category:nr}]),rr(""),sr(""))},ar=or=>{St(lr=>lr.filter(cr=>cr.id!==or))};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Smart Grocery List"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Item name",value:tr,onChange:or=>rr(or.target.value)}),jsxRuntimeExports.jsx(Input,{placeholder:"Category (e.g. Protein, Produce)",value:nr,onChange:or=>sr(or.target.value)})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:ir,className:"mt-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-1"})," Add Item"]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:er.map(or=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center bg-white p-3 rounded-xl border shadow-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-800",children:or.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:or.category})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>ar(or.id),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-red-500"})})]},or.id))})]})};function Grocery(){const er=useNavigate();return jsxRuntimeExports.jsx(SecureLayout,{children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[jsxRuntimeExports.jsx(CommandBar,{}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient/dashboard"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Grocery List"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Plan your healthy shopping with smart grocery lists"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(SmartGroceryList,{})})]})})}const iconMap={reminder:jsxRuntimeExports.jsx(Bell,{className:"text-blue-500 w-5 h-5"}),alert:jsxRuntimeExports.jsx(AlertTriangle,{className:"text-red-500 w-5 h-5"}),info:jsxRuntimeExports.jsx(Check,{className:"text-green-500 w-5 h-5"})},NotificationCenter=()=>{const[er,St]=reactExports.useState([]);return reactExports.useEffect(()=>{St([{id:1,type:"reminder",message:"Time to log today's lunch photo.",timestamp:new Date().toISOString()},{id:2,type:"alert",message:"You missed your hydration goal yesterday.",timestamp:new Date(Date.now()-36e5).toISOString()},{id:3,type:"info",message:"You completed your weekly meditation goal. Great job!",timestamp:new Date(Date.now()-864e5).toISOString()}])},[]),jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Notifications"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:er.map(tr=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border shadow-sm",children:[iconMap[tr.type],jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800",children:tr.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(tr.timestamp).toLocaleString()})]})]},tr.id))})]})};function Notifications(){const er=useNavigate();return jsxRuntimeExports.jsx(SecureLayout,{children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[jsxRuntimeExports.jsx(CommandBar,{}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient/dashboard"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notification Center"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Stay updated with your health reminders and alerts"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(NotificationCenter,{})})]})})}const AppointmentBooking=()=>{const[er,St]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(""),ir=()=>{if(!er||!tr||!nr.trim()){toast.error("Please complete all fields to book an appointment.");return}toast.success(` Appointment booked for ${er} at ${tr}.`),St(""),rr(""),sr("")};return jsxRuntimeExports.jsxs(Card,{className:"p-6 bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl border border-white/30 max-w-xl mx-auto space-y-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-sky-800 flex items-center gap-2",children:" Book Appointment"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"date",value:er,onChange:ar=>St(ar.target.value),className:"pl-10"}),jsxRuntimeExports.jsx(CalendarDays,{className:"absolute left-3 top-2.5 h-5 w-5 text-sky-500"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"time",value:tr,onChange:ar=>rr(ar.target.value),className:"pl-10"}),jsxRuntimeExports.jsx(Clock,{className:"absolute left-3 top-2.5 h-5 w-5 text-sky-500"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Reason for visit",value:nr,onChange:ar=>sr(ar.target.value),className:"pl-10"}),jsxRuntimeExports.jsx(Pencil,{className:"absolute left-3 top-2.5 h-5 w-5 text-sky-500"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:ir,className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 rounded-xl",children:"Book Now"})]})};function AppointmentsPage(){return jsxRuntimeExports.jsxs(Card,{className:"bg-white/80 backdrop-blur rounded-2xl shadow-xl p-6 space-y-4 max-w-3xl mx-auto mt-8",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-sky-900 flex items-center gap-2",children:" Book an Appointment"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(AppointmentBooking,{})})]})}const categoryIcons={symptoms:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4"}),medications:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),appointments:jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4"}),general:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),vitals:jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})},categoryColors={symptoms:"bg-red-100 text-red-700",medications:"bg-purple-100 text-purple-700",appointments:"bg-blue-100 text-blue-700",general:"bg-gray-100 text-gray-700",vitals:"bg-green-100 text-green-700"},AIConversationLogger=()=>{const{userId:er}=useUser(),[St,tr]=reactExports.useState([]),[rr,nr]=reactExports.useState(!0),[sr,ir]=reactExports.useState(""),[ar,or]=reactExports.useState("all"),[lr,cr]=reactExports.useState(new Set);reactExports.useEffect(()=>{er&&ur()},[er]);const ur=async()=>{try{nr(!0);const{data:fr}=await supabase.from("patients").select("id").eq("user_id",er).single();if(!fr){tr([{id:"1",session_id:"demo-1",created_at:new Date().toISOString(),topic:"Understanding A1C Levels",category:"vitals",mode:"text",messages:[{role:"user",content:"What does a high A1C mean?",timestamp:new Date().toISOString()},{role:"assistant",content:"A high A1C level indicates that your average blood sugar has been elevated over the past 2-3 months. An A1C above 6.5% typically indicates diabetes, while 5.7-6.4% suggests prediabetes. It's important to work with your healthcare provider to manage blood sugar levels through diet, exercise, and potentially medication.",timestamp:new Date().toISOString()}],summary:"Discussed A1C levels and their significance in diabetes management"},{id:"2",session_id:"demo-2",created_at:new Date(Date.now()-864e5).toISOString(),topic:"Dietary Advice for Cholesterol",category:"symptoms",mode:"voice",messages:[{role:"user",content:"Should I eat eggs every day if I have high cholesterol?",timestamp:new Date(Date.now()-864e5).toISOString()},{role:"assistant",content:"For most people with high cholesterol, eating eggs in moderation (3-4 per week) is generally safe. Recent research shows that dietary cholesterol has less impact on blood cholesterol than previously thought. Focus on limiting saturated fats and trans fats instead. However, individual responses vary, so discuss with your doctor.",timestamp:new Date(Date.now()-864e5).toISOString()}],summary:"Provided guidance on egg consumption with high cholesterol"}]);return}const{data:mr,error:pr}=await supabase.from("ai_conversations").select("*").eq("patient_id",fr.id).order("created_at",{ascending:!1});if(pr)throw pr;const gr=(mr||[]).map(xr=>({id:xr.id,session_id:xr.session_id,created_at:xr.created_at,topic:xr.topic||"Health Consultation",category:xr.category||"general",mode:xr.mode||"text",messages:xr.messages||[],summary:xr.summary}));tr(gr)}catch(fr){console.error("Failed to load AI conversations:",fr)}finally{nr(!1)}},dr=fr=>{const mr=new Set(lr);mr.has(fr)?mr.delete(fr):mr.add(fr),cr(mr)},hr=St.filter(fr=>{const mr=sr===""||fr.topic.toLowerCase().includes(sr.toLowerCase())||fr.messages.some(gr=>gr.content.toLowerCase().includes(sr.toLowerCase())),pr=ar==="all"||fr.category===ar;return mr&&pr}),Ar=fr=>{const mr=new Date(fr),pr=new Date,gr=new Date(pr);return gr.setDate(gr.getDate()-1),mr.toDateString()===pr.toDateString()?`Today at ${format(mr,"h:mm a")}`:mr.toDateString()===gr.toDateString()?`Yesterday at ${format(mr,"h:mm a")}`:format(mr,"MMM d, yyyy h:mm a")};return rr?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-primary"})})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search conversations...",value:sr,onChange:fr=>ir(fr.target.value),className:"pl-9"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[jsxRuntimeExports.jsx(Button$1,{variant:ar==="all"?"default":"outline",size:"sm",onClick:()=>or("all"),children:"All"}),Object.keys(categoryIcons).map(fr=>jsxRuntimeExports.jsxs(Button$1,{variant:ar===fr?"default":"outline",size:"sm",onClick:()=>or(fr),className:"flex items-center gap-1",children:[categoryIcons[fr],jsxRuntimeExports.jsx("span",{className:"capitalize",children:fr})]},fr))]})]})})}),hr.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No AI conversations found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Your AI health assistant conversations will appear here"})]})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:hr.map(fr=>jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>dr(fr.id),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:categoryIcons[fr.category]||jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:fr.topic}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:Ar(fr.created_at)}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`text-xs ${categoryColors[fr.category]||categoryColors.general}`,children:fr.category}),fr.mode==="voice"&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:[jsxRuntimeExports.jsx(Mic,{className:"w-3 h-3 mr-1"}),"Voice"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:[fr.messages.length," messages"]})]})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",children:lr.has(fr.id)?jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]})}),lr.has(fr.id)&&jsxRuntimeExports.jsxs(CardContent,{className:"border-t bg-gray-50/50",children:[fr.summary&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Summary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700",children:fr.summary})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:fr.messages.map((mr,pr)=>jsxRuntimeExports.jsx("div",{className:`flex gap-3 ${mr.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`flex gap-3 max-w-[80%] ${mr.role==="user"?"flex-row-reverse":"flex-row"}`,children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${mr.role==="user"?"bg-primary text-white":"bg-gray-200"}`,children:mr.role==="user"?jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg ${mr.role==="user"?"bg-primary text-white":"bg-white border"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:mr.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${mr.role==="user"?"text-blue-100":"text-muted-foreground"}`,children:format(new Date(mr.timestamp),"h:mm a")})]})]})},pr))})]})]})},fr.id))}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-blue-50 to-sky-50",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Assistant Insights"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary",children:St.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Conversations"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:St.filter(fr=>fr.category==="symptoms").length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Symptom Discussions"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-600",children:St.filter(fr=>fr.category==="medications").length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Medication Queries"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:St.reduce((fr,mr)=>fr+mr.messages.length,0)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Messages"})]})]})]})})]})};function AIHistory(){const er=useNavigate();return jsxRuntimeExports.jsx(SecureLayout,{children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[jsxRuntimeExports.jsx(CommandBar,{}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>er("/patient/dashboard"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Assistant History"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Review your past conversations with the AI health assistant"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:jsxRuntimeExports.jsx(AIConversationLogger,{})})]})})}async function fetchWeeklyMealPlan(er){const{data:St,error:tr}=await supabase.from("weekly_meal_plan").select("*").eq("user_id",er).order("day");if(tr)throw console.error("[fetchWeeklyMealPlan] Supabase error:",tr),new Error("Failed to load meal plan");return St||[]}async function generateWeeklyMealPlan(er,St){const{data:tr,error:rr}=await supabase.functions.invoke("generate-meal-plan",{body:{userId:er,preferences:St}});if(rr)throw console.error("[generateWeeklyMealPlan] Error:",rr),new Error("Failed to generate meal plan");return tr.mealPlan||[]}const weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],MealPlannerAI=()=>{const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!1),{userId:nr}=useUser(),sr=async()=>{if(nr){rr(!0);try{const or=(await fetchWeeklyMealPlan(nr)).flatMap((lr,cr)=>{const ur=weekDays[cr]||lr.day;return[{id:cr*3+1,title:lr.breakfast.title,calories:lr.breakfast.calories,protein:lr.breakfast.protein,ingredients:lr.breakfast.ingredients,day:ur,mealType:"breakfast"},{id:cr*3+2,title:lr.lunch.title,calories:lr.lunch.calories,protein:lr.lunch.protein,ingredients:lr.lunch.ingredients,day:ur,mealType:"lunch"},{id:cr*3+3,title:lr.dinner.title,calories:lr.dinner.calories,protein:lr.dinner.protein,ingredients:lr.dinner.ingredients,day:ur,mealType:"dinner"}]});St(or)}catch(ar){console.error("Failed to fetch meal plan:",ar),ir()}finally{rr(!1)}}},ir=async()=>{rr(!0);try{if(nr){const lr=await generateWeeklyMealPlan(nr,{goal:"maintain",diet:"Mediterranean",allergies:""});return}}catch(or){console.error("Failed to generate meal plan:",or)}const ar=weekDays.flatMap((or,lr)=>[{id:lr*3+1,title:"Mediterranean Veggie Bowl",calories:520,protein:22,ingredients:["Quinoa","Chickpeas","Feta","Cucumber"],day:or,mealType:"lunch"},{id:lr*3+2,title:"Grilled Salmon + Greens",calories:480,protein:35,ingredients:["Salmon","Spinach","Olive Oil"],day:or,mealType:"dinner"},{id:lr*3+3,title:"Greek Yogurt + Berries",calories:300,protein:20,ingredients:["Greek Yogurt","Blueberries","Honey"],day:or,mealType:"breakfast"}]);St(ar),rr(!1)};return reactExports.useEffect(()=>{sr()},[nr]),jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Weekly Meal Planner"}),jsxRuntimeExports.jsxs(Button$1,{onClick:ir,variant:"secondary",disabled:tr,children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-1"})," Regenerate Plan"]})]}),tr?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Generating Mediterranean meals tailored to your health plan..."}):jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:er.map(ar=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 font-semibold",children:[ar.day,": ",ar.title]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Calories: ",ar.calories,"  Protein: ",ar.protein,"g"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Ingredients: ",ar.ingredients.join(", ")]})]},ar.id))})]})};function MealPlan(){const er=useNavigate(),St=async()=>{alert("Your meal plan has been sent to your email!")},tr=()=>{alert("Downloading your meal plan as PDF...")};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:[jsxRuntimeExports.jsx(AssistantBar,{}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>er("/patient/health"),variant:"ghost",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:tr,variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download PDF"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:St,variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),"Email Plan"]})]})]}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Your Weekly Meal Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"AI-generated meals based on your health goals and preferences"})]}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsx(MealPlannerAI,{})})]})}const TrendChartPanel=({vitals:er})=>{const St=er.map(tr=>({...tr,date:new Date(tr.date).toLocaleDateString()}));return jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full h-[350px]",children:jsxRuntimeExports.jsx(Card,{className:"glass-card h-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"h-full p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vital Trends (Past 30 Days)"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"85%",children:jsxRuntimeExports.jsxs(LineChart,{data:St,margin:{top:5,right:20,bottom:5,left:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",tick:{fill:"#64748b"}}),jsxRuntimeExports.jsx(YAxis,{tick:{fill:"#64748b"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"white",borderRadius:8}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"hydration",stroke:"#06b6d4",strokeWidth:2,name:"Hydration"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"sleep",stroke:"#8b5cf6",strokeWidth:2,name:"Sleep"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"protein",stroke:"#10b981",strokeWidth:2,name:"Protein"})]})})]})})})},AutoInsightsPanel=()=>{const er=[{id:1,type:"trend",message:"Your water intake has improved 30% this week. Keep it up!"},{id:2,type:"tip",message:"Try adding more leafy greens to hit your fiber goals."},{id:3,type:"alert",message:"You've been below your protein target for 3 days."}],St=tr=>{switch(tr){case"tip":return jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-yellow-500"});case"trend":return jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-green-500"});case"alert":return jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 text-red-500"})}};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"AI Health Insights"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:er.map(tr=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border shadow-sm",children:[St(tr.type),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:tr.message})]},tr.id))})]})},GroceryScannerAI=()=>{const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(null),nr=()=>{St(!0),rr(null),setTimeout(()=>{St(!1),rr("Organic bananas, almond milk, whole grain bread added to your list!")},2e3)};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Smart Receipt Scanner"}),jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5 text-gray-500"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx(Button$1,{onClick:nr,disabled:er,className:"w-full",size:"lg",children:er?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Scanning..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4 mr-2"}),"Scan Grocery Receipt"]})}),tr&&jsxRuntimeExports.jsx(motion$1.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg",children:tr})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Take a photo of your receipt to auto-add healthy items"})]})},PhotoLogger=({userId:er})=>{const St=dist$3.useSupabaseClient(),[tr,rr]=reactExports.useState(!1),[nr,sr]=reactExports.useState(null),ir=async ar=>{var hr;const or=(hr=ar.target.files)==null?void 0:hr[0];if(!or)return;const lr=or.name.split(".").pop(),ur=`meal-photos/${`${er}-${Date.now()}.${lr}`}`;rr(!0),sr(URL.createObjectURL(or));const{error:dr}=await St.storage.from("uploads").upload(ur,or);dr?console.error("Upload failed:",dr.message):console.log("Photo uploaded to Supabase:",ur),rr(!1)};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-4 shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Log a Meal Photo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:ir,className:"block w-full text-sm file:text-white file:bg-primary file:rounded-md file:px-4 file:py-2"}),tr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Loader2,{className:"animate-spin w-4 h-4"})," Uploading photo..."]}),nr&&jsxRuntimeExports.jsx("img",{src:nr,alt:"Preview",className:"mt-3 max-h-40 w-auto rounded-xl border"})]})]})},PDFExportPanel=({summaryData:er,filename:St="Visit_Summary.pdf"})=>{const tr=()=>{const rr=new E$1;rr.setFontSize(18),rr.text("Visit Summary",14,22),autoTable(rr,{startY:30,head:[["Field","Details"]],body:er.map(nr=>[nr.label,nr.value])}),rr.save(St)};return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-5 shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Export Visit Summary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a PDF document of your most recent AI summary or medical note."}),jsxRuntimeExports.jsxs(Button$1,{onClick:tr,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileDown,{className:"w-4 h-4"})," Download PDF"]})]})};function UnifiedGlassDashboard(){return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"p-6 space-y-12 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(AssistantBar,{role:"patient"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(TrendChartPanel,{vitals:[]}),jsxRuntimeExports.jsx(WeeklyGoalsTracker,{})]}),jsxRuntimeExports.jsx(AutoInsightsPanel,{}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(PhotoLogger,{userId:"currentUser"}),jsxRuntimeExports.jsx(GroceryScannerAI,{}),jsxRuntimeExports.jsx(SmartGroceryList,{})]}),jsxRuntimeExports.jsx(MealPlannerAI,{}),jsxRuntimeExports.jsx(NotificationCenter,{}),jsxRuntimeExports.jsx(AIConversationLogger,{}),jsxRuntimeExports.jsx(PDFExportPanel,{summaryData:[{label:"Health Goal",value:"Maintain weight with Mediterranean diet"},{label:"Macros Monitored",value:"Calories, Protein, Sleep, Hydration"},{label:"Alerts Triggered",value:"Low protein 3 days, great hydration streak"}],filename:"Weekly_Health_Summary.pdf"})]})}const links=[{href:"/patient/dashboard",label:"Dashboard",icon:LayoutDashboard},{href:"/patient/appointments",label:"Appointments",icon:CalendarDays},{href:"/patient/medications",label:"Medications",icon:FileText},{href:"/patient/health-dashboard",label:"Health",icon:HeartPulse},{href:"/patient/nutrition-log",label:"Food Log",icon:Salad},{href:"/patient/timeline",label:"Timeline",icon:ScrollText},{href:"/patient/scan",label:"Camera Tools",icon:Camera},{href:"/patient/ai-history",label:"AI History",icon:Bot},{href:"/patient/settings",label:"Settings",icon:User},{href:"/patient/notifications",label:"Notifications",icon:Bell}];function PatientLayout({children:er}){const St=useLocation(),[tr,rr]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-white to-emerald-50 flex",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden",onClick:()=>rr(!tr),children:tr?jsxRuntimeExports.jsx(X$3,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 transform transition-transform duration-300 ease-in-out
        bg-white/80 backdrop-blur p-6 border-r shadow-xl
        ${tr?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:relative md:block
      `,children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-sky-800 mb-1",children:"Patient Portal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back"})]}),jsxRuntimeExports.jsx("nav",{className:"space-y-2",children:links.map(({href:nr,label:sr,icon:ir})=>{const ar=St.pathname===nr||St.pathname.startsWith(nr+"/");return jsxRuntimeExports.jsxs(Link,{to:nr,onClick:()=>rr(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors font-medium text-sm
                  ${ar?"bg-sky-100 text-sky-800":"text-gray-700 hover:bg-sky-50"}`,children:[jsxRuntimeExports.jsx(ir,{className:"w-4 h-4"}),sr]},nr)})})]}),tr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/30 z-30 md:hidden",onClick:()=>rr(!1)}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-4 md:p-8 bg-white/60 backdrop-blur rounded-3xl shadow-inner",children:er}),jsxRuntimeExports.jsx(AssistantBar,{role:"patient"})]})}const ScanNutritionLabel=()=>{const[er,St]=reactExports.useState(!1),[tr,rr]=reactExports.useState(null),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState(null),or=reactExports.useRef(null),{userId:lr}=useUser(),cr=async Ar=>{var pr;const fr=(pr=Ar.target.files)==null?void 0:pr[0];if(!fr)return;const mr=new FileReader;mr.onloadend=()=>{ar(mr.result),ur(mr.result)},mr.readAsDataURL(fr)},ur=async Ar=>{St(!0),sr(null);try{const{data:fr,error:mr}=await supabase.functions.invoke("analyze-nutrition-label",{body:{image:Ar,userId:lr}});if(mr)throw mr;rr(fr.nutritionData),lr&&fr.nutritionData&&await supabase.from("food_logs").insert({user_id:lr,type:"nutrition_label",nutrition_data:fr.nutritionData,image_url:Ar,created_at:new Date().toISOString()})}catch(fr){console.error("Failed to analyze nutrition label:",fr),sr("Failed to analyze nutrition label. Please try again.")}finally{St(!1)}},dr=()=>{var Ar;(Ar=or.current)==null||Ar.click()},hr=Ar=>Ar>=80?"text-green-600":Ar>=60?"text-yellow-600":"text-red-600";return jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Scan Nutrition Label"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-6",children:"Take a photo or upload an image of a nutrition label to analyze its contents and get health insights."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:dr,disabled:er,size:"lg",className:"flex-1",children:[jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5 mr-2"}),"Take Photo"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{var Ar;return(Ar=or.current)==null?void 0:Ar.click()},disabled:er,size:"lg",variant:"outline",className:"flex-1",children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 mr-2"}),"Upload Image"]})]}),jsxRuntimeExports.jsx("input",{ref:or,type:"file",accept:"image/*",capture:"environment",onChange:cr,className:"hidden"}),ir&&jsxRuntimeExports.jsxs("div",{className:"mt-4 relative",children:[jsxRuntimeExports.jsx("img",{src:ir,alt:"Nutrition label",className:"w-full max-w-md mx-auto rounded-lg shadow-lg"}),er&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 text-white animate-spin"})})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950/30 rounded-lg flex items-start gap-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:nr})]}),tr&&jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6 mt-6",children:[tr.healthScore!==void 0&&jsxRuntimeExports.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-zinc-800 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Health Score"}),jsxRuntimeExports.jsxs("p",{className:`text-4xl font-bold ${hr(tr.healthScore)}`,children:[tr.healthScore,"/100"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Nutrition Facts"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Per ",tr.servingSize]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Calories"}),jsxRuntimeExports.jsx("span",{children:tr.calories})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{children:"Protein"}),jsxRuntimeExports.jsxs("span",{children:[tr.protein,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{children:"Carbohydrates"}),jsxRuntimeExports.jsxs("span",{children:[tr.carbs,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{children:"Fat"}),jsxRuntimeExports.jsxs("span",{children:[tr.fats,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{children:"Fiber"}),jsxRuntimeExports.jsxs("span",{children:[tr.fiber,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b",children:[jsxRuntimeExports.jsx("span",{children:"Sugar"}),jsxRuntimeExports.jsxs("span",{children:[tr.sugar,"g"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2",children:[jsxRuntimeExports.jsx("span",{children:"Sodium"}),jsxRuntimeExports.jsxs("span",{children:[tr.sodium,"mg"]})]})]})]}),tr.warnings&&tr.warnings.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/30 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-orange-600"}),"Health Warnings"]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:tr.warnings.map((Ar,fr)=>jsxRuntimeExports.jsxs("li",{className:"text-sm text-orange-700 dark:text-orange-300",children:[" ",Ar]},fr))})]}),tr.ingredients&&tr.ingredients.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Key Ingredients"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:tr.ingredients.join(", ")})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950/30 rounded-lg flex items-start gap-3",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-green-600 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Nutrition data saved to your food log!"})]})]})]})]})})};function Scan(){return jsxRuntimeExports.jsx(PatientLayout,{children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:jsxRuntimeExports.jsx(ScanNutritionLabel,{})})})}const smartSnacks=[{title:"Almonds (1 oz)",macros:"164 kcal  6g protein"},{title:"Hummus + Carrot Sticks",macros:"150 kcal  5g protein"},{title:"Boiled Egg + Cucumber",macros:"140 kcal  7g protein"},{title:"Cottage Cheese + Berries",macros:"180 kcal  12g protein"},{title:"Apple + Peanut Butter (1 tbsp)",macros:"190 kcal  4g protein"}],SmartSnackPanel=()=>jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur p-6 shadow space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Need a Quick Healthy Snack?"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:smartSnacks.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"bg-white p-3 rounded-xl border shadow-sm text-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium",children:er.title}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:er.macros})]},St))})]});function FoodIntel(){const er=useNavigate();return jsxRuntimeExports.jsx(PatientLayout,{children:jsxRuntimeExports.jsxs(motion$1.div,{className:"space-y-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 p-8 text-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Food Intelligence Center"}),jsxRuntimeExports.jsx("p",{className:"text-orange-50 text-lg mb-6 max-w-2xl",children:"Make smarter food choices with AI-powered nutrition analysis and personalized recommendations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105 p-6",onClick:()=>{var St;return(St=document.getElementById("scan-section"))==null?void 0:St.scrollIntoView({behavior:"smooth"})},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(Camera,{className:"w-6 h-6 text-orange-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Scan Labels"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyze nutrition facts instantly"})]})]})}),jsxRuntimeExports.jsx(Card,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105 p-6",onClick:()=>er("/patient/meal-plan"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(Apple,{className:"w-6 h-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Meal Planner"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Get personalized meal suggestions"})]})]})}),jsxRuntimeExports.jsx(Card,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105 p-6",onClick:()=>er("/patient/nutrition"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(BarChart3,{className:"w-6 h-6 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Nutrition Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor your daily intake"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-yellow-500"}),"Your Recent Food Insights"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 rounded-lg bg-green-50 dark:bg-green-950/30 flex items-start gap-3",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Great protein intake!"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"You've met your protein goals 5 days in a row"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 rounded-lg bg-orange-50 dark:bg-orange-950/30 flex items-start gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-5 h-5 text-orange-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Watch your sodium"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 mt-1",children:"Yesterday's intake was 35% above recommended levels"})]})]})]})]}),jsxRuntimeExports.jsx(SmartSnackPanel,{}),jsxRuntimeExports.jsx("div",{id:"scan-section",children:jsxRuntimeExports.jsx(ScanNutritionLabel,{})})]})})}const ProgressPhotoTracker=()=>{const er=reactExports.useRef(null),{userId:St}=useUser(),[tr,rr]=reactExports.useState([]),[nr,sr]=reactExports.useState(!1),[ir,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(""),[dr,hr]=reactExports.useState("");reactExports.useEffect(()=>{St&&Ar()},[St]);const Ar=async()=>{sr(!0);try{const{data:xr,error:yr}=await supabase.from("progress_photos").select("*").eq("user_id",St).order("created_at",{ascending:!1});if(yr)throw yr;rr(xr||[])}catch(xr){console.error("Failed to fetch progress photos:",xr)}finally{sr(!1)}},fr=async xr=>{var Er;const yr=(Er=xr.target.files)==null?void 0:Er[0];if(!(!yr||!St)){ar(!0);try{const _r=`${St}/${Date.now()}_${yr.name}`,{data:Sr,error:jr}=await supabase.storage.from("progress-photos").upload(_r,yr,{cacheControl:"3600",upsert:!1});if(jr)throw jr;const{data:{publicUrl:Pr}}=supabase.storage.from("progress-photos").getPublicUrl(_r),Mr=`Week ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})}`,{data:Ir,error:Lr}=await supabase.from("progress_photos").insert({user_id:St,url:Pr,week:Mr,date:new Date().toISOString(),weight:cr?parseFloat(cr):null,notes:dr||null}).select().single();if(Lr)throw Lr;rr([Ir,...tr]),ur(""),hr(""),er.current&&(er.current.value="")}catch(_r){console.error("Failed to upload photo:",_r),alert("Failed to upload photo. Please try again.")}finally{ar(!1)}}},mr=async xr=>{if(confirm("Are you sure you want to delete this progress photo?"))try{const yr=tr.find(jr=>jr.id===xr);if(!yr)return;const Er=yr.url.split("/"),_r=`${St}/${Er[Er.length-1]}`;await supabase.storage.from("progress-photos").remove([_r]);const{error:Sr}=await supabase.from("progress_photos").delete().eq("id",xr);if(Sr)throw Sr;rr(tr.filter(jr=>jr.id!==xr)),lr(null)}catch(yr){console.error("Failed to delete photo:",yr),alert("Failed to delete photo. Please try again.")}},gr=(()=>{const xr=tr.filter(jr=>jr.weight).map(jr=>jr.weight);if(xr.length<2)return null;const yr=xr[xr.length-1],Er=xr[0],_r=Er-yr,Sr=(_r/yr*100).toFixed(1);return{startWeight:yr,currentWeight:Er,change:_r,percentChange:Sr}})();return jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-2xl border border-gray-200 bg-white/80 backdrop-blur p-6 shadow space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5 text-primary"})," Progress Photos"]}),jsxRuntimeExports.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",disabled:ir,children:ir?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",ref:er,id:"photo-upload",onChange:fr,className:"hidden"})]}),gr&&jsxRuntimeExports.jsx(Card,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Weight Progress"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[gr.change>0?"+":"",gr.change.toFixed(1)," lbs"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[gr.percentChange,"% change"]})]}),jsxRuntimeExports.jsx(TrendingUp,{className:`w-8 h-8 ${gr.change<0?"text-green-600":"text-orange-600"}`})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Current Weight (optional)"}),jsxRuntimeExports.jsx("input",{type:"number",value:cr,onChange:xr=>ur(xr.target.value),placeholder:"Enter weight in lbs",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:dr,onChange:xr=>hr(xr.target.value),placeholder:"e.g., Feeling stronger!",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),nr?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading photos..."})]}):tr.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No progress photos uploaded yet. Start tracking your journey!"}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:tr.map(xr=>jsxRuntimeExports.jsxs(motion$1.div,{whileHover:{scale:1.02},className:"relative group cursor-pointer",onClick:()=>lr(xr),children:[jsxRuntimeExports.jsx("img",{src:xr.url,alt:`Progress ${xr.week}`,className:"w-full aspect-square object-cover rounded-lg border shadow"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Eye,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-700",children:xr.week}),xr.weight&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[xr.weight," lbs"]})]})]},xr.id))}),or&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>lr(null),children:jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-3xl w-full p-6 space-y-4",onClick:xr=>xr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:or.week}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 inline mr-1"}),new Date(or.date).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"destructive",size:"sm",onClick:()=>mr(or.id),children:"Delete"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>lr(null),children:jsxRuntimeExports.jsx(X$3,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("img",{src:or.url,alt:`Progress ${or.week}`,className:"w-full rounded-lg"}),(or.weight||or.notes)&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[or.weight&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Weight:"})," ",or.weight," lbs"]}),or.notes&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Notes:"})," ",or.notes]})]})]})})]})};function ProgressPhotos(){const er=useNavigate();return jsxRuntimeExports.jsx(PatientLayout,{children:jsxRuntimeExports.jsxs(motion$1.div,{className:"space-y-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-8 text-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Track Your Journey"}),jsxRuntimeExports.jsx("p",{className:"text-purple-50 text-lg mb-6 max-w-2xl",children:"Document your health transformation with progress photos and see how far you've come."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{size:"lg",variant:"secondary",className:"bg-white/90 text-purple-700 hover:bg-white",onClick:()=>er("/patient/goals"),children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 mr-2"}),"Set Goals"]}),jsxRuntimeExports.jsxs(Button$1,{size:"lg",variant:"outline",className:"text-white border-white hover:bg-white/20",onClick:()=>er("/patient/health-dashboard"),children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 mr-2"}),"View Health Metrics"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5 text-purple-600"}),"Photo Tips for Best Results"]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm",children:"Consistency is Key"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Take photos at the same time of day, in the same location, with similar lighting."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm",children:"Same Poses"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Use front, side, and back views. Keep the same distance from camera."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm",children:"Track More Than Weight"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Note how you feel, energy levels, and non-scale victories in your notes."})]})]})]}),jsxRuntimeExports.jsx(ProgressPhotoTracker,{}),jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-950/30 dark:to-red-950/30",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-12 h-12 text-orange-600 mx-auto mb-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stay Consistent!"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground max-w-md mx-auto",children:"Progress happens one day at a time. Keep documenting your journey - future you will thank you for capturing these moments!"})]})]})})}const patientRoutes=[{path:"/patient",element:jsxRuntimeExports.jsx(PatientDashboardSimpleHybrid,{})},{path:"/patient/dashboard",element:jsxRuntimeExports.jsx(PatientDashboardSimpleHybrid,{})},{path:"/patient/records",element:jsxRuntimeExports.jsx(Records,{})},{path:"/patient/health-dashboard",element:jsxRuntimeExports.jsx(HealthDashboard,{})},{path:"/patient/voice-screen",element:jsxRuntimeExports.jsx(VoiceScreen,{})},{path:"/patient/video-assessment",element:jsxRuntimeExports.jsx(VideoAssessment,{})},{path:"/patient/weekly-planner",element:jsxRuntimeExports.jsx(WeeklyPlanner,{})},{path:"/patient/meal-feedback",element:jsxRuntimeExports.jsx(MealQualityFeedback,{})},{path:"/patient/lifestyle-streaks",element:jsxRuntimeExports.jsx(LifestyleStreaks,{})},{path:"/patient/meditation",element:jsxRuntimeExports.jsx(Meditation,{})},{path:"/patient/nutrition",element:jsxRuntimeExports.jsx(NutritionDashboard,{})},{path:"/patient/nutrition-log",element:jsxRuntimeExports.jsx(NutritionLog,{})},{path:"/patient/appointments",element:jsxRuntimeExports.jsx(AppointmentsPage$1,{})},{path:"/patient/labs",element:jsxRuntimeExports.jsx(Labs,{})},{path:"/patient/wearables",element:jsxRuntimeExports.jsx(Wearables,{})},{path:"/patient/settings",element:jsxRuntimeExports.jsx(PatientSettings,{})},{path:"/patient/intake",element:jsxRuntimeExports.jsx(Intake,{})},{path:"/patient/medications",element:jsxRuntimeExports.jsx(Medications,{})},{path:"/patient/family",element:jsxRuntimeExports.jsx(Family,{})},{path:"/patient/timeline",element:jsxRuntimeExports.jsx(Timeline,{})},{path:"/patient/documents",element:jsxRuntimeExports.jsx(Documents,{})},{path:"/patient/calendar",element:jsxRuntimeExports.jsx(CalendarView,{})},{path:"/patient/telemed/:appointmentId",element:jsxRuntimeExports.jsx(TelemedVisit,{})},{path:"/patient/share-access",element:jsxRuntimeExports.jsx(ShareAccess,{})},{path:"/patient/shared/:patientId",element:jsxRuntimeExports.jsx(SharedPatientView,{})},{path:"/patient/export-pdf",element:jsxRuntimeExports.jsx(ExportPDF,{})},{path:"/patient/meditate",element:jsxRuntimeExports.jsx(Meditate,{})},{path:"/patient/goals",element:jsxRuntimeExports.jsx(GoalsPage,{})},{path:"/patient/grocery",element:jsxRuntimeExports.jsx(Grocery,{})},{path:"/patient/notifications",element:jsxRuntimeExports.jsx(Notifications,{})},{path:"/patient/allergies",element:jsxRuntimeExports.jsx(AppointmentsPage,{})},{path:"/patient/ai-history",element:jsxRuntimeExports.jsx(AIHistory,{})},{path:"/patient/meal-plan",element:jsxRuntimeExports.jsx(MealPlan,{})},{path:"/patient/unified-dashboard",element:jsxRuntimeExports.jsx(UnifiedGlassDashboard,{})},{path:"/patient/scan",element:jsxRuntimeExports.jsx(Scan,{})},{path:"/patient/food-intel",element:jsxRuntimeExports.jsx(FoodIntel,{})},{path:"/patient/progress",element:jsxRuntimeExports.jsx(ProgressPhotos,{})}],EmployerDashboard=reactExports.lazy(()=>__vitePreload(()=>import("./Dashboard-DIoUG_gj.js"),[])),EmployerInvoices=reactExports.lazy(()=>__vitePreload(()=>import("./Invoices-De1dXrMI.js"),[])),EmployerSettings=reactExports.lazy(()=>__vitePreload(()=>import("./Settings-DmWbK7d7.js"),[])),employerRoutes=[{path:"/employer",element:jsxRuntimeExports.jsx(EmployerDashboard,{})},{path:"/employer/invoices",element:jsxRuntimeExports.jsx(EmployerInvoices,{})},{path:"/employer/settings",element:jsxRuntimeExports.jsx(EmployerSettings,{})}],OwnerDashboard=()=>{const{userId:er,name:St}=useUser(),tr=useNavigate(),[rr,nr]=reactExports.useState(null),[sr,ir]=reactExports.useState(!0),[ar,or]=reactExports.useState("");reactExports.useEffect(()=>{const dr=new Date().getHours();dr<12?or("Good morning"):dr<17?or("Good afternoon"):or("Good evening"),er&&lr()},[er]);const lr=async()=>{try{const{data:dr,error:hr}=await supabase.from("employers").select("id, name, is_active, created_at");if(hr)throw hr;const Ar=(dr==null?void 0:dr.filter(Rr=>Rr.is_active).length)||0,fr=(dr==null?void 0:dr.filter(Rr=>{const Or=new Date(Rr.created_at),Hr=new Date;return Hr.setMonth(Hr.getMonth()-1),Or>Hr}).length)||0,{data:mr,error:pr}=await supabase.from("organizations").select("id, name, verification_status");if(pr)throw pr;const gr=(mr==null?void 0:mr.filter(Rr=>Rr.verification_status==="verified").length)||0,xr=(mr==null?void 0:mr.filter(Rr=>Rr.verification_status==="pending").length)||0,{data:yr,error:Er}=await supabase.from("employer_invoices").select("amount, status, created_at, due_date");if(Er)throw Er;const _r=new Date,Sr=_r.getFullYear(),jr=_r.getMonth(),Pr=(yr==null?void 0:yr.filter(Rr=>{const Or=new Date(Rr.created_at);return Or.getFullYear()===Sr&&Or.getMonth()===jr&&Rr.status==="paid"}).reduce((Rr,Or)=>Rr+(Or.amount||0),0))||0,Mr=(yr==null?void 0:yr.filter(Rr=>new Date(Rr.created_at).getFullYear()===Sr&&Rr.status==="paid").reduce((Rr,Or)=>Rr+(Or.amount||0),0))||0,Ir=(yr==null?void 0:yr.filter(Rr=>Rr.status==="sent"||Rr.status==="overdue").reduce((Rr,Or)=>Rr+(Or.amount||0),0))||0,Lr=new Date;Lr.setMonth(Lr.getMonth()-1);const Qr=(yr==null?void 0:yr.filter(Rr=>{const Or=new Date(Rr.created_at);return Or.getFullYear()===Lr.getFullYear()&&Or.getMonth()===Lr.getMonth()&&Rr.status==="paid"}).reduce((Rr,Or)=>Rr+(Or.amount||0),0))||0,Yr=Qr>0?(Pr-Qr)/Qr*100:0,{count:Gr}=await supabase.from("auth.users").select("*",{count:"exact",head:!0}),{count:$r}=await supabase.from("providers").select("*",{count:"exact",head:!0}),{count:Vr}=await supabase.from("patients").select("*",{count:"exact",head:!0}),{data:Tr}=await supabase.from("employer_activity_logs").select("*").order("created_at",{ascending:!1}).limit(5),Fr=(Tr||[]).map(Rr=>({id:Rr.id,type:Rr.activity_type,description:Rr.description,timestamp:Rr.created_at,status:Rr.status||"completed"})),{data:Wr}=await supabase.from("employer_invoices").select(`
          id,
          amount,
          due_date,
          status,
          employer:employers(name)
        `).in("status",["draft","sent","overdue"]).order("due_date",{ascending:!0}).limit(5),qr=(Wr||[]).map(Rr=>{var Or;return{id:Rr.id,employer:((Or=Rr.employer)==null?void 0:Or.name)||"Unknown",amount:Rr.amount,dueDate:Rr.due_date,status:Rr.status}});nr({employers:{total:(dr==null?void 0:dr.length)||0,active:Ar,change:fr},organizations:{total:(mr==null?void 0:mr.length)||0,verified:gr,pending:xr},revenue:{monthly:Pr,yearly:Mr,change:Yr,outstanding:Ir},users:{total:Gr||0,active:Math.floor((Gr||0)*.7),providers:$r||0,patients:Vr||0},recentActivity:Fr,upcomingInvoices:qr})}catch(dr){console.error("Failed to load dashboard stats:",dr)}finally{ir(!1)}},cr=dr=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(dr),ur=dr=>{switch(dr){case"paid":case"completed":return jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"Completed"});case"sent":return jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Sent"});case"overdue":case"alert":return jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"text-xs",children:"Attention"});case"draft":case"pending":return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Pending"});default:return null}};return sr?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[ar,", ",St||"Business Owner"]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground mt-1",children:["Here's your business overview for ",format(new Date,"MMMM d, yyyy")]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"default",onClick:()=>tr("/owner/invoices/new"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Receipt,{className:"w-4 h-4"}),"Generate Invoice"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:jsxRuntimeExports.jsx(Card,{className:"bg-white/80 backdrop-blur border shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>tr("/owner/employers"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Employers"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:(rr==null?void 0:rr.employers.total)||0}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(rr==null?void 0:rr.employers.active)||0," active"]})]}),rr&&rr.employers.change>0&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:["+",rr.employers.change," new"]})]})})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:jsxRuntimeExports.jsx(Card,{className:"bg-white/80 backdrop-blur border shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>tr("/owner/organizations"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 text-purple-600"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Organizations"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:(rr==null?void 0:rr.organizations.total)||0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-3 h-3 text-green-600"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[(rr==null?void 0:rr.organizations.verified)||0," verified"]})]})]}),rr&&rr.organizations.pending>0&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:[rr.organizations.pending," pending"]})]})})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:jsxRuntimeExports.jsx(Card,{className:"bg-white/80 backdrop-blur border shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>tr("/owner/financial"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-green-600"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:cr((rr==null?void 0:rr.revenue.monthly)||0)}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mt-1",children:rr&&rr.revenue.change>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 text-green-600"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600",children:["+",rr.revenue.change.toFixed(1),"%"]})]}):rr&&rr.revenue.change<0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TrendingDown,{className:"w-3 h-3 text-red-600"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-red-600",children:[rr.revenue.change.toFixed(1),"%"]})]}):jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"No change"})})]}),jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-green-100"})]})})})}),jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:jsxRuntimeExports.jsx(Card,{className:"bg-white/80 backdrop-blur border shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>tr("/owner/analytics"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(BarChart2,{className:"w-5 h-5 text-orange-600"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Users"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:(rr==null?void 0:rr.users.active)||0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[(rr==null?void 0:rr.users.providers)||0," providers"]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[(rr==null?void 0:rr.users.patients)||0," patients"]})]})]}),jsxRuntimeExports.jsx(Target,{className:"w-8 h-8 text-orange-100"})]})})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-green-50 to-emerald-100 border-green-200",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-700",children:"Yearly Revenue"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:cr((rr==null?void 0:rr.revenue.yearly)||0)}),jsxRuntimeExports.jsx(Progress,{value:75,className:"mt-2 h-2"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600 mt-1",children:"75% of annual target"})]}),jsxRuntimeExports.jsx(Briefcase,{className:"w-10 h-10 text-green-300"})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-orange-50 to-amber-100 border-orange-200",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Outstanding"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-2",children:cr((rr==null?void 0:rr.revenue.outstanding)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"Awaiting payment"})]}),jsxRuntimeExports.jsx(CreditCard,{className:"w-10 h-10 text-orange-300"})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-blue-200",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Users"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:(rr==null?void 0:rr.users.total)||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Across all organizations"})]}),jsxRuntimeExports.jsx(Users,{className:"w-10 h-10 text-blue-300"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),"Recent Activity"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:(rr==null?void 0:rr.recentActivity.length)===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"}):rr==null?void 0:rr.recentActivity.map(dr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${dr.status==="completed"?"bg-green-100":dr.status==="alert"?"bg-red-100":"bg-gray-100"}`,children:dr.status==="completed"?jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4 text-green-600"}):dr.status==="alert"?jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 text-red-600"}):jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:dr.description}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:format(new Date(dr.timestamp),"MMM d, h:mm a")})]})]}),ur(dr.status)]},dr.id))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Receipt,{className:"w-5 h-5"}),"Upcoming Invoices"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>tr("/owner/invoices"),children:"View all"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:(rr==null?void 0:rr.upcomingInvoices.length)===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No upcoming invoices"}):rr==null?void 0:rr.upcomingInvoices.map(dr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>tr(`/owner/invoices/${dr.id}`),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:dr.employer}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due ",format(new Date(dr.dueDate),"MMM d, yyyy")]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold",children:cr(dr.amount)}),ur(dr.status)]})]},dr.id))})})]})]}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-fuchsia-50 to-purple-50",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4",onClick:()=>tr("/owner/employers/new"),children:[jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Add Employer"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4",onClick:()=>tr("/owner/invoices/new"),children:[jsxRuntimeExports.jsx(Receipt,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Create Invoice"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4",onClick:()=>tr("/owner/billing"),children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Billing Config"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4",onClick:()=>tr("/owner/analytics"),children:[jsxRuntimeExports.jsx(BarChart2,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"View Analytics"})]})]})]})})]})};function OwnerDashboardPage(){return jsxRuntimeExports.jsx(OwnerDashboard,{})}function PlatformDashboard(){const er=useNavigate(),[St,tr]=reactExports.useState(""),rr={uptime:"99.9%",responseTime:"145ms",apiCalls:"2.3M",storage:{used:2.4,total:5,unit:"TB"},cpu:42,memory:68},nr=[{type:"revenue",title:"Revenue Opportunity",description:"5 trial companies show high engagement. Consider reaching out for conversion.",action:"View Companies",priority:"high"},{type:"risk",title:"Churn Risk Alert",description:"2 companies showing decreased usage patterns in the last 30 days.",action:"Investigate",priority:"medium"},{type:"growth",title:"Growth Suggestion",description:"Healthcare sector showing 40% higher conversion. Focus marketing efforts.",action:"View Analysis",priority:"low"}],sr=[{icon:UserPlus,label:"Invite Users",path:"/owner/user-invitations",color:"bg-blue-500"},{icon:Building2,label:"Manage Companies",path:"/owner/company-management",color:"bg-green-500"},{icon:CreditCard,label:"Billing",path:"/owner/billing-statement",color:"bg-purple-500"},{icon:Shield,label:"Security",path:"/owner/security",color:"bg-red-500"},{icon:FileText,label:"Reports",path:"/owner/reports",color:"bg-yellow-500"},{icon:Settings,label:"Platform Settings",path:"/owner/settings",color:"bg-gray-500"}],ir=[{type:"user",message:"John Doe accepted invitation to PMS Corp",time:"5 min ago",icon:UserPlus},{type:"payment",message:"HealthCo payment of $999 processed",time:"1 hour ago",icon:CreditCard},{type:"company",message:"MediTech Solutions upgraded to Enterprise",time:"3 hours ago",icon:TrendingUp},{type:"alert",message:"API rate limit reached for TechHealth",time:"5 hours ago",icon:AlertCircle}],ar=()=>{alert(`AI Processing: ${St}`),tr("")};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Platform Command Center"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Complete control over your healthcare platform"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Export Report"]}),jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"AI Assistant"]})]})]}),jsxRuntimeExports.jsx(Card,{className:"mb-6 border-purple-200 bg-purple-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Brain,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-purple-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:St,onChange:or=>tr(or.target.value),placeholder:"Ask AI anything: 'Show me companies ready to upgrade' or 'Create report for last month'",className:"w-full pl-10 pr-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",onKeyPress:or=>or.key==="Enter"&&ar()})]}),jsxRuntimeExports.jsx(Button$1,{onClick:ar,className:"bg-purple-600 hover:bg-purple-700",children:jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"})})]})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Monthly Revenue",jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"$212,540"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-green-600",children:"+12.5%"}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"vs last month"})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Active Companies",jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"34"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"28 Active"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"6 Trial"})]})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Total Users",jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"8,420"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-600",children:"+142"})," this week"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium text-gray-600 flex items-center justify-between",children:["Platform Health",jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Excellent"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:[rr.uptime," uptime"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:sr.map((or,lr)=>jsxRuntimeExports.jsxs("button",{onClick:()=>er(or.path),className:"p-4 bg-white rounded-lg shadow hover:shadow-lg transition-shadow text-center group",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${or.color} rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform`,children:jsxRuntimeExports.jsx(or.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:or.label})]},lr))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"w-5 h-5"}),"AI Insights & Recommendations"]})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3",children:nr.map((or,lr)=>jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Badge,{variant:or.priority==="high"?"destructive":or.priority==="medium"?"secondary":"outline",children:or.priority}),jsxRuntimeExports.jsx("h4",{className:"font-medium",children:or.title})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:or.description})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:or.action})]})},lr))})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Server,{className:"w-5 h-5"}),"System Status"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{children:"CPU Usage"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[rr.cpu,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:rr.cpu})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{children:"Memory"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[rr.memory,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:rr.memory})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{children:"Storage"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[rr.storage.used,rr.storage.unit," / ",rr.storage.total,rr.storage.unit]})]}),jsxRuntimeExports.jsx(Progress,{value:rr.storage.used/rr.storage.total*100})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx(Gauge,{className:"w-5 h-5 mx-auto mb-1 text-gray-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600",children:"Response Time"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:rr.responseTime})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5 mx-auto mb-1 text-gray-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600",children:"API Calls"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:rr.apiCalls})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full",size:"sm",children:"View Full Status"})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),"Recent Activity"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",children:"View All"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ir.map((or,lr)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b last:border-0",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${or.type==="user"?"bg-blue-100":or.type==="payment"?"bg-green-100":or.type==="company"?"bg-purple-100":"bg-yellow-100"}`,children:jsxRuntimeExports.jsx(or.icon,{className:`w-4 h-4 ${or.type==="user"?"text-blue-600":or.type==="payment"?"text-green-600":or.type==="company"?"text-purple-600":"text-yellow-600"}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:or.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:or.time})]})]},lr))})})]})]})}function UserInvitations(){const[er,St]=reactExports.useState(""),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState(""),[ir,ar]=reactExports.useState(""),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState([{id:"1",email:"john.doe@pmscorp.com",company:"PMS Corp",role:"Admin",status:"pending",sentAt:"2025-01-25T10:00:00Z"},{id:"2",email:"jane.smith@healthco.com",company:"HealthCo",role:"Manager",status:"accepted",sentAt:"2025-01-24T14:30:00Z",acceptedAt:"2025-01-24T16:45:00Z"}]),dr=["PMS Corp","HealthCo","MediTech Solutions","CareFirst Partners","Wellness Group"],hr=[{value:"admin",label:"Admin",description:"Full access to company portal"},{value:"manager",label:"Manager",description:"Manage employees and view reports"},{value:"hr",label:"HR Manager",description:"Employee management and benefits"},{value:"finance",label:"Finance Manager",description:"Billing and invoice access"},{value:"viewer",label:"Viewer",description:"Read-only access to reports"}],Ar=async()=>{const gr={id:Date.now().toString(),email:er,company:tr,role:nr,status:"pending",sentAt:new Date().toISOString()};ur([gr,...cr]),St(""),rr(""),sr(""),alert("Invitation sent successfully!")},fr=()=>{const gr=ir.split(`
`).filter(xr=>xr.trim());console.log("Processing bulk invitations:",gr),alert(`Processing ${gr.length} invitations...`)},mr=async()=>{alert("AI is processing your request: "+or)},pr=()=>{const gr=cr.map(_r=>`${_r.email},${_r.company},${_r.role},${_r.status},${_r.sentAt}`).join(`
`),xr=new Blob([gr],{type:"text/csv"}),yr=window.URL.createObjectURL(xr),Er=document.createElement("a");Er.href=yr,Er.download="invitations.csv",Er.click()};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"User Invitations"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Invite users to PMS companies and manage their access"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:pr,variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"single",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"single",children:"Single Invitation"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"bulk",children:"Bulk Upload"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"ai",children:"AI Assistant"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"history",children:"Invitation History"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"single",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5 mr-2"}),"Send Individual Invitation"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"email",children:"Email Address"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:er,onChange:gr=>St(gr.target.value),placeholder:"user@company.com"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Select$1,{label:"Company",value:tr,onChange:rr,options:dr.map(gr=>({label:gr,value:gr}))})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Select$1,{label:"Role",value:nr,onChange:sr,options:hr.map(gr=>({label:`${gr.label} - ${gr.description}`,value:gr.value}))})}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Invitation Preview"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-800",children:["An invitation will be sent to ",jsxRuntimeExports.jsx("strong",{children:er||"[email]"})," to join",jsxRuntimeExports.jsxs("strong",{children:[" ",tr||"[company]"]})," as a ",jsxRuntimeExports.jsx("strong",{children:nr||"[role]"}),". They will receive an email with a secure link to set their password and access the platform."]})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:Ar,disabled:!er||!tr||!nr,className:"w-full",children:[jsxRuntimeExports.jsx(Send,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"bulk",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 mr-2"}),"Bulk Invitation Upload"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Upload CSV File"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:".csv"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download Template"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"CSV format: email, company, role"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("span",{className:"w-full border-t"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:jsxRuntimeExports.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or paste emails"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"bulkEmails",children:"Email List (one per line)"}),jsxRuntimeExports.jsx("textarea",{id:"bulkEmails",className:"w-full p-2 border rounded-md h-32",value:ir,onChange:gr=>ar(gr.target.value),placeholder:`john@company.com
jane@company.com
admin@pmscorp.com`})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Select$1,{value:"",onChange:()=>{},options:[{label:"Select company for all",value:""},...dr.map(gr=>({label:gr,value:gr}))]}),jsxRuntimeExports.jsx(Select$1,{value:"",onChange:()=>{},options:[{label:"Select role for all",value:""},...hr.map(gr=>({label:gr.label,value:gr.value}))]})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:fr,className:"w-full",children:[jsxRuntimeExports.jsx(Send,{className:"w-4 h-4 mr-2"}),"Send Bulk Invitations"]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"ai",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Bot,{className:"w-5 h-5 mr-2"}),"AI-Powered Invitations"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"aiPrompt",children:"Describe what you want to do"}),jsxRuntimeExports.jsx("textarea",{id:"aiPrompt",className:"w-full p-3 border rounded-md h-32",value:or,onChange:gr=>lr(gr.target.value),placeholder:`Examples:
- Invite all managers from HealthCo to the platform
- Send invitations to the finance team at PMS Corp
- Create admin accounts for john@company.com and jane@company.com
- Invite 5 HR managers to different companies`})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"AI Capabilities"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:" Natural language processing for bulk operations"}),jsxRuntimeExports.jsx("li",{children:" Smart role assignment based on job titles"}),jsxRuntimeExports.jsx("li",{children:" Company matching and validation"}),jsxRuntimeExports.jsx("li",{children:" Duplicate detection and prevention"})]})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:mr,className:"w-full",children:[jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4 mr-2"}),"Process with AI"]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"history",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Invitation History"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Input,{placeholder:"Search by email or company..."})}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:cr.map(gr=>jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:gr.email}),jsxRuntimeExports.jsx(Badge,{variant:gr.status==="accepted"?"default":gr.status==="pending"?"secondary":"destructive",children:gr.status})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx(Building2,{className:"w-3 h-3"}),gr.company]}),jsxRuntimeExports.jsx("span",{className:"mx-2",children:""}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx(Shield,{className:"w-3 h-3"}),gr.role]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Sent: ",new Date(gr.sentAt).toLocaleDateString(),gr.acceptedAt&&jsxRuntimeExports.jsxs("span",{children:["  Accepted: ",new Date(gr.acceptedAt).toLocaleDateString()]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:gr.status==="pending"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:"Resend"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:"Revoke"})]})})]})},gr.id))})})]})})]})]})}function CompanyManagement(){const[er]=reactExports.useState([{id:"1",name:"PMS Corp",subdomain:"pmscorp",status:"active",plan:"enterprise",employees:150,activePatients:1200,monthlySpend:15e3,createdAt:"2024-01-15",contact:{name:"John Doe",email:"john@pmscorp.com",phone:"+1 555-0123"},billing:{method:"Credit Card",lastPayment:"2025-01-01",nextPayment:"2025-02-01"},usage:{appointments:450,aiCalls:1200,storage:"45GB"}},{id:"2",name:"HealthCo",subdomain:"healthco",status:"trial",plan:"professional",employees:50,activePatients:400,monthlySpend:0,createdAt:"2025-01-10",trialEndsAt:"2025-02-10",contact:{name:"Jane Smith",email:"jane@healthco.com",phone:"+1 555-0456"},billing:{method:"Not set",lastPayment:"N/A",nextPayment:"Trial"},usage:{appointments:25,aiCalls:80,storage:"2GB"}}]),[St,tr]=reactExports.useState(null),[rr,nr]=reactExports.useState(!1),sr=ar=>{switch(ar){case"active":return"default";case"trial":return"secondary";case"suspended":return"destructive";default:return"outline"}},ir=ar=>{switch(ar){case"enterprise":return"default";case"professional":return"secondary";default:return"outline"}};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Company Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Manage PMS companies and their subscriptions"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>nr(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add New Company"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total Companies"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"34"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"+3 this month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"28"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"82% active rate"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"$212K"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:"+12% growth"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total Patients"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"8,420"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Across all companies"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"all",className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"all",children:"All Companies"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"trial",children:"Trial"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"suspended",children:"Suspended"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"all",className:"space-y-4",children:er.map(ar=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-lg transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-gray-500"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:ar.name}),jsxRuntimeExports.jsx(Badge,{variant:sr(ar.status),children:ar.status}),jsxRuntimeExports.jsx(Badge,{variant:ir(ar.plan),children:ar.plan})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Subdomain"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4"}),ar.subdomain,".insperityhealth.com"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Employees"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),ar.employees]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Active Patients"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),ar.activePatients]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Spend"}),jsxRuntimeExports.jsxs("p",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),"$",ar.monthlySpend.toLocaleString()]})]})]}),ar.trialEndsAt&&jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-yellow-50 p-3 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-4 h-4 text-yellow-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-yellow-800",children:["Trial ends on ",new Date(ar.trialEndsAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contact"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:ar.contact.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),ar.contact.email]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Phone,{className:"w-3 h-3"}),ar.contact.phone]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Billing"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),ar.billing.method]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Next: ",ar.billing.nextPayment]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Usage This Month"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Appointments"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:ar.usage.appointments})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"AI Calls"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:ar.usage.aiCalls})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Storage"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:ar.usage.storage})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 ml-4",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>tr(ar),children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"})})]})]})})},ar.id))})]}),rr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-auto",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Create New Company"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Company Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"Acme Healthcare"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Subdomain"}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx(Input,{placeholder:"acme"}),jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-500 bg-gray-50 border border-l-0 rounded-r-md",children:".insperityhealth.com"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Plan"}),jsxRuntimeExports.jsxs("select",{className:"w-full p-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{children:"Starter - $299/mo"}),jsxRuntimeExports.jsx("option",{children:"Professional - $999/mo"}),jsxRuntimeExports.jsx("option",{children:"Enterprise - Custom"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Trial Period"}),jsxRuntimeExports.jsxs("select",{className:"w-full p-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{children:"14 days"}),jsxRuntimeExports.jsx("option",{children:"30 days"}),jsxRuntimeExports.jsx("option",{children:"No trial"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Primary Contact"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"John Doe"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Email"}),jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"john@company.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Phone"}),jsxRuntimeExports.jsx(Input,{placeholder:"+1 555-0123"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>nr(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{children:"Create Company"})]})]})]})})]})}function OwnerFeatures(){const er=useNavigate(),St=[{category:"User & Company Management",icon:Users,color:"bg-blue-500",items:[{title:"User Invitations System",description:"Invite users to PMS companies with role-based access",features:["Single & bulk email invitations","AI-powered bulk operations","Role assignment (Admin, Manager, HR, Finance, Viewer)","Email templates with secure password setup links","Invitation tracking and history","CSV import/export capabilities"],path:"/owner/user-invitations"},{title:"Company Management",description:"Complete control over PMS companies",features:["Create and manage companies","Custom subdomains (company.insperityhealth.com)","Subscription plan management","Usage monitoring and limits","Company-specific branding","Trial period management"],path:"/owner/company-management"}]},{category:"Platform Intelligence",icon:Brain,color:"bg-purple-500",items:[{title:"AI Command Center",description:"Natural language platform control",features:["Ask questions like 'Show companies ready to upgrade'","Automated insights and recommendations","Revenue opportunity detection","Churn risk alerts","Growth pattern analysis","Smart report generation"],path:"/owner/platform"},{title:"Real-time Analytics",description:"Comprehensive platform metrics",features:["Revenue tracking and projections","User engagement analytics","API usage monitoring","System health dashboard","Custom report builder","Export capabilities"],path:"/owner/reports"}]},{category:"Billing & Revenue",icon:DollarSign,color:"bg-green-500",items:[{title:"Subscription Management",description:"Complete billing control",features:["Plan creation and pricing","Invoice generation and sending","Payment processing","Billing statements","Revenue forecasting","Payout management"],path:"/owner/billing-statement"},{title:"Financial Analytics",description:"Deep revenue insights",features:["Spending trends analysis","Company-wise revenue breakdown","Invoice tracking","Payment history","Financial reports","Tax documentation"],path:"/owner/spending-trends"}]},{category:"System Administration",icon:Server,color:"bg-red-500",items:[{title:"Platform Monitoring",description:"System health and performance",features:["Real-time system metrics","CPU, memory, storage monitoring","API performance tracking","Uptime monitoring","Error tracking and alerts","Audit logs"],path:"/owner/audit-logs"},{title:"Security & Compliance",description:"Enterprise-grade security",features:["Role-based access control","Activity logging","Compliance reporting","Data backup management","Security settings","API key management"],path:"/owner/security"}]}],tr=[{label:"Total Companies",value:"34",change:"+3 this month"},{label:"Active Users",value:"8,420",change:"+142 this week"},{label:"Monthly Revenue",value:"$212K",change:"+12% growth"},{label:"Platform Uptime",value:"99.9%",change:"Excellent"}];return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Insperity Health Owner Portal"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:"Complete platform control with AI-powered management"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:tr.map((rr,nr)=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:rr.label}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:rr.value}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:rr.change})]})},nr))}),jsxRuntimeExports.jsx("div",{className:"text-center mb-8",children:jsxRuntimeExports.jsxs(Button$1,{size:"lg",onClick:()=>er("/owner"),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 mr-2"}),"Access Platform Dashboard"]})}),jsxRuntimeExports.jsx("div",{className:"space-y-8",children:St.map((rr,nr)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${rr.color}`,children:jsxRuntimeExports.jsx(rr.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:rr.category})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:rr.items.map((sr,ir)=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:sr.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:sr.description})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("ul",{className:"space-y-2 mb-4",children:sr.features.map((ar,or)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:ar})]},or))}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"w-full",onClick:()=>er(sr.path),children:["Explore ",sr.title]})]})]},ir))})]},nr))}),jsxRuntimeExports.jsxs(Card,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Additional Platform Features"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),"White-Label Support"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Custom branding, domains, and complete white-label solution for each company"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),"Enterprise Security"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"HIPAA compliant, SOC 2 certified, end-to-end encryption, and audit trails"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}),"API Integration"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"RESTful APIs, webhooks, and integrations with popular healthcare systems"})]})]})})]})]})})}const invoices$1=[{employer:"Sunset Wellness",period:"Jul 1 - Jul 31",total:"$8,300",status:"Paid",pdfLink:"#"},{employer:"Glow Tech Inc.",period:"Jul 1 - Jul 31",total:"$14,200",status:"Pending",pdfLink:"#"},{employer:"Horizon Labs",period:"Jul 1 - Jul 31",total:"$18,500",status:"Generated",pdfLink:"#"}];function OwnerInvoices(){const[er,St]=reactExports.useState("All"),tr=er==="All"?invoices$1:invoices$1.filter(rr=>rr.status===er);return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Invoices"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>alert("AI Summary Coming Soon"),children:"Summarize with AI"})]}),jsxRuntimeExports.jsx(Tabs,{tabs:["All","Paid","Pending","Generated"],active:er,onSelect:St}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:tr.map((rr,nr)=>jsxRuntimeExports.jsxs(Card,{title:rr.employer,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Period: ",rr.period]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Amount: ",jsxRuntimeExports.jsx("strong",{children:rr.total})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-3",children:[jsxRuntimeExports.jsx(Badge,{label:rr.status,color:rr.status==="Paid"?"green":rr.status==="Pending"?"yellow":"blue"}),jsxRuntimeExports.jsx("a",{href:rr.pdfLink,children:jsxRuntimeExports.jsx(Button$1,{variant:"secondary",children:"Download PDF"})})]})]},nr))})]})}const employers=[{name:"Sunset Wellness",logo:"/logos/sunset.png",activeUsers:183,plan:"Gold",status:"Active",primaryColor:"#f97316"},{name:"Glow Tech Inc.",logo:"/logos/glowtech.png",activeUsers:412,plan:"Platinum",status:"Pending",primaryColor:"#3b82f6"},{name:"Horizon Labs",logo:"/logos/horizon.png",activeUsers:109,plan:"Silver",status:"Suspended",primaryColor:"#10b981"}];function EmployersPage(){return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Employers"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>alert("AI Tools Coming Soon"),children:"AI Summarize"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:employers.map((er,St)=>jsxRuntimeExports.jsxs(Card,{title:er.name,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("img",{src:er.logo,alt:"Logo",className:"w-10 h-10 rounded-full object-cover border"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700",children:["Users: ",er.activeUsers]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700",children:["Plan: ",er.plan]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[jsxRuntimeExports.jsx(Badge,{label:er.status,color:er.status==="Active"?"green":er.status==="Pending"?"yellow":"red"}),jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>alert(`Previewing ${er.name} brand`),children:"Preview Brand"})]})]},St))})]})}const revenueData=[{month:"Jan",revenue:95e3},{month:"Feb",revenue:112e3},{month:"Mar",revenue:132e3},{month:"Apr",revenue:148e3},{month:"May",revenue:174e3},{month:"Jun",revenue:201e3},{month:"Jul",revenue:212540}],topEmployers=[{name:"Glow Tech",patients:412},{name:"Sunset Wellness",patients:183},{name:"Horizon Labs",patients:109},{name:"ElevateX",patients:94},{name:"BioPulse",patients:62}];function ReportsPage(){const[er,St]=reactExports.useState("Revenue");return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 flex justify-between items-center",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Reports"})}),jsxRuntimeExports.jsx(Tabs,{tabs:["Revenue","Top Employers"],active:er,onSelect:St}),er==="Revenue"&&jsxRuntimeExports.jsx(Card,{title:"Monthly Revenue Growth",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:revenueData,children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3})]})})}),er==="Top Employers"&&jsxRuntimeExports.jsx(Card,{title:"Top Employers by Active Patients",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(BarChart,{data:topEmployers,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"patients",fill:"#10b981"})]})})})]})}const payoutData=[{company:"Glow Tech Inc.",amount:"$14,200",status:"Processing",date:"2025-07-20"},{company:"Sunset Wellness",amount:"$8,300",status:"Paid",date:"2025-07-19"},{company:"Horizon Labs",amount:"$18,500",status:"Scheduled",date:"2025-07-25"},{company:"BioPulse",amount:"$6,000",status:"Paid",date:"2025-07-18"},{company:"ElevateX",amount:"$10,750",status:"Processing",date:"2025-07-21"}];function PayoutsPage(){const[er,St]=reactExports.useState("All"),tr=er==="All"?payoutData:payoutData.filter(rr=>rr.status===er);return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payouts"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>alert("CSV Export Coming Soon"),children:"Export CSV"}),jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>alert("PDF Download Coming Soon"),children:"Download PDF"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Select$1,{label:"Filter by Status",value:er,onChange:rr=>St(rr.target.value),options:[{label:"All",value:"All"},{label:"Scheduled",value:"Scheduled"},{label:"Processing",value:"Processing"},{label:"Paid",value:"Paid"}]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:tr.map((rr,nr)=>jsxRuntimeExports.jsxs(Card,{title:rr.company,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Amount: ",jsxRuntimeExports.jsx("strong",{children:rr.amount})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Date: ",rr.date]}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(Badge,{label:rr.status,color:rr.status==="Paid"?"green":rr.status==="Processing"?"yellow":"blue"})})]},nr))})]})}const invoiceMap=[{employer:"Glow Tech Inc.",invoices:[{date:"Jul 2025",amount:"$14,200",status:"Paid"},{date:"Jun 2025",amount:"$13,800",status:"Paid"},{date:"May 2025",amount:"$12,500",status:"Paid"}]},{employer:"Sunset Wellness",invoices:[{date:"Jul 2025",amount:"$8,300",status:"Paid"},{date:"Jun 2025",amount:"$7,900",status:"Paid"}]},{employer:"Horizon Labs",invoices:[{date:"Jul 2025",amount:"$18,500",status:"Processing"},{date:"Jun 2025",amount:"$18,300",status:"Paid"}]}];function EmployerInvoicesPage(){return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Employer Invoice Summaries"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:invoiceMap.map((er,St)=>jsxRuntimeExports.jsx(Card,{title:er.employer,children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:er.invoices.map((tr,rr)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700",children:tr.date}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",tr.amount]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{label:tr.status,color:tr.status==="Paid"?"green":tr.status==="Processing"?"yellow":"gray"}),jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>alert("Download PDF"),children:"PDF"})]})]},rr))})},St))})]})}function Textarea({label:er,...St}){return jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[er&&jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:er}),jsxRuntimeExports.jsx("textarea",{...St,className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white/90 backdrop-blur"})]})}function EmployerBranding(){const[er,St]=reactExports.useState({primary_color:"#3B82F6",assistant_voice:"Rachel",tagline:"",logo_url:"",favicon_url:"",invoice_header:"",invoice_footer:"",notification_sender_name:"Insperity Health"}),[tr,rr]=reactExports.useState(null),[nr,sr]=reactExports.useState(null),[ir,ar]=reactExports.useState(!0);reactExports.useEffect(()=>{or()},[]);async function or(){try{const{data:{user:ur}}=await supabase.auth.getUser();if(!ur)return;const{data:dr}=await supabase.from("employers").select("*").eq("owner_id",ur.id).maybeSingle();dr&&St({primary_color:dr.primary_color||"#3B82F6",assistant_voice:dr.voice_profile||"Rachel",tagline:dr.tagline||"",logo_url:dr.logo_url||"",favicon_url:dr.favicon_url||"",invoice_header:dr.invoice_header||"",invoice_footer:dr.invoice_footer||"",notification_sender_name:dr.notification_sender_name||"Insperity Health"})}catch(ur){console.error("Error loading employer data:",ur)}finally{ar(!1)}}function lr(ur,dr){St({...er,[ur]:dr})}async function cr(){const{data:{user:ur}}=await supabase.auth.getUser();if(!ur)return;const{data:dr}=await supabase.from("employers").select("id").eq("owner_id",ur.id).maybeSingle();if(dr){if(tr){const hr=`${Date.now()}-${tr.name}`;await supabase.storage.from("branding").upload(hr,tr,{upsert:!0});const{data:{publicUrl:Ar}}=supabase.storage.from("branding").getPublicUrl(hr);er.logo_url=Ar}if(nr){const hr=`${Date.now()}-${nr.name}`;await supabase.storage.from("branding").upload(hr,nr,{upsert:!0});const{data:{publicUrl:Ar}}=supabase.storage.from("branding").getPublicUrl(hr);er.favicon_url=Ar}await supabase.from("employers").update(er).eq("id",dr.id),alert("Branding saved!")}}return ir?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-3xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading branding settings..."})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Branding Configuration"}),jsxRuntimeExports.jsxs(Card,{title:"Color & Tagline",children:[jsxRuntimeExports.jsx(Input,{label:"Primary Color",type:"color",value:er.primary_color,onChange:ur=>lr("primary_color",ur.target.value)}),jsxRuntimeExports.jsx(Input,{label:"Tagline",value:er.tagline,onChange:ur=>lr("tagline",ur.target.value)})]}),jsxRuntimeExports.jsx(Card,{title:"Logo",children:jsxRuntimeExports.jsx("input",{type:"file",onChange:ur=>{var dr;return rr(((dr=ur.target.files)==null?void 0:dr[0])||null)}})}),jsxRuntimeExports.jsx(Card,{title:"Favicon",children:jsxRuntimeExports.jsx("input",{type:"file",accept:"image/x-icon,image/png",onChange:ur=>{var dr;return sr(((dr=ur.target.files)==null?void 0:dr[0])||null)}})}),jsxRuntimeExports.jsx(Card,{title:"Assistant Voice",children:jsxRuntimeExports.jsxs("select",{value:er.assistant_voice,onChange:ur=>lr("assistant_voice",ur.target.value),className:"w-full p-2 border rounded text-sm",children:[jsxRuntimeExports.jsx("option",{value:"Rachel",children:"Rachel"}),jsxRuntimeExports.jsx("option",{value:"Bella",children:"Bella"}),jsxRuntimeExports.jsx("option",{value:"Adam",children:"Adam"})]})}),jsxRuntimeExports.jsx(Card,{title:"Invoice Customization",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Input,{label:"Invoice Header Text",value:er.invoice_header,onChange:ur=>lr("invoice_header",ur.target.value),placeholder:"e.g. Insperity Health  Employee Wellness Platform"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Textarea,{label:"Invoice Footer Text",rows:4,value:er.invoice_footer,onChange:ur=>lr("invoice_footer",ur.target.value),placeholder:"e.g. Powered by Insperity AI. For questions, contact billing@yourcompany.com"})})]})}),jsxRuntimeExports.jsx(Card,{title:"Notification Settings",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{label:"Notification Sender Name",value:er.notification_sender_name,onChange:ur=>lr("notification_sender_name",ur.target.value),placeholder:"e.g. Acme Health Team"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name will appear as the sender in emails, SMS messages, and notifications sent to your employees"})]})})}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx(Button$1,{onClick:cr,children:"Save"})})]})}const voices$1=[{name:"Rachel",sample:"https://cdn.elevenlabs.io/samples/rachel.mp3"},{name:"Adam",sample:"https://cdn.elevenlabs.io/samples/adam.mp3"},{name:"Bella",sample:"https://cdn.elevenlabs.io/samples/bella.mp3"}];function VoiceSelector(){const[er,St]=reactExports.useState("");return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Choose Default Voice"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:voices$1.map(tr=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("p",{className:"text-md font-medium mb-2",children:tr.name}),jsxRuntimeExports.jsx("audio",{controls:!0,src:tr.sample,className:"w-full"}),jsxRuntimeExports.jsx(Button$1,{variant:er===tr.name?"primary":"secondary",onClick:()=>St(tr.name),className:"mt-2",children:er===tr.name?"Selected":"Select"})]},tr.name))})]})}const statements=[{company:"Glow Tech",period:"Jul 2025",items:[{label:"Active Members (412  $35)",amount:"$14,420"},{label:"Appointment Fees (12 visits)",amount:"$1,200"},{label:"Voice AI Add-on",amount:"$300"}],total:"$15,920"},{company:"Sunset Wellness",period:"Jul 2025",items:[{label:"Active Members (183  $30)",amount:"$5,490"}],total:"$5,490"}];function BillingStatement(){return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Billing Statements"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:statements.map((er,St)=>jsxRuntimeExports.jsxs(Card,{title:`${er.company}  ${er.period}`,children:[jsxRuntimeExports.jsx("ul",{className:"text-sm text-gray-700 space-y-1 mb-2",children:er.items.map((tr,rr)=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:tr.label}),jsxRuntimeExports.jsx("span",{children:tr.amount})]},rr))}),jsxRuntimeExports.jsxs("p",{className:"text-right text-md font-semibold text-gray-800",children:["Total: ",er.total]})]},St))})]})}const invoices=[{employer:"Glow Tech Inc.",month:"2025-07",amount:"$14,200",status:"Paid",pdf:"https://.../glow-2025-07.pdf"},{employer:"Sunset Wellness",month:"2025-07",amount:"$8,300",status:"Pending",pdf:"https://.../sunset-2025-07.pdf"}];function InvoiceAdmin(){const[er,St]=reactExports.useState("All"),tr=er==="All"?invoices:invoices.filter(rr=>rr.status===er);return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"All Employer Invoices"}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx(Select$1,{label:"Filter by Status",value:er,onChange:rr=>St(rr.target.value),options:[{label:"All",value:"All"},{label:"Pending",value:"Pending"},{label:"Paid",value:"Paid"},{label:"Processing",value:"Processing"}]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:tr.map((rr,nr)=>jsxRuntimeExports.jsxs(Card,{title:`${rr.employer}  ${rr.month}`,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Amount: ",rr.amount]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-3",children:[jsxRuntimeExports.jsx(Badge,{label:rr.status,color:rr.status==="Paid"?"green":"yellow"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>window.open(rr.pdf),children:"PDF"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>alert("Mark as Paid"),children:"Mark Paid"})]})]})]},nr))})]})}const data=[{employer:"Glow Tech",total:15920},{employer:"Sunset Wellness",total:5490},{employer:"ElevateX",total:10750}];function SpendingTrends(){return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Employer Spend Comparison"}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(BarChart,{data,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"employer"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"total",fill:"#3b82f6"})]})})})]})}const models=[{value:"gpt-4",label:"GPT-4 (Most Capable)"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo (Fast)"},{value:"claude-3-opus",label:"Claude 3 Opus (Advanced)"},{value:"claude-3-sonnet",label:"Claude 3 Sonnet (Balanced)"},{value:"gemini-pro",label:"Gemini Pro (Google)"}],tones=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"concise",label:"Concise"},{value:"detailed",label:"Detailed"},{value:"casual",label:"Casual"}],voices=[{value:"Rachel",label:"Rachel (Female, American)"},{value:"Adam",label:"Adam (Male, American)"},{value:"Bella",label:"Bella (Female, American)"},{value:"Domi",label:"Domi (Female, American)"},{value:"Antoni",label:"Antoni (Male, American)"},{value:"Elli",label:"Elli (Female, American)"},{value:"Josh",label:"Josh (Male, American)"},{value:"Arnold",label:"Arnold (Male, American)"},{value:"Sam",label:"Sam (Male, American)"}];function AssistantConfig(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(""),[nr,sr]=reactExports.useState({assistant_model:"gpt-4",assistant_tone:"professional",assistant_voice:"Rachel",assistant_temp:.7}),[ir,ar]=reactExports.useState(!1);reactExports.useEffect(()=>{or()},[]),reactExports.useEffect(()=>{tr&&lr(tr)},[tr]);const or=async()=>{const{data:ur,error:dr}=await supabase.from("employers").select("*").order("name");!dr&&ur&&(St(ur),ur.length>0&&rr(ur[0].id))},lr=async ur=>{const dr=er.find(hr=>hr.id===ur);dr&&sr({assistant_model:dr.assistant_model||"gpt-4",assistant_tone:dr.assistant_tone||"professional",assistant_voice:dr.assistant_voice||"Rachel",assistant_temp:dr.assistant_temp||.7})},cr=async()=>{if(!tr)return;ar(!0);const{error:ur}=await supabase.from("employers").update(nr).eq("id",tr);ur?alert("Failed to save configuration"):(alert("Configuration saved successfully"),or()),ar(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"AI Assistant Configuration"}),jsxRuntimeExports.jsx(Card,{title:"Select Employer",className:"mb-6",children:jsxRuntimeExports.jsx(Select$1,{label:"Choose Employer",value:tr,onChange:ur=>rr(ur.target.value),options:[{label:"Select an employer",value:""},...er.map(ur=>({label:ur.name,value:ur.id}))]})}),tr&&jsxRuntimeExports.jsx(Card,{title:"Assistant Settings",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Select$1,{label:"AI Model",value:nr.assistant_model,onChange:ur=>sr({...nr,assistant_model:ur.target.value}),options:models}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose the AI model that powers the assistant"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Select$1,{label:"Conversation Tone",value:nr.assistant_tone,onChange:ur=>sr({...nr,assistant_tone:ur.target.value}),options:tones}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sets how the assistant communicates"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Select$1,{label:"Voice",value:nr.assistant_voice,onChange:ur=>sr({...nr,assistant_voice:ur.target.value}),options:voices}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Voice for text-to-speech responses"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",nr.assistant_temp.toFixed(1)]}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:nr.assistant_temp,onChange:ur=>sr({...nr,assistant_temp:parseFloat(ur.target.value)}),className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[jsxRuntimeExports.jsx("span",{children:"Focused (0.0)"}),jsxRuntimeExports.jsx("span",{children:"Balanced (0.7)"}),jsxRuntimeExports.jsx("span",{children:"Creative (2.0)"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Controls response creativity vs consistency"})]}),jsxRuntimeExports.jsx(Button$1,{onClick:cr,disabled:ir||!tr,variant:"primary",className:"w-full",children:ir?"Saving...":"Save Configuration"})]})})]})}const events=[{date:"2025-07-24",type:"payout",label:"Horizon Labs  $18,500"},{date:"2025-07-20",type:"invoice",label:"Glow Tech Invoice  $14,200"}];function InvoiceCalendar(){const[er,St]=reactExports.useState(new Date),tr=er.toISOString().split("T")[0],rr=events.filter(nr=>nr.date===tr);return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Financial Calendar"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(Calendar$1,{onChange:St,value:er}),jsxRuntimeExports.jsx(Card,{title:`Events on ${tr}`,children:rr.length>0?rr.map((nr,sr)=>jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:[nr.type==="invoice"?"":""," ",nr.label]})},sr)):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No financial events"})})]})]})}const appointments=[{name:"Leo Chavez",date:"2025-07-21",provider:"NP McKinley",type:"Telemed",charge:140,employer:"Glow Tech"},{name:"Emily Turner",date:"2025-07-22",provider:"Dr. Rivas",type:"Follow-up",charge:120,employer:"Glow Tech"}];function AppointmentCharges(){return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Appointment Billing"}),jsxRuntimeExports.jsxs(Card,{title:"July 2025  Glow Tech",children:[jsxRuntimeExports.jsx("ul",{className:"text-sm space-y-2",children:appointments.map((er,St)=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center border-b pb-2",children:[jsxRuntimeExports.jsxs("span",{children:[er.date,"  ",er.name," (",er.type,") w/ ",er.provider]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["$",er.charge]})]},St))}),jsxRuntimeExports.jsx("p",{className:"text-right mt-4 font-semibold text-gray-800",children:"Total: $260"})]})]})}function AuditLogs(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(""),[ir,ar]=reactExports.useState("all"),[or,lr]=reactExports.useState("all"),[cr,ur]=reactExports.useState(0),[dr,hr]=reactExports.useState(0),Ar=50;reactExports.useEffect(()=>{fr()},[cr,nr,ir,or]);const fr=async()=>{rr(!0);try{let xr=supabase.from("audit_log_summary").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(cr*Ar,(cr+1)*Ar-1);nr&&(xr=xr.or(`action.ilike.%${nr}%,user_email.ilike.%${nr}%,user_name.ilike.%${nr}%`)),ir!=="all"&&(xr=xr.ilike("action",`%${ir}%`)),or!=="all"&&(xr=xr.eq("table_name",or));const{data:yr,error:Er,count:_r}=await xr;if(Er)throw Er;St(yr||[]),hr(_r||0)}catch(xr){console.error("Error fetching audit logs:",xr)}finally{rr(!1)}},mr=async()=>{try{const{data:xr,error:yr}=await supabase.from("audit_log_summary").select("*").order("created_at",{ascending:!1}).csv();if(yr)throw yr;const Er=new Blob([xr],{type:"text/csv"}),_r=window.URL.createObjectURL(Er),Sr=document.createElement("a");Sr.href=_r,Sr.download=`audit-logs-${format(new Date,"yyyy-MM-dd")}.csv`,Sr.click(),window.URL.revokeObjectURL(_r)}catch(xr){console.error("Error exporting logs:",xr)}},pr=xr=>xr.includes("INSERT")?"success":xr.includes("UPDATE")?"warning":xr.includes("DELETE")?"destructive":"default",gr=xr=>{switch(xr){case"INSERT":return jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"});case"UPDATE":return jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"});case"DELETE":return jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4 text-red-500"});default:return jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"})}};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Audit Logs"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Track all system activities and changes"})]}),jsxRuntimeExports.jsx(Card,{className:"mb-6 p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search logs...",value:nr,onChange:xr=>sr(xr.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs(Select$1,{value:ir,onValueChange:ar,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Actions"}),jsxRuntimeExports.jsx("option",{value:"login",children:"Login"}),jsxRuntimeExports.jsx("option",{value:"invoice",children:"Invoice"}),jsxRuntimeExports.jsx("option",{value:"employer",children:"Employer"}),jsxRuntimeExports.jsx("option",{value:"system",children:"System"})]}),jsxRuntimeExports.jsxs(Select$1,{value:or,onValueChange:lr,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Tables"}),jsxRuntimeExports.jsx("option",{value:"employers",children:"Employers"}),jsxRuntimeExports.jsx("option",{value:"invoices",children:"Invoices"}),jsxRuntimeExports.jsx("option",{value:"members",children:"Members"}),jsxRuntimeExports.jsx("option",{value:"auth",children:"Authentication"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:mr,variant:"outline",className:"w-full",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"text-left p-4",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"text-left p-4",children:"User"}),jsxRuntimeExports.jsx("th",{className:"text-left p-4",children:"Action"}),jsxRuntimeExports.jsx("th",{className:"text-left p-4",children:"Details"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"text-center p-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})}):er.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"text-center p-8 text-gray-500",children:"No audit logs found"})}):er.map(xr=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:format(new Date(xr.created_at),"MMM dd, yyyy")}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:format(new Date(xr.created_at),"HH:mm:ss")})]})]})}),jsxRuntimeExports.jsx("td",{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:xr.user_name||"System"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:xr.user_email||"Automated"})]})]})}),jsxRuntimeExports.jsx("td",{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[gr(xr.operation),jsxRuntimeExports.jsx(Badge,{variant:pr(xr.action),children:xr.action})]})}),jsxRuntimeExports.jsx("td",{className:"p-4",children:jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("summary",{className:"text-sm text-blue-600 hover:text-blue-800",children:"View Details"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(xr.context,null,2)})]})})]},xr.id))})]})}),dr>Ar&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",cr*Ar+1," to ",Math.min((cr+1)*Ar,dr)," of ",dr," logs"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>ur(Math.max(0,cr-1)),disabled:cr===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),"Previous"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>ur(cr+1),disabled:(cr+1)*Ar>=dr,children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})]})]})}function InvoicesList(){const[er,St]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState("all");reactExports.useEffect(()=>{ir()},[]);const ir=async()=>{try{const{data:hr}=await supabase.from("invoices").select("*").order("month",{ascending:!1});if(hr){const Ar=await Promise.all(hr.map(async fr=>{const{data:mr}=await supabase.from("employers").select("name, logo_url").eq("id",fr.employer_id).single();return{...fr,employer:mr}}));St(Ar)}}catch(hr){console.error("Error fetching invoices:",hr)}finally{rr(!1)}},ar=hr=>{switch(hr){case"paid":return jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4 text-green-600"});case"sent":return jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-blue-600"});case"overdue":return jsxRuntimeExports.jsx(XCircle,{className:"w-4 h-4 text-red-600"});default:return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-600"})}},or=hr=>{switch(hr){case"paid":return"success";case"sent":return"primary";case"overdue":return"destructive";default:return"secondary"}},lr=async hr=>{if(hr.pdf_url)window.open(hr.pdf_url,"_blank");else try{const Ar=await fetch("https://dhycdcugbjchktvqlroz.functions.supabase.co/generate-invoice-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceId:hr.id})});if(Ar.ok){const{pdfUrl:fr}=await Ar.json();window.open(fr,"_blank")}}catch(Ar){console.error("Error generating PDF:",Ar)}},cr=async hr=>{try{await fetch("https://dhycdcugbjchktvqlroz.functions.supabase.co/send-invoice-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceId:hr.id})}),ir()}catch(Ar){console.error("Error sending email:",Ar)}},ur=nr==="all"?er:er.filter(hr=>hr.status===nr),dr=ur.reduce((hr,Ar)=>hr+Ar.total_amount,0);return tr?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Total: $",(dr/100).toFixed(2)]}),jsxRuntimeExports.jsx(Button$1,{variant:"primary",children:"Generate Monthly Invoices"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:["all","draft","sent","paid","overdue"].map(hr=>jsxRuntimeExports.jsxs(Button$1,{variant:nr===hr?"primary":"outline",size:"sm",onClick:()=>sr(hr),children:[hr.charAt(0).toUpperCase()+hr.slice(1),hr!=="all"&&jsxRuntimeExports.jsxs("span",{className:"ml-2",children:["(",er.filter(Ar=>Ar.status===hr).length,")"]})]},hr))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ur.map(hr=>{var Ar;return jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:((Ar=hr.employer)==null?void 0:Ar.name)||"Unknown"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-3 h-3"}),format(new Date(hr.month+"-01"),"MMMM yyyy")]})]}),jsxRuntimeExports.jsx(Badge,{variant:or(hr.status),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[ar(hr.status),hr.status]})})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5"}),(hr.total_amount/100).toFixed(2)]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>lr(hr),children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),"PDF"]}),hr.status==="draft"&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"primary",onClick:()=>cr(hr),children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 mr-1"}),"Send"]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"outline",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-1"}),"View"]})]}),hr.sent_at&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Sent: ",format(new Date(hr.sent_at),"MMM dd, yyyy")]}),hr.paid_at&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Paid: ",format(new Date(hr.paid_at),"MMM dd, yyyy")]})]},hr.id)})}),ur.length===0&&jsxRuntimeExports.jsxs(Card,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"No invoices found"})]})]})}function InvoiceDashboard(){const[er,St]=reactExports.useState({totalRevenue:0,paidInvoices:0,pendingInvoices:0,overdueInvoices:0,averagePaymentTime:0,monthlyGrowth:0}),[tr,rr]=reactExports.useState(!0);reactExports.useEffect(()=>{nr()},[]);const nr=async()=>{try{const{data:sr}=await supabase.from("invoices").select("*").order("month",{ascending:!1});if(sr){const ir=sr.reduce((gr,xr)=>gr+xr.total_amount,0),ar=sr.filter(gr=>gr.status==="paid").length,or=sr.filter(gr=>gr.status==="sent").length,lr=sr.filter(gr=>gr.status==="overdue").length,cr=sr.filter(gr=>gr.status==="paid"&&gr.sent_at&&gr.paid_at),ur=cr.reduce((gr,xr)=>{const yr=new Date(xr.sent_at),Er=new Date(xr.paid_at),_r=Math.floor((Er.getTime()-yr.getTime())/(1e3*60*60*24));return gr+_r},0),dr=cr.length>0?Math.round(ur/cr.length):0,hr=format(new Date,"yyyy-MM"),Ar=format(new Date(new Date().setMonth(new Date().getMonth()-1)),"yyyy-MM"),fr=sr.filter(gr=>gr.month===hr).reduce((gr,xr)=>gr+xr.total_amount,0),mr=sr.filter(gr=>gr.month===Ar).reduce((gr,xr)=>gr+xr.total_amount,0),pr=mr>0?(fr-mr)/mr*100:0;St({totalRevenue:ir,paidInvoices:ar,pendingInvoices:or,overdueInvoices:lr,averagePaymentTime:dr,monthlyGrowth:pr})}}catch(sr){console.error("Error fetching invoice stats:",sr)}finally{rr(!1)}};return tr?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Invoice Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:["$",(er.totalRevenue/100).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 mr-1"}),er.monthlyGrowth.toFixed(1),"% from last month"]})]}),jsxRuntimeExports.jsx(DollarSign,{className:"w-8 h-8 text-green-600"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Paid Invoices"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.paidInvoices}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Avg payment: ",er.averagePaymentTime," days"]})]}),jsxRuntimeExports.jsx(CheckCircle,{className:"w-8 h-8 text-green-600"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er.pendingInvoices}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-orange-600",children:[er.overdueInvoices," overdue"]})]}),jsxRuntimeExports.jsx(Clock,{className:"w-8 h-8 text-orange-600"})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-wrap",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Generate Monthly Invoices"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Calendar$2,{className:"w-4 h-4"}),"Schedule Recurring"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),"Payment Settings"]})]})]}),jsxRuntimeExports.jsx(InvoicesList,{})]})}const ownerRoutes=[{path:"/owner",element:jsxRuntimeExports.jsx(PlatformDashboard,{})},{path:"/owner/features",element:jsxRuntimeExports.jsx(OwnerFeatures,{})},{path:"/owner/dashboard",element:jsxRuntimeExports.jsx(OwnerDashboardPage,{})},{path:"/owner/platform",element:jsxRuntimeExports.jsx(PlatformDashboard,{})},{path:"/owner/user-invitations",element:jsxRuntimeExports.jsx(UserInvitations,{})},{path:"/owner/company-management",element:jsxRuntimeExports.jsx(CompanyManagement,{})},{path:"/owner/invoices",element:jsxRuntimeExports.jsx(OwnerInvoices,{})},{path:"/owner/employers",element:jsxRuntimeExports.jsx(EmployersPage,{})},{path:"/owner/reports",element:jsxRuntimeExports.jsx(ReportsPage,{})},{path:"/owner/payouts",element:jsxRuntimeExports.jsx(PayoutsPage,{})},{path:"/owner/employer-invoices",element:jsxRuntimeExports.jsx(EmployerInvoicesPage,{})},{path:"/owner/branding",element:jsxRuntimeExports.jsx(EmployerBranding,{})},{path:"/owner/voice-selector",element:jsxRuntimeExports.jsx(VoiceSelector,{})},{path:"/owner/billing-statement",element:jsxRuntimeExports.jsx(BillingStatement,{})},{path:"/owner/invoice-admin",element:jsxRuntimeExports.jsx(InvoiceAdmin,{})},{path:"/owner/spending-trends",element:jsxRuntimeExports.jsx(SpendingTrends,{})},{path:"/owner/assistant-config",element:jsxRuntimeExports.jsx(AssistantConfig,{})},{path:"/owner/calendar",element:jsxRuntimeExports.jsx(InvoiceCalendar,{})},{path:"/owner/appointment-charges",element:jsxRuntimeExports.jsx(AppointmentCharges,{})},{path:"/owner/audit-logs",element:jsxRuntimeExports.jsx(AuditLogs,{})},{path:"/owner/invoice-dashboard",element:jsxRuntimeExports.jsx(InvoiceDashboard,{})}];function LoginPortalSelector(){const er=useNavigate(),{branding:St}=useBrandingContext();return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-cyan-100 p-6",children:jsxRuntimeExports.jsxs(motion$1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/60 backdrop-blur-xl border border-white/30 shadow-2xl rounded-3xl max-w-2xl w-full p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[St.logo_url?jsxRuntimeExports.jsx("img",{src:St.logo_url,alt:"Logo",className:"h-10 mx-auto mb-2"}):jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[color:var(--brand-primary)]",children:"Insperity Health"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Welcome to your AI-powered healthcare platform"})]}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>er("/admin/dashboard"),className:"flex flex-col items-center gap-2 bg-sky-600 text-white py-6 rounded-xl shadow hover:bg-sky-700",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Admin Portal"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>er("/provider/dashboard"),className:"flex flex-col items-center gap-2 bg-emerald-600 text-white py-6 rounded-xl shadow hover:bg-emerald-700",children:[jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Provider Portal"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>er("/patient/dashboard"),className:"flex flex-col items-center gap-2 bg-indigo-600 text-white py-6 rounded-xl shadow hover:bg-indigo-700",children:[jsxRuntimeExports.jsx(User,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Patient Portal"})]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-6 text-center text-xs text-gray-400",children:["Powered by AI  ",St.employer_name||"Insperity Health"]})]})})}function redirectByRole(er){switch(er){case"admin":return"/admin/dashboard";case"owner":return"/owner/dashboard";case"provider":return"/provider/dashboard";case"patient":return"/patient/dashboard";default:return"/login"}}function UnauthorizedPage(){const er=useNavigate(),{role:St}=useUser(),tr=()=>{er(St?redirectByRole(St):"/login")};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 p-4",children:jsxRuntimeExports.jsx("div",{className:"max-w-md w-full text-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx(ShieldOff,{className:"w-16 h-16 text-red-400"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button$1,{onClick:tr,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Go to Your Dashboard"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>er("/login"),variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Sign In with Different Account"})]})]})})})}function AppRoutes(){return console.log("[AppRoutes] Rendering routes"),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading..."}),children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LoginPortalSelector,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPortalSelector,{})}),jsxRuntimeExports.jsx(Route,{path:"/unauthorized",element:jsxRuntimeExports.jsx(UnauthorizedPage,{})}),adminRoutes.map(({path:er,element:St})=>jsxRuntimeExports.jsx(Route,{path:er,element:St},er)),providerRoutes.map(({path:er,element:St})=>jsxRuntimeExports.jsx(Route,{path:er,element:St},er)),patientRoutes.map(({path:er,element:St})=>(console.log("[AppRoutes] Mapping patient route:",er),jsxRuntimeExports.jsx(Route,{path:er,element:St},er))),employerRoutes.map(({path:er,element:St})=>jsxRuntimeExports.jsx(Route,{path:er,element:St},er)),ownerRoutes.map(({path:er,element:St})=>jsxRuntimeExports.jsx(Route,{path:er,element:St},er)),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(ErrorPage,{})})]})})}function App(){return console.log("[App] Starting to render"),jsxRuntimeExports.jsx(HelmetProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(BrandingProvider,{children:jsxRuntimeExports.jsx(TenantRouter,{children:jsxRuntimeExports.jsx(AppRoutes,{})})})})})})})}console.log("[main.tsx] React app starting...");const root=client.createRoot(document.getElementById("root"));console.log("[main.tsx] About to render React app...");root.render(jsxRuntimeExports.jsx(React$3.StrictMode,{children:jsxRuntimeExports.jsx(BrandingProvider,{children:jsxRuntimeExports.jsx(App,{})})}));console.log("[main.tsx] React render called");export{Button$1 as B,Card as C,DollarSign as D,FileText as F,Input as I,_typeof as _,Calendar$2 as a,Badge as b,Download as c,commonjsGlobal as d,getDefaultExportFromCjs as g,jsxRuntimeExports as j,reactExports as r,supabase as s,useBranding as u};
