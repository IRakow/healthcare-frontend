import{r as n,s as a,j as t,C as m,B as r}from"./index-fVnNLllJ.js";function u(){const[d,o]=n.useState([]);return n.useEffect(()=>{(async()=>{const e=a.auth.user(),{data:i}=await a.from("appointments").select("*").eq("provider_id",e.id).eq("status","complete").order("date",{descending:!0}),{data:c}=await a.from("patient_timeline_events").select("appointment_id").eq("type","visit").like("label","%SOAP Note%"),l=new Set(c.map(s=>s.appointment_id)),p=i.map(s=>({...s,reviewed:l.has(s.id)}));o(p)})()},[]),t.jsxs("div",{className:"p-6 max-w-screen-lg mx-auto space-y-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:"ðŸ—‚ Visit Review Queue"}),d.map((e,i)=>t.jsxs(m,{title:`${e.date} at ${e.time} â€” ${e.reason}`,children:[t.jsxs("p",{className:"text-sm text-gray-700",children:["Patient ID: ",e.patient_id]}),t.jsxs("p",{className:"text-sm",children:["Status: ",e.reviewed?"âœ… Reviewed":"âš ï¸ Needs Review"]}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx(r,{onClick:()=>window.location.href=`/provider/patient/${e.patient_id}`,children:"View Patient"}),!e.reviewed&&t.jsx(r,{variant:"secondary",onClick:()=>alert("Send SOAP Reminder or Generate Now"),children:"Resolve"})]})]},i))]})}export{u as default};
